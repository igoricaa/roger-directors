var _a=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function rvt(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}),r}var b4e={exports:{}},F4={},x4e={exports:{}},zr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var II=Symbol.for("react.element"),ivt=Symbol.for("react.portal"),ovt=Symbol.for("react.fragment"),svt=Symbol.for("react.strict_mode"),avt=Symbol.for("react.profiler"),lvt=Symbol.for("react.provider"),cvt=Symbol.for("react.context"),uvt=Symbol.for("react.forward_ref"),dvt=Symbol.for("react.suspense"),fvt=Symbol.for("react.memo"),hvt=Symbol.for("react.lazy"),Bce=Symbol.iterator;function pvt(n){return n===null||typeof n!="object"?null:(n=Bce&&n[Bce]||n["@@iterator"],typeof n=="function"?n:null)}var w4e={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_4e=Object.assign,E4e={};function dS(n,e,r){this.props=n,this.context=e,this.refs=E4e,this.updater=r||w4e}dS.prototype.isReactComponent={};dS.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};dS.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function C4e(){}C4e.prototype=dS.prototype;function hQ(n,e,r){this.props=n,this.context=e,this.refs=E4e,this.updater=r||w4e}var pQ=hQ.prototype=new C4e;pQ.constructor=hQ;_4e(pQ,dS.prototype);pQ.isPureReactComponent=!0;var Uce=Array.isArray,S4e=Object.prototype.hasOwnProperty,mQ={current:null},k4e={key:!0,ref:!0,__self:!0,__source:!0};function T4e(n,e,r){var i,o={},s=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)S4e.call(e,i)&&!k4e.hasOwnProperty(i)&&(o[i]=e[i]);var l=arguments.length-2;if(l===1)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(n&&n.defaultProps)for(i in l=n.defaultProps,l)o[i]===void 0&&(o[i]=l[i]);return{$$typeof:II,type:n,key:s,ref:a,props:o,_owner:mQ.current}}function mvt(n,e){return{$$typeof:II,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function gQ(n){return typeof n=="object"&&n!==null&&n.$$typeof===II}function gvt(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(r){return e[r]})}var zce=/\/+/g;function D9(n,e){return typeof n=="object"&&n!==null&&n.key!=null?gvt(""+n.key):e.toString(36)}function Fj(n,e,r,i,o){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case II:case ivt:a=!0}}if(a)return a=n,o=o(a),n=i===""?"."+D9(a,0):i,Uce(o)?(r="",n!=null&&(r=n.replace(zce,"$&/")+"/"),Fj(o,e,r,"",function(u){return u})):o!=null&&(gQ(o)&&(o=mvt(o,r+(!o.key||a&&a.key===o.key?"":(""+o.key).replace(zce,"$&/")+"/")+n)),e.push(o)),1;if(a=0,i=i===""?".":i+":",Uce(n))for(var l=0;l<n.length;l++){s=n[l];var c=i+D9(s,l);a+=Fj(s,e,r,c,o)}else if(c=pvt(n),typeof c=="function")for(n=c.call(n),l=0;!(s=n.next()).done;)s=s.value,c=i+D9(s,l++),a+=Fj(s,e,r,c,o);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function fO(n,e,r){if(n==null)return n;var i=[],o=0;return Fj(n,i,"","",function(s){return e.call(r,s,o++)}),i}function vvt(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(r){(n._status===0||n._status===-1)&&(n._status=1,n._result=r)},function(r){(n._status===0||n._status===-1)&&(n._status=2,n._result=r)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ic={current:null},Nj={transition:null},yvt={ReactCurrentDispatcher:Ic,ReactCurrentBatchConfig:Nj,ReactCurrentOwner:mQ};zr.Children={map:fO,forEach:function(n,e,r){fO(n,function(){e.apply(this,arguments)},r)},count:function(n){var e=0;return fO(n,function(){e++}),e},toArray:function(n){return fO(n,function(e){return e})||[]},only:function(n){if(!gQ(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};zr.Component=dS;zr.Fragment=ovt;zr.Profiler=avt;zr.PureComponent=hQ;zr.StrictMode=svt;zr.Suspense=dvt;zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yvt;zr.cloneElement=function(n,e,r){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=_4e({},n.props),o=n.key,s=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=mQ.current),e.key!==void 0&&(o=""+e.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(c in e)S4e.call(e,c)&&!k4e.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:II,type:n.type,key:o,ref:s,props:i,_owner:a}};zr.createContext=function(n){return n={$$typeof:cvt,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:lvt,_context:n},n.Consumer=n};zr.createElement=T4e;zr.createFactory=function(n){var e=T4e.bind(null,n);return e.type=n,e};zr.createRef=function(){return{current:null}};zr.forwardRef=function(n){return{$$typeof:uvt,render:n}};zr.isValidElement=gQ;zr.lazy=function(n){return{$$typeof:hvt,_payload:{_status:-1,_result:n},_init:vvt}};zr.memo=function(n,e){return{$$typeof:fvt,type:n,compare:e===void 0?null:e}};zr.startTransition=function(n){var e=Nj.transition;Nj.transition={};try{n()}finally{Nj.transition=e}};zr.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};zr.useCallback=function(n,e){return Ic.current.useCallback(n,e)};zr.useContext=function(n){return Ic.current.useContext(n)};zr.useDebugValue=function(){};zr.useDeferredValue=function(n){return Ic.current.useDeferredValue(n)};zr.useEffect=function(n,e){return Ic.current.useEffect(n,e)};zr.useId=function(){return Ic.current.useId()};zr.useImperativeHandle=function(n,e,r){return Ic.current.useImperativeHandle(n,e,r)};zr.useInsertionEffect=function(n,e){return Ic.current.useInsertionEffect(n,e)};zr.useLayoutEffect=function(n,e){return Ic.current.useLayoutEffect(n,e)};zr.useMemo=function(n,e){return Ic.current.useMemo(n,e)};zr.useReducer=function(n,e,r){return Ic.current.useReducer(n,e,r)};zr.useRef=function(n){return Ic.current.useRef(n)};zr.useState=function(n){return Ic.current.useState(n)};zr.useSyncExternalStore=function(n,e,r){return Ic.current.useSyncExternalStore(n,e,r)};zr.useTransition=function(){return Ic.current.useTransition()};zr.version="18.2.0";x4e.exports=zr;var p=x4e.exports;const _t=Tt(p);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bvt=p,xvt=Symbol.for("react.element"),wvt=Symbol.for("react.fragment"),_vt=Object.prototype.hasOwnProperty,Evt=bvt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cvt={key:!0,ref:!0,__self:!0,__source:!0};function A4e(n,e,r){var i,o={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)_vt.call(e,i)&&!Cvt.hasOwnProperty(i)&&(o[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)o[i]===void 0&&(o[i]=e[i]);return{$$typeof:xvt,type:n,key:s,ref:a,props:o,_owner:Evt.current}}F4.Fragment=wvt;F4.jsx=A4e;F4.jsxs=A4e;b4e.exports=F4;var d=b4e.exports;function zx(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}function qp(n){return zx(n)&&typeof n._ref=="string"}function Svt(n){return zx(n)&&qp(n.asset)&&n.asset._ref.startsWith("image-")}function I4e(n){return zx(n)&&typeof n._ref=="string"&&typeof n._dataset=="string"&&typeof n._projectId=="string"}function kvt(n){return zx(n)&&typeof n._id=="string"&&typeof n._type=="string"}function vQ(n){return zx(n)&&typeof n._type=="string"}function fh(n){return zx(n)&&typeof n._key=="string"}function Tvt(n){return n.level==="error"}const Avt=/_key\s*==\s*['"](.*)['"]/,Ivt=/^\d*:\d*$/;function Qu(n){return typeof n=="number"||typeof n=="string"&&/^\[\d+\]$/.test(n)}function ji(n){return typeof n=="string"?Avt.test(n.trim()):typeof n=="object"&&"_key"in n}function ny(n){if(typeof n=="string"&&Ivt.test(n))return!0;if(!Array.isArray(n)||n.length!==2)return!1;const[e,r]=n;return(typeof e=="number"||e==="")&&(typeof r=="number"||r==="")}function Bj(n){return!!n&&(typeof n=="object"||typeof n=="function")}function ka(n){return Bj(n)&&typeof n._type=="string"&&Array.isArray(n.children)&&n.children.every(e=>Bj(e))&&("markDefs"in n?Array.isArray(n.markDefs)&&n.markDefs.every(e=>Bj(e)):!1)&&("style"in n?typeof n.style=="string":!0)}function Yl(n){return Bj(n)&&n._type==="span"&&typeof n.text=="string"&&("marks"in n?Array.isArray(n.marks)&&n.marks.every(e=>typeof e=="string"):!0)}function Dvt(n){return ka(n)&&"listItem"in n&&typeof n.listItem=="string"&&"level"in n&&Number.isInteger(n.level)}function _c(n){return!!n&&(typeof n=="object"||typeof n=="function")}function vf(n){return _c(n)?n.jsonType==="object":!1}function cd(n){return _c(n)?n.jsonType==="array":!1}function Uj(n){return cd(n)&&n.of.some(e=>Pvt(e))}function yQ(n){return cd(n)&&n.of.every(e=>vf(e))}function Rvt(n){return cd(n)&&n.of.every(e=>R4e(e))}function DI(n){return _c(n)?n.jsonType==="boolean":!1}function D4e(n){return _c(n)?n.jsonType==="string":!1}function dx(n){return _c(n)?n.jsonType==="number":!1}function R4e(n){return DI(n)||D4e(n)||dx(n)}function Eg(n){return _c(n)&&(n.name==="reference"||Eg(n.type))}function O4e(n){return _c(n)?typeof n.deprecated<"u":!1}function bQ(n){return _c(n)&&(n.name==="crossDatasetReference"||bQ(n.type))}function xQ(n){return typeof n=="object"&&n!==null&&"title"in n&&"value"in n}function Ovt(n){return _c(n)?Array.isArray(n.annotations)&&Array.isArray(n.decorators):!1}function Pvt(n){if(!_c(n)||!Array.isArray(n.fields))return!1;const e=n.fields.find(Wce),r=n.fields.find(Vce),i=n.fields.find(Hce);return Wce(e)&&Vce(r)&&Hce(i)}function Vce(n){return!_c(n)||n.name!=="style"?!1:_c(n.type)&&n.type.jsonType==="string"}function Hce(n){return!_c(n)||n.name!=="listItem"?!1:_c(n.type)&&n.type.jsonType==="string"}function Wce(n){return!_c(n)||n.name!=="children"||!cd(n.type)?!1:n.type.of.some(Ovt)}function wQ(n,e){return n}function Na(n,e){return n}function jvt(n,e){return n}function Lvt(n){return zx(n)&&typeof n.current=="string"}function $vt(n){return n.level==="error"}function Mvt(n){return n.level==="warning"}const Fvt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Nvt=/_key\s*==\s*['"](.*)['"]/,P4e=[],j4e="$";function fS(n,e,r){const i=typeof e=="string"?hh(e):e;if(!Array.isArray(i))throw new Error("Path must be an array or a string");let o=n;for(let s=0;s<i.length;s++){const a=i[s];if(Qu(a)){if(!Array.isArray(o))return r;o=o[a]}if(ji(a)){if(!Array.isArray(o))return r;o=o.find(l=>l._key===a._key)}if(typeof a=="string"&&(o=typeof o=="object"&&o!==null?o[a]:void 0),typeof o>"u")return r}return o}const R9=new Map;function Fp(n){if(n.length===0)return P4e;const e=ns(n);return R9.has(e)?R9.get(e):(R9.set(e,n),Object.freeze(n),n)}function Ui(n,e){return n.length===e.length&&n.every((r,i)=>N4(r,e[i]))}function Bvt(n,e){const r=Math.min(n.length,e.length);for(let i=0;i<r;i++)if(!N4(n[i],e[i]))return i;return r}function N4(n,e){return ji(n)&&ji(e)?n._key===e._key:Qu(n)?Number(n)===Number(e):ny(n)&&ny(e)?n[0]===e[0]&&n[1]===e[1]:n===e}function Hl(n,e){return n.every((r,i)=>N4(r,e[i]))}function rA(n,e){if(n.length===0||e.length===0)return e;const[r,...i]=n,[o,...s]=e;return N4(r,o)?Fp(rA(i,s)):e}function _Q(n,e){return Hl(n,e)?rA(n,e):P4e}function ns(n){if(!Array.isArray(n))throw new Error("Path is not an array");return n.reduce((e,r,i)=>{const o=typeof r;if(o==="number")return"".concat(e,"[").concat(r,"]");if(o==="string"){const s=i===0?"":".";return"".concat(e).concat(s).concat(r)}if(ji(r)&&r._key)return"".concat(e,'[_key=="').concat(r._key,'"]');if(Array.isArray(r)){const[s,a]=r;return"".concat(e,"[").concat(s,":").concat(a,"]")}throw new Error("Unsupported path segment `".concat(JSON.stringify(r),"`"))},"")}function OW(n,e){if(e.length===0)return e;const[r,...i]=e;if(typeof r=="number"){if(!Array.isArray(n)||!(r in n))return[];const s=n[r];return[typeof(s==null?void 0:s._key)=="string"?{_key:s._key}:r,...OW(s,i)]}const o=fS(n,[r]);return[r,...OW(o,i)]}function Uvt(n,e){if(!Array.isArray(e))throw new Error("Path is not an array");return Fp(OW(n,e))}function hh(n){if(typeof n!="string")throw new Error("Path is not a string");const e=n.match(Fvt);if(!e)throw new Error("Invalid path string");return e.map(zvt)}function zvt(n){return Qu(n)?Vvt(n):ji(n)?Hvt(n):ny(n)?Wvt(n):n}function Vvt(n){return Number(n.replace(/[^\d]/g,""))}function Hvt(n){return{_key:n.match(Nvt)[1]}}function Wvt(n){const[e,r]=n.split(":").map(i=>i===""?i:Number(i));return[e,r]}var Gvt=typeof Element<"u",qvt=typeof Map=="function",Kvt=typeof Set=="function",Yvt=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function zj(n,e){if(n===e)return!0;if(n&&e&&typeof n=="object"&&typeof e=="object"){if(n.constructor!==e.constructor)return!1;var r,i,o;if(Array.isArray(n)){if(r=n.length,r!=e.length)return!1;for(i=r;i--!==0;)if(!zj(n[i],e[i]))return!1;return!0}var s;if(qvt&&n instanceof Map&&e instanceof Map){if(n.size!==e.size)return!1;for(s=n.entries();!(i=s.next()).done;)if(!e.has(i.value[0]))return!1;for(s=n.entries();!(i=s.next()).done;)if(!zj(i.value[1],e.get(i.value[0])))return!1;return!0}if(Kvt&&n instanceof Set&&e instanceof Set){if(n.size!==e.size)return!1;for(s=n.entries();!(i=s.next()).done;)if(!e.has(i.value[0]))return!1;return!0}if(Yvt&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(e)){if(r=n.length,r!=e.length)return!1;for(i=r;i--!==0;)if(n[i]!==e[i])return!1;return!0}if(n.constructor===RegExp)return n.source===e.source&&n.flags===e.flags;if(n.valueOf!==Object.prototype.valueOf&&typeof n.valueOf=="function"&&typeof e.valueOf=="function")return n.valueOf()===e.valueOf();if(n.toString!==Object.prototype.toString&&typeof n.toString=="function"&&typeof e.toString=="function")return n.toString()===e.toString();if(o=Object.keys(n),r=o.length,r!==Object.keys(e).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(e,o[i]))return!1;if(Gvt&&n instanceof Element)return!1;for(i=r;i--!==0;)if(!((o[i]==="_owner"||o[i]==="__v"||o[i]==="__o")&&n.$$typeof)&&!zj(n[o[i]],e[o[i]]))return!1;return!0}return n!==n&&e!==e}var Zvt=function(e,r){try{return zj(e,r)}catch(i){if((i.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw i}};const B4=Tt(Zvt);function Xvt(n,e){for(var r=-1,i=e.length,o=n.length;++r<i;)n[o+r]=e[r];return n}var EQ=Xvt,Qvt=typeof _a=="object"&&_a&&_a.Object===Object&&_a,L4e=Qvt,Jvt=L4e,e0t=typeof self=="object"&&self&&self.Object===Object&&self,t0t=Jvt||e0t||Function("return this")(),yf=t0t,n0t=yf,r0t=n0t.Symbol,hS=r0t,Gce=hS,$4e=Object.prototype,i0t=$4e.hasOwnProperty,o0t=$4e.toString,G2=Gce?Gce.toStringTag:void 0;function s0t(n){var e=i0t.call(n,G2),r=n[G2];try{n[G2]=void 0;var i=!0}catch{}var o=o0t.call(n);return i&&(e?n[G2]=r:delete n[G2]),o}var a0t=s0t,l0t=Object.prototype,c0t=l0t.toString;function u0t(n){return c0t.call(n)}var d0t=u0t,qce=hS,f0t=a0t,h0t=d0t,p0t="[object Null]",m0t="[object Undefined]",Kce=qce?qce.toStringTag:void 0;function g0t(n){return n==null?n===void 0?m0t:p0t:Kce&&Kce in Object(n)?f0t(n):h0t(n)}var Hg=g0t;function v0t(n){return n!=null&&typeof n=="object"}var ud=v0t,y0t=Hg,b0t=ud,x0t="[object Arguments]";function w0t(n){return b0t(n)&&y0t(n)==x0t}var _0t=w0t,Yce=_0t,E0t=ud,M4e=Object.prototype,C0t=M4e.hasOwnProperty,S0t=M4e.propertyIsEnumerable,k0t=Yce(function(){return arguments}())?Yce:function(n){return E0t(n)&&C0t.call(n,"callee")&&!S0t.call(n,"callee")},U4=k0t,T0t=Array.isArray,Gs=T0t,Zce=hS,A0t=U4,I0t=Gs,Xce=Zce?Zce.isConcatSpreadable:void 0;function D0t(n){return I0t(n)||A0t(n)||!!(Xce&&n&&n[Xce])}var R0t=D0t,O0t=EQ,P0t=R0t;function F4e(n,e,r,i,o){var s=-1,a=n.length;for(r||(r=P0t),o||(o=[]);++s<a;){var l=n[s];e>0&&r(l)?e>1?F4e(l,e-1,r,i,o):O0t(o,l):i||(o[o.length]=l)}return o}var pS=F4e,j0t=pS;function L0t(n){var e=n==null?0:n.length;return e?j0t(n,1):[]}var N4e=L0t;const Ji=Tt(N4e);var PW=function(n,e){return PW=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},PW(n,e)};function dd(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");PW(n,e);function r(){this.constructor=n}n.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var jW=function(){return jW=Object.assign||function(e){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},jW.apply(this,arguments)};function $0t(n,e,r,i){function o(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(f){try{u(i.next(f))}catch(h){a(h)}}function c(f){try{u(i.throw(f))}catch(h){a(h)}}function u(f){f.done?s(f.value):o(f.value).then(l,c)}u((i=i.apply(n,e||[])).next())})}function B4e(n,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,o,s,a;return a={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(f){return c([u,f])}}function c(u){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(i=1,o&&(s=u[0]&2?o.return:u[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,u[1])).done)return s;switch(o=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(n,r)}catch(f){u=[6,f],o=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function fx(n){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&n[e],i=0;if(r)return r.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ec(n,e){var r=typeof Symbol=="function"&&n[Symbol.iterator];if(!r)return n;var i=r.call(n),o,s=[],a;try{for(;(e===void 0||e-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(l){a={error:l}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return s}function yu(n,e,r){if(r||arguments.length===2)for(var i=0,o=e.length,s;i<o;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))}function ME(n){return this instanceof ME?(this.v=n,this):new ME(n)}function M0t(n,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(n,e||[]),o,s=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(m){i[m]&&(o[m]=function(g){return new Promise(function(v,y){s.push([m,g,v,y])>1||l(m,g)})})}function l(m,g){try{c(i[m](g))}catch(v){h(s[0][3],v)}}function c(m){m.value instanceof ME?Promise.resolve(m.value.v).then(u,f):h(s[0][2],m)}function u(m){l("next",m)}function f(m){l("throw",m)}function h(m,g){m(g),s.shift(),s.length&&l(s[0][0],s[0][1])}}function F0t(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],r;return e?e.call(n):(n=typeof fx=="function"?fx(n):n[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(s){r[s]=n[s]&&function(a){return new Promise(function(l,c){a=n[s](a),o(l,c,a.done,a.value)})}}function o(s,a,l,c){Promise.resolve(c).then(function(u){s({value:u,done:l})},a)}}function Tr(n){return typeof n=="function"}function CQ(n){var e=function(i){Error.call(i),i.stack=new Error().stack},r=n(e);return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}var O9=CQ(function(n){return function(r){n(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(i,o){return o+1+") "+i.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r}});function hM(n,e){if(n){var r=n.indexOf(e);0<=r&&n.splice(r,1)}}var hx=function(){function n(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return n.prototype.unsubscribe=function(){var e,r,i,o,s;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var l=fx(a),c=l.next();!c.done;c=l.next()){var u=c.value;u.remove(this)}}catch(y){e={error:y}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(e)throw e.error}}else a.remove(this);var f=this.initialTeardown;if(Tr(f))try{f()}catch(y){s=y instanceof O9?y.errors:[y]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var m=fx(h),g=m.next();!g.done;g=m.next()){var v=g.value;try{Qce(v)}catch(y){s=s??[],y instanceof O9?s=yu(yu([],Ec(s)),Ec(y.errors)):s.push(y)}}}catch(y){i={error:y}}finally{try{g&&!g.done&&(o=m.return)&&o.call(m)}finally{if(i)throw i.error}}}if(s)throw new O9(s)}},n.prototype.add=function(e){var r;if(e&&e!==this)if(this.closed)Qce(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(e)}},n.prototype._hasParent=function(e){var r=this._parentage;return r===e||Array.isArray(r)&&r.includes(e)},n.prototype._addParent=function(e){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(e),r):r?[r,e]:e},n.prototype._removeParent=function(e){var r=this._parentage;r===e?this._parentage=null:Array.isArray(r)&&hM(r,e)},n.prototype.remove=function(e){var r=this._finalizers;r&&hM(r,e),e instanceof n&&e._removeParent(this)},n.EMPTY=function(){var e=new n;return e.closed=!0,e}(),n}(),U4e=hx.EMPTY;function z4e(n){return n instanceof hx||n&&"closed"in n&&Tr(n.remove)&&Tr(n.add)&&Tr(n.unsubscribe)}function Qce(n){Tr(n)?n():n.unsubscribe()}var V4e={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},LW={setTimeout:function(n,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=LW.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,yu([n,e],Ec(r))):setTimeout.apply(void 0,yu([n,e],Ec(r)))},clearTimeout:function(n){var e=LW.delegate;return((e==null?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function H4e(n){LW.setTimeout(function(){throw n})}function ry(){}function Vj(n){n()}var SQ=function(n){dd(e,n);function e(r){var i=n.call(this)||this;return i.isStopped=!1,r?(i.destination=r,z4e(r)&&r.add(i)):i.destination=z0t,i}return e.create=function(r,i,o){return new wC(r,i,o)},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(hx),N0t=Function.prototype.bind;function P9(n,e){return N0t.call(n,e)}var B0t=function(){function n(e){this.partialObserver=e}return n.prototype.next=function(e){var r=this.partialObserver;if(r.next)try{r.next(e)}catch(i){hO(i)}},n.prototype.error=function(e){var r=this.partialObserver;if(r.error)try{r.error(e)}catch(i){hO(i)}else hO(e)},n.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(r){hO(r)}},n}(),wC=function(n){dd(e,n);function e(r,i,o){var s=n.call(this)||this,a;if(Tr(r)||!r)a={next:r??void 0,error:i??void 0,complete:o??void 0};else{var l;s&&V4e.useDeprecatedNextContext?(l=Object.create(r),l.unsubscribe=function(){return s.unsubscribe()},a={next:r.next&&P9(r.next,l),error:r.error&&P9(r.error,l),complete:r.complete&&P9(r.complete,l)}):a=r}return s.destination=new B0t(a),s}return e}(SQ);function hO(n){H4e(n)}function U0t(n){throw n}var z0t={closed:!0,next:ry,error:U0t,complete:ry},kQ=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Wg(n){return n}function V0t(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return W4e(n)}function W4e(n){return n.length===0?Wg:n.length===1?n[0]:function(r){return n.reduce(function(i,o){return o(i)},r)}}var Un=function(){function n(e){e&&(this._subscribe=e)}return n.prototype.lift=function(e){var r=new n;return r.source=this,r.operator=e,r},n.prototype.subscribe=function(e,r,i){var o=this,s=W0t(e)?e:new wC(e,r,i);return Vj(function(){var a=o,l=a.operator,c=a.source;s.add(l?l.call(s,c):c?o._subscribe(s):o._trySubscribe(s))}),s},n.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){e.error(r)}},n.prototype.forEach=function(e,r){var i=this;return r=Jce(r),new r(function(o,s){var a=new wC({next:function(l){try{e(l)}catch(c){s(c),a.unsubscribe()}},error:s,complete:o});i.subscribe(a)})},n.prototype._subscribe=function(e){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(e)},n.prototype[kQ]=function(){return this},n.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return W4e(e)(this)},n.prototype.toPromise=function(e){var r=this;return e=Jce(e),new e(function(i,o){var s;r.subscribe(function(a){return s=a},function(a){return o(a)},function(){return i(s)})})},n.create=function(e){return new n(e)},n}();function Jce(n){var e;return(e=n??V4e.Promise)!==null&&e!==void 0?e:Promise}function H0t(n){return n&&Tr(n.next)&&Tr(n.error)&&Tr(n.complete)}function W0t(n){return n&&n instanceof SQ||H0t(n)&&z4e(n)}function G4e(n){return Tr(n==null?void 0:n.lift)}function yi(n){return function(e){if(G4e(e))return e.lift(function(r){try{return n(r,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ur(n,e,r,i,o){return new q4e(n,e,r,i,o)}var q4e=function(n){dd(e,n);function e(r,i,o,s,a,l){var c=n.call(this,r)||this;return c.onFinalize=a,c.shouldUnsubscribe=l,c._next=i?function(u){try{i(u)}catch(f){r.error(f)}}:n.prototype._next,c._error=s?function(u){try{s(u)}catch(f){r.error(f)}finally{this.unsubscribe()}}:n.prototype._error,c._complete=o?function(){try{o()}catch(u){r.error(u)}finally{this.unsubscribe()}}:n.prototype._complete,c}return e.prototype.unsubscribe=function(){var r;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;n.prototype.unsubscribe.call(this),!i&&((r=this.onFinalize)===null||r===void 0||r.call(this))}},e}(SQ);function eh(){return yi(function(n,e){var r=null;n._refCount++;var i=Ur(e,void 0,void 0,void 0,function(){if(!n||n._refCount<=0||0<--n._refCount){r=null;return}var o=n._connection,s=r;r=null,o&&(!s||o===s)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(r=n.connect())})}var G0t=function(n){dd(e,n);function e(r,i){var o=n.call(this)||this;return o.source=r,o.subjectFactory=i,o._subject=null,o._refCount=0,o._connection=null,G4e(r)&&(o.lift=r.lift),o}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype._teardown=function(){this._refCount=0;var r=this._connection;this._subject=this._connection=null,r==null||r.unsubscribe()},e.prototype.connect=function(){var r=this,i=this._connection;if(!i){i=this._connection=new hx;var o=this.getSubject();i.add(this.source.subscribe(Ur(o,void 0,function(){r._teardown(),o.complete()},function(s){r._teardown(),o.error(s)},function(){return r._teardown()}))),i.closed&&(this._connection=null,i=hx.EMPTY)}return i},e.prototype.refCount=function(){return eh()(this)},e}(Un),q0t=CQ(function(n){return function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),ho=function(n){dd(e,n);function e(){var r=n.call(this)||this;return r.closed=!1,r.currentObservers=null,r.observers=[],r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype.lift=function(r){var i=new eue(this,this);return i.operator=r,i},e.prototype._throwIfClosed=function(){if(this.closed)throw new q0t},e.prototype.next=function(r){var i=this;Vj(function(){var o,s;if(i._throwIfClosed(),!i.isStopped){i.currentObservers||(i.currentObservers=Array.from(i.observers));try{for(var a=fx(i.currentObservers),l=a.next();!l.done;l=a.next()){var c=l.value;c.next(r)}}catch(u){o={error:u}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}}})},e.prototype.error=function(r){var i=this;Vj(function(){if(i._throwIfClosed(),!i.isStopped){i.hasError=i.isStopped=!0,i.thrownError=r;for(var o=i.observers;o.length;)o.shift().error(r)}})},e.prototype.complete=function(){var r=this;Vj(function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var i=r.observers;i.length;)i.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var r;return((r=this.observers)===null||r===void 0?void 0:r.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(r){return this._throwIfClosed(),n.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},e.prototype._innerSubscribe=function(r){var i=this,o=this,s=o.hasError,a=o.isStopped,l=o.observers;return s||a?U4e:(this.currentObservers=null,l.push(r),new hx(function(){i.currentObservers=null,hM(l,r)}))},e.prototype._checkFinalizedStatuses=function(r){var i=this,o=i.hasError,s=i.thrownError,a=i.isStopped;o?r.error(s):a&&r.complete()},e.prototype.asObservable=function(){var r=new Un;return r.source=this,r},e.create=function(r,i){return new eue(r,i)},e}(Un),eue=function(n){dd(e,n);function e(r,i){var o=n.call(this)||this;return o.destination=r,o.source=i,o}return e.prototype.next=function(r){var i,o;(o=(i=this.destination)===null||i===void 0?void 0:i.next)===null||o===void 0||o.call(i,r)},e.prototype.error=function(r){var i,o;(o=(i=this.destination)===null||i===void 0?void 0:i.error)===null||o===void 0||o.call(i,r)},e.prototype.complete=function(){var r,i;(i=(r=this.destination)===null||r===void 0?void 0:r.complete)===null||i===void 0||i.call(r)},e.prototype._subscribe=function(r){var i,o;return(o=(i=this.source)===null||i===void 0?void 0:i.subscribe(r))!==null&&o!==void 0?o:U4e},e}(ho),z4=function(n){dd(e,n);function e(r){var i=n.call(this)||this;return i._value=r,i}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(r){var i=n.prototype._subscribe.call(this,r);return!i.closed&&r.next(this._value),i},e.prototype.getValue=function(){var r=this,i=r.hasError,o=r.thrownError,s=r._value;if(i)throw o;return this._throwIfClosed(),s},e.prototype.next=function(r){n.prototype.next.call(this,this._value=r)},e}(ho),TQ={now:function(){return(TQ.delegate||Date).now()},delegate:void 0},K4e=function(n){dd(e,n);function e(r,i,o){r===void 0&&(r=1/0),i===void 0&&(i=1/0),o===void 0&&(o=TQ);var s=n.call(this)||this;return s._bufferSize=r,s._windowTime=i,s._timestampProvider=o,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=i===1/0,s._bufferSize=Math.max(1,r),s._windowTime=Math.max(1,i),s}return e.prototype.next=function(r){var i=this,o=i.isStopped,s=i._buffer,a=i._infiniteTimeWindow,l=i._timestampProvider,c=i._windowTime;o||(s.push(r),!a&&s.push(l.now()+c)),this._trimBuffer(),n.prototype.next.call(this,r)},e.prototype._subscribe=function(r){this._throwIfClosed(),this._trimBuffer();for(var i=this._innerSubscribe(r),o=this,s=o._infiniteTimeWindow,a=o._buffer,l=a.slice(),c=0;c<l.length&&!r.closed;c+=s?1:2)r.next(l[c]);return this._checkFinalizedStatuses(r),i},e.prototype._trimBuffer=function(){var r=this,i=r._bufferSize,o=r._timestampProvider,s=r._buffer,a=r._infiniteTimeWindow,l=(a?1:2)*i;if(i<1/0&&l<s.length&&s.splice(0,s.length-l),!a){for(var c=o.now(),u=0,f=1;f<s.length&&s[f]<=c;f+=2)u=f;u&&s.splice(0,u+1)}},e}(ho),K0t=function(n){dd(e,n);function e(r,i){return n.call(this)||this}return e.prototype.schedule=function(r,i){return this},e}(hx),pM={setInterval:function(n,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=pM.delegate;return o!=null&&o.setInterval?o.setInterval.apply(o,yu([n,e],Ec(r))):setInterval.apply(void 0,yu([n,e],Ec(r)))},clearInterval:function(n){var e=pM.delegate;return((e==null?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0},Y4e=function(n){dd(e,n);function e(r,i){var o=n.call(this,r,i)||this;return o.scheduler=r,o.work=i,o.pending=!1,o}return e.prototype.schedule=function(r,i){var o;if(i===void 0&&(i=0),this.closed)return this;this.state=r;var s=this.id,a=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(a,s,i)),this.pending=!0,this.delay=i,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(a,this.id,i),this},e.prototype.requestAsyncId=function(r,i,o){return o===void 0&&(o=0),pM.setInterval(r.flush.bind(r,this),o)},e.prototype.recycleAsyncId=function(r,i,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return i;i!=null&&pM.clearInterval(i)},e.prototype.execute=function(r,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(r,i);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,i){var o=!1,s;try{this.work(r)}catch(a){o=!0,s=a||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var r=this,i=r.id,o=r.scheduler,s=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,hM(s,this),i!=null&&(this.id=this.recycleAsyncId(o,i,null)),this.delay=null,n.prototype.unsubscribe.call(this)}},e}(K0t),Y0t=1,j9,$W={};function tue(n){return n in $W?(delete $W[n],!0):!1}var Z4e={setImmediate:function(n){var e=Y0t++;return $W[e]=!0,j9||(j9=Promise.resolve()),j9.then(function(){return tue(e)&&n()}),e},clearImmediate:function(n){tue(n)}},Z0t=Z4e.setImmediate,X0t=Z4e.clearImmediate,mM={setImmediate:function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=mM.delegate;return((r==null?void 0:r.setImmediate)||Z0t).apply(void 0,yu([],Ec(n)))},clearImmediate:function(n){var e=mM.delegate;return((e==null?void 0:e.clearImmediate)||X0t)(n)},delegate:void 0},Q0t=function(n){dd(e,n);function e(r,i){var o=n.call(this,r,i)||this;return o.scheduler=r,o.work=i,o}return e.prototype.requestAsyncId=function(r,i,o){return o===void 0&&(o=0),o!==null&&o>0?n.prototype.requestAsyncId.call(this,r,i,o):(r.actions.push(this),r._scheduled||(r._scheduled=mM.setImmediate(r.flush.bind(r,void 0))))},e.prototype.recycleAsyncId=function(r,i,o){var s;if(o===void 0&&(o=0),o!=null?o>0:this.delay>0)return n.prototype.recycleAsyncId.call(this,r,i,o);var a=r.actions;i!=null&&((s=a[a.length-1])===null||s===void 0?void 0:s.id)!==i&&(mM.clearImmediate(i),r._scheduled===i&&(r._scheduled=void 0))},e}(Y4e),nue=function(){function n(e,r){r===void 0&&(r=n.now),this.schedulerActionCtor=e,this.now=r}return n.prototype.schedule=function(e,r,i){return r===void 0&&(r=0),new this.schedulerActionCtor(this,e).schedule(i,r)},n.now=TQ.now,n}(),X4e=function(n){dd(e,n);function e(r,i){i===void 0&&(i=nue.now);var o=n.call(this,r,i)||this;return o.actions=[],o._active=!1,o}return e.prototype.flush=function(r){var i=this.actions;if(this._active){i.push(r);return}var o;this._active=!0;do if(o=r.execute(r.state,r.delay))break;while(r=i.shift());if(this._active=!1,o){for(;r=i.shift();)r.unsubscribe();throw o}},e}(nue),J0t=function(n){dd(e,n);function e(){return n!==null&&n.apply(this,arguments)||this}return e.prototype.flush=function(r){this._active=!0;var i=this._scheduled;this._scheduled=void 0;var o=this.actions,s;r=r||o.shift();do if(s=r.execute(r.state,r.delay))break;while((r=o[0])&&r.id===i&&o.shift());if(this._active=!1,s){for(;(r=o[0])&&r.id===i&&o.shift();)r.unsubscribe();throw s}},e}(X4e),eyt=new J0t(Q0t),ph=new X4e(Y4e),tyt=ph,Vi=new Un(function(n){return n.complete()});function nyt(n){return n?ryt(n):Vi}function ryt(n){return new Un(function(e){return n.schedule(function(){return e.complete()})})}function Q4e(n){return n&&Tr(n.schedule)}function AQ(n){return n[n.length-1]}function V4(n){return Tr(AQ(n))?n.pop():void 0}function RI(n){return Q4e(AQ(n))?n.pop():void 0}function iyt(n,e){return typeof AQ(n)=="number"?n.pop():e}var IQ=function(n){return n&&typeof n.length=="number"&&typeof n!="function"};function J4e(n){return Tr(n==null?void 0:n.then)}function e8e(n){return Tr(n[kQ])}function t8e(n){return Symbol.asyncIterator&&Tr(n==null?void 0:n[Symbol.asyncIterator])}function n8e(n){return new TypeError("You provided "+(n!==null&&typeof n=="object"?"an invalid object":"'"+n+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function oyt(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var r8e=oyt();function i8e(n){return Tr(n==null?void 0:n[r8e])}function o8e(n){return M0t(this,arguments,function(){var r,i,o,s;return B4e(this,function(a){switch(a.label){case 0:r=n.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,ME(r.read())];case 3:return i=a.sent(),o=i.value,s=i.done,s?[4,ME(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,ME(o)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return r.releaseLock(),[7];case 10:return[2]}})})}function s8e(n){return Tr(n==null?void 0:n.getReader)}function Wi(n){if(n instanceof Un)return n;if(n!=null){if(e8e(n))return syt(n);if(IQ(n))return ayt(n);if(J4e(n))return lyt(n);if(t8e(n))return a8e(n);if(i8e(n))return cyt(n);if(s8e(n))return uyt(n)}throw n8e(n)}function syt(n){return new Un(function(e){var r=n[kQ]();if(Tr(r.subscribe))return r.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function ayt(n){return new Un(function(e){for(var r=0;r<n.length&&!e.closed;r++)e.next(n[r]);e.complete()})}function lyt(n){return new Un(function(e){n.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,H4e)})}function cyt(n){return new Un(function(e){var r,i;try{for(var o=fx(n),s=o.next();!s.done;s=o.next()){var a=s.value;if(e.next(a),e.closed)return}}catch(l){r={error:l}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}e.complete()})}function a8e(n){return new Un(function(e){dyt(n,e).catch(function(r){return e.error(r)})})}function uyt(n){return a8e(o8e(n))}function dyt(n,e){var r,i,o,s;return $0t(this,void 0,void 0,function(){var a,l;return B4e(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=F0t(n),c.label=1;case 1:return[4,r.next()];case 2:if(i=c.sent(),!!i.done)return[3,4];if(a=i.value,e.next(a),e.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=c.sent(),o={error:l},[3,11];case 6:return c.trys.push([6,,9,10]),i&&!i.done&&(s=r.return)?[4,s.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function fg(n,e,r,i,o){i===void 0&&(i=0),o===void 0&&(o=!1);var s=e.schedule(function(){r(),o?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!o)return s}function l8e(n,e){return e===void 0&&(e=0),yi(function(r,i){r.subscribe(Ur(i,function(o){return fg(i,n,function(){return i.next(o)},e)},function(){return fg(i,n,function(){return i.complete()},e)},function(o){return fg(i,n,function(){return i.error(o)},e)}))})}function c8e(n,e){return e===void 0&&(e=0),yi(function(r,i){i.add(n.schedule(function(){return r.subscribe(i)},e))})}function fyt(n,e){return Wi(n).pipe(c8e(e),l8e(e))}function hyt(n,e){return Wi(n).pipe(c8e(e),l8e(e))}function pyt(n,e){return new Un(function(r){var i=0;return e.schedule(function(){i===n.length?r.complete():(r.next(n[i++]),r.closed||this.schedule())})})}function myt(n,e){return new Un(function(r){var i;return fg(r,e,function(){i=n[r8e](),fg(r,e,function(){var o,s,a;try{o=i.next(),s=o.value,a=o.done}catch(l){r.error(l);return}a?r.complete():r.next(s)},0,!0)}),function(){return Tr(i==null?void 0:i.return)&&i.return()}})}function u8e(n,e){if(!n)throw new Error("Iterable cannot be null");return new Un(function(r){fg(r,e,function(){var i=n[Symbol.asyncIterator]();fg(r,e,function(){i.next().then(function(o){o.done?r.complete():r.next(o.value)})},0,!0)})})}function gyt(n,e){return u8e(o8e(n),e)}function d8e(n,e){if(n!=null){if(e8e(n))return fyt(n,e);if(IQ(n))return pyt(n,e);if(J4e(n))return hyt(n,e);if(t8e(n))return u8e(n,e);if(i8e(n))return myt(n,e);if(s8e(n))return gyt(n,e)}throw n8e(n)}function Gi(n,e){return e?d8e(n,e):Wi(n)}function Ke(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=RI(n);return Gi(n,r)}function Zl(n,e){var r=Tr(n)?n:function(){return n},i=function(o){return o.error(r())};return new Un(e?function(o){return e.schedule(i,0,o)}:i)}function vyt(n){return!!n&&(n instanceof Un||Tr(n.lift)&&Tr(n.subscribe))}var OI=CQ(function(n){return function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}});function Js(n,e){var r=typeof e=="object";return new Promise(function(i,o){var s=!1,a;n.subscribe({next:function(l){a=l,s=!0},error:o,complete:function(){s?i(a):r?i(e.defaultValue):o(new OI)}})})}function yyt(n,e){var r=typeof e=="object";return new Promise(function(i,o){var s=new wC({next:function(a){i(a),s.unsubscribe()},error:o,complete:function(){r?i(e.defaultValue):o(new OI)}});n.subscribe(s)})}function byt(n){return n instanceof Date&&!isNaN(n)}function Me(n,e){return yi(function(r,i){var o=0;r.subscribe(Ur(i,function(s){i.next(n.call(e,s,o++))}))})}var xyt=Array.isArray;function wyt(n,e){return xyt(e)?n.apply(void 0,yu([],Ec(e))):n(e)}function H4(n){return Me(function(e){return wyt(n,e)})}var _yt=Array.isArray,Eyt=Object.getPrototypeOf,Cyt=Object.prototype,Syt=Object.keys;function f8e(n){if(n.length===1){var e=n[0];if(_yt(e))return{args:e,keys:null};if(kyt(e)){var r=Syt(e);return{args:r.map(function(i){return e[i]}),keys:r}}}return{args:n,keys:null}}function kyt(n){return n&&typeof n=="object"&&Eyt(n)===Cyt}function h8e(n,e){return n.reduce(function(r,i,o){return r[i]=e[o],r},{})}function Da(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=RI(n),i=V4(n),o=f8e(n),s=o.args,a=o.keys;if(s.length===0)return Gi([],r);var l=new Un(p8e(s,r,a?function(c){return h8e(a,c)}:Wg));return i?l.pipe(H4(i)):l}function p8e(n,e,r){return r===void 0&&(r=Wg),function(i){rue(e,function(){for(var o=n.length,s=new Array(o),a=o,l=o,c=function(f){rue(e,function(){var h=Gi(n[f],e),m=!1;h.subscribe(Ur(i,function(g){s[f]=g,m||(m=!0,l--),l||i.next(r(s.slice()))},function(){--a||i.complete()}))},i)},u=0;u<o;u++)c(u)},i)}}function rue(n,e,r){n?fg(r,n,e):e()}function Tyt(n,e,r,i,o,s,a,l){var c=[],u=0,f=0,h=!1,m=function(){h&&!c.length&&!u&&e.complete()},g=function(y){return u<i?v(y):c.push(y)},v=function(y){s&&e.next(y),u++;var b=!1;Wi(r(y,f++)).subscribe(Ur(e,function(x){o==null||o(x),s?g(x):e.next(x)},function(){b=!0},void 0,function(){if(b)try{u--;for(var x=function(){var _=c.shift();a?fg(e,a,function(){return v(_)}):v(_)};c.length&&u<i;)x();m()}catch(_){e.error(_)}}))};return n.subscribe(Ur(e,g,function(){h=!0,m()})),function(){l==null||l()}}function On(n,e,r){return r===void 0&&(r=1/0),Tr(e)?On(function(i,o){return Me(function(s,a){return e(i,s,o,a)})(Wi(n(i,o)))},r):(typeof e=="number"&&(r=e),yi(function(i,o){return Tyt(i,o,n,r)}))}function W4(n){return n===void 0&&(n=1/0),On(Wg,n)}function Ayt(){return W4(1)}function Go(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return Ayt()(Gi(n,RI(n)))}function ms(n){return new Un(function(e){Wi(n()).subscribe(e)})}function Iyt(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=V4(n),i=f8e(n),o=i.args,s=i.keys,a=new Un(function(l){var c=o.length;if(!c){l.complete();return}for(var u=new Array(c),f=c,h=c,m=function(v){var y=!1;Wi(o[v]).subscribe(Ur(l,function(b){y||(y=!0,h--),u[v]=b},function(){return f--},void 0,function(){(!f||!y)&&(h||l.next(s?h8e(s,u):u),l.complete())}))},g=0;g<c;g++)m(g)});return r?a.pipe(H4(r)):a}var Dyt=["addListener","removeListener"],Ryt=["addEventListener","removeEventListener"],Oyt=["on","off"];function Jl(n,e,r,i){if(Tr(r)&&(i=r,r=void 0),i)return Jl(n,e,r).pipe(H4(i));var o=Ec(Lyt(n)?Ryt.map(function(l){return function(c){return n[l](e,c,r)}}):Pyt(n)?Dyt.map(iue(n,e)):jyt(n)?Oyt.map(iue(n,e)):[],2),s=o[0],a=o[1];if(!s&&IQ(n))return On(function(l){return Jl(l,e,r)})(Wi(n));if(!s)throw new TypeError("Invalid event target");return new Un(function(l){var c=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];return l.next(1<u.length?u:u[0])};return s(c),function(){return a(c)}})}function iue(n,e){return function(r){return function(i){return n[r](e,i)}}}function Pyt(n){return Tr(n.addListener)&&Tr(n.removeListener)}function jyt(n){return Tr(n.on)&&Tr(n.off)}function Lyt(n){return Tr(n.addEventListener)&&Tr(n.removeEventListener)}function $yt(n,e,r){return ms(function(){return n()?e:r})}function Za(n,e,r){n===void 0&&(n=0),r===void 0&&(r=tyt);var i=-1;return e!=null&&(Q4e(e)?r=e:i=e),new Un(function(o){var s=byt(n)?+n-r.now():n;s<0&&(s=0);var a=0;return r.schedule(function(){o.closed||(o.next(a++),0<=i?this.schedule(void 0,i):o.complete())},s)})}function ai(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=RI(n),i=iyt(n,1/0),o=n;return o.length?o.length===1?Wi(o[0]):W4(i)(Gi(o,r)):Vi}var DQ=new Un(ry),Myt=Array.isArray;function m8e(n){return n.length===1&&Myt(n[0])?n[0]:n}function Fyt(n,e){return function(r,i){return!n.call(e,r,i)}}function Bn(n,e){return yi(function(r,i){var o=0;r.subscribe(Ur(i,function(s){return n.call(e,s,o++)&&i.next(s)}))})}function RQ(n,e,r){return[Bn(e,r)(Wi(n)),Bn(Fyt(e,r))(Wi(n))]}function Nyt(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return n=m8e(n),n.length===1?Wi(n[0]):new Un(Byt(n))}function Byt(n){return function(e){for(var r=[],i=function(s){r.push(Wi(n[s]).subscribe(Ur(e,function(a){if(r){for(var l=0;l<r.length;l++)l!==s&&r[l].unsubscribe();r=null}e.next(a)})))},o=0;r&&!e.closed&&o<n.length;o++)i(o)}}function Uyt(n,e){return new Un(function(r){var i=n(),o=e(i),s=o?Wi(o):Vi;return s.subscribe(r),function(){i&&i.unsubscribe()}})}function zyt(n){return yi(function(e,r){var i=!1,o=null,s=null,a=!1,l=function(){if(s==null||s.unsubscribe(),s=null,i){i=!1;var u=o;o=null,r.next(u)}a&&r.complete()},c=function(){s=null,a&&r.complete()};e.subscribe(Ur(r,function(u){i=!0,o=u,s||Wi(n(u)).subscribe(s=Ur(r,l,c))},function(){a=!0,(!i||!s||s.closed)&&r.complete()}))})}function Vyt(n,e){return e===void 0&&(e=ph),zyt(function(){return Za(n,e)})}function vi(n){return yi(function(e,r){var i=null,o=!1,s;i=e.subscribe(Ur(r,void 0,void 0,function(a){s=Wi(n(a,vi(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(r)):o=!0})),o&&(i.unsubscribe(),i=null,s.subscribe(r))})}function g8e(n,e,r,i,o){return function(s,a){var l=r,c=e,u=0;s.subscribe(Ur(a,function(f){var h=u++;c=l?n(c,f,h):(l=!0,f),i&&a.next(c)},o&&function(){l&&a.next(c),a.complete()}))}}function v8e(n,e){return yi(g8e(n,e,arguments.length>=2,!1,!0))}var Hyt=function(n,e){return n.push(e),n};function y8e(){return yi(function(n,e){v8e(Hyt,[])(n).subscribe(e)})}function b8e(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=V4(n);return r?V0t(b8e.apply(void 0,yu([],Ec(n))),H4(r)):yi(function(i,o){p8e(yu([i],Ec(m8e(n))))(o)})}function Wyt(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return b8e.apply(void 0,yu([],Ec(n)))}function gM(n,e){return Tr(e)?On(n,e,1):On(n,1)}function Gyt(n){return new Un(function(e){return n.subscribe(e)})}var qyt={connector:function(){return new ho}};function Kyt(n,e){e===void 0&&(e=qyt);var r=e.connector;return yi(function(i,o){var s=r();Wi(n(Gyt(s))).subscribe(o),o.add(i.subscribe(s))})}function OQ(n){return yi(function(e,r){var i=!1,o=null,s=null,a=function(){if(s==null||s.unsubscribe(),s=null,i){i=!1;var l=o;o=null,r.next(l)}};e.subscribe(Ur(r,function(l){s==null||s.unsubscribe(),i=!0,o=l,s=Ur(r,a,ry),Wi(n(l)).subscribe(s)},function(){a(),r.complete()},void 0,function(){o=s=null}))})}function PQ(n,e){return e===void 0&&(e=ph),yi(function(r,i){var o=null,s=null,a=null,l=function(){if(o){o.unsubscribe(),o=null;var u=s;s=null,i.next(u)}};function c(){var u=a+n,f=e.now();if(f<u){o=this.schedule(void 0,u-f),i.add(o);return}l()}r.subscribe(Ur(i,function(u){s=u,a=e.now(),o||(o=e.schedule(c,n),i.add(o))},function(){l(),i.complete()},void 0,function(){s=o=null}))})}function x8e(n){return yi(function(e,r){var i=!1;e.subscribe(Ur(r,function(o){i=!0,r.next(o)},function(){i||r.next(n),r.complete()}))})}function ul(n){return n<=0?function(){return Vi}:yi(function(e,r){var i=0;e.subscribe(Ur(r,function(o){++i<=n&&(r.next(o),n<=i&&r.complete())}))})}function Yyt(){return yi(function(n,e){n.subscribe(Ur(e,ry))})}function G4(n){return Me(function(){return n})}function w8e(n,e){return e?function(r){return Go(e.pipe(ul(1),Yyt()),r.pipe(w8e(n)))}:On(function(r,i){return Wi(n(r,i)).pipe(ul(1),G4(r))})}function _8e(n,e){e===void 0&&(e=ph);var r=Za(n,e);return w8e(function(){return r})}function Zyt(n,e){return yi(function(r,i){var o=new Set;r.subscribe(Ur(i,function(s){var a=n?n(s):s;o.has(a)||(o.add(a),i.next(s))})),e&&Wi(e).subscribe(Ur(i,function(){return o.clear()},ry))})}function Ro(n,e){return e===void 0&&(e=Wg),n=n??Xyt,yi(function(r,i){var o,s=!0;r.subscribe(Ur(i,function(a){var l=e(a);(s||!n(o,l))&&(s=!1,o=l,i.next(a))}))})}function Xyt(n,e){return n===e}function E8e(n){return n===void 0&&(n=Qyt),yi(function(e,r){var i=!1;e.subscribe(Ur(r,function(o){i=!0,r.next(o)},function(){return i?r.complete():r.error(n())}))})}function Qyt(){return new OI}function C8e(n,e){return e?function(r){return r.pipe(C8e(function(i,o){return Wi(n(i,o)).pipe(Me(function(s,a){return e(i,s,o,a)}))}))}:yi(function(r,i){var o=0,s=null,a=!1;r.subscribe(Ur(i,function(l){s||(s=Ur(i,void 0,function(){s=null,a&&i.complete()}),Wi(n(l,o++)).subscribe(s))},function(){a=!0,!s&&i.complete()}))})}function S8e(n){return yi(function(e,r){try{e.subscribe(r)}finally{r.add(n)}})}function k8e(n,e){var r=arguments.length>=2;return function(i){return i.pipe(n?Bn(function(o,s){return n(o,s,i)}):Wg,ul(1),r?x8e(e):E8e(function(){return new OI}))}}function T8e(n,e,r,i){return yi(function(o,s){var a;!e||typeof e=="function"?a=e:(r=e.duration,a=e.element,i=e.connector);var l=new Map,c=function(v){l.forEach(v),v(s)},u=function(v){return c(function(y){return y.error(v)})},f=0,h=!1,m=new q4e(s,function(v){try{var y=n(v),b=l.get(y);if(!b){l.set(y,b=i?i():new ho);var x=g(y,b);if(s.next(x),r){var _=Ur(b,function(){b.complete(),_==null||_.unsubscribe()},void 0,void 0,function(){return l.delete(y)});m.add(Wi(r(x)).subscribe(_))}}b.next(a?a(v):v)}catch(w){u(w)}},function(){return c(function(v){return v.complete()})},u,function(){return l.clear()},function(){return h=!0,f===0});o.subscribe(m);function g(v,y){var b=new Un(function(x){f++;var _=y.subscribe(x);return function(){_.unsubscribe(),--f===0&&h&&m.unsubscribe()}});return b.key=v,b}})}function Jyt(n){return n<=0?function(){return Vi}:yi(function(e,r){var i=[];e.subscribe(Ur(r,function(o){i.push(o),n<i.length&&i.shift()},function(){var o,s;try{for(var a=fx(i),l=a.next();!l.done;l=a.next()){var c=l.value;r.next(c)}}catch(u){o={error:u}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(o)throw o.error}}r.complete()},void 0,function(){i=null}))})}function e1t(n,e){var r=arguments.length>=2;return function(i){return i.pipe(n?Bn(function(o,s){return n(o,s,i)}):Wg,Jyt(1),r?x8e(e):E8e(function(){return new OI}))}}var t1t=On;function iy(n,e,r){return r===void 0&&(r=1/0),Tr(e)?On(function(){return n},e,r):(typeof e=="number"&&(r=e),On(function(){return n},r))}function n1t(n,e){var r=Tr(n)?n:function(){return n};return Tr(e)?Kyt(e,{connector:r}):function(i){return new G0t(i,r)}}function th(n,e,r,i){r&&!Tr(r)&&(i=r);var o=Tr(r)?r:void 0;return function(s){return n1t(new K4e(n,e,i),o)(s)}}function rd(n,e){return yi(g8e(n,e,arguments.length>=2,!0))}function id(n){n===void 0&&(n={});var e=n.connector,r=e===void 0?function(){return new ho}:e,i=n.resetOnError,o=i===void 0?!0:i,s=n.resetOnComplete,a=s===void 0?!0:s,l=n.resetOnRefCountZero,c=l===void 0?!0:l;return function(u){var f,h,m,g=0,v=!1,y=!1,b=function(){h==null||h.unsubscribe(),h=void 0},x=function(){b(),f=m=void 0,v=y=!1},_=function(){var w=f;x(),w==null||w.unsubscribe()};return yi(function(w,C){g++,!y&&!v&&b();var S=m=m??r();C.add(function(){g--,g===0&&!y&&!v&&(h=L9(_,c))}),S.subscribe(C),!f&&g>0&&(f=new wC({next:function(T){return S.next(T)},error:function(T){y=!0,b(),h=L9(x,o,T),S.error(T)},complete:function(){v=!0,b(),h=L9(x,a),S.complete()}}),Wi(w).subscribe(f))})(u)}}function L9(n,e){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e===!0){n();return}if(e!==!1){var o=new wC({next:function(){o.unsubscribe(),n()}});return Wi(e.apply(void 0,yu([],Ec(r)))).subscribe(o)}}function Hs(n,e,r){var i,o,s,a,l=!1;return n&&typeof n=="object"?(i=n.bufferSize,a=i===void 0?1/0:i,o=n.windowTime,e=o===void 0?1/0:o,s=n.refCount,l=s===void 0?!1:s,r=n.scheduler):a=n??1/0,id({connector:function(){return new K4e(a,e,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}function A8e(n){return Bn(function(e,r){return n<=r})}function ca(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=RI(n);return yi(function(i,o){(r?Go(n,i,r):Go(n,i)).subscribe(o)})}function gn(n,e){return yi(function(r,i){var o=null,s=0,a=!1,l=function(){return a&&!o&&i.complete()};r.subscribe(Ur(i,function(c){o==null||o.unsubscribe();var u=0,f=s++;Wi(n(c,f)).subscribe(o=Ur(i,function(h){return i.next(e?e(c,h,f,u++):h)},function(){o=null,l()}))},function(){a=!0,l()}))})}function r1t(n,e){return Tr(e)?gn(function(){return n},e):gn(function(){return n})}function q4(n){return yi(function(e,r){Wi(n).subscribe(Ur(r,function(){return r.complete()},ry)),!r.closed&&e.subscribe(r)})}function Si(n,e,r){var i=Tr(n)||e||r?{next:n,error:e,complete:r}:n;return i?yi(function(o,s){var a;(a=i.subscribe)===null||a===void 0||a.call(i);var l=!0;o.subscribe(Ur(s,function(c){var u;(u=i.next)===null||u===void 0||u.call(i,c),s.next(c)},function(){var c;l=!1,(c=i.complete)===null||c===void 0||c.call(i),s.complete()},function(c){var u;l=!1,(u=i.error)===null||u===void 0||u.call(i,c),s.error(c)},function(){var c,u;l&&((c=i.unsubscribe)===null||c===void 0||c.call(i)),(u=i.finalize)===null||u===void 0||u.call(i)}))}):Wg}function jQ(n,e){return yi(function(r,i){var o=e??{},s=o.leading,a=s===void 0?!0:s,l=o.trailing,c=l===void 0?!1:l,u=!1,f=null,h=null,m=!1,g=function(){h==null||h.unsubscribe(),h=null,c&&(b(),m&&i.complete())},v=function(){h=null,m&&i.complete()},y=function(x){return h=Wi(n(x)).subscribe(Ur(i,g,v))},b=function(){if(u){u=!1;var x=f;f=null,i.next(x),!m&&y(x)}};r.subscribe(Ur(i,function(x){u=!0,f=x,!(h&&!h.closed)&&(a?b():y(x))},function(){m=!0,!(c&&u&&h&&!h.closed)&&i.complete()}))})}function QA(n,e,r){e===void 0&&(e=ph);var i=Za(n,e);return jQ(function(){return i},r)}function iA(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r=V4(n);return yi(function(i,o){for(var s=n.length,a=new Array(s),l=n.map(function(){return!1}),c=!1,u=function(h){Wi(n[h]).subscribe(Ur(o,function(m){a[h]=m,!c&&!l[h]&&(l[h]=!0,(c=l.every(Wg))&&(l=null))},ry))},f=0;f<s;f++)u(f);i.subscribe(Ur(o,function(h){if(c){var m=yu([h],Ec(a));o.next(r?r.apply(void 0,yu([],Ec(m))):m)}}))})}function i1t(n,e){var r=p.useCallback(function(){var a=new z4(n),l=a.asObservable().pipe(Ro());return[e?l.pipe(e):l,a]},[]),i=p.useRef();i.current||(i.current=r());var o=i.current[0];p.useEffect(function(){if(i.current){var a=i.current,l=a[1];l.next(n)}},[n,i]);var s=p.useRef(!1);return p.useEffect(function(){return s.current&&(i.current||(i.current=r()),s.current=!1),function(){if(i.current){s.current=!0;var a=i.current,l=a[1];l.complete(),i.current=void 0}}},[]),o}var I8e={exports:{}},D8e={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _C=p;function o1t(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var s1t=typeof Object.is=="function"?Object.is:o1t,a1t=_C.useState,l1t=_C.useEffect,c1t=_C.useLayoutEffect,u1t=_C.useDebugValue;function d1t(n,e){var r=e(),i=a1t({inst:{value:r,getSnapshot:e}}),o=i[0].inst,s=i[1];return c1t(function(){o.value=r,o.getSnapshot=e,$9(o)&&s({inst:o})},[n,r,e]),l1t(function(){return $9(o)&&s({inst:o}),n(function(){$9(o)&&s({inst:o})})},[n]),u1t(r),r}function $9(n){var e=n.getSnapshot;n=n.value;try{var r=e();return!s1t(n,r)}catch{return!0}}function f1t(n,e){return e()}var h1t=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f1t:d1t;D8e.useSyncExternalStore=_C.useSyncExternalStore!==void 0?_C.useSyncExternalStore:h1t;I8e.exports=D8e;var R8e=I8e.exports;function MW(n){return typeof n=="function"?n():n}var M9=new WeakMap;function oue(n,e){if(!M9.has(n)){var r={currentValue:e};r.observable=n.pipe(Hs({refCount:!0,bufferSize:1}),Si(function(i){return r.currentValue=i})),r.subscription=r.observable.subscribe(),M9.set(n,r)}return M9.get(n)}function p1t(n,e){var r=p.useMemo(function(){var a=oue(n,MW(e));return a.subscription.closed&&(a.subscription=a.observable.subscribe()),[function(){return a.currentValue},function(c){var u=a.observable.subscribe(c);return function(){u.unsubscribe()}}]},[n]),i=r[0],o=r[1],s=p.useRef(!1);return p.useEffect(function(){var a=oue(n,MW(e));return s.current&&(a.subscription.closed&&(a.subscription=a.observable.subscribe()),s.current=!1),function(){s.current=!a.subscription.closed,a.subscription.unsubscribe()}},[n]),R8e.useSyncExternalStore(o,i)}function bs(n,e,r){return p1t(p.useMemo(function(){return MW(n)},e),r)}var m1t=function(n){return n};function O8e(n){n===void 0&&(n=m1t);var e=new ho;return[e.pipe(n),function(r){return e.next(r)}]}var g1t=[];function K4(n,e){e===void 0&&(e=g1t);var r=p.useRef();r.current||(r.current=O8e());var i=r.current,o=i[0],s=i[1],a=p.useCallback(n,e);return p.useEffect(function(){var l=o.pipe(a).subscribe();return function(){l.unsubscribe()}},[o,s,a]),s}function v1t(){this.__data__=[],this.size=0}var y1t=v1t;function b1t(n,e){return n===e||n!==n&&e!==e}var PI=b1t,x1t=PI;function w1t(n,e){for(var r=n.length;r--;)if(x1t(n[r][0],e))return r;return-1}var Y4=w1t,_1t=Y4,E1t=Array.prototype,C1t=E1t.splice;function S1t(n){var e=this.__data__,r=_1t(e,n);if(r<0)return!1;var i=e.length-1;return r==i?e.pop():C1t.call(e,r,1),--this.size,!0}var k1t=S1t,T1t=Y4;function A1t(n){var e=this.__data__,r=T1t(e,n);return r<0?void 0:e[r][1]}var I1t=A1t,D1t=Y4;function R1t(n){return D1t(this.__data__,n)>-1}var O1t=R1t,P1t=Y4;function j1t(n,e){var r=this.__data__,i=P1t(r,n);return i<0?(++this.size,r.push([n,e])):r[i][1]=e,this}var L1t=j1t,$1t=y1t,M1t=k1t,F1t=I1t,N1t=O1t,B1t=L1t;function mS(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var i=n[e];this.set(i[0],i[1])}}mS.prototype.clear=$1t;mS.prototype.delete=M1t;mS.prototype.get=F1t;mS.prototype.has=N1t;mS.prototype.set=B1t;var Z4=mS,U1t=Z4;function z1t(){this.__data__=new U1t,this.size=0}var V1t=z1t;function H1t(n){var e=this.__data__,r=e.delete(n);return this.size=e.size,r}var W1t=H1t;function G1t(n){return this.__data__.get(n)}var q1t=G1t;function K1t(n){return this.__data__.has(n)}var Y1t=K1t;function Z1t(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var bf=Z1t;const X4=Tt(bf);var X1t=Hg,Q1t=bf,J1t="[object AsyncFunction]",ebt="[object Function]",tbt="[object GeneratorFunction]",nbt="[object Proxy]";function rbt(n){if(!Q1t(n))return!1;var e=X1t(n);return e==ebt||e==tbt||e==J1t||e==nbt}var P8e=rbt,ibt=yf,obt=ibt["__core-js_shared__"],sbt=obt,F9=sbt,sue=function(){var n=/[^.]+$/.exec(F9&&F9.keys&&F9.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function abt(n){return!!sue&&sue in n}var lbt=abt,cbt=Function.prototype,ubt=cbt.toString;function dbt(n){if(n!=null){try{return ubt.call(n)}catch{}try{return n+""}catch{}}return""}var j8e=dbt,fbt=P8e,hbt=lbt,pbt=bf,mbt=j8e,gbt=/[\\^$.*+?()[\]{}|]/g,vbt=/^\[object .+?Constructor\]$/,ybt=Function.prototype,bbt=Object.prototype,xbt=ybt.toString,wbt=bbt.hasOwnProperty,_bt=RegExp("^"+xbt.call(wbt).replace(gbt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ebt(n){if(!pbt(n)||hbt(n))return!1;var e=fbt(n)?_bt:vbt;return e.test(mbt(n))}var Cbt=Ebt;function Sbt(n,e){return n==null?void 0:n[e]}var kbt=Sbt,Tbt=Cbt,Abt=kbt;function Ibt(n,e){var r=Abt(n,e);return Tbt(r)?r:void 0}var Vx=Ibt,Dbt=Vx,Rbt=yf,Obt=Dbt(Rbt,"Map"),LQ=Obt,Pbt=Vx,jbt=Pbt(Object,"create"),Q4=jbt,aue=Q4;function Lbt(){this.__data__=aue?aue(null):{},this.size=0}var $bt=Lbt;function Mbt(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var Fbt=Mbt,Nbt=Q4,Bbt="__lodash_hash_undefined__",Ubt=Object.prototype,zbt=Ubt.hasOwnProperty;function Vbt(n){var e=this.__data__;if(Nbt){var r=e[n];return r===Bbt?void 0:r}return zbt.call(e,n)?e[n]:void 0}var Hbt=Vbt,Wbt=Q4,Gbt=Object.prototype,qbt=Gbt.hasOwnProperty;function Kbt(n){var e=this.__data__;return Wbt?e[n]!==void 0:qbt.call(e,n)}var Ybt=Kbt,Zbt=Q4,Xbt="__lodash_hash_undefined__";function Qbt(n,e){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=Zbt&&e===void 0?Xbt:e,this}var Jbt=Qbt,ext=$bt,txt=Fbt,nxt=Hbt,rxt=Ybt,ixt=Jbt;function gS(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var i=n[e];this.set(i[0],i[1])}}gS.prototype.clear=ext;gS.prototype.delete=txt;gS.prototype.get=nxt;gS.prototype.has=rxt;gS.prototype.set=ixt;var oxt=gS,lue=oxt,sxt=Z4,axt=LQ;function lxt(){this.size=0,this.__data__={hash:new lue,map:new(axt||sxt),string:new lue}}var cxt=lxt;function uxt(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var dxt=uxt,fxt=dxt;function hxt(n,e){var r=n.__data__;return fxt(e)?r[typeof e=="string"?"string":"hash"]:r.map}var J4=hxt,pxt=J4;function mxt(n){var e=pxt(this,n).delete(n);return this.size-=e?1:0,e}var gxt=mxt,vxt=J4;function yxt(n){return vxt(this,n).get(n)}var bxt=yxt,xxt=J4;function wxt(n){return xxt(this,n).has(n)}var _xt=wxt,Ext=J4;function Cxt(n,e){var r=Ext(this,n),i=r.size;return r.set(n,e),this.size+=r.size==i?0:1,this}var Sxt=Cxt,kxt=cxt,Txt=gxt,Axt=bxt,Ixt=_xt,Dxt=Sxt;function vS(n){var e=-1,r=n==null?0:n.length;for(this.clear();++e<r;){var i=n[e];this.set(i[0],i[1])}}vS.prototype.clear=kxt;vS.prototype.delete=Txt;vS.prototype.get=Axt;vS.prototype.has=Ixt;vS.prototype.set=Dxt;var $Q=vS,Rxt=Z4,Oxt=LQ,Pxt=$Q,jxt=200;function Lxt(n,e){var r=this.__data__;if(r instanceof Rxt){var i=r.__data__;if(!Oxt||i.length<jxt-1)return i.push([n,e]),this.size=++r.size,this;r=this.__data__=new Pxt(i)}return r.set(n,e),this.size=r.size,this}var $xt=Lxt,Mxt=Z4,Fxt=V1t,Nxt=W1t,Bxt=q1t,Uxt=Y1t,zxt=$xt;function yS(n){var e=this.__data__=new Mxt(n);this.size=e.size}yS.prototype.clear=Fxt;yS.prototype.delete=Nxt;yS.prototype.get=Bxt;yS.prototype.has=Uxt;yS.prototype.set=zxt;var MQ=yS,Vxt="__lodash_hash_undefined__";function Hxt(n){return this.__data__.set(n,Vxt),this}var Wxt=Hxt;function Gxt(n){return this.__data__.has(n)}var qxt=Gxt,Kxt=$Q,Yxt=Wxt,Zxt=qxt;function vM(n){var e=-1,r=n==null?0:n.length;for(this.__data__=new Kxt;++e<r;)this.add(n[e])}vM.prototype.add=vM.prototype.push=Yxt;vM.prototype.has=Zxt;var e8=vM;function Xxt(n,e){for(var r=-1,i=n==null?0:n.length;++r<i;)if(e(n[r],r,n))return!0;return!1}var Qxt=Xxt;function Jxt(n,e){return n.has(e)}var t8=Jxt,ewt=e8,twt=Qxt,nwt=t8,rwt=1,iwt=2;function owt(n,e,r,i,o,s){var a=r&rwt,l=n.length,c=e.length;if(l!=c&&!(a&&c>l))return!1;var u=s.get(n),f=s.get(e);if(u&&f)return u==e&&f==n;var h=-1,m=!0,g=r&iwt?new ewt:void 0;for(s.set(n,e),s.set(e,n);++h<l;){var v=n[h],y=e[h];if(i)var b=a?i(y,v,h,e,n,s):i(v,y,h,n,e,s);if(b!==void 0){if(b)continue;m=!1;break}if(g){if(!twt(e,function(x,_){if(!nwt(g,_)&&(v===x||o(v,x,r,i,s)))return g.push(_)})){m=!1;break}}else if(!(v===y||o(v,y,r,i,s))){m=!1;break}}return s.delete(n),s.delete(e),m}var L8e=owt,swt=yf,awt=swt.Uint8Array,$8e=awt;function lwt(n){var e=-1,r=Array(n.size);return n.forEach(function(i,o){r[++e]=[o,i]}),r}var cwt=lwt;function uwt(n){var e=-1,r=Array(n.size);return n.forEach(function(i){r[++e]=i}),r}var FQ=uwt,cue=hS,uue=$8e,dwt=PI,fwt=L8e,hwt=cwt,pwt=FQ,mwt=1,gwt=2,vwt="[object Boolean]",ywt="[object Date]",bwt="[object Error]",xwt="[object Map]",wwt="[object Number]",_wt="[object RegExp]",Ewt="[object Set]",Cwt="[object String]",Swt="[object Symbol]",kwt="[object ArrayBuffer]",Twt="[object DataView]",due=cue?cue.prototype:void 0,N9=due?due.valueOf:void 0;function Awt(n,e,r,i,o,s,a){switch(r){case Twt:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case kwt:return!(n.byteLength!=e.byteLength||!s(new uue(n),new uue(e)));case vwt:case ywt:case wwt:return dwt(+n,+e);case bwt:return n.name==e.name&&n.message==e.message;case _wt:case Cwt:return n==e+"";case xwt:var l=hwt;case Ewt:var c=i&mwt;if(l||(l=pwt),n.size!=e.size&&!c)return!1;var u=a.get(n);if(u)return u==e;i|=gwt,a.set(n,e);var f=fwt(l(n),l(e),i,o,s,a);return a.delete(n),f;case Swt:if(N9)return N9.call(n)==N9.call(e)}return!1}var Iwt=Awt,Dwt=EQ,Rwt=Gs;function Owt(n,e,r){var i=e(n);return Rwt(n)?i:Dwt(i,r(n))}var M8e=Owt;function Pwt(n,e){for(var r=-1,i=n==null?0:n.length,o=0,s=[];++r<i;){var a=n[r];e(a,r,n)&&(s[o++]=a)}return s}var F8e=Pwt;function jwt(){return[]}var N8e=jwt,Lwt=F8e,$wt=N8e,Mwt=Object.prototype,Fwt=Mwt.propertyIsEnumerable,fue=Object.getOwnPropertySymbols,Nwt=fue?function(n){return n==null?[]:(n=Object(n),Lwt(fue(n),function(e){return Fwt.call(n,e)}))}:$wt,NQ=Nwt;function Bwt(n,e){for(var r=-1,i=Array(n);++r<n;)i[r]=e(r);return i}var Uwt=Bwt,yM={exports:{}};function zwt(){return!1}var Vwt=zwt;yM.exports;(function(n,e){var r=yf,i=Vwt,o=e&&!e.nodeType&&e,s=o&&!0&&n&&!n.nodeType&&n,a=s&&s.exports===o,l=a?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||i;n.exports=u})(yM,yM.exports);var n8=yM.exports,Hwt=9007199254740991,Wwt=/^(?:0|[1-9]\d*)$/;function Gwt(n,e){var r=typeof n;return e=e??Hwt,!!e&&(r=="number"||r!="symbol"&&Wwt.test(n))&&n>-1&&n%1==0&&n<e}var r8=Gwt,qwt=9007199254740991;function Kwt(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=qwt}var BQ=Kwt,Ywt=Hg,Zwt=BQ,Xwt=ud,Qwt="[object Arguments]",Jwt="[object Array]",e_t="[object Boolean]",t_t="[object Date]",n_t="[object Error]",r_t="[object Function]",i_t="[object Map]",o_t="[object Number]",s_t="[object Object]",a_t="[object RegExp]",l_t="[object Set]",c_t="[object String]",u_t="[object WeakMap]",d_t="[object ArrayBuffer]",f_t="[object DataView]",h_t="[object Float32Array]",p_t="[object Float64Array]",m_t="[object Int8Array]",g_t="[object Int16Array]",v_t="[object Int32Array]",y_t="[object Uint8Array]",b_t="[object Uint8ClampedArray]",x_t="[object Uint16Array]",w_t="[object Uint32Array]",No={};No[h_t]=No[p_t]=No[m_t]=No[g_t]=No[v_t]=No[y_t]=No[b_t]=No[x_t]=No[w_t]=!0;No[Qwt]=No[Jwt]=No[d_t]=No[e_t]=No[f_t]=No[t_t]=No[n_t]=No[r_t]=No[i_t]=No[o_t]=No[s_t]=No[a_t]=No[l_t]=No[c_t]=No[u_t]=!1;function __t(n){return Xwt(n)&&Zwt(n.length)&&!!No[Ywt(n)]}var E_t=__t;function C_t(n){return function(e){return n(e)}}var bS=C_t,bM={exports:{}};bM.exports;(function(n,e){var r=L4e,i=e&&!e.nodeType&&e,o=i&&!0&&n&&!n.nodeType&&n,s=o&&o.exports===i,a=s&&r.process,l=function(){try{var c=o&&o.require&&o.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}}();n.exports=l})(bM,bM.exports);var UQ=bM.exports,S_t=E_t,k_t=bS,hue=UQ,pue=hue&&hue.isTypedArray,T_t=pue?k_t(pue):S_t,zQ=T_t,A_t=Uwt,I_t=U4,D_t=Gs,R_t=n8,O_t=r8,P_t=zQ,j_t=Object.prototype,L_t=j_t.hasOwnProperty;function $_t(n,e){var r=D_t(n),i=!r&&I_t(n),o=!r&&!i&&R_t(n),s=!r&&!i&&!o&&P_t(n),a=r||i||o||s,l=a?A_t(n.length,String):[],c=l.length;for(var u in n)(e||L_t.call(n,u))&&!(a&&(u=="length"||o&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||O_t(u,c)))&&l.push(u);return l}var B8e=$_t,M_t=Object.prototype;function F_t(n){var e=n&&n.constructor,r=typeof e=="function"&&e.prototype||M_t;return n===r}var i8=F_t;function N_t(n,e){return function(r){return n(e(r))}}var U8e=N_t,B_t=U8e,U_t=B_t(Object.keys,Object),z_t=U_t,V_t=i8,H_t=z_t,W_t=Object.prototype,G_t=W_t.hasOwnProperty;function q_t(n){if(!V_t(n))return H_t(n);var e=[];for(var r in Object(n))G_t.call(n,r)&&r!="constructor"&&e.push(r);return e}var z8e=q_t,K_t=P8e,Y_t=BQ;function Z_t(n){return n!=null&&Y_t(n.length)&&!K_t(n)}var Ty=Z_t,X_t=B8e,Q_t=z8e,J_t=Ty;function eEt(n){return J_t(n)?X_t(n):Q_t(n)}var Gg=eEt,tEt=M8e,nEt=NQ,rEt=Gg;function iEt(n){return tEt(n,rEt,nEt)}var V8e=iEt,mue=V8e,oEt=1,sEt=Object.prototype,aEt=sEt.hasOwnProperty;function lEt(n,e,r,i,o,s){var a=r&oEt,l=mue(n),c=l.length,u=mue(e),f=u.length;if(c!=f&&!a)return!1;for(var h=c;h--;){var m=l[h];if(!(a?m in e:aEt.call(e,m)))return!1}var g=s.get(n),v=s.get(e);if(g&&v)return g==e&&v==n;var y=!0;s.set(n,e),s.set(e,n);for(var b=a;++h<c;){m=l[h];var x=n[m],_=e[m];if(i)var w=a?i(_,x,m,e,n,s):i(x,_,m,n,e,s);if(!(w===void 0?x===_||o(x,_,r,i,s):w)){y=!1;break}b||(b=m=="constructor")}if(y&&!b){var C=n.constructor,S=e.constructor;C!=S&&"constructor"in n&&"constructor"in e&&!(typeof C=="function"&&C instanceof C&&typeof S=="function"&&S instanceof S)&&(y=!1)}return s.delete(n),s.delete(e),y}var cEt=lEt,uEt=Vx,dEt=yf,fEt=uEt(dEt,"DataView"),hEt=fEt,pEt=Vx,mEt=yf,gEt=pEt(mEt,"Promise"),vEt=gEt,yEt=Vx,bEt=yf,xEt=yEt(bEt,"Set"),H8e=xEt,wEt=Vx,_Et=yf,EEt=wEt(_Et,"WeakMap"),W8e=EEt,FW=hEt,NW=LQ,BW=vEt,UW=H8e,zW=W8e,G8e=Hg,xS=j8e,gue="[object Map]",CEt="[object Object]",vue="[object Promise]",yue="[object Set]",bue="[object WeakMap]",xue="[object DataView]",SEt=xS(FW),kEt=xS(NW),TEt=xS(BW),AEt=xS(UW),IEt=xS(zW),D1=G8e;(FW&&D1(new FW(new ArrayBuffer(1)))!=xue||NW&&D1(new NW)!=gue||BW&&D1(BW.resolve())!=vue||UW&&D1(new UW)!=yue||zW&&D1(new zW)!=bue)&&(D1=function(n){var e=G8e(n),r=e==CEt?n.constructor:void 0,i=r?xS(r):"";if(i)switch(i){case SEt:return xue;case kEt:return gue;case TEt:return vue;case AEt:return yue;case IEt:return bue}return e});var jI=D1,B9=MQ,DEt=L8e,REt=Iwt,OEt=cEt,wue=jI,_ue=Gs,Eue=n8,PEt=zQ,jEt=1,Cue="[object Arguments]",Sue="[object Array]",pO="[object Object]",LEt=Object.prototype,kue=LEt.hasOwnProperty;function $Et(n,e,r,i,o,s){var a=_ue(n),l=_ue(e),c=a?Sue:wue(n),u=l?Sue:wue(e);c=c==Cue?pO:c,u=u==Cue?pO:u;var f=c==pO,h=u==pO,m=c==u;if(m&&Eue(n)){if(!Eue(e))return!1;a=!0,f=!1}if(m&&!f)return s||(s=new B9),a||PEt(n)?DEt(n,e,r,i,o,s):REt(n,e,c,r,i,o,s);if(!(r&jEt)){var g=f&&kue.call(n,"__wrapped__"),v=h&&kue.call(e,"__wrapped__");if(g||v){var y=g?n.value():n,b=v?e.value():e;return s||(s=new B9),o(y,b,r,i,s)}}return m?(s||(s=new B9),OEt(n,e,r,i,o,s)):!1}var MEt=$Et,FEt=MEt,Tue=ud;function q8e(n,e,r,i,o){return n===e?!0:n==null||e==null||!Tue(n)&&!Tue(e)?n!==n&&e!==e:FEt(n,e,r,i,q8e,o)}var VQ=q8e,NEt=VQ;function BEt(n,e){return NEt(n,e)}var UEt=BEt;const Br=Tt(UEt);var zb=[],zEt=function(){return zb.some(function(n){return n.activeTargets.length>0})},VEt=function(){return zb.some(function(n){return n.skippedTargets.length>0})},Aue="ResizeObserver loop completed with undelivered notifications.",HEt=function(){var n;typeof ErrorEvent=="function"?n=new ErrorEvent("error",{message:Aue}):(n=document.createEvent("Event"),n.initEvent("error",!1,!1),n.message=Aue),window.dispatchEvent(n)},JA;(function(n){n.BORDER_BOX="border-box",n.CONTENT_BOX="content-box",n.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(JA||(JA={}));var Vb=function(n){return Object.freeze(n)},WEt=function(){function n(e,r){this.inlineSize=e,this.blockSize=r,Vb(this)}return n}(),K8e=function(){function n(e,r,i,o){return this.x=e,this.y=r,this.width=i,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Vb(this)}return n.prototype.toJSON=function(){var e=this,r=e.x,i=e.y,o=e.top,s=e.right,a=e.bottom,l=e.left,c=e.width,u=e.height;return{x:r,y:i,top:o,right:s,bottom:a,left:l,width:c,height:u}},n.fromRect=function(e){return new n(e.x,e.y,e.width,e.height)},n}(),HQ=function(n){return n instanceof SVGElement&&"getBBox"in n},Y8e=function(n){if(HQ(n)){var e=n.getBBox(),r=e.width,i=e.height;return!r&&!i}var o=n,s=o.offsetWidth,a=o.offsetHeight;return!(s||a||n.getClientRects().length)},Iue=function(n){var e;if(n instanceof Element)return!0;var r=(e=n==null?void 0:n.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(r&&n instanceof r.Element)},GEt=function(n){switch(n.tagName){case"INPUT":if(n.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},oA=typeof window<"u"?window:{},mO=new WeakMap,Due=/auto|scroll/,qEt=/^tb|vertical/,KEt=/msie|trident/i.test(oA.navigator&&oA.navigator.userAgent),Mh=function(n){return parseFloat(n||"0")},FE=function(n,e,r){return n===void 0&&(n=0),e===void 0&&(e=0),r===void 0&&(r=!1),new WEt((r?e:n)||0,(r?n:e)||0)},Rue=Vb({devicePixelContentBoxSize:FE(),borderBoxSize:FE(),contentBoxSize:FE(),contentRect:new K8e(0,0,0,0)}),Z8e=function(n,e){if(e===void 0&&(e=!1),mO.has(n)&&!e)return mO.get(n);if(Y8e(n))return mO.set(n,Rue),Rue;var r=getComputedStyle(n),i=HQ(n)&&n.ownerSVGElement&&n.getBBox(),o=!KEt&&r.boxSizing==="border-box",s=qEt.test(r.writingMode||""),a=!i&&Due.test(r.overflowY||""),l=!i&&Due.test(r.overflowX||""),c=i?0:Mh(r.paddingTop),u=i?0:Mh(r.paddingRight),f=i?0:Mh(r.paddingBottom),h=i?0:Mh(r.paddingLeft),m=i?0:Mh(r.borderTopWidth),g=i?0:Mh(r.borderRightWidth),v=i?0:Mh(r.borderBottomWidth),y=i?0:Mh(r.borderLeftWidth),b=h+u,x=c+f,_=y+g,w=m+v,C=l?n.offsetHeight-w-n.clientHeight:0,S=a?n.offsetWidth-_-n.clientWidth:0,T=o?b+_:0,A=o?x+w:0,I=i?i.width:Mh(r.width)-T-S,D=i?i.height:Mh(r.height)-A-C,R=I+b+S+_,P=D+x+C+w,O=Vb({devicePixelContentBoxSize:FE(Math.round(I*devicePixelRatio),Math.round(D*devicePixelRatio),s),borderBoxSize:FE(R,P,s),contentBoxSize:FE(I,D,s),contentRect:new K8e(h,c,I,D)});return mO.set(n,O),O},X8e=function(n,e,r){var i=Z8e(n,r),o=i.borderBoxSize,s=i.contentBoxSize,a=i.devicePixelContentBoxSize;switch(e){case JA.DEVICE_PIXEL_CONTENT_BOX:return a;case JA.BORDER_BOX:return o;default:return s}},YEt=function(){function n(e){var r=Z8e(e);this.target=e,this.contentRect=r.contentRect,this.borderBoxSize=Vb([r.borderBoxSize]),this.contentBoxSize=Vb([r.contentBoxSize]),this.devicePixelContentBoxSize=Vb([r.devicePixelContentBoxSize])}return n}(),Q8e=function(n){if(Y8e(n))return 1/0;for(var e=0,r=n.parentNode;r;)e+=1,r=r.parentNode;return e},ZEt=function(){var n=1/0,e=[];zb.forEach(function(a){if(a.activeTargets.length!==0){var l=[];a.activeTargets.forEach(function(u){var f=new YEt(u.target),h=Q8e(u.target);l.push(f),u.lastReportedSize=X8e(u.target,u.observedBox),h<n&&(n=h)}),e.push(function(){a.callback.call(a.observer,l,a.observer)}),a.activeTargets.splice(0,a.activeTargets.length)}});for(var r=0,i=e;r<i.length;r++){var o=i[r];o()}return n},Oue=function(n){zb.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(o){o.isActive()&&(Q8e(o.target)>n?r.activeTargets.push(o):r.skippedTargets.push(o))})})},XEt=function(){var n=0;for(Oue(n);zEt();)n=ZEt(),Oue(n);return VEt()&&HEt(),n>0},U9,J8e=[],QEt=function(){return J8e.splice(0).forEach(function(n){return n()})},JEt=function(n){if(!U9){var e=0,r=document.createTextNode(""),i={characterData:!0};new MutationObserver(function(){return QEt()}).observe(r,i),U9=function(){r.textContent="".concat(e?e--:e++)}}J8e.push(n),U9()},eCt=function(n){JEt(function(){requestAnimationFrame(n)})},Hj=0,tCt=function(){return!!Hj},nCt=250,rCt={attributes:!0,characterData:!0,childList:!0,subtree:!0},Pue=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],jue=function(n){return n===void 0&&(n=0),Date.now()+n},z9=!1,iCt=function(){function n(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return n.prototype.run=function(e){var r=this;if(e===void 0&&(e=nCt),!z9){z9=!0;var i=jue(e);eCt(function(){var o=!1;try{o=XEt()}finally{if(z9=!1,e=i-jue(),!tCt())return;o?r.run(1e3):e>0?r.run(e):r.start()}})}},n.prototype.schedule=function(){this.stop(),this.run()},n.prototype.observe=function(){var e=this,r=function(){return e.observer&&e.observer.observe(document.body,rCt)};document.body?r():oA.addEventListener("DOMContentLoaded",r)},n.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Pue.forEach(function(r){return oA.addEventListener(r,e.listener,!0)}))},n.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Pue.forEach(function(r){return oA.removeEventListener(r,e.listener,!0)}),this.stopped=!0)},n}(),VW=new iCt,Lue=function(n){!Hj&&n>0&&VW.start(),Hj+=n,!Hj&&VW.stop()},oCt=function(n){return!HQ(n)&&!GEt(n)&&getComputedStyle(n).display==="inline"},sCt=function(){function n(e,r){this.target=e,this.observedBox=r||JA.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return n.prototype.isActive=function(){var e=X8e(this.target,this.observedBox,!0);return oCt(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},n}(),aCt=function(){function n(e,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=r}return n}(),gO=new WeakMap,$ue=function(n,e){for(var r=0;r<n.length;r+=1)if(n[r].target===e)return r;return-1},vO=function(){function n(){}return n.connect=function(e,r){var i=new aCt(e,r);gO.set(e,i)},n.observe=function(e,r,i){var o=gO.get(e),s=o.observationTargets.length===0;$ue(o.observationTargets,r)<0&&(s&&zb.push(o),o.observationTargets.push(new sCt(r,i&&i.box)),Lue(1),VW.schedule())},n.unobserve=function(e,r){var i=gO.get(e),o=$ue(i.observationTargets,r),s=i.observationTargets.length===1;o>=0&&(s&&zb.splice(zb.indexOf(i),1),i.observationTargets.splice(o,1),Lue(-1))},n.disconnect=function(e){var r=this,i=gO.get(e);i.observationTargets.slice().forEach(function(o){return r.unobserve(e,o.target)}),i.activeTargets.splice(0,i.activeTargets.length)},n}(),e6e=function(){function n(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");vO.connect(this,e)}return n.prototype.observe=function(e,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Iue(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");vO.observe(this,e,r)},n.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Iue(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");vO.unobserve(this,e)},n.prototype.disconnect=function(){vO.disconnect(this)},n.toString=function(){return"function ResizeObserver () { [polyfill code] }"},n}();function WQ(){var n=Object.create(null),e=0;function r(o){var s=e++;return n[s]=o,function(){delete n[s]}}function i(o){for(var s in n)n[s](o)}return{publish:i,subscribe:r}}var lCt=yf,cCt=function(){return lCt.Date.now()},uCt=cCt,dCt=/\s/;function fCt(n){for(var e=n.length;e--&&dCt.test(n.charAt(e)););return e}var hCt=fCt,pCt=hCt,mCt=/^\s+/;function gCt(n){return n&&n.slice(0,pCt(n)+1).replace(mCt,"")}var t6e=gCt,vCt=Hg,yCt=ud,bCt="[object Symbol]";function xCt(n){return typeof n=="symbol"||yCt(n)&&vCt(n)==bCt}var Hx=xCt,wCt=t6e,Mue=bf,_Ct=Hx,Fue=0/0,ECt=/^[-+]0x[0-9a-f]+$/i,CCt=/^0b[01]+$/i,SCt=/^0o[0-7]+$/i,kCt=parseInt;function TCt(n){if(typeof n=="number")return n;if(_Ct(n))return Fue;if(Mue(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Mue(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=wCt(n);var r=CCt.test(n);return r||SCt.test(n)?kCt(n.slice(2),r?2:8):ECt.test(n)?Fue:+n}var n6e=TCt,ACt=bf,V9=uCt,Nue=n6e,ICt="Expected a function",DCt=Math.max,RCt=Math.min;function OCt(n,e,r){var i,o,s,a,l,c,u=0,f=!1,h=!1,m=!0;if(typeof n!="function")throw new TypeError(ICt);e=Nue(e)||0,ACt(r)&&(f=!!r.leading,h="maxWait"in r,s=h?DCt(Nue(r.maxWait)||0,e):s,m="trailing"in r?!!r.trailing:m);function g(T){var A=i,I=o;return i=o=void 0,u=T,a=n.apply(I,A),a}function v(T){return u=T,l=setTimeout(x,e),f?g(T):a}function y(T){var A=T-c,I=T-u,D=e-A;return h?RCt(D,s-I):D}function b(T){var A=T-c,I=T-u;return c===void 0||A>=e||A<0||h&&I>=s}function x(){var T=V9();if(b(T))return _(T);l=setTimeout(x,y(T))}function _(T){return l=void 0,m&&i?g(T):(i=o=void 0,a)}function w(){l!==void 0&&clearTimeout(l),u=0,i=c=o=l=void 0}function C(){return l===void 0?a:_(V9())}function S(){var T=V9(),A=b(T);if(i=arguments,o=this,c=T,A){if(l===void 0)return v(c);if(h)return clearTimeout(l),l=setTimeout(x,e),g(c)}return l===void 0&&(l=setTimeout(x,e)),a}return S.cancel=w,S.flush=C,S}var r6e=OCt;const LI=Tt(r6e);var PCt=r6e,jCt=bf,LCt="Expected a function";function $Ct(n,e,r){var i=!0,o=!0;if(typeof n!="function")throw new TypeError(LCt);return jCt(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),PCt(n,e,{leading:i,maxWait:e,trailing:o})}var MCt=$Ct;const $I=Tt(MCt);var FCt=Hg,NCt=Gs,BCt=ud,UCt="[object String]";function zCt(n){return typeof n=="string"||!NCt(n)&&BCt(n)&&FCt(n)==UCt}var VCt=zCt;const o8=Tt(VCt);let HCt=n=>crypto.getRandomValues(new Uint8Array(n)),WCt=(n,e,r)=>{let i=(2<<Math.log(n.length-1)/Math.LN2)-1,o=-~(1.6*i*e/n.length);return(s=e)=>{let a="";for(;;){let l=r(o),c=o;for(;c--;)if(a+=n[l[c]&i]||"",a.length===s)return a}}},GCt=(n,e=21)=>WCt(n,e,HCt),qCt=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((e,r)=>(r&=63,r<36?e+=r.toString(36):r<62?e+=(r-26).toString(36).toUpperCase():r>62?e+="-":e+="_",e),"");var KCt=["presence","listen"],xM=globalThis&&globalThis.__assign||function(){return xM=Object.assign||function(n){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},xM.apply(this,arguments)},YCt=GCt("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-",20),ZCt="♥";function Bue(n,e,r){return JSON.stringify({jsonrpc:"2.0",method:n,params:QCt(e,"v1"),id:r})}function XCt(n){try{return[null,JSON.parse(n)]}catch(e){return e instanceof Error?[e]:[new Error("".concat(e))]}}function QCt(n,e){return xM(xM({},n),{apiVersion:e})}var JCt=function(n,e){e===void 0&&(e={});var r=e.token$,i=e.getNextRequestId,o=i===void 0?YCt:i,s=RQ(n.pipe(gn(function(g){return Jl(g,"message")})),function(g){return g.data===ZCt}),a=s[0],l=s[1],c=l.pipe(On(function(g){var v=XCt(g.data),y=v[0],b=v[1];return y?(console.warn("Unable to parse message: %s",y.message),Vi):!b||!b.jsonrpc?(console.warn("Received empty or non-jsonrpc message: %s",b),Vi):Ke(b)}),id()),u=r?Da([r,n]).pipe(Ro(function(g,v){var y=g[0],b=g[1],x=v[0],_=v[1];return y===x&&b===_}),gn(function(g){var v=g[0],y=g[1];return v?f(y,"authorization",{authorization:"Bearer ".concat(v)}).pipe(ul(1),G4(y)):Ke(y)}),Hs({refCount:!0,bufferSize:1})):n;function f(g,v,y){y===void 0&&(y={});var b=o();return ai(c.pipe(Bn(function(x){return x.id===b}),Me(function(x){return x.result})),ms(function(){return g.send(Bue(v,y,b)),Vi}))}function h(g,v){return u.pipe(ul(1),On(function(y){return f(y,g,v).pipe(ul(1))}))}function m(g,v){return u.pipe(ul(1),On(function(y){return f(y,"".concat(g,"_subscribe"),v).pipe(ul(1),On(function(b){return c.pipe(Bn(function(x){return x.method==="".concat(g,"_subscription")&&x.params.subscription===b}),Me(function(x){return x.params.result}),S8e(function(){y.readyState!==y.CLOSED&&y.readyState!==y.CLOSING&&y.send(Bue("".concat(g,"_unsubscribe"),{subscriptionId:b},o()))}))}))}))}return{heartbeats:ai(u,a,l).pipe(Me(function(){return new Date})),request:function(g,v){return eSt(g)?m(g,v):h(g,v)}}};function eSt(n){return KCt.includes(n)}var tSt=globalThis&&globalThis.__extends||function(){var n=function(e,r){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])},n(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");n(e,r);function i(){this.constructor=e}e.prototype=r===null?Object.create(r):(i.prototype=r.prototype,new i)}}(),Uue=function(n){tSt(e,n);function e(r,i,o,s){var a=n.call(this,r)||this;return a.type=i,a.code=o,a.reason=s,a}return e}(Error);function nSt(n){return function(e){return new Un(function(r){var i=n(e),o=!1,s=function(){r.next(i)},a=function(){r.error(new Uue("WebSocket connection error","CONNECTION_ERROR"))},l=function(c){o?r.complete():r.error(new Uue("WebSocket connection error","CONNECTION_CLOSED",c.code,c.reason))};return i.onopen=s,i.onclose=l,i.onerror=a,function(){o=!0,i.close(1e3,"WebSockets connection closed by client")}})}}var rSt=function(n,e){return function(r){return Nyt(r,Za(n).pipe(On(function(){return e})))}},zue;(function(n){n[n.BAD_REQUEST=4e3]="BAD_REQUEST",n[n.UNAUTHORIZED=4001]="UNAUTHORIZED",n[n.NOT_FOUND=4004]="NOT_FOUND",n[n.INVALID_REQUEST=-32600]="INVALID_REQUEST",n[n.METHOD_NOT_FOUND=-32601]="METHOD_NOT_FOUND",n[n.INVALID_PARAMS=-32602]="INVALID_PARAMS",n[n.SUBSCRIPTION_NOT_FOUND=-32602]="SUBSCRIPTION_NOT_FOUND",n[n.PARSE_ERROR=-32700]="PARSE_ERROR"})(zue||(zue={}));var iSt=function(n){return n};function oSt(n,e){e===void 0&&(e={});var r=e.timeout,i=e.token$,o=nSt(function(s,a){return new window.WebSocket(s,a)});return JCt(o(n).pipe(r?rSt(r,Zl(function(){return new Error("Timeout after ".concat(r," while establishing WebSockets connection"))})):iSt,Hs({refCount:!0}),q4(Jl(window,"beforeunload"))),{token$:i})}const sSt="modulepreload",aSt=function(n){return"/"+n},Vue={},Ay=function(e,r,i){if(!r||r.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=aSt(s),s in Vue)return;Vue[s]=!0;const a=s.endsWith(".css"),l=a?'[rel="stylesheet"]':"";if(!!i)for(let f=o.length-1;f>=0;f--){const h=o[f];if(h.href===s&&(!a||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${l}`))return;const u=document.createElement("link");if(u.rel=a?"stylesheet":sSt,a||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),a)return new Promise((f,h)=>{u.addEventListener("load",f),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})},lSt=typeof navigator>"u"?!1:navigator.product==="ReactNative",i6e={timeout:lSt?6e4:12e4},cSt=function(n){const e={...i6e,...typeof n=="string"?{url:n}:n},{searchParams:r}=new URL(e.url,"http://localhost");if(e.timeout=o6e(e.timeout),e.query){for(const[s,a]of Object.entries(e.query))if(a!==void 0)if(Array.isArray(a))for(const l of a)r.append(s,l);else r.append(s,a)}const[i]=e.url.split("?"),o=r.toString();return o&&(e.url=`${i}?${o}`),e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e};function o6e(n){if(n===!1||n===0)return!1;if(n.connect||n.socket)return n;const e=Number(n);return isNaN(e)?o6e(i6e.timeout):{connect:e,socket:e}}const uSt=/^https?:\/\//i,dSt=function(n){if(!uSt.test(n.url))throw new Error(`"${n.url}" is not a valid URL`)};var H9=function(n){return n.replace(/^\s+|\s+$/g,"")},fSt=function(n){return Object.prototype.toString.call(n)==="[object Array]"},hSt=function(n){if(!n)return{};for(var e={},r=H9(n).split(`
`),i=0;i<r.length;i++){var o=r[i],s=o.indexOf(":"),a=H9(o.slice(0,s)).toLowerCase(),l=H9(o.slice(s+1));typeof e[a]>"u"?e[a]=l:fSt(e[a])?e[a].push(l):e[a]=[e[a],l]}return e};const pSt=Tt(hSt),mSt=n=>function(e,r,...i){const o=e==="onError";let s=r;for(let a=0;a<n[e].length;a++){const l=n[e][a];if(s=l(s,...i),o&&!s)break}return s};function gSt(){const n=Object.create(null);let e=0;function r(o){const s=e++;return n[s]=o,function(){delete n[s]}}function i(o){for(const s in n)n[s](o)}return{publish:i,subscribe:r}}const vSt=["request","response","progress","error","abort"],Hue=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function s6e(n,e){const r=[],i=Hue.reduce((s,a)=>(s[a]=s[a]||[],s),{processOptions:[cSt],validateOptions:[dSt]});function o(s){const a=(v,y,b)=>{let x=v,_=y;if(!x)try{_=c("onResponse",y,b)}catch(w){_=null,x=w}x=x&&c("onError",x,b),x?l.error.publish(x):_&&l.response.publish(_)},l=vSt.reduce((v,y)=>(v[y]=gSt(),v),{}),c=mSt(i),u=c("processOptions",s);c("validateOptions",u);const f={options:u,channels:l,applyMiddleware:c};let h;const m=l.request.subscribe(v=>{h=e(v,(y,b)=>a(y,b,v))});l.abort.subscribe(()=>{m(),h&&h.abort()});const g=c("onReturn",l,f);return g===l&&l.request.publish(f),g}return o.use=function(s){if(!s)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof s=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(s.onReturn&&i.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return Hue.forEach(a=>{s[a]&&i[a].push(s[a])}),r.push(s),o},o.clone=()=>s6e(r,e),n.forEach(o.use),o}var a6e=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},kd=(n,e,r)=>(a6e(n,e,"read from private field"),r?r.call(n):e.get(n)),h1=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},Tv=(n,e,r,i)=>(a6e(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),Wj,Gj,b_,qj,Mv,Kj,Yj;class l6e{constructor(){this.readyState=0,this.responseType="",h1(this,Wj,void 0),h1(this,Gj,void 0),h1(this,b_,void 0),h1(this,qj,{}),h1(this,Mv,void 0),h1(this,Kj,{}),h1(this,Yj,void 0)}open(e,r,i){Tv(this,Wj,e),Tv(this,Gj,r),Tv(this,b_,""),this.readyState=1,this.onreadystatechange(),Tv(this,Mv,void 0)}abort(){kd(this,Mv)&&kd(this,Mv).abort()}getAllResponseHeaders(){return kd(this,b_)}setRequestHeader(e,r){kd(this,qj)[e]=r}setInit(e,r=!0){Tv(this,Kj,e),Tv(this,Yj,r)}send(e){const r=this.responseType!=="arraybuffer",i={...kd(this,Kj),method:kd(this,Wj),headers:kd(this,qj),body:e};typeof AbortController=="function"&&kd(this,Yj)&&(Tv(this,Mv,new AbortController),typeof EventTarget<"u"&&kd(this,Mv).signal instanceof EventTarget&&(i.signal=kd(this,Mv).signal)),typeof document<"u"&&(i.credentials=this.withCredentials?"include":"omit"),fetch(kd(this,Gj),i).then(o=>(o.headers.forEach((s,a)=>{Tv(this,b_,kd(this,b_)+`${a}: ${s}\r
`)}),this.status=o.status,this.statusText=o.statusText,this.readyState=3,r?o.text():o.arrayBuffer())).then(o=>{typeof o=="string"?this.responseText=o:this.response=o,this.readyState=4,this.onreadystatechange()}).catch(o=>{var s;if(o.name==="AbortError"){this.onabort();return}(s=this.onerror)==null||s.call(this,o)})}}Wj=new WeakMap,Gj=new WeakMap,b_=new WeakMap,qj=new WeakMap,Mv=new WeakMap,Kj=new WeakMap,Yj=new WeakMap;const HW=typeof XMLHttpRequest=="function"?"xhr":"fetch",ySt=HW==="xhr"?XMLHttpRequest:l6e,bSt=(n,e)=>{var r;const i=n.options,o=n.applyMiddleware("finalizeOptions",i),s={},a=n.applyMiddleware("interceptRequest",void 0,{adapter:HW,context:n});if(a){const C=setTimeout(e,0,null,a);return{abort:()=>clearTimeout(C)}}let l=new ySt;l instanceof l6e&&typeof o.fetch=="object"&&l.setInit(o.fetch,(r=o.useAbortSignal)!=null?r:!0);const c=o.headers,u=o.timeout;let f=!1,h=!1,m=!1;if(l.onerror=C=>{x(new Error(`Request error while attempting to reach ${o.url}${C.lengthComputable?`(${C.loaded} of ${C.total} bytes transferred)`:""}`))},l.ontimeout=C=>{x(new Error(`Request timeout while attempting to reach ${o.url}${C.lengthComputable?`(${C.loaded} of ${C.total} bytes transferred)`:""}`))},l.onabort=()=>{b(!0),f=!0},l.onreadystatechange=()=>{y(),!(f||l.readyState!==4)&&l.status!==0&&w()},l.open(o.method,o.url,!0),l.withCredentials=!!o.withCredentials,c&&l.setRequestHeader)for(const C in c)c.hasOwnProperty(C)&&l.setRequestHeader(C,c[C]);return o.rawBody&&(l.responseType="arraybuffer"),n.applyMiddleware("onRequest",{options:o,adapter:HW,request:l,context:n}),l.send(o.body||null),u&&(s.connect=setTimeout(()=>v("ETIMEDOUT"),u.connect)),{abort:g};function g(){f=!0,l&&l.abort()}function v(C){m=!0,l.abort();const S=new Error(C==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${o.url}`:`Connection timed out on request to ${o.url}`);S.code=C,n.channels.error.publish(S)}function y(){u&&(b(),s.socket=setTimeout(()=>v("ESOCKETTIMEDOUT"),u.socket))}function b(C){(C||f||l.readyState>=2&&s.connect)&&clearTimeout(s.connect),s.socket&&clearTimeout(s.socket)}function x(C){if(h)return;b(!0),h=!0,l=null;const S=C||new Error(`Network error while attempting to reach ${o.url}`);S.isNetworkError=!0,S.request=o,e(S)}function _(){return{body:l.response||(l.responseType===""||l.responseType==="text"?l.responseText:""),url:o.url,method:o.method,headers:pSt(l.getAllResponseHeaders()),statusCode:l.status,statusMessage:l.statusText}}function w(){if(!(f||h||m)){if(l.status===0){x(new Error("Unknown XHR error"));return}b(),h=!0,e(null,_())}}},xSt=(n=[],e=bSt)=>s6e(n,e);var WW={exports:{}},W9,Wue;function c6e(){if(Wue)return W9;Wue=1;var n=1e3,e=n*60,r=e*60,i=r*24,o=i*7,s=i*365.25;W9=function(f,h){h=h||{};var m=typeof f;if(m==="string"&&f.length>0)return a(f);if(m==="number"&&isFinite(f))return h.long?c(f):l(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function a(f){if(f=String(f),!(f.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(h){var m=parseFloat(h[1]),g=(h[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return m*s;case"weeks":case"week":case"w":return m*o;case"days":case"day":case"d":return m*i;case"hours":case"hour":case"hrs":case"hr":case"h":return m*r;case"minutes":case"minute":case"mins":case"min":case"m":return m*e;case"seconds":case"second":case"secs":case"sec":case"s":return m*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return m;default:return}}}}function l(f){var h=Math.abs(f);return h>=i?Math.round(f/i)+"d":h>=r?Math.round(f/r)+"h":h>=e?Math.round(f/e)+"m":h>=n?Math.round(f/n)+"s":f+"ms"}function c(f){var h=Math.abs(f);return h>=i?u(f,h,i,"day"):h>=r?u(f,h,r,"hour"):h>=e?u(f,h,e,"minute"):h>=n?u(f,h,n,"second"):f+" ms"}function u(f,h,m,g){var v=h>=m*1.5;return Math.round(f/m)+" "+g+(v?"s":"")}return W9}function wSt(n){r.debug=r,r.default=r,r.coerce=c,r.disable=s,r.enable=o,r.enabled=a,r.humanize=c6e(),r.destroy=u,Object.keys(n).forEach(f=>{r[f]=n[f]}),r.names=[],r.skips=[],r.formatters={};function e(f){let h=0;for(let m=0;m<f.length;m++)h=(h<<5)-h+f.charCodeAt(m),h|=0;return r.colors[Math.abs(h)%r.colors.length]}r.selectColor=e;function r(f){let h,m=null,g,v;function y(...b){if(!y.enabled)return;const x=y,_=Number(new Date),w=_-(h||_);x.diff=w,x.prev=h,x.curr=_,h=_,b[0]=r.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let C=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(T,A)=>{if(T==="%%")return"%";C++;const I=r.formatters[A];if(typeof I=="function"){const D=b[C];T=I.call(x,D),b.splice(C,1),C--}return T}),r.formatArgs.call(x,b),(x.log||r.log).apply(x,b)}return y.namespace=f,y.useColors=r.useColors(),y.color=r.selectColor(f),y.extend=i,y.destroy=r.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(g!==r.namespaces&&(g=r.namespaces,v=r.enabled(f)),v),set:b=>{m=b}}),typeof r.init=="function"&&r.init(y),y}function i(f,h){const m=r(this.namespace+(typeof h>"u"?":":h)+f);return m.log=this.log,m}function o(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let h;const m=(typeof f=="string"?f:"").split(/[\s,]+/),g=m.length;for(h=0;h<g;h++)m[h]&&(f=m[h].replace(/\*/g,".*?"),f[0]==="-"?r.skips.push(new RegExp("^"+f.slice(1)+"$")):r.names.push(new RegExp("^"+f+"$")))}function s(){const f=[...r.names.map(l),...r.skips.map(l).map(h=>"-"+h)].join(",");return r.enable(""),f}function a(f){if(f[f.length-1]==="*")return!0;let h,m;for(h=0,m=r.skips.length;h<m;h++)if(r.skips[h].test(f))return!1;for(h=0,m=r.names.length;h<m;h++)if(r.names[h].test(f))return!0;return!1}function l(f){return f.toString().substring(2,f.toString().length-2).replace(/\.\*\?$/,"*")}function c(f){return f instanceof Error?f.stack||f.message:f}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var _St=wSt;(function(n,e){e.formatArgs=i,e.save=o,e.load=s,e.useColors=r,e.storage=a(),e.destroy=(()=>{let c=!1;return()=>{c||(c=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(c){if(c[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+c[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;const u="color: "+this.color;c.splice(1,0,u,"color: inherit");let f=0,h=0;c[0].replace(/%[a-zA-Z%]/g,m=>{m!=="%%"&&(f++,m==="%c"&&(h=f))}),c.splice(h,0,u)}e.log=console.debug||console.log||(()=>{});function o(c){try{c?e.storage.setItem("debug",c):e.storage.removeItem("debug")}catch{}}function s(){let c;try{c=e.storage.getItem("debug")}catch{}return!c&&typeof process<"u"&&"env"in process&&(c={}.DEBUG),c}function a(){try{return localStorage}catch{}}n.exports=_St(e);const{formatters:l}=n.exports;l.j=function(c){try{return JSON.stringify(c)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}})(WW,WW.exports);var ESt=WW.exports;const rg=Tt(ESt);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function Gue(n){return Object.prototype.toString.call(n)==="[object Object]"}function cl(n){var e,r;return Gue(n)===!1?!1:(e=n.constructor,e===void 0?!0:(r=e.prototype,!(Gue(r)===!1||r.hasOwnProperty("isPrototypeOf")===!1)))}const CSt=typeof Buffer>"u"?()=>!1:n=>Buffer.isBuffer(n),SSt=["boolean","string","number"];function kSt(){return{processOptions:n=>{const e=n.body;return!e||!(typeof e.pipe!="function"&&!CSt(e)&&(SSt.indexOf(typeof e)!==-1||Array.isArray(e)||cl(e)))?n:Object.assign({},n,{body:JSON.stringify(n.body),headers:Object.assign({},n.headers,{"Content-Type":"application/json"})})}}}function TSt(n){return{onResponse:r=>{const i=r.headers["content-type"]||"",o=n&&n.force||i.indexOf("application/json")!==-1;return!r.body||!i||!o?r:Object.assign({},r,{body:e(r.body)})},processOptions:r=>Object.assign({},r,{headers:Object.assign({Accept:"application/json"},r.headers)})};function e(r){try{return JSON.parse(r)}catch(i){throw i.message=`Failed to parsed response body as JSON: ${i.message}`,i}}}let nT={};typeof globalThis<"u"?nT=globalThis:typeof window<"u"?nT=window:typeof global<"u"?nT=global:typeof self<"u"&&(nT=self);var ASt=nT;function ISt(n={}){const e=n.implementation||ASt.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(r,i)=>new e(o=>(r.error.subscribe(s=>o.error(s)),r.progress.subscribe(s=>o.next(Object.assign({type:"progress"},s))),r.response.subscribe(s=>{o.next(Object.assign({type:"response"},s)),o.complete()}),r.request.publish(i),()=>r.abort.publish()))}}function DSt(){return{onRequest:n=>{if(n.adapter!=="xhr")return;const e=n.request,r=n.context;"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=i("upload")),"onprogress"in e&&(e.onprogress=i("download"));function i(o){return s=>{const a=s.lengthComputable?s.loaded/s.total*100:-1;r.channels.progress.publish({stage:o,percent:a,total:s.total,loaded:s.loaded,lengthComputable:s.lengthComputable})}}}}}class RSt{constructor(e){this.__CANCEL__=!0,this.message=e}toString(){return`Cancel${this.message?`: ${this.message}`:""}`}}const que=class{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let e=null;this.promise=new Promise(r=>{e=r}),n(r=>{this.reason||(this.reason=new RSt(r),e(this.reason))})}};que.source=()=>{let n;return{token:new que(e=>{n=e}),cancel:n}};var u6e=(n,e,r)=>r.method!=="GET"&&r.method!=="HEAD"?!1:n.isNetworkError||!1;const OSt=n=>n!==null&&typeof n=="object"&&typeof n.pipe=="function";var PSt=n=>{const e=n.maxRetries||5,r=n.retryDelay||jSt,i=n.shouldRetry;return{onError:(o,s)=>{const a=s.options,l=a.maxRetries||e,c=a.shouldRetry||i,u=a.attemptNumber||0;if(OSt(a.body)||!c(o,u,a)||u>=l)return o;const f=Object.assign({},s,{options:Object.assign({},a,{attemptNumber:u+1})});return setTimeout(()=>s.channels.request.publish(f),r(u)),null}}};function jSt(n){return 100*Math.pow(2,n)+Math.random()*100}const GQ=(n={})=>PSt({shouldRetry:u6e,...n});GQ.shouldRetry=u6e;class LSt extends Error{constructor(e){const r=d6e(e);super(r.message),this.statusCode=400,Object.assign(this,r)}}class $St extends Error{constructor(e){const r=d6e(e);super(r.message),this.statusCode=500,Object.assign(this,r)}}function d6e(n){const e=n.body,r={response:n,statusCode:n.statusCode,responseBody:NSt(e,n),message:"",details:void 0};if(e.error&&e.message)return r.message=`${e.error} - ${e.message}`,r;if(MSt(e)){const i=e.error.items||[],o=i.slice(0,5).map(a=>{var l;return(l=a.error)==null?void 0:l.description}).filter(Boolean);let s=o.length?`:
- ${o.join(`
- `)}`:"";return i.length>5&&(s+=`
...and ${i.length-5} more`),r.message=`${e.error.description}${s}`,r.details=e.error,r}return e.error&&e.error.description?(r.message=e.error.description,r.details=e.error,r):(r.message=e.error||e.message||FSt(n),r)}function MSt(n){return Kue(n)&&Kue(n.error)&&n.error.type==="mutationError"&&typeof n.error.description=="string"}function Kue(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}function FSt(n){const e=n.statusMessage?` ${n.statusMessage}`:"";return`${n.method}-request to ${n.url} resulted in HTTP ${n.statusCode}${e}`}function NSt(n,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(n,null,2):n}const BSt={onResponse:n=>{if(n.statusCode>=500)throw new $St(n);if(n.statusCode>=400)throw new LSt(n);return n}},USt={onResponse:n=>{const e=n.headers["x-sanity-warning"];return(Array.isArray(e)?e:[e]).filter(Boolean).forEach(r=>console.warn(r)),n}};function Yue(n,{maxRetries:e=5,retryDelay:r}){const i=xSt([e>0?GQ({retryDelay:r,maxRetries:e,shouldRetry:zSt}):{},...n,USt,kSt(),TSt(),DSt(),BSt,ISt({implementation:Un})]);function o(s,a=i){return a({maxRedirects:0,...s})}return o.defaultRequester=i,o}function zSt(n,e,r){const i=r.method==="GET"||r.method==="HEAD",o=(r.uri||r.url).startsWith("/data/query"),s=n.response&&(n.response.statusCode===429||n.response.statusCode===502||n.response.statusCode===503);return(i||o)&&s?!0:GQ.shouldRetry(n,e,r)}function f6e(n){if(typeof n=="string")return{id:n};if(Array.isArray(n))return{query:"*[_id in $ids]",params:{ids:n}};if(typeof n=="object"&&n!==null&&"query"in n&&typeof n.query=="string")return"params"in n&&typeof n.params=="object"&&n.params!==null?{query:n.query,params:n.params}:{query:n.query};const e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${e}`)}const Zue=["image","file"],Xue=["before","after","replace"],h6e=n=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(n))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},VSt=n=>{if(!/^[-a-z0-9]+$/i.test(n))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},HSt=n=>{if(Zue.indexOf(n)===-1)throw new Error(`Invalid asset type: ${n}. Must be one of ${Zue.join(", ")}`)},sA=(n,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error(`${n}() takes an object of properties`)},p6e=(n,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error(`${n}(): "${e}" is not a valid document ID`)},wM=(n,e)=>{if(!e._id)throw new Error(`${n}() requires that the document contains an ID ("_id" property)`);p6e(n,e._id)},WSt=(n,e,r)=>{const i="insert(at, selector, items)";if(Xue.indexOf(n)===-1){const o=Xue.map(s=>`"${s}"`).join(", ");throw new Error(`${i} takes an "at"-argument which is one of: ${o}`)}if(typeof e!="string")throw new Error(`${i} takes a "selector"-argument which must be a string`);if(!Array.isArray(r))throw new Error(`${i} takes an "items"-argument which must be an array`)},m6e=n=>{if(!n.dataset)throw new Error("`dataset` must be provided to perform queries");return n.dataset||""},g6e=n=>{if(typeof n!="string"||!/^[a-z0-9._-]{1,75}$/i.test(n))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return n};var v6e=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},NE=(n,e,r)=>(v6e(n,e,"read from private field"),r?r.call(n):e.get(n)),y6e=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},b6e=(n,e,r,i)=>(v6e(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r);class x6e{constructor(e,r={}){this.selection=e,this.operations=r}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return sA("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,r,i){return WSt(e,r,i),this._assign("insert",{[e]:r,items:i})}append(e,r){return this.insert("after",`${e}[-1]`,r)}prepend(e,r){return this.insert("before",`${e}[0]`,r)}splice(e,r,i,o){const s=typeof i>"u"||i===-1,a=r<0?r-1:r,l=s?-1:Math.max(0,r+i),c=a<0&&l>=0?"":l,u=`${e}[${a}:${c}]`;return this.insert("replace",u,o||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...f6e(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,r,i=!0){return sA(e,r),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},i&&this.operations[e]||{},r)}),this}_set(e,r){return this._assign(e,r,!1)}}var x_;const GSt=class w6e extends x6e{constructor(e,r,i){super(e,r),y6e(this,x_,void 0),b6e(this,x_,i)}clone(){return new w6e(this.selection,{...this.operations},NE(this,x_))}commit(e){if(!NE(this,x_))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",i=Object.assign({returnFirst:r,returnDocuments:!0},e);return NE(this,x_).mutate({patch:this.serialize()},i)}};x_=new WeakMap;let aA=GSt;var w_;const qSt=class _6e extends x6e{constructor(e,r,i){super(e,r),y6e(this,w_,void 0),b6e(this,w_,i)}clone(){return new _6e(this.selection,{...this.operations},NE(this,w_))}commit(e){if(!NE(this,w_))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const r=typeof this.selection=="string",i=Object.assign({returnFirst:r,returnDocuments:!0},e);return NE(this,w_).mutate({patch:this.serialize()},i)}};w_=new WeakMap;let lA=qSt;var E6e=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},x0=(n,e,r)=>(E6e(n,e,"read from private field"),r?r.call(n):e.get(n)),C6e=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},S6e=(n,e,r,i)=>(E6e(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r);const k6e={returnDocuments:!1};class T6e{constructor(e=[],r){this.operations=e,this.trxId=r}create(e){return sA("create",e),this._add({create:e})}createIfNotExists(e){const r="createIfNotExists";return sA(r,e),wM(r,e),this._add({[r]:e})}createOrReplace(e){const r="createOrReplace";return sA(r,e),wM(r,e),this._add({[r]:e})}delete(e){return p6e("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}var R1;const KSt=class A6e extends T6e{constructor(e,r,i){super(e,i),C6e(this,R1,void 0),S6e(this,R1,r)}clone(){return new A6e([...this.operations],x0(this,R1),this.trxId)}commit(e){if(!x0(this,R1))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return x0(this,R1).mutate(this.serialize(),Object.assign({transactionId:this.trxId},k6e,e||{}))}patch(e,r){const i=typeof r=="function";if(typeof e!="string"&&e instanceof lA)return this._add({patch:e.serialize()});if(i){const o=r(new lA(e,{},x0(this,R1)));if(!(o instanceof lA))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:o.serialize()})}return this._add({patch:{id:e,...r}})}};R1=new WeakMap;let I6e=KSt;var O1;const YSt=class D6e extends T6e{constructor(e,r,i){super(e,i),C6e(this,O1,void 0),S6e(this,O1,r)}clone(){return new D6e([...this.operations],x0(this,O1),this.trxId)}commit(e){if(!x0(this,O1))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return x0(this,O1).mutate(this.serialize(),Object.assign({transactionId:this.trxId},k6e,e||{}))}patch(e,r){const i=typeof r=="function";if(typeof e!="string"&&e instanceof aA)return this._add({patch:e.serialize()});if(i){const o=r(new aA(e,{},x0(this,O1)));if(!(o instanceof aA))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:o.serialize()})}return this._add({patch:{id:e,...r}})}};O1=new WeakMap;let R6e=YSt;const ZSt="https://www.sanity.io/help/";function qQ(n){return ZSt+n}function XSt(n){let e=!1,r;return(...i)=>(e||(r=n(...i),e=!0),r)}const s8=n=>XSt((...e)=>console.warn(n.join(" "),...e)),QSt=s8(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),JSt=s8(["The Sanity client is configured with the `perspective` set to `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),e2t=s8(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${qQ("js-client-browser-token")} for more information and how to hide this warning.`]),t2t=s8(["Using the Sanity client without specifying an API version is deprecated.",`See ${qQ("js-client-api-version")}`]),n2t="apicdn.sanity.io",cA={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},r2t=["localhost","127.0.0.1","0.0.0.0"],i2t=n=>r2t.indexOf(n)!==-1;function o2t(n){if(n==="1"||n==="X")return;const e=new Date(n);if(!(/^\d{4}-\d{2}-\d{2}$/.test(n)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}const O6e=function(n){switch(n){case"previewDrafts":case"published":case"raw":return;default:throw new TypeError("Invalid API perspective string, expected `published`, `previewDrafts` or `raw`")}},P6e=(n,e)=>{const r={...e,...n,stega:{...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||cA.stega,...typeof n.stega=="boolean"?{enabled:n.stega}:n.stega||{}}};r.apiVersion||t2t();const i={...cA,...r},o=i.useProjectHostname;if(typeof Promise>"u"){const h=qQ("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${h}`)}if(o&&!i.projectId)throw new Error("Configuration must contain `projectId`");if(typeof i.perspective=="string"&&O6e(i.perspective),"encodeSourceMap"in i)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in i)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof i.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${i.stega.enabled}`);if(i.stega.enabled&&i.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(i.stega.enabled&&typeof i.stega.studioUrl!="string"&&typeof i.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${i.stega.studioUrl}`);const s=typeof window<"u"&&window.location&&window.location.hostname,a=s&&i2t(window.location.hostname);s&&a&&i.token&&i.ignoreBrowserTokenWarning!==!0?e2t():typeof i.useCdn>"u"&&QSt(),o&&VSt(i.projectId),i.dataset&&h6e(i.dataset),"requestTagPrefix"in i&&(i.requestTagPrefix=i.requestTagPrefix?g6e(i.requestTagPrefix).replace(/\.+$/,""):void 0),i.apiVersion=`${i.apiVersion}`.replace(/^v/,""),i.isDefaultApi=i.apiHost===cA.apiHost,i.useCdn=i.useCdn!==!1&&!i.withCredentials,o2t(i.apiVersion);const l=i.apiHost.split("://",2),c=l[0],u=l[1],f=i.isDefaultApi?n2t:u;return i.useProjectHostname?(i.url=`${c}://${i.projectId}.${u}/v${i.apiVersion}`,i.cdnUrl=`${c}://${i.projectId}.${f}/v${i.apiVersion}`):(i.url=`${i.apiHost}/v${i.apiVersion}`,i.cdnUrl=i.url),i},s2t="X-Sanity-Project-ID";function a2t(n,e={}){const r={},i=e.token||n.token;i&&(r.Authorization=`Bearer ${i}`),!e.useGlobalApi&&!n.useProjectHostname&&n.projectId&&(r[s2t]=n.projectId);const o=!!(typeof e.withCredentials>"u"?n.token||n.withCredentials:e.withCredentials),s=typeof e.timeout>"u"?n.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},r,e.headers||{}),timeout:typeof s>"u"?5*60*1e3:s,proxy:e.proxy||n.proxy,json:!0,withCredentials:o,fetch:typeof e.fetch=="object"&&typeof n.fetch=="object"?{...n.fetch,...e.fetch}:e.fetch||n.fetch})}var j6e={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},KQ={0:8203,1:8204,2:8205,3:65279},l2t=new Array(4).fill(String.fromCodePoint(KQ[0])).join("");function c2t(n){let e=JSON.stringify(n);return`${l2t}${Array.from(e).map(r=>{let i=r.charCodeAt(0);if(i>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${r} (${i})`);return Array.from(i.toString(4).padStart(4,"0")).map(o=>String.fromCodePoint(KQ[o])).join("")}).join("")}`}function u2t(n){return Number.isNaN(Number(n))?!!Date.parse(n):!1}function d2t(n){try{new URL(n,n.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function eLr(n,e,r="auto"){return r===!0||r==="auto"&&(u2t(n)||d2t(n))?n:`${n}${c2t(e)}`}Object.fromEntries(Object.entries(KQ).map(n=>n.reverse()));Object.fromEntries(Object.entries(j6e).map(n=>n.reverse()));var f2t=`${Object.values(j6e).map(n=>`\\u{${n.toString(16)}}`).join("")}`,Que=new RegExp(`[${f2t}]{4,}`,"gu");function h2t(n){var e;return{cleaned:n.replace(Que,""),encoded:((e=n.match(Que))==null?void 0:e[0])||""}}function p2t(n){try{return JSON.parse(JSON.stringify(n,(e,r)=>typeof r!="string"?r:h2t(r).cleaned))}catch{return n}}const L6e=({query:n,params:e={},options:r={}})=>{const i=new URLSearchParams,{tag:o,returnQuery:s,...a}=r;o&&i.append("tag",o),i.append("query",n);for(const[l,c]of Object.entries(e))i.append(`$${l}`,JSON.stringify(c));for(const[l,c]of Object.entries(a))c&&i.append(l,`${c}`);return s===!1&&i.append("returnQuery","false"),`?${i}`},m2t=(n,e)=>n===!1?void 0:typeof n>"u"?e:n,g2t=(n={})=>({dryRun:n.dryRun,returnIds:!0,returnDocuments:m2t(n.returnDocuments,!0),visibility:n.visibility||"sync",autoGenerateArrayKeys:n.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:n.skipCrossDatasetReferenceValidation}),YQ=n=>n.type==="response",v2t=n=>n.body,y2t=(n,e)=>n.reduce((r,i)=>(r[e(i)]=i,r),Object.create(null)),b2t=11264;function $6e(n,e,r,i,o={},s={}){const a="stega"in s?{...r||{},...typeof s.stega=="boolean"?{enabled:s.stega}:s.stega||{}}:r,l=a.enabled?p2t(o):o,c=s.filterResponse===!1?v=>v:v=>v.result,{cache:u,next:f,...h}={useAbortSignal:typeof s.signal<"u",resultSourceMap:a.enabled?"withKeyArraySelector":s.resultSourceMap,...s,returnQuery:s.filterResponse===!1&&s.returnQuery!==!1},m=typeof u<"u"||typeof f<"u"?{...h,fetch:{cache:u,next:f}}:h,g=MI(n,e,"query",{query:i,params:l},m);return a.enabled?g.pipe(Wyt(Gi(Ay(()=>import("./stegaEncodeSourceMap-2143bf8b.js"),[]).then(function(v){return v.a}).then(({stegaEncodeSourceMap:v})=>v))),Me(([v,y])=>{const b=y(v.result,v.resultSourceMap,a);return c({...v,result:b})})):g.pipe(Me(c))}function M6e(n,e,r,i={}){const o={uri:wS(n,"doc",r),json:!0,tag:i.tag};return FI(n,e,o).pipe(Bn(YQ),Me(s=>s.body.documents&&s.body.documents[0]))}function F6e(n,e,r,i={}){const o={uri:wS(n,"doc",r.join(",")),json:!0,tag:i.tag};return FI(n,e,o).pipe(Bn(YQ),Me(s=>{const a=y2t(s.body.documents||[],l=>l._id);return r.map(l=>a[l]||null)}))}function N6e(n,e,r,i){return wM("createIfNotExists",r),a8(n,e,r,"createIfNotExists",i)}function B6e(n,e,r,i){return wM("createOrReplace",r),a8(n,e,r,"createOrReplace",i)}function U6e(n,e,r,i){return MI(n,e,"mutate",{mutations:[{delete:f6e(r)}]},i)}function z6e(n,e,r,i){let o;r instanceof lA||r instanceof aA?o={patch:r.serialize()}:r instanceof I6e||r instanceof R6e?o=r.serialize():o=r;const s=Array.isArray(o)?o:[o],a=i&&i.transactionId||void 0;return MI(n,e,"mutate",{mutations:s,transactionId:a},i)}function MI(n,e,r,i,o={}){const s=r==="mutate",a=r==="query",l=s?"":L6e(i),c=!s&&l.length<b2t,u=c?l:"",f=o.returnFirst,{timeout:h,token:m,tag:g,headers:v,returnQuery:y}=o,b=wS(n,r,u),x={method:c?"GET":"POST",uri:b,json:!0,body:c?void 0:i,query:s&&g2t(o),timeout:h,headers:v,token:m,tag:g,returnQuery:y,perspective:o.perspective,resultSourceMap:o.resultSourceMap,canUseCdn:a,signal:o.signal,fetch:o.fetch,useAbortSignal:o.useAbortSignal,useCdn:o.useCdn};return FI(n,e,x).pipe(Bn(YQ),Me(v2t),Me(_=>{if(!s)return _;const w=_.results||[];if(o.returnDocuments)return f?w[0]&&w[0].document:w.map(T=>T.document);const C=f?"documentId":"documentIds",S=f?w[0]&&w[0].id:w.map(T=>T.id);return{transactionId:_.transactionId,results:w,[C]:S}}))}function a8(n,e,r,i,o={}){const s={[i]:r},a=Object.assign({returnFirst:!0,returnDocuments:!0},o);return MI(n,e,"mutate",{mutations:[s]},a)}function FI(n,e,r){var i,o;const s=r.url||r.uri,a=n.config(),l=typeof r.canUseCdn>"u"?["GET","HEAD"].indexOf(r.method||"GET")>=0&&s.indexOf("/data/")===0:r.canUseCdn;let c=((i=r.useCdn)!=null?i:a.useCdn)&&l;const u=r.tag&&a.requestTagPrefix?[a.requestTagPrefix,r.tag].join("."):r.tag||a.requestTagPrefix;if(u&&r.tag!==null&&(r.query={tag:g6e(u),...r.query}),["GET","HEAD","POST"].indexOf(r.method||"GET")>=0&&s.indexOf("/data/query/")===0){const m=(o=r.resultSourceMap)!=null?o:a.resultSourceMap;m!==void 0&&m!==!1&&(r.query={resultSourceMap:m,...r.query});const g=r.perspective||a.perspective;typeof g=="string"&&g!=="raw"&&(O6e(g),r.query={perspective:g,...r.query},g==="previewDrafts"&&c&&(c=!1,JSt())),r.returnQuery===!1&&(r.query={returnQuery:"false",...r.query})}const f=a2t(a,Object.assign({},r,{url:ZQ(n,s,c)})),h=new Un(m=>e(f,a.requester).subscribe(m));return r.signal?h.pipe(x2t(r.signal)):h}function mh(n,e,r){return FI(n,e,r).pipe(Bn(i=>i.type==="response"),Me(i=>i.body))}function wS(n,e,r){const i=n.config(),o=m6e(i),s=`/${e}/${o}`;return`/data${r?`${s}/${r}`:s}`.replace(/\/($|\?)/,"$1")}function ZQ(n,e,r=!1){const{url:i,cdnUrl:o}=n.config();return`${r?o:i}/${e.replace(/^\//,"")}`}function x2t(n){return e=>new Un(r=>{const i=()=>r.error(_2t(n));if(n&&n.aborted){i();return}const o=e.subscribe(r);return n.addEventListener("abort",i),()=>{n.removeEventListener("abort",i),o.unsubscribe()}})}const w2t=!!globalThis.DOMException;function _2t(n){var e,r;if(w2t)return new DOMException((e=n==null?void 0:n.reason)!=null?e:"The operation was aborted.","AbortError");const i=new Error((r=n==null?void 0:n.reason)!=null?r:"The operation was aborted.");return i.name="AbortError",i}var V6e=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},_M=(n,e,r)=>(V6e(n,e,"read from private field"),r?r.call(n):e.get(n)),EM=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},CM=(n,e,r,i)=>(V6e(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),Zj,Xj;class E2t{constructor(e,r){EM(this,Zj,void 0),EM(this,Xj,void 0),CM(this,Zj,e),CM(this,Xj,r)}upload(e,r,i){return H6e(_M(this,Zj),_M(this,Xj),e,r,i)}}Zj=new WeakMap,Xj=new WeakMap;var Qj,Jj;class C2t{constructor(e,r){EM(this,Qj,void 0),EM(this,Jj,void 0),CM(this,Qj,e),CM(this,Jj,r)}upload(e,r,i){const o=H6e(_M(this,Qj),_M(this,Jj),e,r,i);return Js(o.pipe(Bn(s=>s.type==="response"),Me(s=>s.body.document)))}}Qj=new WeakMap,Jj=new WeakMap;function H6e(n,e,r,i,o={}){HSt(r);let s=o.extract||void 0;s&&!s.length&&(s=["none"]);const a=m6e(n.config()),l=r==="image"?"images":"files",c=S2t(o,i),{tag:u,label:f,title:h,description:m,creditLine:g,filename:v,source:y}=c,b={label:f,title:h,description:m,filename:v,meta:s,creditLine:g};return y&&(b.sourceId=y.id,b.sourceName=y.name,b.sourceUrl=y.url),FI(n,e,{tag:u,method:"POST",timeout:c.timeout||0,uri:`/assets/${l}/${a}`,headers:c.contentType?{"Content-Type":c.contentType}:{},query:b,body:i})}function S2t(n,e){return typeof File>"u"||!(e instanceof File)?n:Object.assign({filename:n.preserveFilename===!1?void 0:e.name,contentType:e.type},n)}var k2t=(n,e)=>Object.keys(e).concat(Object.keys(n)).reduce((r,i)=>(r[i]=typeof n[i]>"u"?e[i]:n[i],r),{});const T2t=(n,e)=>e.reduce((r,i)=>(typeof n[i]>"u"||(r[i]=n[i]),r),{}),A2t=14800,I2t=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],D2t={includeResult:!0};function W6e(n,e,r={}){const{url:i,token:o,withCredentials:s,requestTagPrefix:a}=this.config(),l=r.tag&&a?[a,r.tag].join("."):r.tag,c={...k2t(r,D2t),tag:l},u=T2t(c,I2t),f=L6e({query:n,params:e,options:{tag:l,...u}}),h=`${i}${wS(this,"listen",f)}`;if(h.length>A2t)return new Un(y=>y.error(new Error("Query too large for listener")));const m=c.events?c.events:["mutation"],g=m.indexOf("reconnect")!==-1,v={};return(o||s)&&(v.withCredentials=!0),o&&(v.headers={Authorization:`Bearer ${o}`}),new Un(y=>{let b;D().then(O=>{b=O}).catch(O=>{y.error(O),P()});let x,_=!1;function w(){_||(I(),!_&&b.readyState===b.CLOSED&&(A(),clearTimeout(x),x=setTimeout(R,100)))}function C(O){y.error(R2t(O))}function S(O){const $=G6e(O);return $ instanceof Error?y.error($):y.next($)}function T(){_=!0,A(),y.complete()}function A(){b&&(b.removeEventListener("error",w),b.removeEventListener("channelError",C),b.removeEventListener("disconnect",T),m.forEach(O=>b.removeEventListener(O,S)),b.close())}function I(){g&&y.next({type:"reconnect"})}async function D(){const{default:O}=await Ay(()=>import("./browser-69678728.js").then(L=>L.b),[]),$=new O(h,v);return $.addEventListener("error",w),$.addEventListener("channelError",C),$.addEventListener("disconnect",T),m.forEach(L=>$.addEventListener(L,S)),$}function R(){D().then(O=>{b=O}).catch(O=>{y.error(O),P()})}function P(){_=!0,A()}return P})}function G6e(n){try{const e=n.data&&JSON.parse(n.data)||{};return Object.assign({type:n.type},e)}catch(e){return e}}function R2t(n){if(n instanceof Error)return n;const e=G6e(n);return e instanceof Error?e:new Error(O2t(e))}function O2t(n){return n.error?n.error.description?n.error.description:typeof n.error=="string"?n.error:JSON.stringify(n.error,null,2):n.message||"Unknown listener error"}var q6e=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},Ul=(n,e,r)=>(q6e(n,e,"read from private field"),r?r.call(n):e.get(n)),SM=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},kM=(n,e,r,i)=>(q6e(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),P1,j1;class P2t{constructor(e,r){SM(this,P1,void 0),SM(this,j1,void 0),kM(this,P1,e),kM(this,j1,r)}create(e,r){return BE(Ul(this,P1),Ul(this,j1),"PUT",e,r)}edit(e,r){return BE(Ul(this,P1),Ul(this,j1),"PATCH",e,r)}delete(e){return BE(Ul(this,P1),Ul(this,j1),"DELETE",e)}list(){return mh(Ul(this,P1),Ul(this,j1),{uri:"/datasets",tag:null})}}P1=new WeakMap,j1=new WeakMap;var L1,$1;class j2t{constructor(e,r){SM(this,L1,void 0),SM(this,$1,void 0),kM(this,L1,e),kM(this,$1,r)}create(e,r){return Js(BE(Ul(this,L1),Ul(this,$1),"PUT",e,r))}edit(e,r){return Js(BE(Ul(this,L1),Ul(this,$1),"PATCH",e,r))}delete(e){return Js(BE(Ul(this,L1),Ul(this,$1),"DELETE",e))}list(){return Js(mh(Ul(this,L1),Ul(this,$1),{uri:"/datasets",tag:null}))}}L1=new WeakMap,$1=new WeakMap;function BE(n,e,r,i,o){return h6e(i),mh(n,e,{method:r,uri:`/datasets/${i}`,body:o,tag:null})}var K6e=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},w0=(n,e,r)=>(K6e(n,e,"read from private field"),r?r.call(n):e.get(n)),TM=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},AM=(n,e,r,i)=>(K6e(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),rT,iT;class L2t{constructor(e,r){TM(this,rT,void 0),TM(this,iT,void 0),AM(this,rT,e),AM(this,iT,r)}list(e){const r=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return mh(w0(this,rT),w0(this,iT),{uri:r})}getById(e){return mh(w0(this,rT),w0(this,iT),{uri:`/projects/${e}`})}}rT=new WeakMap,iT=new WeakMap;var oT,sT;class $2t{constructor(e,r){TM(this,oT,void 0),TM(this,sT,void 0),AM(this,oT,e),AM(this,sT,r)}list(e){const r=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Js(mh(w0(this,oT),w0(this,sT),{uri:r}))}getById(e){return Js(mh(w0(this,oT),w0(this,sT),{uri:`/projects/${e}`}))}}oT=new WeakMap,sT=new WeakMap;var Y6e=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},IM=(n,e,r)=>(Y6e(n,e,"read from private field"),r?r.call(n):e.get(n)),DM=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},RM=(n,e,r,i)=>(Y6e(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),eL,tL;class M2t{constructor(e,r){DM(this,eL,void 0),DM(this,tL,void 0),RM(this,eL,e),RM(this,tL,r)}getById(e){return mh(IM(this,eL),IM(this,tL),{uri:`/users/${e}`})}}eL=new WeakMap,tL=new WeakMap;var nL,rL;class F2t{constructor(e,r){DM(this,nL,void 0),DM(this,rL,void 0),RM(this,nL,e),RM(this,rL,r)}getById(e){return Js(mh(IM(this,nL),IM(this,rL),{uri:`/users/${e}`}))}}nL=new WeakMap,rL=new WeakMap;var Z6e=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},fr=(n,e,r)=>(Z6e(n,e,"read from private field"),r?r.call(n):e.get(n)),OM=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},PM=(n,e,r,i)=>(Z6e(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),Fv,$a;const N2t=class GW{constructor(e,r=cA){OM(this,Fv,void 0),OM(this,$a,void 0),this.listen=W6e,this.config(r),PM(this,$a,e),this.assets=new E2t(this,fr(this,$a)),this.datasets=new P2t(this,fr(this,$a)),this.projects=new L2t(this,fr(this,$a)),this.users=new M2t(this,fr(this,$a))}clone(){return new GW(fr(this,$a),this.config())}config(e){if(e===void 0)return{...fr(this,Fv)};if(fr(this,Fv)&&fr(this,Fv).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return PM(this,Fv,P6e(e,fr(this,Fv)||{})),this}withConfig(e){const r=this.config();return new GW(fr(this,$a),{...r,...e,stega:{...r.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,r,i){return $6e(this,fr(this,$a),fr(this,Fv).stega,e,r,i)}getDocument(e,r){return M6e(this,fr(this,$a),e,r)}getDocuments(e,r){return F6e(this,fr(this,$a),e,r)}create(e,r){return a8(this,fr(this,$a),e,"create",r)}createIfNotExists(e,r){return N6e(this,fr(this,$a),e,r)}createOrReplace(e,r){return B6e(this,fr(this,$a),e,r)}delete(e,r){return U6e(this,fr(this,$a),e,r)}mutate(e,r){return z6e(this,fr(this,$a),e,r)}patch(e,r){return new aA(e,r,this)}transaction(e){return new R6e(e,this)}request(e){return mh(this,fr(this,$a),e)}getUrl(e,r){return ZQ(this,e,r)}getDataUrl(e,r){return wS(this,e,r)}};Fv=new WeakMap,$a=new WeakMap;let B2t=N2t;var Nv,ya;const U2t=class qW{constructor(e,r=cA){OM(this,Nv,void 0),OM(this,ya,void 0),this.listen=W6e,this.config(r),PM(this,ya,e),this.assets=new C2t(this,fr(this,ya)),this.datasets=new j2t(this,fr(this,ya)),this.projects=new $2t(this,fr(this,ya)),this.users=new F2t(this,fr(this,ya)),this.observable=new B2t(e,r)}clone(){return new qW(fr(this,ya),this.config())}config(e){if(e===void 0)return{...fr(this,Nv)};if(fr(this,Nv)&&fr(this,Nv).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),PM(this,Nv,P6e(e,fr(this,Nv)||{})),this}withConfig(e){const r=this.config();return new qW(fr(this,ya),{...r,...e,stega:{...r.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,r,i){return Js($6e(this,fr(this,ya),fr(this,Nv).stega,e,r,i))}getDocument(e,r){return Js(M6e(this,fr(this,ya),e,r))}getDocuments(e,r){return Js(F6e(this,fr(this,ya),e,r))}create(e,r){return Js(a8(this,fr(this,ya),e,"create",r))}createIfNotExists(e,r){return Js(N6e(this,fr(this,ya),e,r))}createOrReplace(e,r){return Js(B6e(this,fr(this,ya),e,r))}delete(e,r){return Js(U6e(this,fr(this,ya),e,r))}mutate(e,r){return Js(z6e(this,fr(this,ya),e,r))}patch(e,r){return new lA(e,r,this)}transaction(e){return new I6e(e,this)}request(e){return Js(mh(this,fr(this,ya),e))}dataRequest(e,r,i){return Js(MI(this,fr(this,ya),e,r,i))}getUrl(e,r){return ZQ(this,e,r)}getDataUrl(e,r){return wS(this,e,r)}};Nv=new WeakMap,ya=new WeakMap;let z2t=U2t;function V2t(n,e){return{requester:Yue(n,{}).defaultRequester,createClient:r=>new e(Yue(n,{maxRetries:r.maxRetries,retryDelay:r.retryDelay}),r)}}var H2t=[];const W2t=V2t(H2t,z2t),X6e=W2t.createClient,XQ=["gray","blue","purple","magenta","red","orange","yellow","green","cyan"],G2t=["50","100","200","300","400","500","600","700","800","900","950"],iL={title:"Black",hex:"#0d0e12"},hg={title:"White",hex:"#ffffff"},oL={50:{title:"Gray 50",hex:"#f6f6f8"},100:{title:"Gray 100",hex:"#eeeef1"},200:{title:"Gray 200",hex:"#e3e4e8"},300:{title:"Gray 300",hex:"#bbbdc9"},400:{title:"Gray 400",hex:"#9499ad"},500:{title:"Gray 500",hex:"#727892"},600:{title:"Gray 600",hex:"#515870"},700:{title:"Gray 700",hex:"#383d51"},800:{title:"Gray 800",hex:"#252837"},900:{title:"Gray 900",hex:"#1b1d27"},950:{title:"Gray 950",hex:"#13141b"}},aT={50:{title:"Blue 50",hex:"#f5f8ff"},100:{title:"Blue 100",hex:"#e5edff"},200:{title:"Blue 200",hex:"#dbe5ff"},300:{title:"Blue 300",hex:"#a8bfff"},400:{title:"Blue 400",hex:"#7595ff"},500:{title:"Blue 500",hex:"#556bfc"},600:{title:"Blue 600",hex:"#4043e7"},700:{title:"Blue 700",hex:"#2927aa"},800:{title:"Blue 800",hex:"#192457"},900:{title:"Blue 900",hex:"#161a41"},950:{title:"Blue 950",hex:"#101228"}},Q6e={50:{title:"Purple 50",hex:"#f8f5ff"},100:{title:"Purple 100",hex:"#f1ebff"},200:{title:"Purple 200",hex:"#ece1fe"},300:{title:"Purple 300",hex:"#ccb1fc"},400:{title:"Purple 400",hex:"#b087f7"},500:{title:"Purple 500",hex:"#8f57ef"},600:{title:"Purple 600",hex:"#721fe5"},700:{title:"Purple 700",hex:"#4c1a9e"},800:{title:"Purple 800",hex:"#2f1862"},900:{title:"Purple 900",hex:"#23173f"},950:{title:"Purple 950",hex:"#181128"}},q2t={50:{title:"Magenta 50",hex:"#fef6f9"},100:{title:"Magenta 100",hex:"#fde8ef"},200:{title:"Magenta 200",hex:"#fcdee9"},300:{title:"Magenta 300",hex:"#f7abc5"},400:{title:"Magenta 400",hex:"#f0709b"},500:{title:"Magenta 500",hex:"#e72767"},600:{title:"Magenta 600",hex:"#b11651"},700:{title:"Magenta 700",hex:"#7c1342"},800:{title:"Magenta 800",hex:"#4b1130"},900:{title:"Magenta 900",hex:"#341325"},950:{title:"Magenta 950",hex:"#1f0f14"}},KW={50:{title:"Red 50",hex:"#fff6f5"},100:{title:"Red 100",hex:"#ffe7e5"},200:{title:"Red 200",hex:"#ffdedc"},300:{title:"Red 300",hex:"#fdada5"},400:{title:"Red 400",hex:"#f77769"},500:{title:"Red 500",hex:"#ef4434"},600:{title:"Red 600",hex:"#cc2819"},700:{title:"Red 700",hex:"#8b2018"},800:{title:"Red 800",hex:"#4d1714"},900:{title:"Red 900",hex:"#321615"},950:{title:"Red 950",hex:"#1e1011"}},K2t={50:{title:"Orange 50",hex:"#fff7f0"},100:{title:"Orange 100",hex:"#ffeadb"},200:{title:"Orange 200",hex:"#ffddc7"},300:{title:"Orange 300",hex:"#ffb685"},400:{title:"Orange 400",hex:"#ff8e42"},500:{title:"Orange 500",hex:"#fa6400"},600:{title:"Orange 600",hex:"#b14802"},700:{title:"Orange 700",hex:"#7c3404"},800:{title:"Orange 800",hex:"#461e07"},900:{title:"Orange 900",hex:"#32160b"},950:{title:"Orange 950",hex:"#21120d"}},jM={50:{title:"Yellow 50",hex:"#fefae1"},100:{title:"Yellow 100",hex:"#fcf3bb"},200:{title:"Yellow 200",hex:"#f9e994"},300:{title:"Yellow 300",hex:"#f7d455"},400:{title:"Yellow 400",hex:"#f9bc15"},500:{title:"Yellow 500",hex:"#d28a04"},600:{title:"Yellow 600",hex:"#965908"},700:{title:"Yellow 700",hex:"#653a0b"},800:{title:"Yellow 800",hex:"#3b220c"},900:{title:"Yellow 900",hex:"#271a11"},950:{title:"Yellow 950",hex:"#181410"}},YW={50:{title:"Green 50",hex:"#e7fef5"},100:{title:"Green 100",hex:"#c5fce8"},200:{title:"Green 200",hex:"#a9f9dc"},300:{title:"Green 300",hex:"#59f3ba"},400:{title:"Green 400",hex:"#0ff0a1"},500:{title:"Green 500",hex:"#04b97a"},600:{title:"Green 600",hex:"#01794f"},700:{title:"Green 700",hex:"#015133"},800:{title:"Green 800",hex:"#023120"},900:{title:"Green 900",hex:"#06231a"},950:{title:"Green 950",hex:"#071715"}},Y2t={50:{title:"Cyan 50",hex:"#e7fefe"},100:{title:"Cyan 100",hex:"#c5fcfc"},200:{title:"Cyan 200",hex:"#96f8f8"},300:{title:"Cyan 300",hex:"#62efef"},400:{title:"Cyan 400",hex:"#18e2e2"},500:{title:"Cyan 500",hex:"#04b8be"},600:{title:"Cyan 600",hex:"#037782"},700:{title:"Cyan 700",hex:"#024950"},800:{title:"Cyan 800",hex:"#042f34"},900:{title:"Cyan 900",hex:"#072227"},950:{title:"Cyan 950",hex:"#0d181c"}},Kt={gray:oL,blue:aT,purple:Q6e,magenta:q2t,red:KW,orange:K2t,yellow:jM,green:YW,cyan:Y2t},Z2t={black:iL,white:hg,...Kt},G9=1,X2t=.5,Ni={_version:2,avatar:{sizes:[{distance:-4,size:19},{distance:-4,size:25},{distance:-8,size:33},{distance:-12,size:49}],focusRing:{offset:1,width:1}},button:{textWeight:"medium",border:{width:G9},focusRing:{offset:-1,width:1}},card:{border:{width:G9},focusRing:{offset:-1,width:1},shadow:{outline:X2t}},container:[320,640,960,1280,1600,1920],media:[360,600,900,1200,1800,2400],layer:{dialog:{zOffset:600},popover:{zOffset:400},tooltip:{zOffset:200}},radius:[0,1,3,6,9,12,21],shadow:[null,{umbra:[0,0,0,0],penumbra:[0,0,0,0],ambient:[0,0,0,0]},{umbra:[0,3,5,-2],penumbra:[0,6,10,0],ambient:[0,1,18,1]},{umbra:[0,7,8,-4],penumbra:[0,12,17,2],ambient:[0,5,22,4]},{umbra:[0,9,11,-5],penumbra:[0,18,28,2],ambient:[0,7,34,6]},{umbra:[0,11,15,-7],penumbra:[0,24,38,3],ambient:[0,9,46,8]}],space:[0,4,8,12,20,32,52,84,136,220],input:{border:{width:G9},checkbox:{size:17,focusRing:{offset:-1,width:1}},radio:{size:17,markSize:9,focusRing:{offset:-1,width:1}},switch:{width:25,height:17,padding:5,transitionDurationMs:150,transitionTimingFunction:"ease-out",focusRing:{offset:1,width:1}},select:{focusRing:{offset:-1,width:1}},text:{focusRing:{offset:-1,width:1}}},style:{button:{root:{transition:"background-color 100ms,border-color 100ms,color 100ms"}}}},Q2t={code:{family:"ui-monospace, SFMono-Regular, SF Mono, Menlo, Consolas, Liberation Mono, monospace",weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:4,descenderHeight:4,fontSize:10,iconSize:17,lineHeight:15,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:13,iconSize:21,lineHeight:19,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:16,iconSize:25,lineHeight:23,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:19,iconSize:29,lineHeight:27,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:22,iconSize:33,lineHeight:31,letterSpacing:0}]},heading:{family:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:700,medium:800,semibold:900,bold:900},sizes:[{ascenderHeight:5,descenderHeight:5,fontSize:13,iconSize:17,lineHeight:19,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:16,iconSize:25,lineHeight:23,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:21,iconSize:33,lineHeight:29,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:27,iconSize:41,lineHeight:35,letterSpacing:0},{ascenderHeight:9.5,descenderHeight:8.5,fontSize:33,iconSize:49,lineHeight:41,letterSpacing:0},{ascenderHeight:10.5,descenderHeight:9.5,fontSize:38,iconSize:53,lineHeight:47,letterSpacing:0}]},label:{family:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", system-ui, sans-serif',weights:{regular:600,medium:700,semibold:800,bold:900},sizes:[{ascenderHeight:2,descenderHeight:2,fontSize:8.1,iconSize:13,lineHeight:10,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:9.5,iconSize:15,lineHeight:11,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:10.8,iconSize:17,lineHeight:12,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:12.25,iconSize:19,lineHeight:13,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:13.6,iconSize:21,lineHeight:14,letterSpacing:.5},{ascenderHeight:2,descenderHeight:2,fontSize:15,iconSize:23,lineHeight:15,letterSpacing:.5}]},text:{family:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", "Liberation Sans", Helvetica, Arial, system-ui, sans-serif',weights:{regular:400,medium:500,semibold:600,bold:700},sizes:[{ascenderHeight:4,descenderHeight:4,fontSize:10,iconSize:17,lineHeight:15,letterSpacing:0},{ascenderHeight:5,descenderHeight:5,fontSize:13,iconSize:21,lineHeight:19,letterSpacing:0},{ascenderHeight:6,descenderHeight:6,fontSize:15,iconSize:25,lineHeight:23,letterSpacing:0},{ascenderHeight:7,descenderHeight:7,fontSize:18,iconSize:29,lineHeight:27,letterSpacing:0},{ascenderHeight:8,descenderHeight:8,fontSize:21,iconSize:33,lineHeight:31,letterSpacing:0}]}},Jue=new WeakMap;function Mu(n){var e,r,i;const o=Jue.get(n);if(o)return o;const s=_o(n,n.card.enabled),a={_blend:n._blend||(n.dark?"screen":"multiply"),_dark:n.dark,accent:s.accent,avatar:s.avatar,backdrop:n.base.shadow.ambient,badge:s.badge,bg:n.base.bg,border:n.base.border,button:{default:yO(n,n.button.default),ghost:yO(n,n.button.ghost),bleed:yO(n,n.button.bleed)},code:s.code,fg:n.base.fg,focusRing:n.base.focusRing,icon:s.muted.fg,input:{default:ede(n.input.default),invalid:ede(n.input.invalid)},kbd:s.kbd,link:s.link,muted:{...s.muted,bg:((e=n.selectable)==null?void 0:e.default.enabled.bg2)||n.base.bg},selectable:yO(n,n.selectable||n.muted),shadow:n.base.shadow,skeleton:{from:((r=n.skeleton)==null?void 0:r.from)||n.base.border,to:((i=n.skeleton)==null?void 0:i.to)||n.base.border},syntax:n.syntax};return Jue.set(n,a),a}function yO(n,e){return{default:{enabled:_o(n,e.default.enabled),hovered:_o(n,e.default.hovered),pressed:_o(n,e.default.pressed),selected:_o(n,e.default.selected),disabled:_o(n,e.default.disabled)},primary:{enabled:_o(n,e.primary.enabled),hovered:_o(n,e.primary.hovered),pressed:_o(n,e.primary.pressed),selected:_o(n,e.primary.selected),disabled:_o(n,e.primary.disabled)},positive:{enabled:_o(n,e.positive.enabled),hovered:_o(n,e.positive.hovered),pressed:_o(n,e.positive.pressed),selected:_o(n,e.positive.selected),disabled:_o(n,e.positive.disabled)},caution:{enabled:_o(n,e.caution.enabled),hovered:_o(n,e.caution.hovered),pressed:_o(n,e.caution.pressed),selected:_o(n,e.caution.selected),disabled:_o(n,e.caution.disabled)},critical:{enabled:_o(n,e.critical.enabled),hovered:_o(n,e.critical.hovered),pressed:_o(n,e.critical.pressed),selected:_o(n,e.critical.selected),disabled:_o(n,e.critical.disabled)}}}function _o(n,e){var r,i;return{...e,avatar:{gray:{bg:n.spot.gray,fg:n.base.bg},blue:{bg:n.spot.blue,fg:n.base.bg},purple:{bg:n.spot.purple,fg:n.base.bg},magenta:{bg:n.spot.magenta,fg:n.base.bg},red:{bg:n.spot.red,fg:n.base.bg},orange:{bg:n.spot.orange,fg:n.base.bg},yellow:{bg:n.spot.yellow,fg:n.base.bg},green:{bg:n.spot.green,fg:n.base.bg},cyan:{bg:n.spot.cyan,fg:n.base.bg}},badge:{default:{bg:n.muted.default.enabled.bg,fg:n.muted.default.enabled.fg,dot:n.muted.default.enabled.muted.fg,icon:n.muted.default.enabled.muted.fg},primary:{bg:n.muted.primary.enabled.bg,fg:n.muted.primary.enabled.fg,dot:n.muted.primary.enabled.muted.fg,icon:n.muted.primary.enabled.muted.fg},positive:{bg:n.muted.positive.enabled.bg,fg:n.muted.positive.enabled.fg,dot:n.muted.positive.enabled.muted.fg,icon:n.muted.positive.enabled.muted.fg},caution:{bg:n.muted.caution.enabled.bg,fg:n.muted.caution.enabled.fg,dot:n.muted.caution.enabled.muted.fg,icon:n.muted.caution.enabled.muted.fg},critical:{bg:n.muted.critical.enabled.bg,fg:n.muted.critical.enabled.fg,dot:n.muted.critical.enabled.muted.fg,icon:n.muted.critical.enabled.muted.fg}},kbd:{bg:n.muted.default.enabled.bg,fg:n.muted.default.enabled.fg,border:n.muted.default.enabled.border},muted:{...n.muted.default.enabled.muted,bg:e.bg2||e.bg},skeleton:{from:((r=e.skeleton)==null?void 0:r.from)||e.border,to:((i=e.skeleton)==null?void 0:i.to)||e.border}}}function ede(n){return{enabled:bO(n.enabled),disabled:bO(n.disabled),readOnly:bO(n.readOnly),hovered:bO(n.hovered)}}function bO(n){return{bg:n.bg,border:n.border,fg:n.fg,muted:{bg:n.bg2},placeholder:n.placeholder}}const tde=new WeakMap;function mt(n){var e,r;if((e=n.sanity.v2)!=null&&e._resolved)return n.sanity.v2;const i=tde.get(n);if(i)return i;const o={_version:2,_resolved:!0,avatar:{...Ni.avatar,...n.sanity.avatar},button:{...Ni.button,...n.sanity.button},card:Ni.card,color:Mu(n.sanity.color),container:n.sanity.container,font:n.sanity.fonts,input:{...Ni.input,...n.sanity.input,checkbox:{...Ni.input.checkbox,...n.sanity.input.checkbox},radio:{...Ni.input.radio,...n.sanity.input.radio},switch:{...Ni.input.switch,...n.sanity.input.switch}},layer:(r=n.sanity.layer)!=null?r:Ni.layer,media:n.sanity.media,radius:n.sanity.radius,shadow:n.sanity.shadows,space:n.sanity.space,style:n.sanity.styles};return tde.set(n,o),o}function nde(n){return n._version===2}const rde=new WeakMap;function J2t(n){if(n.v2)return n.v2;const e=rde.get(n);if(e)return e;const{avatar:r,button:i,color:o,container:s,focusRing:a,fonts:l,input:c,layer:u,media:f,radius:h,shadows:m,space:g,styles:v}=n,y={_version:2,avatar:{...Ni.avatar,...r},button:{...Ni.button,...i},card:Ni.card,color:{light:{transparent:Mu(o.light.transparent),default:Mu(o.light.default),primary:Mu(o.light.primary),positive:Mu(o.light.positive),caution:Mu(o.light.caution),critical:Mu(o.light.critical)},dark:{transparent:Mu(o.dark.transparent),default:Mu(o.dark.default),primary:Mu(o.dark.primary),positive:Mu(o.dark.positive),caution:Mu(o.dark.caution),critical:Mu(o.dark.critical)}},container:s,font:l,input:{...Ni.input,...c,checkbox:{...Ni.input.checkbox,...c.checkbox},radio:{...Ni.input.radio,...c.radio},switch:{...Ni.input.switch,...c.switch}},layer:u??Ni.layer,media:f,radius:h,shadow:m,space:g,style:v};return rde.set(n,y),y}const ekt=new WeakMap;function J6e(n){const e=ekt.get(n);if(e)return e;const{avatar:r,button:i,color:o,container:s,font:a,input:l,media:c,radius:u,shadow:f,space:h,style:m}=n;return{_version:0,avatar:r,button:i,container:s,color:{light:{transparent:Td(o.light.transparent),default:Td(o.light.default),primary:Td(o.light.primary),positive:Td(o.light.positive),caution:Td(o.light.caution),critical:Td(o.light.critical)},dark:{transparent:Td(o.dark.transparent),default:Td(o.dark.default),primary:Td(o.dark.primary),positive:Td(o.dark.positive),caution:Td(o.dark.caution),critical:Td(o.dark.critical)}},focusRing:l.text.focusRing,fonts:a,input:l,media:c,radius:u,shadows:f,space:h,styles:m,v2:n}}function Td(n){return{base:{bg:n.bg,fg:n.fg,border:n.border,focusRing:n.focusRing,shadow:n.shadow},button:n.button,card:n.selectable.default,dark:n._dark,input:{default:ide(n.input.default),invalid:ide(n.input.invalid)},muted:{...n.button.ghost,transparent:n.button.ghost.default},solid:{...n.button.default,transparent:n.button.default.default},selectable:n.selectable,spot:{gray:n.avatar.gray.bg,blue:n.avatar.blue.bg,purple:n.avatar.purple.bg,magenta:n.avatar.magenta.bg,red:n.avatar.red.bg,orange:n.avatar.orange.bg,yellow:n.avatar.yellow.bg,green:n.avatar.green.bg,cyan:n.avatar.cyan.bg},syntax:n.syntax}}function ide(n){return{enabled:xO(n.enabled),disabled:xO(n.disabled),readOnly:xO(n.readOnly),hovered:xO(n.hovered)}}function xO(n){return{bg:n.bg,bg2:n.muted.bg,border:n.border,fg:n.fg,placeholder:n.placeholder}}const tkt=["multiply","screen"],eNe=["transparent","default","primary","positive","caution","critical"],NI=["default","primary","positive","caution","critical"],BI=["enabled","hovered","pressed","selected","disabled"],tNe=["default","ghost","bleed"],nNe=["default","invalid"],rNe=["enabled","hovered","readOnly","disabled"];function nkt(n){return tkt.includes(n)}function rkt(n){return XQ.includes(n)}function ode(n){return G2t.includes(n)}[...eNe];[...NI];[...BI];[...nNe];[...rNe];function q9(n){return/^\d+%$/.test(n)}function iNe(n){const e=n.split("/");let r=e.shift()||"";const[i,o]=r.split(" ");if(ode(i)){const s=i,a=e.shift()||"";if(q9(o)){const l=Number(o.slice(0,-1))/100;return{type:"color",tint:s,mix:l}}if(K9(a)){const l=Number(a);return{type:"color",tint:s,opacity:l}}return{type:"color",tint:s}}if(ikt(i)){const s=i,a=e.shift()||"";if(q9(o)){const l=Number(o.slice(0,-1))/100;return{type:"color",key:s,mix:l}}if(K9(a)){const l=Number(a);return{type:"color",key:s,opacity:l}}return{type:"color",key:s}}if(rkt(i)){const s=i;r=e.shift()||"";const[a,l]=r.split(" ");if(ode(a)){const c=a,u=e.shift()||"";if(q9(l)){const f=Number(l.slice(0,-1))/100;return{type:"color",hue:s,tint:c,mix:f}}if(K9(u)){const f=Number(u);return{type:"color",hue:s,tint:c,opacity:f}}return{type:"color",hue:s,tint:c}}return{type:"hue",value:s}}if(nkt(i))return{type:"blendMode",value:i}}function ikt(n){return n==="black"||n==="white"}function K9(n){return n==="0"||/^0\.[0-9]+$/.test(n)||n==="1"}function okt(n){let e="";return n.key==="black"||n.key==="white"?e=n.key:e=`${n.hue}/${n.tint}`,n.mix!==void 0?`${e} ${n.mix*100}%`:(n.opacity!==void 0&&(e+=`/${n.opacity}`),e)}const skt=["500","500"];function pt(n,e=skt){const{hue:r,scheme:i}=n,o=iNe(e[i==="light"?0:1]);if(!o||o.type!=="color")throw new Error(`Invalid color token: ${e[0]}`);return okt({...o,hue:o.hue||r})}const akt={base:{"*":{_blend:["multiply","screen"],accent:{fg:["purple/600","purple/400"]},avatar:{"*":{_blend:["screen","multiply"],bg:["500","400"],fg:["white","black"]}},backdrop:["gray/200/0.5","black/0.5"],badge:{"*":{bg:["100","900"],fg:["600","400"],icon:["500","500"],dot:["500","500"]},positive:{bg:["200 50%","900"],fg:["600","500"]},caution:{bg:["200 50%","900"],fg:["600","500"]}},bg:["50","950"],border:["200","800"],code:{bg:["50","950"],fg:["600","400"]},fg:["800","200"],focusRing:["blue/500","blue/500"],icon:["600","400"],kbd:{bg:["white","black"],fg:["600","400"],border:["200","800"]},link:{fg:["blue/600","blue/300"]},muted:{bg:["50","950"],fg:["700 75%","300 75%"]},shadow:{outline:["500/0.3","500/0.4"],umbra:["gray/500/0.1","black/0.2"],penumbra:["gray/500/0.07","black/0.14"],ambient:["gray/500/0.06","black/0.12"]},skeleton:{from:["100","900"],to:["100 50%","900 50%"]}},transparent:{bg:["50","black"]},default:{bg:["white","950"],fg:["800","200"],muted:{fg:["600","400"]}},primary:{_hue:"blue"},positive:{_hue:"green",shadow:{outline:["500/0.4","500/0.4"]}},caution:{_hue:"yellow",shadow:{outline:["600/0.3","500/0.4"]}},critical:{_hue:"red"}},button:{default:{"*":{"*":{_blend:["screen","multiply"],accent:{fg:["purple/300","purple/700"]},avatar:{"*":{_blend:["multiply","screen"],bg:["white","black"],fg:["black","white"]}},badge:{"*":{bg:["900","100"],fg:["400","600"],dot:["500","500"],icon:["500","500"]}},bg:["500","400"],border:["500/0","400/0"],code:{bg:["500 20%","400 20%"],fg:["200","600"]},fg:["white","black"],icon:["100 70%","900 70%"],kbd:{bg:["black","white"],fg:["200","600"],border:["800","200"]},link:{fg:["blue/200","blue/600"]},muted:{bg:["950","50"],fg:["100 70%","900 70%"]},skeleton:{from:["900","100"],to:["900 50%","100 50%"]}},hovered:{bg:["700","300"],border:["700/0","300/0"]},pressed:{bg:["700","300"]},selected:{bg:["700","300"]},disabled:{_hue:"gray",accent:{fg:["100 70%","900 70%"]},badge:{"*":{bg:["gray/700","gray/300"],fg:["white","black"],dot:["white","black"],icon:["white","black"]}},bg:["200","800"],kbd:{bg:["black","white"],fg:["white","black"],border:["700","300"]},link:{fg:["100 70%","900 70%"]}}},default:{"*":{bg:["800","200"],muted:{bg:["950","50"],fg:["400","600"]}},hovered:{bg:["900","100"]},pressed:{bg:["black","white"]},selected:{bg:["black","white"]}}},ghost:{"*":{"*":{_blend:["multiply","screen"],accent:{fg:["purple/700 60%","purple/300 70%"]},badge:{"*":{bg:["100","900"],fg:["600","400"],dot:["500","500"],icon:["500","500"]}},bg:["50","950"],border:["100","900"],code:{bg:["500 10%","400 10%"],fg:["700 60%","400 60%"]},fg:["600","400"],icon:["700 60%","300 60%"],kbd:{bg:["white","black"],fg:["600","400"],border:["200","800"]},link:{fg:["blue/700 60%","blue/300 60%"]},muted:{bg:["100","950"],fg:["700 60%","300 60%"]},skeleton:{from:["100","900"],to:["100 50%","900 50%"]}},hovered:{bg:["100","900"],fg:["700","300"]},pressed:{bg:["100","900"],fg:["800","200"]},selected:{bg:["100","900"],fg:["800","200"]},disabled:{_hue:"gray",accent:{fg:["200","800"]},badge:{"*":{_hue:"gray",bg:["50","950"],fg:["gray/200","gray/800"],dot:["gray/200","gray/800"],icon:["gray/200","gray/800"]}},border:["100","900"],code:{bg:["50","950"],fg:["200","800"]},fg:["200","800"],icon:["200","800"],kbd:{bg:["white","black"],fg:["200","800"],border:["100","900"]},link:{fg:["200","800"]},muted:{fg:["200","800"]}}},positive:{"*":{border:["600 20%","800"]}},caution:{"*":{border:["600 20%","800"]}}},bleed:{"*":{"*":{_blend:["multiply","screen"],accent:{fg:["purple/700 70%","purple/300 70%"]},badge:{"*":{bg:["100","900"],fg:["600","400"],dot:["500","500"],icon:["500","500"]}},bg:["white","black"],border:["white/0","black/0"],code:{bg:["50","950"],fg:["700 75%","300 75%"]},fg:["700","300"],icon:["700 75%","300 75%"],kbd:{bg:["white","black"],fg:["700","300"],border:["200","800"]},link:{fg:["blue/700 70%","blue/300 70%"]},muted:{bg:["100","950"],fg:["700 75%","300 75%"]},skeleton:{from:["100","900"],to:["100 50%","900 50%"]}},hovered:{bg:["50","950"],icon:["700 70%","400 70%"]},pressed:{bg:["100","900"],fg:["800","200"],icon:["800 70%","200 70%"]},selected:{bg:["100","900"],fg:["800","200"],icon:["800 60%","200 60%"]},disabled:{_hue:"gray",accent:{fg:["200","800"]},badge:{"*":{_hue:"gray",bg:["50","950"],fg:["gray/200","gray/800"],dot:["gray/200","gray/800"],icon:["gray/200","gray/800"]}},code:{bg:["50","950"],fg:["200","800"]},fg:["200","800"],icon:["200","800"],kbd:{bg:["white","black"],fg:["200","800"],border:["100","900"]},link:{fg:["200","800"]},muted:{fg:["200","800"]}}}}},input:{"*":{"*":{_blend:["multiply","screen"],bg:["white","black"],border:["200","800"],fg:["black","200"],muted:{bg:["50","950"]},placeholder:["400","600 50%"]},hovered:{border:["300","700"]},readOnly:{bg:["50","950"],border:["200","800"],fg:["800","200"]},disabled:{fg:["200","800"],border:["100","900"]}},invalid:{"*":{_hue:"red",bg:["100","950"]}}},selectable:{"*":{"*":{_blend:["multiply","screen"],accent:{fg:["purple/700 70%","purple/300 70%"]},badge:{"*":{bg:["100","900"],fg:["600","400"],dot:["500","500"],icon:["500","500"]}},bg:["white","black"],border:["200","800"],code:{bg:["50","950"],fg:["600","400"]},fg:["700","300"],icon:["700 75%","300 75%"],kbd:{bg:["white","black"],fg:["600","400"],border:["200","800"]},link:{fg:["blue/700 70%","blue/300 70%"]},muted:{bg:["100","950"],fg:["700 75%","300 75%"]},skeleton:{from:["100","900"],to:["100 50%","900 50%"]}},hovered:{bg:["50","950"]},pressed:{bg:["100","900"]},selected:{_blend:["screen","multiply"],accent:{fg:["purple/300","purple/700"]},avatar:{"*":{_blend:["multiply","screen"],bg:["white","black"],fg:["black","white"]}},badge:{"*":{bg:["900","100"],fg:["400","600"],dot:["500","500"],icon:["500","500"]}},bg:["500","400"],border:["500 20%","400 20%"],code:{bg:["500 20%","400 20%"],fg:["200","600"]},fg:["white","black"],icon:["100 70%","900 70%"],kbd:{bg:["black","white"],fg:["200","600"],border:["800","200"]},link:{fg:["blue/200","blue/600"]},muted:{bg:["950","50"],fg:["100 70%","900 70%"]},skeleton:{from:["900","100"],to:["900 50%","100 50%"]}},disabled:{_hue:"gray",accent:{fg:["200","800"]},badge:{"*":{_hue:"gray",bg:["50","950"],fg:["gray/200","gray/800"],dot:["gray/200","gray/800"],icon:["gray/200","gray/800"]}},border:["100","900"],code:{bg:["50","950"],fg:["200","800"]},fg:["200","800"],icon:["200","800"],kbd:{bg:["white","black"],fg:["200","800"],border:["100","900"]},link:{fg:["200","800"]},muted:{fg:["200","800"]}}},default:{selected:{_hue:"blue"}},critical:{disabled:{bg:["50 50%","950 50%"]}}},syntax:{atrule:["purple/600","purple/400"],attrName:["green/600","green/400"],attrValue:["yellow/600","yellow/400"],attribute:["yellow/600","yellow/400"],boolean:["purple/600","purple/400"],builtin:["purple/600","purple/400"],cdata:["yellow/600","yellow/400"],char:["yellow/600","yellow/400"],class:["orange/600","orange/400"],className:["cyan/600","cyan/400"],comment:["gray/400","gray/600"],constant:["purple/600","purple/400"],deleted:["red/600","red/400"],entity:["red/600","red/400"],function:["green/600","green/400"],hexcode:["blue/600","blue/400"],id:["purple/600","purple/400"],important:["purple/600","purple/400"],inserted:["yellow/600","yellow/400"],keyword:["magenta/600","magenta/400"],number:["purple/600","purple/400"],operator:["magenta/600","magenta/400"],property:["blue/600","blue/400"],pseudoClass:["yellow/600","yellow/400"],pseudoElement:["yellow/600","yellow/400"],punctuation:["gray/600","gray/400"],regex:["blue/600","blue/400"],selector:["red/600","red/400"],string:["yellow/600","yellow/400"],symbol:["purple/600","purple/400"],tag:["red/600","red/400"],unit:["orange/600","orange/400"],url:["red/600","red/400"],variable:["red/600","red/400"]}};function sde(n){return!!(n&&typeof n=="object"&&!Array.isArray(n))}function ni(...n){const e=n.filter(Boolean);return e.length===0?{}:e.reduce(lkt,{})}function lkt(n,e){for(const r of Object.keys(e)){const i=n[r],o=e[r];sde(i)&&sde(o)?n[r]=ni(i,o):n[r]=o}return n}function ckt(n){const e=ni(akt,n);return{base:ukt(e),button:fkt(e),input:gkt(e),selectable:bkt(e),syntax:e.syntax}}function ukt(n){const e={};for(const r of eNe)e[r]=dkt(n,r);return e}function dkt(n,e){var r,i,o,s,a,l,c,u,f,h,m,g,v,y,b,x,_,w,C,S,T,A,I,D,R,P,O,$,L,M,N,z,B,H,X,G,ne,le,K,Q,re,se;const de=ni((r=n==null?void 0:n.base)==null?void 0:r["*"],(i=n==null?void 0:n.base)==null?void 0:i[e]),fe=de._hue||((s=(o=n==null?void 0:n.base)==null?void 0:o[e])==null?void 0:s._hue)||"gray";return{...de,_hue:fe,avatar:{gray:ni({_hue:"gray"},(a=de.avatar)==null?void 0:a["*"],(l=de.avatar)==null?void 0:l.gray),blue:ni({_hue:"blue"},(c=de.avatar)==null?void 0:c["*"],(u=de.avatar)==null?void 0:u.blue),purple:ni({_hue:"purple"},(f=de.avatar)==null?void 0:f["*"],(h=de.avatar)==null?void 0:h.purple),magenta:ni({_hue:"magenta"},(m=de.avatar)==null?void 0:m["*"],(g=de.avatar)==null?void 0:g.magenta),red:ni({_hue:"red"},(v=de.avatar)==null?void 0:v["*"],(y=de.avatar)==null?void 0:y.red),orange:ni({_hue:"orange"},(b=de.avatar)==null?void 0:b["*"],(x=de.avatar)==null?void 0:x.orange),yellow:ni({_hue:"yellow"},(_=de.avatar)==null?void 0:_["*"],(w=de.avatar)==null?void 0:w.yellow),green:ni({_hue:"green"},(C=de.avatar)==null?void 0:C["*"],(S=de.avatar)==null?void 0:S.green),cyan:ni({_hue:"cyan"},(T=de.avatar)==null?void 0:T["*"],(A=de.avatar)==null?void 0:A.cyan)},badge:{default:{_hue:((D=(I=n==null?void 0:n.base)==null?void 0:I.default)==null?void 0:D._hue)||fe,...(R=de.badge)==null?void 0:R["*"],...(P=de.badge)==null?void 0:P.default},primary:{_hue:(($=(O=n==null?void 0:n.base)==null?void 0:O.primary)==null?void 0:$._hue)||fe,...(L=de.badge)==null?void 0:L["*"],...(M=de.badge)==null?void 0:M.primary},positive:{_hue:((z=(N=n==null?void 0:n.base)==null?void 0:N.positive)==null?void 0:z._hue)||fe,...(B=de.badge)==null?void 0:B["*"],...(H=de.badge)==null?void 0:H.positive},caution:{_hue:((G=(X=n==null?void 0:n.base)==null?void 0:X.caution)==null?void 0:G._hue)||fe,...(ne=de.badge)==null?void 0:ne["*"],...(le=de.badge)==null?void 0:le.caution},critical:{_hue:((Q=(K=n==null?void 0:n.base)==null?void 0:K.critical)==null?void 0:Q._hue)||fe,...(re=de.badge)==null?void 0:re["*"],...(se=de.badge)==null?void 0:se.critical}}}}function fkt(n){const e={};for(const r of tNe)e[r]=hkt(n,r);return e}function hkt(n,e){const r={};for(const i of NI)r[i]=pkt(n,e,i);return r}function pkt(n,e,r){const i={};for(const o of BI)i[o]=mkt(n,r,e,o);return i}function mkt(n,e,r,i){var o,s,a,l,c,u,f,h,m,g,v,y,b,x,_,w,C,S,T,A,I,D,R,P,O,$,L,M,N,z,B,H,X,G,ne,le,K,Q,re,se,de,fe,we,ye,ve,_e,ge,pe,Pe,Re,Fe,Ye;const He=ni((a=(s=(o=n==null?void 0:n.button)==null?void 0:o[r])==null?void 0:s["*"])==null?void 0:a["*"],(u=(c=(l=n==null?void 0:n.button)==null?void 0:l[r])==null?void 0:c[e])==null?void 0:u["*"],(m=(h=(f=n==null?void 0:n.button)==null?void 0:f[r])==null?void 0:h["*"])==null?void 0:m[i],(y=(v=(g=n==null?void 0:n.button)==null?void 0:g[r])==null?void 0:v[e])==null?void 0:y[i]),lt=He._hue||((x=(b=n==null?void 0:n.base)==null?void 0:b[e])==null?void 0:x._hue);return{...He,_hue:lt,avatar:{gray:ni({_hue:"gray"},(_=He.avatar)==null?void 0:_["*"],(w=He.avatar)==null?void 0:w.gray),blue:ni({_hue:"blue"},(C=He.avatar)==null?void 0:C["*"],(S=He.avatar)==null?void 0:S.blue),purple:ni({_hue:"purple"},(T=He.avatar)==null?void 0:T["*"],(A=He.avatar)==null?void 0:A.purple),magenta:ni({_hue:"magenta"},(I=He.avatar)==null?void 0:I["*"],(D=He.avatar)==null?void 0:D.magenta),red:ni({_hue:"red"},(R=He.avatar)==null?void 0:R["*"],(P=He.avatar)==null?void 0:P.red),orange:ni({_hue:"orange"},(O=He.avatar)==null?void 0:O["*"],($=He.avatar)==null?void 0:$.orange),yellow:ni({_hue:"yellow"},(L=He.avatar)==null?void 0:L["*"],(M=He.avatar)==null?void 0:M.yellow),green:ni({_hue:"green"},(N=He.avatar)==null?void 0:N["*"],(z=He.avatar)==null?void 0:z.green),cyan:ni({_hue:"cyan"},(B=He.avatar)==null?void 0:B["*"],(H=He.avatar)==null?void 0:H.cyan)},badge:{default:{_hue:(G=(X=n==null?void 0:n.base)==null?void 0:X.default)==null?void 0:G._hue,...(ne=He.badge)==null?void 0:ne["*"],...(le=He.badge)==null?void 0:le.default},primary:{_hue:(Q=(K=n==null?void 0:n.base)==null?void 0:K.primary)==null?void 0:Q._hue,...(re=He.badge)==null?void 0:re["*"],...(se=He.badge)==null?void 0:se.primary},positive:{_hue:(fe=(de=n==null?void 0:n.base)==null?void 0:de.positive)==null?void 0:fe._hue,...(we=He.badge)==null?void 0:we["*"],...(ye=He.badge)==null?void 0:ye.positive},caution:{_hue:(_e=(ve=n==null?void 0:n.base)==null?void 0:ve.caution)==null?void 0:_e._hue,...(ge=He.badge)==null?void 0:ge["*"],...(pe=He.badge)==null?void 0:pe.caution},critical:{_hue:(Re=(Pe=n==null?void 0:n.base)==null?void 0:Pe.critical)==null?void 0:Re._hue,...(Fe=He.badge)==null?void 0:Fe["*"],...(Ye=He.badge)==null?void 0:Ye.critical}}}}function gkt(n){const e={};for(const r of nNe)e[r]=vkt(n,r);return e}function vkt(n,e){const r={};for(const i of rNe)r[i]=ykt(n,e,i);return r}function ykt(n,e,r){var i,o,s,a,l,c,u,f,h,m;const g=ni((o=(i=n==null?void 0:n.input)==null?void 0:i["*"])==null?void 0:o["*"],(a=(s=n==null?void 0:n.input)==null?void 0:s[e])==null?void 0:a["*"],(c=(l=n==null?void 0:n.input)==null?void 0:l["*"])==null?void 0:c[r],(f=(u=n==null?void 0:n.input)==null?void 0:u[e])==null?void 0:f[r]),v=g._hue||((m=(h=n==null?void 0:n.input)==null?void 0:h[e])==null?void 0:m._hue);return{...g,_hue:v}}function bkt(n){const e={};for(const r of NI)e[r]=xkt(n,r);return e}function xkt(n,e){var r,i,o,s;const a={_hue:((i=(r=n==null?void 0:n.selectable)==null?void 0:r[e])==null?void 0:i._hue)||((s=(o=n==null?void 0:n.base)==null?void 0:o[e])==null?void 0:s._hue)};for(const l of BI)a[l]=wkt(n,e,l);return a}function wkt(n,e,r){var i,o,s,a,l,c,u,f,h,m,g,v,y,b,x,_,w,C,S,T,A,I,D,R,P,O,$,L,M,N,z,B,H,X,G,ne,le,K,Q,re,se,de,fe,we,ye,ve,_e,ge;const pe=ni((o=(i=n==null?void 0:n.selectable)==null?void 0:i["*"])==null?void 0:o["*"],(a=(s=n==null?void 0:n.selectable)==null?void 0:s[e])==null?void 0:a["*"],(c=(l=n==null?void 0:n.selectable)==null?void 0:l["*"])==null?void 0:c[r],(f=(u=n==null?void 0:n.selectable)==null?void 0:u[e])==null?void 0:f[r]),Pe=pe._hue||((m=(h=n==null?void 0:n.base)==null?void 0:h[e])==null?void 0:m._hue);return{...pe,_hue:Pe,avatar:{gray:ni({_hue:"gray"},(g=pe.avatar)==null?void 0:g["*"],(v=pe.avatar)==null?void 0:v.gray),blue:ni({_hue:"blue"},(y=pe.avatar)==null?void 0:y["*"],(b=pe.avatar)==null?void 0:b.blue),purple:ni({_hue:"purple"},(x=pe.avatar)==null?void 0:x["*"],(_=pe.avatar)==null?void 0:_.purple),magenta:ni({_hue:"magenta"},(w=pe.avatar)==null?void 0:w["*"],(C=pe.avatar)==null?void 0:C.magenta),red:ni({_hue:"red"},(S=pe.avatar)==null?void 0:S["*"],(T=pe.avatar)==null?void 0:T.red),orange:ni({_hue:"orange"},(A=pe.avatar)==null?void 0:A["*"],(I=pe.avatar)==null?void 0:I.orange),yellow:ni({_hue:"yellow"},(D=pe.avatar)==null?void 0:D["*"],(R=pe.avatar)==null?void 0:R.yellow),green:ni({_hue:"green"},(P=pe.avatar)==null?void 0:P["*"],(O=pe.avatar)==null?void 0:O.green),cyan:ni({_hue:"cyan"},($=pe.avatar)==null?void 0:$["*"],(L=pe.avatar)==null?void 0:L.cyan)},badge:{default:{_hue:(N=(M=n==null?void 0:n.base)==null?void 0:M.default)==null?void 0:N._hue,...(z=pe.badge)==null?void 0:z["*"],...(B=pe.badge)==null?void 0:B.default},primary:{_hue:(X=(H=n==null?void 0:n.base)==null?void 0:H.primary)==null?void 0:X._hue,...(G=pe.badge)==null?void 0:G["*"],...(ne=pe.badge)==null?void 0:ne.primary},positive:{_hue:(K=(le=n==null?void 0:n.base)==null?void 0:le.positive)==null?void 0:K._hue,...(Q=pe.badge)==null?void 0:Q["*"],...(re=pe.badge)==null?void 0:re.positive},caution:{_hue:(de=(se=n==null?void 0:n.base)==null?void 0:se.caution)==null?void 0:de._hue,...(fe=pe.badge)==null?void 0:fe["*"],...(we=pe.badge)==null?void 0:we.caution},critical:{_hue:(ve=(ye=n==null?void 0:n.base)==null?void 0:ye.critical)==null?void 0:ve._hue,...(_e=pe.badge)==null?void 0:_e["*"],...(ge=pe.badge)==null?void 0:ge.critical}}}}function _kt(n){const e={...n,color:ckt(n==null?void 0:n.color)};return{light:ade({scheme:"light"},e),dark:ade({scheme:"dark"},e)}}function ade(n,e){const{scheme:r}=n;return{transparent:Ww({scheme:r,tone:"transparent"},e),default:Ww({scheme:r,tone:"default"},e),primary:Ww({scheme:r,tone:"primary"},e),positive:Ww({scheme:r,tone:"positive"},e),caution:Ww({scheme:r,tone:"caution"},e),critical:Ww({scheme:r,tone:"critical"},e)}}function Ww(n,e){var r,i,o,s,a,l,c,u,f,h,m,g,v;const{scheme:y,tone:b}=n,x=(i=(r=e==null?void 0:e.color)==null?void 0:r.base)==null?void 0:i[b],_={hue:(x==null?void 0:x._hue)||"gray",scheme:y};return{_blend:((x==null?void 0:x._blend)||["multiply","screen"])[y==="light"?0:1],_dark:y==="dark",accent:{fg:pt(_,(o=x==null?void 0:x.accent)==null?void 0:o.fg)},avatar:QQ({scheme:y},x),backdrop:pt(_,x==null?void 0:x.backdrop),badge:JQ(x==null?void 0:x.badge,{scheme:y},e),bg:pt(_,x==null?void 0:x.bg),border:pt(_,x==null?void 0:x.border),button:Ckt({scheme:y},e),code:{bg:pt(_,(s=x==null?void 0:x.code)==null?void 0:s.bg),fg:pt(_,(a=x==null?void 0:x.code)==null?void 0:a.fg)},fg:pt(_,x==null?void 0:x.fg),focusRing:pt(_,x==null?void 0:x.focusRing),icon:pt(_,x==null?void 0:x.icon),input:Akt({scheme:y,tone:b},e),kbd:{bg:pt(_,(l=x==null?void 0:x.kbd)==null?void 0:l.bg),fg:pt(_,(c=x==null?void 0:x.kbd)==null?void 0:c.fg),border:pt(_,(u=x==null?void 0:x.kbd)==null?void 0:u.border)},link:{fg:pt(_,(f=x==null?void 0:x.link)==null?void 0:f.fg)},muted:{bg:pt(_,(h=x==null?void 0:x.muted)==null?void 0:h.bg),fg:pt(_,(m=x==null?void 0:x.muted)==null?void 0:m.fg)},selectable:Ikt({scheme:y},e),shadow:Ekt({scheme:y,tone:b},e),skeleton:{from:pt(_,(g=x==null?void 0:x.skeleton)==null?void 0:g.from),to:pt(_,(v=x==null?void 0:x.skeleton)==null?void 0:v.to)},syntax:Okt({scheme:y},e)}}function Ekt(n,e){var r,i,o,s,a,l;const{scheme:c,tone:u}=n,f=(i=(r=e==null?void 0:e.color)==null?void 0:r.base)==null?void 0:i[u],h={hue:(f==null?void 0:f._hue)||"gray",scheme:c};return{outline:pt(h,(o=f==null?void 0:f.shadow)==null?void 0:o.outline),umbra:pt(h,(s=f==null?void 0:f.shadow)==null?void 0:s.umbra),penumbra:pt(h,(a=f==null?void 0:f.shadow)==null?void 0:a.penumbra),ambient:pt(h,(l=f==null?void 0:f.shadow)==null?void 0:l.ambient)}}function QQ(n,e){const{scheme:r}=n;return{gray:Dm({color:"gray",scheme:r},e),blue:Dm({color:"blue",scheme:r},e),purple:Dm({color:"purple",scheme:r},e),magenta:Dm({color:"magenta",scheme:r},e),red:Dm({color:"red",scheme:r},e),orange:Dm({color:"orange",scheme:r},e),yellow:Dm({color:"yellow",scheme:r},e),green:Dm({color:"green",scheme:r},e),cyan:Dm({color:"cyan",scheme:r},e)}}function Dm(n,e){var r;const{color:i,scheme:o}=n,s=(r=e==null?void 0:e.avatar)==null?void 0:r[i],a={hue:(s==null?void 0:s._hue)||"gray",scheme:o};return{_blend:((s==null?void 0:s._blend)||["screen","multiply"])[o==="light"?0:1],bg:pt(a,s==null?void 0:s.bg),fg:pt(a,s==null?void 0:s.fg)}}function JQ(n,e,r){const{scheme:i}=e;return{default:q2(n,{scheme:i,tone:"default"},r),primary:q2(n,{scheme:i,tone:"primary"},r),positive:q2(n,{scheme:i,tone:"positive"},r),caution:q2(n,{scheme:i,tone:"caution"},r),critical:q2(n,{scheme:i,tone:"critical"},r)}}function q2(n,e,r){var i,o,s;const{scheme:a,tone:l}=e,c=n==null?void 0:n[l],u={hue:(c==null?void 0:c._hue)||((s=(o=(i=r==null?void 0:r.color)==null?void 0:i.base)==null?void 0:o[l])==null?void 0:s._hue)||"gray",scheme:a};return{bg:pt(u,c==null?void 0:c.bg),fg:pt(u,c==null?void 0:c.fg),dot:pt(u,c==null?void 0:c.dot),icon:pt(u,c==null?void 0:c.icon)}}function Ckt(n,e){const{scheme:r}=n,i={};for(const o of tNe)i[o]=Skt({scheme:r,mode:o},e);return i}function Skt(n,e){const{mode:r,scheme:i}=n,o={};for(const s of NI)o[s]=kkt({mode:r,scheme:i,tone:s},e);return o}function kkt(n,e){const{mode:r,scheme:i,tone:o}=n,s={};for(const a of BI)s[a]=Tkt({mode:r,tone:o,scheme:i,state:a},e);return s}function Tkt(n,e){var r,i,o,s,a,l,c,u,f,h,m,g,v,y,b;const{mode:x,tone:_,scheme:w,state:C}=n,S=(s=(o=(i=(r=e==null?void 0:e.color)==null?void 0:r.button)==null?void 0:i[x])==null?void 0:o[_])==null?void 0:s[C],T=(S==null?void 0:S._hue)||"gray",A=(S==null?void 0:S._blend)||["screen","multiply"],I={hue:T,scheme:w};return{_blend:A[w==="light"?0:1],accent:{fg:pt(I,(a=S==null?void 0:S.accent)==null?void 0:a.fg)},avatar:QQ({scheme:w},S),badge:JQ(S==null?void 0:S.badge,{scheme:w},e),bg:pt(I,S==null?void 0:S.bg),border:pt(I,S==null?void 0:S.border),code:{bg:pt(I,(l=S==null?void 0:S.code)==null?void 0:l.bg),fg:pt(I,(c=S==null?void 0:S.code)==null?void 0:c.fg)},fg:pt(I,S==null?void 0:S.fg),icon:pt(I,S==null?void 0:S.icon),muted:{bg:pt(I,(u=S==null?void 0:S.muted)==null?void 0:u.bg),fg:pt(I,(f=S==null?void 0:S.muted)==null?void 0:f.fg)},kbd:{bg:pt(I,(h=S==null?void 0:S.kbd)==null?void 0:h.bg),fg:pt(I,(m=S==null?void 0:S.kbd)==null?void 0:m.fg),border:pt(I,(g=S==null?void 0:S.kbd)==null?void 0:g.border)},link:{fg:pt(I,(v=S==null?void 0:S.link)==null?void 0:v.fg)},skeleton:{from:pt(I,(y=S==null?void 0:S.skeleton)==null?void 0:y.from),to:pt(I,(b=S==null?void 0:S.skeleton)==null?void 0:b.to)}}}function Akt(n,e){const{scheme:r,tone:i}=n;return{default:lde({mode:"default",scheme:r,tone:i},e),invalid:lde({mode:"invalid",scheme:r,tone:i},e)}}function lde(n,e){const{mode:r,scheme:i,tone:o}=n;return{enabled:wO({mode:r,scheme:i,state:"enabled",tone:o},e),hovered:wO({mode:r,scheme:i,state:"hovered",tone:o},e),readOnly:wO({mode:r,scheme:i,state:"readOnly",tone:o},e),disabled:wO({mode:r,scheme:i,state:"disabled",tone:o},e)}}function wO(n,e){var r,i,o,s,a,l,c;const{mode:u,tone:f,scheme:h,state:m}=n,g=(o=(i=(r=e==null?void 0:e.color)==null?void 0:r.input)==null?void 0:i[u])==null?void 0:o[m],v=(g==null?void 0:g._hue)||((l=(a=(s=e==null?void 0:e.color)==null?void 0:s.base)==null?void 0:a[f])==null?void 0:l._hue)||"gray",y=(g==null?void 0:g._blend)||["screen","multiply"],b={hue:v,scheme:h};return{_blend:y[h==="light"?0:1],bg:pt(b,g==null?void 0:g.bg),border:pt(b,g==null?void 0:g.border),fg:pt(b,g==null?void 0:g.fg),muted:{bg:pt(b,(c=g==null?void 0:g.muted)==null?void 0:c.bg)},placeholder:pt(b,g==null?void 0:g.placeholder)}}function Ikt(n,e){const{scheme:r}=n,i={};for(const o of NI)i[o]=Dkt({scheme:r,tone:o},e);return i}function Dkt(n,e){const{scheme:r,tone:i}=n,o={};for(const s of BI)o[s]=Rkt({tone:i,scheme:r,state:s},e);return o}function Rkt(n,e){var r,i,o,s,a,l,c,u,f,h,m,g,v,y;const{scheme:b,state:x,tone:_}=n,w=(o=(i=(r=e==null?void 0:e.color)==null?void 0:r.selectable)==null?void 0:i[_])==null?void 0:o[x],C=(w==null?void 0:w._hue)||"gray",S=(w==null?void 0:w._blend)||["screen","multiply"],T={hue:C,scheme:b};return{_blend:S[b==="light"?0:1],accent:{fg:pt(T,(s=w==null?void 0:w.accent)==null?void 0:s.fg)},avatar:QQ({scheme:b},w),badge:JQ(w==null?void 0:w.badge,{scheme:b},e),bg:pt(T,w==null?void 0:w.bg),border:pt(T,w==null?void 0:w.border),code:{bg:pt(T,(a=w==null?void 0:w.code)==null?void 0:a.bg),fg:pt(T,(l=w==null?void 0:w.code)==null?void 0:l.fg)},fg:pt(T,w==null?void 0:w.fg),icon:pt(T,w==null?void 0:w.icon),muted:{bg:pt(T,(c=w==null?void 0:w.muted)==null?void 0:c.bg),fg:pt(T,(u=w==null?void 0:w.muted)==null?void 0:u.fg)},kbd:{bg:pt(T,(f=w==null?void 0:w.kbd)==null?void 0:f.bg),fg:pt(T,(h=w==null?void 0:w.kbd)==null?void 0:h.fg),border:pt(T,(m=w==null?void 0:w.kbd)==null?void 0:m.border)},link:{fg:pt(T,(g=w==null?void 0:w.link)==null?void 0:g.fg)},skeleton:{from:pt(T,(v=w==null?void 0:w.skeleton)==null?void 0:v.from),to:pt(T,(y=w==null?void 0:w.skeleton)==null?void 0:y.to)}}}function Okt(n,e){var r;const{scheme:i}=n,o=(r=e==null?void 0:e.color)==null?void 0:r.syntax,s={hue:"gray",scheme:i};return{atrule:pt(s,o==null?void 0:o.atrule),attrName:pt(s,o==null?void 0:o.attrName),attrValue:pt(s,o==null?void 0:o.attrValue),attribute:pt(s,o==null?void 0:o.attribute),boolean:pt(s,o==null?void 0:o.boolean),builtin:pt(s,o==null?void 0:o.builtin),cdata:pt(s,o==null?void 0:o.cdata),char:pt(s,o==null?void 0:o.char),class:pt(s,o==null?void 0:o.class),className:pt(s,o==null?void 0:o.className),comment:pt(s,o==null?void 0:o.comment),constant:pt(s,o==null?void 0:o.constant),deleted:pt(s,o==null?void 0:o.deleted),doctype:pt(s,o==null?void 0:o.doctype),entity:pt(s,o==null?void 0:o.entity),function:pt(s,o==null?void 0:o.function),hexcode:pt(s,o==null?void 0:o.hexcode),id:pt(s,o==null?void 0:o.id),important:pt(s,o==null?void 0:o.important),inserted:pt(s,o==null?void 0:o.inserted),keyword:pt(s,o==null?void 0:o.keyword),number:pt(s,o==null?void 0:o.number),operator:pt(s,o==null?void 0:o.operator),prolog:pt(s,o==null?void 0:o.prolog),property:pt(s,o==null?void 0:o.property),pseudoClass:pt(s,o==null?void 0:o.pseudoClass),pseudoElement:pt(s,o==null?void 0:o.pseudoElement),punctuation:pt(s,o==null?void 0:o.punctuation),regex:pt(s,o==null?void 0:o.regex),selector:pt(s,o==null?void 0:o.selector),string:pt(s,o==null?void 0:o.string),symbol:pt(s,o==null?void 0:o.symbol),tag:pt(s,o==null?void 0:o.tag),unit:pt(s,o==null?void 0:o.unit),url:pt(s,o==null?void 0:o.url),variable:pt(s,o==null?void 0:o.variable)}}const Pkt=Z2t;function Y9(n,e,r){const i=(e-n)*r;return n+i}function jkt(n,e,r){return{r:Y9(n.r,e.r,r),g:Y9(n.g,e.g,r),b:Y9(n.b,e.b,r)}}function Z9(n,e){return n*e}function Lkt(n,e){return{r:Z9(n.r/255,e.r/255)*255,g:Z9(n.g/255,e.g/255)*255,b:Z9(n.b/255,e.b/255)*255}}function X9(n,e){return n+e-n*e}function $kt(n,e){return{r:X9(n.r/255,e.r/255)*255,g:X9(n.g/255,e.g/255)*255,b:X9(n.b/255,e.b/255)*255}}function Mkt(n,e,r){return n*(1-r)+e*r}function Fkt(n,e,r){return Vu((r-n)/(e-n))}function Vu(n,e=0,r=1){return Math.min(r,Math.max(e,n))}function Rm(n,e,r,i,o){return Mkt(r,i,Fkt(n,e,o))}function Q9(n){return Math.round(n)}function ZW(n){if(n.length===4){const e=n.slice(1,2),r=n.slice(2,3),i=n.slice(3,4);return{r:parseInt(e+e,16),g:parseInt(r+r,16),b:parseInt(i+i,16)}}return{r:parseInt(n.slice(1,3),16),g:parseInt(n.slice(3,5),16),b:parseInt(n.slice(5,7),16)}}function Nkt(n){const e=n.replace(/rgba\(|\)/g,"").split(",");return{r:parseInt(e[0]),g:parseInt(e[1]),b:parseInt(e[2]),a:parseFloat(e[3])}}function oNe(n){const e=Q9(Vu(Math.round(n.r),0,255)),r=Q9(Vu(Math.round(n.g),0,255)),i=Q9(Vu(Math.round(n.b),0,255));return"a"in n?`rgba(${e},${r},${i},${n.a})`:"#"+((1<<24)+(e<<16)+(r<<8)+i).toString(16).slice(1)}function Bkt(n){const e=n.s/100,r=n.l/100,i=(1-Math.abs(2*r-1))*e,o=i*(1-Math.abs(n.h/60%2-1)),s=r-i/2;let a=0,l=0,c=0;return 0<=n.h&&n.h<60?(a=i,l=o,c=0):60<=n.h&&n.h<120?(a=o,l=i,c=0):120<=n.h&&n.h<180?(a=0,l=i,c=o):180<=n.h&&n.h<240?(a=0,l=o,c=i):240<=n.h&&n.h<300?(a=o,l=0,c=i):300<=n.h&&n.h<360&&(a=i,l=0,c=o),{r:Math.round((a+s)*255),g:Math.round((l+s)*255),b:Math.round((c+s)*255)}}const Ukt="0123456789ABCDEFabcdef",zkt=/hsl\(\s*(\d+)\s*,\s*((\d+(?:\.\d+)?)%)\s*,\s*((\d+(?:\.\d+)?)%)\s*\)/i;function Vkt(n){for(const e of n)if(Ukt.indexOf(e)===-1)return!1;return!0}function Hkt(n){return n[0]!=="#"||!(n.length===4||n.length===7)?!1:Vkt(n.slice(1))}function Wkt(n){const e=zkt.exec(n);if(!e)throw new Error(`parseHsl: string is not a HSL color: "${n}"`);return{h:parseInt(e[1]),s:parseFloat(e[3]),l:parseFloat(e[5])}}function lT(n){if(!n)return{r:0,g:0,b:0};if(typeof n!="string")throw new Error("parseColor: expected a string");if(Hkt(n))return ZW(n);if(n.startsWith("hsl("))return Bkt(Wkt(n));if(n.startsWith("rgba("))return Nkt(n);throw new Error(`parseColor: unexpected color format: "${n}"`)}function l8(n,e){const r=lT(n);return`rgba(${r.r},${r.g},${r.b},${e})`}const cc=[0,255];function Gkt(n,e){const{blendMode:r}=e,i=lT(n),o=lT(e.black),s=lT(e.white),a=e.bg?lT(e.bg):r==="multiply"?s:o,l={r:[o.r,s.r],g:[o.g,s.g],b:[o.b,s.b]},c={r:Vu(Rm(...l.r,...cc,a.r),...cc),g:Vu(Rm(...l.g,...cc,a.g),...cc),b:Vu(Rm(...l.b,...cc,a.b),...cc)},u={r:Vu(Rm(...l.r,...cc,i.r),...cc),g:Vu(Rm(...l.g,...cc,i.g),...cc),b:Vu(Rm(...l.b,...cc,i.b),...cc)},f=r==="multiply"?Lkt(c,u):$kt(c,u),h={r:Vu(Rm(...cc,...l.r,f.r),...l.r),g:Vu(Rm(...cc,...l.g,f.g),...l.g),b:Vu(Rm(...cc,...l.b,f.b),...l.b)};return oNe(h)}function Ot(n,e){const{bg:r,blendMode:i,colorPalette:o}=e;if(r==="white")throw new Error("Cannot blend with white background");const s=iNe(n);if(!s||s.type!=="color")throw new Error(`Invalid color token value: ${n}`);let a="";if(s.key==="black"&&(a=K2(o.black)),s.key==="white"&&(a=K2(o.white)),s.hue&&s.tint&&(a=K2(o[s.hue][s.tint])),!a)throw new Error(`Invalid color token value: ${n}`);const l=a,c={blendMode:i,bg:r,black:K2(o.black),white:K2(o.white)};try{if(a=Gkt(a,c),r&&s.mix!==void 0){const u=ZW(r),f=ZW(a);a=oNe(jkt(u,f,s.mix))}}catch(u){throw console.warn("could not blend",a,c),u}return a==="#aN"&&(console.warn(`invalid color token value: ${n}`),a=l),s.opacity!==void 0&&(a=l8(a,s.opacity)),a}function K2(n){return typeof n=="string"?n:n.hex}function qkt(n,e){var r;const i=(r=e==null?void 0:e.palette)!=null?r:Pkt;return{light:cde(i,n.light),dark:cde(i,n.dark)}}function cde(n,e){const r=Object.entries(e),[,i]=r.find(([c])=>c==="transparent"),[,o]=r.find(([c])=>c==="default"),s=J9(i,{colorPalette:n}),a=J9(o,{colorPalette:n}),l=a.bg;if(l==="white")throw new Error("Cannot blend with white background");return Object.fromEntries([["transparent",s],["default",a],...r.filter(([c])=>c!=="default"&&c!=="transparent").map(([c,u])=>[c,J9(u,{bg:l,colorPalette:n})])])}function J9(n,e){const{colorPalette:r,bg:i}=e,o=n._blend||"multiply",s=Ot(n.bg,{colorPalette:r,bg:i,blendMode:o}),a={colorPalette:r,bg:s,blendMode:o},l=Ykt(n.button,{baseBg:s,blendMode:o,colorPalette:r}),c=Xkt(n.selectable,{colorPalette:r,baseBg:s,blendMode:o}),u={outline:Ot(n.shadow.outline,a),umbra:Ot(n.shadow.umbra,{...a,bg:void 0,colorPalette:{...r,black:"#000000"}}),penumbra:Ot(n.shadow.penumbra,{...a,bg:void 0,colorPalette:{...r,black:"#000000"}}),ambient:Ot(n.shadow.ambient,{...a,bg:void 0,colorPalette:{...r,black:"#000000"}})};return{_blend:o,_dark:n._dark,accent:{fg:Ot(n.accent.fg,a)},avatar:sNe(n.avatar,{baseBg:s,colorPalette:r,blendMode:o}),backdrop:Ot(n.backdrop,a),badge:aNe(n.badge,{baseBg:s,colorPalette:r,blendMode:o}),bg:s,border:Ot(n.border,a),button:l,code:{bg:Ot(n.code.bg,a),fg:Ot(n.code.fg,a)},fg:Ot(n.fg,a),focusRing:Ot(n.focusRing,a),icon:Ot(n.icon,a),input:Zkt(n.input,{baseBg:s,colorPalette:r,blendMode:o}),kbd:Kkt(n.kbd,{baseBg:s,colorPalette:r,blendMode:o}),link:{fg:Ot(n.link.fg,a)},muted:{bg:Ot(n.muted.bg,a),fg:Ot(n.muted.fg,a)},shadow:u,skeleton:{from:Ot(n.skeleton.from,a),to:Ot(n.skeleton.to,a)},syntax:Qkt(n.syntax,{baseBg:s,colorPalette:r,blendMode:o}),selectable:c}}function Kkt(n,e){const{baseBg:r,blendMode:i,colorPalette:o}=e,s={bg:r,blendMode:i,colorPalette:o},a=Ot(n.bg,s),l={bg:a,blendMode:i,colorPalette:o};return{bg:a,fg:Ot(n.fg,l),border:Ot(n.border,l)}}function sNe(n,e){return{gray:Om(n.gray,e),blue:Om(n.blue,e),purple:Om(n.purple,e),magenta:Om(n.magenta,e),red:Om(n.red,e),orange:Om(n.orange,e),yellow:Om(n.yellow,e),green:Om(n.green,e),cyan:Om(n.cyan,e)}}function Om(n,e){const{baseBg:r,blendMode:i,colorPalette:o}=e,s=n._blend||"multiply",a={bg:r,blendMode:i,colorPalette:o},l=Ot(n.bg,a),c={bg:l,blendMode:s,colorPalette:o};return{_blend:s,bg:l,fg:Ot(n.fg,c)}}function aNe(n,e){return{default:Y2(n.default,e),primary:Y2(n.primary,e),positive:Y2(n.positive,e),caution:Y2(n.caution,e),critical:Y2(n.critical,e)}}function Y2(n,e){const{baseBg:r,blendMode:i,colorPalette:o}=e,s=i,a={bg:r,blendMode:i,colorPalette:o},l=Ot(n.bg,a),c={bg:l,blendMode:s,colorPalette:o};return{bg:l,dot:Ot(n.dot,c),fg:Ot(n.fg,c),icon:Ot(n.icon,c)}}function Ykt(n,e){return{default:eU(n.default,e),ghost:eU(n.ghost,e),bleed:eU(n.bleed,e)}}function eU(n,e){return{default:Z2(n.default,e),primary:Z2(n.primary,e),positive:Z2(n.positive,e),caution:Z2(n.caution,e),critical:Z2(n.critical,e)}}function Z2(n,e){return{enabled:yp(n.enabled,e),hovered:yp(n.hovered,e),pressed:yp(n.pressed,e),selected:yp(n.selected,e),disabled:yp(n.disabled,e)}}function yp(n,e){var r,i;const{baseBg:o,blendMode:s,colorPalette:a}=e,l=n._blend||"multiply",c={bg:o,blendMode:s,colorPalette:a},u=Ot(n.bg,c),f={bg:u,blendMode:l,colorPalette:a};return{_blend:l,accent:{fg:Ot(n.accent.fg,f)},avatar:sNe(n.avatar,{baseBg:o,colorPalette:a,blendMode:l}),badge:aNe(n.badge,{baseBg:u,colorPalette:a,blendMode:l}),bg:u,border:Ot(n.border,f),code:{bg:Ot(n.code.bg,f),fg:Ot(n.code.fg,f)},fg:Ot(n.fg,f),icon:Ot(n.icon,f),link:{fg:Ot(n.link.fg,f)},muted:{bg:Ot(n.muted.bg,f),fg:Ot(n.muted.fg,f)},kbd:{bg:Ot(n.kbd.bg,f),fg:Ot(n.kbd.fg,f),border:Ot(n.kbd.border,f)},skeleton:{from:Ot((r=n.skeleton)==null?void 0:r.from,f),to:Ot((i=n.skeleton)==null?void 0:i.to,f)}}}function Zkt(n,e){return{default:ude(n.default,e),invalid:ude(n.invalid,e)}}function ude(n,e){return{enabled:_O(n.enabled,e),hovered:_O(n.hovered,e),readOnly:_O(n.readOnly,e),disabled:_O(n.disabled,e)}}function _O(n,e){const{baseBg:r,blendMode:i,colorPalette:o}=e,s=n._blend||"multiply",a={colorPalette:o,bg:r,blendMode:i},l=Ot(n.bg,a),c={colorPalette:o,bg:l,blendMode:s};return{_blend:s,bg:l,border:Ot(n.border,c),fg:Ot(n.fg,c),muted:{bg:Ot(n.muted.bg,c)},placeholder:Ot(n.placeholder,c)}}function Xkt(n,e){return{default:X2(n.default,e),primary:X2(n.primary,e),positive:X2(n.positive,e),caution:X2(n.caution,e),critical:X2(n.critical,e)}}function X2(n,e){return{enabled:yp(n.enabled,e),hovered:yp(n.hovered,e),pressed:yp(n.pressed,e),selected:yp(n.selected,e),disabled:yp(n.disabled,e)}}function Qkt(n,e){const{colorPalette:r,baseBg:i,blendMode:o}=e,s={colorPalette:r,bg:i,blendMode:o};return{atrule:Ot(n.atrule,s),attrName:Ot(n.attrName,s),attrValue:Ot(n.attrValue,s),attribute:Ot(n.attribute,s),boolean:Ot(n.boolean,s),builtin:Ot(n.builtin,s),cdata:Ot(n.cdata,s),char:Ot(n.char,s),class:Ot(n.class,s),className:Ot(n.className,s),comment:Ot(n.comment,s),constant:Ot(n.constant,s),deleted:Ot(n.deleted,s),doctype:Ot(n.doctype,s),entity:Ot(n.entity,s),function:Ot(n.function,s),hexcode:Ot(n.hexcode,s),id:Ot(n.id,s),important:Ot(n.important,s),inserted:Ot(n.inserted,s),keyword:Ot(n.keyword,s),number:Ot(n.number,s),operator:Ot(n.operator,s),prolog:Ot(n.prolog,s),property:Ot(n.property,s),pseudoClass:Ot(n.pseudoClass,s),pseudoElement:Ot(n.pseudoElement,s),punctuation:Ot(n.punctuation,s),regex:Ot(n.regex,s),selector:Ot(n.selector,s),string:Ot(n.string,s),symbol:Ot(n.symbol,s),tag:Ot(n.tag,s),unit:Ot(n.unit,s),url:Ot(n.url,s),variable:Ot(n.variable,s)}}function lNe(n){var e,r,i,o,s,a,l,c,u,f,h,m;const g=_kt(n),v={_version:2,avatar:(e=n==null?void 0:n.avatar)!=null?e:Ni.avatar,button:(r=n==null?void 0:n.button)!=null?r:Ni.button,card:(i=n==null?void 0:n.card)!=null?i:Ni.card,color:qkt(g,n),container:(o=n==null?void 0:n.container)!=null?o:Ni.container,font:(s=n==null?void 0:n.font)!=null?s:Q2t,input:(a=n==null?void 0:n.input)!=null?a:Ni.input,layer:(l=n==null?void 0:n.layer)!=null?l:Ni.layer,media:(c=n==null?void 0:n.media)!=null?c:Ni.media,radius:(u=n==null?void 0:n.radius)!=null?u:Ni.radius,shadow:(f=n==null?void 0:n.shadow)!=null?f:Ni.shadow,space:(h=n==null?void 0:n.space)!=null?h:Ni.space,style:(m=n==null?void 0:n.style)!=null?m:Ni.style};return J6e(v)}const sL=new Map;function Jkt(n,e,r){const i=eTt(n,e,r);if(i)return i;const o=nde(n)?J6e(n):n,s=nde(n)?n:J2t(n),a=o.color[e]||o.color.light,l=a[r]||a.default,c=o.layer||Ni.layer,u=s.color[e]||s.color.light,f=u[r]||u.default,h=s.layer||Ni.layer,m={sanity:{...o,color:l,layer:c,v2:{...s,_resolved:!0,color:f,layer:h}}};return tTt(n,e,r,m),m}function eTt(n,e,r){const i=sL.get(e);if(!i)return;const o=i.get(r);if(o)return o.get(n)}function tTt(n,e,r,i){sL.has(e)||sL.set(e,new Map);const o=sL.get(e);o.has(r)||o.set(r,new WeakMap),o.get(r).set(n,i)}var cNe={exports:{}},qi={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eJ=Symbol.for("react.element"),tJ=Symbol.for("react.portal"),c8=Symbol.for("react.fragment"),u8=Symbol.for("react.strict_mode"),d8=Symbol.for("react.profiler"),f8=Symbol.for("react.provider"),h8=Symbol.for("react.context"),nTt=Symbol.for("react.server_context"),p8=Symbol.for("react.forward_ref"),m8=Symbol.for("react.suspense"),g8=Symbol.for("react.suspense_list"),v8=Symbol.for("react.memo"),y8=Symbol.for("react.lazy"),rTt=Symbol.for("react.offscreen"),uNe;uNe=Symbol.for("react.module.reference");function xf(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case eJ:switch(n=n.type,n){case c8:case d8:case u8:case m8:case g8:return n;default:switch(n=n&&n.$$typeof,n){case nTt:case h8:case p8:case y8:case v8:case f8:return n;default:return e}}case tJ:return e}}}qi.ContextConsumer=h8;qi.ContextProvider=f8;qi.Element=eJ;qi.ForwardRef=p8;qi.Fragment=c8;qi.Lazy=y8;qi.Memo=v8;qi.Portal=tJ;qi.Profiler=d8;qi.StrictMode=u8;qi.Suspense=m8;qi.SuspenseList=g8;qi.isAsyncMode=function(){return!1};qi.isConcurrentMode=function(){return!1};qi.isContextConsumer=function(n){return xf(n)===h8};qi.isContextProvider=function(n){return xf(n)===f8};qi.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===eJ};qi.isForwardRef=function(n){return xf(n)===p8};qi.isFragment=function(n){return xf(n)===c8};qi.isLazy=function(n){return xf(n)===y8};qi.isMemo=function(n){return xf(n)===v8};qi.isPortal=function(n){return xf(n)===tJ};qi.isProfiler=function(n){return xf(n)===d8};qi.isStrictMode=function(n){return xf(n)===u8};qi.isSuspense=function(n){return xf(n)===m8};qi.isSuspenseList=function(n){return xf(n)===g8};qi.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===c8||n===d8||n===u8||n===m8||n===g8||n===rTt||typeof n=="object"&&n!==null&&(n.$$typeof===y8||n.$$typeof===v8||n.$$typeof===f8||n.$$typeof===h8||n.$$typeof===p8||n.$$typeof===uNe||n.getModuleId!==void 0)};qi.typeOf=xf;cNe.exports=qi;var Xr=cNe.exports;const dNe=Tt(Xr);var qa=function(){return qa=Object.assign||function(e){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},qa.apply(this,arguments)};function EC(n,e,r){if(r||arguments.length===2)for(var i=0,o=e.length,s;i<o;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))}var Mo="-ms-",uA="-moz-",Ri="-webkit-",fNe="comm",b8="rule",nJ="decl",iTt="@import",hNe="@keyframes",oTt="@layer",pNe=Math.abs,rJ=String.fromCharCode,XW=Object.assign;function sTt(n,e){return Ua(n,0)^45?(((e<<2^Ua(n,0))<<2^Ua(n,1))<<2^Ua(n,2))<<2^Ua(n,3):0}function mNe(n){return n.trim()}function Wm(n,e){return(n=e.exec(n))?n[0]:n}function vr(n,e,r){return n.replace(e,r)}function aL(n,e,r){return n.indexOf(e,r)}function Ua(n,e){return n.charCodeAt(e)|0}function CC(n,e,r){return n.slice(e,r)}function dp(n){return n.length}function gNe(n){return n.length}function cT(n,e){return e.push(n),n}function aTt(n,e){return n.map(e).join("")}function dde(n,e){return n.filter(function(r){return!Wm(r,e)})}var x8=1,SC=1,vNe=0,uf=0,ta=0,_S="";function w8(n,e,r,i,o,s,a,l){return{value:n,root:e,parent:r,type:i,props:o,children:s,line:x8,column:SC,length:a,return:"",siblings:l}}function Bv(n,e){return XW(w8("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},e)}function Gw(n){for(;n.root;)n=Bv(n.root,{children:[n]});cT(n,n.siblings)}function lTt(){return ta}function cTt(){return ta=uf>0?Ua(_S,--uf):0,SC--,ta===10&&(SC=1,x8--),ta}function ah(){return ta=uf<vNe?Ua(_S,uf++):0,SC++,ta===10&&(SC=1,x8++),ta}function Hb(){return Ua(_S,uf)}function lL(){return uf}function _8(n,e){return CC(_S,n,e)}function QW(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function uTt(n){return x8=SC=1,vNe=dp(_S=n),uf=0,[]}function dTt(n){return _S="",n}function tU(n){return mNe(_8(uf-1,JW(n===91?n+2:n===40?n+1:n)))}function fTt(n){for(;(ta=Hb())&&ta<33;)ah();return QW(n)>2||QW(ta)>3?"":" "}function hTt(n,e){for(;--e&&ah()&&!(ta<48||ta>102||ta>57&&ta<65||ta>70&&ta<97););return _8(n,lL()+(e<6&&Hb()==32&&ah()==32))}function JW(n){for(;ah();)switch(ta){case n:return uf;case 34:case 39:n!==34&&n!==39&&JW(ta);break;case 40:n===41&&JW(n);break;case 92:ah();break}return uf}function pTt(n,e){for(;ah()&&n+ta!==47+10;)if(n+ta===42+42&&Hb()===47)break;return"/*"+_8(e,uf-1)+"*"+rJ(n===47?n:ah())}function mTt(n){for(;!QW(Hb());)ah();return _8(n,uf)}function gTt(n){return dTt(cL("",null,null,null,[""],n=uTt(n),0,[0],n))}function cL(n,e,r,i,o,s,a,l,c){for(var u=0,f=0,h=a,m=0,g=0,v=0,y=1,b=1,x=1,_=0,w="",C=o,S=s,T=i,A=w;b;)switch(v=_,_=ah()){case 40:if(v!=108&&Ua(A,h-1)==58){aL(A+=vr(tU(_),"&","&\f"),"&\f",pNe(u?l[u-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:A+=tU(_);break;case 9:case 10:case 13:case 32:A+=fTt(v);break;case 92:A+=hTt(lL()-1,7);continue;case 47:switch(Hb()){case 42:case 47:cT(vTt(pTt(ah(),lL()),e,r,c),c);break;default:A+="/"}break;case 123*y:l[u++]=dp(A)*x;case 125*y:case 59:case 0:switch(_){case 0:case 125:b=0;case 59+f:x==-1&&(A=vr(A,/\f/g,"")),g>0&&dp(A)-h&&cT(g>32?hde(A+";",i,r,h-1,c):hde(vr(A," ","")+";",i,r,h-2,c),c);break;case 59:A+=";";default:if(cT(T=fde(A,e,r,u,f,o,l,w,C=[],S=[],h,s),s),_===123)if(f===0)cL(A,e,T,T,C,s,h,l,S);else switch(m===99&&Ua(A,3)===110?100:m){case 100:case 108:case 109:case 115:cL(n,T,T,i&&cT(fde(n,T,T,0,0,o,l,w,o,C=[],h,S),S),o,S,h,l,i?C:S);break;default:cL(A,T,T,T,[""],S,0,l,S)}}u=f=g=0,y=x=1,w=A="",h=a;break;case 58:h=1+dp(A),g=v;default:if(y<1){if(_==123)--y;else if(_==125&&y++==0&&cTt()==125)continue}switch(A+=rJ(_),_*y){case 38:x=f>0?1:(A+="\f",-1);break;case 44:l[u++]=(dp(A)-1)*x,x=1;break;case 64:Hb()===45&&(A+=tU(ah())),m=Hb(),f=h=dp(w=A+=mTt(lL())),_++;break;case 45:v===45&&dp(A)==2&&(y=0)}}return s}function fde(n,e,r,i,o,s,a,l,c,u,f,h){for(var m=o-1,g=o===0?s:[""],v=gNe(g),y=0,b=0,x=0;y<i;++y)for(var _=0,w=CC(n,m+1,m=pNe(b=a[y])),C=n;_<v;++_)(C=mNe(b>0?g[_]+" "+w:vr(w,/&\f/g,g[_])))&&(c[x++]=C);return w8(n,e,r,o===0?b8:l,c,u,f,h)}function vTt(n,e,r,i){return w8(n,e,r,fNe,rJ(lTt()),CC(n,2,-2),0,i)}function hde(n,e,r,i,o){return w8(n,e,r,nJ,CC(n,0,i),CC(n,i+1,-1),i,o)}function yNe(n,e,r){switch(sTt(n,e)){case 5103:return Ri+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ri+n+n;case 4789:return uA+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Ri+n+uA+n+Mo+n+n;case 5936:switch(Ua(n,e+11)){case 114:return Ri+n+Mo+vr(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Ri+n+Mo+vr(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Ri+n+Mo+vr(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return Ri+n+Mo+n+n;case 6165:return Ri+n+Mo+"flex-"+n+n;case 5187:return Ri+n+vr(n,/(\w+).+(:[^]+)/,Ri+"box-$1$2"+Mo+"flex-$1$2")+n;case 5443:return Ri+n+Mo+"flex-item-"+vr(n,/flex-|-self/g,"")+(Wm(n,/flex-|baseline/)?"":Mo+"grid-row-"+vr(n,/flex-|-self/g,""))+n;case 4675:return Ri+n+Mo+"flex-line-pack"+vr(n,/align-content|flex-|-self/g,"")+n;case 5548:return Ri+n+Mo+vr(n,"shrink","negative")+n;case 5292:return Ri+n+Mo+vr(n,"basis","preferred-size")+n;case 6060:return Ri+"box-"+vr(n,"-grow","")+Ri+n+Mo+vr(n,"grow","positive")+n;case 4554:return Ri+vr(n,/([^-])(transform)/g,"$1"+Ri+"$2")+n;case 6187:return vr(vr(vr(n,/(zoom-|grab)/,Ri+"$1"),/(image-set)/,Ri+"$1"),n,"")+n;case 5495:case 3959:return vr(n,/(image-set\([^]*)/,Ri+"$1$`$1");case 4968:return vr(vr(n,/(.+:)(flex-)?(.*)/,Ri+"box-pack:$3"+Mo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ri+n+n;case 4200:if(!Wm(n,/flex-|baseline/))return Mo+"grid-column-align"+CC(n,e)+n;break;case 2592:case 3360:return Mo+vr(n,"template-","")+n;case 4384:case 3616:return r&&r.some(function(i,o){return e=o,Wm(i.props,/grid-\w+-end/)})?~aL(n+(r=r[e].value),"span",0)?n:Mo+vr(n,"-start","")+n+Mo+"grid-row-span:"+(~aL(r,"span",0)?Wm(r,/\d+/):+Wm(r,/\d+/)-+Wm(n,/\d+/))+";":Mo+vr(n,"-start","")+n;case 4896:case 4128:return r&&r.some(function(i){return Wm(i.props,/grid-\w+-start/)})?n:Mo+vr(vr(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return vr(n,/(.+)-inline(.+)/,Ri+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(dp(n)-1-e>6)switch(Ua(n,e+1)){case 109:if(Ua(n,e+4)!==45)break;case 102:return vr(n,/(.+:)(.+)-([^]+)/,"$1"+Ri+"$2-$3$1"+uA+(Ua(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~aL(n,"stretch",0)?yNe(vr(n,"stretch","fill-available"),e,r)+n:n}break;case 5152:case 5920:return vr(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,o,s,a,l,c,u){return Mo+o+":"+s+u+(a?Mo+o+"-span:"+(l?c:+c-+s)+u:"")+n});case 4949:if(Ua(n,e+6)===121)return vr(n,":",":"+Ri)+n;break;case 6444:switch(Ua(n,Ua(n,14)===45?18:11)){case 120:return vr(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ri+(Ua(n,14)===45?"inline-":"")+"box$3$1"+Ri+"$2$3$1"+Mo+"$2box$3")+n;case 100:return vr(n,":",":"+Mo)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return vr(n,"scroll-","scroll-snap-")+n}return n}function LM(n,e){for(var r="",i=0;i<n.length;i++)r+=e(n[i],i,n,e)||"";return r}function yTt(n,e,r,i){switch(n.type){case oTt:if(n.children.length)break;case iTt:case nJ:return n.return=n.return||n.value;case fNe:return"";case hNe:return n.return=n.value+"{"+LM(n.children,i)+"}";case b8:if(!dp(n.value=n.props.join(",")))return""}return dp(r=LM(n.children,i))?n.return=n.value+"{"+r+"}":""}function bTt(n){var e=gNe(n);return function(r,i,o,s){for(var a="",l=0;l<e;l++)a+=n[l](r,i,o,s)||"";return a}}function xTt(n){return function(e){e.root||(e=e.return)&&n(e)}}function wTt(n,e,r,i){if(n.length>-1&&!n.return)switch(n.type){case nJ:n.return=yNe(n.value,n.length,r);return;case hNe:return LM([Bv(n,{value:vr(n.value,"@","@"+Ri)})],i);case b8:if(n.length)return aTt(r=n.props,function(o){switch(Wm(o,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Gw(Bv(n,{props:[vr(o,/:(read-\w+)/,":"+uA+"$1")]})),Gw(Bv(n,{props:[o]})),XW(n,{props:dde(r,i)});break;case"::placeholder":Gw(Bv(n,{props:[vr(o,/:(plac\w+)/,":"+Ri+"input-$1")]})),Gw(Bv(n,{props:[vr(o,/:(plac\w+)/,":"+uA+"$1")]})),Gw(Bv(n,{props:[vr(o,/:(plac\w+)/,Mo+"input-$1")]})),Gw(Bv(n,{props:[o]})),XW(n,{props:dde(r,i)});break}return""})}}var _Tt={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kC=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",bNe="active",xNe="data-styled-version",E8="6.1.8",iJ=`/*!sc*/
`,oJ=typeof window<"u"&&"HTMLElement"in window,ETt=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY),CTt={},C8=Object.freeze([]),TC=Object.freeze({});function wNe(n,e,r){return r===void 0&&(r=TC),n.theme!==r.theme&&n.theme||e||r.theme}var _Ne=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),STt=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,kTt=/(^-|-$)/g;function pde(n){return n.replace(STt,"-").replace(kTt,"")}var TTt=/(a)(d)/gi,EO=52,mde=function(n){return String.fromCharCode(n+(n>25?39:97))};function eG(n){var e,r="";for(e=Math.abs(n);e>EO;e=e/EO|0)r=mde(e%EO)+r;return(mde(e%EO)+r).replace(TTt,"$1-$2")}var nU,ENe=5381,sE=function(n,e){for(var r=e.length;r;)n=33*n^e.charCodeAt(--r);return n},CNe=function(n){return sE(ENe,n)};function sJ(n){return eG(CNe(n)>>>0)}function ATt(n){return n.displayName||n.name||"Component"}function rU(n){return typeof n=="string"&&!0}var SNe=typeof Symbol=="function"&&Symbol.for,kNe=SNe?Symbol.for("react.memo"):60115,ITt=SNe?Symbol.for("react.forward_ref"):60112,DTt={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},RTt={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},TNe={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},OTt=((nU={})[ITt]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},nU[kNe]=TNe,nU);function gde(n){return("type"in(e=n)&&e.type.$$typeof)===kNe?TNe:"$$typeof"in n?OTt[n.$$typeof]:DTt;var e}var PTt=Object.defineProperty,jTt=Object.getOwnPropertyNames,vde=Object.getOwnPropertySymbols,LTt=Object.getOwnPropertyDescriptor,$Tt=Object.getPrototypeOf,yde=Object.prototype;function ANe(n,e,r){if(typeof e!="string"){if(yde){var i=$Tt(e);i&&i!==yde&&ANe(n,i,r)}var o=jTt(e);vde&&(o=o.concat(vde(e)));for(var s=gde(n),a=gde(e),l=0;l<o.length;++l){var c=o[l];if(!(c in RTt||r&&r[c]||a&&c in a||s&&c in s)){var u=LTt(e,c);try{PTt(n,c,u)}catch{}}}}return n}function px(n){return typeof n=="function"}function aJ(n){return typeof n=="object"&&"styledComponentId"in n}function wb(n,e){return n&&e?"".concat(n," ").concat(e):n||e||""}function $M(n,e){if(n.length===0)return"";for(var r=n[0],i=1;i<n.length;i++)r+=e?e+n[i]:n[i];return r}function e5(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function tG(n,e,r){if(r===void 0&&(r=!1),!r&&!e5(n)&&!Array.isArray(n))return e;if(Array.isArray(e))for(var i=0;i<e.length;i++)n[i]=tG(n[i],e[i]);else if(e5(e))for(var i in e)n[i]=tG(n[i],e[i]);return n}function lJ(n,e){Object.defineProperty(n,"toString",{value:e})}function oy(n){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var MTt=function(){function n(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return n.prototype.indexOfGroup=function(e){for(var r=0,i=0;i<e;i++)r+=this.groupSizes[i];return r},n.prototype.insertRules=function(e,r){if(e>=this.groupSizes.length){for(var i=this.groupSizes,o=i.length,s=o;e>=s;)if((s<<=1)<0)throw oy(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(i),this.length=s;for(var a=o;a<s;a++)this.groupSizes[a]=0}for(var l=this.indexOfGroup(e+1),c=(a=0,r.length);a<c;a++)this.tag.insertRule(l,r[a])&&(this.groupSizes[e]++,l++)},n.prototype.clearGroup=function(e){if(e<this.length){var r=this.groupSizes[e],i=this.indexOfGroup(e),o=i+r;this.groupSizes[e]=0;for(var s=i;s<o;s++)this.tag.deleteRule(i)}},n.prototype.getGroup=function(e){var r="";if(e>=this.length||this.groupSizes[e]===0)return r;for(var i=this.groupSizes[e],o=this.indexOfGroup(e),s=o+i,a=o;a<s;a++)r+="".concat(this.tag.getRule(a)).concat(iJ);return r},n}(),uL=new Map,MM=new Map,dL=1,CO=function(n){if(uL.has(n))return uL.get(n);for(;MM.has(dL);)dL++;var e=dL++;return uL.set(n,e),MM.set(e,n),e},FTt=function(n,e){dL=e+1,uL.set(n,e),MM.set(e,n)},NTt="style[".concat(kC,"][").concat(xNe,'="').concat(E8,'"]'),BTt=new RegExp("^".concat(kC,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),UTt=function(n,e,r){for(var i,o=r.split(","),s=0,a=o.length;s<a;s++)(i=o[s])&&n.registerName(e,i)},zTt=function(n,e){for(var r,i=((r=e.textContent)!==null&&r!==void 0?r:"").split(iJ),o=[],s=0,a=i.length;s<a;s++){var l=i[s].trim();if(l){var c=l.match(BTt);if(c){var u=0|parseInt(c[1],10),f=c[2];u!==0&&(FTt(f,u),UTt(n,f,c[3]),n.getTag().insertRules(u,o)),o.length=0}else o.push(l)}}};function VTt(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var INe=function(n){var e=document.head,r=n||e,i=document.createElement("style"),o=function(l){var c=Array.from(l.querySelectorAll("style[".concat(kC,"]")));return c[c.length-1]}(r),s=o!==void 0?o.nextSibling:null;i.setAttribute(kC,bNe),i.setAttribute(xNe,E8);var a=VTt();return a&&i.setAttribute("nonce",a),r.insertBefore(i,s),i},HTt=function(){function n(e){this.element=INe(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var i=document.styleSheets,o=0,s=i.length;o<s;o++){var a=i[o];if(a.ownerNode===r)return a}throw oy(17)}(this.element),this.length=0}return n.prototype.insertRule=function(e,r){try{return this.sheet.insertRule(r,e),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},n.prototype.getRule=function(e){var r=this.sheet.cssRules[e];return r&&r.cssText?r.cssText:""},n}(),WTt=function(){function n(e){this.element=INe(e),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(e,r){if(e<=this.length&&e>=0){var i=document.createTextNode(r);return this.element.insertBefore(i,this.nodes[e]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},n.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},n}(),GTt=function(){function n(e){this.rules=[],this.length=0}return n.prototype.insertRule=function(e,r){return e<=this.length&&(this.rules.splice(e,0,r),this.length++,!0)},n.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},n.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},n}(),bde=oJ,qTt={isServer:!oJ,useCSSOMInjection:!ETt},FM=function(){function n(e,r,i){e===void 0&&(e=TC),r===void 0&&(r={});var o=this;this.options=qa(qa({},qTt),e),this.gs=r,this.names=new Map(i),this.server=!!e.isServer,!this.server&&oJ&&bde&&(bde=!1,function(s){for(var a=document.querySelectorAll(NTt),l=0,c=a.length;l<c;l++){var u=a[l];u&&u.getAttribute(kC)!==bNe&&(zTt(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),lJ(this,function(){return function(s){for(var a=s.getTag(),l=a.length,c="",u=function(h){var m=function(x){return MM.get(x)}(h);if(m===void 0)return"continue";var g=s.names.get(m),v=a.getGroup(h);if(g===void 0||v.length===0)return"continue";var y="".concat(kC,".g").concat(h,'[id="').concat(m,'"]'),b="";g!==void 0&&g.forEach(function(x){x.length>0&&(b+="".concat(x,","))}),c+="".concat(v).concat(y,'{content:"').concat(b,'"}').concat(iJ)},f=0;f<l;f++)u(f);return c}(o)})}return n.registerId=function(e){return CO(e)},n.prototype.reconstructWithOptions=function(e,r){return r===void 0&&(r=!0),new n(qa(qa({},this.options),e),this.gs,r&&this.names||void 0)},n.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(e=function(r){var i=r.useCSSOMInjection,o=r.target;return r.isServer?new GTt(o):i?new HTt(o):new WTt(o)}(this.options),new MTt(e)));var e},n.prototype.hasNameForId=function(e,r){return this.names.has(e)&&this.names.get(e).has(r)},n.prototype.registerName=function(e,r){if(CO(e),this.names.has(e))this.names.get(e).add(r);else{var i=new Set;i.add(r),this.names.set(e,i)}},n.prototype.insertRules=function(e,r,i){this.registerName(e,r),this.getTag().insertRules(CO(e),i)},n.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},n.prototype.clearRules=function(e){this.getTag().clearGroup(CO(e)),this.clearNames(e)},n.prototype.clearTag=function(){this.tag=void 0},n}(),KTt=/&/g,YTt=/^\s*\/\/.*$/gm;function DNe(n,e){return n.map(function(r){return r.type==="rule"&&(r.value="".concat(e," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(e," ")),r.props=r.props.map(function(i){return"".concat(e," ").concat(i)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=DNe(r.children,e)),r})}function ZTt(n){var e,r,i,o=n===void 0?TC:n,s=o.options,a=s===void 0?TC:s,l=o.plugins,c=l===void 0?C8:l,u=function(m,g,v){return v.startsWith(r)&&v.endsWith(r)&&v.replaceAll(r,"").length>0?".".concat(e):m},f=c.slice();f.push(function(m){m.type===b8&&m.value.includes("&")&&(m.props[0]=m.props[0].replace(KTt,r).replace(i,u))}),a.prefix&&f.push(wTt),f.push(yTt);var h=function(m,g,v,y){g===void 0&&(g=""),v===void 0&&(v=""),y===void 0&&(y="&"),e=y,r=g,i=new RegExp("\\".concat(r,"\\b"),"g");var b=m.replace(YTt,""),x=gTt(v||g?"".concat(v," ").concat(g," { ").concat(b," }"):b);a.namespace&&(x=DNe(x,a.namespace));var _=[];return LM(x,bTt(f.concat(xTt(function(w){return _.push(w)})))),_};return h.hash=c.length?c.reduce(function(m,g){return g.name||oy(15),sE(m,g.name)},ENe).toString():"",h}var XTt=new FM,nG=ZTt(),RNe=_t.createContext({shouldForwardProp:void 0,styleSheet:XTt,stylis:nG});RNe.Consumer;_t.createContext(void 0);function rG(){return p.useContext(RNe)}var ONe=function(){function n(e,r){var i=this;this.inject=function(o,s){s===void 0&&(s=nG);var a=i.name+s.hash;o.hasNameForId(i.id,a)||o.insertRules(i.id,a,s(i.rules,a,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=r,lJ(this,function(){throw oy(12,String(i.name))})}return n.prototype.getName=function(e){return e===void 0&&(e=nG),this.name+e.hash},n}(),QTt=function(n){return n>="A"&&n<="Z"};function xde(n){for(var e="",r=0;r<n.length;r++){var i=n[r];if(r===1&&i==="-"&&n[0]==="-")return n;QTt(i)?e+="-"+i.toLowerCase():e+=i}return e.startsWith("ms-")?"-"+e:e}var PNe=function(n){return n==null||n===!1||n===""},jNe=function(n){var e,r,i=[];for(var o in n){var s=n[o];n.hasOwnProperty(o)&&!PNe(s)&&(Array.isArray(s)&&s.isCss||px(s)?i.push("".concat(xde(o),":"),s,";"):e5(s)?i.push.apply(i,EC(EC(["".concat(o," {")],jNe(s),!1),["}"],!1)):i.push("".concat(xde(o),": ").concat((e=o,(r=s)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||e in _Tt||e.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return i};function N0(n,e,r,i){if(PNe(n))return[];if(aJ(n))return[".".concat(n.styledComponentId)];if(px(n)){if(!px(s=n)||s.prototype&&s.prototype.isReactComponent||!e)return[n];var o=n(e);return N0(o,e,r,i)}var s;return n instanceof ONe?r?(n.inject(r,i),[n.getName(i)]):[n]:e5(n)?jNe(n):Array.isArray(n)?Array.prototype.concat.apply(C8,n.map(function(a){return N0(a,e,r,i)})):[n.toString()]}function LNe(n){for(var e=0;e<n.length;e+=1){var r=n[e];if(px(r)&&!aJ(r))return!1}return!0}var JTt=CNe(E8),eAt=function(){function n(e,r,i){this.rules=e,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&LNe(e),this.componentId=r,this.baseHash=sE(JTt,r),this.baseStyle=i,FM.registerId(r)}return n.prototype.generateAndInjectStyles=function(e,r,i){var o=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,r,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))o=wb(o,this.staticRulesId);else{var s=$M(N0(this.rules,e,r,i)),a=eG(sE(this.baseHash,s)>>>0);if(!r.hasNameForId(this.componentId,a)){var l=i(s,".".concat(a),void 0,this.componentId);r.insertRules(this.componentId,a,l)}o=wb(o,a),this.staticRulesId=a}else{for(var c=sE(this.baseHash,i.hash),u="",f=0;f<this.rules.length;f++){var h=this.rules[f];if(typeof h=="string")u+=h;else if(h){var m=$M(N0(h,e,r,i));c=sE(c,m+f),u+=m}}if(u){var g=eG(c>>>0);r.hasNameForId(this.componentId,g)||r.insertRules(this.componentId,g,i(u,".".concat(g),void 0,this.componentId)),o=wb(o,g)}}return o},n}(),AC=_t.createContext(void 0);AC.Consumer;function cJ(){var n=p.useContext(AC);if(!n)throw oy(18);return n}function $Ne(n){var e=_t.useContext(AC),r=p.useMemo(function(){return function(i,o){if(!i)throw oy(14);if(px(i)){var s=i(o);return s}if(Array.isArray(i)||typeof i!="object")throw oy(8);return o?qa(qa({},o),i):i}(n.theme,e)},[n.theme,e]);return n.children?_t.createElement(AC.Provider,{value:r},n.children):null}var iU={};function tAt(n,e,r){var i=aJ(n),o=n,s=!rU(n),a=e.attrs,l=a===void 0?C8:a,c=e.componentId,u=c===void 0?function(C,S){var T=typeof C!="string"?"sc":pde(C);iU[T]=(iU[T]||0)+1;var A="".concat(T,"-").concat(sJ(E8+T+iU[T]));return S?"".concat(S,"-").concat(A):A}(e.displayName,e.parentComponentId):c,f=e.displayName,h=f===void 0?function(C){return rU(C)?"styled.".concat(C):"Styled(".concat(ATt(C),")")}(n):f,m=e.displayName&&e.componentId?"".concat(pde(e.displayName),"-").concat(e.componentId):e.componentId||u,g=i&&o.attrs?o.attrs.concat(l).filter(Boolean):l,v=e.shouldForwardProp;if(i&&o.shouldForwardProp){var y=o.shouldForwardProp;if(e.shouldForwardProp){var b=e.shouldForwardProp;v=function(C,S){return y(C,S)&&b(C,S)}}else v=y}var x=new eAt(r,m,i?o.componentStyle:void 0);function _(C,S){return function(T,A,I){var D=T.attrs,R=T.componentStyle,P=T.defaultProps,O=T.foldedComponentIds,$=T.styledComponentId,L=T.target,M=_t.useContext(AC),N=rG(),z=T.shouldForwardProp||N.shouldForwardProp,B=wNe(A,M,P)||TC,H=function(Q,re,se){for(var de,fe=qa(qa({},re),{className:void 0,theme:se}),we=0;we<Q.length;we+=1){var ye=px(de=Q[we])?de(fe):de;for(var ve in ye)fe[ve]=ve==="className"?wb(fe[ve],ye[ve]):ve==="style"?qa(qa({},fe[ve]),ye[ve]):ye[ve]}return re.className&&(fe.className=wb(fe.className,re.className)),fe}(D,A,B),X=H.as||L,G={};for(var ne in H)H[ne]===void 0||ne[0]==="$"||ne==="as"||ne==="theme"&&H.theme===B||(ne==="forwardedAs"?G.as=H.forwardedAs:z&&!z(ne,X)||(G[ne]=H[ne]));var le=function(Q,re){var se=rG(),de=Q.generateAndInjectStyles(re,se.styleSheet,se.stylis);return de}(R,H),K=wb(O,$);return le&&(K+=" "+le),H.className&&(K+=" "+H.className),G[rU(X)&&!_Ne.has(X)?"class":"className"]=K,G.ref=I,p.createElement(X,G)}(w,C,S)}_.displayName=h;var w=_t.forwardRef(_);return w.attrs=g,w.componentStyle=x,w.displayName=h,w.shouldForwardProp=v,w.foldedComponentIds=i?wb(o.foldedComponentIds,o.styledComponentId):"",w.styledComponentId=m,w.target=i?o.target:n,Object.defineProperty(w,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(C){this._foldedDefaultProps=i?function(S){for(var T=[],A=1;A<arguments.length;A++)T[A-1]=arguments[A];for(var I=0,D=T;I<D.length;I++)tG(S,D[I],!0);return S}({},o.defaultProps,C):C}}),lJ(w,function(){return".".concat(w.styledComponentId)}),s&&ANe(w,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),w}function wde(n,e){for(var r=[n[0]],i=0,o=e.length;i<o;i+=1)r.push(e[i],n[i+1]);return r}var _de=function(n){return Object.assign(n,{isCss:!0})};function Ae(n){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(px(n)||e5(n))return _de(N0(wde(C8,EC([n],e,!0))));var i=n;return e.length===0&&i.length===1&&typeof i[0]=="string"?N0(i):_de(N0(wde(i,e)))}function iG(n,e,r){if(r===void 0&&(r=TC),!e)throw oy(1,e);var i=function(o){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];return n(e,r,Ae.apply(void 0,EC([o],s,!1)))};return i.attrs=function(o){return iG(n,e,qa(qa({},r),{attrs:Array.prototype.concat(r.attrs,o).filter(Boolean)}))},i.withConfig=function(o){return iG(n,e,qa(qa({},r),o))},i}var MNe=function(n){return iG(tAt,n)},F=MNe;_Ne.forEach(function(n){F[n]=MNe(n)});var nAt=function(){function n(e,r){this.rules=e,this.componentId=r,this.isStatic=LNe(e),FM.registerId(this.componentId+1)}return n.prototype.createStyles=function(e,r,i,o){var s=o($M(N0(this.rules,r,i,o)),""),a=this.componentId+e;i.insertRules(a,a,s)},n.prototype.removeStyles=function(e,r){r.clearRules(this.componentId+e)},n.prototype.renderStyles=function(e,r,i,o){e>2&&FM.registerId(this.componentId+e),this.removeStyles(e,i),this.createStyles(e,r,i,o)},n}();function rAt(n){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var i=Ae.apply(void 0,EC([n],e,!1)),o="sc-global-".concat(sJ(JSON.stringify(i))),s=new nAt(i,o),a=function(c){var u=rG(),f=_t.useContext(AC),h=_t.useRef(u.styleSheet.allocateGSInstance(o)).current;return u.styleSheet.server&&l(h,c,u.styleSheet,f,u.stylis),_t.useLayoutEffect(function(){if(!u.styleSheet.server)return l(h,c,u.styleSheet,f,u.stylis),function(){return s.removeStyles(h,u.styleSheet)}},[h,c,u.styleSheet,f,u.stylis]),null};function l(c,u,f,h,m){if(s.isStatic)s.renderStyles(c,CTt,f,m);else{var g=qa(qa({},u),{theme:wNe(u,h,a.defaultProps)});s.renderStyles(c,g,f,m)}}return _t.memo(a)}function Kp(n){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var i=$M(Ae.apply(void 0,EC([n],e,!1))),o=sJ(i);return new ONe(o,i)}const sy=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"access-denied",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M18.1568 6.84315C21.281 9.96734 21.281 15.0327 18.1568 18.1569C15.0326 21.281 9.96733 21.281 6.84313 18.1569C3.71894 15.0327 3.71894 9.96734 6.84313 6.84315C9.96733 3.71895 15.0326 3.71895 18.1568 6.84315ZM18.1568 6.84315L6.844 18.156",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),iAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"activity",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M21 15H19L15.5 7L11 18L8 12L6 15H4",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),oG=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"add-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M8 12.4H17M12.5 8V17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),uJ=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"add-comment",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M13 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5H9.5V20.5L13.5 16.5H16.5C17.6046 16.5 18.5 15.6046 18.5 14.5V12M15 6.5H22M18.5 10V3",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ta=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"add",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M12.5 5V20M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),oAt=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"api",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M5.93047 13.2107L6.66782 10.3728H6.73089L7.45854 13.2107H5.93047ZM8.17164 16H9.66089L7.56041 9H5.93047L3.82999 16H5.20767L5.65396 14.2876H7.73505L8.17164 16Z",fill:"currentColor"}),d.jsx("path",{d:"M10.5389 9V16H11.9166V13.7782H13.0323C14.541 13.7782 15.5015 12.8517 15.5015 11.3964C15.5015 9.92654 14.5701 9 13.1003 9H10.5389ZM11.9166 10.1303H12.751C13.6533 10.1303 14.1044 10.5475 14.1044 11.3867C14.1044 12.2308 13.6533 12.6431 12.751 12.6431H11.9166V10.1303Z",fill:"currentColor"}),d.jsx("path",{d:"M21.1675 16V14.8164H19.717V10.1836H21.1675V9H16.8889V10.1836H18.3393V14.8164H16.8889V16H21.1675Z",fill:"currentColor"})]})}),sAt=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"archive",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M12.5 10.5V17M20.5 7.5V20.5H4.5V7.5L7.5 4.5H17.5L20.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M4.5 7.5H20.5M16 14L12.5 17.5L9 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),FNe=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"arrow-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M12.5 19.5V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M18 14L12.5 19.5L7 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),UI=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"arrow-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M5.5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M11 18L5.5 12.5L11 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),NNe=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M19.5 12.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M14 7L19.5 12.5L14 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),aAt=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"arrow-top-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M16.5 8.5L7 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M9 8.5H16.5V16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),lAt=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"arrow-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M7 11L12.5 5.5L18 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M12.5 5.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),cAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"asterisk",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M12.5 4V21M16.75 5.13879L8.25 19.8612M19.8612 8.25L5.13878 16.75M4.00002 12.5H21M5.13881 8.25L19.8612 16.75M8.25002 5.13879L16.75 19.8612",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),uAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"bar-chart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M5.5 5V19.5H20M8.5 18V13M11.5 18V9M14.5 18V11M17.5 18V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),dAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"basket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M8.5 10.5H5L6.5 19.5H18.5L20 10.5H16.5M8.5 10.5L10.2721 5.18377C10.4082 4.77543 10.7903 4.5 11.2208 4.5H13.7792C14.2097 4.5 14.5918 4.77543 14.7279 5.18377L16.5 10.5M8.5 10.5H16.5M8.5 10.5L9.5 19.5M16.5 10.5L15.5 19.5M12.5 10.5V19.5M19.5 13.5H5.5M19 16.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),fAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"bell",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M10.5 17.5V18.5C10.5 20 11.5 20.5 12.5 20.5C13.5 20.5 14.5 20 14.5 18.5V17.5M5.5 17.5C6.5 16 6.5 15 6.5 12C6.5 8 8.5 5.5 12.5 5.5C16.5 5.5 18.5 8 18.5 12C18.5 15 18.5 16 19.5 17.5H5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),hAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"bill",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M6.50001 5.5C8.50003 5.5 8.50003 8 8.50003 8V9.5M6.50001 5.5C4.5 5.5 4.5 8 4.5 8L4.50001 9.5H8.50003M6.50001 5.5C6.50001 5.5 15.8333 5.5 17.6667 5.5C19.5 5.5 19.5 8.5 19.5 8.5V20L17.6667 19L15.8333 20L14 19L12.1667 20L10.3334 19L8.50003 20V9.5M11 12.5H15M11 9.5H16M11 15.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),zI=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"binary-document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M9.5 12.5V17.5M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM12.5 12.5V17.5H15.5V12.5H12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})]})}),BNe=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"block-content",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 7.60002L11 7.60003V6.40003L21 6.40002V7.60002Z",fill:"currentColor"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 11.2667L12.4833 11.2667V10.0667L21 10.0667V11.2667Z",fill:"currentColor"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 14.9334H13.9254V13.7334L21 13.7334V14.9334Z",fill:"currentColor"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 18.6002H4V17.4002H21V18.6002Z",fill:"currentColor"}),d.jsx("path",{d:"M9.86438 15.6H11.2L8.27623 7.60003H6.92377L4 15.6H5.29072L6.0371 13.4767H9.12362L9.86438 15.6ZM7.53546 9.05255H7.63086L8.80374 12.4344H6.35698L7.53546 9.05255Z",fill:"currentColor"})]})}),UNe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"block-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M5 19.5H20M5 5.5H20M6.5 8.5H18.5V16.5H6.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),pAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"blockquote",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M10 17.5H19M6 7.5H19M10 12.5H17M6.5 12V18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),zNe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"bold",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M13.2087 18C15.5322 18 16.9731 16.793 16.9731 14.8844C16.9731 13.4812 15.9245 12.3949 14.4836 12.2892V12.1534C15.6001 11.9875 16.4526 10.9841 16.4526 9.82991C16.4526 8.14761 15.1927 7.11409 13.0804 7.11409H8.32019V18H13.2087ZM10.5985 8.85674H12.4995C13.5859 8.85674 14.212 9.37727 14.212 10.2448C14.212 11.1199 13.5406 11.6254 12.3109 11.6254H10.5985V8.85674ZM10.5985 16.2574V13.1643H12.575C13.9178 13.1643 14.6496 13.6924 14.6496 14.6882C14.6496 15.7066 13.9404 16.2574 12.6278 16.2574H10.5985Z",fill:"currentColor"})})}),dJ=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"bolt",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M18 11.5L9 21L11 13.5H7L16 4L14 11.5H18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),mAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"book",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M20.5 17.5V5.5L12.5 6.5M20.5 17.5L12.5 18.5M20.5 17.5V18.5M4.5 17.5V5.5L12.5 6.5M4.5 17.5L12.5 18.5M4.5 17.5V18.5M12.5 18.5L4.5 19.5V18.5M12.5 18.5L20.5 19.5V18.5M12.5 18.5V6.5M12.5 18.5H4.5M12.5 18.5H20.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),gAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"bottle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M7.5 17.5L17.5 17.5M17.5 13C17.5 12.087 17.5 11.3518 17.5 11C17.5 8.5 14.5 9 14.5 7.37494L14.5 5.5M17.5 13C17.5 15.1229 17.5 18.7543 17.5 20.5022C17.5 21.0545 17.0523 21.5 16.5 21.5L8.5 21.5C7.94772 21.5 7.5 21.0547 7.5 20.5024C7.5 18.8157 7.5 15.3546 7.5 13M17.5 13L7.5 13M7.5 13C7.5 12.2538 7.5 11.5648 7.5 11C7.5 8.5 10.5 9 10.5 7.37494L10.5 5.5M10.5 5.5L10.5 3.99999C10.5 3.72385 10.7239 3.49999 11 3.49999L14 3.49999C14.2761 3.49999 14.5 3.72385 14.5 3.99999L14.5 5.5M10.5 5.5L14.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),vAt=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"bulb-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H14V20.5C14 21.0523 13.5523 21.5 13 21.5H12C11.4477 21.5 11 21.0523 11 20.5V19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10C18 11.94 17.3978 12.9767 16.4272 14.3368Z",fill:"currentColor"}),d.jsx("path",{d:"M16.4272 14.3368L15.9388 13.9883L16.4272 14.3368ZM14 19.5V18.9H13.4V19.5H14ZM11 19.5H11.6V18.9H11V19.5ZM8.57284 14.3368L9.06122 13.9883H9.06122L8.57284 14.3368ZM16.1 17.212C16.1 16.3069 16.3868 15.4261 16.9155 14.6853L15.9388 13.9883C15.2678 14.9284 14.9 16.0519 14.9 17.212H16.1ZM16.1 18.5V17.212H14.9V18.5H16.1ZM14.5 20.1C15.3837 20.1 16.1 19.3837 16.1 18.5H14.9C14.9 18.7209 14.7209 18.9 14.5 18.9V20.1ZM14 20.1H14.5V18.9H14V20.1ZM13.4 19.5V20.5H14.6V19.5H13.4ZM13.4 20.5C13.4 20.7209 13.2209 20.9 13 20.9V22.1C13.8837 22.1 14.6 21.3837 14.6 20.5H13.4ZM13 20.9H12V22.1H13V20.9ZM12 20.9C11.7791 20.9 11.6 20.7209 11.6 20.5H10.4C10.4 21.3837 11.1163 22.1 12 22.1V20.9ZM11.6 20.5V19.5H10.4V20.5H11.6ZM10.5 20.1H11V18.9H10.5V20.1ZM8.9 18.5C8.9 19.3837 9.61634 20.1 10.5 20.1V18.9C10.2791 18.9 10.1 18.7209 10.1 18.5H8.9ZM8.9 17.212V18.5H10.1V17.212H8.9ZM8.08446 14.6853C8.61315 15.4261 8.9 16.3069 8.9 17.212H10.1C10.1 16.0519 9.73217 14.9284 9.06122 13.9883L8.08446 14.6853ZM6.4 10C6.4 11.0377 6.56208 11.8595 6.86624 12.611C7.16624 13.3521 7.59495 13.9995 8.08446 14.6853L9.06122 13.9883C8.58004 13.314 8.22233 12.7629 7.97858 12.1607C7.739 11.5688 7.6 10.9023 7.6 10H6.4ZM12.5 3.9C9.16863 3.9 6.4 6.66863 6.4 10H7.6C7.6 7.33137 9.83137 5.1 12.5 5.1V3.9ZM18.6 10C18.6 6.66863 15.8314 3.9 12.5 3.9V5.1C15.1686 5.1 17.4 7.33137 17.4 10H18.6ZM16.9155 14.6853C17.4051 13.9995 17.8338 13.3521 18.1338 12.611C18.4379 11.8595 18.6 11.0377 18.6 10H17.4C17.4 10.9023 17.261 11.5688 17.0214 12.1607C16.7777 12.7629 16.42 13.314 15.9388 13.9883L16.9155 14.6853Z",fill:"currentColor"})]})}),S8=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"bulb-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M9.5 16.5H15.5M11 20V20.5C11 21.0523 11.4477 21.5 12 21.5H13C13.5523 21.5 14 21.0523 14 20.5V20M18 10C18 11.94 17.3978 12.9767 16.4272 14.3368C15.8273 15.1773 15.5 16.1794 15.5 17.212V18.5C15.5 19.0523 15.0523 19.5 14.5 19.5H10.5C9.94772 19.5 9.5 19.0523 9.5 18.5V17.212C9.5 16.1794 9.17266 15.1773 8.57284 14.3368C7.60216 12.9767 7 11.94 7 10C7 7 9.5 4.5 12.5 4.5C15.5 4.5 18 7 18 10Z",stroke:"currentColor",strokeWidth:1.2})})}),Xd=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"calendar",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M4.5 10.5V19.5H20.5V10.5M4.5 10.5V5.5H20.5V10.5M4.5 10.5H12.5H20.5M20.5 13.5H16.5M16.5 13.5H12.5M16.5 13.5V10.5M16.5 13.5V16.5M12.5 13.5H8.5M12.5 13.5V16.5M12.5 13.5V10.5M8.5 13.5H4.5M8.5 13.5V10.5M8.5 13.5V16.5M20.5 16.5H16.5M16.5 16.5H12.5M16.5 16.5V19.5M12.5 16.5H8.5M12.5 16.5V19.5M8.5 16.5H4.5M8.5 16.5V19.5M17.5 8V3M7.5 8V3",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),yAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"case",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M9 8.5122V6C9 5.44772 9.44772 5 10 5H15C15.5523 5 16 5.44772 16 6V8.5122M4.5 12V18.5C4.5 19.0523 4.94772 19.5 5.5 19.5H19.5C20.0523 19.5 20.5 19.0523 20.5 18.5V12M4.5 12V9.5122C4.5 8.95991 4.94772 8.5122 5.5 8.5122H19.5C20.0523 8.5122 20.5 8.95991 20.5 9.5122V12M4.5 12L11.7978 14.7367C12.2505 14.9064 12.7495 14.9064 13.2022 14.7367L20.5 12",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),bAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"chart-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M5.5 5V19.5H20M7.5 16L11.5 11.5L15.5 14L19.5 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),VI=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"checkmark-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M9.5 12.1316L11.7414 14.5L16 10M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ec=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"checkmark",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M5.5 11.5L10.5 16.5L19.5 7.60001",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),qs=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M17 10.5L12.5 15L8 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),k8=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M14.5 17L10 12.5L14.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Ch=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M10.5 8L15 12.5L10.5 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),VNe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M8 14.5L12.5 10L17 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),IC=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),xAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"clipboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M8 5.5H6.5V19.5H18.5V5.5H17M12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),wAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"clipboard-image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M8 5.5H6.5V19.5H10.5M17 5.5H18.5V11.5M10.5 18.5L12.73 15.8983C13.1327 15.4285 13.8613 15.4335 14.2575 15.909L15.299 17.1588C15.6754 17.6105 16.3585 17.6415 16.7743 17.2257L16.9903 17.0097C17.2947 16.7053 17.7597 16.6298 18.1447 16.8223L20.5 18M10.5 11.5H20.5V21.5H10.5V11.5ZM12.5 3C11.5 3 11.5 4.5 11 4.5C10 4.5 9.5 5 9.5 6.5H15.6C15.6 5 15 4.5 14 4.5C13.5 4.5 13.5 3 12.5 3Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),T8=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"clock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M12.5 8V12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_At=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"close-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M9.5 15.5L12.5 12.5M12.5 12.5L15.5 9.5M12.5 12.5L9.5 9.5M12.5 12.5L15.5 15.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Is=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"close",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M18 7L7 18M7 7L18 18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),EAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"code-block",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M11 15L8.5 12.5L11 10M14 10L16.5 12.5L14 15M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),HNe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"code",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M11 16L7.5 12.5L11 9M14 9L17.5 12.5L14 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),A8=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"cog",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M14.2624 5.40607L13.8714 4.42848C13.6471 3.86771 13.104 3.5 12.5 3.5C11.896 3.5 11.3529 3.86771 11.1286 4.42848L10.7376 5.40607C10.5857 5.78585 10.2869 6.08826 9.90901 6.2448C9.53111 6.40133 9.10603 6.39874 8.73006 6.23761L7.76229 5.82285C7.20716 5.58494 6.56311 5.70897 6.13604 6.13604C5.70897 6.56311 5.58494 7.20716 5.82285 7.76229L6.23761 8.73006C6.39874 9.10602 6.40133 9.53111 6.2448 9.90901C6.08826 10.2869 5.78585 10.5857 5.40607 10.7376L4.42848 11.1286C3.86771 11.3529 3.5 11.896 3.5 12.5C3.5 13.104 3.86771 13.6471 4.42848 13.8714L5.40607 14.2624C5.78585 14.4143 6.08826 14.7131 6.2448 15.091C6.40133 15.4689 6.39874 15.894 6.23761 16.2699L5.82285 17.2377C5.58494 17.7928 5.70897 18.4369 6.13604 18.864C6.56311 19.291 7.20716 19.4151 7.76229 19.1772L8.73006 18.7624C9.10603 18.6013 9.53111 18.5987 9.90901 18.7552C10.2869 18.9117 10.5857 19.2141 10.7376 19.5939L11.1286 20.5715C11.3529 21.1323 11.896 21.5 12.5 21.5C13.104 21.5 13.6471 21.1323 13.8714 20.5715L14.2624 19.5939C14.4143 19.2141 14.7131 18.9117 15.091 18.7552C15.4689 18.5987 15.894 18.6013 16.2699 18.7624L17.2377 19.1771C17.7928 19.4151 18.4369 19.291 18.864 18.864C19.291 18.4369 19.4151 17.7928 19.1771 17.2377L18.7624 16.2699C18.6013 15.894 18.5987 15.4689 18.7552 15.091C18.9117 14.7131 19.2141 14.4143 19.5939 14.2624L20.5715 13.8714C21.1323 13.6471 21.5 13.104 21.5 12.5C21.5 11.896 21.1323 11.3529 20.5715 11.1286L19.5939 10.7376C19.2141 10.5857 18.9117 10.2869 18.7552 9.90901C18.5987 9.53111 18.6013 9.10602 18.7624 8.73006L19.1772 7.76229C19.4151 7.20716 19.291 6.56311 18.864 6.13604C18.4369 5.70897 17.7928 5.58494 17.2377 5.82285L16.2699 6.23761C15.894 6.39874 15.4689 6.40133 15.091 6.2448C14.7131 6.08826 14.4143 5.78585 14.2624 5.40607Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M16.5 12.5C16.5 14.7091 14.7091 16.5 12.5 16.5C10.2909 16.5 8.5 14.7091 8.5 12.5C8.5 10.2909 10.2909 8.5 12.5 8.5C14.7091 8.5 16.5 10.2909 16.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),WNe=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"collapse",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M6 14.5L10.5 14.5V19M19 10.5H14.5L14.5 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M10.5 14.5L6 19M14.5 10.5L19 6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),CAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"color-wheel",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M9.43853 5.10896L11.1606 9.26642M13.8394 15.7336L15.5615 19.891M15.7336 11.1606L19.891 9.43853M9.26642 13.8394L5.10896 15.5615M5.3139 9.52342L9.23359 11.147M15.7664 13.853L19.6861 15.4766M13.853 9.23359L15.4766 5.3139M9.52342 19.6861L11.147 15.7664M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5ZM16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),GNe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M7.5 16.5H9.5V20.5L13.5 16.5H17.5C18.6046 16.5 19.5 15.6046 19.5 14.5V8.5C19.5 7.39543 18.6046 6.5 17.5 6.5H7.5C6.39543 6.5 5.5 7.39543 5.5 8.5V14.5C5.5 15.6046 6.39543 16.5 7.5 16.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),SAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"component",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M8.5 8.5L12.5 12.5M12.5 12.5L16.5 16.5M12.5 12.5L16.5 8.5M12.5 12.5L8.5 16.5M12.5 4L21 12.5L12.5 21L4 12.5L12.5 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),kAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"compose",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M17 6L19 8M14 5.5H5.5V19.5H19.5V11M9 16L9.5 13.5L19 4L21 6L11.5 15.5L9 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),TAt=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"confetti",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.5 6.25C16.9142 6.25 17.25 5.91421 17.25 5.5C17.25 5.08579 16.9142 4.75 16.5 4.75C16.0858 4.75 15.75 5.08579 15.75 5.5C15.75 5.91421 16.0858 6.25 16.5 6.25ZM19.5 16.25C19.9142 16.25 20.25 15.9142 20.25 15.5C20.25 15.0858 19.9142 14.75 19.5 14.75C19.0858 14.75 18.75 15.0858 18.75 15.5C18.75 15.9142 19.0858 16.25 19.5 16.25Z",fill:"currentColor"}),d.jsx("path",{d:"M13 4C11 6 14.5 5.5 12.5 7.5M21 12C19 14 19.5 10.5 17.5 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M6.99288 20.296L7.21541 20.8532L6.99288 20.296ZM15.3657 16.952L15.1432 16.3948L15.3657 16.952ZM4.48221 17.7853L5.03942 18.0078L4.48221 17.7853ZM7.82614 9.41242L8.38334 9.63495L8.38334 9.63495L7.82614 9.41242ZM4.9038 19.8744L4.47954 20.2986L4.9038 19.8744ZM20.6 5C20.6 4.66863 20.3314 4.4 20 4.4C19.6686 4.4 19.4 4.66863 19.4 5L20.6 5ZM15.6417 16.0661C15.6727 16.0352 15.6429 16.1034 15.3784 16.0633C15.1285 16.0255 14.78 15.9035 14.3486 15.6771C13.4924 15.2279 12.4323 14.4325 11.389 13.3892L10.5405 14.2377C11.645 15.3423 12.8008 16.2201 13.791 16.7397C14.2827 16.9977 14.7649 17.1841 15.1987 17.2498C15.6178 17.3133 16.1246 17.2803 16.4903 16.9146L15.6417 16.0661ZM11.389 13.3892C10.3457 12.3459 9.55032 11.2858 9.10105 10.4296C8.87467 9.99821 8.75268 9.64963 8.71484 9.39979C8.67477 9.13524 8.74302 9.10551 8.71208 9.13645L7.86355 8.28792C7.49788 8.65359 7.46489 9.1604 7.52837 9.5795C7.59408 10.0133 7.78043 10.4955 8.03847 10.9872C8.55805 11.9774 9.4359 13.1332 10.5405 14.2377L11.389 13.3892ZM8.71208 9.13645C8.68114 9.16739 8.71088 9.09913 8.97542 9.1392C9.22526 9.17705 9.57384 9.29904 10.0052 9.52542C10.8614 9.97469 11.9215 10.77 12.9648 11.8134L13.8134 10.9648C12.7088 9.86026 11.553 8.98242 10.5628 8.46283C10.0711 8.20479 9.58894 8.01844 9.15513 7.95274C8.73603 7.88926 8.22923 7.92224 7.86355 8.28792L8.71208 9.13645ZM12.9648 11.8134C14.0081 12.8567 14.8035 13.9168 15.2528 14.7729C15.4791 15.2043 15.6011 15.5529 15.639 15.8028C15.679 16.0673 15.6108 16.097 15.6417 16.0661L16.4903 16.9146C16.8559 16.5489 16.8889 16.0421 16.8254 15.623C16.7597 15.1892 16.5734 14.7071 16.3153 14.2153C15.7958 13.2252 14.9179 12.0694 13.8134 10.9648L12.9648 11.8134ZM7.21541 20.8532L15.5883 17.5092L15.1432 16.3948L6.77034 19.7387L7.21541 20.8532ZM5.03942 18.0078L8.38334 9.63495L7.26893 9.18988L3.92501 17.5628L5.03942 18.0078ZM7.86355 8.28792C7.60626 8.54522 7.40381 8.85216 7.26893 9.18988L8.38334 9.63495C8.45773 9.44869 8.5696 9.27894 8.71208 9.13644L7.86355 8.28792ZM3.92501 17.5628C3.54833 18.5059 3.76251 19.5816 4.47954 20.2986L5.32807 19.4501C4.95514 19.0772 4.83814 18.5118 5.03942 18.0078L3.92501 17.5628ZM15.6417 16.0661C15.4993 16.2086 15.3295 16.3204 15.1432 16.3948L15.5883 17.5092C15.926 17.3744 16.2329 17.1719 16.4903 16.9146L15.6417 16.0661ZM6.77034 19.7387C6.26637 19.94 5.70099 19.823 5.32807 19.4501L4.47954 20.2986C5.19657 21.0157 6.27225 21.2298 7.21541 20.8532L6.77034 19.7387ZM19.4 5C19.4 7.17816 18.8838 8.08287 18.3136 8.50727C17.6938 8.96864 16.8379 9.02116 15.7269 9.06388C14.7129 9.10288 13.4438 9.13208 12.4699 9.857C11.4463 10.6189 10.9 12.005 10.9 14.3269H12.1C12.1 12.1487 12.6162 11.244 13.1864 10.8196C13.8062 10.3582 14.6621 10.3057 15.7731 10.263C16.7871 10.224 18.0562 10.1948 19.0301 9.46988C20.0537 8.70799 20.6 7.32184 20.6 5L19.4 5Z",fill:"currentColor"})]})}),fJ=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"controls",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M6.5 5V7.5M6.5 7.5C5.39543 7.5 4.5 8.39543 4.5 9.5C4.5 10.6046 5.39543 11.5 6.5 11.5M6.5 7.5C7.60457 7.5 8.5 8.39543 8.5 9.5C8.5 10.6046 7.60457 11.5 6.5 11.5M6.5 11.5V20M12.5 5V13.5M12.5 13.5C11.3954 13.5 10.5 14.3954 10.5 15.5C10.5 16.6046 11.3954 17.5 12.5 17.5M12.5 13.5C13.6046 13.5 14.5 14.3954 14.5 15.5C14.5 16.6046 13.6046 17.5 12.5 17.5M12.5 17.5V20M18.5 5V7.5M18.5 7.5C17.3954 7.5 16.5 8.39543 16.5 9.5C16.5 10.6046 17.3954 11.5 18.5 11.5M18.5 7.5C19.6046 7.5 20.5 8.39543 20.5 9.5C20.5 10.6046 19.6046 11.5 18.5 11.5M18.5 11.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Np=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"copy",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M8.5 8.5H5.5V20.5H16.5V16.5M19.5 4.5H8.5V16.5H19.5V4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),AAt=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"credit-card",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M20.5 9.5H4.5V11.5H20.5V9.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M7 15.5H14M5.5 18.5H19.5C20.0523 18.5 20.5 18.0523 20.5 17.5V7.5C20.5 6.94772 20.0523 6.5 19.5 6.5H5.5C4.94772 6.5 4.5 6.94772 4.5 7.5V17.5C4.5 18.0523 4.94772 18.5 5.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),hJ=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"crop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M9.5 5V15.5H20M5 9.5H15.5V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),IAt=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"cube",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M12.5 22V13M12.5 13L4.5 8M12.5 13L20.5 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),DAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"dashboard",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M14.5 19.5V12.5M10.5 12.5V5.5M5.5 12.5H19.5M5.5 19.5H19.5V5.5H5.5V19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),RAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"database",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M18.5 7V17.5C18.5 19.0594 16.0504 20.5 12.5 20.5C8.9496 20.5 6.5 19.0594 6.5 17.5V7M18.5 7C18.5 8.45543 15.8137 9.5 12.5 9.5C9.18629 9.5 6.5 8.45543 6.5 7C6.5 5.54457 9.18629 4.5 12.5 4.5C15.8137 4.5 18.5 5.54457 18.5 7Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),qNe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"desktop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M4.5 13.5V15.5C4.5 16.0523 4.94772 16.5 5.5 16.5H12.5M4.5 13.5V6.5C4.5 5.94772 4.94772 5.5 5.5 5.5H19.5C20.0523 5.5 20.5 5.94772 20.5 6.5V13.5M4.5 13.5H20.5M20.5 13.5V15.5C20.5 16.0523 20.0523 16.5 19.5 16.5H12.5M12.5 16.5V19.5M12.5 19.5H8M12.5 19.5H17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),OAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"diamond",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M21 10.5L12.5 21M21 10.5L18 5.5H11M21 10.5H16M12.5 21L4 10.5M12.5 21L9 10.5M12.5 21L16 10.5M4 10.5L7 5.5H11M4 10.5H9M9 10.5H12.5H16M9 10.5L11 5.5M16 10.5L14.5 5.5H11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),gh=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"document",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5L6.5 9.5M11.5 4.5L6.5 9.5M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),PAt=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"document-pdf",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M12.7127 13.8012L12.7193 13.77C12.8488 13.2366 13.0117 12.5716 12.8845 11.969C12.7997 11.4937 12.4493 11.3084 12.1503 11.295C11.7977 11.2794 11.483 11.4803 11.4049 11.7726C11.2576 12.3082 11.3893 13.0402 11.6303 13.973C11.3268 14.6961 10.8425 15.7472 10.4877 16.3721C9.8271 16.7135 8.94113 17.2402 8.80946 17.9053C8.78268 18.028 8.81392 18.1842 8.88757 18.3248C8.97014 18.481 9.10181 18.6015 9.25579 18.6596C9.32274 18.6841 9.40308 18.7042 9.49681 18.7042C9.88959 18.7042 10.5256 18.3873 11.3736 16.9322C11.5031 16.8898 11.637 16.8452 11.7664 16.8006C12.3734 16.5953 13.0028 16.381 13.5718 16.2851C14.2012 16.622 14.9175 16.8385 15.404 16.8385C15.8861 16.8385 16.0758 16.5529 16.1472 16.381C16.2722 16.0797 16.2119 15.7004 16.0088 15.4973C15.7143 15.2072 14.9979 15.1313 13.882 15.2696C13.3331 14.9349 12.9738 14.4796 12.7127 13.8012ZM10.2645 17.1911C9.95431 17.6419 9.71998 17.8673 9.59278 17.9655C9.7423 17.691 10.0346 17.4009 10.2645 17.1911ZM12.2195 11.9355C12.3355 12.1341 12.3199 12.7345 12.2306 13.038C12.1213 12.5939 12.1056 11.9645 12.1704 11.8909L12.2195 11.9355ZM12.1837 14.6247C12.4225 15.0376 12.7238 15.3924 13.0563 15.6557C12.5743 15.7651 12.1346 15.9458 11.7419 16.1065C11.6481 16.1445 11.5566 16.1824 11.4674 16.2181C11.7642 15.6803 12.0119 15.071 12.1837 14.6247ZM15.6562 16.0864L15.6428 16.1065C15.6428 16.1065 15.4375 16.2315 14.6497 15.9213C15.5558 15.8789 15.6562 16.0864 15.6562 16.0864Z",fill:"currentColor"}),d.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),jAt=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"document-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M6.5 14V20.5H18.5V14M6.5 11V9.5L11.5 4.5H18.5V11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),LAt=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"document-sheet",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M10.4 19V16.4M10.4 16.4L10.4 13.4M10.4 16.4H8M10.4 16.4H14.4M10.4 13.4V11M10.4 13.4H8M10.4 13.4H14.4M14.4 19V16.4M14.4 16.4V13.4M14.4 16.4H17M14.4 13.4V11M14.4 13.4H17M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),$At=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"document-text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M16 13H9M14 16H9M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),KNe=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"document-video",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M11.5 16.5V13.5L14 15L11.5 16.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2}),d.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),MAt=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"document-word",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M12.4699 13.4588H12.5263L13.6328 17H14.5435L16 12H14.9952L14.0656 15.7214H14.0129L12.929 12H12.0672L10.9984 15.7214H10.9419L10.0124 12H9L10.4565 17H11.371L12.4699 13.4588Z",fill:"currentColor"}),d.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),FAt=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"document-zip",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M11.5 4.5V9.5H6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M15 4.5L13.5 5L15.5 6L13.5 7L15.5 8L13.5 9L15.5 10L13.5 11L14.5 11.5V13M11.5 4.5H18.5V20.5H6.5V9.5L11.5 4.5ZM13.5 13H15.5L16 17H13L13.5 13Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),pJ=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"documents",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M10.5 4.5V9.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M16.5 7.5H19.5V21.5H8.5V18.5M10.5 4.5H16.5V18.5H5.5V9.5L10.5 4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),YNe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"dot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("circle",{cx:12.5,cy:12.5,r:2.5,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2})})}),NAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"double-chevron-down",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M17 8L12.5 12.5L8 8M17 13L12.5 17.5L8 13",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),BAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"double-chevron-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M12 17L7.5 12.5L12 8M17 17L12.5 12.5L17 8",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),mJ=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"double-chevron-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M13 8L17.5 12.5L13 17M8 8L12.5 12.5L8 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),UAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"double-chevron-up",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M8 12L12.5 7.5L17 12M8 17L12.5 12.5L17 17",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),gJ=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"download",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M19.5 17V19.5H5.5V17M12.5 16L12.5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),ZNe=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"drag-handle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M9.5 8C10.3284 8 11 7.32843 11 6.5C11 5.67157 10.3284 5 9.5 5C8.67157 5 8 5.67157 8 6.5C8 7.32843 8.67157 8 9.5 8Z",fill:"currentColor"}),d.jsx("path",{d:"M9.5 14C10.3284 14 11 13.3284 11 12.5C11 11.6716 10.3284 11 9.5 11C8.67157 11 8 11.6716 8 12.5C8 13.3284 8.67157 14 9.5 14Z",fill:"currentColor"}),d.jsx("path",{d:"M11 18.5C11 19.3284 10.3284 20 9.5 20C8.67157 20 8 19.3284 8 18.5C8 17.6716 8.67157 17 9.5 17C10.3284 17 11 17.6716 11 18.5Z",fill:"currentColor"}),d.jsx("path",{d:"M15.5 8C16.3284 8 17 7.32843 17 6.5C17 5.67157 16.3284 5 15.5 5C14.6716 5 14 5.67157 14 6.5C14 7.32843 14.6716 8 15.5 8Z",fill:"currentColor"}),d.jsx("path",{d:"M17 12.5C17 13.3284 16.3284 14 15.5 14C14.6716 14 14 13.3284 14 12.5C14 11.6716 14.6716 11 15.5 11C16.3284 11 17 11.6716 17 12.5Z",fill:"currentColor"}),d.jsx("path",{d:"M15.5 20C16.3284 20 17 19.3284 17 18.5C17 17.6716 16.3284 17 15.5 17C14.6716 17 14 17.6716 14 18.5C14 19.3284 14.6716 20 15.5 20Z",fill:"currentColor"})]})}),zAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"drop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M18.5 14.5C18.5 18 16 20.5 12.5 20.5C9 20.5 6.5 18 6.5 14.5C6.5 11 9.5 7.50001 12.5 4.5C15.5 7.5 18.5 11 18.5 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),XNe=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"earth-americas",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M7 13L5.5 9L10 5H15V10L14 9H11L9.5 11L10.5 12H12V13L13 14.5H15.5L18.5 17L15.5 19.5L10.5 20V17L12.5 15L9 13L7 10.5V13Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("circle",{cx:12.5,cy:12.5,r:8,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),VAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"earth-globe",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M5.5 16.5H19.5M5.5 8.5H19.5M4.5 12.5H20.5M12.5 20.5C12.5 20.5 8 18.5 8 12.5C8 6.5 12.5 4.5 12.5 4.5M12.5 4.5C12.5 4.5 17 6.5 17 12.5C17 18.5 12.5 20.5 12.5 20.5M12.5 4.5V20.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),df=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"edit",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M15 7L18 10M6 19L7 15L17 5L20 8L10 18L6 19Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),I8=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"ellipsis-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M6.5 11C7.32843 11 8 11.6716 8 12.5C8 13.3284 7.32843 14 6.5 14C5.67157 14 5 13.3284 5 12.5C5 11.6716 5.67157 11 6.5 11Z",fill:"currentColor"}),d.jsx("path",{d:"M12.5 11C13.3284 11 14 11.6716 14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11Z",fill:"currentColor"}),d.jsx("path",{d:"M18.5 11C19.3284 11 20 11.6716 20 12.5C20 13.3284 19.3284 14 18.5 14C17.6716 14 17 13.3284 17 12.5C17 11.6716 17.6716 11 18.5 11Z",fill:"currentColor"})]})}),QNe=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"ellipsis-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M14 6.5C14 7.32843 13.3284 8 12.5 8C11.6716 8 11 7.32843 11 6.5C11 5.67157 11.6716 5 12.5 5C13.3284 5 14 5.67157 14 6.5Z",fill:"currentColor"}),d.jsx("path",{d:"M14 12.5C14 13.3284 13.3284 14 12.5 14C11.6716 14 11 13.3284 11 12.5C11 11.6716 11.6716 11 12.5 11C13.3284 11 14 11.6716 14 12.5Z",fill:"currentColor"}),d.jsx("path",{d:"M14 18.5C14 19.3284 13.3284 20 12.5 20C11.6716 20 11 19.3284 11 18.5C11 17.6716 11.6716 17 12.5 17C13.3284 17 14 17.6716 14 18.5Z",fill:"currentColor"})]})}),HAt=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"enter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M6 14.5H19.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M10 18.5L6 14.5L10 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),WAt=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"enter-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M19 14.5H5.5V7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M15 18.5L19 14.5L15 10.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),GAt=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"envelope",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M20.5 18.5H4.5V6.5H20.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M20.5 18.5L17.75 15.5L15 12.5M4.5 18.5L10 12.5M20.5 6.5L12.5 15L4.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),qAt=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"equal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M7.5 4.5H3.5V20.5H7.5",stroke:"currentColor",strokeWidth:1.2}),d.jsx("path",{d:"M17.5 20.5L21.5 20.5L21.5 4.5L17.5 4.5",stroke:"currentColor",strokeWidth:1.2}),d.jsx("path",{d:"M9 10.5H16",stroke:"currentColor",strokeWidth:1.2}),d.jsx("path",{d:"M9 14.5H16",stroke:"currentColor",strokeWidth:1.2})]})}),KAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"error-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5ZM13 14.5V16H12V14.5H13ZM12 9V13H13V9H12Z",fill:"currentColor"})})}),Dc=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"error-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M12.5 16V14.5M12.5 9V13M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),JNe=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"expand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M14 6.5H18.5V11M11 18.5H6.5V14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M18.5 6.5L14 11M6.5 18.5L11 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),YAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"eye-closed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M7 15.5L5.5 17.5M20.5 12.5C19.8612 13.5647 19.041 14.6294 18.0008 15.501M18.0008 15.501C16.5985 16.676 14.7965 17.5 12.5 17.5M18.0008 15.501L18 15.5M18.0008 15.501L19.5 17.5M12.5 17.5C8.5 17.5 6 15 4.5 12.5M12.5 17.5V20M15.5 17L16.5 19.5M9.5 17L8.5 19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),vJ=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"eye-open",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.39999 12.5C9.39999 10.7879 10.7879 9.39999 12.5 9.39999C14.2121 9.39999 15.6 10.7879 15.6 12.5C15.6 14.2121 14.2121 15.6 12.5 15.6C10.7879 15.6 9.39999 14.2121 9.39999 12.5Z",fill:"currentColor"}),d.jsx("path",{d:"M12.5 7.5C8.5 7.5 6 10 4.5 12.5C6 15 8.5 17.5 12.5 17.5C16.5 17.5 19 15 20.5 12.5C19 10 16.5 7.5 12.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),ZAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"filter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M11 12L6 7V6L19 6L19 7L14 12V17L11 19V12Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),eBe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"folder",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M11.5 8.5H19.5V18.5H5.5V5.5H10.5L11.5 8.5ZM11.5 8.5H5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),XAt=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"generate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M9 5.30423C6.33576 6.60253 4.5 9.33688 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5V14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M16 11L12.5 14.5L9 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),QAt=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"groq",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M13 13H21L13 21L13 13Z",fill:"currentColor"}),d.jsx("path",{d:"M12 12V4L4 12H12Z",fill:"currentColor"}),d.jsx("path",{d:"M12 13H4L12 21V13Z",fill:"currentColor"})]})}),JAt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"hash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M8.33894 16.1002H5.44615L5.63077 14.9002H8.52356L9.26202 10.1002H6.36923L6.55384 8.90018H9.44663L9.89281 6H11.1069L10.6608 8.90018H15.4466L15.8928 6H17.1069L16.6608 8.90018H19.5539L19.3693 10.1002H16.4761L15.7377 14.9002H18.6308L18.4462 16.1002H15.5531L15.1069 19H13.8928L14.3389 16.1002H9.55306L9.10693 19H7.89281L8.33894 16.1002ZM10.4761 10.1002L9.73767 14.9002H14.5236L15.262 10.1002H10.4761Z",fillRule:"evenodd",clipRule:"evenodd",fill:"currentColor"})})}),e5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"heart-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),t5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"heart",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M17 16C15.8 17.3235 12.5 20.5 12.5 20.5C12.5 20.5 9.2 17.3235 8 16C5.2 12.9118 4.5 11.7059 4.5 9.5C4.5 7.29412 6.1 5.5 8.5 5.5C10.5 5.5 11.7 6.82353 12.5 8.14706C13.3 6.82353 14.5 5.5 16.5 5.5C18.9 5.5 20.5 7.29412 20.5 9.5C20.5 11.7059 19.8 12.9118 17 16Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),DC=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"help-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),n5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"highlight",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"m20.25 9.005-2.719 4.71M10.75 3.504l-2.725 4.72m9.506 5.49-9.506-5.49m9.506 5.49L16.5 15.5l-3.268.634L12 18l-.586-.352m-3.39-9.423L7 10l1 3-1 2 .586.351m0 0L4.902 20h5.155l1.357-2.352m-3.828-2.297 3.828 2.297M13 20h7",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})})}),r5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"home",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M6.5 8.75V18.5H18.5V8.75M4.5 10L12.5 5L20.5 10M14.5 18.5V11.5H10.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),i5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"ice-cream",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M9.5 13.5L12.5 20.5L15.5 13.5M12.5 8.26389C11.9692 7.78885 11.2684 7.5 10.5 7.5C8.84315 7.5 7.5 8.84315 7.5 10.5C7.5 12.1569 8.84315 13.5 10.5 13.5C11.2684 13.5 11.9692 13.2111 12.5 12.7361M9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5M17.5 10.5C17.5 12.1569 16.1569 13.5 14.5 13.5C12.8431 13.5 11.5 12.1569 11.5 10.5C11.5 8.84315 12.8431 7.5 14.5 7.5C16.1569 7.5 17.5 8.84315 17.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),vh=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"image",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M5.5 15.5L8.79289 12.2071C9.18342 11.8166 9.81658 11.8166 10.2071 12.2071L12.8867 14.8867C13.2386 15.2386 13.7957 15.2782 14.1938 14.9796L15.1192 14.2856C15.3601 14.1049 15.6696 14.0424 15.9618 14.1154L19.5 15M5.5 6.5H19.5V18.5H5.5V6.5ZM15.5 10.5C15.5 11.0523 15.0523 11.5 14.5 11.5C13.9477 11.5 13.5 11.0523 13.5 10.5C13.5 9.94772 13.9477 9.5 14.5 9.5C15.0523 9.5 15.5 9.94772 15.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),o5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"image-remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M5.5 11V6.5H19.5V11M5.5 14V18.5H19.5V14M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),s5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"images",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M18.5 7.5H20.5V19.5H6.5V17.5M4.5 14.5L7.79289 11.2071C8.18342 10.8166 8.81658 10.8166 9.20711 11.2071L11.8867 13.8867C12.2386 14.2386 12.7957 14.2782 13.1938 13.9796L14.1192 13.2856C14.3601 13.1049 14.6696 13.0424 14.9618 13.1154L18.5 14M4.5 5.5H18.5V17.5H4.5V5.5ZM14.5 9.5C14.5 10.0523 14.0523 10.5 13.5 10.5C12.9477 10.5 12.5 10.0523 12.5 9.5C12.5 8.94772 12.9477 8.5 13.5 8.5C14.0523 8.5 14.5 8.94772 14.5 9.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),a5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"info-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 12.5C21 17.1944 17.1944 21 12.5 21C7.80558 21 4 17.1944 4 12.5C4 7.80558 7.80558 4 12.5 4C17.1944 4 21 7.80558 21 12.5ZM12 10.5V9H13V10.5H12ZM13 16V12H12V16H13Z",fill:"currentColor"})})}),Wx=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"info-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M12.5 10.5V9M12.5 12V16M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),tBe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"inline-element",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M5.5 5V20M19.5 5V20M8.5 6.5H16.5V18.5H8.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),l5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"inline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M12.5 6.5H19.5V18.5H12.5M12.5 6.5H5.5V18.5H12.5M12.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),nBe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"insert-above",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M14.5 10.5556L10.5 10.5556M12.5 12.5L12.5 8.5M18.5 5.5L6.5 5.5M18.5 19.5L6.5 19.5L6.5 15.5L18.5 15.5L18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),rBe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"insert-below",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M10.5 14.5H14.5M12.5 12.5V16.5M6.5 19.5H18.5M6.5 5.5H18.5V9.5H6.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square",strokeLinejoin:"round"})})}),iBe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"italic",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M10.43 18H11.7276L13.4551 9.86763H12.1576L10.43 18ZM13.3043 8.29849C13.8022 8.29849 14.2095 7.89112 14.2095 7.39322C14.2095 6.89532 13.8022 6.48795 13.3043 6.48795C12.8064 6.48795 12.399 6.89532 12.399 7.39322C12.399 7.89112 12.8064 8.29849 13.3043 8.29849Z",fill:"currentColor"})})}),c5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"joystick",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M9.5 16V14.5H15.5V16M13.5 10.5V14.5M11.5 10.5V14.5M15.5 7.5C15.5 9.15685 14.1569 10.5 12.5 10.5C10.8431 10.5 9.5 9.15685 9.5 7.5C9.5 5.84315 10.8431 4.5 12.5 4.5C14.1569 4.5 15.5 5.84315 15.5 7.5ZM18.5 19.5H6.5C5.94772 19.5 5.5 19.0523 5.5 18.5V17.5C5.5 16.9477 5.94772 16.5 6.5 16.5H18.5C19.0523 16.5 19.5 16.9477 19.5 17.5V18.5C19.5 19.0523 19.0523 19.5 18.5 19.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),oBe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"json",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M11 5.5H9.5C8.39543 5.5 7.5 6.39543 7.5 7.5V12.5M7.5 12.5H4M7.5 12.5V17.5C7.5 18.6046 8.39543 19.5 9.5 19.5H11M14 5.5H15.5C16.6046 5.5 17.5 6.39543 17.5 7.5V12.5M17.5 12.5H21M17.5 12.5V17.5C17.5 18.6046 16.6046 19.5 15.5 19.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Iy=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"launch",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M12 7.5H6.5V18.5H17.5V13M19.5 5.5L10.5 14.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M14 5.5H19.5V11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),yJ=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"leave",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M14.5 15V18.5H5.5V6.5H14.5V10M9 12.5H21.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M18 9L21.5 12.5L18 16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),u5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"lemon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M10.6569 10.3431L6.41422 14.5858C7.58579 15.7574 9.12132 16.3431 10.6569 16.3431M10.6569 10.3431L14.8995 6.1005C16.0711 7.27208 16.6569 8.80761 16.6569 10.3431M10.6569 10.3431L10.6569 16.3431M10.6569 10.3431L16.6569 10.3431M10.6569 10.3431L14.8995 14.5858M14.8995 14.5858C13.7279 15.7574 12.1924 16.3431 10.6569 16.3431M14.8995 14.5858C16.0711 13.4142 16.6569 11.8787 16.6569 10.3431M16.3137 4.68629C19.4379 7.81049 19.4379 12.8758 16.3137 16C13.1895 19.1242 8.12419 19.1242 5 16L16.3137 4.68629Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ff=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"link",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M11 12.5L12.5 14C13.281 14.781 14.719 14.781 15.5 14L18.5 11C19.281 10.219 19.281 8.78105 18.5 8L18 7.5C17.2189 6.71895 15.781 6.71895 15 7.5L13 9.5M12 15.5L10 17.5C9.21895 18.281 7.78105 18.281 7 17.5L6.5 17C5.71895 16.219 5.71896 14.781 6.5 14L9.50001 11C10.2811 10.219 11.719 10.2189 12.5 11L14 12.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),sBe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"link-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M18.5 11C19.281 10.219 19.281 8.78108 18.5 8.00003L18 7.50003C17.2189 6.71898 15.781 6.71898 15 7.50003L13 9.50003M15.5 14C14.7189 14.7811 13.281 14.7811 12.5 14M6.5 14C5.71895 14.7811 5.71894 16.219 6.49999 17L6.99999 17.5C7.78104 18.2811 9.21894 18.2811 9.99999 17.5L12 15.5M12.5 11C11.719 10.219 10.281 10.219 9.5 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),NM=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"lock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M15.5 11.5V8.5C15.5 6.5 14 5.5 12.5 5.5C11 5.5 9.5 6.5 9.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),d5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"logo-js",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM12.5254 16.1572C12.5254 17.4189 11.7742 18.1536 10.4792 18.1536C9.24243 18.1536 8.49121 17.4189 8.45801 16.2942V16.261H9.67407V16.2859C9.69897 16.7466 9.9729 17.0703 10.4626 17.0703C10.9939 17.0703 11.272 16.7507 11.272 16.1489V12.011H12.5254V16.1572ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),f5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"logo-ts",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5H5V20H20V5ZM11.0769 18H9.82349V13.0444H8.02637V12.011H12.874V13.0444H11.0769V18ZM18.2893 16.2153C18.2893 17.4023 17.3679 18.1536 15.8738 18.1536C14.4419 18.1536 13.5371 17.4688 13.4666 16.4062L13.4624 16.3398H14.6702L14.6743 16.3813C14.72 16.8296 15.2056 17.1326 15.907 17.1326C16.5752 17.1326 17.0359 16.813 17.0359 16.3523V16.3481C17.0359 15.9539 16.7412 15.7339 15.9983 15.5803L15.3674 15.4517C14.1223 15.1985 13.5869 14.6174 13.5869 13.7085V13.7043C13.5869 12.592 14.5415 11.8574 15.8696 11.8574C17.2683 11.8574 18.0901 12.5962 18.1689 13.5964L18.1731 13.6504H16.9944L16.9861 13.6006C16.9155 13.1731 16.5005 12.8743 15.8696 12.8743C15.2512 12.8784 14.8403 13.1606 14.8403 13.6089V13.613C14.8403 14.0032 15.1309 14.2356 15.8364 14.3809L16.4714 14.5095C17.7373 14.771 18.2893 15.2773 18.2893 16.2112V16.2153Z",fill:"currentColor"})})}),aBe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"master-detail",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M7 9.5H10M11.5 6.5V18.5M7 12.5H10M13 9.5H18M7 15.5H10M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),lBe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"menu",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M6 7.5H19M6 17.5H19M6 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),h5t=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"mobile-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M7.5 6.5C7.5 5.39543 8.39543 4.5 9.5 4.5H15.5C16.6046 4.5 17.5 5.39543 17.5 6.5V18.5C17.5 19.6046 16.6046 20.5 15.5 20.5H9.5C8.39543 20.5 7.5 19.6046 7.5 18.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M13.5 17.5C13.5 18.0523 13.0523 18.5 12.5 18.5C11.9477 18.5 11.5 18.0523 11.5 17.5C11.5 16.9477 11.9477 16.5 12.5 16.5C13.0523 16.5 13.5 16.9477 13.5 17.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),cBe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"moon",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M19.6065 16.1775C18.9417 16.387 18.234 16.5 17.5 16.5C13.634 16.5 10.5 13.366 10.5 9.5C10.5 7.54163 11.3042 5.77109 12.6004 4.50062C12.567 4.50021 12.5335 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C15.5924 20.5 18.275 18.7454 19.6065 16.1775Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),uBe=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"number",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.0165 17.6336H3.83636V16.4336H21.0165V17.6336Z",fill:"currentColor"}),d.jsx("path",{d:"M7.09808 13.3967V7.508H5.74066L3.83636 8.78241V10.091L5.65277 8.88495H5.74066V13.3967H3.84125V14.5539H8.89984V13.3967H7.09808Z",fill:"currentColor"}),d.jsx("path",{d:"M9.81781 9.63202V9.66132H11.1069V9.62714C11.1069 8.95331 11.5756 8.49432 12.2739 8.49432C12.9575 8.49432 13.4018 8.89471 13.4018 9.50507C13.4018 9.9787 13.1528 10.3498 12.1909 11.3117L9.89594 13.5822V14.5539H14.8618V13.3869H11.7807V13.299L13.1577 11.9855C14.3491 10.843 14.7543 10.1838 14.7543 9.41229C14.7543 8.19159 13.7729 7.36639 12.3178 7.36639C10.8383 7.36639 9.81781 8.28436 9.81781 9.63202Z",fill:"currentColor"}),d.jsx("path",{d:"M17.6694 11.4631H18.5092C19.3198 11.4631 19.8422 11.8683 19.8422 12.4982C19.8422 13.1183 19.3295 13.5139 18.5239 13.5139C17.767 13.5139 17.2592 13.133 17.2104 12.5324H15.9262C15.9897 13.8508 17.0248 14.6955 18.5629 14.6955C20.1401 14.6955 21.2192 13.841 21.2192 12.591C21.2192 11.6584 20.6528 11.0334 19.7006 10.9211V10.8332C20.4721 10.6769 20.9457 10.0666 20.9457 9.23651C20.9457 8.12323 19.9741 7.36639 18.5434 7.36639C17.0541 7.36639 16.1118 8.17694 16.0629 9.50018H17.2983C17.3422 8.88007 17.8061 8.48456 18.4995 8.48456C19.2075 8.48456 19.6567 8.85565 19.6567 9.44159C19.6567 10.0324 19.1977 10.4182 18.4946 10.4182H17.6694V11.4631Z",fill:"currentColor"})]})}),p5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"ok-hand",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M15.9957 11.5C14.8197 10.912 11.9957 9 10.4957 9C8.9957 9 5.17825 11.7674 6 13C7 14.5 9.15134 11.7256 10.4957 12C11.8401 12.2744 13 13.5 13 14.5C13 15.5 11.8401 16.939 10.4957 16.5C9.15134 16.061 8.58665 14.3415 7.4957 14C6.21272 13.5984 5.05843 14.6168 5.5 15.5C5.94157 16.3832 7.10688 17.6006 8.4957 19C9.74229 20.2561 11.9957 21.5 14.9957 20C17.9957 18.5 18.5 16.2498 18.5 13C18.5 11.5 13.7332 5.36875 11.9957 4.5C10.9957 4 10 5 10.9957 6.5C11.614 7.43149 13.5 9.27705 14 10.3751M15.5 8C15.5 8 15.3707 7.5 14.9957 6C14.4957 4 15.9957 3.5 16.4957 4.5C17.1281 5.76491 18.2872 10.9147 18.4957 13",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),dBe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"olist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M10 7.5H19M10 12.5H19M10 17.5H19M5 18.5H7.5L7 17.5L7.5 16.5H5M5 6.5H6.5V8.5M5 8.5H6.5M6.5 8.5H8M8 13.5H6L7 11.5H5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),m5t=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"overage",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M18.5 11V6.5H14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M6.5 18.5L9 16L12 13L18.5 6.5M3 13.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),g5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"package",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M12.5 13V22M12.5 13L4.5 8M12.5 13L20.5 8M8.5 5.5L16.5 10.5M4.5 8L12.5 3L20.5 8V17L12.5 22L4.5 17V8Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),v5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"panel-left",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M10.5 6.5H19.5V18.5H10.5M10.5 6.5H5.5V18.5H10.5M10.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),fBe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"panel-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M14.5 6.5H19.5V18.5H14.5M14.5 6.5H5.5V18.5H14.5M14.5 6.5V18.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),y5t=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"pause",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",fill:"currentColor"}),d.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",fill:"currentColor"}),d.jsx("path",{d:"M10.5 7.5H8.5V17.5H10.5V7.5Z",stroke:"currentColor",strokeWidth:1.2}),d.jsx("path",{d:"M16.5 7.5H14.5V17.5H16.5V7.5Z",stroke:"currentColor",strokeWidth:1.2})]})}),b5t=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"pin",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 14 15.5 17.5 12.5 20.5C9.5 17.5 6.5 14 6.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M14 10.5C14 11.3284 13.3284 12 12.5 12C11.6716 12 11 11.3284 11 10.5C11 9.67157 11.6716 9 12.5 9C13.3284 9 14 9.67157 14 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),x5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"pin-removed",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M7.39787 14C8.51075 16.2897 10.5054 18.5054 12.5 20.5C14.4946 18.5054 16.4892 16.2897 17.6021 14M6.52009 11C6.50681 10.8334 6.5 10.6667 6.5 10.5C6.5 7 9 4.5 12.5 4.5C16 4.5 18.5 7 18.5 10.5C18.5 10.6667 18.4932 10.8334 18.4799 11M3 12.5H22",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),hBe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"play",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M7.5 18.5V6.5L17.5 12.5L7.5 18.5Z",fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),D8=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"plug",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M13.25 8.5L16.75 5M16.25 11.5L19.75 8M9.25 15.5L5.25 19.5M7.75 14L9.75 12C8.25 10 8.75 9 9.75 8C10.15 7.6 11.25 6.5 11.25 6.5L18.25 13.5C18.25 13.5 17.3825 14.3675 16.75 15C15.75 16 14.75 16.5 12.75 15L10.75 17L7.75 14Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),w5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"presentation",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M10.5 18H5.5V8.5H19.5V18H14.5M10.5 18L9 22M10.5 18H14.5M14.5 18L16 22M4.5 8.5H20.5V6.5H4.5V8.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),pBe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"projects",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M21 17.5H14M17.5 14V21M4.5 14.5H10.5V20.5H4.5V14.5ZM14.5 4.5H20.5V10.5H14.5V4.5ZM4.5 4.5H10.5V10.5H4.5V4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),UE=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"publish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M4.99997 5.50006H20M12.5 9.00005V20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M7.5 14L12.5 9.00006L17.5 14",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),HI=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"read-only",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M15 7L18 10M10 12L7 15L6 19L10 18L13 15M12 10L17 5L20 8L15 13M19 19L5 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),_5t=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"redo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),E5t=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"refresh",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M19.5 13.5C19.5 17.366 16.366 20.5 12.5 20.5C8.63401 20.5 5.5 17.366 5.5 13.5C5.5 9.63401 8.63401 6.5 12.5 6.5H15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M11.5 10.5L15.5 6.5L11.5 2.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),C5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"remove-circle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M8 12.4H17M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),bJ=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"remove",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M5 12.5H20",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Bp=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"reset",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M4.56189 13.5L4.14285 13.9294C4.25676 14.0406 4.41017 14.1019 4.56932 14.1C4.72847 14.098 4.88032 14.0329 4.99144 13.9189L4.56189 13.5ZM9.92427 15.9243L15.9243 9.92427L15.0757 9.07574L9.07574 15.0757L9.92427 15.9243ZM9.07574 9.92426L15.0757 15.9243L15.9243 15.0757L9.92426 9.07574L9.07574 9.92426ZM19.9 12.5C19.9 16.5869 16.5869 19.9 12.5 19.9V21.1C17.2496 21.1 21.1 17.2496 21.1 12.5H19.9ZM5.1 12.5C5.1 8.41309 8.41309 5.1 12.5 5.1V3.9C7.75035 3.9 3.9 7.75035 3.9 12.5H5.1ZM12.5 5.1C16.5869 5.1 19.9 8.41309 19.9 12.5H21.1C21.1 7.75035 17.2496 3.9 12.5 3.9V5.1ZM5.15728 13.4258C5.1195 13.1227 5.1 12.8138 5.1 12.5H3.9C3.9 12.8635 3.92259 13.2221 3.9665 13.5742L5.15728 13.4258ZM12.5 19.9C9.9571 19.9 7.71347 18.6179 6.38048 16.6621L5.38888 17.3379C6.93584 19.6076 9.54355 21.1 12.5 21.1V19.9ZM4.99144 13.9189L7.42955 11.4189L6.57045 10.5811L4.13235 13.0811L4.99144 13.9189ZM4.98094 13.0706L2.41905 10.5706L1.58095 11.4294L4.14285 13.9294L4.98094 13.0706Z",fill:"currentColor"})})}),xJ=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"restore",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M5.88468 17C7.32466 19.1128 9.75033 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5C8.08172 4.5 4.5 8.08172 4.5 12.5V13.5M12.5 8V12.5L15.5 15.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M7 11L4.5 13.5L2 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),S5t=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"retrieve",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M16 14L12.5 10.5L9 14M5.5 7.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M12.5 10.5L12.5 17.5M19.5 7.5V19.5H5.5V7.5L7.5 5.5H17.5L19.5 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),k5t=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"retry",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M19 9.5L10 9.5C7.51472 9.5 5.5 11.5147 5.5 14C5.5 16.4853 7.51472 18.5 10 18.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M15 13.5L19 9.5L15 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),R8=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"revert",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),T5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"robot",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M12.5 15.5V17.5M12.5 8.5V6.5M12.5 6.5C13.3284 6.5 14 5.82843 14 5C14 4.17157 13.3284 3.5 12.5 3.5C11.6716 3.5 11 4.17157 11 5C11 5.82843 11.6716 6.5 12.5 6.5ZM20.5 20.5V19.5C20.5 18.3954 19.6046 17.5 18.5 17.5H6.5C5.39543 17.5 4.5 18.3954 4.5 19.5V20.5H20.5ZM11.5 12C11.5 12.5523 11.0523 13 10.5 13C9.94772 13 9.5 12.5523 9.5 12C9.5 11.4477 9.94772 11 10.5 11C11.0523 11 11.5 11.4477 11.5 12ZM15.5 12C15.5 12.5523 15.0523 13 14.5 13C13.9477 13 13.5 12.5523 13.5 12C13.5 11.4477 13.9477 11 14.5 11C15.0523 11 15.5 11.4477 15.5 12ZM8.5 15.5H16.5C17.6046 15.5 18.5 14.6046 18.5 13.5V10.5C18.5 9.39543 17.6046 8.5 16.5 8.5H8.5C7.39543 8.5 6.5 9.39543 6.5 10.5V13.5C6.5 14.6046 7.39543 15.5 8.5 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),A5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"rocket",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M12.5 20.5L15.5 14M11 9.49999L4.5 12.5M9 14C9 14 7.54688 14.9531 6.5 16C5.5 17 4.5 20.5 4.5 20.5C4.5 20.5 8 19.5 9 18.5C10 17.5 11 16 11 16M9 14C9 14 10.1 9.9 12.5 7.5C15.5 4.5 20.5 4.5 20.5 4.5C20.5 4.5 20.5 9.5 17.5 12.5C15.7492 14.2508 11 16 11 16L9 14ZM16.5 9.99999C16.5 10.8284 15.8284 11.5 15 11.5C14.1716 11.5 13.5 10.8284 13.5 9.99999C13.5 9.17157 14.1716 8.49999 15 8.49999C15.8284 8.49999 16.5 9.17157 16.5 9.99999Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),I5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"schema",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M12.5 9.5V12.5M12.5 12.5H8.5V15.5M12.5 12.5H16.5V15.5M10.5 5.5H14.5V9.5H10.5V5.5ZM6.5 15.5H10.5V19.5H6.5V15.5ZM14.5 15.5H18.5V19.5H14.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Aa=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"search",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M15.0355 15.0355L20 20M16.5 11.5C16.5 14.2614 14.2614 16.5 11.5 16.5C8.73858 16.5 6.5 14.2614 6.5 11.5C6.5 8.73858 8.73858 6.5 11.5 6.5C14.2614 6.5 16.5 8.73858 16.5 11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),mBe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"select",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M16.5 15.5L12.5 19.5L8.5 15.5M8.5 9.5L12.5 5.5L16.5 9.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),D5t=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"share",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M15 10.5H18.5V19.5H6.5L6.5 10.5H10M12.5 16V3.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M9 7L12.5 3.5L16 7",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),O8=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"sort",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M8.5 18.5V6M16.5 19V6.5M12 15L8.5 18.5L5 15M13 10L16.5 6.5L20 10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),R5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"sparkle",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M10.5 10.5C8.5 12.5 5 12.5 5 12.5C5 12.5 8.5 12.5 10.5 14.5C12.5 16.5 12.5 20 12.5 20C12.5 20 12.5 16.5 14.5 14.5C16.5 12.5 20 12.5 20 12.5C20 12.5 16.5 12.5 14.5 10.5C12.5 8.5 12.5 5 12.5 5C12.5 5 12.5 8.5 10.5 10.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),O5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"sparkles",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M11 3.5V5M11 5V6.5M11 5H12.5M11 5H9.5M9.5 15C9.5 15 12.2308 14.7692 13.5 13.5C14.7692 12.2308 15 9.5 15 9.5C15 9.5 15.2308 12.2308 16.5 13.5C17.7692 14.7692 20.5 15 20.5 15C20.5 15 17.7692 15.2308 16.5 16.5C15.2308 17.7692 15 20.5 15 20.5C15 20.5 14.7692 17.7692 13.5 16.5C12.2308 15.2308 9.5 15 9.5 15ZM4.5 10C4.5 10 5.72308 9.87692 6.3 9.3C6.87692 8.72308 7 7.5 7 7.5C7 7.5 7.12308 8.72308 7.7 9.3C8.27692 9.87692 9.5 10 9.5 10C9.5 10 8.27692 10.1231 7.7 10.7C7.12308 11.2769 7 12.5 7 12.5C7 12.5 6.87692 11.2769 6.3 10.7C5.72308 10.1231 4.5 10 4.5 10Z",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})})}),Gx=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"spinner",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M4.5 12.5C4.5 16.9183 8.08172 20.5 12.5 20.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 8.08172 16.9183 4.5 12.5 4.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),P5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"split-horizontal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M19.5 10.5V20.5H5.5V10.5M19.5 10.5H5.5M19.5 10.5V4.5H5.5V10.5M12.5 13V15.5M12.5 18V15.5M12.5 15.5H15M12.5 15.5H10",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),gBe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"split-vertical",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M10.5 5.5V19.5M13 12.5H15.5M18 12.5H15.5M15.5 12.5V15M15.5 12.5V10M4.5 5.5H20.5V19.5H4.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),j5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"square",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("rect",{x:5.5,y:5.5,width:14,height:14,stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),vBe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"stack-compact",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M5.5 15.5V18.5H19.5V15.5M5.5 15.5H19.5M5.5 15.5V9.5M19.5 15.5V9.5M5.5 9.5V6.5H19.5V9.5M5.5 9.5H19.5M5.5 12.5H19.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),yBe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"stack",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M5.5 12.5H19.5M5.5 18.5H19.5V6.5H5.5V18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),L5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"star",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M13 4L15.2747 9.8691L21.5595 10.2188L16.6806 14.1959L18.2901 20.2812L13 16.87L7.70993 20.2812L9.31941 14.1959L4.44049 10.2188L10.7253 9.8691L13 4Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),$5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"stop",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("rect",{x:7.5,y:7.5,width:10,height:10,fill:"currentColor",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),bBe=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"strikethrough",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M12.5656 7.73438C11.0656 7.73438 10.0734 8.48438 10.0734 9.625C10.0734 10.2317 10.3649 10.6613 11.0519 11H8.90358C8.71703 10.6199 8.62813 10.1801 8.62813 9.67188C8.62813 7.75781 10.2297 6.46094 12.6125 6.46094C14.7922 6.46094 16.4172 7.75781 16.5344 9.57812H15.1203C14.925 8.42188 13.9719 7.73438 12.5656 7.73438Z",fill:"currentColor"}),d.jsx("path",{d:"M12.4875 18.2656C10.0969 18.2656 8.44844 17 8.3 15.0547H9.72188C9.89375 16.2344 11.0188 16.9844 12.6203 16.9844C14.1359 16.9844 15.2531 16.1641 15.2531 15.0469C15.2531 14.6375 15.1255 14.292 14.8589 14H16.5912C16.6638 14.266 16.6984 14.5566 16.6984 14.875C16.6984 16.9453 15.0656 18.2656 12.4875 18.2656Z",fill:"currentColor"}),d.jsx("path",{d:"M7 13.1H18V11.9H7V13.1Z",fill:"currentColor"})]})}),__=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"string",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M11.6748 15.5227H13.1855L9.87842 6.36304H8.34863L5.0415 15.5227H6.50146L7.3457 13.0916H10.8369L11.6748 15.5227ZM9.04053 8.02612H9.14844L10.4751 11.8982H7.70752L9.04053 8.02612Z",fill:"currentColor"}),d.jsx("path",{d:"M16.8101 14.488C16.0674 14.488 15.5278 14.1262 15.5278 13.5042C15.5278 12.8948 15.9595 12.571 16.9116 12.5076L18.6001 12.3997V12.9773C18.6001 13.8342 17.8384 14.488 16.8101 14.488ZM16.4609 15.637C17.3687 15.637 18.124 15.2434 18.5366 14.5515H18.6445V15.5227H19.9585V10.8C19.9585 9.34009 18.981 8.47681 17.248 8.47681C15.6802 8.47681 14.563 9.23853 14.4233 10.4255H15.7437C15.896 9.93677 16.4229 9.65747 17.1846 9.65747C18.1177 9.65747 18.6001 10.0701 18.6001 10.8V11.3967L16.7275 11.5046C15.0835 11.6062 14.1567 12.3235 14.1567 13.5676C14.1567 14.8308 15.1279 15.637 16.4609 15.637Z",fill:"currentColor"}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.9585 18.637L5.0415 18.637V17.437L19.9585 17.437V18.637Z",fill:"currentColor"})]})}),xBe=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"sun",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M19 12.5H22M3 12.5H6M12.5 6V3M12.5 22V19M17.3891 7.61091L19.5104 5.48959M5.48959 19.5104L7.61091 17.3891M7.61091 7.61091L5.48959 5.48959M19.5104 19.5104L17.3891 17.3891M16 12.5C16 14.433 14.433 16 12.5 16C10.567 16 9 14.433 9 12.5C9 10.567 10.567 9 12.5 9C14.433 9 16 10.567 16 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),ES=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"sync",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M13.5 4.5H12.5C8.08172 4.5 4.5 8.08172 4.5 12.5C4.5 15.6631 6.33576 18.3975 9 19.6958M11.5 20.5H12.5C16.9183 20.5 20.5 16.9183 20.5 12.5C20.5 9.33688 18.6642 6.60253 16 5.30423",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),M5t=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"tablet-device",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M5.5 5.5C5.5 4.94772 5.94772 4.5 6.5 4.5H18.5C19.0523 4.5 19.5 4.94772 19.5 5.5V19.5C19.5 20.0523 19.0523 20.5 18.5 20.5H6.5C5.94772 20.5 5.5 20.0523 5.5 19.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M13 18C13 18.2761 12.7761 18.5 12.5 18.5C12.2239 18.5 12 18.2761 12 18C12 17.7239 12.2239 17.5 12.5 17.5C12.7761 17.5 13 17.7239 13 18Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),wJ=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"tag",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M12.5 20L5 20L5 12.5L12.5 5L20 12.5L12.5 20Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M11 15.5C11 16.3284 10.3284 17 9.5 17C8.67157 17 8 16.3284 8 15.5C8 14.6716 8.67157 14 9.5 14C10.3284 14 11 14.6716 11 15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),F5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"tags",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M12.1562 7.93179L13.9717 6.11633L20.3553 12.5L13.9717 18.8836L10.6855 18.8836M11.0283 18.8836L17.4119 12.5L11.0283 6.11633L4.64462 12.5L4.64462 18.8836L11.0283 18.8836ZM9.75153 15.0534C9.75153 15.7585 9.17992 16.3302 8.47481 16.3302C7.76969 16.3302 7.19808 15.7585 7.19808 15.0534C7.19808 14.3483 7.76969 13.7767 8.47481 13.7767C9.17992 13.7767 9.75153 14.3483 9.75153 15.0534Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),P8=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"task",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M4.88281 10.75V19.75H20.8828V10.75M4.88281 10.75V5.75H20.8828V10.75M4.88281 10.75H12.8828H20.8828M17.8828 8.25V3.25M7.88281 8.25V3.25",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M10.083 14.7358L12.083 16.7358L15.683 13.1758",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),N5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"terminal",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M8.5 9.5L11.5 12.5L8.5 15.5M13 15.5H17M5.5 6.5H19.5V18.5H5.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),B5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"text",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M7.5 9V6.5H17.5V9M12.5 18.5V6.5M10 18.5H15",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),U5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"th-large",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M12.5 6.5V12.5M12.5 12.5V18.5M12.5 12.5H20.5M12.5 12.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),z5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"th-list",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M9.5 6.5V10.5M9.5 10.5V14.5M9.5 10.5H20.5M9.5 10.5H4.5M9.5 14.5V18.5M9.5 14.5H20.5M9.5 14.5H4.5M4.5 6.5H20.5V18.5H4.5V6.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),V5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"tiers",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M16.5 14.5L20.5 16.5L12.5 20.5L4.5 16.5L8.5 14.5M16.5 10.5L20.5 12.5L12.5 16.5L4.5 12.5L8.5 10.5M12.5 12.5L20.5 8.5L12.5 4.5L4.5 8.5L12.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),WI=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"toggle-arrow-right",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M10 16.5V8.5L16 12.5L10 16.5Z",fill:"currentColor",stroke:"currentColor",strokeLinejoin:"round"})})}),H5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"token",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M17.5711 12.5C17.5711 15.2614 15.3325 17.5 12.5711 17.5M7.57107 12.5C7.57107 9.73858 9.80964 7.5 12.5711 7.5M20.5 12.5C20.5 16.9183 16.9183 20.5 12.5 20.5C8.08172 20.5 4.5 16.9183 4.5 12.5C4.5 8.08172 8.08172 4.5 12.5 4.5C16.9183 4.5 20.5 8.08172 20.5 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),W5t=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"transfer",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M19.5 16.5H6M5.5 8.5L19 8.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M16 13L19.5 16.5L16 20M9 12L5.5 8.5L9 5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),G5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"translate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.4 5.4H4V6.6H13.2189C13.1612 6.78478 13.0895 6.99578 13.0025 7.22211C12.7032 8.00031 12.2402 8.91125 11.5757 9.57574L10 11.1515L9.42426 10.5757C8.72102 9.8725 8.25297 9.16987 7.96199 8.64611C7.81668 8.38455 7.71617 8.16874 7.65305 8.02146C7.62151 7.94787 7.59937 7.89154 7.5857 7.85534C7.57886 7.83725 7.57415 7.8242 7.57144 7.81657L7.56886 7.80922C7.56886 7.80922 7.56921 7.81026 7 8C6.43079 8.18974 6.43091 8.19009 6.43091 8.19009L6.43133 8.19135L6.43206 8.19351L6.4341 8.19948L6.44052 8.21786C6.44587 8.23292 6.45336 8.25357 6.46313 8.27942C6.48266 8.33112 6.5113 8.40369 6.55008 8.49416C6.62758 8.67501 6.74582 8.92795 6.91301 9.22889C7.24703 9.83013 7.77898 10.6275 8.57574 11.4243L9.15147 12L4.57964 16.5718L4.57655 16.5749L4.57577 16.5757L5.4243 17.4242L5.42688 17.4216L10.0368 12.8117L12.6159 14.9609L13.3841 14.0391L10.8888 11.9597L12.4243 10.4243C13.2598 9.58875 13.7968 8.49969 14.1225 7.65289C14.2818 7.23863 14.395 6.87072 14.4696 6.6H16V5.4H10.6V4H9.4V5.4ZM17.4405 10L21.553 19.7672H20.2509L19.1279 17.1H14.8721L13.7491 19.7672H12.447L16.5595 10H17.4405ZM15.3773 15.9H18.6227L17 12.0462L15.3773 15.9Z",fill:"currentColor"})})}),vs=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"trash",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M5 6.5H20M10 6.5V4.5C10 3.94772 10.4477 3.5 11 3.5H14C14.5523 3.5 15 3.94772 15 4.5V6.5M12.5 9V17M15.5 9L15 17M9.5 9L10 17M18.5 6.5L17.571 18.5767C17.5309 19.0977 17.0965 19.5 16.574 19.5H8.42603C7.90349 19.5 7.46905 19.0977 7.42898 18.5767L6.5 6.5H18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),q5t=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"trend-upward",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M4.5 18.5L11.5 10.5L13.5 14.5L20.5 6.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M20.5 11V6.5H16",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),K5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"triangle-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M20.5 18.5H4.5L12.5 5.5L20.5 18.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Y5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"trolley",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M8 17.5L5.81763 6.26772C5.71013 5.81757 5.30779 5.5 4.84498 5.5H3M8 17.5H17M8 17.5C8.82843 17.5 9.5 18.1716 9.5 19C9.5 19.8284 8.82843 20.5 8 20.5C7.17157 20.5 6.5 19.8284 6.5 19C6.5 18.1716 7.17157 17.5 8 17.5ZM17 17.5C17.8284 17.5 18.5 18.1716 18.5 19C18.5 19.8284 17.8284 20.5 17 20.5C16.1716 20.5 15.5 19.8284 15.5 19C15.5 18.1716 16.1716 17.5 17 17.5ZM7.78357 14.5H17.5L19 7.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Z5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"truncate",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M5 12.5H20M8.5 19.5L12.5 15.5L16.5 19.5M16.5 5.5L12.5 9.5L8.5 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),X5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"twitter",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M18.8738 6.65751C18.1994 5.9447 17.2445 5.5 16.1857 5.5C14.1423 5.5 12.4857 7.15655 12.4857 9.2C12.4857 9.55263 12.535 9.89374 12.6272 10.2168C7.0826 9.56422 4.55703 6.02857 4.55703 6.02857C4.55703 6.02857 4.02846 9.2 6.14274 11.3143C5.08571 11.3143 4.55703 10.7857 4.55703 10.7857C4.55703 10.7857 4.55703 13.4286 7.19989 14.4857C6.67143 15.0143 5.61417 14.4857 5.61417 14.4857C5.97533 15.9303 7.45606 16.8562 8.82133 17.1358C6.67298 19.1676 3.5 18.7143 3.5 18.7143C5.14562 19.771 7.21334 20.3 9.31429 20.3C16.1214 20.3 19.8162 15.6315 19.8848 9.37762C20.8722 8.58943 22 7.08571 22 7.08571C22 7.08571 21.277 7.45458 19.6913 7.98315C21.277 6.92601 21.4714 5.5 21.4714 5.5C21.4714 5.5 20.4135 6.55789 18.8738 6.65751Z",fill:"currentColor"})})}),dA=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"ulist",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M7.10153 17.5001C7.10153 17.8323 6.83221 18.1016 6.5 18.1016C6.16778 18.1016 5.89847 17.8323 5.89847 17.5001C5.89847 17.1678 6.16778 16.8985 6.5 16.8985C6.83221 16.8985 7.10153 17.1678 7.10153 17.5001Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M7.10153 7.5C7.10153 7.83221 6.83221 8.10153 6.5 8.10153C6.16778 8.10153 5.89847 7.83221 5.89847 7.5C5.89847 7.16778 6.16778 6.89847 6.5 6.89847C6.83221 6.89847 7.10153 7.16778 7.10153 7.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M7.10153 12.5C7.10153 12.8322 6.83221 13.1015 6.5 13.1015C6.16778 13.1015 5.89847 12.8322 5.89847 12.5C5.89847 12.1678 6.16778 11.8985 6.5 11.8985C6.83221 11.8985 7.10153 12.1678 7.10153 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M10 7.5H19M10 17.5H19M10 12.5H19",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),wBe=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"underline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M9.52791 7.11407H8.17V14.2582C8.17 16.5817 9.79195 18.2565 12.4927 18.2565C15.1934 18.2565 16.8154 16.5817 16.8154 14.2582V7.11407H15.4574V14.1677C15.4574 15.8122 14.3787 17.0042 12.4927 17.0042C10.6067 17.0042 9.52791 15.8122 9.52791 14.1677V7.11407Z",fill:"currentColor"}),d.jsx("path",{d:"M7 20.5H18",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),BM=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"undo",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M6 9.5L15 9.5C17.4853 9.5 19.5 11.5147 19.5 14C19.5 16.4853 17.4853 18.5 15 18.5H6",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M10 13.5L6 9.5L10 5.5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),Rp=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"unknown",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M12.5 13C12.5 11 14 11.5 14 10C14 9.34375 13.5 8.5 12.5 8.5C11.5 8.5 11 9 10.5 9.5M12.5 16V14.5M5.5 5.5H19.5V19.5H5.5V5.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Q5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"unlock",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M9.5 11.5V8.5C9.5 6.5 8 5.5 6.5 5.5C5 5.5 3.5 6.5 3.5 8.5V11.5M7.5 11.5H17.5V19.5H7.5V11.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),UM=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"unpublish",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M5 19.5H20M12.5 16V5",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M17.5 11L12.5 16L7.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),CS=p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"upload",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:[d.jsx("path",{d:"M12.5 6.00003V15.5M5.5 15.5H19.5V19.5H5.5V15.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("path",{d:"M7.5 11L12.5 6.00003L17.5 11",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})]})}),RC=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"user",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M8 14.5C7 15 5.5 16 5.5 19.5H19.5C19.5 16 18.3416 15.1708 17 14.5C16 14 14 14 14 12.5C14 11 15 10.25 15 8.25C15 6.25 14 5.25 12.5 5.25C11 5.25 10 6.25 10 8.25C10 10.25 11 11 11 12.5C11 14 9 14 8 14.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),j8=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"users",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M17.5 18.5H21.5C21.5 15 20.8416 14.1708 19.5 13.5C18.5 13 16.5 12.5 16.5 11C16.5 9.5 17.5 9 17.5 7C17.5 5 16.5 4 15 4C13.6628 4 12.723 4.79472 12.5347 6.38415M4.5 20.5C4.5 17 5.5 16 6.5 15.5C7.5 15 9.5 14.5 9.5 13C9.5 11.5 8.5 11 8.5 9C8.5 7 9.5 6 11 6C12.5 6 13.5 7 13.5 9C13.5 11 12.5 11.5 12.5 13C12.5 14.5 14.5 15 15.5 15.5C16.8416 16.1708 17.5 17 17.5 20.5H4.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),J5t=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"warning-filled",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.741 5.12637C13.7357 3.41737 11.2643 3.41737 10.259 5.12637L3.7558 16.1818C2.73624 17.915 3.98595 20.1 5.99683 20.1H19.0032C21.014 20.1 22.2637 17.915 21.2442 16.1818L14.741 5.12637ZM11.9 9V13H13.1V9H11.9ZM13.1 16V14.5H11.9V16H13.1Z",fill:"currentColor"})})}),as=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"warning-outline",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M12.5 9V13M12.5 16V14.5M14.2239 5.43058L20.727 16.486C21.5113 17.8192 20.55 19.5 19.0032 19.5H5.99683C4.45 19.5 3.48869 17.8192 4.27297 16.486L10.7761 5.43058C11.5494 4.11596 13.4506 4.11596 14.2239 5.43058Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),eIt=p.forwardRef(function(n,e){return d.jsx("svg",{"data-sanity-icon":"wrench",width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,...n,children:d.jsx("path",{d:"M17.0407 5.14624L17.4649 5.57051C17.6166 5.41887 17.6757 5.19783 17.6202 4.99071C17.5646 4.78359 17.4027 4.62189 17.1955 4.56656L17.0407 5.14624ZM14.4013 7.7856L13.977 7.36134C13.8288 7.50959 13.7687 7.72447 13.8185 7.92813L14.4013 7.7856ZM12.8778 6.26211L12.4535 5.83784V5.83784L12.8778 6.26211ZM11.8309 10.6568L12.2552 11.0811C12.4152 10.9211 12.4716 10.6847 12.401 10.4697L11.8309 10.6568ZM5.63925 16.8485L5.21498 16.4242H5.21498L5.63925 16.8485ZM5.63925 19.935L6.06351 19.5108H6.06351L5.63925 19.935ZM8.72581 19.935L9.15007 20.3593L8.72581 19.935ZM15.1184 13.5425L15.2301 12.953C15.0351 12.916 14.8344 12.9779 14.6941 13.1182L15.1184 13.5425ZM18.9718 12.3561L19.3961 12.7804L18.9718 12.3561ZM20.0877 8.19324L20.6674 8.03843C20.612 7.83125 20.4503 7.66934 20.2432 7.61375C20.0361 7.55816 19.815 7.61734 19.6634 7.76898L20.0877 8.19324ZM17.4483 10.8326L17.3058 11.4154C17.5094 11.4652 17.7243 11.4051 17.8726 11.2569L17.4483 10.8326ZM15 10.2339L14.4172 10.3764C14.4704 10.5938 14.6401 10.7635 14.8575 10.8167L15 10.2339ZM16.6164 4.72198L13.977 7.36134L14.8256 8.20986L17.4649 5.57051L16.6164 4.72198ZM13.3021 6.68637C14.2723 5.71612 15.6467 5.39501 16.8859 5.72593L17.1955 4.56656C15.5595 4.12966 13.7389 4.55245 12.4535 5.83784L13.3021 6.68637ZM12.401 10.4697C11.9779 9.18109 12.2794 7.70907 13.3021 6.68637L12.4535 5.83784C11.0985 7.19284 10.7021 9.14218 11.2608 10.844L12.401 10.4697ZM11.4066 10.2326L5.21498 16.4242L6.06351 17.2727L12.2552 11.0811L11.4066 10.2326ZM5.21498 16.4242C4.12834 17.5109 4.12834 19.2727 5.21498 20.3593L6.06351 19.5108C5.4455 18.8928 5.4455 17.8908 6.06351 17.2727L5.21498 16.4242ZM5.21498 20.3593C6.30163 21.446 8.06343 21.446 9.15007 20.3593L8.30155 19.5108C7.68353 20.1288 6.68153 20.1288 6.06351 19.5108L5.21498 20.3593ZM9.15007 20.3593L15.5426 13.9668L14.6941 13.1182L8.30155 19.5108L9.15007 20.3593ZM18.5475 11.9318C17.6463 12.8331 16.3968 13.1742 15.2301 12.953L15.0066 14.132C16.5466 14.4239 18.2023 13.9741 19.3961 12.7804L18.5475 11.9318ZM19.508 8.34804C19.8389 9.58721 19.5178 10.9616 18.5475 11.9318L19.3961 12.7804C20.6815 11.495 21.1043 9.67445 20.6674 8.03843L19.508 8.34804ZM17.8726 11.2569L20.5119 8.6175L19.6634 7.76898L17.024 10.4083L17.8726 11.2569ZM14.8575 10.8167L17.3058 11.4154L17.5908 10.2498L15.1426 9.65106L14.8575 10.8167ZM13.8185 7.92813L14.4172 10.3764L15.5829 10.0914L14.9841 7.64307L13.8185 7.92813Z",fill:"currentColor"})})}),tIt={"access-denied":sy,activity:iAt,"add-circle":oG,"add-comment":uJ,add:Ta,api:oAt,archive:sAt,"arrow-down":FNe,"arrow-left":UI,"arrow-right":NNe,"arrow-top-right":aAt,"arrow-up":lAt,asterisk:cAt,"bar-chart":uAt,basket:dAt,bell:fAt,bill:hAt,"binary-document":zI,"block-content":BNe,"block-element":UNe,blockquote:pAt,bold:zNe,bolt:dJ,book:mAt,bottle:gAt,"bulb-filled":vAt,"bulb-outline":S8,calendar:Xd,case:yAt,"chart-upward":bAt,"checkmark-circle":VI,checkmark:ec,"chevron-down":qs,"chevron-left":k8,"chevron-right":Ch,"chevron-up":VNe,circle:IC,clipboard:xAt,"clipboard-image":wAt,clock:T8,"close-circle":_At,close:Is,"code-block":EAt,code:HNe,cog:A8,collapse:WNe,"color-wheel":CAt,comment:GNe,component:SAt,compose:kAt,confetti:TAt,controls:fJ,copy:Np,"credit-card":AAt,crop:hJ,cube:IAt,dashboard:DAt,database:RAt,desktop:qNe,diamond:OAt,document:gh,"document-pdf":PAt,"document-remove":jAt,"document-sheet":LAt,"document-text":$At,"document-video":KNe,"document-word":MAt,"document-zip":FAt,documents:pJ,dot:YNe,"double-chevron-down":NAt,"double-chevron-left":BAt,"double-chevron-right":mJ,"double-chevron-up":UAt,download:gJ,"drag-handle":ZNe,drop:zAt,"earth-americas":XNe,"earth-globe":VAt,edit:df,"ellipsis-horizontal":I8,"ellipsis-vertical":QNe,enter:HAt,"enter-right":WAt,envelope:GAt,equal:qAt,"error-filled":KAt,"error-outline":Dc,expand:JNe,"eye-closed":YAt,"eye-open":vJ,filter:ZAt,folder:eBe,generate:XAt,groq:QAt,hash:JAt,"heart-filled":e5t,heart:t5t,"help-circle":DC,highlight:n5t,home:r5t,"ice-cream":i5t,image:vh,"image-remove":o5t,images:s5t,"info-filled":a5t,"info-outline":Wx,"inline-element":tBe,inline:l5t,"insert-above":nBe,"insert-below":rBe,italic:iBe,joystick:c5t,json:oBe,launch:Iy,leave:yJ,lemon:u5t,link:ff,"link-removed":sBe,lock:NM,"logo-js":d5t,"logo-ts":f5t,"master-detail":aBe,menu:lBe,"mobile-device":h5t,moon:cBe,number:uBe,"ok-hand":p5t,olist:dBe,overage:m5t,package:g5t,"panel-left":v5t,"panel-right":fBe,pause:y5t,pin:b5t,"pin-removed":x5t,play:hBe,plug:D8,presentation:w5t,projects:pBe,publish:UE,"read-only":HI,redo:_5t,refresh:E5t,"remove-circle":C5t,remove:bJ,reset:Bp,restore:xJ,retrieve:S5t,retry:k5t,revert:R8,robot:T5t,rocket:A5t,schema:I5t,search:Aa,select:mBe,share:D5t,sort:O8,sparkle:R5t,sparkles:O5t,spinner:Gx,"split-horizontal":P5t,"split-vertical":gBe,square:j5t,"stack-compact":vBe,stack:yBe,star:L5t,stop:$5t,strikethrough:bBe,string:__,sun:xBe,sync:ES,"tablet-device":M5t,tag:wJ,tags:F5t,task:P8,terminal:N5t,text:B5t,"th-large":U5t,"th-list":z5t,tiers:V5t,"toggle-arrow-right":WI,token:H5t,transfer:W5t,translate:G5t,trash:vs,"trend-upward":q5t,"triangle-outline":K5t,trolley:Y5t,truncate:Z5t,twitter:X5t,ulist:dA,underline:wBe,undo:BM,unknown:Rp,unlock:Q5t,unpublish:UM,upload:CS,user:RC,users:j8,"warning-filled":J5t,"warning-outline":as,wrench:eIt},_Be=p.forwardRef(function(n,e){const{symbol:r,...i}=n,o=tIt[r];return o?p.createElement(o,{...i,ref:e}):null});var EBe={exports:{}},nIt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",rIt=nIt,iIt=rIt;function CBe(){}function SBe(){}SBe.resetWarningCache=CBe;var oIt=function(){function n(i,o,s,a,l,c){if(c!==iIt){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var r={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:SBe,resetWarningCache:CBe};return r.PropTypes=r,r};EBe.exports=oIt();var kBe=EBe.exports;const tLr=Tt(kBe);var sIt=lIt,aIt=Object.prototype.hasOwnProperty;function lIt(){for(var n={},e=0;e<arguments.length;e++){var r=arguments[e];for(var i in r)aIt.call(r,i)&&(n[i]=r[i])}return n}var TBe=ABe,_J=ABe.prototype;_J.space=null;_J.normal={};_J.property={};function ABe(n,e,r){this.property=n,this.normal=e,r&&(this.space=r)}var Ede=sIt,cIt=TBe,uIt=dIt;function dIt(n){for(var e=n.length,r=[],i=[],o=-1,s,a;++o<e;)s=n[o],r.push(s.property),i.push(s.normal),a=s.space;return new cIt(Ede.apply(null,r),Ede.apply(null,i),a)}var EJ=fIt;function fIt(n){return n.toLowerCase()}var IBe=DBe,wf=DBe.prototype;wf.space=null;wf.attribute=null;wf.property=null;wf.boolean=!1;wf.booleanish=!1;wf.overloadedBoolean=!1;wf.number=!1;wf.commaSeparated=!1;wf.spaceSeparated=!1;wf.commaOrSpaceSeparated=!1;wf.mustUseProperty=!1;wf.defined=!1;function DBe(n,e){this.property=n,this.attribute=e}var Yp={},hIt=0;Yp.boolean=qx();Yp.booleanish=qx();Yp.overloadedBoolean=qx();Yp.number=qx();Yp.spaceSeparated=qx();Yp.commaSeparated=qx();Yp.commaOrSpaceSeparated=qx();function qx(){return Math.pow(2,++hIt)}var RBe=IBe,Cde=Yp,OBe=CJ;CJ.prototype=new RBe;CJ.prototype.defined=!0;var PBe=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],pIt=PBe.length;function CJ(n,e,r,i){var o=-1,s;for(Sde(this,"space",i),RBe.call(this,n,e);++o<pIt;)s=PBe[o],Sde(this,s,(r&Cde[s])===Cde[s])}function Sde(n,e,r){r&&(n[e]=r)}var kde=EJ,mIt=TBe,gIt=OBe,GI=vIt;function vIt(n){var e=n.space,r=n.mustUseProperty||[],i=n.attributes||{},o=n.properties,s=n.transform,a={},l={},c,u;for(c in o)u=new gIt(c,s(i,c),o[c],e),r.indexOf(c)!==-1&&(u.mustUseProperty=!0),a[c]=u,l[kde(c)]=c,l[kde(u.attribute)]=c;return new mIt(a,l,e)}var yIt=GI,bIt=yIt({space:"xlink",transform:xIt,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function xIt(n,e){return"xlink:"+e.slice(5).toLowerCase()}var wIt=GI,_It=wIt({space:"xml",transform:EIt,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function EIt(n,e){return"xml:"+e.slice(3).toLowerCase()}var CIt=SIt;function SIt(n,e){return e in n?n[e]:e}var kIt=CIt,jBe=TIt;function TIt(n,e){return kIt(n,e.toLowerCase())}var AIt=GI,IIt=jBe,DIt=AIt({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:IIt,properties:{xmlns:null,xmlnsXLink:null}}),SJ=Yp,RIt=GI,Gc=SJ.booleanish,Ad=SJ.number,p1=SJ.spaceSeparated,OIt=RIt({transform:PIt,properties:{ariaActiveDescendant:null,ariaAtomic:Gc,ariaAutoComplete:null,ariaBusy:Gc,ariaChecked:Gc,ariaColCount:Ad,ariaColIndex:Ad,ariaColSpan:Ad,ariaControls:p1,ariaCurrent:null,ariaDescribedBy:p1,ariaDetails:null,ariaDisabled:Gc,ariaDropEffect:p1,ariaErrorMessage:null,ariaExpanded:Gc,ariaFlowTo:p1,ariaGrabbed:Gc,ariaHasPopup:null,ariaHidden:Gc,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:p1,ariaLevel:Ad,ariaLive:null,ariaModal:Gc,ariaMultiLine:Gc,ariaMultiSelectable:Gc,ariaOrientation:null,ariaOwns:p1,ariaPlaceholder:null,ariaPosInSet:Ad,ariaPressed:Gc,ariaReadOnly:Gc,ariaRelevant:null,ariaRequired:Gc,ariaRoleDescription:p1,ariaRowCount:Ad,ariaRowIndex:Ad,ariaRowSpan:Ad,ariaSelected:Gc,ariaSetSize:Ad,ariaSort:null,ariaValueMax:Ad,ariaValueMin:Ad,ariaValueNow:Ad,ariaValueText:null,role:null}});function PIt(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}var SS=Yp,jIt=GI,LIt=jBe,Er=SS.boolean,$It=SS.overloadedBoolean,Q2=SS.booleanish,Lo=SS.number,uc=SS.spaceSeparated,SO=SS.commaSeparated,MIt=jIt({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:LIt,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:SO,acceptCharset:uc,accessKey:uc,action:null,allow:null,allowFullScreen:Er,allowPaymentRequest:Er,allowUserMedia:Er,alt:null,as:null,async:Er,autoCapitalize:null,autoComplete:uc,autoFocus:Er,autoPlay:Er,capture:Er,charSet:null,checked:Er,cite:null,className:uc,cols:Lo,colSpan:null,content:null,contentEditable:Q2,controls:Er,controlsList:uc,coords:Lo|SO,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Er,defer:Er,dir:null,dirName:null,disabled:Er,download:$It,draggable:Q2,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Er,formTarget:null,headers:uc,height:Lo,hidden:Er,high:Lo,href:null,hrefLang:null,htmlFor:uc,httpEquiv:uc,id:null,imageSizes:null,imageSrcSet:SO,inputMode:null,integrity:null,is:null,isMap:Er,itemId:null,itemProp:uc,itemRef:uc,itemScope:Er,itemType:uc,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Er,low:Lo,manifest:null,max:null,maxLength:Lo,media:null,method:null,min:null,minLength:Lo,multiple:Er,muted:Er,name:null,nonce:null,noModule:Er,noValidate:Er,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Er,optimum:Lo,pattern:null,ping:uc,placeholder:null,playsInline:Er,poster:null,preload:null,readOnly:Er,referrerPolicy:null,rel:uc,required:Er,reversed:Er,rows:Lo,rowSpan:Lo,sandbox:uc,scope:null,scoped:Er,seamless:Er,selected:Er,shape:null,size:Lo,sizes:null,slot:null,span:Lo,spellCheck:Q2,src:null,srcDoc:null,srcLang:null,srcSet:SO,start:Lo,step:null,style:null,tabIndex:Lo,target:null,title:null,translate:null,type:null,typeMustMatch:Er,useMap:null,value:Q2,width:Lo,wrap:null,align:null,aLink:null,archive:uc,axis:null,background:null,bgColor:null,border:Lo,borderColor:null,bottomMargin:Lo,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Er,declare:Er,event:null,face:null,frame:null,frameBorder:null,hSpace:Lo,leftMargin:Lo,link:null,longDesc:null,lowSrc:null,marginHeight:Lo,marginWidth:Lo,noResize:Er,noHref:Er,noShade:Er,noWrap:Er,object:null,profile:null,prompt:null,rev:null,rightMargin:Lo,rules:null,scheme:null,scrolling:Q2,standby:null,summary:null,text:null,topMargin:Lo,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Lo,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Er,disableRemotePlayback:Er,prefix:null,property:null,results:Lo,security:null,unselectable:null}}),FIt=uIt,NIt=bIt,BIt=_It,UIt=DIt,zIt=OIt,VIt=MIt,HIt=FIt([BIt,NIt,UIt,zIt,VIt]),WIt=EJ,GIt=OBe,qIt=IBe,kJ="data",KIt=XIt,YIt=/^data[-\w.:]+$/i,LBe=/-[a-z]/g,ZIt=/[A-Z]/g;function XIt(n,e){var r=WIt(e),i=e,o=qIt;return r in n.normal?n.property[n.normal[r]]:(r.length>4&&r.slice(0,4)===kJ&&YIt.test(e)&&(e.charAt(4)==="-"?i=QIt(e):e=JIt(e),o=GIt),new o(i,e))}function QIt(n){var e=n.slice(5).replace(LBe,tDt);return kJ+e.charAt(0).toUpperCase()+e.slice(1)}function JIt(n){var e=n.slice(4);return LBe.test(e)?n:(e=e.replace(ZIt,eDt),e.charAt(0)!=="-"&&(e="-"+e),kJ+e)}function eDt(n){return"-"+n.toLowerCase()}function tDt(n){return n.charAt(1).toUpperCase()}var nDt=rDt,Tde=/[#.]/g;function rDt(n,e){for(var r=n||"",i=e||"div",o={},s=0,a,l,c;s<r.length;)Tde.lastIndex=s,c=Tde.exec(r),a=r.slice(s,c?c.index:r.length),a&&(l?l==="#"?o.id=a:o.className?o.className.push(a):o.className=[a]:i=a,s+=a.length),c&&(l=c[0],s++);return{type:"element",tagName:i,properties:o,children:[]}}var TJ={};TJ.parse=sDt;TJ.stringify=aDt;var Ade="",iDt=" ",oDt=/[ \t\n\r\f]+/g;function sDt(n){var e=String(n||Ade).trim();return e===Ade?[]:e.split(oDt)}function aDt(n){return n.join(iDt).trim()}var AJ={};AJ.parse=lDt;AJ.stringify=cDt;var sG=",",Ide=" ",uT="";function lDt(n){for(var e=[],r=String(n||uT),i=r.indexOf(sG),o=0,s=!1,a;!s;)i===-1&&(i=r.length,s=!0),a=r.slice(o,i).trim(),(a||!s)&&e.push(a),o=i+1,i=r.indexOf(sG,o);return e}function cDt(n,e){var r=e||{},i=r.padLeft===!1?uT:Ide,o=r.padRight?Ide:uT;return n[n.length-1]===uT&&(n=n.concat(uT)),n.join(o+sG+i).trim()}var uDt=KIt,Dde=EJ,dDt=nDt,Rde=TJ.parse,Ode=AJ.parse,fDt=pDt,hDt={}.hasOwnProperty;function pDt(n,e,r){var i=r?bDt(r):null;return o;function o(a,l){var c=dDt(a,e),u=Array.prototype.slice.call(arguments,2),f=c.tagName.toLowerCase(),h;if(c.tagName=i&&hDt.call(i,f)?i[f]:f,l&&mDt(l,c)&&(u.unshift(l),l=null),l)for(h in l)s(c.properties,h,l[h]);return $Be(c.children,u),c.tagName==="template"&&(c.content={type:"root",children:c.children},c.children=[]),c}function s(a,l,c){var u,f,h;c==null||c!==c||(u=uDt(n,l),f=u.property,h=c,typeof h=="string"&&(u.spaceSeparated?h=Rde(h):u.commaSeparated?h=Ode(h):u.commaOrSpaceSeparated&&(h=Rde(Ode(h).join(" ")))),f==="style"&&typeof c!="string"&&(h=yDt(h)),f==="className"&&a.className&&(h=a.className.concat(h)),a[f]=vDt(u,f,h))}}function mDt(n,e){return typeof n=="string"||"length"in n||gDt(e.tagName,n)}function gDt(n,e){var r=e.type;return n==="input"||!r||typeof r!="string"?!1:typeof e.children=="object"&&"length"in e.children?!0:(r=r.toLowerCase(),n==="button"?r!=="menu"&&r!=="submit"&&r!=="reset"&&r!=="button":"value"in e)}function $Be(n,e){var r,i;if(typeof e=="string"||typeof e=="number"){n.push({type:"text",value:String(e)});return}if(typeof e=="object"&&"length"in e){for(r=-1,i=e.length;++r<i;)$Be(n,e[r]);return}if(typeof e!="object"||!("type"in e))throw new Error("Expected node, nodes, or string, got `"+e+"`");n.push(e)}function vDt(n,e,r){var i,o,s;if(typeof r!="object"||!("length"in r))return Pde(n,e,r);for(o=r.length,i=-1,s=[];++i<o;)s[i]=Pde(n,e,r[i]);return s}function Pde(n,e,r){var i=r;return n.number||n.positiveNumber?!isNaN(i)&&i!==""&&(i=Number(i)):(n.boolean||n.overloadedBoolean)&&typeof i=="string"&&(i===""||Dde(r)===Dde(e))&&(i=!0),i}function yDt(n){var e=[],r;for(r in n)e.push([r,n[r]].join(": "));return e.join("; ")}function bDt(n){for(var e=n.length,r=-1,i={},o;++r<e;)o=n[r],i[o.toLowerCase()]=o;return i}var xDt=HIt,wDt=fDt,MBe=wDt(xDt,"div");MBe.displayName="html";var _Dt=MBe,EDt=_Dt;const CDt="Æ",SDt="&",kDt="Á",TDt="Â",ADt="À",IDt="Å",DDt="Ã",RDt="Ä",ODt="©",PDt="Ç",jDt="Ð",LDt="É",$Dt="Ê",MDt="È",FDt="Ë",NDt=">",BDt="Í",UDt="Î",zDt="Ì",VDt="Ï",HDt="<",WDt="Ñ",GDt="Ó",qDt="Ô",KDt="Ò",YDt="Ø",ZDt="Õ",XDt="Ö",QDt='"',JDt="®",eRt="Þ",tRt="Ú",nRt="Û",rRt="Ù",iRt="Ü",oRt="Ý",sRt="á",aRt="â",lRt="´",cRt="æ",uRt="à",dRt="&",fRt="å",hRt="ã",pRt="ä",mRt="¦",gRt="ç",vRt="¸",yRt="¢",bRt="©",xRt="¤",wRt="°",_Rt="÷",ERt="é",CRt="ê",SRt="è",kRt="ð",TRt="ë",ARt="½",IRt="¼",DRt="¾",RRt=">",ORt="í",PRt="î",jRt="¡",LRt="ì",$Rt="¿",MRt="ï",FRt="«",NRt="<",BRt="¯",URt="µ",zRt="·",VRt=" ",HRt="¬",WRt="ñ",GRt="ó",qRt="ô",KRt="ò",YRt="ª",ZRt="º",XRt="ø",QRt="õ",JRt="ö",eOt="¶",tOt="±",nOt="£",rOt='"',iOt="»",oOt="®",sOt="§",aOt="­",lOt="¹",cOt="²",uOt="³",dOt="ß",fOt="þ",hOt="×",pOt="ú",mOt="û",gOt="ù",vOt="¨",yOt="ü",bOt="ý",xOt="¥",wOt="ÿ",_Ot={AElig:CDt,AMP:SDt,Aacute:kDt,Acirc:TDt,Agrave:ADt,Aring:IDt,Atilde:DDt,Auml:RDt,COPY:ODt,Ccedil:PDt,ETH:jDt,Eacute:LDt,Ecirc:$Dt,Egrave:MDt,Euml:FDt,GT:NDt,Iacute:BDt,Icirc:UDt,Igrave:zDt,Iuml:VDt,LT:HDt,Ntilde:WDt,Oacute:GDt,Ocirc:qDt,Ograve:KDt,Oslash:YDt,Otilde:ZDt,Ouml:XDt,QUOT:QDt,REG:JDt,THORN:eRt,Uacute:tRt,Ucirc:nRt,Ugrave:rRt,Uuml:iRt,Yacute:oRt,aacute:sRt,acirc:aRt,acute:lRt,aelig:cRt,agrave:uRt,amp:dRt,aring:fRt,atilde:hRt,auml:pRt,brvbar:mRt,ccedil:gRt,cedil:vRt,cent:yRt,copy:bRt,curren:xRt,deg:wRt,divide:_Rt,eacute:ERt,ecirc:CRt,egrave:SRt,eth:kRt,euml:TRt,frac12:ARt,frac14:IRt,frac34:DRt,gt:RRt,iacute:ORt,icirc:PRt,iexcl:jRt,igrave:LRt,iquest:$Rt,iuml:MRt,laquo:FRt,lt:NRt,macr:BRt,micro:URt,middot:zRt,nbsp:VRt,not:HRt,ntilde:WRt,oacute:GRt,ocirc:qRt,ograve:KRt,ordf:YRt,ordm:ZRt,oslash:XRt,otilde:QRt,ouml:JRt,para:eOt,plusmn:tOt,pound:nOt,quot:rOt,raquo:iOt,reg:oOt,sect:sOt,shy:aOt,sup1:lOt,sup2:cOt,sup3:uOt,szlig:dOt,thorn:fOt,times:hOt,uacute:pOt,ucirc:mOt,ugrave:gOt,uml:vOt,uuml:yOt,yacute:bOt,yen:xOt,yuml:wOt},EOt={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};var FBe=COt;function COt(n){var e=typeof n=="string"?n.charCodeAt(0):n;return e>=48&&e<=57}var SOt=kOt;function kOt(n){var e=typeof n=="string"?n.charCodeAt(0):n;return e>=97&&e<=102||e>=65&&e<=70||e>=48&&e<=57}var TOt=AOt;function AOt(n){var e=typeof n=="string"?n.charCodeAt(0):n;return e>=97&&e<=122||e>=65&&e<=90}var IOt=TOt,DOt=FBe,ROt=OOt;function OOt(n){return IOt(n)||DOt(n)}var kO,POt=59,jOt=LOt;function LOt(n){var e="&"+n+";",r;return kO=kO||document.createElement("i"),kO.innerHTML=e,r=kO.textContent,r.charCodeAt(r.length-1)===POt&&n!=="semi"||r===e?!1:r}var jde=_Ot,Lde=EOt,$Ot=FBe,MOt=SOt,NBe=ROt,FOt=jOt,NOt=QOt,BOt={}.hasOwnProperty,qw=String.fromCharCode,UOt=Function.prototype,$de={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},zOt=9,Mde=10,VOt=12,HOt=32,Fde=38,WOt=59,GOt=60,qOt=61,KOt=35,YOt=88,ZOt=120,XOt=65533,E_="named",IJ="hexadecimal",DJ="decimal",RJ={};RJ[IJ]=16;RJ[DJ]=10;var L8={};L8[E_]=NBe;L8[DJ]=$Ot;L8[IJ]=MOt;var BBe=1,UBe=2,zBe=3,VBe=4,HBe=5,aG=6,WBe=7,Dy={};Dy[BBe]="Named character references must be terminated by a semicolon";Dy[UBe]="Numeric character references must be terminated by a semicolon";Dy[zBe]="Named character references cannot be empty";Dy[VBe]="Numeric character references cannot be empty";Dy[HBe]="Named character references must be known";Dy[aG]="Numeric character references cannot be disallowed";Dy[WBe]="Numeric character references cannot be outside the permissible Unicode range";function QOt(n,e){var r={},i,o;e||(e={});for(o in $de)i=e[o],r[o]=i??$de[o];return(r.position.indent||r.position.start)&&(r.indent=r.position.indent||[],r.position=r.position.start),JOt(n,r)}function JOt(n,e){var r=e.additional,i=e.nonTerminated,o=e.text,s=e.reference,a=e.warning,l=e.textContext,c=e.referenceContext,u=e.warningContext,f=e.position,h=e.indent||[],m=n.length,g=0,v=-1,y=f.column||1,b=f.line||1,x="",_=[],w,C,S,T,A,I,D,R,P,O,$,L,M,N,z,B,H,X,G;for(typeof r=="string"&&(r=r.charCodeAt(0)),B=ne(),R=a?le:UOt,g--,m++;++g<m;)if(A===Mde&&(y=h[v]||1),A=n.charCodeAt(g),A===Fde){if(D=n.charCodeAt(g+1),D===zOt||D===Mde||D===VOt||D===HOt||D===Fde||D===GOt||D!==D||r&&D===r){x+=qw(A),y++;continue}for(M=g+1,L=M,G=M,D===KOt?(G=++L,D=n.charCodeAt(G),D===YOt||D===ZOt?(N=IJ,G=++L):N=DJ):N=E_,w="",$="",T="",z=L8[N],G--;++G<m&&(D=n.charCodeAt(G),!!z(D));)T+=qw(D),N===E_&&BOt.call(jde,T)&&(w=T,$=jde[T]);S=n.charCodeAt(G)===WOt,S&&(G++,C=N===E_?FOt(T):!1,C&&(w=T,$=C)),X=1+G-M,!S&&!i||(T?N===E_?(S&&!$?R(HBe,1):(w!==T&&(G=L+w.length,X=1+G-L,S=!1),S||(P=w?BBe:zBe,e.attribute?(D=n.charCodeAt(G),D===qOt?(R(P,X),$=null):NBe(D)?$=null:R(P,X)):R(P,X))),I=$):(S||R(UBe,X),I=parseInt(T,RJ[N]),ePt(I)?(R(WBe,X),I=qw(XOt)):I in Lde?(R(aG,X),I=Lde[I]):(O="",tPt(I)&&R(aG,X),I>65535&&(I-=65536,O+=qw(I>>>10|55296),I=56320|I&1023),I=O+qw(I))):N!==E_&&R(VBe,X)),I?(K(),B=ne(),g=G-1,y+=G-M+1,_.push(I),H=ne(),H.offset++,s&&s.call(c,I,{start:B,end:H},n.slice(M-1,G)),B=H):(T=n.slice(M-1,G),x+=T,y+=T.length,g=G-1)}else A===10&&(b++,v++,y=0),A===A?(x+=qw(A),y++):K();return _.join("");function ne(){return{line:b,column:y,offset:g+(f.offset||0)}}function le(Q,re){var se=ne();se.column+=re,se.offset+=re,a.call(u,Dy[Q],se,Q)}function K(){x&&(_.push(x),o&&o.call(l,x,{start:B,end:ne()}),x="")}}function ePt(n){return n>=55296&&n<=57343||n>1114111}function tPt(n){return n>=1&&n<=8||n===11||n>=13&&n<=31||n>=127&&n<=159||n>=64976&&n<=65007||(n&65535)===65535||(n&65535)===65534}var GBe={exports:{}};(function(n){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var r=function(i){var o=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,s=0,a={},l={manual:i.Prism&&i.Prism.manual,disableWorkerMessageHandler:i.Prism&&i.Prism.disableWorkerMessageHandler,util:{encode:function _(w){return w instanceof c?new c(w.type,_(w.content),w.alias):Array.isArray(w)?w.map(_):w.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(_){return Object.prototype.toString.call(_).slice(8,-1)},objId:function(_){return _.__id||Object.defineProperty(_,"__id",{value:++s}),_.__id},clone:function _(w,C){C=C||{};var S,T;switch(l.util.type(w)){case"Object":if(T=l.util.objId(w),C[T])return C[T];S={},C[T]=S;for(var A in w)w.hasOwnProperty(A)&&(S[A]=_(w[A],C));return S;case"Array":return T=l.util.objId(w),C[T]?C[T]:(S=[],C[T]=S,w.forEach(function(I,D){S[D]=_(I,C)}),S);default:return w}},getLanguage:function(_){for(;_;){var w=o.exec(_.className);if(w)return w[1].toLowerCase();_=_.parentElement}return"none"},setLanguage:function(_,w){_.className=_.className.replace(RegExp(o,"gi"),""),_.classList.add("language-"+w)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(S){var _=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(S.stack)||[])[1];if(_){var w=document.getElementsByTagName("script");for(var C in w)if(w[C].src==_)return w[C]}return null}},isActive:function(_,w,C){for(var S="no-"+w;_;){var T=_.classList;if(T.contains(w))return!0;if(T.contains(S))return!1;_=_.parentElement}return!!C}},languages:{plain:a,plaintext:a,text:a,txt:a,extend:function(_,w){var C=l.util.clone(l.languages[_]);for(var S in w)C[S]=w[S];return C},insertBefore:function(_,w,C,S){S=S||l.languages;var T=S[_],A={};for(var I in T)if(T.hasOwnProperty(I)){if(I==w)for(var D in C)C.hasOwnProperty(D)&&(A[D]=C[D]);C.hasOwnProperty(I)||(A[I]=T[I])}var R=S[_];return S[_]=A,l.languages.DFS(l.languages,function(P,O){O===R&&P!=_&&(this[P]=A)}),A},DFS:function _(w,C,S,T){T=T||{};var A=l.util.objId;for(var I in w)if(w.hasOwnProperty(I)){C.call(w,I,w[I],S||I);var D=w[I],R=l.util.type(D);R==="Object"&&!T[A(D)]?(T[A(D)]=!0,_(D,C,null,T)):R==="Array"&&!T[A(D)]&&(T[A(D)]=!0,_(D,C,I,T))}}},plugins:{},highlightAll:function(_,w){l.highlightAllUnder(document,_,w)},highlightAllUnder:function(_,w,C){var S={callback:C,container:_,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};l.hooks.run("before-highlightall",S),S.elements=Array.prototype.slice.apply(S.container.querySelectorAll(S.selector)),l.hooks.run("before-all-elements-highlight",S);for(var T=0,A;A=S.elements[T++];)l.highlightElement(A,w===!0,S.callback)},highlightElement:function(_,w,C){var S=l.util.getLanguage(_),T=l.languages[S];l.util.setLanguage(_,S);var A=_.parentElement;A&&A.nodeName.toLowerCase()==="pre"&&l.util.setLanguage(A,S);var I=_.textContent,D={element:_,language:S,grammar:T,code:I};function R(O){D.highlightedCode=O,l.hooks.run("before-insert",D),D.element.innerHTML=D.highlightedCode,l.hooks.run("after-highlight",D),l.hooks.run("complete",D),C&&C.call(D.element)}if(l.hooks.run("before-sanity-check",D),A=D.element.parentElement,A&&A.nodeName.toLowerCase()==="pre"&&!A.hasAttribute("tabindex")&&A.setAttribute("tabindex","0"),!D.code){l.hooks.run("complete",D),C&&C.call(D.element);return}if(l.hooks.run("before-highlight",D),!D.grammar){R(l.util.encode(D.code));return}if(w&&i.Worker){var P=new Worker(l.filename);P.onmessage=function(O){R(O.data)},P.postMessage(JSON.stringify({language:D.language,code:D.code,immediateClose:!0}))}else R(l.highlight(D.code,D.grammar,D.language))},highlight:function(_,w,C){var S={code:_,grammar:w,language:C};if(l.hooks.run("before-tokenize",S),!S.grammar)throw new Error('The language "'+S.language+'" has no grammar.');return S.tokens=l.tokenize(S.code,S.grammar),l.hooks.run("after-tokenize",S),c.stringify(l.util.encode(S.tokens),S.language)},tokenize:function(_,w){var C=w.rest;if(C){for(var S in C)w[S]=C[S];delete w.rest}var T=new h;return m(T,T.head,_),f(_,T,w,T.head,0),v(T)},hooks:{all:{},add:function(_,w){var C=l.hooks.all;C[_]=C[_]||[],C[_].push(w)},run:function(_,w){var C=l.hooks.all[_];if(!(!C||!C.length))for(var S=0,T;T=C[S++];)T(w)}},Token:c};i.Prism=l;function c(_,w,C,S){this.type=_,this.content=w,this.alias=C,this.length=(S||"").length|0}c.stringify=function _(w,C){if(typeof w=="string")return w;if(Array.isArray(w)){var S="";return w.forEach(function(R){S+=_(R,C)}),S}var T={type:w.type,content:_(w.content,C),tag:"span",classes:["token",w.type],attributes:{},language:C},A=w.alias;A&&(Array.isArray(A)?Array.prototype.push.apply(T.classes,A):T.classes.push(A)),l.hooks.run("wrap",T);var I="";for(var D in T.attributes)I+=" "+D+'="'+(T.attributes[D]||"").replace(/"/g,"&quot;")+'"';return"<"+T.tag+' class="'+T.classes.join(" ")+'"'+I+">"+T.content+"</"+T.tag+">"};function u(_,w,C,S){_.lastIndex=w;var T=_.exec(C);if(T&&S&&T[1]){var A=T[1].length;T.index+=A,T[0]=T[0].slice(A)}return T}function f(_,w,C,S,T,A){for(var I in C)if(!(!C.hasOwnProperty(I)||!C[I])){var D=C[I];D=Array.isArray(D)?D:[D];for(var R=0;R<D.length;++R){if(A&&A.cause==I+","+R)return;var P=D[R],O=P.inside,$=!!P.lookbehind,L=!!P.greedy,M=P.alias;if(L&&!P.pattern.global){var N=P.pattern.toString().match(/[imsuy]*$/)[0];P.pattern=RegExp(P.pattern.source,N+"g")}for(var z=P.pattern||P,B=S.next,H=T;B!==w.tail&&!(A&&H>=A.reach);H+=B.value.length,B=B.next){var X=B.value;if(w.length>_.length)return;if(!(X instanceof c)){var G=1,ne;if(L){if(ne=u(z,H,_,$),!ne||ne.index>=_.length)break;var re=ne.index,le=ne.index+ne[0].length,K=H;for(K+=B.value.length;re>=K;)B=B.next,K+=B.value.length;if(K-=B.value.length,H=K,B.value instanceof c)continue;for(var Q=B;Q!==w.tail&&(K<le||typeof Q.value=="string");Q=Q.next)G++,K+=Q.value.length;G--,X=_.slice(H,K),ne.index-=H}else if(ne=u(z,0,X,$),!ne)continue;var re=ne.index,se=ne[0],de=X.slice(0,re),fe=X.slice(re+se.length),we=H+X.length;A&&we>A.reach&&(A.reach=we);var ye=B.prev;de&&(ye=m(w,ye,de),H+=de.length),g(w,ye,G);var ve=new c(I,O?l.tokenize(se,O):se,M,se);if(B=m(w,ye,ve),fe&&m(w,B,fe),G>1){var _e={cause:I+","+R,reach:we};f(_,w,C,B.prev,H,_e),A&&_e.reach>A.reach&&(A.reach=_e.reach)}}}}}}function h(){var _={value:null,prev:null,next:null},w={value:null,prev:_,next:null};_.next=w,this.head=_,this.tail=w,this.length=0}function m(_,w,C){var S=w.next,T={value:C,prev:w,next:S};return w.next=T,S.prev=T,_.length++,T}function g(_,w,C){for(var S=w.next,T=0;T<C&&S!==_.tail;T++)S=S.next;w.next=S,S.prev=w,_.length-=T}function v(_){for(var w=[],C=_.head.next;C!==_.tail;)w.push(C.value),C=C.next;return w}if(!i.document)return i.addEventListener&&(l.disableWorkerMessageHandler||i.addEventListener("message",function(_){var w=JSON.parse(_.data),C=w.language,S=w.code,T=w.immediateClose;i.postMessage(l.highlight(S,l.languages[C],C)),T&&i.close()},!1)),l;var y=l.util.currentScript();y&&(l.filename=y.src,y.hasAttribute("data-manual")&&(l.manual=!0));function b(){l.manual||l.highlightAll()}if(!l.manual){var x=document.readyState;x==="loading"||x==="interactive"&&y&&y.defer?document.addEventListener("DOMContentLoaded",b):window.requestAnimationFrame?window.requestAnimationFrame(b):window.setTimeout(b,16)}return l}(e);n.exports&&(n.exports=r),typeof _a<"u"&&(_a.Prism=r)})(GBe);var nPt=GBe.exports,rPt=OJ;OJ.displayName="markup";OJ.aliases=["html","mathml","svg","xml","ssml","atom","rss"];function OJ(n){n.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},n.languages.markup.tag.inside["attr-value"].inside.entity=n.languages.markup.entity,n.languages.markup.doctype.inside["internal-subset"].inside=n.languages.markup,n.hooks.add("wrap",function(e){e.type==="entity"&&(e.attributes.title=e.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(n.languages.markup.tag,"addInlined",{value:function(r,i){var o={};o["language-"+i]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:n.languages[i]},o.cdata=/^<!\[CDATA\[|\]\]>$/i;var s={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:o}};s["language-"+i]={pattern:/[\s\S]+/,inside:n.languages[i]};var a={};a[r]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return r}),"i"),lookbehind:!0,greedy:!0,inside:s},n.languages.insertBefore("markup","cdata",a)}}),Object.defineProperty(n.languages.markup.tag,"addAttribute",{value:function(e,r){n.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[r,"language-"+r],inside:n.languages[r]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),n.languages.html=n.languages.markup,n.languages.mathml=n.languages.markup,n.languages.svg=n.languages.markup,n.languages.xml=n.languages.extend("markup",{}),n.languages.ssml=n.languages.xml,n.languages.atom=n.languages.xml,n.languages.rss=n.languages.xml}var iPt=PJ;PJ.displayName="css";PJ.aliases=[];function PJ(n){(function(e){var r=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+r.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+r.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+r.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:r,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var i=e.languages.markup;i&&(i.tag.addInlined("style","css"),i.tag.addAttribute("style","css"))})(n)}var oPt=jJ;jJ.displayName="clike";jJ.aliases=[];function jJ(n){n.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}var qBe=LJ;LJ.displayName="javascript";LJ.aliases=["js"];function LJ(n){n.languages.javascript=n.languages.extend("clike",{"class-name":[n.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),n.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,n.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:n.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:n.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:n.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:n.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:n.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),n.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:n.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),n.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),n.languages.markup&&(n.languages.markup.tag.addInlined("script","javascript"),n.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),n.languages.js=n.languages.javascript}const sPt=Tt(qBe);var dT=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof _a=="object"?_a:{},aPt=EPt();dT.Prism={manual:!0,disableWorkerMessageHandler:!0};var lPt=EDt,cPt=NOt,KBe=nPt,uPt=rPt,dPt=iPt,fPt=oPt,hPt=qBe;aPt();var $J={}.hasOwnProperty;function YBe(){}YBe.prototype=KBe;var aa=new YBe,pPt=aa;aa.highlight=gPt;aa.register=qI;aa.alias=mPt;aa.registered=vPt;aa.listLanguages=yPt;qI(uPt);qI(dPt);qI(fPt);qI(hPt);aa.util.encode=wPt;aa.Token.stringify=bPt;function qI(n){if(typeof n!="function"||!n.displayName)throw new Error("Expected `function` for `grammar`, got `"+n+"`");aa.languages[n.displayName]===void 0&&n(aa)}function mPt(n,e){var r=aa.languages,i=n,o,s,a,l;e&&(i={},i[n]=e);for(o in i)for(s=i[o],s=typeof s=="string"?[s]:s,a=s.length,l=-1;++l<a;)r[s[l]]=r[o]}function gPt(n,e){var r=KBe.highlight,i;if(typeof n!="string")throw new Error("Expected `string` for `value`, got `"+n+"`");if(aa.util.type(e)==="Object")i=e,e=null;else{if(typeof e!="string")throw new Error("Expected `string` for `name`, got `"+e+"`");if($J.call(aa.languages,e))i=aa.languages[e];else throw new Error("Unknown language: `"+e+"` is not registered")}return r.call(this,n,i,e)}function vPt(n){if(typeof n!="string")throw new Error("Expected `string` for `language`, got `"+n+"`");return $J.call(aa.languages,n)}function yPt(){var n=aa.languages,e=[],r;for(r in n)$J.call(n,r)&&typeof n[r]=="object"&&e.push(r);return e}function bPt(n,e,r){var i;return typeof n=="string"?{type:"text",value:n}:aa.util.type(n)==="Array"?xPt(n,e):(i={type:n.type,content:aa.Token.stringify(n.content,e,r),tag:"span",classes:["token",n.type],attributes:{},language:e,parent:r},n.alias&&(i.classes=i.classes.concat(n.alias)),aa.hooks.run("wrap",i),lPt(i.tag+"."+i.classes.join("."),_Pt(i.attributes),i.content))}function xPt(n,e){for(var r=[],i=n.length,o=-1,s;++o<i;)s=n[o],s!==""&&s!==null&&s!==void 0&&r.push(s);for(o=-1,i=r.length;++o<i;)s=r[o],r[o]=aa.Token.stringify(s,e,r);return r}function wPt(n){return n}function _Pt(n){var e;for(e in n)n[e]=cPt(n[e]);return n}function EPt(){var n="Prism"in dT,e=n?dT.Prism:void 0;return r;function r(){n?dT.Prism=e:delete dT.Prism,n=void 0,e=void 0}}var ZBe={},CPt=p;function SPt(n,e,r){if(n.tagName){var i=n.properties&&Array.isArray(n.properties.className)?n.properties.className.join(" "):n.properties.className;return CPt.createElement(n.tagName,Object.assign({key:"fract-".concat(r,"-").concat(e)},n.properties,{className:i}),n.children&&n.children.map(XBe(r+1)))}return n.value}function XBe(n){return function(r,i){return SPt(r,i,n)}}ZBe.depth=XBe;var QBe=JBe;function JBe(n){if(n==null)return IPt;if(typeof n=="string")return APt(n);if(typeof n=="object")return"length"in n?TPt(n):kPt(n);if(typeof n=="function")return n;throw new Error("Expected function, string, or object as test")}function kPt(n){return e;function e(r){var i;for(i in n)if(r[i]!==n[i])return!1;return!0}}function TPt(n){for(var e=[],r=-1;++r<n.length;)e[r]=JBe(n[r]);return i;function i(){for(var o=-1;++o<e.length;)if(e[o].apply(this,arguments))return!0;return!1}}function APt(n){return e;function e(r){return!!(r&&r.type===n)}}function IPt(){return!0}var DPt=QBe,RPt=PPt,OPt={}.hasOwnProperty;function PPt(n,e,r){var i=DPt(r||e),o=e.cascade==null?!0:e.cascade;return s(n,null,null);function s(a,l,c){var u,f,h,m,g;if(!i(a,l,c))return null;if(a.children){for(u=[],f=-1;++f<a.children.length;)h=s(a.children[f],f,a),h&&u.push(h);if(o&&a.children.length&&!u.length)return null}m={};for(g in a)OPt.call(a,g)&&(m[g]=g==="children"?u:a[g]);return m}}var jPt=LPt;function LPt(n){return n}var $Pt=$8,MPt=QBe,FPt=jPt,e7e=!0,t7e="skip",lG=!1;$8.CONTINUE=e7e;$8.SKIP=t7e;$8.EXIT=lG;function $8(n,e,r,i){var o,s;typeof e=="function"&&typeof r!="function"&&(i=r,r=e,e=null),s=MPt(e),o=i?-1:1,a(n,null,[])();function a(l,c,u){var f=typeof l=="object"&&l!==null?l:{},h;return typeof f.type=="string"&&(h=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0,m.displayName="node ("+FPt(f.type+(h?"<"+h+">":""))+")"),m;function m(){var g=u.concat(l),v=[],y,b;if((!e||s(l,c,u[u.length-1]||null))&&(v=NPt(r(l,u)),v[0]===lG))return v;if(l.children&&v[0]!==t7e)for(b=(i?l.children.length:-1)+o;b>-1&&b<l.children.length;){if(y=a(l.children[b],b,g)(),y[0]===lG)return y;b=typeof y[1]=="number"?y[1]:b+o}return v}}}function NPt(n){return n!==null&&typeof n=="object"&&"length"in n?n:typeof n=="number"?[e7e,n]:[n]}var BPt=typeof WeakMap=="function"?KI:YI;function KI(){this.map=new WeakMap}KI.prototype.has=function(n){return this.map.has(n)};KI.prototype.set=function(n,e){return this.map.set(n,e),this};KI.prototype.get=function(n){return this.map.get(n)};KI.prototype.clear=function(){};function YI(){this.keys=[],this.values=[]}YI.prototype.has=function(n){return this.keys.indexOf(n)!==-1};YI.prototype.set=function(n,e){var r=this.keys.indexOf(n);return r===-1?(this.keys.push(n),this.values.push(e)):this.values[r]=e,this};YI.prototype.get=function(n){var e=this.keys.indexOf(n);return e===-1?void 0:this.values[e]};YI.prototype.clear=function(){this.keys=[],this.values=[]};var UPt=RPt,Nde=$Pt,oU=BPt;function n7e(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{lineNumber:1};return n.reduce(function(r,i){var o=e.lineNumber;if(i.type==="text"){if(i.value.indexOf(`
`)===-1)return i.lineStart=o,i.lineEnd=o,r.nodes.push(i),r;for(var s=i.value.split(`
`),a=0;a<s.length;a++){var l=a===0?e.lineNumber:++e.lineNumber;r.nodes.push({type:"text",value:a===s.length-1?s[a]:"".concat(s[a],`
`),lineStart:l,lineEnd:l})}return r.lineNumber=e.lineNumber,r}if(i.children){var c=n7e(i.children,e),u=c.nodes[0],f=c.nodes[c.nodes.length-1];return i.lineStart=u?u.lineStart:o,i.lineEnd=f?f.lineEnd:o,i.children=c.nodes,r.lineNumber=c.lineNumber,r.nodes.push(i),r}return r.nodes.push(i),r},{nodes:[],lineNumber:e.lineNumber})}function zPt(n,e){var r={type:"root",children:e},i=new oU,o=new oU,s=new oU,a=[];function l(h,m,g){a.push(m),g.forEach(function(_){h.has(_)||(h.set(_,Object.assign({},_,{children:[]})),_!==r&&a.push(_))});for(var v=g.length;v--;){var y=h.get(g[v]),b=g[v+1],x=h.get(b)||m;y.children.indexOf(x)===-1&&y.children.push(x)}}Nde(r,function(h,m){if(!h.children){if(h.lineStart<n){l(i,h,m);return}if(h.lineStart===n){l(o,h,m);return}h.lineEnd>n&&a.some(function(g){return m.indexOf(g)!==-1})&&l(s,h,m)}});var c=UPt(r,function(h){return a.indexOf(h)===-1}),u=function(m){var g=m.get(r);return g?(Nde(g,function(v,y){if(v.children){v.lineStart=0,v.lineEnd=0;return}y.forEach(function(b){b.lineStart=Math.max(b.lineStart,v.lineStart),b.lineEnd=Math.max(b.lineEnd,v.lineEnd)})}),g.children):[]},f=[].concat(u(i),u(o),u(s),c?c.children:[]);return i.clear(),o.clear(),s.clear(),f}function VPt(n,e,r){var i=e.className||"refractor-marker";return{type:"element",tagName:e.component||"div",properties:e.component?Object.assign({},r,{className:i}):{className:i},children:n,lineStart:e.line,lineEnd:n[n.length-1].lineEnd,isMarker:!0}}function HPt(n,e,r){if(e.length===0||n.length===0)return n;for(var i=e.reduce(function(h,m){return zPt(m.line,h)},n),o=[],s=0,a=0;a<e.length;a++){for(var l=e[a],c=i[s];c&&c.lineEnd<l.line;c=i[++s])o.push(c);for(var u=[],f=i[s];f&&f.lineEnd===l.line;f=i[++s])u.push(f);u.length>0&&o.push(VPt(u,l,r))}for(;s<i.length;)o.push(i[s++]);return o}function WPt(n,e){var r=e.markers.map(function(o){return o.line?o:{line:o}}).sort(function(o,s){return o.line-s.line}),i=n7e(n).nodes;return HPt(i,r,e)}var GPt=WPt,qPt=p,Pu=kBe,MJ=pPt,KPt=ZBe,YPt=GPt,Bde=qPt.createElement;function ZI(n){var e="language-".concat(n.language),r={className:e},i={className:[n.className,e].filter(Boolean).join(" ")};n.inline&&(r.style={display:"inline"},r.className=n.className);var o=MJ.highlight(n.value,n.language);n.markers&&n.markers.length>0&&(o=YPt(o,{markers:n.markers}));var s=o.length===0?n.value:o.map(KPt.depth(0)),a=Bde("code",r,s);return n.inline?a:Bde("pre",i,a)}ZI.propTypes={className:Pu.string,inline:Pu.bool,language:Pu.string.isRequired,value:Pu.string.isRequired,markers:Pu.arrayOf(Pu.oneOfType([Pu.number,Pu.shape({line:Pu.number.isRequired,className:Pu.string,component:Pu.oneOfType([Pu.node,Pu.func])})]))};ZI.defaultProps={className:"refractor",inline:!1};ZI.registerLanguage=function(n){return MJ.register(n)};ZI.hasLanguage=function(n){return MJ.registered(n)};var ZPt=ZI;const Cg=Tt(ZPt),XPt=["top","right","bottom","left"],OC=Math.min,Wb=Math.max,zM=Math.round,TO=Math.floor,ay=n=>({x:n,y:n}),QPt={left:"right",right:"left",bottom:"top",top:"bottom"},JPt={start:"end",end:"start"};function cG(n,e,r){return Wb(n,OC(e,r))}function kS(n,e){return typeof n=="function"?n(e):n}function mx(n){return n.split("-")[0]}function XI(n){return n.split("-")[1]}function r7e(n){return n==="x"?"y":"x"}function FJ(n){return n==="y"?"height":"width"}function M8(n){return["top","bottom"].includes(mx(n))?"y":"x"}function NJ(n){return r7e(M8(n))}function ejt(n,e,r){r===void 0&&(r=!1);const i=XI(n),o=NJ(n),s=FJ(o);let a=o==="x"?i===(r?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=VM(a)),[a,VM(a)]}function tjt(n){const e=VM(n);return[uG(n),e,uG(e)]}function uG(n){return n.replace(/start|end/g,e=>JPt[e])}function njt(n,e,r){const i=["left","right"],o=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return r?e?o:i:e?i:o;case"left":case"right":return e?s:a;default:return[]}}function rjt(n,e,r,i){const o=XI(n);let s=njt(mx(n),r==="start",i);return o&&(s=s.map(a=>a+"-"+o),e&&(s=s.concat(s.map(uG)))),s}function VM(n){return n.replace(/left|right|bottom|top/g,e=>QPt[e])}function ijt(n){return{top:0,right:0,bottom:0,left:0,...n}}function i7e(n){return typeof n!="number"?ijt(n):{top:n,right:n,bottom:n,left:n}}function HM(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function Ude(n,e,r){let{reference:i,floating:o}=n;const s=M8(e),a=NJ(e),l=FJ(a),c=mx(e),u=s==="y",f=i.x+i.width/2-o.width/2,h=i.y+i.height/2-o.height/2,m=i[l]/2-o[l]/2;let g;switch(c){case"top":g={x:f,y:i.y-o.height};break;case"bottom":g={x:f,y:i.y+i.height};break;case"right":g={x:i.x+i.width,y:h};break;case"left":g={x:i.x-o.width,y:h};break;default:g={x:i.x,y:i.y}}switch(XI(e)){case"start":g[a]-=m*(r&&u?-1:1);break;case"end":g[a]+=m*(r&&u?-1:1);break}return g}const ojt=async(n,e,r)=>{const{placement:i="bottom",strategy:o="absolute",middleware:s=[],platform:a}=r,l=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:n,floating:e,strategy:o}),{x:f,y:h}=Ude(u,i,c),m=i,g={},v=0;for(let y=0;y<l.length;y++){const{name:b,fn:x}=l[y],{x:_,y:w,data:C,reset:S}=await x({x:f,y:h,initialPlacement:i,placement:m,strategy:o,middlewareData:g,rects:u,platform:a,elements:{reference:n,floating:e}});f=_??f,h=w??h,g={...g,[b]:{...g[b],...C}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(m=S.placement),S.rects&&(u=S.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:o}):S.rects),{x:f,y:h}=Ude(u,m,c)),y=-1)}return{x:f,y:h,placement:m,strategy:o,middlewareData:g}};async function PC(n,e){var r;e===void 0&&(e={});const{x:i,y:o,platform:s,rects:a,elements:l,strategy:c}=n,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=kS(e,n),v=i7e(g),b=l[m?h==="floating"?"reference":"floating":h],x=HM(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(b)))==null||r?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),_=h==="floating"?{...a.floating,x:i,y:o}:a.reference,w=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),C=await(s.isElement==null?void 0:s.isElement(w))?await(s.getScale==null?void 0:s.getScale(w))||{x:1,y:1}:{x:1,y:1},S=HM(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:_,offsetParent:w,strategy:c}):_);return{top:(x.top-S.top+v.top)/C.y,bottom:(S.bottom-x.bottom+v.bottom)/C.y,left:(x.left-S.left+v.left)/C.x,right:(S.right-x.right+v.right)/C.x}}const sjt=n=>({name:"arrow",options:n,async fn(e){const{x:r,y:i,placement:o,rects:s,platform:a,elements:l,middlewareData:c}=e,{element:u,padding:f=0}=kS(n,e)||{};if(u==null)return{};const h=i7e(f),m={x:r,y:i},g=NJ(o),v=FJ(g),y=await a.getDimensions(u),b=g==="y",x=b?"top":"left",_=b?"bottom":"right",w=b?"clientHeight":"clientWidth",C=s.reference[v]+s.reference[g]-m[g]-s.floating[v],S=m[g]-s.reference[g],T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(u));let A=T?T[w]:0;(!A||!await(a.isElement==null?void 0:a.isElement(T)))&&(A=l.floating[w]||s.floating[v]);const I=C/2-S/2,D=A/2-y[v]/2-1,R=OC(h[x],D),P=OC(h[_],D),O=R,$=A-y[v]-P,L=A/2-y[v]/2+I,M=cG(O,L,$),N=!c.arrow&&XI(o)!=null&&L!==M&&s.reference[v]/2-(L<O?R:P)-y[v]/2<0,z=N?L<O?L-O:L-$:0;return{[g]:m[g]+z,data:{[g]:M,centerOffset:L-M-z,...N&&{alignmentOffset:z}},reset:N}}}),ajt=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var r,i;const{placement:o,middlewareData:s,rects:a,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...b}=kS(n,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const x=mx(o),_=mx(l)===l,w=await(c.isRTL==null?void 0:c.isRTL(u.floating)),C=m||(_||!y?[VM(l)]:tjt(l));!m&&v!=="none"&&C.push(...rjt(l,y,v,w));const S=[l,...C],T=await PC(e,b),A=[];let I=((i=s.flip)==null?void 0:i.overflows)||[];if(f&&A.push(T[x]),h){const O=ejt(o,a,w);A.push(T[O[0]],T[O[1]])}if(I=[...I,{placement:o,overflows:A}],!A.every(O=>O<=0)){var D,R;const O=(((D=s.flip)==null?void 0:D.index)||0)+1,$=S[O];if($)return{data:{index:O,overflows:I},reset:{placement:$}};let L=(R=I.filter(M=>M.overflows[0]<=0).sort((M,N)=>M.overflows[1]-N.overflows[1])[0])==null?void 0:R.placement;if(!L)switch(g){case"bestFit":{var P;const M=(P=I.map(N=>[N.placement,N.overflows.filter(z=>z>0).reduce((z,B)=>z+B,0)]).sort((N,z)=>N[1]-z[1])[0])==null?void 0:P[0];M&&(L=M);break}case"initialPlacement":L=l;break}if(o!==L)return{reset:{placement:L}}}return{}}}};function zde(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function Vde(n){return XPt.some(e=>n[e]>=0)}const ljt=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:r}=e,{strategy:i="referenceHidden",...o}=kS(n,e);switch(i){case"referenceHidden":{const s=await PC(e,{...o,elementContext:"reference"}),a=zde(s,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Vde(a)}}}case"escaped":{const s=await PC(e,{...o,altBoundary:!0}),a=zde(s,r.floating);return{data:{escapedOffsets:a,escaped:Vde(a)}}}default:return{}}}}};async function cjt(n,e){const{placement:r,platform:i,elements:o}=n,s=await(i.isRTL==null?void 0:i.isRTL(o.floating)),a=mx(r),l=XI(r),c=M8(r)==="y",u=["left","top"].includes(a)?-1:1,f=s&&c?-1:1,h=kS(e,n);let{mainAxis:m,crossAxis:g,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return l&&typeof v=="number"&&(g=l==="end"?v*-1:v),c?{x:g*f,y:m*u}:{x:m*u,y:g*f}}const F8=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var r,i;const{x:o,y:s,placement:a,middlewareData:l}=e,c=await cjt(e,n);return a===((r=l.offset)==null?void 0:r.placement)&&(i=l.arrow)!=null&&i.alignmentOffset?{}:{x:o+c.x,y:s+c.y,data:{...c,placement:a}}}}},ujt=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:r,y:i,placement:o}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:l={fn:b=>{let{x,y:_}=b;return{x,y:_}}},...c}=kS(n,e),u={x:r,y:i},f=await PC(e,c),h=M8(mx(o)),m=r7e(h);let g=u[m],v=u[h];if(s){const b=m==="y"?"top":"left",x=m==="y"?"bottom":"right",_=g+f[b],w=g-f[x];g=cG(_,g,w)}if(a){const b=h==="y"?"top":"left",x=h==="y"?"bottom":"right",_=v+f[b],w=v-f[x];v=cG(_,v,w)}const y=l.fn({...e,[m]:g,[h]:v});return{...y,data:{x:y.x-r,y:y.y-i}}}}};function ly(n){return o7e(n)?(n.nodeName||"").toLowerCase():"#document"}function Ju(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function qg(n){var e;return(e=(o7e(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function o7e(n){return n instanceof Node||n instanceof Ju(n).Node}function Sg(n){return n instanceof Element||n instanceof Ju(n).Element}function Up(n){return n instanceof HTMLElement||n instanceof Ju(n).HTMLElement}function Hde(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Ju(n).ShadowRoot}function QI(n){const{overflow:e,overflowX:r,overflowY:i,display:o}=hf(n);return/auto|scroll|overlay|hidden|clip/.test(e+i+r)&&!["inline","contents"].includes(o)}function djt(n){return["table","td","th"].includes(ly(n))}function BJ(n){const e=UJ(),r=hf(n);return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(r.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(r.contain||"").includes(i))}function fjt(n){let e=jC(n);for(;Up(e)&&!N8(e);){if(BJ(e))return e;e=jC(e)}return null}function UJ(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function N8(n){return["html","body","#document"].includes(ly(n))}function hf(n){return Ju(n).getComputedStyle(n)}function B8(n){return Sg(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function jC(n){if(ly(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Hde(n)&&n.host||qg(n);return Hde(e)?e.host:e}function s7e(n){const e=jC(n);return N8(e)?n.ownerDocument?n.ownerDocument.body:n.body:Up(e)&&QI(e)?e:s7e(e)}function t5(n,e,r){var i;e===void 0&&(e=[]),r===void 0&&(r=!0);const o=s7e(n),s=o===((i=n.ownerDocument)==null?void 0:i.body),a=Ju(o);return s?e.concat(a,a.visualViewport||[],QI(o)?o:[],a.frameElement&&r?t5(a.frameElement):[]):e.concat(o,t5(o,[],r))}function a7e(n){const e=hf(n);let r=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const o=Up(n),s=o?n.offsetWidth:r,a=o?n.offsetHeight:i,l=zM(r)!==s||zM(i)!==a;return l&&(r=s,i=a),{width:r,height:i,$:l}}function zJ(n){return Sg(n)?n:n.contextElement}function zE(n){const e=zJ(n);if(!Up(e))return ay(1);const r=e.getBoundingClientRect(),{width:i,height:o,$:s}=a7e(e);let a=(s?zM(r.width):r.width)/i,l=(s?zM(r.height):r.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const hjt=ay(0);function l7e(n){const e=Ju(n);return!UJ()||!e.visualViewport?hjt:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function pjt(n,e,r){return e===void 0&&(e=!1),!r||e&&r!==Ju(n)?!1:e}function gx(n,e,r,i){e===void 0&&(e=!1),r===void 0&&(r=!1);const o=n.getBoundingClientRect(),s=zJ(n);let a=ay(1);e&&(i?Sg(i)&&(a=zE(i)):a=zE(n));const l=pjt(s,r,i)?l7e(s):ay(0);let c=(o.left+l.x)/a.x,u=(o.top+l.y)/a.y,f=o.width/a.x,h=o.height/a.y;if(s){const m=Ju(s),g=i&&Sg(i)?Ju(i):i;let v=m,y=v.frameElement;for(;y&&i&&g!==v;){const b=zE(y),x=y.getBoundingClientRect(),_=hf(y),w=x.left+(y.clientLeft+parseFloat(_.paddingLeft))*b.x,C=x.top+(y.clientTop+parseFloat(_.paddingTop))*b.y;c*=b.x,u*=b.y,f*=b.x,h*=b.y,c+=w,u+=C,v=Ju(y),y=v.frameElement}}return HM({width:f,height:h,x:c,y:u})}const mjt=[":popover-open",":modal"];function c7e(n){return mjt.some(e=>{try{return n.matches(e)}catch{return!1}})}function gjt(n){let{elements:e,rect:r,offsetParent:i,strategy:o}=n;const s=o==="fixed",a=qg(i),l=e?c7e(e.floating):!1;if(i===a||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=ay(1);const f=ay(0),h=Up(i);if((h||!h&&!s)&&((ly(i)!=="body"||QI(a))&&(c=B8(i)),Up(i))){const m=gx(i);u=zE(i),f.x=m.x+i.clientLeft,f.y=m.y+i.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x,y:r.y*u.y-c.scrollTop*u.y+f.y}}function vjt(n){return Array.from(n.getClientRects())}function u7e(n){return gx(qg(n)).left+B8(n).scrollLeft}function yjt(n){const e=qg(n),r=B8(n),i=n.ownerDocument.body,o=Wb(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=Wb(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let a=-r.scrollLeft+u7e(n);const l=-r.scrollTop;return hf(i).direction==="rtl"&&(a+=Wb(e.clientWidth,i.clientWidth)-o),{width:o,height:s,x:a,y:l}}function bjt(n,e){const r=Ju(n),i=qg(n),o=r.visualViewport;let s=i.clientWidth,a=i.clientHeight,l=0,c=0;if(o){s=o.width,a=o.height;const u=UJ();(!u||u&&e==="fixed")&&(l=o.offsetLeft,c=o.offsetTop)}return{width:s,height:a,x:l,y:c}}function xjt(n,e){const r=gx(n,!0,e==="fixed"),i=r.top+n.clientTop,o=r.left+n.clientLeft,s=Up(n)?zE(n):ay(1),a=n.clientWidth*s.x,l=n.clientHeight*s.y,c=o*s.x,u=i*s.y;return{width:a,height:l,x:c,y:u}}function Wde(n,e,r){let i;if(e==="viewport")i=bjt(n,r);else if(e==="document")i=yjt(qg(n));else if(Sg(e))i=xjt(e,r);else{const o=l7e(n);i={...e,x:e.x-o.x,y:e.y-o.y}}return HM(i)}function d7e(n,e){const r=jC(n);return r===e||!Sg(r)||N8(r)?!1:hf(r).position==="fixed"||d7e(r,e)}function wjt(n,e){const r=e.get(n);if(r)return r;let i=t5(n,[],!1).filter(l=>Sg(l)&&ly(l)!=="body"),o=null;const s=hf(n).position==="fixed";let a=s?jC(n):n;for(;Sg(a)&&!N8(a);){const l=hf(a),c=BJ(a);!c&&l.position==="fixed"&&(o=null),(s?!c&&!o:!c&&l.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||QI(a)&&!c&&d7e(n,a))?i=i.filter(f=>f!==a):o=l,a=jC(a)}return e.set(n,i),i}function _jt(n){let{element:e,boundary:r,rootBoundary:i,strategy:o}=n;const a=[...r==="clippingAncestors"?wjt(e,this._c):[].concat(r),i],l=a[0],c=a.reduce((u,f)=>{const h=Wde(e,f,o);return u.top=Wb(h.top,u.top),u.right=OC(h.right,u.right),u.bottom=OC(h.bottom,u.bottom),u.left=Wb(h.left,u.left),u},Wde(e,l,o));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Ejt(n){const{width:e,height:r}=a7e(n);return{width:e,height:r}}function Cjt(n,e,r){const i=Up(e),o=qg(e),s=r==="fixed",a=gx(n,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=ay(0);if(i||!i&&!s)if((ly(e)!=="body"||QI(o))&&(l=B8(e)),i){const h=gx(e,!0,s,e);c.x=h.x+e.clientLeft,c.y=h.y+e.clientTop}else o&&(c.x=u7e(o));const u=a.left+l.scrollLeft-c.x,f=a.top+l.scrollTop-c.y;return{x:u,y:f,width:a.width,height:a.height}}function Gde(n,e){return!Up(n)||hf(n).position==="fixed"?null:e?e(n):n.offsetParent}function f7e(n,e){const r=Ju(n);if(!Up(n)||c7e(n))return r;let i=Gde(n,e);for(;i&&djt(i)&&hf(i).position==="static";)i=Gde(i,e);return i&&(ly(i)==="html"||ly(i)==="body"&&hf(i).position==="static"&&!BJ(i))?r:i||fjt(n)||r}const Sjt=async function(n){const e=this.getOffsetParent||f7e,r=this.getDimensions;return{reference:Cjt(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,...await r(n.floating)}}};function kjt(n){return hf(n).direction==="rtl"}const Tjt={convertOffsetParentRelativeRectToViewportRelativeRect:gjt,getDocumentElement:qg,getClippingRect:_jt,getOffsetParent:f7e,getElementRects:Sjt,getClientRects:vjt,getDimensions:Ejt,getScale:zE,isElement:Sg,isRTL:kjt};function Ajt(n,e){let r=null,i;const o=qg(n);function s(){var l;clearTimeout(i),(l=r)==null||l.disconnect(),r=null}function a(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const{left:u,top:f,width:h,height:m}=n.getBoundingClientRect();if(l||e(),!h||!m)return;const g=TO(f),v=TO(o.clientWidth-(u+h)),y=TO(o.clientHeight-(f+m)),b=TO(u),_={rootMargin:-g+"px "+-v+"px "+-y+"px "+-b+"px",threshold:Wb(0,OC(1,c))||1};let w=!0;function C(S){const T=S[0].intersectionRatio;if(T!==c){if(!w)return a();T?a(!1,T):i=setTimeout(()=>{a(!1,1e-7)},100)}w=!1}try{r=new IntersectionObserver(C,{..._,root:o.ownerDocument})}catch{r=new IntersectionObserver(C,_)}r.observe(n)}return a(!0),s}function U8(n,e,r,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=i,u=zJ(n),f=o||s?[...u?t5(u):[],...t5(e)]:[];f.forEach(x=>{o&&x.addEventListener("scroll",r,{passive:!0}),s&&x.addEventListener("resize",r)});const h=u&&l?Ajt(u,r):null;let m=-1,g=null;a&&(g=new ResizeObserver(x=>{let[_]=x;_&&_.target===u&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var w;(w=g)==null||w.observe(e)})),r()}),u&&!c&&g.observe(u),g.observe(e));let v,y=c?gx(n):null;c&&b();function b(){const x=gx(n);y&&(x.x!==y.x||x.y!==y.y||x.width!==y.width||x.height!==y.height)&&r(),y=x,v=requestAnimationFrame(b)}return r(),()=>{var x;f.forEach(_=>{o&&_.removeEventListener("scroll",r),s&&_.removeEventListener("resize",r)}),h==null||h(),(x=g)==null||x.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const z8=ujt,V8=ajt,h7e=ljt,WM=sjt,p7e=(n,e,r)=>{const i=new Map,o={platform:Tjt,...r},s={...o.platform,_c:i};return ojt(n,e,{...o,platform:s})};var m7e={exports:{}},fd={},g7e={exports:{}},v7e={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(B,H){var X=B.length;B.push(H);e:for(;0<X;){var G=X-1>>>1,ne=B[G];if(0<o(ne,H))B[G]=H,B[X]=ne,X=G;else break e}}function r(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var H=B[0],X=B.pop();if(X!==H){B[0]=X;e:for(var G=0,ne=B.length,le=ne>>>1;G<le;){var K=2*(G+1)-1,Q=B[K],re=K+1,se=B[re];if(0>o(Q,X))re<ne&&0>o(se,Q)?(B[G]=se,B[re]=X,G=re):(B[G]=Q,B[K]=X,G=K);else if(re<ne&&0>o(se,X))B[G]=se,B[re]=X,G=re;else break e}}return H}function o(B,H){var X=B.sortIndex-H.sortIndex;return X!==0?X:B.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();n.unstable_now=function(){return a.now()-l}}var c=[],u=[],f=1,h=null,m=3,g=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(B){for(var H=r(u);H!==null;){if(H.callback===null)i(u);else if(H.startTime<=B)i(u),H.sortIndex=H.expirationTime,e(c,H);else break;H=r(u)}}function C(B){if(y=!1,w(B),!v)if(r(c)!==null)v=!0,N(S);else{var H=r(u);H!==null&&z(C,H.startTime-B)}}function S(B,H){v=!1,y&&(y=!1,x(I),I=-1),g=!0;var X=m;try{for(w(H),h=r(c);h!==null&&(!(h.expirationTime>H)||B&&!P());){var G=h.callback;if(typeof G=="function"){h.callback=null,m=h.priorityLevel;var ne=G(h.expirationTime<=H);H=n.unstable_now(),typeof ne=="function"?h.callback=ne:h===r(c)&&i(c),w(H)}else i(c);h=r(c)}if(h!==null)var le=!0;else{var K=r(u);K!==null&&z(C,K.startTime-H),le=!1}return le}finally{h=null,m=X,g=!1}}var T=!1,A=null,I=-1,D=5,R=-1;function P(){return!(n.unstable_now()-R<D)}function O(){if(A!==null){var B=n.unstable_now();R=B;var H=!0;try{H=A(!0,B)}finally{H?$():(T=!1,A=null)}}else T=!1}var $;if(typeof _=="function")$=function(){_(O)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,M=L.port2;L.port1.onmessage=O,$=function(){M.postMessage(null)}}else $=function(){b(O,0)};function N(B){A=B,T||(T=!0,$())}function z(B,H){I=b(function(){B(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){v||g||(v=!0,N(S))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return r(c)},n.unstable_next=function(B){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var X=m;m=H;try{return B()}finally{m=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,H){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var X=m;m=B;try{return H()}finally{m=X}},n.unstable_scheduleCallback=function(B,H,X){var G=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?G+X:G):X=G,B){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=X+ne,B={id:f++,callback:H,priorityLevel:B,startTime:X,expirationTime:ne,sortIndex:-1},X>G?(B.sortIndex=X,e(u,B),r(c)===null&&B===r(u)&&(y?(x(I),I=-1):y=!0,z(C,X-G))):(B.sortIndex=ne,e(c,B),v||g||(v=!0,N(S))),B},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(B){var H=m;return function(){var X=m;m=H;try{return B.apply(this,arguments)}finally{m=X}}}})(v7e);g7e.exports=v7e;var Ijt=g7e.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y7e=p,od=Ijt;function Et(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b7e=new Set,n5={};function Kx(n,e){LC(n,e),LC(n+"Capture",e)}function LC(n,e){for(n5[n]=e,n=0;n<e.length;n++)b7e.add(e[n])}var kg=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dG=Object.prototype.hasOwnProperty,Djt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qde={},Kde={};function Rjt(n){return dG.call(Kde,n)?!0:dG.call(qde,n)?!1:Djt.test(n)?Kde[n]=!0:(qde[n]=!0,!1)}function Ojt(n,e,r,i){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Pjt(n,e,r,i){if(e===null||typeof e>"u"||Ojt(n,e,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rc(n,e,r,i,o,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var yl={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){yl[n]=new Rc(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];yl[e]=new Rc(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){yl[n]=new Rc(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){yl[n]=new Rc(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){yl[n]=new Rc(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){yl[n]=new Rc(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){yl[n]=new Rc(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){yl[n]=new Rc(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){yl[n]=new Rc(n,5,!1,n.toLowerCase(),null,!1,!1)});var VJ=/[\-:]([a-z])/g;function HJ(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(VJ,HJ);yl[e]=new Rc(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(VJ,HJ);yl[e]=new Rc(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(VJ,HJ);yl[e]=new Rc(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){yl[n]=new Rc(n,1,!1,n.toLowerCase(),null,!1,!1)});yl.xlinkHref=new Rc("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){yl[n]=new Rc(n,1,!1,n.toLowerCase(),null,!0,!0)});function WJ(n,e,r,i){var o=yl.hasOwnProperty(e)?yl[e]:null;(o!==null?o.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Pjt(e,r,o,i)&&(r=null),i||o===null?Rjt(e)&&(r===null?n.removeAttribute(e):n.setAttribute(e,""+r)):o.mustUseProperty?n[o.propertyName]=r===null?o.type===3?!1:"":r:(e=o.attributeName,i=o.attributeNamespace,r===null?n.removeAttribute(e):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,i?n.setAttributeNS(i,e,r):n.setAttribute(e,r))))}var Kg=y7e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,AO=Symbol.for("react.element"),aE=Symbol.for("react.portal"),lE=Symbol.for("react.fragment"),GJ=Symbol.for("react.strict_mode"),fG=Symbol.for("react.profiler"),x7e=Symbol.for("react.provider"),w7e=Symbol.for("react.context"),qJ=Symbol.for("react.forward_ref"),hG=Symbol.for("react.suspense"),pG=Symbol.for("react.suspense_list"),KJ=Symbol.for("react.memo"),Jv=Symbol.for("react.lazy"),_7e=Symbol.for("react.offscreen"),Yde=Symbol.iterator;function J2(n){return n===null||typeof n!="object"?null:(n=Yde&&n[Yde]||n["@@iterator"],typeof n=="function"?n:null)}var ys=Object.assign,sU;function fT(n){if(sU===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);sU=e&&e[1]||""}return`
`+sU+n}var aU=!1;function lU(n,e){if(!n||aU)return"";aU=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(n,[],e)}else{try{e.call()}catch(u){i=u}n.call(e.prototype)}else{try{throw Error()}catch(u){i=u}n()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),s=i.stack.split(`
`),a=o.length-1,l=s.length-1;1<=a&&0<=l&&o[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(o[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||o[a]!==s[l]){var c=`
`+o[a].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=a&&0<=l);break}}}finally{aU=!1,Error.prepareStackTrace=r}return(n=n?n.displayName||n.name:"")?fT(n):""}function jjt(n){switch(n.tag){case 5:return fT(n.type);case 16:return fT("Lazy");case 13:return fT("Suspense");case 19:return fT("SuspenseList");case 0:case 2:case 15:return n=lU(n.type,!1),n;case 11:return n=lU(n.type.render,!1),n;case 1:return n=lU(n.type,!0),n;default:return""}}function mG(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case lE:return"Fragment";case aE:return"Portal";case fG:return"Profiler";case GJ:return"StrictMode";case hG:return"Suspense";case pG:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case w7e:return(n.displayName||"Context")+".Consumer";case x7e:return(n._context.displayName||"Context")+".Provider";case qJ:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case KJ:return e=n.displayName||null,e!==null?e:mG(n.type)||"Memo";case Jv:e=n._payload,n=n._init;try{return mG(n(e))}catch{}}return null}function Ljt(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mG(e);case 8:return e===GJ?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function cy(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function E7e(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $jt(n){var e=E7e(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,s=r.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return o.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(n,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function IO(n){n._valueTracker||(n._valueTracker=$jt(n))}function C7e(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var r=e.getValue(),i="";return n&&(i=E7e(n)?n.checked?"true":"false":n.value),n=i,n!==r?(e.setValue(n),!0):!1}function GM(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function gG(n,e){var r=e.checked;return ys({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??n._wrapperState.initialChecked})}function Zde(n,e){var r=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;r=cy(e.value!=null?e.value:r),n._wrapperState={initialChecked:i,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function S7e(n,e){e=e.checked,e!=null&&WJ(n,"checked",e,!1)}function vG(n,e){S7e(n,e);var r=cy(e.value),i=e.type;if(r!=null)i==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+r):n.value!==""+r&&(n.value=""+r);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?yG(n,e.type,r):e.hasOwnProperty("defaultValue")&&yG(n,e.type,cy(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Xde(n,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,r||e===n.value||(n.value=e),n.defaultValue=e}r=n.name,r!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,r!==""&&(n.name=r)}function yG(n,e,r){(e!=="number"||GM(n.ownerDocument)!==n)&&(r==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+r&&(n.defaultValue=""+r))}var hT=Array.isArray;function VE(n,e,r,i){if(n=n.options,e){e={};for(var o=0;o<r.length;o++)e["$"+r[o]]=!0;for(r=0;r<n.length;r++)o=e.hasOwnProperty("$"+n[r].value),n[r].selected!==o&&(n[r].selected=o),o&&i&&(n[r].defaultSelected=!0)}else{for(r=""+cy(r),e=null,o=0;o<n.length;o++){if(n[o].value===r){n[o].selected=!0,i&&(n[o].defaultSelected=!0);return}e!==null||n[o].disabled||(e=n[o])}e!==null&&(e.selected=!0)}}function bG(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Et(91));return ys({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Qde(n,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Et(92));if(hT(r)){if(1<r.length)throw Error(Et(93));r=r[0]}e=r}e==null&&(e=""),r=e}n._wrapperState={initialValue:cy(r)}}function k7e(n,e){var r=cy(e.value),i=cy(e.defaultValue);r!=null&&(r=""+r,r!==n.value&&(n.value=r),e.defaultValue==null&&n.defaultValue!==r&&(n.defaultValue=r)),i!=null&&(n.defaultValue=""+i)}function Jde(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function T7e(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xG(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?T7e(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var DO,A7e=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,i,o){MSApp.execUnsafeLocalFunction(function(){return n(e,r,i,o)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(DO=DO||document.createElement("div"),DO.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=DO.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function r5(n,e){if(e){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=e;return}}n.textContent=e}var fA={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mjt=["Webkit","ms","Moz","O"];Object.keys(fA).forEach(function(n){Mjt.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),fA[e]=fA[n]})});function I7e(n,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||fA.hasOwnProperty(n)&&fA[n]?(""+e).trim():e+"px"}function D7e(n,e){n=n.style;for(var r in e)if(e.hasOwnProperty(r)){var i=r.indexOf("--")===0,o=I7e(r,e[r],i);r==="float"&&(r="cssFloat"),i?n.setProperty(r,o):n[r]=o}}var Fjt=ys({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wG(n,e){if(e){if(Fjt[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Et(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Et(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Et(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Et(62))}}function _G(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var EG=null;function YJ(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var CG=null,HE=null,WE=null;function efe(n){if(n=tD(n)){if(typeof CG!="function")throw Error(Et(280));var e=n.stateNode;e&&(e=K8(e),CG(n.stateNode,n.type,e))}}function R7e(n){HE?WE?WE.push(n):WE=[n]:HE=n}function O7e(){if(HE){var n=HE,e=WE;if(WE=HE=null,efe(n),e)for(n=0;n<e.length;n++)efe(e[n])}}function P7e(n,e){return n(e)}function j7e(){}var cU=!1;function L7e(n,e,r){if(cU)return n(e,r);cU=!0;try{return P7e(n,e,r)}finally{cU=!1,(HE!==null||WE!==null)&&(j7e(),O7e())}}function i5(n,e){var r=n.stateNode;if(r===null)return null;var i=K8(r);if(i===null)return null;r=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(Et(231,e,typeof r));return r}var SG=!1;if(kg)try{var ek={};Object.defineProperty(ek,"passive",{get:function(){SG=!0}}),window.addEventListener("test",ek,ek),window.removeEventListener("test",ek,ek)}catch{SG=!1}function Njt(n,e,r,i,o,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(f){this.onError(f)}}var hA=!1,qM=null,KM=!1,kG=null,Bjt={onError:function(n){hA=!0,qM=n}};function Ujt(n,e,r,i,o,s,a,l,c){hA=!1,qM=null,Njt.apply(Bjt,arguments)}function zjt(n,e,r,i,o,s,a,l,c){if(Ujt.apply(this,arguments),hA){if(hA){var u=qM;hA=!1,qM=null}else throw Error(Et(198));KM||(KM=!0,kG=u)}}function Yx(n){var e=n,r=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(r=e.return),n=e.return;while(n)}return e.tag===3?r:null}function $7e(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function tfe(n){if(Yx(n)!==n)throw Error(Et(188))}function Vjt(n){var e=n.alternate;if(!e){if(e=Yx(n),e===null)throw Error(Et(188));return e!==n?null:n}for(var r=n,i=e;;){var o=r.return;if(o===null)break;var s=o.alternate;if(s===null){if(i=o.return,i!==null){r=i;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===r)return tfe(o),n;if(s===i)return tfe(o),e;s=s.sibling}throw Error(Et(188))}if(r.return!==i.return)r=o,i=s;else{for(var a=!1,l=o.child;l;){if(l===r){a=!0,r=o,i=s;break}if(l===i){a=!0,i=o,r=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===r){a=!0,r=s,i=o;break}if(l===i){a=!0,i=s,r=o;break}l=l.sibling}if(!a)throw Error(Et(189))}}if(r.alternate!==i)throw Error(Et(190))}if(r.tag!==3)throw Error(Et(188));return r.stateNode.current===r?n:e}function M7e(n){return n=Vjt(n),n!==null?F7e(n):null}function F7e(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=F7e(n);if(e!==null)return e;n=n.sibling}return null}var N7e=od.unstable_scheduleCallback,nfe=od.unstable_cancelCallback,Hjt=od.unstable_shouldYield,Wjt=od.unstable_requestPaint,Bs=od.unstable_now,Gjt=od.unstable_getCurrentPriorityLevel,ZJ=od.unstable_ImmediatePriority,B7e=od.unstable_UserBlockingPriority,YM=od.unstable_NormalPriority,qjt=od.unstable_LowPriority,U7e=od.unstable_IdlePriority,H8=null,Op=null;function Kjt(n){if(Op&&typeof Op.onCommitFiberRoot=="function")try{Op.onCommitFiberRoot(H8,n,void 0,(n.current.flags&128)===128)}catch{}}var lh=Math.clz32?Math.clz32:Xjt,Yjt=Math.log,Zjt=Math.LN2;function Xjt(n){return n>>>=0,n===0?32:31-(Yjt(n)/Zjt|0)|0}var RO=64,OO=4194304;function pT(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function ZM(n,e){var r=n.pendingLanes;if(r===0)return 0;var i=0,o=n.suspendedLanes,s=n.pingedLanes,a=r&268435455;if(a!==0){var l=a&~o;l!==0?i=pT(l):(s&=a,s!==0&&(i=pT(s)))}else a=r&~o,a!==0?i=pT(a):s!==0&&(i=pT(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&o)&&(o=i&-i,s=e&-e,o>=s||o===16&&(s&4194240)!==0))return e;if(i&4&&(i|=r&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)r=31-lh(e),o=1<<r,i|=n[r],e&=~o;return i}function Qjt(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jjt(n,e){for(var r=n.suspendedLanes,i=n.pingedLanes,o=n.expirationTimes,s=n.pendingLanes;0<s;){var a=31-lh(s),l=1<<a,c=o[a];c===-1?(!(l&r)||l&i)&&(o[a]=Qjt(l,e)):c<=e&&(n.expiredLanes|=l),s&=~l}}function TG(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function z7e(){var n=RO;return RO<<=1,!(RO&4194240)&&(RO=64),n}function uU(n){for(var e=[],r=0;31>r;r++)e.push(n);return e}function JI(n,e,r){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-lh(e),n[e]=r}function eLt(n,e){var r=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<r;){var o=31-lh(r),s=1<<o;e[o]=0,i[o]=-1,n[o]=-1,r&=~s}}function XJ(n,e){var r=n.entangledLanes|=e;for(n=n.entanglements;r;){var i=31-lh(r),o=1<<i;o&e|n[i]&e&&(n[i]|=e),r&=~o}}var Hi=0;function V7e(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var H7e,QJ,W7e,G7e,q7e,AG=!1,PO=[],B0=null,U0=null,z0=null,o5=new Map,s5=new Map,f0=[],tLt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rfe(n,e){switch(n){case"focusin":case"focusout":B0=null;break;case"dragenter":case"dragleave":U0=null;break;case"mouseover":case"mouseout":z0=null;break;case"pointerover":case"pointerout":o5.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":s5.delete(e.pointerId)}}function tk(n,e,r,i,o,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:r,eventSystemFlags:i,nativeEvent:s,targetContainers:[o]},e!==null&&(e=tD(e),e!==null&&QJ(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),n)}function nLt(n,e,r,i,o){switch(e){case"focusin":return B0=tk(B0,n,e,r,i,o),!0;case"dragenter":return U0=tk(U0,n,e,r,i,o),!0;case"mouseover":return z0=tk(z0,n,e,r,i,o),!0;case"pointerover":var s=o.pointerId;return o5.set(s,tk(o5.get(s)||null,n,e,r,i,o)),!0;case"gotpointercapture":return s=o.pointerId,s5.set(s,tk(s5.get(s)||null,n,e,r,i,o)),!0}return!1}function K7e(n){var e=_b(n.target);if(e!==null){var r=Yx(e);if(r!==null){if(e=r.tag,e===13){if(e=$7e(r),e!==null){n.blockedOn=e,q7e(n.priority,function(){W7e(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function fL(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var r=IG(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(r===null){r=n.nativeEvent;var i=new r.constructor(r.type,r);EG=i,r.target.dispatchEvent(i),EG=null}else return e=tD(r),e!==null&&QJ(e),n.blockedOn=r,!1;e.shift()}return!0}function ife(n,e,r){fL(n)&&r.delete(e)}function rLt(){AG=!1,B0!==null&&fL(B0)&&(B0=null),U0!==null&&fL(U0)&&(U0=null),z0!==null&&fL(z0)&&(z0=null),o5.forEach(ife),s5.forEach(ife)}function nk(n,e){n.blockedOn===e&&(n.blockedOn=null,AG||(AG=!0,od.unstable_scheduleCallback(od.unstable_NormalPriority,rLt)))}function a5(n){function e(o){return nk(o,n)}if(0<PO.length){nk(PO[0],n);for(var r=1;r<PO.length;r++){var i=PO[r];i.blockedOn===n&&(i.blockedOn=null)}}for(B0!==null&&nk(B0,n),U0!==null&&nk(U0,n),z0!==null&&nk(z0,n),o5.forEach(e),s5.forEach(e),r=0;r<f0.length;r++)i=f0[r],i.blockedOn===n&&(i.blockedOn=null);for(;0<f0.length&&(r=f0[0],r.blockedOn===null);)K7e(r),r.blockedOn===null&&f0.shift()}var GE=Kg.ReactCurrentBatchConfig,XM=!0;function iLt(n,e,r,i){var o=Hi,s=GE.transition;GE.transition=null;try{Hi=1,JJ(n,e,r,i)}finally{Hi=o,GE.transition=s}}function oLt(n,e,r,i){var o=Hi,s=GE.transition;GE.transition=null;try{Hi=4,JJ(n,e,r,i)}finally{Hi=o,GE.transition=s}}function JJ(n,e,r,i){if(XM){var o=IG(n,e,r,i);if(o===null)xU(n,e,i,QM,r),rfe(n,i);else if(nLt(o,n,e,r,i))i.stopPropagation();else if(rfe(n,i),e&4&&-1<tLt.indexOf(n)){for(;o!==null;){var s=tD(o);if(s!==null&&H7e(s),s=IG(n,e,r,i),s===null&&xU(n,e,i,QM,r),s===o)break;o=s}o!==null&&i.stopPropagation()}else xU(n,e,i,null,r)}}var QM=null;function IG(n,e,r,i){if(QM=null,n=YJ(i),n=_b(n),n!==null)if(e=Yx(n),e===null)n=null;else if(r=e.tag,r===13){if(n=$7e(e),n!==null)return n;n=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return QM=n,null}function Y7e(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gjt()){case ZJ:return 1;case B7e:return 4;case YM:case qjt:return 16;case U7e:return 536870912;default:return 16}default:return 16}}var _0=null,eee=null,hL=null;function Z7e(){if(hL)return hL;var n,e=eee,r=e.length,i,o="value"in _0?_0.value:_0.textContent,s=o.length;for(n=0;n<r&&e[n]===o[n];n++);var a=r-n;for(i=1;i<=a&&e[r-i]===o[s-i];i++);return hL=o.slice(n,1<i?1-i:void 0)}function pL(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function jO(){return!0}function ofe(){return!1}function hd(n){function e(r,i,o,s,a){this._reactName=r,this._targetInst=o,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in n)n.hasOwnProperty(l)&&(r=n[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?jO:ofe,this.isPropagationStopped=ofe,this}return ys(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jO)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jO)},persist:function(){},isPersistent:jO}),e}var TS={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tee=hd(TS),eD=ys({},TS,{view:0,detail:0}),sLt=hd(eD),dU,fU,rk,W8=ys({},eD,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nee,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==rk&&(rk&&n.type==="mousemove"?(dU=n.screenX-rk.screenX,fU=n.screenY-rk.screenY):fU=dU=0,rk=n),dU)},movementY:function(n){return"movementY"in n?n.movementY:fU}}),sfe=hd(W8),aLt=ys({},W8,{dataTransfer:0}),lLt=hd(aLt),cLt=ys({},eD,{relatedTarget:0}),hU=hd(cLt),uLt=ys({},TS,{animationName:0,elapsedTime:0,pseudoElement:0}),dLt=hd(uLt),fLt=ys({},TS,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),hLt=hd(fLt),pLt=ys({},TS,{data:0}),afe=hd(pLt),mLt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gLt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vLt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yLt(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=vLt[n])?!!e[n]:!1}function nee(){return yLt}var bLt=ys({},eD,{key:function(n){if(n.key){var e=mLt[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=pL(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?gLt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nee,charCode:function(n){return n.type==="keypress"?pL(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?pL(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),xLt=hd(bLt),wLt=ys({},W8,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lfe=hd(wLt),_Lt=ys({},eD,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nee}),ELt=hd(_Lt),CLt=ys({},TS,{propertyName:0,elapsedTime:0,pseudoElement:0}),SLt=hd(CLt),kLt=ys({},W8,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),TLt=hd(kLt),ALt=[9,13,27,32],ree=kg&&"CompositionEvent"in window,pA=null;kg&&"documentMode"in document&&(pA=document.documentMode);var ILt=kg&&"TextEvent"in window&&!pA,X7e=kg&&(!ree||pA&&8<pA&&11>=pA),cfe=String.fromCharCode(32),ufe=!1;function Q7e(n,e){switch(n){case"keyup":return ALt.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J7e(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var cE=!1;function DLt(n,e){switch(n){case"compositionend":return J7e(e);case"keypress":return e.which!==32?null:(ufe=!0,cfe);case"textInput":return n=e.data,n===cfe&&ufe?null:n;default:return null}}function RLt(n,e){if(cE)return n==="compositionend"||!ree&&Q7e(n,e)?(n=Z7e(),hL=eee=_0=null,cE=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return X7e&&e.locale!=="ko"?null:e.data;default:return null}}var OLt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dfe(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!OLt[n.type]:e==="textarea"}function e9e(n,e,r,i){R7e(i),e=JM(e,"onChange"),0<e.length&&(r=new tee("onChange","change",null,r,i),n.push({event:r,listeners:e}))}var mA=null,l5=null;function PLt(n){d9e(n,0)}function G8(n){var e=fE(n);if(C7e(e))return n}function jLt(n,e){if(n==="change")return e}var t9e=!1;if(kg){var pU;if(kg){var mU="oninput"in document;if(!mU){var ffe=document.createElement("div");ffe.setAttribute("oninput","return;"),mU=typeof ffe.oninput=="function"}pU=mU}else pU=!1;t9e=pU&&(!document.documentMode||9<document.documentMode)}function hfe(){mA&&(mA.detachEvent("onpropertychange",n9e),l5=mA=null)}function n9e(n){if(n.propertyName==="value"&&G8(l5)){var e=[];e9e(e,l5,n,YJ(n)),L7e(PLt,e)}}function LLt(n,e,r){n==="focusin"?(hfe(),mA=e,l5=r,mA.attachEvent("onpropertychange",n9e)):n==="focusout"&&hfe()}function $Lt(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return G8(l5)}function MLt(n,e){if(n==="click")return G8(e)}function FLt(n,e){if(n==="input"||n==="change")return G8(e)}function NLt(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var yh=typeof Object.is=="function"?Object.is:NLt;function c5(n,e){if(yh(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var r=Object.keys(n),i=Object.keys(e);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var o=r[i];if(!dG.call(e,o)||!yh(n[o],e[o]))return!1}return!0}function pfe(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function mfe(n,e){var r=pfe(n);n=0;for(var i;r;){if(r.nodeType===3){if(i=n+r.textContent.length,n<=e&&i>=e)return{node:r,offset:e-n};n=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=pfe(r)}}function r9e(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?r9e(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function i9e(){for(var n=window,e=GM();e instanceof n.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)n=e.contentWindow;else break;e=GM(n.document)}return e}function iee(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function BLt(n){var e=i9e(),r=n.focusedElem,i=n.selectionRange;if(e!==r&&r&&r.ownerDocument&&r9e(r.ownerDocument.documentElement,r)){if(i!==null&&iee(r)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(n,r.value.length);else if(n=(e=r.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var o=r.textContent.length,s=Math.min(i.start,o);i=i.end===void 0?s:Math.min(i.end,o),!n.extend&&s>i&&(o=i,i=s,s=o),o=mfe(r,s);var a=mfe(r,i);o&&a&&(n.rangeCount!==1||n.anchorNode!==o.node||n.anchorOffset!==o.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=r;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)n=e[r],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var ULt=kg&&"documentMode"in document&&11>=document.documentMode,uE=null,DG=null,gA=null,RG=!1;function gfe(n,e,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;RG||uE==null||uE!==GM(i)||(i=uE,"selectionStart"in i&&iee(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),gA&&c5(gA,i)||(gA=i,i=JM(DG,"onSelect"),0<i.length&&(e=new tee("onSelect","select",null,e,r),n.push({event:e,listeners:i}),e.target=uE)))}function LO(n,e){var r={};return r[n.toLowerCase()]=e.toLowerCase(),r["Webkit"+n]="webkit"+e,r["Moz"+n]="moz"+e,r}var dE={animationend:LO("Animation","AnimationEnd"),animationiteration:LO("Animation","AnimationIteration"),animationstart:LO("Animation","AnimationStart"),transitionend:LO("Transition","TransitionEnd")},gU={},o9e={};kg&&(o9e=document.createElement("div").style,"AnimationEvent"in window||(delete dE.animationend.animation,delete dE.animationiteration.animation,delete dE.animationstart.animation),"TransitionEvent"in window||delete dE.transitionend.transition);function q8(n){if(gU[n])return gU[n];if(!dE[n])return n;var e=dE[n],r;for(r in e)if(e.hasOwnProperty(r)&&r in o9e)return gU[n]=e[r];return n}var s9e=q8("animationend"),a9e=q8("animationiteration"),l9e=q8("animationstart"),c9e=q8("transitionend"),u9e=new Map,vfe="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ry(n,e){u9e.set(n,e),Kx(e,[n])}for(var vU=0;vU<vfe.length;vU++){var yU=vfe[vU],zLt=yU.toLowerCase(),VLt=yU[0].toUpperCase()+yU.slice(1);Ry(zLt,"on"+VLt)}Ry(s9e,"onAnimationEnd");Ry(a9e,"onAnimationIteration");Ry(l9e,"onAnimationStart");Ry("dblclick","onDoubleClick");Ry("focusin","onFocus");Ry("focusout","onBlur");Ry(c9e,"onTransitionEnd");LC("onMouseEnter",["mouseout","mouseover"]);LC("onMouseLeave",["mouseout","mouseover"]);LC("onPointerEnter",["pointerout","pointerover"]);LC("onPointerLeave",["pointerout","pointerover"]);Kx("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Kx("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Kx("onBeforeInput",["compositionend","keypress","textInput","paste"]);Kx("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Kx("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Kx("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mT="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HLt=new Set("cancel close invalid load scroll toggle".split(" ").concat(mT));function yfe(n,e,r){var i=n.type||"unknown-event";n.currentTarget=r,zjt(i,e,void 0,n),n.currentTarget=null}function d9e(n,e){e=(e&4)!==0;for(var r=0;r<n.length;r++){var i=n[r],o=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var l=i[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&o.isPropagationStopped())break e;yfe(o,l,u),s=c}else for(a=0;a<i.length;a++){if(l=i[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&o.isPropagationStopped())break e;yfe(o,l,u),s=c}}}if(KM)throw n=kG,KM=!1,kG=null,n}function Fo(n,e){var r=e[$G];r===void 0&&(r=e[$G]=new Set);var i=n+"__bubble";r.has(i)||(f9e(e,n,2,!1),r.add(i))}function bU(n,e,r){var i=0;e&&(i|=4),f9e(r,n,i,e)}var $O="_reactListening"+Math.random().toString(36).slice(2);function u5(n){if(!n[$O]){n[$O]=!0,b7e.forEach(function(r){r!=="selectionchange"&&(HLt.has(r)||bU(r,!1,n),bU(r,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[$O]||(e[$O]=!0,bU("selectionchange",!1,e))}}function f9e(n,e,r,i){switch(Y7e(e)){case 1:var o=iLt;break;case 4:o=oLt;break;default:o=JJ}r=o.bind(null,e,r,n),o=void 0,!SG||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),i?o!==void 0?n.addEventListener(e,r,{capture:!0,passive:o}):n.addEventListener(e,r,!0):o!==void 0?n.addEventListener(e,r,{passive:o}):n.addEventListener(e,r,!1)}function xU(n,e,r,i,o){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===o||l.nodeType===8&&l.parentNode===o)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;a=a.return}for(;l!==null;){if(a=_b(l),a===null)return;if(c=a.tag,c===5||c===6){i=s=a;continue e}l=l.parentNode}}i=i.return}L7e(function(){var u=s,f=YJ(r),h=[];e:{var m=u9e.get(n);if(m!==void 0){var g=tee,v=n;switch(n){case"keypress":if(pL(r)===0)break e;case"keydown":case"keyup":g=xLt;break;case"focusin":v="focus",g=hU;break;case"focusout":v="blur",g=hU;break;case"beforeblur":case"afterblur":g=hU;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=sfe;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=lLt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ELt;break;case s9e:case a9e:case l9e:g=dLt;break;case c9e:g=SLt;break;case"scroll":g=sLt;break;case"wheel":g=TLt;break;case"copy":case"cut":case"paste":g=hLt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=lfe}var y=(e&4)!==0,b=!y&&n==="scroll",x=y?m!==null?m+"Capture":null:m;y=[];for(var _=u,w;_!==null;){w=_;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,x!==null&&(C=i5(_,x),C!=null&&y.push(d5(_,C,w)))),b)break;_=_.return}0<y.length&&(m=new g(m,v,null,r,f),h.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=n==="mouseover"||n==="pointerover",g=n==="mouseout"||n==="pointerout",m&&r!==EG&&(v=r.relatedTarget||r.fromElement)&&(_b(v)||v[Tg]))break e;if((g||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,g?(v=r.relatedTarget||r.toElement,g=u,v=v?_b(v):null,v!==null&&(b=Yx(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(y=sfe,C="onMouseLeave",x="onMouseEnter",_="mouse",(n==="pointerout"||n==="pointerover")&&(y=lfe,C="onPointerLeave",x="onPointerEnter",_="pointer"),b=g==null?m:fE(g),w=v==null?m:fE(v),m=new y(C,_+"leave",g,r,f),m.target=b,m.relatedTarget=w,C=null,_b(f)===u&&(y=new y(x,_+"enter",v,r,f),y.target=w,y.relatedTarget=b,C=y),b=C,g&&v)t:{for(y=g,x=v,_=0,w=y;w;w=Kw(w))_++;for(w=0,C=x;C;C=Kw(C))w++;for(;0<_-w;)y=Kw(y),_--;for(;0<w-_;)x=Kw(x),w--;for(;_--;){if(y===x||x!==null&&y===x.alternate)break t;y=Kw(y),x=Kw(x)}y=null}else y=null;g!==null&&bfe(h,m,g,y,!1),v!==null&&b!==null&&bfe(h,b,v,y,!0)}}e:{if(m=u?fE(u):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var S=jLt;else if(dfe(m))if(t9e)S=FLt;else{S=$Lt;var T=LLt}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=MLt);if(S&&(S=S(n,u))){e9e(h,S,r,f);break e}T&&T(n,m,u),n==="focusout"&&(T=m._wrapperState)&&T.controlled&&m.type==="number"&&yG(m,"number",m.value)}switch(T=u?fE(u):window,n){case"focusin":(dfe(T)||T.contentEditable==="true")&&(uE=T,DG=u,gA=null);break;case"focusout":gA=DG=uE=null;break;case"mousedown":RG=!0;break;case"contextmenu":case"mouseup":case"dragend":RG=!1,gfe(h,r,f);break;case"selectionchange":if(ULt)break;case"keydown":case"keyup":gfe(h,r,f)}var A;if(ree)e:{switch(n){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else cE?Q7e(n,r)&&(I="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(I="onCompositionStart");I&&(X7e&&r.locale!=="ko"&&(cE||I!=="onCompositionStart"?I==="onCompositionEnd"&&cE&&(A=Z7e()):(_0=f,eee="value"in _0?_0.value:_0.textContent,cE=!0)),T=JM(u,I),0<T.length&&(I=new afe(I,n,null,r,f),h.push({event:I,listeners:T}),A?I.data=A:(A=J7e(r),A!==null&&(I.data=A)))),(A=ILt?DLt(n,r):RLt(n,r))&&(u=JM(u,"onBeforeInput"),0<u.length&&(f=new afe("onBeforeInput","beforeinput",null,r,f),h.push({event:f,listeners:u}),f.data=A))}d9e(h,e)})}function d5(n,e,r){return{instance:n,listener:e,currentTarget:r}}function JM(n,e){for(var r=e+"Capture",i=[];n!==null;){var o=n,s=o.stateNode;o.tag===5&&s!==null&&(o=s,s=i5(n,r),s!=null&&i.unshift(d5(n,s,o)),s=i5(n,e),s!=null&&i.push(d5(n,s,o))),n=n.return}return i}function Kw(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function bfe(n,e,r,i,o){for(var s=e._reactName,a=[];r!==null&&r!==i;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===i)break;l.tag===5&&u!==null&&(l=u,o?(c=i5(r,s),c!=null&&a.unshift(d5(r,c,l))):o||(c=i5(r,s),c!=null&&a.push(d5(r,c,l)))),r=r.return}a.length!==0&&n.push({event:e,listeners:a})}var WLt=/\r\n?/g,GLt=/\u0000|\uFFFD/g;function xfe(n){return(typeof n=="string"?n:""+n).replace(WLt,`
`).replace(GLt,"")}function MO(n,e,r){if(e=xfe(e),xfe(n)!==e&&r)throw Error(Et(425))}function e3(){}var OG=null,PG=null;function jG(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var LG=typeof setTimeout=="function"?setTimeout:void 0,qLt=typeof clearTimeout=="function"?clearTimeout:void 0,wfe=typeof Promise=="function"?Promise:void 0,KLt=typeof queueMicrotask=="function"?queueMicrotask:typeof wfe<"u"?function(n){return wfe.resolve(null).then(n).catch(YLt)}:LG;function YLt(n){setTimeout(function(){throw n})}function wU(n,e){var r=e,i=0;do{var o=r.nextSibling;if(n.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(i===0){n.removeChild(o),a5(e);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=o}while(r);a5(e)}function V0(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function _fe(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return n;e--}else r==="/$"&&e++}n=n.previousSibling}return null}var AS=Math.random().toString(36).slice(2),bp="__reactFiber$"+AS,f5="__reactProps$"+AS,Tg="__reactContainer$"+AS,$G="__reactEvents$"+AS,ZLt="__reactListeners$"+AS,XLt="__reactHandles$"+AS;function _b(n){var e=n[bp];if(e)return e;for(var r=n.parentNode;r;){if(e=r[Tg]||r[bp]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(n=_fe(n);n!==null;){if(r=n[bp])return r;n=_fe(n)}return e}n=r,r=n.parentNode}return null}function tD(n){return n=n[bp]||n[Tg],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function fE(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Et(33))}function K8(n){return n[f5]||null}var MG=[],hE=-1;function Oy(n){return{current:n}}function Wo(n){0>hE||(n.current=MG[hE],MG[hE]=null,hE--)}function Ao(n,e){hE++,MG[hE]=n.current,n.current=e}var uy={},tc=Oy(uy),pu=Oy(!1),vx=uy;function $C(n,e){var r=n.type.contextTypes;if(!r)return uy;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var o={},s;for(s in r)o[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=o),o}function mu(n){return n=n.childContextTypes,n!=null}function t3(){Wo(pu),Wo(tc)}function Efe(n,e,r){if(tc.current!==uy)throw Error(Et(168));Ao(tc,e),Ao(pu,r)}function h9e(n,e,r){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var o in i)if(!(o in e))throw Error(Et(108,Ljt(n)||"Unknown",o));return ys({},r,i)}function n3(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||uy,vx=tc.current,Ao(tc,n),Ao(pu,pu.current),!0}function Cfe(n,e,r){var i=n.stateNode;if(!i)throw Error(Et(169));r?(n=h9e(n,e,vx),i.__reactInternalMemoizedMergedChildContext=n,Wo(pu),Wo(tc),Ao(tc,n)):Wo(pu),Ao(pu,r)}var Xm=null,Y8=!1,_U=!1;function p9e(n){Xm===null?Xm=[n]:Xm.push(n)}function QLt(n){Y8=!0,p9e(n)}function Py(){if(!_U&&Xm!==null){_U=!0;var n=0,e=Hi;try{var r=Xm;for(Hi=1;n<r.length;n++){var i=r[n];do i=i(!0);while(i!==null)}Xm=null,Y8=!1}catch(o){throw Xm!==null&&(Xm=Xm.slice(n+1)),N7e(ZJ,Py),o}finally{Hi=e,_U=!1}}return null}var pE=[],mE=0,r3=null,i3=0,Vd=[],Hd=0,yx=null,ig=1,og="";function M1(n,e){pE[mE++]=i3,pE[mE++]=r3,r3=n,i3=e}function m9e(n,e,r){Vd[Hd++]=ig,Vd[Hd++]=og,Vd[Hd++]=yx,yx=n;var i=ig;n=og;var o=32-lh(i)-1;i&=~(1<<o),r+=1;var s=32-lh(e)+o;if(30<s){var a=o-o%5;s=(i&(1<<a)-1).toString(32),i>>=a,o-=a,ig=1<<32-lh(e)+o|r<<o|i,og=s+n}else ig=1<<s|r<<o|i,og=n}function oee(n){n.return!==null&&(M1(n,1),m9e(n,1,0))}function see(n){for(;n===r3;)r3=pE[--mE],pE[mE]=null,i3=pE[--mE],pE[mE]=null;for(;n===yx;)yx=Vd[--Hd],Vd[Hd]=null,og=Vd[--Hd],Vd[Hd]=null,ig=Vd[--Hd],Vd[Hd]=null}var ed=null,Xu=null,rs=!1,Wf=null;function g9e(n,e){var r=Qd(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=n,e=n.deletions,e===null?(n.deletions=[r],n.flags|=16):e.push(r)}function Sfe(n,e){switch(n.tag){case 5:var r=n.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,ed=n,Xu=V0(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,ed=n,Xu=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=yx!==null?{id:ig,overflow:og}:null,n.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Qd(18,null,null,0),r.stateNode=e,r.return=n,n.child=r,ed=n,Xu=null,!0):!1;default:return!1}}function FG(n){return(n.mode&1)!==0&&(n.flags&128)===0}function NG(n){if(rs){var e=Xu;if(e){var r=e;if(!Sfe(n,e)){if(FG(n))throw Error(Et(418));e=V0(r.nextSibling);var i=ed;e&&Sfe(n,e)?g9e(i,r):(n.flags=n.flags&-4097|2,rs=!1,ed=n)}}else{if(FG(n))throw Error(Et(418));n.flags=n.flags&-4097|2,rs=!1,ed=n}}}function kfe(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ed=n}function FO(n){if(n!==ed)return!1;if(!rs)return kfe(n),rs=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!jG(n.type,n.memoizedProps)),e&&(e=Xu)){if(FG(n))throw v9e(),Error(Et(418));for(;e;)g9e(n,e),e=V0(e.nextSibling)}if(kfe(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Et(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"){if(e===0){Xu=V0(n.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}n=n.nextSibling}Xu=null}}else Xu=ed?V0(n.stateNode.nextSibling):null;return!0}function v9e(){for(var n=Xu;n;)n=V0(n.nextSibling)}function MC(){Xu=ed=null,rs=!1}function aee(n){Wf===null?Wf=[n]:Wf.push(n)}var JLt=Kg.ReactCurrentBatchConfig;function zf(n,e){if(n&&n.defaultProps){e=ys({},e),n=n.defaultProps;for(var r in n)e[r]===void 0&&(e[r]=n[r]);return e}return e}var o3=Oy(null),s3=null,gE=null,lee=null;function cee(){lee=gE=s3=null}function uee(n){var e=o3.current;Wo(o3),n._currentValue=e}function BG(n,e,r){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===r)break;n=n.return}}function qE(n,e){s3=n,lee=gE=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(hu=!0),n.firstContext=null)}function pf(n){var e=n._currentValue;if(lee!==n)if(n={context:n,memoizedValue:e,next:null},gE===null){if(s3===null)throw Error(Et(308));gE=n,s3.dependencies={lanes:0,firstContext:n}}else gE=gE.next=n;return e}var Eb=null;function dee(n){Eb===null?Eb=[n]:Eb.push(n)}function y9e(n,e,r,i){var o=e.interleaved;return o===null?(r.next=r,dee(e)):(r.next=o.next,o.next=r),e.interleaved=r,Ag(n,i)}function Ag(n,e){n.lanes|=e;var r=n.alternate;for(r!==null&&(r.lanes|=e),r=n,n=n.return;n!==null;)n.childLanes|=e,r=n.alternate,r!==null&&(r.childLanes|=e),r=n,n=n.return;return r.tag===3?r.stateNode:null}var e0=!1;function fee(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b9e(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function pg(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function H0(n,e,r){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,oi&2){var o=i.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),i.pending=e,Ag(n,r)}return o=i.interleaved,o===null?(e.next=e,dee(i)):(e.next=o.next,o.next=e),i.interleaved=e,Ag(n,r)}function mL(n,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,r|=i,e.lanes=r,XJ(n,r)}}function Tfe(n,e){var r=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var o=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?o=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?o=s=e:s=s.next=e}else o=s=e;r={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=e:n.next=e,r.lastBaseUpdate=e}function a3(n,e,r,i){var o=n.updateQueue;e0=!1;var s=o.firstBaseUpdate,a=o.lastBaseUpdate,l=o.shared.pending;if(l!==null){o.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var f=n.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==a&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(s!==null){var h=o.baseState;a=0,f=u=c=null,l=s;do{var m=l.lane,g=l.eventTime;if((i&m)===m){f!==null&&(f=f.next={eventTime:g,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=n,y=l;switch(m=e,g=r,y.tag){case 1:if(v=y.payload,typeof v=="function"){h=v.call(g,h,m);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,m=typeof v=="function"?v.call(g,h,m):v,m==null)break e;h=ys({},h,m);break e;case 2:e0=!0}}l.callback!==null&&l.lane!==0&&(n.flags|=64,m=o.effects,m===null?o.effects=[l]:m.push(l))}else g={eventTime:g,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=g,c=h):f=f.next=g,a|=m;if(l=l.next,l===null){if(l=o.shared.pending,l===null)break;m=l,l=m.next,m.next=null,o.lastBaseUpdate=m,o.shared.pending=null}}while(1);if(f===null&&(c=h),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=f,e=o.shared.interleaved,e!==null){o=e;do a|=o.lane,o=o.next;while(o!==e)}else s===null&&(o.shared.lanes=0);xx|=a,n.lanes=a,n.memoizedState=h}}function Afe(n,e,r){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],o=i.callback;if(o!==null){if(i.callback=null,i=r,typeof o!="function")throw Error(Et(191,o));o.call(i)}}}var x9e=new y7e.Component().refs;function UG(n,e,r,i){e=n.memoizedState,r=r(i,e),r=r==null?e:ys({},e,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var Z8={isMounted:function(n){return(n=n._reactInternals)?Yx(n)===n:!1},enqueueSetState:function(n,e,r){n=n._reactInternals;var i=xc(),o=G0(n),s=pg(i,o);s.payload=e,r!=null&&(s.callback=r),e=H0(n,s,o),e!==null&&(ch(e,n,o,i),mL(e,n,o))},enqueueReplaceState:function(n,e,r){n=n._reactInternals;var i=xc(),o=G0(n),s=pg(i,o);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=H0(n,s,o),e!==null&&(ch(e,n,o,i),mL(e,n,o))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var r=xc(),i=G0(n),o=pg(r,i);o.tag=2,e!=null&&(o.callback=e),e=H0(n,o,i),e!==null&&(ch(e,n,i,r),mL(e,n,i))}};function Ife(n,e,r,i,o,s,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!c5(r,i)||!c5(o,s):!0}function w9e(n,e,r){var i=!1,o=uy,s=e.contextType;return typeof s=="object"&&s!==null?s=pf(s):(o=mu(e)?vx:tc.current,i=e.contextTypes,s=(i=i!=null)?$C(n,o):uy),e=new e(r,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Z8,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=o,n.__reactInternalMemoizedMaskedChildContext=s),e}function Dfe(n,e,r,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,i),e.state!==n&&Z8.enqueueReplaceState(e,e.state,null)}function zG(n,e,r,i){var o=n.stateNode;o.props=r,o.state=n.memoizedState,o.refs=x9e,fee(n);var s=e.contextType;typeof s=="object"&&s!==null?o.context=pf(s):(s=mu(e)?vx:tc.current,o.context=$C(n,s)),o.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(UG(n,e,s,r),o.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Z8.enqueueReplaceState(o,o.state,null),a3(n,r,o,i),o.state=n.memoizedState),typeof o.componentDidMount=="function"&&(n.flags|=4194308)}function ik(n,e,r){if(n=r.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Et(309));var i=r.stateNode}if(!i)throw Error(Et(147,n));var o=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var l=o.refs;l===x9e&&(l=o.refs={}),a===null?delete l[s]:l[s]=a},e._stringRef=s,e)}if(typeof n!="string")throw Error(Et(284));if(!r._owner)throw Error(Et(290,n))}return n}function NO(n,e){throw n=Object.prototype.toString.call(e),Error(Et(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Rfe(n){var e=n._init;return e(n._payload)}function _9e(n){function e(x,_){if(n){var w=x.deletions;w===null?(x.deletions=[_],x.flags|=16):w.push(_)}}function r(x,_){if(!n)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function i(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function o(x,_){return x=q0(x,_),x.index=0,x.sibling=null,x}function s(x,_,w){return x.index=w,n?(w=x.alternate,w!==null?(w=w.index,w<_?(x.flags|=2,_):w):(x.flags|=2,_)):(x.flags|=1048576,_)}function a(x){return n&&x.alternate===null&&(x.flags|=2),x}function l(x,_,w,C){return _===null||_.tag!==6?(_=IU(w,x.mode,C),_.return=x,_):(_=o(_,w),_.return=x,_)}function c(x,_,w,C){var S=w.type;return S===lE?f(x,_,w.props.children,C,w.key):_!==null&&(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Jv&&Rfe(S)===_.type)?(C=o(_,w.props),C.ref=ik(x,_,w),C.return=x,C):(C=wL(w.type,w.key,w.props,null,x.mode,C),C.ref=ik(x,_,w),C.return=x,C)}function u(x,_,w,C){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=DU(w,x.mode,C),_.return=x,_):(_=o(_,w.children||[]),_.return=x,_)}function f(x,_,w,C,S){return _===null||_.tag!==7?(_=qb(w,x.mode,C,S),_.return=x,_):(_=o(_,w),_.return=x,_)}function h(x,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=IU(""+_,x.mode,w),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case AO:return w=wL(_.type,_.key,_.props,null,x.mode,w),w.ref=ik(x,null,_),w.return=x,w;case aE:return _=DU(_,x.mode,w),_.return=x,_;case Jv:var C=_._init;return h(x,C(_._payload),w)}if(hT(_)||J2(_))return _=qb(_,x.mode,w,null),_.return=x,_;NO(x,_)}return null}function m(x,_,w,C){var S=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(x,_,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case AO:return w.key===S?c(x,_,w,C):null;case aE:return w.key===S?u(x,_,w,C):null;case Jv:return S=w._init,m(x,_,S(w._payload),C)}if(hT(w)||J2(w))return S!==null?null:f(x,_,w,C,null);NO(x,w)}return null}function g(x,_,w,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(w)||null,l(_,x,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case AO:return x=x.get(C.key===null?w:C.key)||null,c(_,x,C,S);case aE:return x=x.get(C.key===null?w:C.key)||null,u(_,x,C,S);case Jv:var T=C._init;return g(x,_,w,T(C._payload),S)}if(hT(C)||J2(C))return x=x.get(w)||null,f(_,x,C,S,null);NO(_,C)}return null}function v(x,_,w,C){for(var S=null,T=null,A=_,I=_=0,D=null;A!==null&&I<w.length;I++){A.index>I?(D=A,A=null):D=A.sibling;var R=m(x,A,w[I],C);if(R===null){A===null&&(A=D);break}n&&A&&R.alternate===null&&e(x,A),_=s(R,_,I),T===null?S=R:T.sibling=R,T=R,A=D}if(I===w.length)return r(x,A),rs&&M1(x,I),S;if(A===null){for(;I<w.length;I++)A=h(x,w[I],C),A!==null&&(_=s(A,_,I),T===null?S=A:T.sibling=A,T=A);return rs&&M1(x,I),S}for(A=i(x,A);I<w.length;I++)D=g(A,x,I,w[I],C),D!==null&&(n&&D.alternate!==null&&A.delete(D.key===null?I:D.key),_=s(D,_,I),T===null?S=D:T.sibling=D,T=D);return n&&A.forEach(function(P){return e(x,P)}),rs&&M1(x,I),S}function y(x,_,w,C){var S=J2(w);if(typeof S!="function")throw Error(Et(150));if(w=S.call(w),w==null)throw Error(Et(151));for(var T=S=null,A=_,I=_=0,D=null,R=w.next();A!==null&&!R.done;I++,R=w.next()){A.index>I?(D=A,A=null):D=A.sibling;var P=m(x,A,R.value,C);if(P===null){A===null&&(A=D);break}n&&A&&P.alternate===null&&e(x,A),_=s(P,_,I),T===null?S=P:T.sibling=P,T=P,A=D}if(R.done)return r(x,A),rs&&M1(x,I),S;if(A===null){for(;!R.done;I++,R=w.next())R=h(x,R.value,C),R!==null&&(_=s(R,_,I),T===null?S=R:T.sibling=R,T=R);return rs&&M1(x,I),S}for(A=i(x,A);!R.done;I++,R=w.next())R=g(A,x,I,R.value,C),R!==null&&(n&&R.alternate!==null&&A.delete(R.key===null?I:R.key),_=s(R,_,I),T===null?S=R:T.sibling=R,T=R);return n&&A.forEach(function(O){return e(x,O)}),rs&&M1(x,I),S}function b(x,_,w,C){if(typeof w=="object"&&w!==null&&w.type===lE&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case AO:e:{for(var S=w.key,T=_;T!==null;){if(T.key===S){if(S=w.type,S===lE){if(T.tag===7){r(x,T.sibling),_=o(T,w.props.children),_.return=x,x=_;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Jv&&Rfe(S)===T.type){r(x,T.sibling),_=o(T,w.props),_.ref=ik(x,T,w),_.return=x,x=_;break e}r(x,T);break}else e(x,T);T=T.sibling}w.type===lE?(_=qb(w.props.children,x.mode,C,w.key),_.return=x,x=_):(C=wL(w.type,w.key,w.props,null,x.mode,C),C.ref=ik(x,_,w),C.return=x,x=C)}return a(x);case aE:e:{for(T=w.key;_!==null;){if(_.key===T)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){r(x,_.sibling),_=o(_,w.children||[]),_.return=x,x=_;break e}else{r(x,_);break}else e(x,_);_=_.sibling}_=DU(w,x.mode,C),_.return=x,x=_}return a(x);case Jv:return T=w._init,b(x,_,T(w._payload),C)}if(hT(w))return v(x,_,w,C);if(J2(w))return y(x,_,w,C);NO(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(r(x,_.sibling),_=o(_,w),_.return=x,x=_):(r(x,_),_=IU(w,x.mode,C),_.return=x,x=_),a(x)):r(x,_)}return b}var FC=_9e(!0),E9e=_9e(!1),nD={},Pp=Oy(nD),h5=Oy(nD),p5=Oy(nD);function Cb(n){if(n===nD)throw Error(Et(174));return n}function hee(n,e){switch(Ao(p5,e),Ao(h5,n),Ao(Pp,nD),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xG(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=xG(e,n)}Wo(Pp),Ao(Pp,e)}function NC(){Wo(Pp),Wo(h5),Wo(p5)}function C9e(n){Cb(p5.current);var e=Cb(Pp.current),r=xG(e,n.type);e!==r&&(Ao(h5,n),Ao(Pp,r))}function pee(n){h5.current===n&&(Wo(Pp),Wo(h5))}var ds=Oy(0);function l3(n){for(var e=n;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var EU=[];function mee(){for(var n=0;n<EU.length;n++)EU[n]._workInProgressVersionPrimary=null;EU.length=0}var gL=Kg.ReactCurrentDispatcher,CU=Kg.ReactCurrentBatchConfig,bx=0,gs=null,ba=null,za=null,c3=!1,vA=!1,m5=0,e$t=0;function Al(){throw Error(Et(321))}function gee(n,e){if(e===null)return!1;for(var r=0;r<e.length&&r<n.length;r++)if(!yh(n[r],e[r]))return!1;return!0}function vee(n,e,r,i,o,s){if(bx=s,gs=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,gL.current=n===null||n.memoizedState===null?i$t:o$t,n=r(i,o),vA){s=0;do{if(vA=!1,m5=0,25<=s)throw Error(Et(301));s+=1,za=ba=null,e.updateQueue=null,gL.current=s$t,n=r(i,o)}while(vA)}if(gL.current=u3,e=ba!==null&&ba.next!==null,bx=0,za=ba=gs=null,c3=!1,e)throw Error(Et(300));return n}function yee(){var n=m5!==0;return m5=0,n}function op(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return za===null?gs.memoizedState=za=n:za=za.next=n,za}function mf(){if(ba===null){var n=gs.alternate;n=n!==null?n.memoizedState:null}else n=ba.next;var e=za===null?gs.memoizedState:za.next;if(e!==null)za=e,ba=n;else{if(n===null)throw Error(Et(310));ba=n,n={memoizedState:ba.memoizedState,baseState:ba.baseState,baseQueue:ba.baseQueue,queue:ba.queue,next:null},za===null?gs.memoizedState=za=n:za=za.next=n}return za}function g5(n,e){return typeof e=="function"?e(n):e}function SU(n){var e=mf(),r=e.queue;if(r===null)throw Error(Et(311));r.lastRenderedReducer=n;var i=ba,o=i.baseQueue,s=r.pending;if(s!==null){if(o!==null){var a=o.next;o.next=s.next,s.next=a}i.baseQueue=o=s,r.pending=null}if(o!==null){s=o.next,i=i.baseState;var l=a=null,c=null,u=s;do{var f=u.lane;if((bx&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:n(i,u.action);else{var h={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,a=i):c=c.next=h,gs.lanes|=f,xx|=f}u=u.next}while(u!==null&&u!==s);c===null?a=i:c.next=l,yh(i,e.memoizedState)||(hu=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=c,r.lastRenderedState=i}if(n=r.interleaved,n!==null){o=n;do s=o.lane,gs.lanes|=s,xx|=s,o=o.next;while(o!==n)}else o===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function kU(n){var e=mf(),r=e.queue;if(r===null)throw Error(Et(311));r.lastRenderedReducer=n;var i=r.dispatch,o=r.pending,s=e.memoizedState;if(o!==null){r.pending=null;var a=o=o.next;do s=n(s,a.action),a=a.next;while(a!==o);yh(s,e.memoizedState)||(hu=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,i]}function S9e(){}function k9e(n,e){var r=gs,i=mf(),o=e(),s=!yh(i.memoizedState,o);if(s&&(i.memoizedState=o,hu=!0),i=i.queue,bee(I9e.bind(null,r,i,n),[n]),i.getSnapshot!==e||s||za!==null&&za.memoizedState.tag&1){if(r.flags|=2048,v5(9,A9e.bind(null,r,i,o,e),void 0,null),Ka===null)throw Error(Et(349));bx&30||T9e(r,e,o)}return o}function T9e(n,e,r){n.flags|=16384,n={getSnapshot:e,value:r},e=gs.updateQueue,e===null?(e={lastEffect:null,stores:null},gs.updateQueue=e,e.stores=[n]):(r=e.stores,r===null?e.stores=[n]:r.push(n))}function A9e(n,e,r,i){e.value=r,e.getSnapshot=i,D9e(e)&&R9e(n)}function I9e(n,e,r){return r(function(){D9e(e)&&R9e(n)})}function D9e(n){var e=n.getSnapshot;n=n.value;try{var r=e();return!yh(n,r)}catch{return!0}}function R9e(n){var e=Ag(n,1);e!==null&&ch(e,n,1,-1)}function Ofe(n){var e=op();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:g5,lastRenderedState:n},e.queue=n,n=n.dispatch=r$t.bind(null,gs,n),[e.memoizedState,n]}function v5(n,e,r,i){return n={tag:n,create:e,destroy:r,deps:i,next:null},e=gs.updateQueue,e===null?(e={lastEffect:null,stores:null},gs.updateQueue=e,e.lastEffect=n.next=n):(r=e.lastEffect,r===null?e.lastEffect=n.next=n:(i=r.next,r.next=n,n.next=i,e.lastEffect=n)),n}function O9e(){return mf().memoizedState}function vL(n,e,r,i){var o=op();gs.flags|=n,o.memoizedState=v5(1|e,r,void 0,i===void 0?null:i)}function X8(n,e,r,i){var o=mf();i=i===void 0?null:i;var s=void 0;if(ba!==null){var a=ba.memoizedState;if(s=a.destroy,i!==null&&gee(i,a.deps)){o.memoizedState=v5(e,r,s,i);return}}gs.flags|=n,o.memoizedState=v5(1|e,r,s,i)}function Pfe(n,e){return vL(8390656,8,n,e)}function bee(n,e){return X8(2048,8,n,e)}function P9e(n,e){return X8(4,2,n,e)}function j9e(n,e){return X8(4,4,n,e)}function L9e(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function $9e(n,e,r){return r=r!=null?r.concat([n]):null,X8(4,4,L9e.bind(null,e,n),r)}function xee(){}function M9e(n,e){var r=mf();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&gee(e,i[1])?i[0]:(r.memoizedState=[n,e],n)}function F9e(n,e){var r=mf();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&gee(e,i[1])?i[0]:(n=n(),r.memoizedState=[n,e],n)}function N9e(n,e,r){return bx&21?(yh(r,e)||(r=z7e(),gs.lanes|=r,xx|=r,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,hu=!0),n.memoizedState=r)}function t$t(n,e){var r=Hi;Hi=r!==0&&4>r?r:4,n(!0);var i=CU.transition;CU.transition={};try{n(!1),e()}finally{Hi=r,CU.transition=i}}function B9e(){return mf().memoizedState}function n$t(n,e,r){var i=G0(n);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},U9e(n))z9e(e,r);else if(r=y9e(n,e,r,i),r!==null){var o=xc();ch(r,n,i,o),V9e(r,e,i)}}function r$t(n,e,r){var i=G0(n),o={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(U9e(n))z9e(e,o);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,l=s(a,r);if(o.hasEagerState=!0,o.eagerState=l,yh(l,a)){var c=e.interleaved;c===null?(o.next=o,dee(e)):(o.next=c.next,c.next=o),e.interleaved=o;return}}catch{}finally{}r=y9e(n,e,o,i),r!==null&&(o=xc(),ch(r,n,i,o),V9e(r,e,i))}}function U9e(n){var e=n.alternate;return n===gs||e!==null&&e===gs}function z9e(n,e){vA=c3=!0;var r=n.pending;r===null?e.next=e:(e.next=r.next,r.next=e),n.pending=e}function V9e(n,e,r){if(r&4194240){var i=e.lanes;i&=n.pendingLanes,r|=i,e.lanes=r,XJ(n,r)}}var u3={readContext:pf,useCallback:Al,useContext:Al,useEffect:Al,useImperativeHandle:Al,useInsertionEffect:Al,useLayoutEffect:Al,useMemo:Al,useReducer:Al,useRef:Al,useState:Al,useDebugValue:Al,useDeferredValue:Al,useTransition:Al,useMutableSource:Al,useSyncExternalStore:Al,useId:Al,unstable_isNewReconciler:!1},i$t={readContext:pf,useCallback:function(n,e){return op().memoizedState=[n,e===void 0?null:e],n},useContext:pf,useEffect:Pfe,useImperativeHandle:function(n,e,r){return r=r!=null?r.concat([n]):null,vL(4194308,4,L9e.bind(null,e,n),r)},useLayoutEffect:function(n,e){return vL(4194308,4,n,e)},useInsertionEffect:function(n,e){return vL(4,2,n,e)},useMemo:function(n,e){var r=op();return e=e===void 0?null:e,n=n(),r.memoizedState=[n,e],n},useReducer:function(n,e,r){var i=op();return e=r!==void 0?r(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=n$t.bind(null,gs,n),[i.memoizedState,n]},useRef:function(n){var e=op();return n={current:n},e.memoizedState=n},useState:Ofe,useDebugValue:xee,useDeferredValue:function(n){return op().memoizedState=n},useTransition:function(){var n=Ofe(!1),e=n[0];return n=t$t.bind(null,n[1]),op().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,r){var i=gs,o=op();if(rs){if(r===void 0)throw Error(Et(407));r=r()}else{if(r=e(),Ka===null)throw Error(Et(349));bx&30||T9e(i,e,r)}o.memoizedState=r;var s={value:r,getSnapshot:e};return o.queue=s,Pfe(I9e.bind(null,i,s,n),[n]),i.flags|=2048,v5(9,A9e.bind(null,i,s,r,e),void 0,null),r},useId:function(){var n=op(),e=Ka.identifierPrefix;if(rs){var r=og,i=ig;r=(i&~(1<<32-lh(i)-1)).toString(32)+r,e=":"+e+"R"+r,r=m5++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=e$t++,e=":"+e+"r"+r.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},o$t={readContext:pf,useCallback:M9e,useContext:pf,useEffect:bee,useImperativeHandle:$9e,useInsertionEffect:P9e,useLayoutEffect:j9e,useMemo:F9e,useReducer:SU,useRef:O9e,useState:function(){return SU(g5)},useDebugValue:xee,useDeferredValue:function(n){var e=mf();return N9e(e,ba.memoizedState,n)},useTransition:function(){var n=SU(g5)[0],e=mf().memoizedState;return[n,e]},useMutableSource:S9e,useSyncExternalStore:k9e,useId:B9e,unstable_isNewReconciler:!1},s$t={readContext:pf,useCallback:M9e,useContext:pf,useEffect:bee,useImperativeHandle:$9e,useInsertionEffect:P9e,useLayoutEffect:j9e,useMemo:F9e,useReducer:kU,useRef:O9e,useState:function(){return kU(g5)},useDebugValue:xee,useDeferredValue:function(n){var e=mf();return ba===null?e.memoizedState=n:N9e(e,ba.memoizedState,n)},useTransition:function(){var n=kU(g5)[0],e=mf().memoizedState;return[n,e]},useMutableSource:S9e,useSyncExternalStore:k9e,useId:B9e,unstable_isNewReconciler:!1};function BC(n,e){try{var r="",i=e;do r+=jjt(i),i=i.return;while(i);var o=r}catch(s){o=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:o,digest:null}}function TU(n,e,r){return{value:n,source:null,stack:r??null,digest:e??null}}function VG(n,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var a$t=typeof WeakMap=="function"?WeakMap:Map;function H9e(n,e,r){r=pg(-1,r),r.tag=3,r.payload={element:null};var i=e.value;return r.callback=function(){f3||(f3=!0,JG=i),VG(n,e)},r}function W9e(n,e,r){r=pg(-1,r),r.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var o=e.value;r.payload=function(){return i(o)},r.callback=function(){VG(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){VG(n,e),typeof i!="function"&&(W0===null?W0=new Set([this]):W0.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function jfe(n,e,r){var i=n.pingCache;if(i===null){i=n.pingCache=new a$t;var o=new Set;i.set(e,o)}else o=i.get(e),o===void 0&&(o=new Set,i.set(e,o));o.has(r)||(o.add(r),n=w$t.bind(null,n,e,r),e.then(n,n))}function Lfe(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function $fe(n,e,r,i,o){return n.mode&1?(n.flags|=65536,n.lanes=o,n):(n===e?n.flags|=65536:(n.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=pg(-1,1),e.tag=2,H0(r,e,1))),r.lanes|=1),n)}var l$t=Kg.ReactCurrentOwner,hu=!1;function gc(n,e,r,i){e.child=n===null?E9e(e,null,r,i):FC(e,n.child,r,i)}function Mfe(n,e,r,i,o){r=r.render;var s=e.ref;return qE(e,o),i=vee(n,e,r,i,s,o),r=yee(),n!==null&&!hu?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,Ig(n,e,o)):(rs&&r&&oee(e),e.flags|=1,gc(n,e,i,o),e.child)}function Ffe(n,e,r,i,o){if(n===null){var s=r.type;return typeof s=="function"&&!Aee(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,G9e(n,e,s,i,o)):(n=wL(r.type,null,i,e,e.mode,o),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&o)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:c5,r(a,i)&&n.ref===e.ref)return Ig(n,e,o)}return e.flags|=1,n=q0(s,i),n.ref=e.ref,n.return=e,e.child=n}function G9e(n,e,r,i,o){if(n!==null){var s=n.memoizedProps;if(c5(s,i)&&n.ref===e.ref)if(hu=!1,e.pendingProps=i=s,(n.lanes&o)!==0)n.flags&131072&&(hu=!0);else return e.lanes=n.lanes,Ig(n,e,o)}return HG(n,e,r,i,o)}function q9e(n,e,r){var i=e.pendingProps,o=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ao(yE,Hu),Hu|=r;else{if(!(r&1073741824))return n=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ao(yE,Hu),Hu|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:r,Ao(yE,Hu),Hu|=i}else s!==null?(i=s.baseLanes|r,e.memoizedState=null):i=r,Ao(yE,Hu),Hu|=i;return gc(n,e,o,r),e.child}function K9e(n,e){var r=e.ref;(n===null&&r!==null||n!==null&&n.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function HG(n,e,r,i,o){var s=mu(r)?vx:tc.current;return s=$C(e,s),qE(e,o),r=vee(n,e,r,i,s,o),i=yee(),n!==null&&!hu?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~o,Ig(n,e,o)):(rs&&i&&oee(e),e.flags|=1,gc(n,e,r,o),e.child)}function Nfe(n,e,r,i,o){if(mu(r)){var s=!0;n3(e)}else s=!1;if(qE(e,o),e.stateNode===null)yL(n,e),w9e(e,r,i),zG(e,r,i,o),i=!0;else if(n===null){var a=e.stateNode,l=e.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=pf(u):(u=mu(r)?vx:tc.current,u=$C(e,u));var f=r.getDerivedStateFromProps,h=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==i||c!==u)&&Dfe(e,a,i,u),e0=!1;var m=e.memoizedState;a.state=m,a3(e,i,a,o),c=e.memoizedState,l!==i||m!==c||pu.current||e0?(typeof f=="function"&&(UG(e,r,f,i),c=e.memoizedState),(l=e0||Ife(e,r,l,i,m,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),a.props=i,a.state=c,a.context=u,i=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,b9e(n,e),l=e.memoizedProps,u=e.type===e.elementType?l:zf(e.type,l),a.props=u,h=e.pendingProps,m=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=pf(c):(c=mu(r)?vx:tc.current,c=$C(e,c));var g=r.getDerivedStateFromProps;(f=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||m!==c)&&Dfe(e,a,i,c),e0=!1,m=e.memoizedState,a.state=m,a3(e,i,a,o);var v=e.memoizedState;l!==h||m!==v||pu.current||e0?(typeof g=="function"&&(UG(e,r,g,i),v=e.memoizedState),(u=e0||Ife(e,r,u,i,m,v,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,v,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),a.props=i,a.state=v,a.context=c,i=u):(typeof a.componentDidUpdate!="function"||l===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),i=!1)}return WG(n,e,r,i,s,o)}function WG(n,e,r,i,o,s){K9e(n,e);var a=(e.flags&128)!==0;if(!i&&!a)return o&&Cfe(e,r,!1),Ig(n,e,s);i=e.stateNode,l$t.current=e;var l=a&&typeof r.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&a?(e.child=FC(e,n.child,null,s),e.child=FC(e,null,l,s)):gc(n,e,l,s),e.memoizedState=i.state,o&&Cfe(e,r,!0),e.child}function Y9e(n){var e=n.stateNode;e.pendingContext?Efe(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Efe(n,e.context,!1),hee(n,e.containerInfo)}function Bfe(n,e,r,i,o){return MC(),aee(o),e.flags|=256,gc(n,e,r,i),e.child}var GG={dehydrated:null,treeContext:null,retryLane:0};function qG(n){return{baseLanes:n,cachePool:null,transitions:null}}function Z9e(n,e,r){var i=e.pendingProps,o=ds.current,s=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=n!==null&&n.memoizedState===null?!1:(o&2)!==0),l?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(o|=1),Ao(ds,o&1),n===null)return NG(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,n=i.fallback,s?(i=e.mode,s=e.child,a={mode:"hidden",children:a},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=e6(a,i,0,null),n=qb(n,i,r,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=qG(r),e.memoizedState=GG,n):wee(e,a));if(o=n.memoizedState,o!==null&&(l=o.dehydrated,l!==null))return c$t(n,e,a,i,l,o,r);if(s){s=i.fallback,a=e.mode,o=n.child,l=o.sibling;var c={mode:"hidden",children:i.children};return!(a&1)&&e.child!==o?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=q0(o,c),i.subtreeFlags=o.subtreeFlags&14680064),l!==null?s=q0(l,s):(s=qb(s,a,r,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,a=n.child.memoizedState,a=a===null?qG(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=n.childLanes&~r,e.memoizedState=GG,i}return s=n.child,n=s.sibling,i=q0(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=r),i.return=e,i.sibling=null,n!==null&&(r=e.deletions,r===null?(e.deletions=[n],e.flags|=16):r.push(n)),e.child=i,e.memoizedState=null,i}function wee(n,e){return e=e6({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function BO(n,e,r,i){return i!==null&&aee(i),FC(e,n.child,null,r),n=wee(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function c$t(n,e,r,i,o,s,a){if(r)return e.flags&256?(e.flags&=-257,i=TU(Error(Et(422))),BO(n,e,a,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,o=e.mode,i=e6({mode:"visible",children:i.children},o,0,null),s=qb(s,o,a,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&FC(e,n.child,null,a),e.child.memoizedState=qG(a),e.memoizedState=GG,s);if(!(e.mode&1))return BO(n,e,a,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var l=i.dgst;return i=l,s=Error(Et(419)),i=TU(s,i,void 0),BO(n,e,a,i)}if(l=(a&n.childLanes)!==0,hu||l){if(i=Ka,i!==null){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|a)?0:o,o!==0&&o!==s.retryLane&&(s.retryLane=o,Ag(n,o),ch(i,n,o,-1))}return Tee(),i=TU(Error(Et(421))),BO(n,e,a,i)}return o.data==="$?"?(e.flags|=128,e.child=n.child,e=_$t.bind(null,n),o._reactRetry=e,null):(n=s.treeContext,Xu=V0(o.nextSibling),ed=e,rs=!0,Wf=null,n!==null&&(Vd[Hd++]=ig,Vd[Hd++]=og,Vd[Hd++]=yx,ig=n.id,og=n.overflow,yx=e),e=wee(e,i.children),e.flags|=4096,e)}function Ufe(n,e,r){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),BG(n.return,e,r)}function AU(n,e,r,i,o){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:o}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=r,s.tailMode=o)}function X9e(n,e,r){var i=e.pendingProps,o=i.revealOrder,s=i.tail;if(gc(n,e,i.children,r),i=ds.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ufe(n,r,e);else if(n.tag===19)Ufe(n,r,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Ao(ds,i),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(r=e.child,o=null;r!==null;)n=r.alternate,n!==null&&l3(n)===null&&(o=r),r=r.sibling;r=o,r===null?(o=e.child,e.child=null):(o=r.sibling,r.sibling=null),AU(e,!1,o,r,s);break;case"backwards":for(r=null,o=e.child,e.child=null;o!==null;){if(n=o.alternate,n!==null&&l3(n)===null){e.child=o;break}n=o.sibling,o.sibling=r,r=o,o=n}AU(e,!0,r,null,s);break;case"together":AU(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function yL(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Ig(n,e,r){if(n!==null&&(e.dependencies=n.dependencies),xx|=e.lanes,!(r&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Et(153));if(e.child!==null){for(n=e.child,r=q0(n,n.pendingProps),e.child=r,r.return=e;n.sibling!==null;)n=n.sibling,r=r.sibling=q0(n,n.pendingProps),r.return=e;r.sibling=null}return e.child}function u$t(n,e,r){switch(e.tag){case 3:Y9e(e),MC();break;case 5:C9e(e);break;case 1:mu(e.type)&&n3(e);break;case 4:hee(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,o=e.memoizedProps.value;Ao(o3,i._currentValue),i._currentValue=o;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ao(ds,ds.current&1),e.flags|=128,null):r&e.child.childLanes?Z9e(n,e,r):(Ao(ds,ds.current&1),n=Ig(n,e,r),n!==null?n.sibling:null);Ao(ds,ds.current&1);break;case 19:if(i=(r&e.childLanes)!==0,n.flags&128){if(i)return X9e(n,e,r);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ao(ds,ds.current),i)break;return null;case 22:case 23:return e.lanes=0,q9e(n,e,r)}return Ig(n,e,r)}var Q9e,KG,J9e,eUe;Q9e=function(n,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)n.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};KG=function(){};J9e=function(n,e,r,i){var o=n.memoizedProps;if(o!==i){n=e.stateNode,Cb(Pp.current);var s=null;switch(r){case"input":o=gG(n,o),i=gG(n,i),s=[];break;case"select":o=ys({},o,{value:void 0}),i=ys({},i,{value:void 0}),s=[];break;case"textarea":o=bG(n,o),i=bG(n,i),s=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=e3)}wG(r,i);var a;r=null;for(u in o)if(!i.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var l=o[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(n5.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var c=i[u];if(l=o!=null?o[u]:void 0,i.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(n5.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Fo("scroll",n),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};eUe=function(n,e,r,i){r!==i&&(e.flags|=4)};function ok(n,e){if(!rs)switch(n.tailMode){case"hidden":e=n.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Il(n){var e=n.alternate!==null&&n.alternate.child===n.child,r=0,i=0;if(e)for(var o=n.child;o!==null;)r|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=n,o=o.sibling;else for(o=n.child;o!==null;)r|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=n,o=o.sibling;return n.subtreeFlags|=i,n.childLanes=r,e}function d$t(n,e,r){var i=e.pendingProps;switch(see(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Il(e),null;case 1:return mu(e.type)&&t3(),Il(e),null;case 3:return i=e.stateNode,NC(),Wo(pu),Wo(tc),mee(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(FO(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wf!==null&&(nq(Wf),Wf=null))),KG(n,e),Il(e),null;case 5:pee(e);var o=Cb(p5.current);if(r=e.type,n!==null&&e.stateNode!=null)J9e(n,e,r,i,o),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Et(166));return Il(e),null}if(n=Cb(Pp.current),FO(e)){i=e.stateNode,r=e.type;var s=e.memoizedProps;switch(i[bp]=e,i[f5]=s,n=(e.mode&1)!==0,r){case"dialog":Fo("cancel",i),Fo("close",i);break;case"iframe":case"object":case"embed":Fo("load",i);break;case"video":case"audio":for(o=0;o<mT.length;o++)Fo(mT[o],i);break;case"source":Fo("error",i);break;case"img":case"image":case"link":Fo("error",i),Fo("load",i);break;case"details":Fo("toggle",i);break;case"input":Zde(i,s),Fo("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Fo("invalid",i);break;case"textarea":Qde(i,s),Fo("invalid",i)}wG(r,s),o=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?i.textContent!==l&&(s.suppressHydrationWarning!==!0&&MO(i.textContent,l,n),o=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&MO(i.textContent,l,n),o=["children",""+l]):n5.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Fo("scroll",i)}switch(r){case"input":IO(i),Xde(i,s,!0);break;case"textarea":IO(i),Jde(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=e3)}i=o,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=o.nodeType===9?o:o.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=T7e(r)),n==="http://www.w3.org/1999/xhtml"?r==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=a.createElement(r,{is:i.is}):(n=a.createElement(r),r==="select"&&(a=n,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):n=a.createElementNS(n,r),n[bp]=e,n[f5]=i,Q9e(n,e,!1,!1),e.stateNode=n;e:{switch(a=_G(r,i),r){case"dialog":Fo("cancel",n),Fo("close",n),o=i;break;case"iframe":case"object":case"embed":Fo("load",n),o=i;break;case"video":case"audio":for(o=0;o<mT.length;o++)Fo(mT[o],n);o=i;break;case"source":Fo("error",n),o=i;break;case"img":case"image":case"link":Fo("error",n),Fo("load",n),o=i;break;case"details":Fo("toggle",n),o=i;break;case"input":Zde(n,i),o=gG(n,i),Fo("invalid",n);break;case"option":o=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},o=ys({},i,{value:void 0}),Fo("invalid",n);break;case"textarea":Qde(n,i),o=bG(n,i),Fo("invalid",n);break;default:o=i}wG(r,o),l=o;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?D7e(n,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&A7e(n,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&r5(n,c):typeof c=="number"&&r5(n,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(n5.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Fo("scroll",n):c!=null&&WJ(n,s,c,a))}switch(r){case"input":IO(n),Xde(n,i,!1);break;case"textarea":IO(n),Jde(n);break;case"option":i.value!=null&&n.setAttribute("value",""+cy(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?VE(n,!!i.multiple,s,!1):i.defaultValue!=null&&VE(n,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(n.onclick=e3)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Il(e),null;case 6:if(n&&e.stateNode!=null)eUe(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Et(166));if(r=Cb(p5.current),Cb(Pp.current),FO(e)){if(i=e.stateNode,r=e.memoizedProps,i[bp]=e,(s=i.nodeValue!==r)&&(n=ed,n!==null))switch(n.tag){case 3:MO(i.nodeValue,r,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&MO(i.nodeValue,r,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[bp]=e,e.stateNode=i}return Il(e),null;case 13:if(Wo(ds),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(rs&&Xu!==null&&e.mode&1&&!(e.flags&128))v9e(),MC(),e.flags|=98560,s=!1;else if(s=FO(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Et(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Et(317));s[bp]=e}else MC(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Il(e),s=!1}else Wf!==null&&(nq(Wf),Wf=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||ds.current&1?Ea===0&&(Ea=3):Tee())),e.updateQueue!==null&&(e.flags|=4),Il(e),null);case 4:return NC(),KG(n,e),n===null&&u5(e.stateNode.containerInfo),Il(e),null;case 10:return uee(e.type._context),Il(e),null;case 17:return mu(e.type)&&t3(),Il(e),null;case 19:if(Wo(ds),s=e.memoizedState,s===null)return Il(e),null;if(i=(e.flags&128)!==0,a=s.rendering,a===null)if(i)ok(s,!1);else{if(Ea!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=l3(n),a!==null){for(e.flags|=128,ok(s,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=r,r=e.child;r!==null;)s=r,n=i,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,n=a.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),r=r.sibling;return Ao(ds,ds.current&1|2),e.child}n=n.sibling}s.tail!==null&&Bs()>UC&&(e.flags|=128,i=!0,ok(s,!1),e.lanes=4194304)}else{if(!i)if(n=l3(a),n!==null){if(e.flags|=128,i=!0,r=n.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ok(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!rs)return Il(e),null}else 2*Bs()-s.renderingStartTime>UC&&r!==1073741824&&(e.flags|=128,i=!0,ok(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Bs(),e.sibling=null,r=ds.current,Ao(ds,i?r&1|2:r&1),e):(Il(e),null);case 22:case 23:return kee(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Hu&1073741824&&(Il(e),e.subtreeFlags&6&&(e.flags|=8192)):Il(e),null;case 24:return null;case 25:return null}throw Error(Et(156,e.tag))}function f$t(n,e){switch(see(e),e.tag){case 1:return mu(e.type)&&t3(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return NC(),Wo(pu),Wo(tc),mee(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return pee(e),null;case 13:if(Wo(ds),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Et(340));MC()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Wo(ds),null;case 4:return NC(),null;case 10:return uee(e.type._context),null;case 22:case 23:return kee(),null;case 24:return null;default:return null}}var UO=!1,Wl=!1,h$t=typeof WeakSet=="function"?WeakSet:Set,nn=null;function vE(n,e){var r=n.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){Cs(n,e,i)}else r.current=null}function YG(n,e,r){try{r()}catch(i){Cs(n,e,i)}}var zfe=!1;function p$t(n,e){if(OG=XM,n=i9e(),iee(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var o=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,f=0,h=n,m=null;t:for(;;){for(var g;h!==r||o!==0&&h.nodeType!==3||(l=a+o),h!==s||i!==0&&h.nodeType!==3||(c=a+i),h.nodeType===3&&(a+=h.nodeValue.length),(g=h.firstChild)!==null;)m=h,h=g;for(;;){if(h===n)break t;if(m===r&&++u===o&&(l=a),m===s&&++f===i&&(c=a),(g=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=g}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(PG={focusedElem:n,selectionRange:r},XM=!1,nn=e;nn!==null;)if(e=nn,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,nn=n;else for(;nn!==null;){e=nn;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,b=v.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:zf(e.type,y),b);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Et(163))}}catch(C){Cs(e,e.return,C)}if(n=e.sibling,n!==null){n.return=e.return,nn=n;break}nn=e.return}return v=zfe,zfe=!1,v}function yA(n,e,r){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&n)===n){var s=o.destroy;o.destroy=void 0,s!==void 0&&YG(e,r,s)}o=o.next}while(o!==i)}}function Q8(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&n)===n){var i=r.create;r.destroy=i()}r=r.next}while(r!==e)}}function ZG(n){var e=n.ref;if(e!==null){var r=n.stateNode;switch(n.tag){case 5:n=r;break;default:n=r}typeof e=="function"?e(n):e.current=n}}function tUe(n){var e=n.alternate;e!==null&&(n.alternate=null,tUe(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[bp],delete e[f5],delete e[$G],delete e[ZLt],delete e[XLt])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function nUe(n){return n.tag===5||n.tag===3||n.tag===4}function Vfe(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||nUe(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function XG(n,e,r){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(n,e):r.insertBefore(n,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(n,r)):(e=r,e.appendChild(n)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=e3));else if(i!==4&&(n=n.child,n!==null))for(XG(n,e,r),n=n.sibling;n!==null;)XG(n,e,r),n=n.sibling}function QG(n,e,r){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?r.insertBefore(n,e):r.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(QG(n,e,r),n=n.sibling;n!==null;)QG(n,e,r),n=n.sibling}var nl=null,Hf=!1;function Av(n,e,r){for(r=r.child;r!==null;)rUe(n,e,r),r=r.sibling}function rUe(n,e,r){if(Op&&typeof Op.onCommitFiberUnmount=="function")try{Op.onCommitFiberUnmount(H8,r)}catch{}switch(r.tag){case 5:Wl||vE(r,e);case 6:var i=nl,o=Hf;nl=null,Av(n,e,r),nl=i,Hf=o,nl!==null&&(Hf?(n=nl,r=r.stateNode,n.nodeType===8?n.parentNode.removeChild(r):n.removeChild(r)):nl.removeChild(r.stateNode));break;case 18:nl!==null&&(Hf?(n=nl,r=r.stateNode,n.nodeType===8?wU(n.parentNode,r):n.nodeType===1&&wU(n,r),a5(n)):wU(nl,r.stateNode));break;case 4:i=nl,o=Hf,nl=r.stateNode.containerInfo,Hf=!0,Av(n,e,r),nl=i,Hf=o;break;case 0:case 11:case 14:case 15:if(!Wl&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var s=o,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&YG(r,e,a),o=o.next}while(o!==i)}Av(n,e,r);break;case 1:if(!Wl&&(vE(r,e),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(l){Cs(r,e,l)}Av(n,e,r);break;case 21:Av(n,e,r);break;case 22:r.mode&1?(Wl=(i=Wl)||r.memoizedState!==null,Av(n,e,r),Wl=i):Av(n,e,r);break;default:Av(n,e,r)}}function Hfe(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var r=n.stateNode;r===null&&(r=n.stateNode=new h$t),e.forEach(function(i){var o=E$t.bind(null,n,i);r.has(i)||(r.add(i),i.then(o,o))})}}function Lf(n,e){var r=e.deletions;if(r!==null)for(var i=0;i<r.length;i++){var o=r[i];try{var s=n,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 5:nl=l.stateNode,Hf=!1;break e;case 3:nl=l.stateNode.containerInfo,Hf=!0;break e;case 4:nl=l.stateNode.containerInfo,Hf=!0;break e}l=l.return}if(nl===null)throw Error(Et(160));rUe(s,a,o),nl=null,Hf=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(u){Cs(o,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iUe(e,n),e=e.sibling}function iUe(n,e){var r=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Lf(e,n),Fh(n),i&4){try{yA(3,n,n.return),Q8(3,n)}catch(y){Cs(n,n.return,y)}try{yA(5,n,n.return)}catch(y){Cs(n,n.return,y)}}break;case 1:Lf(e,n),Fh(n),i&512&&r!==null&&vE(r,r.return);break;case 5:if(Lf(e,n),Fh(n),i&512&&r!==null&&vE(r,r.return),n.flags&32){var o=n.stateNode;try{r5(o,"")}catch(y){Cs(n,n.return,y)}}if(i&4&&(o=n.stateNode,o!=null)){var s=n.memoizedProps,a=r!==null?r.memoizedProps:s,l=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&S7e(o,s),_G(l,a);var u=_G(l,s);for(a=0;a<c.length;a+=2){var f=c[a],h=c[a+1];f==="style"?D7e(o,h):f==="dangerouslySetInnerHTML"?A7e(o,h):f==="children"?r5(o,h):WJ(o,f,h,u)}switch(l){case"input":vG(o,s);break;case"textarea":k7e(o,s);break;case"select":var m=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?VE(o,!!s.multiple,g,!1):m!==!!s.multiple&&(s.defaultValue!=null?VE(o,!!s.multiple,s.defaultValue,!0):VE(o,!!s.multiple,s.multiple?[]:"",!1))}o[f5]=s}catch(y){Cs(n,n.return,y)}}break;case 6:if(Lf(e,n),Fh(n),i&4){if(n.stateNode===null)throw Error(Et(162));o=n.stateNode,s=n.memoizedProps;try{o.nodeValue=s}catch(y){Cs(n,n.return,y)}}break;case 3:if(Lf(e,n),Fh(n),i&4&&r!==null&&r.memoizedState.isDehydrated)try{a5(e.containerInfo)}catch(y){Cs(n,n.return,y)}break;case 4:Lf(e,n),Fh(n);break;case 13:Lf(e,n),Fh(n),o=n.child,o.flags&8192&&(s=o.memoizedState!==null,o.stateNode.isHidden=s,!s||o.alternate!==null&&o.alternate.memoizedState!==null||(Cee=Bs())),i&4&&Hfe(n);break;case 22:if(f=r!==null&&r.memoizedState!==null,n.mode&1?(Wl=(u=Wl)||f,Lf(e,n),Wl=u):Lf(e,n),Fh(n),i&8192){if(u=n.memoizedState!==null,(n.stateNode.isHidden=u)&&!f&&n.mode&1)for(nn=n,f=n.child;f!==null;){for(h=nn=f;nn!==null;){switch(m=nn,g=m.child,m.tag){case 0:case 11:case 14:case 15:yA(4,m,m.return);break;case 1:vE(m,m.return);var v=m.stateNode;if(typeof v.componentWillUnmount=="function"){i=m,r=m.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Cs(i,r,y)}}break;case 5:vE(m,m.return);break;case 22:if(m.memoizedState!==null){Gfe(h);continue}}g!==null?(g.return=m,nn=g):Gfe(h)}f=f.sibling}e:for(f=null,h=n;;){if(h.tag===5){if(f===null){f=h;try{o=h.stateNode,u?(s=o.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=I7e("display",a))}catch(y){Cs(n,n.return,y)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Cs(n,n.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Lf(e,n),Fh(n),i&4&&Hfe(n);break;case 21:break;default:Lf(e,n),Fh(n)}}function Fh(n){var e=n.flags;if(e&2){try{e:{for(var r=n.return;r!==null;){if(nUe(r)){var i=r;break e}r=r.return}throw Error(Et(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(r5(o,""),i.flags&=-33);var s=Vfe(n);QG(n,s,o);break;case 3:case 4:var a=i.stateNode.containerInfo,l=Vfe(n);XG(n,l,a);break;default:throw Error(Et(161))}}catch(c){Cs(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function m$t(n,e,r){nn=n,oUe(n)}function oUe(n,e,r){for(var i=(n.mode&1)!==0;nn!==null;){var o=nn,s=o.child;if(o.tag===22&&i){var a=o.memoizedState!==null||UO;if(!a){var l=o.alternate,c=l!==null&&l.memoizedState!==null||Wl;l=UO;var u=Wl;if(UO=a,(Wl=c)&&!u)for(nn=o;nn!==null;)a=nn,c=a.child,a.tag===22&&a.memoizedState!==null?qfe(o):c!==null?(c.return=a,nn=c):qfe(o);for(;s!==null;)nn=s,oUe(s),s=s.sibling;nn=o,UO=l,Wl=u}Wfe(n)}else o.subtreeFlags&8772&&s!==null?(s.return=o,nn=s):Wfe(n)}}function Wfe(n){for(;nn!==null;){var e=nn;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wl||Q8(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Wl)if(r===null)i.componentDidMount();else{var o=e.elementType===e.type?r.memoizedProps:zf(e.type,r.memoizedProps);i.componentDidUpdate(o,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Afe(e,s,i);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Afe(e,a,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&a5(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Et(163))}Wl||e.flags&512&&ZG(e)}catch(m){Cs(e,e.return,m)}}if(e===n){nn=null;break}if(r=e.sibling,r!==null){r.return=e.return,nn=r;break}nn=e.return}}function Gfe(n){for(;nn!==null;){var e=nn;if(e===n){nn=null;break}var r=e.sibling;if(r!==null){r.return=e.return,nn=r;break}nn=e.return}}function qfe(n){for(;nn!==null;){var e=nn;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Q8(4,e)}catch(c){Cs(e,r,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var o=e.return;try{i.componentDidMount()}catch(c){Cs(e,o,c)}}var s=e.return;try{ZG(e)}catch(c){Cs(e,s,c)}break;case 5:var a=e.return;try{ZG(e)}catch(c){Cs(e,a,c)}}}catch(c){Cs(e,e.return,c)}if(e===n){nn=null;break}var l=e.sibling;if(l!==null){l.return=e.return,nn=l;break}nn=e.return}}var g$t=Math.ceil,d3=Kg.ReactCurrentDispatcher,_ee=Kg.ReactCurrentOwner,nf=Kg.ReactCurrentBatchConfig,oi=0,Ka=null,ra=null,hl=0,Hu=0,yE=Oy(0),Ea=0,y5=null,xx=0,J8=0,Eee=0,bA=null,au=null,Cee=0,UC=1/0,Gm=null,f3=!1,JG=null,W0=null,zO=!1,E0=null,h3=0,xA=0,eq=null,bL=-1,xL=0;function xc(){return oi&6?Bs():bL!==-1?bL:bL=Bs()}function G0(n){return n.mode&1?oi&2&&hl!==0?hl&-hl:JLt.transition!==null?(xL===0&&(xL=z7e()),xL):(n=Hi,n!==0||(n=window.event,n=n===void 0?16:Y7e(n.type)),n):1}function ch(n,e,r,i){if(50<xA)throw xA=0,eq=null,Error(Et(185));JI(n,r,i),(!(oi&2)||n!==Ka)&&(n===Ka&&(!(oi&2)&&(J8|=r),Ea===4&&h0(n,hl)),gu(n,i),r===1&&oi===0&&!(e.mode&1)&&(UC=Bs()+500,Y8&&Py()))}function gu(n,e){var r=n.callbackNode;Jjt(n,e);var i=ZM(n,n===Ka?hl:0);if(i===0)r!==null&&nfe(r),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(r!=null&&nfe(r),e===1)n.tag===0?QLt(Kfe.bind(null,n)):p9e(Kfe.bind(null,n)),KLt(function(){!(oi&6)&&Py()}),r=null;else{switch(V7e(i)){case 1:r=ZJ;break;case 4:r=B7e;break;case 16:r=YM;break;case 536870912:r=U7e;break;default:r=YM}r=hUe(r,sUe.bind(null,n))}n.callbackPriority=e,n.callbackNode=r}}function sUe(n,e){if(bL=-1,xL=0,oi&6)throw Error(Et(327));var r=n.callbackNode;if(KE()&&n.callbackNode!==r)return null;var i=ZM(n,n===Ka?hl:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=p3(n,i);else{e=i;var o=oi;oi|=2;var s=lUe();(Ka!==n||hl!==e)&&(Gm=null,UC=Bs()+500,Gb(n,e));do try{b$t();break}catch(l){aUe(n,l)}while(1);cee(),d3.current=s,oi=o,ra!==null?e=0:(Ka=null,hl=0,e=Ea)}if(e!==0){if(e===2&&(o=TG(n),o!==0&&(i=o,e=tq(n,o))),e===1)throw r=y5,Gb(n,0),h0(n,i),gu(n,Bs()),r;if(e===6)h0(n,i);else{if(o=n.current.alternate,!(i&30)&&!v$t(o)&&(e=p3(n,i),e===2&&(s=TG(n),s!==0&&(i=s,e=tq(n,s))),e===1))throw r=y5,Gb(n,0),h0(n,i),gu(n,Bs()),r;switch(n.finishedWork=o,n.finishedLanes=i,e){case 0:case 1:throw Error(Et(345));case 2:F1(n,au,Gm);break;case 3:if(h0(n,i),(i&130023424)===i&&(e=Cee+500-Bs(),10<e)){if(ZM(n,0)!==0)break;if(o=n.suspendedLanes,(o&i)!==i){xc(),n.pingedLanes|=n.suspendedLanes&o;break}n.timeoutHandle=LG(F1.bind(null,n,au,Gm),e);break}F1(n,au,Gm);break;case 4:if(h0(n,i),(i&4194240)===i)break;for(e=n.eventTimes,o=-1;0<i;){var a=31-lh(i);s=1<<a,a=e[a],a>o&&(o=a),i&=~s}if(i=o,i=Bs()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*g$t(i/1960))-i,10<i){n.timeoutHandle=LG(F1.bind(null,n,au,Gm),i);break}F1(n,au,Gm);break;case 5:F1(n,au,Gm);break;default:throw Error(Et(329))}}}return gu(n,Bs()),n.callbackNode===r?sUe.bind(null,n):null}function tq(n,e){var r=bA;return n.current.memoizedState.isDehydrated&&(Gb(n,e).flags|=256),n=p3(n,e),n!==2&&(e=au,au=r,e!==null&&nq(e)),n}function nq(n){au===null?au=n:au.push.apply(au,n)}function v$t(n){for(var e=n;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var o=r[i],s=o.getSnapshot;o=o.value;try{if(!yh(s(),o))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function h0(n,e){for(e&=~Eee,e&=~J8,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var r=31-lh(e),i=1<<r;n[r]=-1,e&=~i}}function Kfe(n){if(oi&6)throw Error(Et(327));KE();var e=ZM(n,0);if(!(e&1))return gu(n,Bs()),null;var r=p3(n,e);if(n.tag!==0&&r===2){var i=TG(n);i!==0&&(e=i,r=tq(n,i))}if(r===1)throw r=y5,Gb(n,0),h0(n,e),gu(n,Bs()),r;if(r===6)throw Error(Et(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,F1(n,au,Gm),gu(n,Bs()),null}function See(n,e){var r=oi;oi|=1;try{return n(e)}finally{oi=r,oi===0&&(UC=Bs()+500,Y8&&Py())}}function wx(n){E0!==null&&E0.tag===0&&!(oi&6)&&KE();var e=oi;oi|=1;var r=nf.transition,i=Hi;try{if(nf.transition=null,Hi=1,n)return n()}finally{Hi=i,nf.transition=r,oi=e,!(oi&6)&&Py()}}function kee(){Hu=yE.current,Wo(yE)}function Gb(n,e){n.finishedWork=null,n.finishedLanes=0;var r=n.timeoutHandle;if(r!==-1&&(n.timeoutHandle=-1,qLt(r)),ra!==null)for(r=ra.return;r!==null;){var i=r;switch(see(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&t3();break;case 3:NC(),Wo(pu),Wo(tc),mee();break;case 5:pee(i);break;case 4:NC();break;case 13:Wo(ds);break;case 19:Wo(ds);break;case 10:uee(i.type._context);break;case 22:case 23:kee()}r=r.return}if(Ka=n,ra=n=q0(n.current,null),hl=Hu=e,Ea=0,y5=null,Eee=J8=xx=0,au=bA=null,Eb!==null){for(e=0;e<Eb.length;e++)if(r=Eb[e],i=r.interleaved,i!==null){r.interleaved=null;var o=i.next,s=r.pending;if(s!==null){var a=s.next;s.next=o,i.next=a}r.pending=i}Eb=null}return n}function aUe(n,e){do{var r=ra;try{if(cee(),gL.current=u3,c3){for(var i=gs.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}c3=!1}if(bx=0,za=ba=gs=null,vA=!1,m5=0,_ee.current=null,r===null||r.return===null){Ea=1,y5=e,ra=null;break}e:{var s=n,a=r.return,l=r,c=e;if(e=hl,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=Lfe(a);if(g!==null){g.flags&=-257,$fe(g,a,l,s,e),g.mode&1&&jfe(s,u,e),e=g,c=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(c),e.updateQueue=y}else v.add(c);break e}else{if(!(e&1)){jfe(s,u,e),Tee();break e}c=Error(Et(426))}}else if(rs&&l.mode&1){var b=Lfe(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),$fe(b,a,l,s,e),aee(BC(c,l));break e}}s=c=BC(c,l),Ea!==4&&(Ea=2),bA===null?bA=[s]:bA.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=H9e(s,c,e);Tfe(s,x);break e;case 1:l=c;var _=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(W0===null||!W0.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=W9e(s,l,e);Tfe(s,C);break e}}s=s.return}while(s!==null)}uUe(r)}catch(S){e=S,ra===r&&r!==null&&(ra=r=r.return);continue}break}while(1)}function lUe(){var n=d3.current;return d3.current=u3,n===null?u3:n}function Tee(){(Ea===0||Ea===3||Ea===2)&&(Ea=4),Ka===null||!(xx&268435455)&&!(J8&268435455)||h0(Ka,hl)}function p3(n,e){var r=oi;oi|=2;var i=lUe();(Ka!==n||hl!==e)&&(Gm=null,Gb(n,e));do try{y$t();break}catch(o){aUe(n,o)}while(1);if(cee(),oi=r,d3.current=i,ra!==null)throw Error(Et(261));return Ka=null,hl=0,Ea}function y$t(){for(;ra!==null;)cUe(ra)}function b$t(){for(;ra!==null&&!Hjt();)cUe(ra)}function cUe(n){var e=fUe(n.alternate,n,Hu);n.memoizedProps=n.pendingProps,e===null?uUe(n):ra=e,_ee.current=null}function uUe(n){var e=n;do{var r=e.alternate;if(n=e.return,e.flags&32768){if(r=f$t(r,e),r!==null){r.flags&=32767,ra=r;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ea=6,ra=null;return}}else if(r=d$t(r,e,Hu),r!==null){ra=r;return}if(e=e.sibling,e!==null){ra=e;return}ra=e=n}while(e!==null);Ea===0&&(Ea=5)}function F1(n,e,r){var i=Hi,o=nf.transition;try{nf.transition=null,Hi=1,x$t(n,e,r,i)}finally{nf.transition=o,Hi=i}return null}function x$t(n,e,r,i){do KE();while(E0!==null);if(oi&6)throw Error(Et(327));r=n.finishedWork;var o=n.finishedLanes;if(r===null)return null;if(n.finishedWork=null,n.finishedLanes=0,r===n.current)throw Error(Et(177));n.callbackNode=null,n.callbackPriority=0;var s=r.lanes|r.childLanes;if(eLt(n,s),n===Ka&&(ra=Ka=null,hl=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zO||(zO=!0,hUe(YM,function(){return KE(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=nf.transition,nf.transition=null;var a=Hi;Hi=1;var l=oi;oi|=4,_ee.current=null,p$t(n,r),iUe(r,n),BLt(PG),XM=!!OG,PG=OG=null,n.current=r,m$t(r),Wjt(),oi=l,Hi=a,nf.transition=s}else n.current=r;if(zO&&(zO=!1,E0=n,h3=o),s=n.pendingLanes,s===0&&(W0=null),Kjt(r.stateNode),gu(n,Bs()),e!==null)for(i=n.onRecoverableError,r=0;r<e.length;r++)o=e[r],i(o.value,{componentStack:o.stack,digest:o.digest});if(f3)throw f3=!1,n=JG,JG=null,n;return h3&1&&n.tag!==0&&KE(),s=n.pendingLanes,s&1?n===eq?xA++:(xA=0,eq=n):xA=0,Py(),null}function KE(){if(E0!==null){var n=V7e(h3),e=nf.transition,r=Hi;try{if(nf.transition=null,Hi=16>n?16:n,E0===null)var i=!1;else{if(n=E0,E0=null,h3=0,oi&6)throw Error(Et(331));var o=oi;for(oi|=4,nn=n.current;nn!==null;){var s=nn,a=s.child;if(nn.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(nn=u;nn!==null;){var f=nn;switch(f.tag){case 0:case 11:case 15:yA(8,f,s)}var h=f.child;if(h!==null)h.return=f,nn=h;else for(;nn!==null;){f=nn;var m=f.sibling,g=f.return;if(tUe(f),f===u){nn=null;break}if(m!==null){m.return=g,nn=m;break}nn=g}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}nn=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,nn=a;else e:for(;nn!==null;){if(s=nn,s.flags&2048)switch(s.tag){case 0:case 11:case 15:yA(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,nn=x;break e}nn=s.return}}var _=n.current;for(nn=_;nn!==null;){a=nn;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,nn=w;else e:for(a=_;nn!==null;){if(l=nn,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Q8(9,l)}}catch(S){Cs(l,l.return,S)}if(l===a){nn=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,nn=C;break e}nn=l.return}}if(oi=o,Py(),Op&&typeof Op.onPostCommitFiberRoot=="function")try{Op.onPostCommitFiberRoot(H8,n)}catch{}i=!0}return i}finally{Hi=r,nf.transition=e}}return!1}function Yfe(n,e,r){e=BC(r,e),e=H9e(n,e,1),n=H0(n,e,1),e=xc(),n!==null&&(JI(n,1,e),gu(n,e))}function Cs(n,e,r){if(n.tag===3)Yfe(n,n,r);else for(;e!==null;){if(e.tag===3){Yfe(e,n,r);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(W0===null||!W0.has(i))){n=BC(r,n),n=W9e(e,n,1),e=H0(e,n,1),n=xc(),e!==null&&(JI(e,1,n),gu(e,n));break}}e=e.return}}function w$t(n,e,r){var i=n.pingCache;i!==null&&i.delete(e),e=xc(),n.pingedLanes|=n.suspendedLanes&r,Ka===n&&(hl&r)===r&&(Ea===4||Ea===3&&(hl&130023424)===hl&&500>Bs()-Cee?Gb(n,0):Eee|=r),gu(n,e)}function dUe(n,e){e===0&&(n.mode&1?(e=OO,OO<<=1,!(OO&130023424)&&(OO=4194304)):e=1);var r=xc();n=Ag(n,e),n!==null&&(JI(n,e,r),gu(n,r))}function _$t(n){var e=n.memoizedState,r=0;e!==null&&(r=e.retryLane),dUe(n,r)}function E$t(n,e){var r=0;switch(n.tag){case 13:var i=n.stateNode,o=n.memoizedState;o!==null&&(r=o.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Et(314))}i!==null&&i.delete(e),dUe(n,r)}var fUe;fUe=function(n,e,r){if(n!==null)if(n.memoizedProps!==e.pendingProps||pu.current)hu=!0;else{if(!(n.lanes&r)&&!(e.flags&128))return hu=!1,u$t(n,e,r);hu=!!(n.flags&131072)}else hu=!1,rs&&e.flags&1048576&&m9e(e,i3,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;yL(n,e),n=e.pendingProps;var o=$C(e,tc.current);qE(e,r),o=vee(null,e,i,n,o,r);var s=yee();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mu(i)?(s=!0,n3(e)):s=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,fee(e),o.updater=Z8,e.stateNode=o,o._reactInternals=e,zG(e,i,n,r),e=WG(null,e,i,!0,s,r)):(e.tag=0,rs&&s&&oee(e),gc(null,e,o,r),e=e.child),e;case 16:i=e.elementType;e:{switch(yL(n,e),n=e.pendingProps,o=i._init,i=o(i._payload),e.type=i,o=e.tag=S$t(i),n=zf(i,n),o){case 0:e=HG(null,e,i,n,r);break e;case 1:e=Nfe(null,e,i,n,r);break e;case 11:e=Mfe(null,e,i,n,r);break e;case 14:e=Ffe(null,e,i,zf(i.type,n),r);break e}throw Error(Et(306,i,""))}return e;case 0:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:zf(i,o),HG(n,e,i,o,r);case 1:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:zf(i,o),Nfe(n,e,i,o,r);case 3:e:{if(Y9e(e),n===null)throw Error(Et(387));i=e.pendingProps,s=e.memoizedState,o=s.element,b9e(n,e),a3(e,i,null,r);var a=e.memoizedState;if(i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){o=BC(Error(Et(423)),e),e=Bfe(n,e,i,r,o);break e}else if(i!==o){o=BC(Error(Et(424)),e),e=Bfe(n,e,i,r,o);break e}else for(Xu=V0(e.stateNode.containerInfo.firstChild),ed=e,rs=!0,Wf=null,r=E9e(e,null,i,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(MC(),i===o){e=Ig(n,e,r);break e}gc(n,e,i,r)}e=e.child}return e;case 5:return C9e(e),n===null&&NG(e),i=e.type,o=e.pendingProps,s=n!==null?n.memoizedProps:null,a=o.children,jG(i,o)?a=null:s!==null&&jG(i,s)&&(e.flags|=32),K9e(n,e),gc(n,e,a,r),e.child;case 6:return n===null&&NG(e),null;case 13:return Z9e(n,e,r);case 4:return hee(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=FC(e,null,i,r):gc(n,e,i,r),e.child;case 11:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:zf(i,o),Mfe(n,e,i,o,r);case 7:return gc(n,e,e.pendingProps,r),e.child;case 8:return gc(n,e,e.pendingProps.children,r),e.child;case 12:return gc(n,e,e.pendingProps.children,r),e.child;case 10:e:{if(i=e.type._context,o=e.pendingProps,s=e.memoizedProps,a=o.value,Ao(o3,i._currentValue),i._currentValue=a,s!==null)if(yh(s.value,a)){if(s.children===o.children&&!pu.current){e=Ig(n,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===i){if(s.tag===1){c=pg(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),BG(s.return,r,e),l.lanes|=r;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Et(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),BG(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}gc(n,e,o.children,r),e=e.child}return e;case 9:return o=e.type,i=e.pendingProps.children,qE(e,r),o=pf(o),i=i(o),e.flags|=1,gc(n,e,i,r),e.child;case 14:return i=e.type,o=zf(i,e.pendingProps),o=zf(i.type,o),Ffe(n,e,i,o,r);case 15:return G9e(n,e,e.type,e.pendingProps,r);case 17:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:zf(i,o),yL(n,e),e.tag=1,mu(i)?(n=!0,n3(e)):n=!1,qE(e,r),w9e(e,i,o),zG(e,i,o,r),WG(null,e,i,!0,n,r);case 19:return X9e(n,e,r);case 22:return q9e(n,e,r)}throw Error(Et(156,e.tag))};function hUe(n,e){return N7e(n,e)}function C$t(n,e,r,i){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qd(n,e,r,i){return new C$t(n,e,r,i)}function Aee(n){return n=n.prototype,!(!n||!n.isReactComponent)}function S$t(n){if(typeof n=="function")return Aee(n)?1:0;if(n!=null){if(n=n.$$typeof,n===qJ)return 11;if(n===KJ)return 14}return 2}function q0(n,e){var r=n.alternate;return r===null?(r=Qd(n.tag,e,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=e,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&14680064,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,e=n.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r}function wL(n,e,r,i,o,s){var a=2;if(i=n,typeof n=="function")Aee(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case lE:return qb(r.children,o,s,e);case GJ:a=8,o|=8;break;case fG:return n=Qd(12,r,e,o|2),n.elementType=fG,n.lanes=s,n;case hG:return n=Qd(13,r,e,o),n.elementType=hG,n.lanes=s,n;case pG:return n=Qd(19,r,e,o),n.elementType=pG,n.lanes=s,n;case _7e:return e6(r,o,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case x7e:a=10;break e;case w7e:a=9;break e;case qJ:a=11;break e;case KJ:a=14;break e;case Jv:a=16,i=null;break e}throw Error(Et(130,n==null?n:typeof n,""))}return e=Qd(a,r,e,o),e.elementType=n,e.type=i,e.lanes=s,e}function qb(n,e,r,i){return n=Qd(7,n,i,e),n.lanes=r,n}function e6(n,e,r,i){return n=Qd(22,n,i,e),n.elementType=_7e,n.lanes=r,n.stateNode={isHidden:!1},n}function IU(n,e,r){return n=Qd(6,n,null,e),n.lanes=r,n}function DU(n,e,r){return e=Qd(4,n.children!==null?n.children:[],n.key,e),e.lanes=r,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function k$t(n,e,r,i,o){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uU(0),this.expirationTimes=uU(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uU(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Iee(n,e,r,i,o,s,a,l,c){return n=new k$t(n,e,r,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qd(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},fee(s),n}function T$t(n,e,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:aE,key:i==null?null:""+i,children:n,containerInfo:e,implementation:r}}function pUe(n){if(!n)return uy;n=n._reactInternals;e:{if(Yx(n)!==n||n.tag!==1)throw Error(Et(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mu(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Et(171))}if(n.tag===1){var r=n.type;if(mu(r))return h9e(n,r,e)}return e}function mUe(n,e,r,i,o,s,a,l,c){return n=Iee(r,i,!0,n,o,s,a,l,c),n.context=pUe(null),r=n.current,i=xc(),o=G0(r),s=pg(i,o),s.callback=e??null,H0(r,s,o),n.current.lanes=o,JI(n,o,i),gu(n,i),n}function t6(n,e,r,i){var o=e.current,s=xc(),a=G0(o);return r=pUe(r),e.context===null?e.context=r:e.pendingContext=r,e=pg(s,a),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=H0(o,e,a),n!==null&&(ch(n,o,a,s),mL(n,o,a)),a}function m3(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Zfe(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<e?r:e}}function Dee(n,e){Zfe(n,e),(n=n.alternate)&&Zfe(n,e)}function A$t(){return null}var gUe=typeof reportError=="function"?reportError:function(n){console.error(n)};function Ree(n){this._internalRoot=n}n6.prototype.render=Ree.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Et(409));t6(n,e,null,null)};n6.prototype.unmount=Ree.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;wx(function(){t6(null,n,null,null)}),e[Tg]=null}};function n6(n){this._internalRoot=n}n6.prototype.unstable_scheduleHydration=function(n){if(n){var e=G7e();n={blockedOn:null,target:n,priority:e};for(var r=0;r<f0.length&&e!==0&&e<f0[r].priority;r++);f0.splice(r,0,n),r===0&&K7e(n)}};function Oee(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function r6(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Xfe(){}function I$t(n,e,r,i,o){if(o){if(typeof i=="function"){var s=i;i=function(){var u=m3(a);s.call(u)}}var a=mUe(e,i,n,0,null,!1,!1,"",Xfe);return n._reactRootContainer=a,n[Tg]=a.current,u5(n.nodeType===8?n.parentNode:n),wx(),a}for(;o=n.lastChild;)n.removeChild(o);if(typeof i=="function"){var l=i;i=function(){var u=m3(c);l.call(u)}}var c=Iee(n,0,!1,null,null,!1,!1,"",Xfe);return n._reactRootContainer=c,n[Tg]=c.current,u5(n.nodeType===8?n.parentNode:n),wx(function(){t6(e,c,r,i)}),c}function i6(n,e,r,i,o){var s=r._reactRootContainer;if(s){var a=s;if(typeof o=="function"){var l=o;o=function(){var c=m3(a);l.call(c)}}t6(e,a,n,o)}else a=I$t(r,e,n,o,i);return m3(a)}H7e=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var r=pT(e.pendingLanes);r!==0&&(XJ(e,r|1),gu(e,Bs()),!(oi&6)&&(UC=Bs()+500,Py()))}break;case 13:wx(function(){var i=Ag(n,1);if(i!==null){var o=xc();ch(i,n,1,o)}}),Dee(n,1)}};QJ=function(n){if(n.tag===13){var e=Ag(n,134217728);if(e!==null){var r=xc();ch(e,n,134217728,r)}Dee(n,134217728)}};W7e=function(n){if(n.tag===13){var e=G0(n),r=Ag(n,e);if(r!==null){var i=xc();ch(r,n,e,i)}Dee(n,e)}};G7e=function(){return Hi};q7e=function(n,e){var r=Hi;try{return Hi=n,e()}finally{Hi=r}};CG=function(n,e,r){switch(e){case"input":if(vG(n,r),e=r.name,r.type==="radio"&&e!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var i=r[e];if(i!==n&&i.form===n.form){var o=K8(i);if(!o)throw Error(Et(90));C7e(i),vG(i,o)}}}break;case"textarea":k7e(n,r);break;case"select":e=r.value,e!=null&&VE(n,!!r.multiple,e,!1)}};P7e=See;j7e=wx;var D$t={usingClientEntryPoint:!1,Events:[tD,fE,K8,R7e,O7e,See]},sk={findFiberByHostInstance:_b,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},R$t={bundleType:sk.bundleType,version:sk.version,rendererPackageName:sk.rendererPackageName,rendererConfig:sk.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kg.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=M7e(n),n===null?null:n.stateNode},findFiberByHostInstance:sk.findFiberByHostInstance||A$t,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var VO=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!VO.isDisabled&&VO.supportsFiber)try{H8=VO.inject(R$t),Op=VO}catch{}}fd.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D$t;fd.createPortal=function(n,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oee(e))throw Error(Et(200));return T$t(n,e,null,r)};fd.createRoot=function(n,e){if(!Oee(n))throw Error(Et(299));var r=!1,i="",o=gUe;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Iee(n,1,!1,null,null,r,!1,i,o),n[Tg]=e.current,u5(n.nodeType===8?n.parentNode:n),new Ree(e)};fd.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Et(188)):(n=Object.keys(n).join(","),Error(Et(268,n)));return n=M7e(e),n=n===null?null:n.stateNode,n};fd.flushSync=function(n){return wx(n)};fd.hydrate=function(n,e,r){if(!r6(e))throw Error(Et(200));return i6(null,n,e,!0,r)};fd.hydrateRoot=function(n,e,r){if(!Oee(n))throw Error(Et(405));var i=r!=null&&r.hydratedSources||null,o=!1,s="",a=gUe;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=mUe(e,null,n,1,r??null,o,!1,s,a),n[Tg]=e.current,u5(n),i)for(n=0;n<i.length;n++)r=i[n],o=r._getVersion,o=o(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,o]:e.mutableSourceEagerHydrationData.push(r,o);return new n6(e)};fd.render=function(n,e,r){if(!r6(e))throw Error(Et(200));return i6(null,n,e,!1,r)};fd.unmountComponentAtNode=function(n){if(!r6(n))throw Error(Et(40));return n._reactRootContainer?(wx(function(){i6(null,null,n,!1,function(){n._reactRootContainer=null,n[Tg]=null})}),!0):!1};fd.unstable_batchedUpdates=See;fd.unstable_renderSubtreeIntoContainer=function(n,e,r,i){if(!r6(r))throw Error(Et(200));if(n==null||n._reactInternals===void 0)throw Error(Et(38));return i6(n,e,r,!1,i)};fd.version="18.2.0-next-9e3b772b8-20220608";function vUe(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vUe)}catch(n){console.error(n)}}vUe(),m7e.exports=fd;var Kd=m7e.exports;const O$t=Tt(Kd),yUe=n=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:n,fn(r){const{element:i,padding:o}=typeof n=="function"?n(r):n;return i&&e(i)?i.current!=null?WM({element:i.current,padding:o}).fn(r):{}:i?WM({element:i,padding:o}).fn(r):{}}}};var _L=typeof document<"u"?p.useLayoutEffect:p.useEffect;function g3(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let r,i,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(r=n.length,r!==e.length)return!1;for(i=r;i--!==0;)if(!g3(n[i],e[i]))return!1;return!0}if(o=Object.keys(n),r=o.length,r!==Object.keys(e).length)return!1;for(i=r;i--!==0;)if(!{}.hasOwnProperty.call(e,o[i]))return!1;for(i=r;i--!==0;){const s=o[i];if(!(s==="_owner"&&n.$$typeof)&&!g3(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function bUe(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Qfe(n,e){const r=bUe(n);return Math.round(e*r)/r}function Jfe(n){const e=p.useRef(n);return _L(()=>{e.current=n}),e}function xUe(n){n===void 0&&(n={});const{placement:e="bottom",strategy:r="absolute",middleware:i=[],platform:o,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=n,[f,h]=p.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=p.useState(i);g3(m,i)||g(i);const[v,y]=p.useState(null),[b,x]=p.useState(null),_=p.useCallback(z=>{z!==T.current&&(T.current=z,y(z))},[]),w=p.useCallback(z=>{z!==A.current&&(A.current=z,x(z))},[]),C=s||v,S=a||b,T=p.useRef(null),A=p.useRef(null),I=p.useRef(f),D=c!=null,R=Jfe(c),P=Jfe(o),O=p.useCallback(()=>{if(!T.current||!A.current)return;const z={placement:e,strategy:r,middleware:m};P.current&&(z.platform=P.current),p7e(T.current,A.current,z).then(B=>{const H={...B,isPositioned:!0};$.current&&!g3(I.current,H)&&(I.current=H,Kd.flushSync(()=>{h(H)}))})},[m,e,r,P]);_L(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(z=>({...z,isPositioned:!1})))},[u]);const $=p.useRef(!1);_L(()=>($.current=!0,()=>{$.current=!1}),[]),_L(()=>{if(C&&(T.current=C),S&&(A.current=S),C&&S){if(R.current)return R.current(C,S,O);O()}},[C,S,O,R,D]);const L=p.useMemo(()=>({reference:T,floating:A,setReference:_,setFloating:w}),[_,w]),M=p.useMemo(()=>({reference:C,floating:S}),[C,S]),N=p.useMemo(()=>{const z={position:r,left:0,top:0};if(!M.floating)return z;const B=Qfe(M.floating,f.x),H=Qfe(M.floating,f.y);return l?{...z,transform:"translate("+B+"px, "+H+"px)",...bUe(M.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:B,top:H}},[r,l,M.floating,f.x,f.y]);return p.useMemo(()=>({...f,update:O,refs:L,elements:M,floatingStyles:N}),[f,O,L,M,N])}const wUe=p.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),o6=p.createContext({}),s6=p.createContext(null),a6=typeof document<"u",Pee=a6?p.useLayoutEffect:p.useEffect,_Ue=p.createContext({strict:!1}),jee=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),P$t="framerAppearId",EUe="data-"+jee(P$t),CUe={skipAnimations:!1,useManualTiming:!1};class ehe{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const r=this.order.indexOf(e);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function j$t(n){let e=new ehe,r=new ehe,i=0,o=!1,s=!1;const a=new WeakSet,l={schedule:(c,u=!1,f=!1)=>{const h=f&&o,m=h?e:r;return u&&a.add(c),m.add(c)&&h&&o&&(i=e.order.length),c},cancel:c=>{r.remove(c),a.delete(c)},process:c=>{if(o){s=!0;return}if(o=!0,[e,r]=[r,e],r.clear(),i=e.order.length,i)for(let u=0;u<i;u++){const f=e.order[u];a.has(f)&&(l.schedule(f),n()),f(c)}o=!1,s&&(s=!1,l.process(c))}};return l}const HO=["prepare","read","update","preRender","render","postRender"],L$t=40;function SUe(n,e){let r=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},s=HO.reduce((h,m)=>(h[m]=j$t(()=>r=!0),h),{}),a=h=>{s[h].process(o)},l=()=>{const h=performance.now();r=!1,o.delta=i?1e3/60:Math.max(Math.min(h-o.timestamp,L$t),1),o.timestamp=h,o.isProcessing=!0,HO.forEach(a),o.isProcessing=!1,r&&e&&(i=!1,n(l))},c=()=>{r=!0,i=!0,o.isProcessing||n(l)};return{schedule:HO.reduce((h,m)=>{const g=s[m];return h[m]=(v,y=!1,b=!1)=>(r||c(),g.schedule(v,y,b)),h},{}),cancel:h=>HO.forEach(m=>s[m].cancel(h)),state:o,steps:s}}const{schedule:Lee,cancel:nLr}=SUe(queueMicrotask,!1);function $$t(n,e,r,i){const{visualElement:o}=p.useContext(o6),s=p.useContext(_Ue),a=p.useContext(s6),l=p.useContext(wUe).reducedMotion,c=p.useRef();i=i||s.renderer,!c.current&&i&&(c.current=i(n,{visualState:e,parent:o,props:r,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current;p.useInsertionEffect(()=>{u&&u.update(r,a)});const f=p.useRef(!!(r[EUe]&&!window.HandoffComplete));return Pee(()=>{u&&(Lee.postRender(u.render),f.current&&u.animationState&&u.animationState.animateChanges())}),p.useEffect(()=>{u&&(u.updateFeatures(),!f.current&&u.animationState&&u.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),u}function bE(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function M$t(n,e,r){return p.useCallback(i=>{i&&n.mount&&n.mount(i),e&&(i?e.mount(i):e.unmount()),r&&(typeof r=="function"?r(i):bE(r)&&(r.current=i))},[e])}function b5(n){return typeof n=="string"||Array.isArray(n)}function l6(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const $ee=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Mee=["initial",...$ee];function c6(n){return l6(n.animate)||Mee.some(e=>b5(n[e]))}function kUe(n){return!!(c6(n)||n.variants)}function F$t(n,e){if(c6(n)){const{initial:r,animate:i}=n;return{initial:r===!1||b5(r)?r:void 0,animate:b5(i)?i:void 0}}return n.inherit!==!1?e:{}}function N$t(n){const{initial:e,animate:r}=F$t(n,p.useContext(o6));return p.useMemo(()=>({initial:e,animate:r}),[the(e),the(r)])}function the(n){return Array.isArray(n)?n.join(" "):n}const nhe={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},x5={};for(const n in nhe)x5[n]={isEnabled:e=>nhe[n].some(r=>!!e[r])};function B$t(n){for(const e in n)x5[e]={...x5[e],...n[e]}}const Fee=p.createContext({}),TUe=p.createContext({}),U$t=Symbol.for("motionComponentSymbol");function z$t({preloadedFeatures:n,createVisualElement:e,useRender:r,useVisualState:i,Component:o}){n&&B$t(n);function s(l,c){let u;const f={...p.useContext(wUe),...l,layoutId:V$t(l)},{isStatic:h}=f,m=N$t(l),g=i(l,h);if(!h&&a6){m.visualElement=$$t(o,g,f,e);const v=p.useContext(TUe),y=p.useContext(_Ue).strict;m.visualElement&&(u=m.visualElement.loadFeatures(f,y,n,v))}return p.createElement(o6.Provider,{value:m},u&&m.visualElement?p.createElement(u,{visualElement:m.visualElement,...f}):null,r(o,l,M$t(g,m.visualElement,c),g,h,m.visualElement))}const a=p.forwardRef(s);return a[U$t]=o,a}function V$t({layoutId:n}){const e=p.useContext(Fee).id;return e&&n!==void 0?e+"-"+n:n}function H$t(n){function e(i,o={}){return z$t(n(i,o))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(i,o)=>(r.has(o)||r.set(o,e(o)),r.get(o))})}const W$t=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Nee(n){return typeof n!="string"||n.includes("-")?!1:!!(W$t.indexOf(n)>-1||/[A-Z]/.test(n))}const v3={};function G$t(n){Object.assign(v3,n)}const rD=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zx=new Set(rD);function AUe(n,{layout:e,layoutId:r}){return Zx.has(n)||n.startsWith("origin")||(e||r!==void 0)&&(!!v3[n]||n==="opacity")}const bu=n=>!!(n&&n.getVelocity),q$t={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},K$t=rD.length;function Y$t(n,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},i,o){let s="";for(let a=0;a<K$t;a++){const l=rD[a];if(n[l]!==void 0){const c=q$t[l]||l;s+=`${c}(${n[l]}) `}}return e&&!n.z&&(s+="translateZ(0)"),s=s.trim(),o?s=o(n,i?"":s):r&&i&&(s="none"),s}const IUe=n=>e=>typeof e=="string"&&e.startsWith(n),DUe=IUe("--"),Z$t=IUe("var(--"),y3=n=>Z$t(n)?X$t.test(n.split("/*")[0].trim()):!1,X$t=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)$/i,Q$t=(n,e)=>e&&typeof n=="number"?e.transform(n):n,dy=(n,e,r)=>r>e?e:r<n?n:r,IS={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},wA={...IS,transform:n=>dy(0,1,n)},WO={...IS,default:1},_A=n=>Math.round(n*1e5)/1e5,Bee=/(-)?([\d]*\.?[\d])+/g,J$t=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,eMt=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function iD(n){return typeof n=="string"}const oD=n=>({test:e=>iD(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Uv=oD("deg"),jp=oD("%"),Mn=oD("px"),tMt=oD("vh"),nMt=oD("vw"),rhe={...jp,parse:n=>jp.parse(n)/100,transform:n=>jp.transform(n*100)},ihe={...IS,transform:Math.round},RUe={borderWidth:Mn,borderTopWidth:Mn,borderRightWidth:Mn,borderBottomWidth:Mn,borderLeftWidth:Mn,borderRadius:Mn,radius:Mn,borderTopLeftRadius:Mn,borderTopRightRadius:Mn,borderBottomRightRadius:Mn,borderBottomLeftRadius:Mn,width:Mn,maxWidth:Mn,height:Mn,maxHeight:Mn,size:Mn,top:Mn,right:Mn,bottom:Mn,left:Mn,padding:Mn,paddingTop:Mn,paddingRight:Mn,paddingBottom:Mn,paddingLeft:Mn,margin:Mn,marginTop:Mn,marginRight:Mn,marginBottom:Mn,marginLeft:Mn,rotate:Uv,rotateX:Uv,rotateY:Uv,rotateZ:Uv,scale:WO,scaleX:WO,scaleY:WO,scaleZ:WO,skew:Uv,skewX:Uv,skewY:Uv,distance:Mn,translateX:Mn,translateY:Mn,translateZ:Mn,x:Mn,y:Mn,z:Mn,perspective:Mn,transformPerspective:Mn,opacity:wA,originX:rhe,originY:rhe,originZ:Mn,zIndex:ihe,fillOpacity:wA,strokeOpacity:wA,numOctaves:ihe};function Uee(n,e,r,i){const{style:o,vars:s,transform:a,transformOrigin:l}=n;let c=!1,u=!1,f=!0;for(const h in e){const m=e[h];if(DUe(h)){s[h]=m;continue}const g=RUe[h],v=Q$t(m,g);if(Zx.has(h)){if(c=!0,a[h]=v,!f)continue;m!==(g.default||0)&&(f=!1)}else h.startsWith("origin")?(u=!0,l[h]=v):o[h]=v}if(e.transform||(c||i?o.transform=Y$t(n.transform,r,f,i):o.transform&&(o.transform="none")),u){const{originX:h="50%",originY:m="50%",originZ:g=0}=l;o.transformOrigin=`${h} ${m} ${g}`}}const zee=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function OUe(n,e,r){for(const i in e)!bu(e[i])&&!AUe(i,r)&&(n[i]=e[i])}function rMt({transformTemplate:n},e,r){return p.useMemo(()=>{const i=zee();return Uee(i,e,{enableHardwareAcceleration:!r},n),Object.assign({},i.vars,i.style)},[e])}function iMt(n,e,r){const i=n.style||{},o={};return OUe(o,i,n),Object.assign(o,rMt(n,e,r)),o}function oMt(n,e,r){const i={},o=iMt(n,e,r);return n.drag&&n.dragListener!==!1&&(i.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(i.tabIndex=0),i.style=o,i}const sMt=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function b3(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||sMt.has(n)}let PUe=n=>!b3(n);function aMt(n){n&&(PUe=e=>e.startsWith("on")?!b3(e):n(e))}try{aMt(require("@emotion/is-prop-valid").default)}catch{}function lMt(n,e,r){const i={};for(const o in n)o==="values"&&typeof n.values=="object"||(PUe(o)||r===!0&&b3(o)||!e&&!b3(o)||n.draggable&&o.startsWith("onDrag"))&&(i[o]=n[o]);return i}function ohe(n,e,r){return typeof n=="string"?n:Mn.transform(e+r*n)}function cMt(n,e,r){const i=ohe(e,n.x,n.width),o=ohe(r,n.y,n.height);return`${i} ${o}`}const uMt={offset:"stroke-dashoffset",array:"stroke-dasharray"},dMt={offset:"strokeDashoffset",array:"strokeDasharray"};function fMt(n,e,r=1,i=0,o=!0){n.pathLength=1;const s=o?uMt:dMt;n[s.offset]=Mn.transform(-i);const a=Mn.transform(e),l=Mn.transform(r);n[s.array]=`${a} ${l}`}function Vee(n,{attrX:e,attrY:r,attrScale:i,originX:o,originY:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...u},f,h,m){if(Uee(n,u,f,m),h){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:g,style:v,dimensions:y}=n;g.transform&&(y&&(v.transform=g.transform),delete g.transform),y&&(o!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=cMt(y,o!==void 0?o:.5,s!==void 0?s:.5)),e!==void 0&&(g.x=e),r!==void 0&&(g.y=r),i!==void 0&&(g.scale=i),a!==void 0&&fMt(g,a,l,c,!1)}const jUe=()=>({...zee(),attrs:{}}),Hee=n=>typeof n=="string"&&n.toLowerCase()==="svg";function hMt(n,e,r,i){const o=p.useMemo(()=>{const s=jUe();return Vee(s,e,{enableHardwareAcceleration:!1},Hee(i),n.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};OUe(s,n.style,n),o.style={...s,...o.style}}return o}function pMt(n=!1){return(r,i,o,{latestValues:s},a)=>{const c=(Nee(r)?hMt:oMt)(i,s,a,r),u=lMt(i,typeof r=="string",n),f=r!==p.Fragment?{...u,...c,ref:o}:{},{children:h}=i,m=p.useMemo(()=>bu(h)?h.get():h,[h]);return p.createElement(r,{...f,children:m})}}function LUe(n,{style:e,vars:r},i,o){Object.assign(n.style,e,o&&o.getProjectionStyles(i));for(const s in r)n.style.setProperty(s,r[s])}const $Ue=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function MUe(n,e,r,i){LUe(n,e,void 0,i);for(const o in e.attrs)n.setAttribute($Ue.has(o)?o:jee(o),e.attrs[o])}function Wee(n,e){const{style:r}=n,i={};for(const o in r)(bu(r[o])||e.style&&bu(e.style[o])||AUe(o,n))&&(i[o]=r[o]);return i}function FUe(n,e){const r=Wee(n,e);for(const i in n)if(bu(n[i])||bu(e[i])){const o=rD.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=n[i]}return r}function Gee(n,e,r,i={},o={}){return typeof e=="function"&&(e=e(r!==void 0?r:n.custom,i,o)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:n.custom,i,o)),e}function NUe(n){const e=p.useRef(null);return e.current===null&&(e.current=n()),e.current}const x3=n=>Array.isArray(n),mMt=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),gMt=n=>x3(n)?n[n.length-1]||0:n;function EL(n){const e=bu(n)?n.get():n;return mMt(e)?e.toValue():e}function vMt({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:r},i,o,s){const a={latestValues:yMt(i,o,s,n),renderState:e()};return r&&(a.mount=l=>r(i,l,a)),a}const BUe=n=>(e,r)=>{const i=p.useContext(o6),o=p.useContext(s6),s=()=>vMt(n,e,i,o);return r?s():NUe(s)};function yMt(n,e,r,i){const o={},s=i(n,{});for(const m in s)o[m]=EL(s[m]);let{initial:a,animate:l}=n;const c=c6(n),u=kUe(n);e&&u&&!c&&n.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let f=r?r.initial===!1:!1;f=f||a===!1;const h=f?l:a;return h&&typeof h!="boolean"&&!l6(h)&&(Array.isArray(h)?h:[h]).forEach(g=>{const v=Gee(n,g);if(!v)return;const{transitionEnd:y,transition:b,...x}=v;for(const _ in x){let w=x[_];if(Array.isArray(w)){const C=f?w.length-1:0;w=w[C]}w!==null&&(o[_]=w)}for(const _ in y)o[_]=y[_]}),o}const Us=n=>n,{schedule:os,cancel:Dg,state:ol,steps:RU}=SUe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Us,!0),bMt={useVisualState:BUe({scrapeMotionValuesFromProps:FUe,createRenderState:jUe,onMount:(n,e,{renderState:r,latestValues:i})=>{os.read(()=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),os.render(()=>{Vee(r,i,{enableHardwareAcceleration:!1},Hee(e.tagName),n.transformTemplate),MUe(e,r)})}})},xMt={useVisualState:BUe({scrapeMotionValuesFromProps:Wee,createRenderState:zee})};function wMt(n,{forwardMotionProps:e=!1},r,i){return{...Nee(n)?bMt:xMt,preloadedFeatures:r,useRender:pMt(e),createVisualElement:i,Component:n}}function sg(n,e,r,i={passive:!0}){return n.addEventListener(e,r,i),()=>n.removeEventListener(e,r)}const UUe=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function u6(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const _Mt=n=>e=>UUe(e)&&n(e,u6(e));function mg(n,e,r,i){return sg(n,e,_Mt(r),i)}const EMt=(n,e)=>r=>e(n(r)),gg=(...n)=>n.reduce(EMt);function zUe(n){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=n,r):!1}}const she=zUe("dragHorizontal"),ahe=zUe("dragVertical");function VUe(n){let e=!1;if(n==="y")e=ahe();else if(n==="x")e=she();else{const r=she(),i=ahe();r&&i?e=()=>{r(),i()}:(r&&r(),i&&i())}return e}function HUe(){const n=VUe(!0);return n?(n(),!1):!0}class jy{constructor(e){this.isMounted=!1,this.node=e}update(){}}function lhe(n,e){const r="pointer"+(e?"enter":"leave"),i="onHover"+(e?"Start":"End"),o=(s,a)=>{if(s.pointerType==="touch"||HUe())return;const l=n.getProps();n.animationState&&l.whileHover&&n.animationState.setActive("whileHover",e),l[i]&&os.update(()=>l[i](s,a))};return mg(n.current,r,o,{passive:!n.getProps()[i]})}class CMt extends jy{mount(){this.unmount=gg(lhe(this.node,!0),lhe(this.node,!1))}unmount(){}}class SMt extends jy{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gg(sg(this.node.current,"focus",()=>this.onFocus()),sg(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const WUe=(n,e)=>e?n===e?!0:WUe(n,e.parentElement):!1;function OU(n,e){if(!e)return;const r=new PointerEvent("pointer"+n);e(r,u6(r))}class kMt extends jy{constructor(){super(...arguments),this.removeStartListeners=Us,this.removeEndListeners=Us,this.removeAccessibleListeners=Us,this.startPointerPress=(e,r)=>{if(this.isPressing)return;this.removeEndListeners();const i=this.node.getProps(),s=mg(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:f,globalTapTarget:h}=this.node.getProps();os.update(()=>{!h&&!WUe(this.node.current,l.target)?f&&f(l,c):u&&u(l,c)})},{passive:!(i.onTap||i.onPointerUp)}),a=mg(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(i.onTapCancel||i.onPointerCancel)});this.removeEndListeners=gg(s,a),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const a=l=>{l.key!=="Enter"||!this.checkPressEnd()||OU("up",(c,u)=>{const{onTap:f}=this.node.getProps();f&&os.update(()=>f(c,u))})};this.removeEndListeners(),this.removeEndListeners=sg(this.node.current,"keyup",a),OU("down",(l,c)=>{this.startPress(l,c)})},r=sg(this.node.current,"keydown",e),i=()=>{this.isPressing&&OU("cancel",(s,a)=>this.cancelPress(s,a))},o=sg(this.node.current,"blur",i);this.removeAccessibleListeners=gg(r,o)}}startPress(e,r){this.isPressing=!0;const{onTapStart:i,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),i&&os.update(()=>i(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!HUe()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:i}=this.node.getProps();i&&os.update(()=>i(e,r))}mount(){const e=this.node.getProps(),r=mg(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),i=sg(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=gg(r,i)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const rq=new WeakMap,PU=new WeakMap,TMt=n=>{const e=rq.get(n.target);e&&e(n)},AMt=n=>{n.forEach(TMt)};function IMt({root:n,...e}){const r=n||document;PU.has(r)||PU.set(r,{});const i=PU.get(r),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(AMt,{root:n,...e})),i[o]}function DMt(n,e,r){const i=IMt(e);return rq.set(n,r),i.observe(n),()=>{rq.delete(n),i.unobserve(n)}}const RMt={some:0,all:1};class OMt extends jy{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:i,amount:o="some",once:s}=e,a={root:r?r.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:RMt[o]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),m=u?f:h;m&&m(c)};return DMt(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(PMt(e,r))&&this.startObserver()}unmount(){}}function PMt({viewport:n={}},{viewport:e={}}={}){return r=>n[r]!==e[r]}const jMt={inView:{Feature:OMt},tap:{Feature:kMt},focus:{Feature:SMt},hover:{Feature:CMt}};function GUe(n,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==n.length)return!1;for(let i=0;i<r;i++)if(e[i]!==n[i])return!1;return!0}function LMt(n){const e={};return n.values.forEach((r,i)=>e[i]=r.get()),e}function $Mt(n){const e={};return n.values.forEach((r,i)=>e[i]=r.getVelocity()),e}function d6(n,e,r){const i=n.getProps();return Gee(i,e,r!==void 0?r:i.custom,LMt(n),$Mt(n))}let MMt=Us,qee=Us;const K0=n=>n*1e3,vg=n=>n/1e3,FMt={current:!1},qUe=n=>Array.isArray(n)&&typeof n[0]=="number";function KUe(n){return!!(!n||typeof n=="string"&&YUe[n]||qUe(n)||Array.isArray(n)&&n.every(KUe))}const gT=([n,e,r,i])=>`cubic-bezier(${n}, ${e}, ${r}, ${i})`,YUe={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gT([0,.65,.55,1]),circOut:gT([.55,0,1,.45]),backIn:gT([.31,.01,.66,-.59]),backOut:gT([.33,1.53,.69,.99])};function ZUe(n){if(n)return qUe(n)?gT(n):Array.isArray(n)?n.map(ZUe):YUe[n]}function NMt(n,e,r,{delay:i=0,duration:o,repeat:s=0,repeatType:a="loop",ease:l,times:c}={}){const u={[e]:r};c&&(u.offset=c);const f=ZUe(l);return Array.isArray(f)&&(u.easing=f),n.animate(u,{delay:i,duration:o,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}function BMt(n,{repeat:e,repeatType:r="loop"}){const i=e&&r!=="loop"&&e%2===1?0:n.length-1;return n[i]}const XUe=(n,e,r)=>(((1-3*r+3*e)*n+(3*r-6*e))*n+3*e)*n,UMt=1e-7,zMt=12;function VMt(n,e,r,i,o){let s,a,l=0;do a=e+(r-e)/2,s=XUe(a,i,o)-n,s>0?r=a:e=a;while(Math.abs(s)>UMt&&++l<zMt);return a}function sD(n,e,r,i){if(n===e&&r===i)return Us;const o=s=>VMt(s,0,1,n,r);return s=>s===0||s===1?s:XUe(o(s),e,i)}const HMt=sD(.42,0,1,1),WMt=sD(0,0,.58,1),QUe=sD(.42,0,.58,1),GMt=n=>Array.isArray(n)&&typeof n[0]!="number",JUe=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,eze=n=>e=>1-n(1-e),Kee=n=>1-Math.sin(Math.acos(n)),tze=eze(Kee),qMt=JUe(Kee),nze=sD(.33,1.53,.69,.99),Yee=eze(nze),KMt=JUe(Yee),YMt=n=>(n*=2)<1?.5*Yee(n):.5*(2-Math.pow(2,-10*(n-1))),ZMt={linear:Us,easeIn:HMt,easeInOut:QUe,easeOut:WMt,circIn:Kee,circInOut:qMt,circOut:tze,backIn:Yee,backInOut:KMt,backOut:nze,anticipate:YMt},che=n=>{if(Array.isArray(n)){qee(n.length===4);const[e,r,i,o]=n;return sD(e,r,i,o)}else if(typeof n=="string")return ZMt[n];return n},w5=(n,e,r)=>{const i=e-n;return i===0?1:(r-n)/i},hs=(n,e,r)=>n+(e-n)*r;function jU(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(e-n)*6*r:r<1/2?e:r<2/3?n+(e-n)*(2/3-r)*6:n}function XMt({hue:n,saturation:e,lightness:r,alpha:i}){n/=360,e/=100,r/=100;let o=0,s=0,a=0;if(!e)o=s=a=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;o=jU(c,l,n+1/3),s=jU(c,l,n),a=jU(c,l,n-1/3)}return{red:Math.round(o*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:i}}const Zee=(n,e)=>r=>!!(iD(r)&&eMt.test(r)&&r.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(r,e)),rze=(n,e,r)=>i=>{if(!iD(i))return i;const[o,s,a,l]=i.match(Bee);return{[n]:parseFloat(o),[e]:parseFloat(s),[r]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},QMt=n=>dy(0,255,n),LU={...IS,transform:n=>Math.round(QMt(n))},Sb={test:Zee("rgb","red"),parse:rze("red","green","blue"),transform:({red:n,green:e,blue:r,alpha:i=1})=>"rgba("+LU.transform(n)+", "+LU.transform(e)+", "+LU.transform(r)+", "+_A(wA.transform(i))+")"};function JMt(n){let e="",r="",i="",o="";return n.length>5?(e=n.substring(1,3),r=n.substring(3,5),i=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),r=n.substring(2,3),i=n.substring(3,4),o=n.substring(4,5),e+=e,r+=r,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const iq={test:Zee("#"),parse:JMt,transform:Sb.transform},xE={test:Zee("hsl","hue"),parse:rze("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:r,alpha:i=1})=>"hsla("+Math.round(n)+", "+jp.transform(_A(e))+", "+jp.transform(_A(r))+", "+_A(wA.transform(i))+")"},$U=(n,e,r)=>{const i=n*n,o=r*(e*e-i)+i;return o<0?0:Math.sqrt(o)},e3t=[iq,Sb,xE],t3t=n=>e3t.find(e=>e.test(n));function uhe(n){const e=t3t(n);let r=e.parse(n);return e===xE&&(r=XMt(r)),r}const dhe=(n,e)=>{const r=uhe(n),i=uhe(e),o={...r};return s=>(o.red=$U(r.red,i.red,s),o.green=$U(r.green,i.green,s),o.blue=$U(r.blue,i.blue,s),o.alpha=hs(r.alpha,i.alpha,s),Sb.transform(o))},Bl={test:n=>Sb.test(n)||iq.test(n)||xE.test(n),parse:n=>Sb.test(n)?Sb.parse(n):xE.test(n)?xE.parse(n):iq.parse(n),transform:n=>iD(n)?n:n.hasOwnProperty("red")?Sb.transform(n):xE.transform(n)};function n3t(n){var e,r;return isNaN(n)&&iD(n)&&(((e=n.match(Bee))===null||e===void 0?void 0:e.length)||0)+(((r=n.match(J$t))===null||r===void 0?void 0:r.length)||0)>0}const ize="number",oze="color",r3t="var",i3t="var(",fhe="${}",hhe=/(var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\))|(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))|((-)?([\d]*\.?[\d])+)/gi;function w3(n){const e=n.toString(),r=e.match(hhe)||[],i=[],o={color:[],number:[],var:[]},s=[];for(let c=0;c<r.length;c++){const u=r[c];Bl.test(u)?(o.color.push(c),s.push(oze),i.push(Bl.parse(u))):u.startsWith(i3t)?(o.var.push(c),s.push(r3t),i.push(u)):(o.number.push(c),s.push(ize),i.push(parseFloat(u)))}const l=e.replace(hhe,fhe).split(fhe);return{values:i,split:l,indexes:o,types:s}}function sze(n){return w3(n).values}function aze(n){const{split:e,types:r}=w3(n),i=e.length;return o=>{let s="";for(let a=0;a<i;a++)if(s+=e[a],o[a]!==void 0){const l=r[a];l===ize?s+=_A(o[a]):l===oze?s+=Bl.transform(o[a]):s+=o[a]}return s}}const o3t=n=>typeof n=="number"?0:n;function s3t(n){const e=sze(n);return aze(n)(e.map(o3t))}const fy={test:n3t,parse:sze,createTransformer:aze,getAnimatableNone:s3t};function oq(n,e){return r=>r>0?e:n}function a3t(n,e){return r=>hs(n,e,r)}function Xee(n){return typeof n=="number"?a3t:typeof n=="string"?y3(n)?oq:Bl.test(n)?dhe:u3t:Array.isArray(n)?lze:typeof n=="object"?Bl.test(n)?dhe:l3t:oq}function lze(n,e){const r=[...n],i=r.length,o=n.map((s,a)=>Xee(s)(s,e[a]));return s=>{for(let a=0;a<i;a++)r[a]=o[a](s);return r}}function l3t(n,e){const r={...n,...e},i={};for(const o in r)n[o]!==void 0&&e[o]!==void 0&&(i[o]=Xee(n[o])(n[o],e[o]));return o=>{for(const s in i)r[s]=i[s](o);return r}}function c3t(n,e){var r;const i=[],o={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const a=e.types[s],l=n.indexes[a][o[a]],c=(r=n.values[l])!==null&&r!==void 0?r:0;i[s]=c,o[a]++}return i}const u3t=(n,e)=>{const r=fy.createTransformer(e),i=w3(n),o=w3(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?gg(lze(c3t(i,o),o.values),r):oq(n,e)};function cze(n,e,r){return typeof n=="number"&&typeof e=="number"&&typeof r=="number"?hs(n,e,r):Xee(n)(n,e)}function d3t(n,e,r){const i=[],o=r||cze,s=n.length-1;for(let a=0;a<s;a++){let l=o(n[a],n[a+1]);if(e){const c=Array.isArray(e)?e[a]||Us:e;l=gg(c,l)}i.push(l)}return i}function f3t(n,e,{clamp:r=!0,ease:i,mixer:o}={}){const s=n.length;if(qee(s===e.length),s===1)return()=>e[0];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const a=d3t(e,i,o),l=a.length,c=u=>{let f=0;if(l>1)for(;f<n.length-2&&!(u<n[f+1]);f++);const h=w5(n[f],n[f+1],u);return a[f](h)};return r?u=>c(dy(n[0],n[s-1],u)):c}function h3t(n,e){const r=n[n.length-1];for(let i=1;i<=e;i++){const o=w5(0,e,i);n.push(hs(r,1,o))}}function p3t(n){const e=[0];return h3t(e,n.length-1),e}function m3t(n,e){return n.map(r=>r*e)}function g3t(n,e){return n.map(()=>e||QUe).splice(0,n.length-1)}function _3({duration:n=300,keyframes:e,times:r,ease:i="easeInOut"}){const o=GMt(i)?i.map(che):che(i),s={done:!1,value:e[0]},a=m3t(r&&r.length===e.length?r:p3t(e),n),l=f3t(a,e,{ease:Array.isArray(o)?o:g3t(e,o)});return{calculatedDuration:n,next:c=>(s.value=l(c),s.done=c>=n,s)}}function uze(n,e){return e?n*(1e3/e):0}const v3t=5;function dze(n,e,r){const i=Math.max(e-v3t,0);return uze(r-n(i),e-i)}const MU=.001,y3t=.01,phe=10,b3t=.05,x3t=1;function w3t({duration:n=800,bounce:e=.25,velocity:r=0,mass:i=1}){let o,s;MMt(n<=K0(phe));let a=1-e;a=dy(b3t,x3t,a),n=dy(y3t,phe,vg(n)),a<1?(o=u=>{const f=u*a,h=f*n,m=f-r,g=sq(u,a),v=Math.exp(-h);return MU-m/g*v},s=u=>{const h=u*a*n,m=h*r+r,g=Math.pow(a,2)*Math.pow(u,2)*n,v=Math.exp(-h),y=sq(Math.pow(u,2),a);return(-o(u)+MU>0?-1:1)*((m-g)*v)/y}):(o=u=>{const f=Math.exp(-u*n),h=(u-r)*n+1;return-MU+f*h},s=u=>{const f=Math.exp(-u*n),h=(r-u)*(n*n);return f*h});const l=5/n,c=E3t(o,s,l);if(n=K0(n),isNaN(c))return{stiffness:100,damping:10,duration:n};{const u=Math.pow(c,2)*i;return{stiffness:u,damping:a*2*Math.sqrt(i*u),duration:n}}}const _3t=12;function E3t(n,e,r){let i=r;for(let o=1;o<_3t;o++)i=i-n(i)/e(i);return i}function sq(n,e){return n*Math.sqrt(1-e*e)}const C3t=["duration","bounce"],S3t=["stiffness","damping","mass"];function mhe(n,e){return e.some(r=>n[r]!==void 0)}function k3t(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!mhe(n,S3t)&&mhe(n,C3t)){const r=w3t(n);e={...e,...r,mass:1},e.isResolvedFromDuration=!0}return e}function fze({keyframes:n,restDelta:e,restSpeed:r,...i}){const o=n[0],s=n[n.length-1],a={done:!1,value:o},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:m}=k3t({...i,velocity:-vg(i.velocity||0)}),g=h||0,v=c/(2*Math.sqrt(l*u)),y=s-o,b=vg(Math.sqrt(l/u)),x=Math.abs(y)<5;r||(r=x?.01:2),e||(e=x?.005:.5);let _;if(v<1){const w=sq(b,v);_=C=>{const S=Math.exp(-v*b*C);return s-S*((g+v*b*y)/w*Math.sin(w*C)+y*Math.cos(w*C))}}else if(v===1)_=w=>s-Math.exp(-b*w)*(y+(g+b*y)*w);else{const w=b*Math.sqrt(v*v-1);_=C=>{const S=Math.exp(-v*b*C),T=Math.min(w*C,300);return s-S*((g+v*b*y)*Math.sinh(T)+w*y*Math.cosh(T))/w}}return{calculatedDuration:m&&f||null,next:w=>{const C=_(w);if(m)a.done=w>=f;else{let S=g;w!==0&&(v<1?S=dze(_,w,C):S=0);const T=Math.abs(S)<=r,A=Math.abs(s-C)<=e;a.done=T&&A}return a.value=a.done?s:C,a}}}function ghe({keyframes:n,velocity:e=0,power:r=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:f}){const h=n[0],m={done:!1,value:h},g=I=>l!==void 0&&I<l||c!==void 0&&I>c,v=I=>l===void 0?c:c===void 0||Math.abs(l-I)<Math.abs(c-I)?l:c;let y=r*e;const b=h+y,x=a===void 0?b:a(b);x!==b&&(y=x-h);const _=I=>-y*Math.exp(-I/i),w=I=>x+_(I),C=I=>{const D=_(I),R=w(I);m.done=Math.abs(D)<=u,m.value=m.done?x:R};let S,T;const A=I=>{g(m.value)&&(S=I,T=fze({keyframes:[m.value,v(m.value)],velocity:dze(w,I,m.value),damping:o,stiffness:s,restDelta:u,restSpeed:f}))};return A(0),{calculatedDuration:null,next:I=>{let D=!1;return!T&&S===void 0&&(D=!0,C(I),A(I)),S!==void 0&&I>S?T.next(I-S):(!D&&C(I),m)}}}let CL;function T3t(){CL=void 0}const Kb={now:()=>(CL===void 0&&Kb.set(ol.isProcessing||CUe.useManualTiming?ol.timestamp:performance.now()),CL),set:n=>{CL=n,queueMicrotask(T3t)}},A3t=n=>{const e=({timestamp:r})=>n(r);return{start:()=>os.update(e,!0),stop:()=>Dg(e),now:()=>ol.isProcessing?ol.timestamp:Kb.now()}},vhe=2e4;function yhe(n){let e=0;const r=50;let i=n.next(e);for(;!i.done&&e<vhe;)e+=r,i=n.next(e);return e>=vhe?1/0:e}const I3t={decay:ghe,inertia:ghe,tween:_3,keyframes:_3,spring:fze},D3t=n=>n/100;function E3({autoplay:n=!0,delay:e=0,driver:r=A3t,keyframes:i,type:o="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",onPlay:c,onStop:u,onComplete:f,onUpdate:h,...m}){let g=1,v=!1,y,b;const x=()=>{b=new Promise(G=>{y=G})};x();let _;const w=I3t[o]||_3;let C;w!==_3&&typeof i[0]!="number"&&(C=gg(D3t,cze(i[0],i[1])),i=[0,100]);const S=w({...m,keyframes:i});let T;l==="mirror"&&(T=w({...m,keyframes:[...i].reverse(),velocity:-(m.velocity||0)}));let A="idle",I=null,D=null,R=null;S.calculatedDuration===null&&s&&(S.calculatedDuration=yhe(S));const{calculatedDuration:P}=S;let O=1/0,$=1/0;P!==null&&(O=P+a,$=O*(s+1)-a);let L=0;const M=G=>{if(D===null)return;g>0&&(D=Math.min(D,G)),g<0&&(D=Math.min(G-$/g,D)),I!==null?L=I:L=Math.round(G-D)*g;const ne=L-e*(g>=0?1:-1),le=g>=0?ne<0:ne>$;L=Math.max(ne,0),A==="finished"&&I===null&&(L=$);let K=L,Q=S;if(s){const fe=Math.min(L,$)/O;let we=Math.floor(fe),ye=fe%1;!ye&&fe>=1&&(ye=1),ye===1&&we--,we=Math.min(we,s+1),!!(we%2)&&(l==="reverse"?(ye=1-ye,a&&(ye-=a/O)):l==="mirror"&&(Q=T)),K=dy(0,1,ye)*O}const re=le?{done:!1,value:i[0]}:Q.next(K);C&&(re.value=C(re.value));let{done:se}=re;!le&&P!==null&&(se=g>=0?L>=$:L<=0);const de=I===null&&(A==="finished"||A==="running"&&se);return h&&h(re.value),de&&B(),re},N=()=>{_&&_.stop(),_=void 0},z=()=>{A="idle",N(),y(),x(),D=R=null},B=()=>{A="finished",f&&f(),N(),y()},H=()=>{if(v)return;_||(_=r(M));const G=_.now();c&&c(),I!==null?D=G-I:(!D||A==="finished")&&(D=G),A==="finished"&&x(),R=D,I=null,A="running",_.start()};n&&H();const X={then(G,ne){return b.then(G,ne)},get time(){return vg(L)},set time(G){G=K0(G),L=G,I!==null||!_||g===0?I=G:D=_.now()-G/g},get duration(){const G=S.calculatedDuration===null?yhe(S):S.calculatedDuration;return vg(G)},get speed(){return g},set speed(G){G===g||!_||(g=G,X.time=vg(L))},get state(){return A},play:H,pause:()=>{A="paused",I=L},stop:()=>{v=!0,A!=="idle"&&(A="idle",u&&u(),z())},cancel:()=>{R!==null&&M(R),z()},complete:()=>{A="finished"},sample:G=>(D=0,M(G))};return X}function R3t(n){let e;return()=>(e===void 0&&(e=n()),e)}const O3t=R3t(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),P3t=new Set(["opacity","clipPath","filter","transform"]),GO=10,j3t=2e4,L3t=(n,e)=>e.type==="spring"||n==="backgroundColor"||!KUe(e.ease);function $3t(n,e,{onUpdate:r,onComplete:i,...o}){if(!(O3t()&&P3t.has(e)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let a=!1,l,c,u=!1;const f=()=>{c=new Promise(w=>{l=w})};f();let{keyframes:h,duration:m=300,ease:g,times:v}=o;if(L3t(e,o)){const w=E3({...o,repeat:0,delay:0});let C={done:!1,value:h[0]};const S=[];let T=0;for(;!C.done&&T<j3t;)C=w.sample(T),S.push(C.value),T+=GO;v=void 0,h=S,m=T-GO,g="linear"}const y=NMt(n.owner.current,e,h,{...o,duration:m,ease:g,times:v}),b=()=>{u=!1,y.cancel()},x=()=>{u=!0,os.update(b),l(),f()};return y.onfinish=()=>{u||(n.set(BMt(h,o)),i&&i(),x())},{then(w,C){return c.then(w,C)},attachTimeline(w){return y.timeline=w,y.onfinish=null,Us},get time(){return vg(y.currentTime||0)},set time(w){y.currentTime=K0(w)},get speed(){return y.playbackRate},set speed(w){y.playbackRate=w},get duration(){return vg(m)},play:()=>{a||(y.play(),Dg(b))},pause:()=>y.pause(),stop:()=>{if(a=!0,y.playState==="idle")return;const{currentTime:w}=y;if(w){const C=E3({...o,autoplay:!1});n.setWithVelocity(C.sample(w-GO).value,C.sample(w).value,GO)}x()},complete:()=>{u||y.finish()},cancel:x}}function M3t({keyframes:n,delay:e,onUpdate:r,onComplete:i}){const o=()=>(r&&r(n[n.length-1]),i&&i(),{time:0,speed:1,duration:0,play:Us,pause:Us,stop:Us,then:s=>(s(),Promise.resolve()),cancel:Us,complete:Us});return e?E3({keyframes:[0,1],duration:0,delay:e,onComplete:o}):o()}const F3t={type:"spring",stiffness:500,damping:25,restSpeed:10},N3t=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),B3t={type:"keyframes",duration:.8},U3t={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},z3t=(n,{keyframes:e})=>e.length>2?B3t:Zx.has(n)?n.startsWith("scale")?N3t(e[1]):F3t:U3t,aq=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(fy.test(e)||e==="0")&&!e.startsWith("url(")),V3t=new Set(["brightness","contrast","saturate","opacity"]);function H3t(n){const[e,r]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=r.match(Bee)||[];if(!i)return n;const o=r.replace(i,"");let s=V3t.has(e)?1:0;return i!==r&&(s*=100),e+"("+s+o+")"}const W3t=/([a-z-]*)\(.*?\)/g,lq={...fy,getAnimatableNone:n=>{const e=n.match(W3t);return e?e.map(H3t).join(" "):n}},G3t={...RUe,color:Bl,backgroundColor:Bl,outlineColor:Bl,fill:Bl,stroke:Bl,borderColor:Bl,borderTopColor:Bl,borderRightColor:Bl,borderBottomColor:Bl,borderLeftColor:Bl,filter:lq,WebkitFilter:lq},Qee=n=>G3t[n];function hze(n,e){let r=Qee(n);return r!==lq&&(r=fy),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const pze=n=>/^0[^.\s]+$/.test(n);function q3t(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||pze(n)}function K3t(n,e,r,i){const o=aq(e,r);let s;Array.isArray(r)?s=[...r]:s=[null,r];const a=i.from!==void 0?i.from:n.get();let l;const c=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?a:s[u-1]),q3t(s[u])&&c.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(l=s[u]);if(o&&c.length&&l)for(let u=0;u<c.length;u++){const f=c[u];s[f]=hze(e,l)}return s}function Y3t({when:n,delay:e,delayChildren:r,staggerChildren:i,staggerDirection:o,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:u,...f}){return!!Object.keys(f).length}function Jee(n,e){return n[e]||n.default||n}const ete=(n,e,r,i={})=>o=>{const s=Jee(i,n)||{},a=s.delay||i.delay||0;let{elapsed:l=0}=i;l=l-K0(a);const c=K3t(e,n,r,s),u=c[0],f=c[c.length-1],h=aq(n,u),m=aq(n,f);let g={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-l,onUpdate:v=>{e.set(v),s.onUpdate&&s.onUpdate(v)},onComplete:()=>{o(),s.onComplete&&s.onComplete()}};if(Y3t(s)||(g={...g,...z3t(n,g)}),g.duration&&(g.duration=K0(g.duration)),g.repeatDelay&&(g.repeatDelay=K0(g.repeatDelay)),!h||!m||FMt.current||s.type===!1||CUe.skipAnimations)return M3t(g);if(!i.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=$3t(e,n,g);if(v)return v}return E3(g)};function C3(n){return!!(bu(n)&&n.add)}const mze=n=>/^\-?\d*\.?\d+$/.test(n);function tte(n,e){n.indexOf(e)===-1&&n.push(e)}function nte(n,e){const r=n.indexOf(e);r>-1&&n.splice(r,1)}class rte{constructor(){this.subscriptions=[]}add(e){return tte(this.subscriptions,e),()=>nte(this.subscriptions,e)}notify(e,r,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,r,i);else for(let s=0;s<o;s++){const a=this.subscriptions[s];a&&a(e,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const bhe=30,Z3t=n=>!isNaN(parseFloat(n));class X3t{constructor(e,r={}){this.version="11.0.8",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(i,o=!0)=>{const s=Kb.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.canTrackVelocity=Z3t(this.current),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Kb.now()}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new rte);const i=this.events[e].add(r);return e==="change"?()=>{i(),os.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Kb.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>bhe)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,bhe);return uze(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zC(n,e){return new X3t(n,e)}const gze=n=>e=>e.test(n),Q3t={test:n=>n==="auto",parse:n=>n},vze=[IS,Mn,jp,Uv,nMt,tMt,Q3t],ak=n=>vze.find(gze(n)),J3t=[...vze,Bl,fy],eFt=n=>J3t.find(gze(n));function tFt(n,e,r){n.hasValue(e)?n.getValue(e).set(r):n.addValue(e,zC(r))}function nFt(n,e){const r=d6(n,e);let{transitionEnd:i={},transition:o={},...s}=r?n.makeTargetAnimatable(r,!1):{};s={...s,...i};for(const a in s){const l=gMt(s[a]);tFt(n,a,l)}}function rFt(n,e,r){var i,o;const s=Object.keys(e).filter(l=>!n.hasValue(l)),a=s.length;if(a)for(let l=0;l<a;l++){const c=s[l],u=e[c];let f=null;Array.isArray(u)&&(f=u[0]),f===null&&(f=(o=(i=r[c])!==null&&i!==void 0?i:n.readValue(c))!==null&&o!==void 0?o:e[c]),f!=null&&(typeof f=="string"&&(mze(f)||pze(f))?f=parseFloat(f):!eFt(f)&&fy.test(u)&&(f=hze(c,u)),n.addValue(c,zC(f,{owner:n})),r[c]===void 0&&(r[c]=f),f!==null&&n.setBaseTarget(c,f))}}function iFt(n,e){return e?(e[n]||e.default||e).from:void 0}function oFt(n,e,r){const i={};for(const o in n){const s=iFt(o,e);if(s!==void 0)i[o]=s;else{const a=r.getValue(o);a&&(i[o]=a.get())}}return i}function sFt({protectedKeys:n,needsAnimating:e},r){const i=n.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,i}function aFt(n,e){const r=n.get();if(Array.isArray(e)){for(let i=0;i<e.length;i++)if(e[i]!==r)return!0}else return r!==e}function yze(n,e,{delay:r=0,transitionOverride:i,type:o}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:a,...l}=n.makeTargetAnimatable(e);const c=n.getValue("willChange");i&&(s=i);const u=[],f=o&&n.animationState&&n.animationState.getState()[o];for(const h in l){const m=n.getValue(h),g=l[h];if(!m||g===void 0||f&&sFt(f,h))continue;const v={delay:r,elapsed:0,...Jee(s||{},h)};if(window.HandoffAppearAnimations){const x=n.getProps()[EUe];if(x){const _=window.HandoffAppearAnimations(x,h,m,os);_!==null&&(v.elapsed=_,v.isHandoff=!0)}}let y=!v.isHandoff&&!aFt(m,g);if(v.type==="spring"&&(m.getVelocity()||v.velocity)&&(y=!1),m.animation&&(y=!1),y)continue;m.start(ete(h,m,g,n.shouldReduceMotion&&Zx.has(h)?{type:!1}:v));const b=m.animation;C3(c)&&(c.add(h),b.then(()=>c.remove(h))),u.push(b)}return a&&Promise.all(u).then(()=>{a&&nFt(n,a)}),u}function cq(n,e,r={}){const i=d6(n,e,r.custom);let{transition:o=n.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(o=r.transitionOverride);const s=i?()=>Promise.all(yze(n,i,r)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=o;return lFt(n,e,u+c,f,h,r)}:()=>Promise.resolve(),{when:l}=o;if(l){const[c,u]=l==="beforeChildren"?[s,a]:[a,s];return c().then(()=>u())}else return Promise.all([s(),a(r.delay)])}function lFt(n,e,r=0,i=0,o=1,s){const a=[],l=(n.variantChildren.size-1)*i,c=o===1?(u=0)=>u*i:(u=0)=>l-u*i;return Array.from(n.variantChildren).sort(cFt).forEach((u,f)=>{u.notify("AnimationStart",e),a.push(cq(u,e,{...s,delay:r+c(f)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(a)}function cFt(n,e){return n.sortNodePosition(e)}function uFt(n,e,r={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(s=>cq(n,s,r));i=Promise.all(o)}else if(typeof e=="string")i=cq(n,e,r);else{const o=typeof e=="function"?d6(n,e,r.custom):e;i=Promise.all(yze(n,o,r))}return i.then(()=>n.notify("AnimationComplete",e))}const dFt=[...$ee].reverse(),fFt=$ee.length;function hFt(n){return e=>Promise.all(e.map(({animation:r,options:i})=>uFt(n,r,i)))}function pFt(n){let e=hFt(n);const r=gFt();let i=!0;const o=(c,u)=>{const f=d6(n,u);if(f){const{transition:h,transitionEnd:m,...g}=f;c={...c,...g,...m}}return c};function s(c){e=c(n)}function a(c,u){const f=n.getProps(),h=n.getVariantContext(!0)||{},m=[],g=new Set;let v={},y=1/0;for(let x=0;x<fFt;x++){const _=dFt[x],w=r[_],C=f[_]!==void 0?f[_]:h[_],S=b5(C),T=_===u?w.isActive:null;T===!1&&(y=x);let A=C===h[_]&&C!==f[_]&&S;if(A&&i&&n.manuallyAnimateOnMount&&(A=!1),w.protectedKeys={...v},!w.isActive&&T===null||!C&&!w.prevProp||l6(C)||typeof C=="boolean")continue;let D=mFt(w.prevProp,C)||_===u&&w.isActive&&!A&&S||x>y&&S,R=!1;const P=Array.isArray(C)?C:[C];let O=P.reduce(o,{});T===!1&&(O={});const{prevResolvedValues:$={}}=w,L={...$,...O},M=N=>{D=!0,g.has(N)&&(R=!0,g.delete(N)),w.needsAnimating[N]=!0};for(const N in L){const z=O[N],B=$[N];if(v.hasOwnProperty(N))continue;let H=!1;x3(z)&&x3(B)?H=!GUe(z,B):H=z!==B,H?z!==void 0?M(N):g.add(N):z!==void 0&&g.has(N)?M(N):w.protectedKeys[N]=!0}w.prevProp=C,w.prevResolvedValues=O,w.isActive&&(v={...v,...O}),i&&n.blockInitialAnimation&&(D=!1),D&&(!A||R)&&m.push(...P.map(N=>({animation:N,options:{type:_,...c}})))}if(g.size){const x={};g.forEach(_=>{const w=n.getBaseTarget(_);w!==void 0&&(x[_]=w)}),m.push({animation:x})}let b=!!m.length;return i&&(f.initial===!1||f.initial===f.animate)&&!n.manuallyAnimateOnMount&&(b=!1),i=!1,b?e(m):Promise.resolve()}function l(c,u,f){var h;if(r[c].isActive===u)return Promise.resolve();(h=n.variantChildren)===null||h===void 0||h.forEach(g=>{var v;return(v=g.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),r[c].isActive=u;const m=a(f,c);for(const g in r)r[g].protectedKeys={};return m}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>r}}function mFt(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!GUe(e,n):!1}function m1(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gFt(){return{animate:m1(!0),whileInView:m1(),whileHover:m1(),whileTap:m1(),whileDrag:m1(),whileFocus:m1(),exit:m1()}}class vFt extends jy{constructor(e){super(e),e.animationState||(e.animationState=pFt(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),l6(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let yFt=0;class bFt extends jy{constructor(){super(...arguments),this.id=yFt++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:i}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const s=this.node.animationState.setActive("exit",!e,{custom:i??this.node.getProps().custom});r&&!e&&s.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const xFt={animation:{Feature:vFt},exit:{Feature:bFt}},xhe=(n,e)=>Math.abs(n-e);function wFt(n,e){const r=xhe(n.x,e.x),i=xhe(n.y,e.y);return Math.sqrt(r**2+i**2)}class bze{constructor(e,r,{transformPagePoint:i,contextWindow:o,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=NU(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=wFt(h.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:v}=h,{timestamp:y}=ol;this.history.push({...v,timestamp:y});const{onStart:b,onMove:x}=this.handlers;m||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=FU(m,this.transformPagePoint),os.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=NU(h.type==="pointercancel"?this.lastMoveEventInfo:FU(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,b),v&&v(h,b)},!UUe(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=i,this.contextWindow=o||window;const a=u6(e),l=FU(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=ol;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=r;f&&f(e,NU(l,this.history)),this.removeListeners=gg(mg(this.contextWindow,"pointermove",this.handlePointerMove),mg(this.contextWindow,"pointerup",this.handlePointerUp),mg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Dg(this.updatePoint)}}function FU(n,e){return e?{point:e(n.point)}:n}function whe(n,e){return{x:n.x-e.x,y:n.y-e.y}}function NU({point:n},e){return{point:n,delta:whe(n,xze(e)),offset:whe(n,_Ft(e)),velocity:EFt(e,.1)}}function _Ft(n){return n[0]}function xze(n){return n[n.length-1]}function EFt(n,e){if(n.length<2)return{x:0,y:0};let r=n.length-1,i=null;const o=xze(n);for(;r>=0&&(i=n[r],!(o.timestamp-i.timestamp>K0(e)));)r--;if(!i)return{x:0,y:0};const s=vg(o.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const a={x:(o.x-i.x)/s,y:(o.y-i.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function sd(n){return n.max-n.min}function uq(n,e=0,r=.01){return Math.abs(n-e)<=r}function _he(n,e,r,i=.5){n.origin=i,n.originPoint=hs(e.min,e.max,n.origin),n.scale=sd(r)/sd(e),(uq(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=hs(r.min,r.max,n.origin)-n.originPoint,(uq(n.translate)||isNaN(n.translate))&&(n.translate=0)}function EA(n,e,r,i){_he(n.x,e.x,r.x,i?i.originX:void 0),_he(n.y,e.y,r.y,i?i.originY:void 0)}function Ehe(n,e,r){n.min=r.min+e.min,n.max=n.min+sd(e)}function CFt(n,e,r){Ehe(n.x,e.x,r.x),Ehe(n.y,e.y,r.y)}function Che(n,e,r){n.min=e.min-r.min,n.max=n.min+sd(e)}function CA(n,e,r){Che(n.x,e.x,r.x),Che(n.y,e.y,r.y)}function SFt(n,{min:e,max:r},i){return e!==void 0&&n<e?n=i?hs(e,n,i.min):Math.max(n,e):r!==void 0&&n>r&&(n=i?hs(r,n,i.max):Math.min(n,r)),n}function She(n,e,r){return{min:e!==void 0?n.min+e:void 0,max:r!==void 0?n.max+r-(n.max-n.min):void 0}}function kFt(n,{top:e,left:r,bottom:i,right:o}){return{x:She(n.x,r,o),y:She(n.y,e,i)}}function khe(n,e){let r=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([r,i]=[i,r]),{min:r,max:i}}function TFt(n,e){return{x:khe(n.x,e.x),y:khe(n.y,e.y)}}function AFt(n,e){let r=.5;const i=sd(n),o=sd(e);return o>i?r=w5(e.min,e.max-i,n.min):i>o&&(r=w5(n.min,n.max-o,e.min)),dy(0,1,r)}function IFt(n,e){const r={};return e.min!==void 0&&(r.min=e.min-n.min),e.max!==void 0&&(r.max=e.max-n.min),r}const dq=.35;function DFt(n=dq){return n===!1?n=0:n===!0&&(n=dq),{x:The(n,"left","right"),y:The(n,"top","bottom")}}function The(n,e,r){return{min:Ahe(n,e),max:Ahe(n,r)}}function Ahe(n,e){return typeof n=="number"?n:n[e]||0}const Ihe=()=>({translate:0,scale:1,origin:0,originPoint:0}),wE=()=>({x:Ihe(),y:Ihe()}),Dhe=()=>({min:0,max:0}),$s=()=>({x:Dhe(),y:Dhe()});function Md(n){return[n("x"),n("y")]}function wze({top:n,left:e,right:r,bottom:i}){return{x:{min:e,max:r},y:{min:n,max:i}}}function RFt({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function OFt(n,e){if(!e)return n;const r=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function BU(n){return n===void 0||n===1}function fq({scale:n,scaleX:e,scaleY:r}){return!BU(n)||!BU(e)||!BU(r)}function N1(n){return fq(n)||_ze(n)||n.z||n.rotate||n.rotateX||n.rotateY}function _ze(n){return Rhe(n.x)||Rhe(n.y)}function Rhe(n){return n&&n!=="0%"}function S3(n,e,r){const i=n-r,o=e*i;return r+o}function Ohe(n,e,r,i,o){return o!==void 0&&(n=S3(n,o,i)),S3(n,r,i)+e}function hq(n,e=0,r=1,i,o){n.min=Ohe(n.min,e,r,i,o),n.max=Ohe(n.max,e,r,i,o)}function Eze(n,{x:e,y:r}){hq(n.x,e.translate,e.scale,e.originPoint),hq(n.y,r.translate,r.scale,r.originPoint)}function PFt(n,e,r,i=!1){const o=r.length;if(!o)return;e.x=e.y=1;let s,a;for(let l=0;l<o;l++){s=r[l],a=s.projectionDelta;const c=s.instance;c&&c.style&&c.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&_E(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,Eze(n,a)),i&&N1(s.latestValues)&&_E(n,s.latestValues))}e.x=Phe(e.x),e.y=Phe(e.y)}function Phe(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function t0(n,e){n.min=n.min+e,n.max=n.max+e}function jhe(n,e,[r,i,o]){const s=e[o]!==void 0?e[o]:.5,a=hs(n.min,n.max,s);hq(n,e[r],e[i],a,e.scale)}const jFt=["x","scaleX","originX"],LFt=["y","scaleY","originY"];function _E(n,e){jhe(n.x,e,jFt),jhe(n.y,e,LFt)}function Cze(n,e){return wze(OFt(n.getBoundingClientRect(),e))}function $Ft(n,e,r){const i=Cze(n,r),{scroll:o}=e;return o&&(t0(i.x,o.offset.x),t0(i.y,o.offset.y)),i}const Sze=({current:n})=>n?n.ownerDocument.defaultView:null,MFt=new WeakMap;class FFt{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$s(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(u6(f,"page").point)},s=(f,h)=>{const{drag:m,dragPropagation:g,onDragStart:v}=this.getProps();if(m&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=VUe(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Md(b=>{let x=this.getAxisMotionValue(b).get()||0;if(jp.test(x)){const{projection:_}=this.visualElement;if(_&&_.layout){const w=_.layout.layoutBox[b];w&&(x=sd(w)*(parseFloat(x)/100))}}this.originPoint[b]=x}),v&&os.update(()=>v(f,h),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(f,h)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:v,onDrag:y}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:b}=h;if(g&&this.currentDirection===null){this.currentDirection=NFt(b),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),y&&y(f,h)},l=(f,h)=>this.stop(f,h),c=()=>Md(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new bze(e,{onSessionStart:o,onStart:s,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Sze(this.visualElement)})}stop(e,r){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:s}=this.getProps();s&&os.update(()=>s(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,i){const{drag:o}=this.getProps();if(!i||!qO(e,o,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(a=SFt(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;r&&bE(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&o?this.constraints=kFt(o.layoutBox,r):this.constraints=!1,this.elastic=DFt(i),s!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Md(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=IFt(o.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!bE(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const s=$Ft(i,o.root,this.visualElement.getTransformPagePoint());let a=TFt(o.layout.layoutBox,s);if(r){const l=r(RFt(a));this.hasMutatedConstraints=!!l,l&&(a=wze(l))}return a}startAnimation(e){const{drag:r,dragMomentum:i,dragElastic:o,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Md(f=>{if(!qO(f,r,this.currentDirection))return;let h=c&&c[f]||{};a&&(h={min:0,max:0});const m=o?200:1e6,g=o?40:1e7,v={type:"inertia",velocity:i?e[f]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(f,v)});return Promise.all(u).then(l)}startAxisValueAnimation(e,r){const i=this.getAxisMotionValue(e);return i.start(ete(e,i,0,r))}stopAnimation(){Md(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Md(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),i=this.visualElement.getProps(),o=i[r];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Md(r=>{const{drag:i}=this.getProps();if(!qO(r,i,this.currentDirection))return;const{projection:o}=this.visualElement,s=this.getAxisMotionValue(r);if(o&&o.layout){const{min:a,max:l}=o.layout.layoutBox[r];s.set(e[r]-hs(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!bE(r)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Md(a=>{const l=this.getAxisMotionValue(a);if(l){const c=l.get();o[a]=AFt({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Md(a=>{if(!qO(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(hs(c,u,o[a]))})}addListeners(){if(!this.visualElement.current)return;MFt.set(this.visualElement,this);const e=this.visualElement.current,r=mg(e,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(c)}),i=()=>{const{dragConstraints:c}=this.getProps();bE(c)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,s=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),i();const a=sg(window,"resize",()=>this.scalePositionWithinConstraints()),l=o.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Md(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=c[f].translate,h.set(h.get()+c[f].translate))}),this.visualElement.render())});return()=>{a(),r(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:s=!1,dragElastic:a=dq,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:i,dragPropagation:o,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function qO(n,e,r){return(e===!0||e===n)&&(r===null||r===n)}function NFt(n,e=10){let r=null;return Math.abs(n.y)>e?r="y":Math.abs(n.x)>e&&(r="x"),r}class BFt extends jy{constructor(e){super(e),this.removeGroupControls=Us,this.removeListeners=Us,this.controls=new FFt(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Us}unmount(){this.removeGroupControls(),this.removeListeners()}}const Lhe=n=>(e,r)=>{n&&os.update(()=>n(e,r))};class UFt extends jy{constructor(){super(...arguments),this.removePointerDownListener=Us}onPointerDown(e){this.session=new bze(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Sze(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:Lhe(e),onStart:Lhe(r),onMove:i,onEnd:(s,a)=>{delete this.session,o&&os.update(()=>o(s,a))}}}mount(){this.removePointerDownListener=mg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function zFt(){const n=p.useContext(s6);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:i}=n,o=p.useId();return p.useEffect(()=>i(o),[]),!e&&r?[!1,()=>r&&r(o)]:[!0]}const SL={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $he(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const lk={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Mn.test(n))n=parseFloat(n);else return n;const r=$he(n,e.target.x),i=$he(n,e.target.y);return`${r}% ${i}%`}},VFt={correct:(n,{treeScale:e,projectionDelta:r})=>{const i=n,o=fy.parse(n);if(o.length>5)return i;const s=fy.createTransformer(n),a=typeof o[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;o[0+a]/=l,o[1+a]/=c;const u=hs(l,c,.5);return typeof o[2+a]=="number"&&(o[2+a]/=u),typeof o[3+a]=="number"&&(o[3+a]/=u),s(o)}};class HFt extends _t.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i,layoutId:o}=this.props,{projection:s}=e;G$t(WFt),s&&(r.group&&r.group.add(s),i&&i.register&&o&&i.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),SL.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:i,drag:o,isPresent:s}=this.props,a=i.projection;return a&&(a.isPresent=s,o||e.layoutDependency!==r||r===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||os.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Lee.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function kze(n){const[e,r]=zFt(),i=p.useContext(Fee);return _t.createElement(HFt,{...n,layoutGroup:i,switchLayoutGroup:p.useContext(TUe),isPresent:e,safeToRemove:r})}const WFt={borderRadius:{...lk,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lk,borderTopRightRadius:lk,borderBottomLeftRadius:lk,borderBottomRightRadius:lk,boxShadow:VFt},Tze=["TopLeft","TopRight","BottomLeft","BottomRight"],GFt=Tze.length,Mhe=n=>typeof n=="string"?parseFloat(n):n,Fhe=n=>typeof n=="number"||Mn.test(n);function qFt(n,e,r,i,o,s){o?(n.opacity=hs(0,r.opacity!==void 0?r.opacity:1,KFt(i)),n.opacityExit=hs(e.opacity!==void 0?e.opacity:1,0,YFt(i))):s&&(n.opacity=hs(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,i));for(let a=0;a<GFt;a++){const l=`border${Tze[a]}Radius`;let c=Nhe(e,l),u=Nhe(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Fhe(c)===Fhe(u)?(n[l]=Math.max(hs(Mhe(c),Mhe(u),i),0),(jp.test(u)||jp.test(c))&&(n[l]+="%")):n[l]=u}(e.rotate||r.rotate)&&(n.rotate=hs(e.rotate||0,r.rotate||0,i))}function Nhe(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const KFt=Aze(0,.5,tze),YFt=Aze(.5,.95,Us);function Aze(n,e,r){return i=>i<n?0:i>e?1:r(w5(n,e,i))}function Bhe(n,e){n.min=e.min,n.max=e.max}function Id(n,e){Bhe(n.x,e.x),Bhe(n.y,e.y)}function Uhe(n,e,r,i,o){return n-=e,n=S3(n,1/r,i),o!==void 0&&(n=S3(n,1/o,i)),n}function ZFt(n,e=0,r=1,i=.5,o,s=n,a=n){if(jp.test(e)&&(e=parseFloat(e),e=hs(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=hs(s.min,s.max,i);n===s&&(l-=e),n.min=Uhe(n.min,e,r,l,o),n.max=Uhe(n.max,e,r,l,o)}function zhe(n,e,[r,i,o],s,a){ZFt(n,e[r],e[i],e[o],e.scale,s,a)}const XFt=["x","scaleX","originX"],QFt=["y","scaleY","originY"];function Vhe(n,e,r,i){zhe(n.x,e,XFt,r?r.x:void 0,i?i.x:void 0),zhe(n.y,e,QFt,r?r.y:void 0,i?i.y:void 0)}function Hhe(n){return n.translate===0&&n.scale===1}function Ize(n){return Hhe(n.x)&&Hhe(n.y)}function JFt(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function Dze(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function Whe(n){return sd(n.x)/sd(n.y)}class e4t{constructor(){this.members=[]}add(e){tte(this.members,e),e.scheduleRender()}remove(e){if(nte(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(o=>e===o);if(r===0)return!1;let i;for(let o=r;o>=0;o--){const s=this.members[o];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,r){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,r&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:i}=e;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Ghe(n,e,r){let i="";const o=n.x.translate/e.x,s=n.y.translate/e.y;if((o||s)&&(i=`translate3d(${o}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:c,rotateX:u,rotateY:f}=r;c&&(i+=`rotate(${c}deg) `),u&&(i+=`rotateX(${u}deg) `),f&&(i+=`rotateY(${f}deg) `)}const a=n.x.scale*e.x,l=n.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const t4t=(n,e)=>n.depth-e.depth;class n4t{constructor(){this.children=[],this.isDirty=!1}add(e){tte(this.children,e),this.isDirty=!0}remove(e){nte(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(t4t),this.isDirty=!1,this.children.forEach(e)}}function r4t(n,e){const r=Kb.now(),i=({timestamp:o})=>{const s=o-r;s>=e&&(Dg(i),n(s-e))};return os.read(i,!0),()=>Dg(i)}function i4t(n){window.MotionDebug&&window.MotionDebug.record(n)}function o4t(n){return n instanceof SVGElement&&n.tagName!=="svg"}function s4t(n,e,r){const i=bu(n)?n:zC(n);return i.start(ete("",i,e,r)),i.animation}const qhe=["","X","Y","Z"],a4t={visibility:"hidden"},Khe=1e3;let l4t=0;const B1={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Rze({attachResizeListener:n,defaultParent:e,measureScroll:r,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(a={},l=e==null?void 0:e()){this.id=l4t++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,B1.totalNodes=B1.resolvedTargetDeltas=B1.recalculatedProjection=0,this.nodes.forEach(d4t),this.nodes.forEach(g4t),this.nodes.forEach(v4t),this.nodes.forEach(f4t),i4t(B1)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new n4t)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new rte),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=o4t(a),this.instance=a;const{layoutId:c,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),n){let h;const m=()=>this.root.updateBlockedByResize=!1;n(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=r4t(m,250),SL.hasAnimatedSinceResize&&(SL.hasAnimatedSinceResize=!1,this.nodes.forEach(Zhe))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeTargetChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||f.getDefaultTransition()||_4t,{onLayoutAnimationStart:b,onLayoutAnimationComplete:x}=f.getProps(),_=!this.targetLayout||!Dze(this.targetLayout,v)||g,w=!m&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||m&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,w);const C={...Jee(y,"layout"),onPlay:b,onComplete:x};(f.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else m||Zhe(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Dg(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(y4t),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Yhe);return}this.isUpdating||this.nodes.forEach(p4t),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(m4t),this.nodes.forEach(c4t),this.nodes.forEach(u4t),this.clearAllSnapshots();const l=Kb.now();ol.delta=dy(0,1e3/60,l-ol.timestamp),ol.timestamp=l,ol.isProcessing=!0,RU.update.process(ol),RU.preRender.process(ol),RU.render.process(ol),ol.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Lee.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(h4t),this.sharedNodes.forEach(b4t)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,os.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){os.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$s(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:i(this.instance),offset:r(this.instance)})}resetTransform(){if(!o)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!Ize(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;a&&(l||N1(this.latestValues)||f)&&(o(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),E4t(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return $s();const l=a.measureViewportBox(),{scroll:c}=this.root;return c&&(t0(l.x,c.offset.x),t0(l.y,c.offset.y)),l}removeElementScroll(a){const l=$s();Id(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;if(u!==this.root&&f&&h.layoutScroll){if(f.isRoot){Id(l,a);const{scroll:m}=this.root;m&&(t0(l.x,-m.offset.x),t0(l.y,-m.offset.y))}t0(l.x,f.offset.x),t0(l.y,f.offset.y)}}return l}applyTransform(a,l=!1){const c=$s();Id(c,a);for(let u=0;u<this.path.length;u++){const f=this.path[u];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&_E(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),N1(f.latestValues)&&_E(c,f.latestValues)}return N1(this.latestValues)&&_E(c,this.latestValues),c}removeTransform(a){const l=$s();Id(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!N1(u.latestValues))continue;fq(u.latestValues)&&u.updateSnapshot();const f=$s(),h=u.measurePageBox();Id(f,h),Vhe(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return N1(this.latestValues)&&Vhe(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ol.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=ol.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$s(),this.relativeTargetOrigin=$s(),CA(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Id(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=$s(),this.targetWithTransforms=$s()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),CFt(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Id(this.target,this.layout.layoutBox),Eze(this.target,this.targetDelta)):Id(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$s(),this.relativeTargetOrigin=$s(),CA(this.relativeTargetOrigin,this.target,g.target),Id(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}B1.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||fq(this.parent.latestValues)||_ze(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ol.timestamp&&(u=!1),u)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;Id(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;PFt(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=$s());const{target:v}=l;if(!v){this.projectionTransform&&(this.projectionDelta=wE(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=wE(),this.projectionDeltaWithTransform=wE());const y=this.projectionTransform;EA(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=Ghe(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==m||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),B1.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},f={...this.latestValues},h=wE();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const m=$s(),g=c?c.source:void 0,v=this.layout?this.layout.source:void 0,y=g!==v,b=this.getStack(),x=!b||b.members.length<=1,_=!!(y&&!x&&this.options.crossfade===!0&&!this.path.some(w4t));this.animationProgress=0;let w;this.mixTargetDelta=C=>{const S=C/1e3;Xhe(h.x,a.x,S),Xhe(h.y,a.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(CA(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),x4t(this.relativeTarget,this.relativeTargetOrigin,m,S),w&&JFt(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=$s()),Id(w,this.relativeTarget)),y&&(this.animationValues=f,qFt(f,u,this.latestValues,S,_,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Dg(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=os.update(()=>{SL.hasAnimatedSinceResize=!0,this.currentAnimation=s4t(0,Khe,{...a,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Khe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:f}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&Oze(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||$s();const h=sd(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const m=sd(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+m}Id(l,c),_E(l,f),EA(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new e4t),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:l}=this.options;return l?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:l}=this.options;return l?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const u={};for(let f=0;f<qhe.length;f++){const h="rotate"+qhe[f];c[h]&&(u[h]=c[h],a.setStaticValue(h,0))}a.render();for(const f in u)a.setStaticValue(f,u[f]);a.scheduleRender()}getProjectionStyles(a){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return a4t;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=EL(a==null?void 0:a.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=EL(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!N1(this.latestValues)&&(y.transform=f?f({},""):"none",this.hasProjected=!1),y}const m=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Ghe(this.projectionDeltaWithTransform,this.treeScale,m),f&&(u.transform=f(m,u.transform));const{x:g,y:v}=this.projectionDelta;u.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=m.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const y in v3){if(m[y]===void 0)continue;const{correct:b,applyTo:x}=v3[y],_=u.transform==="none"?m[y]:b(m[y],h);if(x){const w=x.length;for(let C=0;C<w;C++)u[x[C]]=_}else u[y]=_}return this.options.layoutId&&(u.pointerEvents=h===this?EL(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Yhe),this.root.sharedNodes.clear()}}}function c4t(n){n.updateLayout()}function u4t(n){var e;const r=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&r&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=n.layout,{animationType:s}=n.options,a=r.source!==n.layout.source;s==="size"?Md(h=>{const m=a?r.measuredBox[h]:r.layoutBox[h],g=sd(m);m.min=i[h].min,m.max=m.min+g}):Oze(s,r.layoutBox,i)&&Md(h=>{const m=a?r.measuredBox[h]:r.layoutBox[h],g=sd(i[h]);m.max=m.min+g,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[h].max=n.relativeTarget[h].min+g)});const l=wE();EA(l,i,r.layoutBox);const c=wE();a?EA(c,n.applyTransform(o,!0),r.measuredBox):EA(c,i,r.layoutBox);const u=!Ize(l);let f=!1;if(!n.resumeFrom){const h=n.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:g}=h;if(m&&g){const v=$s();CA(v,r.layoutBox,m.layoutBox);const y=$s();CA(y,i,g.layoutBox),Dze(v,y)||(f=!0),h.options.layoutRoot&&(n.relativeTarget=y,n.relativeTargetOrigin=v,n.relativeParent=h)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function d4t(n){B1.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function f4t(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function h4t(n){n.clearSnapshot()}function Yhe(n){n.clearMeasurements()}function p4t(n){n.isLayoutDirty=!1}function m4t(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Zhe(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function g4t(n){n.resolveTargetDelta()}function v4t(n){n.calcProjection()}function y4t(n){n.resetRotation()}function b4t(n){n.removeLeadSnapshot()}function Xhe(n,e,r){n.translate=hs(e.translate,0,r),n.scale=hs(e.scale,1,r),n.origin=e.origin,n.originPoint=e.originPoint}function Qhe(n,e,r,i){n.min=hs(e.min,r.min,i),n.max=hs(e.max,r.max,i)}function x4t(n,e,r,i){Qhe(n.x,e.x,r.x,i),Qhe(n.y,e.y,r.y,i)}function w4t(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const _4t={duration:.45,ease:[.4,0,.1,1]},Jhe=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),epe=Jhe("applewebkit/")&&!Jhe("chrome/")?Math.round:Us;function tpe(n){n.min=epe(n.min),n.max=epe(n.max)}function E4t(n){tpe(n.x),tpe(n.y)}function Oze(n,e,r){return n==="position"||n==="preserve-aspect"&&!uq(Whe(e),Whe(r),.2)}const C4t=Rze({attachResizeListener:(n,e)=>sg(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),UU={current:void 0},Pze=Rze({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!UU.current){const n=new C4t({});n.mount(window),n.setOptions({layoutScroll:!0}),UU.current=n}return UU.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),S4t={pan:{Feature:UFt},drag:{Feature:BFt,ProjectionNode:Pze,MeasureLayout:kze}},k4t=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function T4t(n){const e=k4t.exec(n);if(!e)return[,];const[,r,i]=e;return[r,i]}function pq(n,e,r=1){const[i,o]=T4t(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const a=s.trim();return mze(a)?parseFloat(a):a}else return y3(o)?pq(o,e,r+1):o}function A4t(n,{...e},r){const i=n.current;if(!(i instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),n.values.forEach(o=>{const s=o.get();if(!y3(s))return;const a=pq(s,i);a&&o.set(a)});for(const o in e){const s=e[o];if(!y3(s))continue;const a=pq(s,i);a&&(e[o]=a,r||(r={}),r[o]===void 0&&(r[o]=s))}return{target:e,transitionEnd:r}}const I4t=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),jze=n=>I4t.has(n),D4t=n=>Object.keys(n).some(jze),npe=n=>n===IS||n===Mn,rpe=(n,e)=>parseFloat(n.split(", ")[e]),ipe=(n,e)=>(r,{transform:i})=>{if(i==="none"||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/);if(o)return rpe(o[1],e);{const s=i.match(/^matrix\((.+)\)$/);return s?rpe(s[1],n):0}},R4t=new Set(["x","y","z"]),O4t=rD.filter(n=>!R4t.has(n));function P4t(n){const e=[];return O4t.forEach(r=>{const i=n.getValue(r);i!==void 0&&(e.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),e.length&&n.render(),e}const VC={width:({x:n},{paddingLeft:e="0",paddingRight:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),height:({y:n},{paddingTop:e="0",paddingBottom:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:ipe(4,13),y:ipe(5,14)};VC.translateX=VC.x;VC.translateY=VC.y;const j4t=(n,e,r)=>{const i=e.measureViewportBox(),o=e.current,s=getComputedStyle(o),{display:a}=s,l={};a==="none"&&e.setStaticValue("display",n.display||"block"),r.forEach(u=>{l[u]=VC[u](i,s)}),e.render();const c=e.measureViewportBox();return r.forEach(u=>{const f=e.getValue(u);f&&f.jump(l[u]),n[u]=VC[u](c,s)}),n},L4t=(n,e,r={},i={})=>{e={...e},i={...i};const o=Object.keys(e).filter(jze);let s=[],a=!1;const l=[];if(o.forEach(c=>{const u=n.getValue(c);if(!n.hasValue(c))return;let f=r[c],h=ak(f);const m=e[c];let g;if(x3(m)){const v=m.length,y=m[0]===null?1:0;f=m[y],h=ak(f);for(let b=y;b<v&&m[b]!==null;b++)g?qee(ak(m[b])===g):g=ak(m[b])}else g=ak(m);if(h!==g)if(npe(h)&&npe(g)){const v=u.get();typeof v=="string"&&u.set(parseFloat(v)),typeof m=="string"?e[c]=parseFloat(m):Array.isArray(m)&&g===Mn&&(e[c]=m.map(parseFloat))}else h!=null&&h.transform&&(g!=null&&g.transform)&&(f===0||m===0)?f===0?u.set(g.transform(f)):e[c]=h.transform(m):(a||(s=P4t(n),a=!0),l.push(c),i[c]=i[c]!==void 0?i[c]:e[c],u.jump(m))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,u=j4t(e,n,l);return s.length&&s.forEach(([f,h])=>{n.getValue(f).set(h)}),n.render(),a6&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:i}}else return{target:e,transitionEnd:i}};function $4t(n,e,r,i){return D4t(e)?L4t(n,e,r,i):{target:e,transitionEnd:i}}const M4t=(n,e,r,i)=>{const o=A4t(n,e,i);return e=o.target,i=o.transitionEnd,$4t(n,e,r,i)},mq={current:null},Lze={current:!1};function F4t(){if(Lze.current=!0,!!a6)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>mq.current=n.matches;n.addListener(e),e()}else mq.current=!1}function N4t(n,e,r){const{willChange:i}=e;for(const o in e){const s=e[o],a=r[o];if(bu(s))n.addValue(o,s),C3(i)&&i.add(o);else if(bu(a))n.addValue(o,zC(s,{owner:n})),C3(i)&&i.remove(o);else if(a!==s)if(n.hasValue(o)){const l=n.getValue(o);!l.hasAnimated&&l.set(s)}else{const l=n.getStaticValue(o);n.addValue(o,zC(l!==void 0?l:s,{owner:n}))}}for(const o in r)e[o]===void 0&&n.removeValue(o);return e}const ope=new WeakMap,$ze=Object.keys(x5),B4t=$ze.length,spe=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],U4t=Mee.length;class z4t{constructor({parent:e,props:r,presenceContext:i,reducedMotionConfig:o,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>os.render(this.render,!1,!0);const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=r,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=a,this.isControllingVariants=c6(r),this.isVariantNode=kUe(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{});for(const h in f){const m=f[h];l[h]!==void 0&&bu(m)&&(m.set(l[h],!1),C3(u)&&u.add(h))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,ope.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),Lze.current||F4t(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:mq.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){ope.delete(this.current),this.projection&&this.projection.unmount(),Dg(this.notifyUpdate),Dg(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const i=Zx.has(e),o=r.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&os.update(this.notifyUpdate,!1,!0),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{o(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},i,o,s){let a,l;for(let c=0;c<B4t;c++){const u=$ze[c],{isEnabled:f,Feature:h,ProjectionNode:m,MeasureLayout:g}=x5[u];m&&(a=m),f(r)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),g&&(l=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:f,dragConstraints:h,layoutScroll:m,layoutRoot:g}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!f||h&&bE(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:m,layoutRoot:g})}return l}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$s()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<spe.length;i++){const o=spe[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const s=e["on"+o];s&&(this.propEventSubscriptions[o]=this.on(o,s))}this.prevMotionValues=N4t(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const i=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(i.initial=this.props.initial),i}const r={};for(let i=0;i<U4t;i++){const o=Mee[i],s=this.props[o];(b5(s)||s===!1)&&(r[o]=s)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&r!==void 0&&(i=zC(r,{owner:this}),this.addValue(e,i)),i}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:i}=this.props,o=typeof i=="string"||typeof i=="object"?(r=Gee(this.props,i))===null||r===void 0?void 0:r[e]:void 0;if(i&&o!==void 0)return o;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!bu(s)?s:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new rte),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class Mze extends z4t{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:i}){delete r[e],delete i[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...i},o){const s=oFt(i,e||{},this);if(o){rFt(this,i,s);const a=M4t(this,i,s,r);r=a.transitionEnd,i=a.target}return{transition:e,transitionEnd:r,...i}}}function V4t(n){return window.getComputedStyle(n)}class H4t extends Mze{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,r){if(Zx.has(r)){const i=Qee(r);return i&&i.default||0}else{const i=V4t(e),o=(DUe(r)?i.getPropertyValue(r):i[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:r}){return Cze(e,r)}build(e,r,i,o){Uee(e,r,i,o.transformTemplate)}scrapeMotionValuesFromProps(e,r){return Wee(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;bu(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,i,o){LUe(e,r,i,o)}}class W4t extends Mze{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Zx.has(r)){const i=Qee(r);return i&&i.default||0}return r=$Ue.has(r)?r:jee(r),e.getAttribute(r)}measureInstanceViewportBox(){return $s()}scrapeMotionValuesFromProps(e,r){return FUe(e,r)}build(e,r,i,o){Vee(e,r,i,this.isSVGTag,o.transformTemplate)}renderInstance(e,r,i,o){MUe(e,r,i,o)}mount(e){this.isSVGTag=Hee(e.tagName),super.mount(e)}}const G4t=(n,e)=>Nee(n)?new W4t(e,{enableHardwareAcceleration:!1}):new H4t(e,{enableHardwareAcceleration:!0}),q4t={layout:{ProjectionNode:Pze,MeasureLayout:kze}},K4t={...xFt,...jMt,...S4t,...q4t},Xa=H$t((n,e)=>wMt(n,e,K4t,G4t));function Fze(){const n=p.useRef(!1);return Pee(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function Y4t(){const n=Fze(),[e,r]=p.useState(0),i=p.useCallback(()=>{n.current&&r(e+1)},[e]);return[p.useCallback(()=>os.postRender(i),[i]),e]}class Z4t extends p.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function X4t({children:n,isPresent:e}){const r=p.useId(),i=p.useRef(null),o=p.useRef({width:0,height:0,top:0,left:0});return p.useInsertionEffect(()=>{const{width:s,height:a,top:l,left:c}=o.current;if(e||!i.current||!s||!a)return;i.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),p.createElement(Z4t,{isPresent:e,childRef:i,sizeRef:o},p.cloneElement(n,{ref:i}))}const zU=({children:n,initial:e,isPresent:r,onExitComplete:i,custom:o,presenceAffectsLayout:s,mode:a})=>{const l=NUe(Q4t),c=p.useId(),u=p.useMemo(()=>({id:c,initial:e,isPresent:r,custom:o,onExitComplete:f=>{l.set(f,!0);for(const h of l.values())if(!h)return;i&&i()},register:f=>(l.set(f,!1),()=>l.delete(f))}),s?void 0:[r]);return p.useMemo(()=>{l.forEach((f,h)=>l.set(h,!1))},[r]),p.useEffect(()=>{!r&&!l.size&&i&&i()},[r]),a==="popLayout"&&(n=p.createElement(X4t,{isPresent:r},n)),p.createElement(s6.Provider,{value:u},n)};function Q4t(){return new Map}function J4t(n){return p.useEffect(()=>()=>n(),[])}const U1=n=>n.key||"";function e8t(n,e){n.forEach(r=>{const i=U1(r);e.set(i,r)})}function t8t(n){const e=[];return p.Children.forEach(n,r=>{p.isValidElement(r)&&e.push(r)}),e}const Zp=({children:n,custom:e,initial:r=!0,onExitComplete:i,exitBeforeEnter:o,presenceAffectsLayout:s=!0,mode:a="sync"})=>{const l=p.useContext(Fee).forceRender||Y4t()[0],c=Fze(),u=t8t(n);let f=u;const h=p.useRef(new Map).current,m=p.useRef(f),g=p.useRef(new Map).current,v=p.useRef(!0);if(Pee(()=>{v.current=!1,e8t(u,g),m.current=f}),J4t(()=>{v.current=!0,g.clear(),h.clear()}),v.current)return p.createElement(p.Fragment,null,f.map(_=>p.createElement(zU,{key:U1(_),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:s,mode:a},_)));f=[...f];const y=m.current.map(U1),b=u.map(U1),x=y.length;for(let _=0;_<x;_++){const w=y[_];b.indexOf(w)===-1&&!h.has(w)&&h.set(w,void 0)}return a==="wait"&&h.size&&(f=[]),h.forEach((_,w)=>{if(b.indexOf(w)!==-1)return;const C=g.get(w);if(!C)return;const S=y.indexOf(w);let T=_;if(!T){const A=()=>{h.delete(w);const I=Array.from(g.keys()).filter(D=>!b.includes(D));if(I.forEach(D=>g.delete(D)),m.current=u.filter(D=>{const R=U1(D);return R===w||I.includes(R)}),!h.size){if(c.current===!1)return;l(),i&&i()}};T=p.createElement(zU,{key:U1(C),isPresent:!1,onExitComplete:A,custom:e,presenceAffectsLayout:s,mode:a},C),h.set(w,T)}f.splice(S,0,T)}),f=f.map(_=>{const w=_.key;return h.has(w)?_:p.createElement(zU,{key:U1(_),isPresent:!0,presenceAffectsLayout:s,mode:a},_)}),p.createElement(p.Fragment,null,h.size?f:f.map(_=>p.cloneElement(_)))},ite=l8,_x=lNe(),aD=[],Y0={},yg="--motion-content-opacity",Nze={initial:{opacity:.5,[yg]:0,scale:.97,willChange:"transform"},animate:{opacity:[null,1,1],[yg]:[null,null,1],scale:1},exit:{opacity:[null,null,0],[yg]:[null,0,0],scale:.97},transition:{duration:.4,type:"spring"}};function n8t(n,e){return n.reduce((r,i)=>(r[i]=e,r),{})}function Je(n){return n===0?0:`${n/16}rem`}function Xn(n,e,r){return((e==null?void 0:e.map(r))||[]).map((i,o)=>o===0?i:{[`@media screen and (min-width: ${n[o-1]}px)`]:i})}function r8t(n,e){return n===void 0?e||aD:Array.isArray(n)?n:[n]}function ou(n,e,r=aD){if(!Array.isArray(r))throw new Error("the property must be array of numbers");if(r.length===0)return null;const{media:i,space:o}=mt(n);return Xn(i,r,s=>n8t(e,Je(o[s])))}function HC(n,e){const{$size:r,$weight:i}=e,{font:o,media:s}=mt(e.theme),{family:a,sizes:l,weights:c}=o[n],u=i&&c[i]||c.regular,f=l[2],h={position:"relative",fontFamily:a,fontWeight:u,padding:"1px 0",margin:0,"&:before":{content:'""',display:"block",height:0},"&:after":{content:'""',display:"block",height:0},"& > code, & > span":{display:"block"},"&:not([hidden])":{display:"block"}};if(!r)return HC.warned||(console.warn("No size specified for responsive font",{fontKey:n,$size:r,props:e,base:h}),HC.warned=!0),[h];const m=Xn(s,r,g=>i8t(l[g]||f));return[h,...m]}function i8t(n){const{ascenderHeight:e,descenderHeight:r,fontSize:i,iconSize:o,letterSpacing:s,lineHeight:a}=n,l=e+r,c=a-l,u=(c-o)/2,f=Math.floor(i*1.125/2)*2+1,h=(c-f)/2;return{fontSize:Je(i),lineHeight:`calc(${a} / ${i})`,letterSpacing:Je(s),transform:`translateY(${Je(r)})`,"&:before":{marginTop:`calc(${Je(0-l)} - 1px)`},"&:after":{marginBottom:"-1px"},"& svg:not([data-sanity-icon])":{fontSize:`calc(${f} / 16 * 1rem)`,margin:Je(h)},"& [data-sanity-icon]":{fontSize:`calc(${o} / 16 * 1rem)`,margin:Je(u)}}}function o8t(n){return HC("code",n)}function s8t(n){return HC("heading",n)}function a8t(n){return HC("label",n)}function ote(n){const{media:e}=mt(n.theme);return Xn(e,n.$align,r=>({textAlign:r}))}function l8t(n){return HC("text",n)}function ot(n,e){const r=p.useMemo(()=>JSON.stringify(n??e),[e,n]);return p.useMemo(()=>r8t(n,e),[r])}function ape(n,e){const r=[n];for(const i of e)Array.isArray(i)?r.push(...i):r.push(i);return r.filter(Boolean)}function ki(n,e=aD,r){const[i,o]=p.useState(null),[s,a]=p.useState(()=>ape(i,e)),l=p.useRef(s);return p.useEffect(()=>{const c=l.current,u=ape(i,e);if(c.length!==u.length){a(u),l.current=u;return}for(const f of c)if(!u.includes(f)){a(u),l.current=u;return}for(const f of u)if(!c.includes(f)){a(u),l.current=u;return}},[i,e]),p.useEffect(()=>{if(!n)return;const c=u=>{const f=u.target;if(f instanceof Node&&!(r&&!r.contains(f))){for(const h of s)if(f===h||h.contains(f))return;n(u)}};return window.addEventListener("mousedown",c),()=>{window.removeEventListener("mousedown",c)}},[r,n,s]),o}var Yb=[],c8t=function(){return Yb.some(function(n){return n.activeTargets.length>0})},u8t=function(){return Yb.some(function(n){return n.skippedTargets.length>0})},lpe="ResizeObserver loop completed with undelivered notifications.",d8t=function(){var n;typeof ErrorEvent=="function"?n=new ErrorEvent("error",{message:lpe}):(n=document.createEvent("Event"),n.initEvent("error",!1,!1),n.message=lpe),window.dispatchEvent(n)},_5;(function(n){n.BORDER_BOX="border-box",n.CONTENT_BOX="content-box",n.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(_5||(_5={}));var Zb=function(n){return Object.freeze(n)},f8t=function(){function n(e,r){this.inlineSize=e,this.blockSize=r,Zb(this)}return n}(),Bze=function(){function n(e,r,i,o){return this.x=e,this.y=r,this.width=i,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Zb(this)}return n.prototype.toJSON=function(){var e=this,r=e.x,i=e.y,o=e.top,s=e.right,a=e.bottom,l=e.left,c=e.width,u=e.height;return{x:r,y:i,top:o,right:s,bottom:a,left:l,width:c,height:u}},n.fromRect=function(e){return new n(e.x,e.y,e.width,e.height)},n}(),ste=function(n){return n instanceof SVGElement&&"getBBox"in n},Uze=function(n){if(ste(n)){var e=n.getBBox(),r=e.width,i=e.height;return!r&&!i}var o=n,s=o.offsetWidth,a=o.offsetHeight;return!(s||a||n.getClientRects().length)},cpe=function(n){var e;if(n instanceof Element)return!0;var r=(e=n==null?void 0:n.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(r&&n instanceof r.Element)},h8t=function(n){switch(n.tagName){case"INPUT":if(n.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},SA=typeof window<"u"?window:{},KO=new WeakMap,upe=/auto|scroll/,p8t=/^tb|vertical/,m8t=/msie|trident/i.test(SA.navigator&&SA.navigator.userAgent),Nh=function(n){return parseFloat(n||"0")},YE=function(n,e,r){return n===void 0&&(n=0),e===void 0&&(e=0),r===void 0&&(r=!1),new f8t((r?e:n)||0,(r?n:e)||0)},dpe=Zb({devicePixelContentBoxSize:YE(),borderBoxSize:YE(),contentBoxSize:YE(),contentRect:new Bze(0,0,0,0)}),zze=function(n,e){if(e===void 0&&(e=!1),KO.has(n)&&!e)return KO.get(n);if(Uze(n))return KO.set(n,dpe),dpe;var r=getComputedStyle(n),i=ste(n)&&n.ownerSVGElement&&n.getBBox(),o=!m8t&&r.boxSizing==="border-box",s=p8t.test(r.writingMode||""),a=!i&&upe.test(r.overflowY||""),l=!i&&upe.test(r.overflowX||""),c=i?0:Nh(r.paddingTop),u=i?0:Nh(r.paddingRight),f=i?0:Nh(r.paddingBottom),h=i?0:Nh(r.paddingLeft),m=i?0:Nh(r.borderTopWidth),g=i?0:Nh(r.borderRightWidth),v=i?0:Nh(r.borderBottomWidth),y=i?0:Nh(r.borderLeftWidth),b=h+u,x=c+f,_=y+g,w=m+v,C=l?n.offsetHeight-w-n.clientHeight:0,S=a?n.offsetWidth-_-n.clientWidth:0,T=o?b+_:0,A=o?x+w:0,I=i?i.width:Nh(r.width)-T-S,D=i?i.height:Nh(r.height)-A-C,R=I+b+S+_,P=D+x+C+w,O=Zb({devicePixelContentBoxSize:YE(Math.round(I*devicePixelRatio),Math.round(D*devicePixelRatio),s),borderBoxSize:YE(R,P,s),contentBoxSize:YE(I,D,s),contentRect:new Bze(h,c,I,D)});return KO.set(n,O),O},Vze=function(n,e,r){var i=zze(n,r),o=i.borderBoxSize,s=i.contentBoxSize,a=i.devicePixelContentBoxSize;switch(e){case _5.DEVICE_PIXEL_CONTENT_BOX:return a;case _5.BORDER_BOX:return o;default:return s}},g8t=function(){function n(e){var r=zze(e);this.target=e,this.contentRect=r.contentRect,this.borderBoxSize=Zb([r.borderBoxSize]),this.contentBoxSize=Zb([r.contentBoxSize]),this.devicePixelContentBoxSize=Zb([r.devicePixelContentBoxSize])}return n}(),Hze=function(n){if(Uze(n))return 1/0;for(var e=0,r=n.parentNode;r;)e+=1,r=r.parentNode;return e},v8t=function(){var n=1/0,e=[];Yb.forEach(function(s){if(s.activeTargets.length!==0){var a=[];s.activeTargets.forEach(function(l){var c=new g8t(l.target),u=Hze(l.target);a.push(c),l.lastReportedSize=Vze(l.target,l.observedBox),u<n&&(n=u)}),e.push(function(){s.callback.call(s.observer,a,s.observer)}),s.activeTargets.splice(0,s.activeTargets.length)}});for(var r=0,i=e;r<i.length;r++){var o=i[r];o()}return n},fpe=function(n){Yb.forEach(function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach(function(r){r.isActive()&&(Hze(r.target)>n?e.activeTargets.push(r):e.skippedTargets.push(r))})})},y8t=function(){var n=0;for(fpe(n);c8t();)n=v8t(),fpe(n);return u8t()&&d8t(),n>0},VU,Wze=[],b8t=function(){return Wze.splice(0).forEach(function(n){return n()})},x8t=function(n){if(!VU){var e=0,r=document.createTextNode(""),i={characterData:!0};new MutationObserver(function(){return b8t()}).observe(r,i),VU=function(){r.textContent="".concat(e?e--:e++)}}Wze.push(n),VU()},w8t=function(n){x8t(function(){requestAnimationFrame(n)})},kL=0,_8t=function(){return!!kL},E8t=250,C8t={attributes:!0,characterData:!0,childList:!0,subtree:!0},hpe=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],ppe=function(n){return n===void 0&&(n=0),Date.now()+n},HU=!1,S8t=function(){function n(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return n.prototype.run=function(e){var r=this;if(e===void 0&&(e=E8t),!HU){HU=!0;var i=ppe(e);w8t(function(){var o=!1;try{o=y8t()}finally{if(HU=!1,e=i-ppe(),!_8t())return;o?r.run(1e3):e>0?r.run(e):r.start()}})}},n.prototype.schedule=function(){this.stop(),this.run()},n.prototype.observe=function(){var e=this,r=function(){return e.observer&&e.observer.observe(document.body,C8t)};document.body?r():SA.addEventListener("DOMContentLoaded",r)},n.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),hpe.forEach(function(r){return SA.addEventListener(r,e.listener,!0)}))},n.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),hpe.forEach(function(r){return SA.removeEventListener(r,e.listener,!0)}),this.stopped=!0)},n}(),gq=new S8t,mpe=function(n){!kL&&n>0&&gq.start(),kL+=n,!kL&&gq.stop()},k8t=function(n){return!ste(n)&&!h8t(n)&&getComputedStyle(n).display==="inline"},T8t=function(){function n(e,r){this.target=e,this.observedBox=r||_5.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return n.prototype.isActive=function(){var e=Vze(this.target,this.observedBox,!0);return k8t(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},n}(),A8t=function(){function n(e,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=r}return n}(),YO=new WeakMap,gpe=function(n,e){for(var r=0;r<n.length;r+=1)if(n[r].target===e)return r;return-1},ZO=function(){function n(){}return n.connect=function(e,r){var i=new A8t(e,r);YO.set(e,i)},n.observe=function(e,r,i){var o=YO.get(e),s=o.observationTargets.length===0;gpe(o.observationTargets,r)<0&&(s&&Yb.push(o),o.observationTargets.push(new T8t(r,i&&i.box)),mpe(1),gq.schedule())},n.unobserve=function(e,r){var i=YO.get(e),o=gpe(i.observationTargets,r),s=i.observationTargets.length===1;o>=0&&(s&&Yb.splice(Yb.indexOf(i),1),i.observationTargets.splice(o,1),mpe(-1))},n.disconnect=function(e){var r=this,i=YO.get(e);i.observationTargets.slice().forEach(function(o){return r.unobserve(e,o.target)}),i.activeTargets.splice(0,i.activeTargets.length)},n}(),I8t=function(){function n(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");ZO.connect(this,e)}return n.prototype.observe=function(e,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!cpe(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");ZO.observe(this,e,r)},n.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!cpe(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");ZO.unobserve(this,e)},n.prototype.disconnect=function(){ZO.disconnect(this)},n.toString=function(){return"function ResizeObserver () { [polyfill code] }"},n}();const Gze=typeof document<"u"&&typeof window<"u"&&window.ResizeObserver?window.ResizeObserver:I8t,D8t=O8t();function R8t(){return{subscribe(n,e){const r=new Gze(([i])=>{e({_contentRect:i.contentRect,border:{width:i.borderBoxSize[0].inlineSize,height:i.borderBoxSize[0].blockSize},content:{width:i.contentRect.width,height:i.contentRect.height}})});return r.observe(n),()=>{r.unobserve(n),r.disconnect()}}}}function O8t(){const n=new WeakMap,e=new WeakMap;return{subscribe(r,i){const o=e.get(r)||[];let s=n.get(r);return e.has(r)||(e.set(r,o),s=R8t().subscribe(r,a=>{for(const l of o)l(a)})),o.push(i),()=>{const a=o.indexOf(i);a>-1&&o.splice(a,1),o.length===0&&s&&s()}}}}function f6(n){const[e,r]=p.useState(null);return p.useEffect(()=>{if(n)return D8t.subscribe(n,r)},[n]),e}function Ex(n){const e=f6(n);return(e==null?void 0:e._contentRect)||null}function wu(n){return p.useEffect(()=>(addEventListener("keydown",n),()=>removeEventListener("keydown",n)),[n])}function P8t(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const si=P8t(),vq=Symbol.for("@sanity/ui/context/theme");si[vq]=si[vq]||p.createContext(null);const yq=si[vq];function k3(n){const e=p.useContext(yq),{children:r,scheme:i=(e==null?void 0:e.scheme)||"light",theme:o=(e==null?void 0:e.theme)||null,tone:s=(e==null?void 0:e.tone)||"default"}=n,a=p.useMemo(()=>o?{version:0,theme:o,scheme:i,tone:s}:null,[o,i,s]),l=p.useMemo(()=>o?Jkt(o,i,s):null,[i,o,s]);return l?d.jsx(yq.Provider,{value:a,children:d.jsx($Ne,{theme:l,children:r})}):d.jsx("pre",{children:'ThemeProvider: no "theme" property provided'})}function DS(){const n=p.useContext(yq);if(!n)throw new Error("useRootTheme(): missing context value");return n}function qze(n){const{children:e,scheme:r,tone:i}=n,o=DS();return d.jsx(k3,{scheme:r||o.scheme,theme:o.theme,tone:i,children:e})}function lD(){return cJ()}function Yg(){return mt(cJ())}const vpe=new WeakMap;function j8t(n,e){return e===0?`screen and (max-width: ${n[e]-1}px)`:e===n.length?`screen and (min-width: ${n[e-1]}px)`:`screen and (min-width: ${n[e-1]}px) and (max-width: ${n[e]-1}px)`}function L8t(n){const e=n.length;let r;const i=()=>{if(!r){r=[];for(let o=e;o>-1;o-=1){const s=j8t(n,o);r.push({index:o,mq:window.matchMedia(s)})}}return r};return{getSnapshot:()=>{for(const{index:o,mq:s}of i())if(s.matches)return o;return 0},subscribe:o=>{const s=[];for(const{mq:a}of i()){const l=()=>{a.matches&&o()};a.addEventListener("change",l),s.push(()=>a.removeEventListener("change",l))}return()=>{for(const a of s)a()}}}}function $8t(){return 0}function Xx(){const{media:n}=Yg();let e=vpe.get(n);return e||(e=L8t(n),vpe.set(n,e)),p.useSyncExternalStore(e.subscribe,e.getSnapshot,$8t)}let WU;function Kze(){return WU||(WU=window.matchMedia("(prefers-color-scheme: dark)")),WU}function M8t(n){const e=Kze();return e.addEventListener("change",n),()=>e.removeEventListener("change",n)}function F8t(){return Kze().matches}function N8t(){return!1}function B8t(){return p.useSyncExternalStore(M8t,F8t,N8t)}let GU;function Yze(){return GU||(GU=window.matchMedia("(prefers-reduced-motion: reduce)")),GU}function U8t(n){const e=Yze();return e.addEventListener("change",n),()=>e.removeEventListener("change",n)}function z8t(){return Yze().matches}function V8t(){return!1}function h6(){return p.useSyncExternalStore(U8t,z8t,V8t)}const H8t=typeof window<"u"?p.useLayoutEffect:p.useEffect;function Ko(n){const e=p.useRef(null);return H8t(()=>{n&&(typeof n=="function"?n(e.current):n.current=e.current)}),e}function cD(n,e){p.useEffect(()=>{n.current&&n.current.setCustomValidity(e||"")},[e,n])}function W8t(){return[G8t,q8t,K8t,Y8t,Z8t]}function G8t(n){var e,r;const{card:i,media:o}=mt(n.theme),s=`${(r=(e=i.border)==null?void 0:e.width)!=null?r:1}px solid var(--card-border-color)`;return Xn(o,n.$border,a=>a?{"&&":{border:s}}:{"&&":{border:0}})}function q8t(n){var e,r;const{card:i,media:o}=mt(n.theme),s=`${(r=(e=i.border)==null?void 0:e.width)!=null?r:1}px solid var(--card-border-color)`;return Xn(o,n.$borderTop,a=>a?{"&&":{borderTop:s}}:{"&&":{borderTop:0}})}function K8t(n){var e,r;const{card:i,media:o}=mt(n.theme),s=`${(r=(e=i.border)==null?void 0:e.width)!=null?r:1}px solid var(--card-border-color)`;return Xn(o,n.$borderRight,a=>a?{"&&":{borderRight:s}}:{"&&":{borderRight:0}})}function Y8t(n){var e,r;const{card:i,media:o}=mt(n.theme),s=`${(r=(e=i.border)==null?void 0:e.width)!=null?r:1}px solid var(--card-border-color)`;return Xn(o,n.$borderBottom,a=>a?{"&&":{borderBottom:s}}:{"&&":{borderBottom:0}})}function Z8t(n){var e,r;const{card:i,media:o}=mt(n.theme),s=`${(r=(e=i.border)==null?void 0:e.width)!=null?r:1}px solid var(--card-border-color)`;return Xn(o,n.$borderLeft,a=>a?{"&&":{borderLeft:s}}:{"&&":{borderLeft:0}})}const X8t={'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},Q8t={content:"content-box",border:"border-box"},J8t={stretch:"stretch",fill:"100%"};function e6t(){return X8t}function t6t(){return[r6t,i6t,o6t,n6t]}function n6t(n){const{media:e}=mt(n.theme);return Xn(e,n.$display,r=>({"&:not([hidden])":{display:r}}))}function r6t(n){const{media:e}=mt(n.theme);return Xn(e,n.$sizing,r=>({boxSizing:Q8t[r]}))}function i6t(n){const{media:e}=mt(n.theme);return Xn(e,n.$height,r=>({height:J8t[r]}))}function o6t(n){const{media:e}=mt(n.theme);return Xn(e,n.$overflow,r=>({overflow:r}))}const s6t={"&&:not([hidden])":{display:"flex"}};function a6t(){return[s6t,l6t,c6t,u6t,d6t,f6t]}function l6t(n){const{media:e}=mt(n.theme);return Xn(e,n.$align,r=>({alignItems:r}))}function c6t(n){const{media:e,space:r}=mt(n.theme);return Xn(e,n.$gap,i=>({gap:i?Je(r[i]):void 0}))}function u6t(n){const{media:e}=mt(n.theme);return Xn(e,n.$wrap,r=>({flexWrap:r}))}function d6t(n){const{media:e}=mt(n.theme);return Xn(e,n.$justify,r=>({justifyContent:r}))}function f6t(n){const{media:e}=mt(n.theme);return Xn(e,n.$direction,r=>({flexDirection:r}))}const h6t={minWidth:0,minHeight:0};function Zze(){return[h6t,p6t]}function p6t(n){const{media:e}=mt(n.theme);return n.$flex?Xn(e,n.$flex,r=>({flex:r})):aD}function ks(n){return`inset 0 0 0 ${n.width}px ${n.color}`}function rf(n){const{base:e,border:r,focusRing:i}=n,o=i.offset+i.width,s=0-i.offset,a=e?e.bg:"var(--card-bg-color)";return[s>0&&`inset 0 0 0 ${s}px var(--card-focus-ring-color)`,r&&ks(r),s<0&&`0 0 0 ${0-s}px ${a}`,o>0&&`0 0 0 ${o}px var(--card-focus-ring-color)`].filter(Boolean).join(",")}const m6t={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},g6t={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},v6t={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"};function y6t(){return[m6t,b6t,x6t,w6t,_6t,E6t,C6t,S6t,k6t]}function b6t(n){const{media:e}=mt(n.theme);return Xn(e,n.$autoFlow,r=>({gridAutoFlow:r}))}function x6t(n){const{media:e}=mt(n.theme);return Xn(e,n.$autoRows,r=>({gridAutoRows:r&&v6t[r]}))}function w6t(n){const{media:e}=mt(n.theme);return Xn(e,n.$autoCols,r=>({gridAutoColumns:r&&g6t[r]}))}function _6t(n){const{media:e}=mt(n.theme);return Xn(e,n.$columns,r=>({gridTemplateColumns:r&&`repeat(${r},minmax(0,1fr));`}))}function E6t(n){const{media:e}=mt(n.theme);return Xn(e,n.$rows,r=>({gridTemplateRows:r&&`repeat(${r},minmax(0,1fr));`}))}function C6t(n){const{media:e,space:r}=mt(n.theme);return Xn(e,n.$gap,i=>({gridGap:i?Je(r[i]):void 0}))}function S6t(n){const{media:e,space:r}=mt(n.theme);return Xn(e,n.$gapX,i=>({columnGap:i?Je(r[i]):void 0}))}function k6t(n){const{media:e,space:r}=mt(n.theme);return Xn(e,n.$gapY,i=>({rowGap:i?Je(r[i]):void 0}))}function T6t(){return[D6t,R6t,O6t,P6t,j6t,L6t]}const A6t={auto:"auto",full:"1 / -1"},I6t={auto:"auto",full:"1 / -1"};function D6t(n){const{media:e}=mt(n.theme);return Xn(e,n.$row,r=>typeof r=="number"?{gridRow:`span ${r} / span ${r}`}:{gridRow:A6t[r]})}function R6t(n){const{media:e}=mt(n.theme);return Xn(e,n.$rowStart,r=>({gridRowStart:r}))}function O6t(n){const{media:e}=mt(n.theme);return Xn(e,n.$rowEnd,r=>({gridRowEnd:r}))}function P6t(n){const{media:e}=mt(n.theme);return Xn(e,n.$column,r=>typeof r=="number"?{gridColumn:`span ${r} / span ${r}`}:{gridColumn:I6t[r]})}function j6t(n){const{media:e}=mt(n.theme);return Xn(e,n.$columnStart,r=>({gridColumnStart:r}))}function L6t(n){const{media:e}=mt(n.theme);return Xn(e,n.$columnEnd,r=>({gridColumnEnd:r}))}function ate(n){const{$fontSize:e,$iconLeft:r,$iconRight:i,$padding:o,$space:s}=n,{font:a,media:l,space:c}=mt(n.theme),u=Math.max(o.length,s.length,e.length),f=[],h=[],m=[];for(let g=0;g<u;g+=1)m[g]=e[g]===void 0?m[g-1]:e[g],f[g]=o[g]===void 0?f[g-1]:o[g],h[g]=s[g]===void 0?h[g-1]:s[g];return Xn(l,f,(g,v)=>{const y=a.text.sizes[m[v]]||a.text.sizes[2],b=y.lineHeight-y.ascenderHeight-y.descenderHeight,x=c[f[v]],_=c[h[v]],w={paddingTop:Je(x-y.ascenderHeight),paddingRight:Je(x),paddingBottom:Je(x-y.descenderHeight),paddingLeft:Je(x)};return i&&(w.paddingRight=Je(x+b+_)),r&&(w.paddingLeft=Je(x+b+_)),w})}function $6t(n){return ate({...n,$iconRight:!0})}const M6t=Ae`
  &:not([hidden]) {
    display: flex;
  }

  align-items: center;
`;function Xze(){return M6t}function Qze(n){const{$scheme:e,$tone:r,$weight:i}=n,{color:o,font:s}=mt(n.theme);return Ae`
    appearance: none;
    background: none;
    border: 0;
    border-radius: 0;
    outline: none;
    width: 100%;
    box-sizing: border-box;
    font-family: ${s.text.family};
    font-weight: ${i&&s.text.weights[i]||s.text.weights.regular};
    margin: 0;
    position: relative;
    z-index: 1;
    display: block;

    /* NOTE: This is a hack to disable Chrome’s autofill styles */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      -webkit-text-fill-color: var(--input-fg-color) !important;
      transition: background-color 5000s;
      transition-delay: 86400s /* 24h */;
    }

    /* &:is(textarea) */
    &[data-as='textarea'] {
      resize: none;
    }

    color: var(--input-fg-color);

    &::placeholder {
      color: var(--input-placeholder-color);
    }

    &[data-scheme='${e}'][data-tone='${r}'] {
      --input-fg-color: ${o.input.default.enabled.fg};
      --input-placeholder-color: ${o.input.default.enabled.placeholder};

      /* enabled */
      &:not(:invalid):not(:disabled):not(:read-only) {
        --input-fg-color: ${o.input.default.enabled.fg};
        --input-placeholder-color: ${o.input.default.enabled.placeholder};
      }

      /* disabled */
      &:not(:invalid):disabled {
        --input-fg-color: ${o.input.default.disabled.fg};
        --input-placeholder-color: ${o.input.default.disabled.placeholder};
      }

      /* invalid */
      &:invalid {
        --input-fg-color: ${o.input.invalid.enabled.fg};
        --input-placeholder-color: ${o.input.invalid.enabled.placeholder};
      }

      /* readOnly */
      &:read-only {
        --input-fg-color: ${o.input.default.readOnly.fg};
        --input-placeholder-color: ${o.input.default.readOnly.placeholder};
      }
    }
  `}function Jze(n){const{font:e,media:r}=mt(n.theme);return Xn(r,n.$fontSize,i=>{const o=e.text.sizes[i]||e.text.sizes[2];return{fontSize:Je(o.fontSize),lineHeight:o.lineHeight/o.fontSize}})}function eVe(n){const{$hasPrefix:e,$hasSuffix:r,$scheme:i,$tone:o,$unstableDisableFocusRing:s}=n,{color:a,input:l}=mt(n.theme);return Ae`
    --input-box-shadow: none;

    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: block;
    pointer-events: none;
    z-index: 0;

    background-color: var(--card-bg-color);
    box-shadow: var(--input-box-shadow);

    border-top-left-radius: ${e?0:void 0};
    border-bottom-left-radius: ${e?0:void 0};
    border-top-right-radius: ${r?0:void 0};
    border-bottom-right-radius: ${r?0:void 0};

    &[data-scheme='${i}'][data-tone='${o}'] {
      --card-bg-color: ${a.input.default.enabled.bg};
      --card-fg-color: ${a.input.default.enabled.fg};

      /* enabled */
      *:not(:disabled) + &[data-border] {
        --input-box-shadow: ${ks({color:a.input.default.enabled.border,width:l.border.width})};
      }

      /* invalid */
      *:not(:disabled):invalid + & {
        --card-bg-color: ${a.input.invalid.enabled.bg};
        --card-fg-color: ${a.input.invalid.enabled.fg};

        &[data-border] {
          --input-box-shadow: ${ks({color:a.input.invalid.enabled.border,width:l.border.width})};
        }
      }

      /* focused */
      *:not(:disabled):focus + & {
        &[data-border] {
          --input-box-shadow: ${s?void 0:rf({border:{color:a.input.default.enabled.border,width:l.border.width},focusRing:l.text.focusRing})};
        }

        &:not([data-border]) {
          --input-box-shadow: ${s?void 0:rf({focusRing:l.text.focusRing})};
        }
      }

      /* disabled */
      *:not(:invalid):disabled + & {
        --card-bg-color: ${a.input.default.disabled.bg} !important;
        --card-fg-color: ${a.input.default.disabled.fg} !important;
        --card-icon-color: ${a.input.default.disabled.fg} !important;

        &[data-border] {
          --input-box-shadow: ${ks({color:a.input.default.disabled.border,width:l.border.width})};
        }
      }

      *:invalid:disabled + & {
        --card-bg-color: ${a.input.invalid.disabled.bg} !important;
        --card-fg-color: ${a.input.invalid.disabled.fg} !important;
        --card-icon-color: ${a.input.invalid.disabled.fg} !important;

        &[data-border] {
          --input-box-shadow: ${ks({color:a.input.invalid.disabled.border,width:l.border.width})};
        }
      }

      /* readOnly */
      *:not(:invalid):read-only + & {
        --card-bg-color: ${a.input.default.readOnly.bg} !important;
        --card-fg-color: ${a.input.default.readOnly.fg} !important;
      }

      *:invalid:read-only + & {
        --card-bg-color: ${a.input.invalid.readOnly.bg} !important;
        --card-fg-color: ${a.input.invalid.readOnly.fg} !important;
      }

      /* hovered */
      @media (hover: hover) {
        *:not(:disabled):not(:read-only):not(:invalid):hover + & {
          --card-bg-color: ${a.input.default.hovered.bg};
          --card-fg-color: ${a.input.default.hovered.fg};
        }

        *:invalid:not(:disabled):not(:read-only):hover + & {
          --card-bg-color: ${a.input.invalid.hovered.bg};
          --card-fg-color: ${a.input.invalid.hovered.fg};
        }

        *:not(:disabled):not(:read-only):not(:invalid):not(:focus):hover + &[data-border] {
          --input-box-shadow: ${ks({color:a.input.default.hovered.border,width:l.border.width})};
        }

        *:invalid:not(:disabled):not(:read-only):not(:focus):hover + &[data-border] {
          --input-box-shadow: ${ks({color:a.input.invalid.hovered.border,width:l.border.width})};
        }
      }
    }
  `}function F6t(n){const{theme:e}=n;return[ou(e,["margin"],n.$margin),ou(e,["marginLeft","marginRight"],n.$marginX),ou(e,["marginTop","marginBottom"],n.$marginY),ou(e,["marginTop"],n.$marginTop),ou(e,["marginRight"],n.$marginRight),ou(e,["marginBottom"],n.$marginBottom),ou(e,["marginLeft"],n.$marginLeft)].filter(Boolean)}function tVe(n){const{theme:e}=n;return[ou(e,["padding"],n.$padding),ou(e,["paddingLeft","paddingRight"],n.$paddingX),ou(e,["paddingTop","paddingBottom"],n.$paddingY),ou(e,["paddingTop"],n.$paddingTop),ou(e,["paddingRight"],n.$paddingRight),ou(e,["paddingBottom"],n.$paddingBottom),ou(e,["paddingLeft"],n.$paddingLeft)].filter(Boolean)}function Zg(n){const{media:e,radius:r}=mt(n.theme);return Xn(e,n.$radius,i=>{let o=0;return typeof i=="number"&&(o=Je(r[i])),i==="full"&&(o="9999px"),{borderRadius:o}})}function qU(n,e){return`${n.map(Je).join(" ")} ${e}`}function N6t(n,e=1){if(!n)return Y0;const r=`0 0 0 ${Je(e)} var(--card-shadow-outline-color)`,i=qU(n.umbra,"var(--card-shadow-umbra-color)"),o=qU(n.penumbra,"var(--card-shadow-penumbra-color)"),s=qU(n.ambient,"var(--card-shadow-ambient-color)");return{boxShadow:`${r}, ${i}, ${o}, ${s}`}}function B6t(n){const{card:e,media:r,shadow:i}=mt(n.theme);return Xn(r,n.$shadow,o=>N6t(i[o],e.shadow.outline))}function U6t(n){const{$accent:e,$muted:r}=n,{font:i}=mt(n.theme);return Ae`
    text-transform: uppercase;

    ${e&&Ae`
      color: var(--card-accent-fg-color);
    `}

    ${r&&Ae`
      color: var(--card-muted-fg-color);
    `}

    & code {
      font-family: ${i.code.family};
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `}const z6t=F.div(a8t,ote,U6t),V6t=F.span`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`,nVe=p.forwardRef(function(n,e){const{accent:r,align:i,children:o,muted:s=!1,size:a=2,textOverflow:l,weight:c,...u}=n;let f=o;return l==="ellipsis"?f=d.jsx(V6t,{children:f}):f=d.jsx("span",{children:f}),d.jsx(z6t,{"data-ui":"Label",...u,$accent:r,$align:ot(i),$muted:s,$size:ot(a),$weight:c,ref:e,children:f})}),RS={root:W6t,arrow:H6t,bgStroke:Y6t,stroke:Z6t,initials:K6t,image:q6t};function H6t(){return{position:"absolute",boxSizing:"border-box",zIndex:0,opacity:0,transition:"all 0.2s linear",transform:"rotate(-90deg) translate3d(0, 6px, 0)",left:0,right:0,top:0,bottom:0,"& > svg":{width:"11px",height:"7px",position:"absolute",top:"-5px",left:"50%",transform:"translateX(-6px)","&:not([hidden])":{display:"block"}},"[data-arrow-position='inside'] > &":{transform:"rotate(-90deg) translate3d(0, 6px, 0)",opacity:0},"[data-arrow-position='top'] > &":{opacity:1,transform:"rotate(0deg)"},"[data-arrow-position='bottom'] > &":{opacity:1,transform:"rotate(-180deg)"}}}function W6t(n){const{$color:e}=n,{avatar:r}=mt(n.theme);return{"--avatar-bg-color":`var(--card-avatar-${e}-bg-color)`,"--avatar-fg-color":`var(--card-avatar-${e}-fg-color)`,backgroundColor:"var(--avatar-bg-color)",position:"relative",boxSizing:"border-box",userSelect:"none",boxShadow:"0 0 0 1px var(--card-bg-color)",'&[data-status="inactive"]':{opacity:.5},"&>svg":{"&:not([hidden])":{display:"block"}},'&[data-as="button"]':{WebkitFontSmoothing:"inherit",appearance:"none",margin:0,padding:0,border:0,font:"inherit",color:"inherit",outline:"none","&:focus":{boxShadow:rf({focusRing:r.focusRing})},"&:focus:not(:focus-visible)":{boxShadow:"none"}}}}function G6t(n){const{avatar:e,media:r}=mt(n.theme);return Xn(r,n.$size,i=>{const o=e.sizes[i]||e.sizes[0];return{width:Je(o.size),height:Je(o.size),borderRadius:Je(o.size/2),"&>svg":{width:Je(o.size),height:Je(o.size),borderRadius:Je(o.size/2)}}})}function q6t(){return{position:"relative"}}function K6t(){return{width:"100%",height:"100%",color:"var(--avatar-fg-color)",alignItems:"center",justifyContent:"center",textTransform:"uppercase",textAlign:"center",borderRadius:"50%","&:not([hidden])":{display:"flex"}}}function Y6t(){return{strokeWidth:"4px",stroke:"var(--card-bg-color)"}}function Z6t(){return{strokeWidth:"2px",stroke:"var(--avatar-bg-color)",'[data-status="editing"] &':{strokeDasharray:"2 4",strokeLinecap:"round"}}}const X6t=F.div(G6t,RS.root),Q6t=F.div(RS.arrow),J6t=F.ellipse(RS.bgStroke),eNt=F.ellipse(RS.stroke),tNt=F.div(RS.initials),nNt=F(nVe)({color:"inherit"}),rNt=F.svg(RS.image),rVe=p.forwardRef(function(n,e){const{__unstable_hideInnerStroke:r,as:i,color:o="gray",src:s,title:a,initials:l,onImageLoadError:c,arrowPosition:u,animateArrowFrom:f,status:h="online",size:m=1,...g}=n,{avatar:v}=Yg(),y=dNe.isValidElementType(i)?i:"div",b=ot(m),x=(v.sizes[b[0]]||v.sizes[0]).size,_=x/2,w=p.useId(),[C,S]=p.useState(f||u||"inside"),[T,A]=p.useState(!1),I=`avatar-image-${w}`;p.useEffect(()=>{if(C===u)return;const P=requestAnimationFrame(()=>S(u));return()=>cancelAnimationFrame(P)},[C,u]),p.useEffect(()=>{s&&A(!1)},[s]);const D=p.useCallback(()=>{A(!0),c&&c(new Error("Avatar: the image failed to load"))},[c]),R=p.useMemo(()=>b.map(P=>P===1?1:P===2?3:P===3?5:0),[b]);return d.jsxs(X6t,{as:y,"data-as":typeof y=="string"?y:void 0,"data-ui":"Avatar",...g,$color:o,$size:b,"aria-label":a,"data-arrow-position":C,"data-status":h,ref:e,title:a,children:[d.jsx(Q6t,{children:d.jsx("svg",{width:"11",height:"7",viewBox:"0 0 11 7",fill:"none",children:d.jsx("path",{d:"M6.67948 1.50115L11 7L0 7L4.32052 1.50115C4.92109 0.736796 6.07891 0.736795 6.67948 1.50115Z",fill:o})})}),!T&&s&&d.jsxs(rNt,{viewBox:`0 0 ${x} ${x}`,fill:"none",children:[d.jsx("defs",{children:d.jsx("pattern",{id:I,patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:d.jsx("image",{href:s,width:"1",height:"1",onError:D})})}),d.jsx("circle",{cx:_,cy:_,r:_,fill:`url(#${I})`}),!r&&d.jsx(J6t,{cx:_,cy:_,rx:_,ry:_,vectorEffect:"non-scaling-stroke"}),d.jsx(eNt,{cx:_,cy:_,rx:_,ry:_,vectorEffect:"non-scaling-stroke"})]}),(T||!s)&&l&&d.jsx(d.Fragment,{children:d.jsx(tNt,{children:d.jsx(nNt,{forwardedAs:"span",size:R,weight:"medium",children:l})})})]})});function iNt(n){const{avatar:e,media:r}=mt(n.theme);return Xn(r,n.$size,i=>{const o=e.sizes[i];return o?{borderRadius:Je(o.size/2),minWidth:Je(o.size),height:Je(o.size)}:Y0})}function oNt(n){const{space:e}=mt(n.theme);return Ae`
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    user-select: none;
    color: inherit;
    color: var(--card-fg-color);
    background: var(--card-bg-color);
    box-shadow:
      0 0 0 1px var(--card-bg-color),
      inset 0 0 0 1px var(--card-hairline-hard-color);
    padding: 0 ${Je(e[2])};

    &:not([hidden]) {
      display: flex;
    }
  `}const sNt=F.div(iNt,oNt),bq=p.forwardRef(function(n,e){const{count:r,size:i=1}=n,o=ot(i),s=p.useMemo(()=>o.map(a=>a===1?1:a===2?3:a===3?5:0),[o]);return d.jsx(sNt,{$size:o,"data-ui":"AvatarCounter",ref:e,children:d.jsx(nVe,{as:"span",size:s,weight:"medium",children:r})})});function iVe(n){return(Array.isArray(n)?n:[n]).filter(e=>Xr.isElement(e)||Xr.isFragment(e)||typeof e=="string")}const aNt=Ae`
  white-space: nowrap;

  & > div {
    vertical-align: top;

    &:not([hidden]) {
      display: inline-block;
    }
  }
`;function lNt(){return aNt}function cNt(n){const{avatar:e,media:r}=mt(n.theme);return Xn(r,n.$size,i=>{const o=e.sizes[i];return o?{"& > div + div":{marginLeft:Je(o.distance)}}:Y0})}const uNt=F.div(cNt,lNt),p6=p.forwardRef(function(n,e){const{children:r,maxLength:i=4,size:o=1,...s}=n,a=iVe(r).filter(g=>typeof g!="string"),l=Math.max(i,0),c=ot(o),u=a.length,f=l-1,h=u-f,m=h>1?a.slice(h,u):a;return d.jsxs(uNt,{"data-ui":"AvatarStack",...s,ref:e,$size:c,children:[u===0&&d.jsx("div",{children:d.jsx(bq,{count:u,size:c})}),u!==0&&h>1&&d.jsx("div",{children:d.jsx(bq,{count:h,size:c})}),m.map((g,v)=>d.jsx("div",{children:p.cloneElement(g,{size:c})},String(v)))]})}),dNt=F.div(e6t,Zze,t6t,T6t,F6t,tVe),te=p.forwardRef(function(n,e){const{as:r="div",column:i,columnStart:o,columnEnd:s,display:a="block",flex:l,height:c,margin:u=0,marginX:f,marginY:h,marginTop:m,marginRight:g,marginBottom:v,marginLeft:y,overflow:b,padding:x=0,paddingX:_,paddingY:w,paddingTop:C,paddingRight:S,paddingBottom:T,paddingLeft:A,row:I,rowStart:D,rowEnd:R,sizing:P,...O}=n;return d.jsx(dNt,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Box",...O,$column:ot(i),$columnStart:ot(o),$columnEnd:ot(s),$display:ot(a),$flex:ot(l),$height:ot(c),$margin:ot(u),$marginX:ot(f),$marginY:ot(h),$marginTop:ot(m),$marginRight:ot(g),$marginBottom:ot(v),$marginLeft:ot(y),$overflow:ot(b),$padding:ot(x),$paddingX:ot(_),$paddingY:ot(w),$paddingTop:ot(C),$paddingRight:ot(S),$paddingBottom:ot(T),$paddingLeft:ot(A),$row:ot(I),$rowStart:ot(D),$rowEnd:ot(R),$sizing:ot(P),as:r,ref:e,children:n.children})});function fNt(n){const{$accent:e,$muted:r}=n,{font:i}=mt(n.theme);return Ae`
    color: var(--card-fg-color);

    ${e&&Ae`
      color: var(--card-accent-fg-color);
    `}

    ${r&&Ae`
      color: var(--card-muted-fg-color);
    `}

    & code {
      font-family: ${i.code.family};
      border-radius: 1px;
      background-color: var(--card-code-bg-color);
      color: var(--card-code-fg-color);
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & strong {
      font-weight: ${i.text.weights.bold};
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
      color: var(--card-icon-color);

      & path {
        vector-effect: non-scaling-stroke !important;
      }
    }
  `}const hNt=F.div(l8t,ote,fNt),pNt=F.span`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`,J=p.forwardRef(function(n,e){const{accent:r=!1,align:i,children:o,muted:s=!1,size:a=2,textOverflow:l,weight:c,...u}=n;let f=o;return l==="ellipsis"&&(f=d.jsx(pNt,{children:f})),d.jsx(hNt,{"data-ui":"Text",...u,$accent:r,$align:ot(i),$muted:s,ref:e,$size:ot(a),$weight:c,children:d.jsx("span",{children:f})})});function mNt(n){const{$tone:e}=n;return{"--card-bg-color":`var(--card-badge-${e}-bg-color)`,"--card-fg-color":`var(--card-badge-${e}-fg-color)`,backgroundColor:"var(--card-bg-color)",cursor:"default","&:not([hidden])":{display:"inline-block",verticalAlign:"top"}}}const gNt=F(te)(Zg,mNt),_u=p.forwardRef(function(n,e){const{children:r,fontSize:i=1,mode:o,padding:s=1,radius:a="full",tone:l="default",...c}=n;return d.jsx(gNt,{"data-ui":"Badge",...c,$tone:l,$radius:ot(a),padding:ot(s),ref:e,children:d.jsx(J,{size:i,children:r})})}),vNt=F(te)(Zze,a6t),oe=p.forwardRef(function(n,e){const{align:r,as:i,direction:o="row",gap:s,justify:a,wrap:l,...c}=n;return d.jsx(vNt,{"data-ui":"Flex",...c,$align:ot(r),$direction:ot(o),$gap:ot(s),$justify:ot(a),$wrap:ot(l),forwardedAs:i,ref:e})}),yNt=Kp`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`,bNt=F(J)`
  & > span > svg {
    animation: ${yNt} 500ms linear infinite;
  }
`,Qx=p.forwardRef(function(n,e){return d.jsx(bNt,{"data-ui":"Spinner",...n,ref:e,children:d.jsx(Gx,{})})});function $r(n,e,r=!1){return{"--card-backdrop-color":n.backdrop,"--card-focus-ring-color":n.focusRing,"--card-shadow-outline-color":n.shadow.outline,"--card-shadow-umbra-color":n.shadow.umbra,"--card-shadow-penumbra-color":n.shadow.penumbra,"--card-shadow-ambient-color":n.shadow.ambient,"--card-accent-fg-color":e.accent.fg,"--card-avatar-gray-bg-color":e.avatar.gray.bg,"--card-avatar-gray-fg-color":e.avatar.gray.fg,"--card-avatar-blue-bg-color":e.avatar.blue.bg,"--card-avatar-blue-fg-color":e.avatar.blue.fg,"--card-avatar-purple-bg-color":e.avatar.purple.bg,"--card-avatar-purple-fg-color":e.avatar.purple.fg,"--card-avatar-magenta-bg-color":e.avatar.magenta.bg,"--card-avatar-magenta-fg-color":e.avatar.magenta.fg,"--card-avatar-red-bg-color":e.avatar.red.bg,"--card-avatar-red-fg-color":e.avatar.red.fg,"--card-avatar-orange-bg-color":e.avatar.orange.bg,"--card-avatar-orange-fg-color":e.avatar.orange.fg,"--card-avatar-yellow-bg-color":e.avatar.yellow.bg,"--card-avatar-yellow-fg-color":e.avatar.yellow.fg,"--card-avatar-green-bg-color":e.avatar.green.bg,"--card-avatar-green-fg-color":e.avatar.green.fg,"--card-avatar-cyan-bg-color":e.avatar.cyan.bg,"--card-avatar-cyan-fg-color":e.avatar.cyan.fg,"--card-bg-color":e.bg,"--card-bg-image":r?`repeating-conic-gradient(${e.bg} 0% 25%, ${e.muted.bg} 0% 50%)`:void 0,"--card-border-color":e.border,"--card-badge-default-bg-color":e.badge.default.bg,"--card-badge-default-dot-color":e.badge.default.dot,"--card-badge-default-fg-color":e.badge.default.fg,"--card-badge-default-icon-color":e.badge.default.icon,"--card-badge-primary-bg-color":e.badge.primary.bg,"--card-badge-primary-dot-color":e.badge.primary.dot,"--card-badge-primary-fg-color":e.badge.primary.fg,"--card-badge-primary-icon-color":e.badge.primary.icon,"--card-badge-positive-bg-color":e.badge.positive.bg,"--card-badge-positive-dot-color":e.badge.positive.dot,"--card-badge-positive-fg-color":e.badge.positive.fg,"--card-badge-positive-icon-color":e.badge.positive.icon,"--card-badge-caution-bg-color":e.badge.caution.bg,"--card-badge-caution-dot-color":e.badge.caution.dot,"--card-badge-caution-fg-color":e.badge.caution.fg,"--card-badge-caution-icon-color":e.badge.caution.icon,"--card-badge-critical-bg-color":e.badge.critical.bg,"--card-badge-critical-dot-color":e.badge.critical.dot,"--card-badge-critical-fg-color":e.badge.critical.fg,"--card-badge-critical-icon-color":e.badge.critical.icon,"--card-code-bg-color":e.code.bg,"--card-code-fg-color":e.code.fg,"--card-fg-color":e.fg,"--card-icon-color":e.icon,"--card-kbd-bg-color":e.kbd.bg,"--card-kbd-border-color":e.kbd.border,"--card-kbd-fg-color":e.kbd.fg,"--card-link-fg-color":e.link.fg,"--card-muted-bg-color":e.muted.bg,"--card-muted-fg-color":e.muted.fg,"--card-skeleton-color-from":e.skeleton.from,"--card-skeleton-color-to":e.skeleton.to,"--card-bg2-color":e.muted.bg,"--card-link-color":e.link.fg,"--card-hairline-soft-color":e.border,"--card-hairline-hard-color":e.border}}function xNt(n){const{$width:e}=n,{style:r}=mt(n.theme);return Ae`
    ${r==null?void 0:r.button};

    -webkit-font-smoothing: inherit;
    appearance: none;
    display: inline-flex;
    align-items: center;
    font: inherit;
    border: 0;
    outline: none;
    user-select: none;
    text-decoration: none;
    border: 0;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
    white-space: nowrap;
    text-align: left;
    position: relative;
    vertical-align: top;

    ${e==="fill"&&Ae`
      width: -moz-available;
      width: -webkit-fill-available;
      width: stretch;
    `}

    & > span {
      display: block;
      flex: 1;
      min-width: 0;
      border-radius: inherit;
    }

    &::-moz-focus-inner {
      border: 0;
      padding: 0;
    }
  `}function ype(...n){return n.filter(Boolean).join(",")}function wNt(n){var e;const{$mode:r}=n,{button:i,color:o,style:s}=mt(n.theme),a=n.$mode==="ghost",l=o.button[r]||o.button.default,c=l[n.$tone]||l.default,u={width:i.border.width,color:"var(--card-border-color)"},f=void 0;return[$r(o,c.enabled),{backgroundColor:"var(--card-bg-color)",color:"var(--card-fg-color)",boxShadow:ks(u),'&:disabled, &[data-disabled="true"]':$r(o,c.disabled),"&:not([data-disabled='true'])":{boxShadow:ype(ks(u),a?f:void 0),"&:focus":{boxShadow:rf({base:o,border:{width:2,color:o.bg},focusRing:i.focusRing})},"&:focus:not(:focus-visible)":{boxShadow:ype(ks(u),a?f:void 0)},"@media (hover: hover)":{"&:hover":$r(o,c.hovered),"&:active":$r(o,c.pressed),"&[data-hovered]":$r(o,c.hovered)},"&[data-selected]":$r(o,c.pressed)}},(e=s==null?void 0:s.button)==null?void 0:e.root].filter(Boolean)}const _Nt=F.button(Zg,xNt,wNt),ENt=F.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--card-bg-color);
  border-radius: inherit;
  z-index: 1;
  box-shadow: inherit;
`,ui=p.forwardRef(function(n,e){const{children:r,disabled:i,fontSize:o=1,icon:s,iconRight:a,justify:l="center",loading:c,mode:u="default",padding:f=3,paddingX:h,paddingY:m,paddingTop:g,paddingBottom:v,paddingLeft:y,paddingRight:b,radius:x=2,selected:_,space:w=3,text:C,textAlign:S,tone:T="default",type:A="button",muted:I=!1,width:D,...R}=n,{button:P}=Yg(),O=ot(l),$=ot(f),L=ot(h),M=ot(m),N=ot(g),z=ot(v),B=ot(y),H=ot(b),X=ot(x),G=ot(w),ne=p.useMemo(()=>({padding:$,paddingX:L,paddingY:M,paddingTop:N,paddingBottom:z,paddingLeft:B,paddingRight:H}),[$,L,M,N,z,B,H]);return d.jsxs(_Nt,{"data-ui":"Button",...R,$mode:u,$radius:X,$tone:T,"data-disabled":!!(c||i),"data-selected":_?"":void 0,disabled:!!(c||i),ref:e,type:A,$width:D,children:[!!c&&d.jsx(ENt,{children:d.jsx(Qx,{})}),(s||C||a)&&d.jsx(te,{as:"span",...ne,children:d.jsxs(oe,{as:"span",justify:O,gap:G,children:[s&&d.jsxs(J,{size:o,children:[p.isValidElement(s)&&s,Xr.isValidElementType(s)&&p.createElement(s)]}),C&&d.jsx(J,{muted:I,align:S,size:o,textOverflow:"ellipsis",weight:P.textWeight,children:C}),a&&d.jsxs(J,{size:o,children:[p.isValidElement(a)&&a,Xr.isValidElementType(a)&&p.createElement(a)]})]})}),r&&d.jsx(te,{as:"span",...ne,children:r})]})});function CNt(n){return[SNt(n),kNt(n)]}function SNt(n){const{$checkered:e}=n,{space:r}=mt(n.theme);return Ae`
    ${e&&Ae`
      background-size: ${r[3]}px ${r[3]}px;
      background-position: 50% 50%;
      background-image: var(--card-bg-image);
    `}

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -moz-available;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      outline: none;
      text-decoration: none;
    }

    /* &:is(pre) */
    &[data-as='pre'] {
      font: inherit;
    }
  `}function kNt(n){var e;const{$checkered:r,$focusRing:i}=n,{card:o,color:s,style:a}=mt(n.theme),l={width:o.border.width,color:"var(--card-border-color)"};return Ae`
    color-scheme: ${s._dark?"dark":"light"};

    ${$r(s,s,r)}

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);

    /* &:is(button) */
    &[data-as='button'] {
      --card-focus-ring-box-shadow: none;

      cursor: default;
      box-shadow: var(--card-focus-ring-box-shadow);

      &:disabled {
        ${$r(s,s.selectable.default.disabled,r)}
      }

      &:not(:disabled) {
        &[data-pressed] {
          ${$r(s,s.selectable.default.pressed,r)}
        }

        &[data-selected] {
          ${$r(s,s.selectable.default.selected,r)}
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              ${$r(s,s.selectable.default.hovered,r)}
            }

            &:active {
              ${$r(s,s.selectable.default.pressed,r)}
            }
          }
        }

        &:focus-visible {
          --card-focus-ring-box-shadow: ${i?rf({base:s,border:l,focusRing:o.focusRing}):void 0};
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      cursor: pointer;
      box-shadow: var(--card-focus-ring-box-shadow);

      &[data-disabled] {
        ${$r(s,s.selectable.default.disabled,r)}
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          ${$r(s,s.selectable.default.pressed,r)}
        }

        &[data-selected] {
          ${$r(s,s.selectable.default.selected,r)}
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              ${$r(s,s.selectable.default.hovered,r)}
            }

            &:active {
              ${$r(s,s.selectable.default.pressed,r)}
            }
          }
        }

        &:focus-visible {
          --card-focus-ring-box-shadow: ${i?rf({base:s,border:l,focusRing:o.focusRing}):void 0};
        }
      }
    }

    ${(e=a==null?void 0:a.card)==null?void 0:e.root}
  `}const TNt=F(te)(W8t,Zg,B6t,CNt),ke=p.forwardRef(function(n,e){const{__unstable_checkered:r=!1,__unstable_focusRing:i=!1,as:o,border:s,borderTop:a,borderRight:l,borderBottom:c,borderLeft:u,pressed:f,radius:h=0,scheme:m,selected:g,shadow:v,tone:y="default",...b}=n,x=Xr.isValidElementType(o)?o:"div",_=DS(),w=y==="inherit"?_.tone:y;return d.jsx(qze,{scheme:m,tone:w,children:d.jsx(TNt,{"data-as":typeof x=="string"?x:void 0,"data-scheme":_.scheme,"data-ui":"Card","data-tone":w,...b,$border:ot(s),$borderTop:ot(a),$borderRight:ot(l),$borderBottom:ot(c),$borderLeft:ot(u),$checkered:r,$focusRing:i,$radius:ot(h),$shadow:ot(v),$tone:w,"data-checkered":r?"":void 0,"data-pressed":f?"":void 0,"data-selected":g?"":void 0,forwardedAs:x,ref:e,selected:g})})});function ANt(){return Ae`
    position: relative;
    display: inline-block;
  `}function INt(n){const{color:e,input:r,radius:i}=mt(n.theme),{focusRing:o}=r.checkbox;return Ae`
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    outline: none;
    opacity: 0;
    z-index: 1;
    padding: 0;
    margin: 0;

    & + span {
      position: relative;
      display: block;
      height: ${Je(r.checkbox.size)};
      width: ${Je(r.checkbox.size)};
      box-sizing: border-box;
      box-shadow: ${ks({color:e.input.default.enabled.border,width:r.border.width})};
      border-radius: ${Je(i[2])};
      line-height: 1;
      background-color: ${e.input.default.enabled.bg};

      & > svg {
        display: block;
        position: absolute;
        opacity: 0;
        height: 100%;
        width: 100%;

        & > path {
          vector-effect: non-scaling-stroke;
          stroke-width: 1.5px !important;
        }
      }
    }

    &:checked + span {
      background: ${e.input.default.enabled.fg};
      box-shadow: ${ks({color:e.input.default.enabled.fg,width:r.border.width})};
      color: ${e.input.default.enabled.bg};
    }

    /* focus */
    &:not(:disabled):focus:focus-visible + span {
      box-shadow: ${rf({focusRing:o})};
    }

    /* focus when checked - uses a different offset */
    &:not(:disabled):focus:focus-visible&:checked + span {
      box-shadow: ${rf({focusRing:{width:1,offset:1}})};
    }

    &[data-error] + span {
      background-color: ${e.input.invalid.enabled.border};
      box-shadow: ${ks({width:r.border.width,color:e.input.invalid.enabled.muted.bg})};
      color: ${e.input.default.disabled.fg};
    }
    &[data-error]&:checked + span {
      background-color: ${e.input.invalid.enabled.muted.bg};
      color: ${e.input.default.enabled.bg};
    }
    &[data-error]&:checked&:not(:disabled):focus:focus-visible + span {
      box-shadow: ${rf({border:{width:r.border.width,color:e.input.invalid.readOnly.muted.bg},focusRing:{width:1,offset:1}})};
    }

    &:disabled + span {
      background-color: ${e.input.default.disabled.bg};
      box-shadow: ${ks({width:r.border.width,color:e.input.default.disabled.border})};
      color: ${e.input.default.disabled.fg};
    }
    &:disabled&:checked + span {
      background-color: ${e.input.default.disabled.muted.bg};
    }

    &[data-read-only] + span {
      background-color: ${e.input.default.readOnly.bg};
      box-shadow: ${ks({width:r.border.width,color:e.input.default.readOnly.border})};
      color: ${e.input.default.readOnly.fg};
    }

    &[data-read-only]&:checked + span {
      background-color: ${e.input.default.readOnly.muted.bg};
    }

    &:checked + span > svg:first-child {
      opacity: 1;
    }
    &:indeterminate + span > svg:last-child {
      opacity: 1;
    }
  `}const DNt=F.div(ANt),RNt=F.input(INt),m6=p.forwardRef(function(n,e){const{checked:r,className:i,disabled:o,indeterminate:s,customValidity:a,readOnly:l,style:c,...u}=n,f=Ko(e);return cD(f,a),p.useEffect(()=>{f.current&&(f.current.indeterminate=s||!1)},[s,f]),d.jsxs(DNt,{className:i,"data-ui":"Checkbox",style:c,children:[d.jsx(RNt,{"data-read-only":!o&&l?"":void 0,"data-error":a?"":void 0,...u,checked:r,disabled:o||l,type:"checkbox",readOnly:l,ref:f}),d.jsxs("span",{children:[d.jsx(ec,{}),d.jsx(bJ,{})]})]})});function ONt({theme:n}){const{color:{syntax:e}}=mt(n);return{"&.atrule":{color:e.atrule},"&.attr-name":{color:e.attrName},"&.attr-value":{color:e.attrValue},"&.attribute":{color:e.attribute},"&.boolean":{color:e.boolean},"&.builtin":{color:e.builtin},"&.cdata":{color:e.cdata},"&.char":{color:e.char},"&.class":{color:e.class},"&.class-name":{color:e.className},"&.comment":{color:e.comment},"&.constant":{color:e.constant},"&.deleted":{color:e.deleted},"&.doctype":{color:e.doctype},"&.entity":{color:e.entity},"&.function":{color:e.function},"&.hexcode":{color:e.hexcode},"&.id":{color:e.id},"&.important":{color:e.important},"&.inserted":{color:e.inserted},"&.keyword":{color:e.keyword},"&.number":{color:e.number},"&.operator":{color:e.operator},"&.prolog":{color:e.prolog},"&.property":{color:e.property},"&.pseudo-class":{color:e.pseudoClass},"&.pseudo-element":{color:e.pseudoElement},"&.punctuation":{color:e.punctuation},"&.regex":{color:e.regex},"&.selector":{color:e.selector},"&.string":{color:e.string},"&.symbol":{color:e.symbol},"&.tag":{color:e.tag},"&.unit":{color:e.unit},"&.url":{color:e.url},"&.variable":{color:e.variable}}}function PNt(){return Ae`
    color: var(--card-code-fg-color);

    & code {
      font-family: inherit;

      &.refractor .token {
        ${ONt}
      }
    }

    & a {
      color: inherit;
      text-decoration: underline;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `}const jNt=F.pre(PNt,o8t),ia=p.forwardRef(function(n,e){const{children:r,language:i,size:o=2,weight:s,...a}=n,l=typeof i=="string"?i:void 0,c=l?Cg.hasLanguage(l):!1;return d.jsxs(jNt,{"data-ui":"Code",...a,$size:ot(o),$weight:s,ref:e,children:[!(l&&c)&&d.jsx("code",{children:r}),l&&c&&d.jsx(Cg,{inline:!0,language:l,value:String(r)})]})}),LNt={width:"100%",margin:"0 auto"};function $Nt(){return LNt}function MNt(n){const{container:e,media:r}=mt(n.theme);return Xn(r,n.$width,i=>({maxWidth:i==="auto"?"none":Je(e[i])}))}const FNt=F(te)($Nt,MNt),Ya=p.forwardRef(function(n,e){const{as:r,width:i=2,...o}=n;return d.jsx(FNt,{"data-ui":"Container",...o,$width:ot(i),forwardedAs:r,ref:e})}),NNt=F(te)(y6t),eo=p.forwardRef(function(n,e){const{as:r,autoRows:i,autoCols:o,autoFlow:s,columns:a,gap:l,gapX:c,gapY:u,rows:f,children:h,...m}=n;return d.jsx(NNt,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Grid",...m,$autoRows:ot(i),$autoCols:ot(o),$autoFlow:ot(s),$columns:ot(a),$gap:ot(l),$gapX:ot(c),$gapY:ot(u),$rows:ot(f),forwardedAs:r,ref:e,children:h})});function BNt(n){const{$accent:e,$muted:r}=n,{font:i}=mt(n.theme);return Ae`
    ${e&&Ae`
      color: var(--card-accent-fg-color);
    `}

    ${r&&Ae`
      color: var(--card-muted-fg-color);
    `}

    & code {
      font-family: ${i.code.family};
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & strong {
      font-weight: ${i.heading.weights.bold};
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `}const UNt=F.div(BNt,ote,s8t),zNt=F.span`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`,Pa=p.forwardRef(function(n,e){const{accent:r=!1,align:i,children:o,muted:s=!1,size:a=2,textOverflow:l,weight:c,...u}=n;let f=o;return l==="ellipsis"&&(f=d.jsx(zNt,{children:f})),d.jsx(UNt,{"data-ui":"Heading",...u,$accent:r,$align:ot(i),$muted:s,$size:ot(a),$weight:c,ref:e,children:d.jsx("span",{children:f})})});function VNt(){return{lineHeight:0,"&&:not([hidden])":{display:"block"},"& > div":{display:"inline-block",verticalAlign:"middle"}}}function HNt(n){const{media:e,space:r}=mt(n.theme);return Xn(e,n.$space,i=>{const o=Je(i===.5?r[1]/2:r[i]);return{margin:`-${o} 0 0 -${o}`,"& > div":{padding:`${o} 0 0 ${o}`}}})}const WNt=F(te)(VNt,HNt),to=p.forwardRef(function(n,e){const{as:r,children:i,space:o,...s}=n,a=p.useMemo(()=>iVe(i).filter(Boolean).map((l,c)=>d.jsx("div",{children:l},c)),[i]);return d.jsx(WNt,{"data-ui":"Inline",...s,$space:ot(o),forwardedAs:r,ref:e,children:a})});function GNt(){return Ae`
    --card-bg-color: var(--card-kbd-bg-color);
    --card-border-color: var(--card-kbd-border-color);
    --card-fg-color: var(--card-kbd-fg-color);

    box-shadow: inset 0 0 0 1px var(--card-border-color);
    background: var(--card-bg-color);
    font: inherit;

    vertical-align: top;

    &:not([hidden]) {
      display: inline-block;
    }
  `}const qNt=F.kbd(Zg,GNt),KNt=p.forwardRef(function(n,e){const{children:r,fontSize:i=0,padding:o=1,radius:s=2,...a}=n;return d.jsx(qNt,{"data-ui":"KBD",...a,$radius:ot(s),ref:e,children:d.jsx(te,{as:"span",padding:o,children:d.jsx(J,{as:"span",size:i,weight:"semibold",children:r})})})}),oVe={name:"@sanity/ui/origin",fn({middlewareData:n,placement:e,rects:r}){var i,o;const[s]=e.split("-"),a=r.floating.width,l=r.floating.height,c=((i=n.shift)==null?void 0:i.x)||0,u=((o=n.shift)==null?void 0:o.y)||0;if(a<=0||l<=0)return{};const f=["bottom","top"].includes(s),{originX:h,originY:m}=f?{originX:bpe(.5-c/a,0,1),originY:s==="bottom"?0:1}:{originX:s==="left"?1:0,originY:bpe(.5-u/l,0,1)};return{data:{originX:h,originY:m}}}};function bpe(n,e,r){return Math.min(Math.max(n,e),r)}function xpe(n,e,r){const i=e.x-n.x,o=e.y-n.y,s=Math.sqrt(i*i+o*o);return xq(n,e,Math.min(1,r/s))}function xq(n,e,r){return{x:n.x+(e.x-n.x)*r,y:n.y+(e.y-n.y)*r}}function YNt(n){const e=n.length,r=[];for(let i=0;i<e;i+=1){const o=n[i],s=n[i-1],a=n[i+1];if(s&&o.radius){const l=xpe(o,s,o.radius),c=xpe(o,a,o.radius),u=xq(l,o,.5),f=xq(o,c,.5);r.push({type:"point",...l}),r.push({type:"curve",curveEnd:c,startControl:u,endControl:f})}else r.push({type:"point",...o})}return r}function ZNt(n){return n.map((e,r)=>e.type==="point"?`${r===0?"M":"L"} ${e.x} ${e.y}`:e.type==="curve"?`C ${e.startControl.x} ${e.startControl.y} ${e.endControl.x} ${e.endControl.y} ${e.curveEnd.x} ${e.curveEnd.y}`:"").join(" ")}const XNt=F.div(({$w:n})=>Ae`
    position: absolute;
    width: ${n}px;
    height: ${n}px;

    :empty + & {
      display: none;
    }

    & > svg {
      display: block;
      line-height: 0;
      transform-origin: ${n/2}px ${n/2}px;
    }

    [data-placement^='top'] > & {
      bottom: -${n}px;

      & > svg {
        transform: rotate(0);
      }
    }

    [data-placement^='right'] > & {
      left: -${n}px;

      & > svg {
        transform: rotate(90deg);
      }
    }

    [data-placement^='left'] > & {
      right: -${n}px;

      & > svg {
        transform: rotate(-90deg);
      }
    }

    [data-placement^='bottom'] > & {
      top: -${n}px;

      & > svg {
        transform: rotate(180deg);
      }
    }
  `),QNt=F.path`
  stroke: var(--card-shadow-outline-color);
`,JNt=F.path`
  fill: var(--card-bg-color);
`,sVe=p.forwardRef(function(n,e){const{width:r,height:i,radius:o=0,...s}=n,{card:a}=Yg(),l=a.shadow.outline,c=r/2,u=[{x:0,y:0},{x:o,y:0,radius:o},{x:c,y:i-1,radius:o},{x:r-o,y:0,radius:o},{x:r,y:0}],f=YNt(u),h=ZNt(f),m=`${h}`,g=`${h} M ${r} -1 M 0 -1 Z`;return d.jsx(XNt,{...s,$w:r,ref:e,children:d.jsxs("svg",{width:r,height:r,viewBox:`0 0 ${r} ${r}`,children:[d.jsx("mask",{id:"stroke-mask",children:d.jsx("rect",{x:0,y:l,width:r,height:r,fill:"white"})}),d.jsx(QNt,{d:m,mask:"url(#stroke-mask)",strokeWidth:l*2}),d.jsx(JNt,{d:g})]})})}),wq=Symbol.for("@sanity/ui/context/boundaryElement");si[wq]=si[wq]||p.createContext(null);const aVe=si[wq];function hy(n){const{children:e,element:r}=n,i=p.useMemo(()=>({version:0,element:r}),[r]);return d.jsx(aVe.Provider,{value:i,children:e})}function uD(n){return!!(n&&typeof n=="object"&&!Array.isArray(n))}const eBt={version:0,element:null};function Jx(){const n=p.useContext(aVe);if(n&&(!uD(n)||n.version!==0))throw new Error("useBoundaryElement(): the context value is not compatible");return n||eBt}function T3({children:n,condition:e,wrapper:r}){return e?r(n):n}function tBt(n,e){const r=[];for(let i=0;i<n.length;i+=1)n[i]>e&&r.push(i);return r}function nBt(n,e){const r=[];for(let i=0;i<n.length;i+=1)n[i]<=e&&r.push(i);return r}const rBt=p.forwardRef(function(n,e){const r=Yg(),{children:i,media:o=r.media,...s}=n,a=Ko(e),[l,c]=p.useState(null),u=f6(l),f=p.useMemo(()=>{var v;return(v=u==null?void 0:u.border.width)!=null?v:window.innerWidth},[u]),h=p.useMemo(()=>tBt(o,f),[o,f]),m=p.useMemo(()=>nBt(o,f),[o,f]),g=p.useCallback(v=>{a.current=v,c(v)},[a]);return d.jsx("div",{"data-ui":"ElementQuery",...s,"data-eq-max":h.length?h.join(" "):void 0,"data-eq-min":m.length?m.join(" "):void 0,ref:g,children:i})});var iBt=Object.defineProperty,oBt=(n,e,r)=>e in n?iBt(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,sBt=(n,e,r)=>(oBt(n,typeof e!="symbol"?e+"":e,r),r);class dD extends p.Component{constructor(){super(...arguments),sBt(this,"state",{error:null})}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,r){this.props.onCatch({error:e,info:r})}render(){const{error:e}=this.state;if(e){const r=typeof(e==null?void 0:e.message)=="string"?e.message:"Error";return d.jsx(ia,{children:r})}return this.props.children}}function lVe(n){if(!uD(n)||n.version!==0)throw new Error("the context value is not compatible");if(!n)throw new Error("components using `useLayer()` should be wrapped in a <LayerProvider>.");if(n.version===0)return n;throw new Error("could not get layer context")}const _q=Symbol.for("@sanity/ui/context/layer");si[_q]=si[_q]||p.createContext(null);const Eq=si[_q];function Eu(){const n=p.useContext(Eq);if(!n)throw new Error("useLayer(): missing context value");try{return lVe(n)}catch(e){throw e instanceof Error?new Error(`useLayer(): ${e.message}`):new Error(`useLayer(): ${e}`)}}function Cq(n){const e=requestAnimationFrame(n);return()=>{cancelAnimationFrame(e)}}function aBt(n){let e=null;const r=Cq(()=>{e=Cq(n)});return()=>{e&&e(),r()}}function lBt(n){return lte(n)||cte(n)}function Xp(n){return n instanceof Node&&n.nodeType===Node.ELEMENT_NODE}function lte(n){return Xp(n)&&n.nodeName==="A"}function cBt(n){return Xp(n)&&n.nodeName==="INPUT"}function cte(n){return Xp(n)&&n.nodeName==="BUTTON"}function uBt(n){return Xp(n)&&n.nodeName==="SELECT"}function dBt(n){return Xp(n)&&n.nodeName==="TEXTAREA"}function Sq(n,e){return n.contains(e)||n===e}function fBt(n){return!!document.activeElement&&n.contains(document.activeElement)}function hBt(n){return n.tabIndex>0||n.tabIndex===0&&n.getAttribute("tabIndex")!==null?!0:lte(n)?!!n.href&&n.rel!=="ignore":cBt(n)?n.type!=="hidden"&&n.type!=="file"&&!n.disabled:cte(n)||uBt(n)||dBt(n)?!n.disabled:!1}function cVe(n){if(!hBt(n))return!1;try{n.focus()}catch{}return document.activeElement===n}function Cx(n){for(let e=0;e<n.childNodes.length;e++){const r=n.childNodes[e];if(Xp(r)&&(cVe(r)||Cx(r)))return!0}return!1}function ute(n){for(let e=n.childNodes.length-1;e>=0;e--){const r=n.childNodes[e];if(Xp(r)&&(cVe(r)||ute(r)))return!0}return!1}function pBt(n){if(!(n instanceof Element))return!1;const e=window.getComputedStyle(n);return e.overflowX.includes("auto")||e.overflowX.includes("scroll")||e.overflowY.includes("auto")||e.overflowY.includes("scroll")}function zp(n){var e;const{children:r,zOffset:i=0}=n,o=p.useContext(Eq),s=o&&lVe(o),a=s==null?void 0:s.registerChild,l=((e=s==null?void 0:s.level)!=null?e:0)+1,c=ot(i),u=c.length-1,f=Math.min(Xx(),u),h=s?s.zIndex+c[f]:c[f],[,m]=p.useState({}),[g,v]=p.useState(0),y=g===0,b=p.useCallback(_=>{const w=a==null?void 0:a(_);return _!==void 0?m(C=>{var S;const T=(S=C[_])!=null?S:0,A={...C,[_]:T+1};return v(Object.keys(A).length),A}):v(C=>C+1),()=>{_!==void 0?m(C=>{const S={...C};return S[_]===1?(delete S[_],v(Object.keys(S).length)):S[_]-=1,S}):v(C=>C-1),w==null||w()}},[a]);p.useEffect(()=>a==null?void 0:a(l),[l,a]);const x=p.useMemo(()=>({version:0,isTopLayer:y,level:l,registerChild:b,size:g,zIndex:h}),[y,l,b,g,h]);return d.jsx(Eq.Provider,{value:x,children:r})}const mBt=F.div({position:"relative"}),gBt=p.forwardRef(function(n,e){const{children:r,onActivate:i,onFocus:o,style:s=Y0,...a}=n,{zIndex:l,isTopLayer:c}=Eu(),u=p.useRef(null),f=Ko(e),h=p.useRef(c);p.useEffect(()=>{h.current!==c&&c&&(i==null||i({activeElement:u.current})),h.current=c},[c,i]);const m=p.useCallback(g=>{o==null||o(g);const v=f.current,y=document.activeElement;!c||!v||!y||Xp(y)&&Sq(v,y)&&(u.current=y)},[f,c,o]);return d.jsx(mBt,{...a,"data-ui":"Layer",onFocus:m,ref:f,style:{...s,zIndex:l},children:r})}),Cu=p.forwardRef(function(n,e){const{children:r,zOffset:i=1,...o}=n;return d.jsx(zp,{zOffset:i,children:d.jsx(gBt,{...o,ref:e,children:r})})}),kq=Symbol.for("@sanity/ui/context/portal"),C_=Symbol.for("@sanity/ui/context/portal/element");si[C_]=null;const vBt={version:0,boundaryElement:null,get element(){return typeof document>"u"?null:(si[C_]||(si[C_]=document.createElement("div"),si[C_].setAttribute("data-portal",""),document.body.appendChild(si[C_])),si[C_])}};si[kq]=si[kq]||p.createContext(vBt);const uVe=si[kq];function Ly(){const n=p.useContext(uVe);if(!n)throw new Error("usePortal(): missing context value");if(!uD(n)||n.version!==0)throw new Error("usePortal(): the context value is not compatible");return n}function ew(n){var e;const{children:r,__unstable_name:i}=n,o=Ly(),s=(i?o.elements&&o.elements[i]:o.element)||((e=o.elements)==null?void 0:e.default);return s?Kd.createPortal(r,s):null}function yBt(n){const e=p.useRef(n);return bBt(e.current,n)||(e.current=n),e.current}function bBt(n,e){if(!n||!e)return n===e;const r=Object.keys(n),i=Object.keys(e);return r.length!==i.length?!1:r.every(o=>n[o]===e[o])}const xBt=typeof document<"u";function fD(n){const{boundaryElement:e,children:r,element:i,__unstable_elements:o}=n,s=yBt(o),a=p.useMemo(()=>({version:0,boundaryElement:e||null,element:i||xBt&&document.body||null,elements:s}),[e,i,s]);return d.jsx(uVe.Provider,{value:a,children:r})}const wBt=F.div`
  display: block;
  width: 0;
  height: 0;
  position: absolute;
  overflow: hidden;
  overflow: clip;
`;p.forwardRef(function(n,e){const{as:r,children:i}=n;return d.jsx(wBt,{"aria-hidden":!0,as:r,"data-ui":"SrOnly",ref:e,children:i})});const _Bt=F.div`
  position: relative;
`,wpe=F.div`
  position: absolute;
  left: 0;
  right: 0;
`;p.forwardRef(function(n,e){const{as:r="div",gap:i=0,getItemKey:o,items:s=[],onChange:a,renderItem:l,...c}=n,{space:u}=Yg(),f=Ko(e),h=p.useRef(null),[m,g]=p.useState(0),[v,y]=p.useState(0),[b,x]=p.useState(-1);p.useEffect(()=>{if(!h.current)return;const I=h.current.firstChild;I instanceof HTMLElement&&x(I.offsetHeight)},[l]),p.useEffect(()=>{if(!f.current)return;let I=f.current.parentNode;for(;I&&!pBt(I);)I=I.parentNode;if(I){const P=I;if(!(P instanceof HTMLElement))return;const O=()=>{g(P.scrollTop)};P.addEventListener("scroll",O,{passive:!0});const $=new Gze(L=>{y(L[0].contentRect.height)});return $.observe(P),O(),()=>{P.removeEventListener("scroll",O),$.unobserve(P),$.disconnect()}}const D=()=>{g(window.scrollY)},R=()=>{y(window.innerHeight)};return window.addEventListener("scroll",D,{passive:!0}),window.addEventListener("resize",R),y(window.innerHeight),D(),()=>{window.removeEventListener("scroll",D),window.removeEventListener("resize",R)}},[f]);const _=s.length,w=b?_*(b+u[i])-u[i]:0,C=w?Math.max(Math.floor(m/w*_)-2,0):0,S=w?Math.ceil((m+v)/w*_)+1:0;p.useEffect(()=>{a&&a({fromIndex:C,gap:u[i],itemHeight:b,scrollHeight:v,scrollTop:m,toIndex:S})},[C,i,b,a,v,m,u,S]);const T=p.useMemo(()=>!l||s.length===0?null:b===-1?[d.jsx(wpe,{children:l(s[0])},0)]:s.slice(C,S).map((I,D)=>{const R=C+D,P=l(I),O=o?o(I,R):R;return d.jsx(wpe,{style:{top:R*(b+u[i])},children:P},O)}),[C,i,o,b,s,l,u,S]),A=p.useMemo(()=>({height:w}),[w]);return d.jsx(_Bt,{as:r,"data-ui":"VirtualList",...c,ref:f,children:d.jsx("div",{ref:h,style:A,children:T})})});const EBt=4,S_=4,CBt=19,SBt=8,kBt=2,dVe=[0,0,0,0],TBt={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};function ABt(n){const{apply:e,margins:r,padding:i=0}=n;return{name:"@sanity/ui/size",async fn(o){const{elements:s,placement:a,platform:l,rects:c}=o,{floating:u,reference:f}=c,h=await PC(o,{altBoundary:!0,boundary:n.boundaryElement||void 0,elementContext:"floating",padding:i,rootBoundary:"viewport"});let m=1/0,g=1/0;const v=u.width,y=u.height;a.includes("top")&&(m=v-(h.left+h.right),g=y-h.top),a.includes("right")&&(m=v-h.right,g=y-(h.top+h.bottom)),a.includes("bottom")&&(m=v-(h.left+h.right),g=y-h.bottom),a.includes("left")&&(m=v-h.left,g=y-(h.top+h.bottom)),e({availableWidth:m-r[1]-r[3],availableHeight:g-r[0]-r[2],elements:s,referenceWidth:f.width-r[1]-r[3]});const b=await l.getDimensions(s.floating),x=b.height,_=b.width;return v!==_||y!==x?{reset:{rects:!0}}:{}}}}function IBt(n){const{container:e,mediaIndex:r,width:i}=n,o=i[r],s=o===void 0?i[i.length-1]:o;return typeof s=="number"?e[s]:void 0}function DBt(n){const{boundaryWidth:e,currentWidth:r}=n;if(!(r===void 0&&e===void 0))return Math.min(r??1/0,(e||1/0)-S_*2)}const RBt=F(Xa(ke))`
  &:not([hidden]) {
    display: flex;
  }
  flex-direction: column;
  width: max-content;
  min-width: min-content;
  & > * {
    opacity: var(${yg}, 1);
    will-change: opacity;
  }
`,fVe=p.memo(p.forwardRef(function(n,e){const{__unstable_margins:r,animate:i,arrow:o,arrowRef:s,arrowX:a,arrowY:l,children:c,padding:u,placement:f,originX:h,originY:m,overflow:g,radius:v,scheme:y,shadow:b,strategy:x,style:_,tone:w,width:C,x:S,y:T,...A}=n,{zIndex:I}=Eu(),D=p.useMemo(()=>r||dVe,[r]),R=(S??0)+D[3],P=(T??0)+D[0],O=p.useMemo(()=>({left:R,originX:h,originY:m,position:x,top:P,width:C,zIndex:I,willChange:i?"transform":void 0,..._}),[i,h,m,x,_,C,R,P,I]),$=p.useMemo(()=>({left:a!==null?a:void 0,top:l!==null?l:void 0,right:void 0,bottom:void 0}),[a,l]);return d.jsxs(RBt,{"data-ui":"Popover",...A,"data-placement":f,radius:v,ref:e,scheme:y,shadow:b,sizing:"border",style:O,tone:w,...i?Nze:{},children:[d.jsx(oe,{"data-ui":"Popover__wrapper",direction:"column",flex:1,overflow:g,children:d.jsx(oe,{direction:"column",flex:1,padding:u,children:c})}),o&&d.jsx(sVe,{ref:s,style:$,width:CBt,height:SBt,radius:kBt})]})}));fVe.displayName="PopoverCard";const $y=p.memo(p.forwardRef(function(n,e){var r,i,o,s,a,l,c,u,f,h;const{container:m,layer:g}=Yg(),v=Jx(),{__unstable_margins:y=dVe,animate:b=!1,arrow:x=!1,boundaryElement:_=v.element,children:w,constrainSize:C=!1,content:S,disabled:T,fallbackPlacements:A=(i=n.fallbackPlacements)!=null?i:TBt[(r=n.placement)!=null?r:"bottom"],matchReferenceWidth:I,floatingBoundary:D=(o=n.boundaryElement)!=null?o:v.element,onActivate:R,open:P,overflow:O="hidden",padding:$,placement:L="bottom",portal:M,preventOverflow:N=!0,radius:z=3,referenceBoundary:B=(s=n.boundaryElement)!=null?s:v.element,referenceElement:H,scheme:X,shadow:G=3,tone:ne="inherit",width:le="auto",zOffset:K=g.popover.zOffset,updateRef:Q,...re}=n,se=h6()?!1:b,de=(a=f6(_))==null?void 0:a.border,fe=ot($),we=ot(z),ye=ot(G),ve=ot(le),_e=ot(K),ge=Ko(e),pe=p.useRef(null),Pe="viewport",Re=Xx(),Fe=C||N?de==null?void 0:de.width:void 0,Ye=IBt({container:m,mediaIndex:Re,width:ve}),He=p.useRef(Ye);p.useEffect(()=>{He.current=Ye},[Ye]);const lt=DBt({boundaryWidth:Fe,currentWidth:Ye}),Xe=p.useRef(lt);p.useEffect(()=>{Xe.current=lt},[lt]);const st=p.useRef();p.useEffect(()=>{const fn=ge.current;if(!P||!fn)return;const Ct=st.current;I?Ct!==void 0&&(fn.style.width=`${Ct}px`):Ye!==void 0&&(fn.style.width=`${Ye}px`),typeof lt=="number"&&(fn.style.maxWidth=`${lt}px`)},[Ye,ge,I,lt,P]);const kt=p.useMemo(()=>{const fn=[];return(C||N)&&fn.push(V8({boundary:D||void 0,fallbackPlacements:A,padding:S_,rootBoundary:Pe})),fn.push(F8({mainAxis:EBt})),(C||I)&&fn.push(ABt({apply({availableWidth:Ct,availableHeight:ht,elements:en,referenceWidth:Hn}){st.current=Hn;const rr=He.current,_i=Xe.current;I?en.floating.style.width=`${Hn}px`:rr!==void 0&&(en.floating.style.width=`${rr}px`),C&&(en.floating.style.maxWidth=`${Math.min(Ct,_i??1/0)}px`,en.floating.style.maxHeight=`${ht}px`)},boundaryElement:D||void 0,constrainSize:C,margins:y,matchReferenceWidth:I,padding:S_})),N&&fn.push(z8({boundary:D||void 0,rootBoundary:Pe,padding:S_})),x&&fn.push(yUe({element:pe,padding:S_})),se&&fn.push(oVe),fn.push(h7e({boundary:B||void 0,padding:S_,strategy:"referenceHidden"})),fn},[se,x,C,A,D,y,I,N,B]),{x:Ge,y:gt,middlewareData:At,placement:Dt,refs:at,strategy:tt,update:it}=xUe({middleware:kt,placement:L,whileElementsMounted:U8}),jt=(l=At.hide)==null?void 0:l.referenceHidden,$t=(c=At.arrow)==null?void 0:c.x,yt=(u=At.arrow)==null?void 0:u.y,Gt=(f=At["@sanity/ui/origin"])==null?void 0:f.originX,Lt=(h=At["@sanity/ui/origin"])==null?void 0:h.originY,Vn=p.useCallback(fn=>{pe.current=fn},[]),Oo=p.useCallback(fn=>{ge.current=fn,at.setFloating(fn)},[ge,at]),Po=p.useCallback(fn=>{at.setReference(fn);const Ct=w==null?void 0:w.ref;typeof Ct=="function"?Ct(fn):Ct&&(Ct.current=fn)},[w,at]),wi=p.useMemo(()=>!w||H?null:p.cloneElement(w,{ref:Po}),[w,H,Po]);if(p.useEffect(()=>{Q&&(typeof Q=="function"?Q(it):Q&&(Q.current=it))},[it,Q]),p.useEffect(()=>{wi||at.setReference(H||null)},[H,at,wi]),T)return w||d.jsx(d.Fragment,{});const pr=d.jsx(zp,{zOffset:_e,children:d.jsx(fVe,{...re,__unstable_margins:y,animate:se,arrow:x,arrowRef:Vn,arrowX:$t,arrowY:yt,hidden:jt,overflow:O,padding:fe,placement:Dt,radius:we,ref:Oo,scheme:X,shadow:ye,originX:Gt,originY:Lt,strategy:tt,tone:ne,width:I?st.current:Ye,x:Ge,y:gt,children:S})});return d.jsxs(d.Fragment,{children:[d.jsx(T3,{condition:se,wrapper:fn=>d.jsx(Zp,{children:fn}),children:P&&d.jsx(T3,{condition:!!M,wrapper:fn=>d.jsx(ew,{__unstable_name:typeof M=="string"?M:void 0,children:fn}),children:pr})}),wi]})}));$y.displayName="Popover";function OBt(){return Ae`
    position: relative;

    &:not([hidden]) {
      display: inline-block;
    }

    &[data-read-only] {
      outline: 1px solid red;
    }
  `}function PBt(n){const{color:e,input:r}=mt(n.theme),i=(r.radio.size-r.radio.markSize)/2;return Ae`
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    z-index: 1;
    padding: 0;
    margin: 0;
    border-radius: ${Je(r.radio.size/2)};
    border: none;

    /* enabled */
    & + span {
      display: block;
      position: relative;
      height: ${Je(r.radio.size)};
      width: ${Je(r.radio.size)};
      border-radius: ${Je(r.radio.size/2)};
      background: ${e.input.default.enabled.bg};
      box-shadow: ${ks({color:e.input.default.enabled.border,width:r.border.width})};

      &::after {
        content: '';
        position: absolute;
        top: ${Je(i)};
        left: ${Je(i)};
        height: ${Je(r.radio.markSize)};
        width: ${Je(r.radio.markSize)};
        border-radius: ${Je(r.radio.markSize/2)};
        background: ${e.input.default.enabled.fg};
        opacity: 0;
      }
    }

    /* focused */
    &:not(:disabled):focus + span {
      box-shadow: ${rf({border:{width:r.border.width,color:e.input.default.enabled.border},focusRing:r.radio.focusRing})};
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: ${ks({color:e.input.default.enabled.border,width:r.border.width})};
    }

    &:checked + span::after {
      opacity: 1;
    }

    /* customValidity */
    &[data-error] + span {
      background-color: ${e.input.invalid.enabled.border};
      box-shadow: ${ks({width:r.border.width,color:e.input.invalid.enabled.muted.bg})};
      &::after {
        background: ${e.input.invalid.enabled.muted.bg};
      }
    }

    /* read only */
    &[data-read-only] + span {
      box-shadow: 0 0 0 1px ${e.input.default.readOnly.border};
      background: ${e.input.default.readOnly.bg};

      &::after {
        background: ${e.input.default.readOnly.border};
      }
    }

    /* disabled */
    &:not([data-read-only]):disabled + span {
      box-shadow: 0 0 0 1px ${e.input.default.disabled.border};
      background: ${e.input.default.disabled.bg};

      &::after {
        background: ${e.input.default.disabled.border};
      }
    }
  `}const jBt=F.div(OBt),LBt=F.input(PBt),$Bt=p.forwardRef(function(n,e){const{className:r,disabled:i,style:o,customValidity:s,readOnly:a,...l}=n,c=Ko(e);return cD(c,s),d.jsxs(jBt,{className:r,"data-ui":"Radio",style:o,children:[d.jsx(LBt,{"data-read-only":!i&&a?"":void 0,"data-error":s?"":void 0,...l,disabled:i||a,readOnly:a,ref:c,type:"radio"}),d.jsx("span",{})]})});function MBt(){return Ae`
    position: relative;
    width: -moz-available;
    width: -webkit-fill-available;
    width: stretch;

    &:not([hidden]) {
      display: inline-block;
    }
  `}function FBt(n){const{font:e}=mt(n.theme);return Ae`
    -webkit-font-smoothing: antialiased;
    appearance: none;
    border: 0;
    font-family: ${e.text.family};
    color: inherit;
    width: 100%;
    outline: none;
    margin: 0;

    &:disabled {
      opacity: 1;
    }
  `}function NBt(n){const{color:e,input:r}=mt(n.theme);return Ae`
    /* enabled */
    background-color: ${e.input.default.enabled.bg};
    color: ${e.input.default.enabled.fg};
    box-shadow: ${ks({color:e.input.default.enabled.border,width:r.border.width})};

    /* hovered */
    @media (hover: hover) {
      &:not(:disabled):hover {
        background-color: ${e.input.default.hovered.bg};
        color: ${e.input.default.hovered.fg};
        box-shadow: ${ks({color:e.input.default.hovered.border,width:r.border.width})};
      }
    }

    /* focused */
    &:not(:disabled):focus {
      box-shadow: ${rf({border:{width:r.border.width,color:e.input.default.enabled.border},focusRing:r.select.focusRing})};
    }

    /* read-only */
    &[data-read-only] {
      background-color: ${e.input.default.readOnly.bg};
      color: ${e.input.default.readOnly.fg};
      box-shadow: ${ks({color:e.input.default.readOnly.border,width:r.border.width})};
    }

    /* disabled */
    &:not([data-read-only]):disabled {
      background-color: ${e.input.default.disabled.bg};
      color: ${e.input.default.disabled.fg};
      box-shadow: ${ks({color:e.input.default.disabled.border,width:r.border.width})};
    }
  `}function BBt(n){return{fontSize:Je(n.fontSize),lineHeight:Je(n.lineHeight)}}function UBt(n){const{$fontSize:e}=n,{font:r,media:i}=mt(n.theme);return Xn(i,e,o=>BBt(r.text.sizes[o]||r.text.sizes[2]))}function zBt(){return[Zg,FBt,NBt,UBt,$6t]}function VBt(n){const{color:e}=mt(n.theme);return Ae`
    pointer-events: none;
    position: absolute;
    top: 0;
    right: 0;

    /* enabled */
    --card-fg-color: ${e.input.default.enabled.fg};

    /* hover */
    @media (hover: hover) {
      select:not(disabled):not(:read-only):hover + && {
        --card-fg-color: ${e.input.default.hovered.fg};
      }
    }

    /* disabled */
    select:disabled + && {
      --card-fg-color: ${e.input.default.disabled.fg};
    }

    /* read-only */
    select[data-read-only] + && {
      --card-fg-color: ${e.input.default.readOnly.fg};
    }
  `}const dte={root:MBt,input:zBt,iconBox:VBt},HBt=F.div(dte.root),WBt=F.select(dte.input),GBt=F(te)(dte.iconBox),Sx=p.forwardRef(function(n,e){const{children:r,customValidity:i,disabled:o,fontSize:s=2,padding:a=3,radius:l=2,readOnly:c,space:u=3,...f}=n,h=Ko(e);return cD(h,i),d.jsxs(HBt,{"data-ui":"Select",children:[d.jsx(WBt,{"data-read-only":!o&&c?"":void 0,"data-ui":"Select",...f,$fontSize:ot(s),$padding:ot(a),$radius:ot(l),$space:ot(u),disabled:o||c,ref:h,children:r}),d.jsx(GBt,{padding:a,children:d.jsx(J,{size:s,children:d.jsx(qs,{})})})]})}),qBt={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"},gridTemplateColumns:"minmax(0, 1fr)",gridAutoRows:"min-content"};function KBt(){return qBt}function YBt(n){const{media:e,space:r}=mt(n.theme);return Xn(e,n.$space,i=>({gridGap:Je(r[i])}))}const ZBt=F(te)(KBt,YBt),Se=p.forwardRef(function(n,e){const{as:r,space:i,...o}=n;return d.jsx(ZBt,{"data-as":typeof r=="string"?r:void 0,"data-ui":"Stack",...o,$space:ot(i),forwardedAs:r,ref:e})});function XBt(){return Ae`
    position: relative;
    &:not([hidden]) {
      display: inline-block;
    }
  `}function QBt(){return Ae`
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    padding: 0;
    margin: 0;

    /* Place the input element above the representation element */
    z-index: 1;
  `}function JBt(n){const{color:e,input:r}=mt(n.theme);return Ae`
    --switch-bg-color: ${e.input.default.enabled.border};
    --switch-fg-color: ${e.input.default.enabled.bg};
    --switch-box-shadow: none;

    &:not([hidden]) {
      display: block;
    }
    position: relative;
    width: ${Je(r.switch.width)};
    height: ${Je(r.switch.height)};
    border-radius: ${Je(r.switch.height/2)};

    /* Make sure it’s not possible to interact with the wrapper element */
    pointer-events: none;

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1;
      box-shadow: var(--switch-box-shadow);
      border-radius: inherit;
    }

    /* Focus styles */
    input:focus + && {
      --switch-box-shadow: ${rf({focusRing:r.switch.focusRing})};
    }

    input:focus:not(:focus-visible) + && {
      --switch-box-shadow: none;
    }

    input:checked + && {
      --switch-bg-color: ${e.input.default.enabled.fg};
      --switch-fg-color: ${e.input.default.enabled.bg};
    }

    @media (hover: hover) {
      input:not(:disabled):hover + && {
        --switch-bg-color: ${e.input.default.hovered.border};
        --switch-fg-color: ${e.input.default.hovered.bg};
      }

      input:not(:disabled):checked:hover + && {
        --switch-bg-color: ${e.input.default.enabled.fg};
        --switch-fg-color: ${e.input.default.enabled.bg};
      }
    }

    input:not([data-read-only]):disabled + && {
      --switch-bg-color: ${e.input.default.disabled.border};
      --switch-fg-color: ${e.input.default.disabled.bg};
    }

    input[data-read-only]:disabled + && {
      --switch-bg-color: ${e.input.default.readOnly.border};
      --switch-fg-color: ${e.input.default.readOnly.bg};
    }

    input:checked[data-read-only]:disabled + && {
      --switch-bg-color: ${e.input.default.readOnly.fg};
      --switch-fg-color: ${e.input.default.readOnly.bg};
    }
  `}function e7t(n){const{input:e}=mt(n.theme);return Ae`
    &:not([hidden]) {
      display: block;
    }
    background-color: var(--switch-bg-color);
    position: absolute;
    left: 0;
    top: 0;
    width: ${Je(e.switch.width)};
    height: ${Je(e.switch.height)};
    border-radius: ${Je(e.switch.height/2)};
  `}function t7t(n){const{$indeterminate:e}=n,{input:r}=mt(n.theme),i=r.switch.width,o=r.switch.height,s=r.switch.padding,a=o-r.switch.padding*2,l=i-s*2-a,c=i/2-a/2-s,u=e!==!0&&n.$checked===!0;return Ae`
    &:not([hidden]) {
      display: block;
    }
    position: absolute;
    left: ${Je(s)};
    top: ${Je(s)};
    height: ${Je(a)};
    width: ${Je(a)};
    border-radius: ${Je(a/2)};
    transition-property: transform;
    transition-duration: ${r.switch.transitionDurationMs}ms;
    transition-timing-function: ${r.switch.transitionTimingFunction};
    background: var(--switch-fg-color);
    transform: translate3d(0, 0, 0);
    box-shadow: 0px 1px 0px 0px rgba(0, 0, 0, 0.05);

    ${u&&Ae`
      transform: translate3d(${l}px, 0, 0);
    `}

    ${e&&Ae`
      transform: translate3d(${c}px, 0, 0);
    `}
  `}const n7t=F.span(XBt),r7t=F.input(QBt),i7t=F.span(JBt),o7t=F.span(e7t),s7t=F.span(t7t),fte=p.forwardRef(function(n,e){const{checked:r,className:i,disabled:o,indeterminate:s,readOnly:a,style:l,...c}=n,u=Ko(e);return p.useEffect(()=>{u.current&&(u.current.indeterminate=s||!1)},[s,u]),d.jsxs(n7t,{className:i,"data-ui":"Switch",style:l,children:[d.jsx(r7t,{"data-read-only":!o&&a?"":void 0,...c,checked:s!==!0&&r,disabled:o||a,type:"checkbox",ref:u}),d.jsxs(i7t,{"aria-hidden":!0,"data-name":"representation",children:[d.jsx(o7t,{}),d.jsx(s7t,{$checked:r,$indeterminate:s})]})]})}),a7t=F.span(Xze),l7t=F.span`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`,c7t=F.textarea(ate,Qze,Jze),u7t=F.div(Zg,eVe),d7t=p.forwardRef(function(n,e){const{border:r=!0,customValidity:i,disabled:o=!1,fontSize:s=2,padding:a=3,radius:l=2,weight:c,...u}=n,f=Ko(e),h=DS();return cD(f,i),d.jsx(a7t,{"data-ui":"TextArea",children:d.jsxs(l7t,{children:[d.jsx(c7t,{"data-as":"textarea","data-scheme":h.scheme,"data-tone":h.tone,...u,$fontSize:ot(s),$padding:ot(a),$scheme:h.scheme,$space:ot(0),$tone:h.tone,$weight:c,disabled:o,ref:f}),d.jsx(u7t,{$radius:ot(l),$scheme:h.scheme,$tone:h.tone,"data-border":r?"":void 0,"data-scheme":h.scheme,"data-tone":h.tone})]})})}),f7t={zIndex:2},h7t=F(ke).attrs({forwardedAs:"span"})(Xze),p7t=F.span`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`,m7t=F(ke).attrs({forwardedAs:"span"})`
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`,g7t=F(ke).attrs({forwardedAs:"span"})`
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`,v7t=F.input(ate,Qze,Jze),y7t=F.span(Zg,eVe),b7t=F(te)`
  position: absolute;
  top: 0;
  left: 0;
`,x7t=F(te)`
  position: absolute;
  top: 0;
  right: 0;
`,w7t=F(ke)`
  background-color: transparent;
  position: absolute;
  top: 0;
  right: 0;
`,_7t=F(ui)({"&:not([hidden])":{display:"block"}}),ua=p.forwardRef(function(n,e){const{__unstable_disableFocusRing:r,border:i=!0,clearButton:o,disabled:s=!1,fontSize:a=2,icon:l,iconRight:c,onClear:u,padding:f=3,prefix:h,radius:m=2,readOnly:g,space:v=3,suffix:y,customValidity:b,type:x="text",weight:_,...w}=n,C=Ko(e),S=DS(),T=ot(a),A=ot(f),I=ot(m),D=ot(v),R=!!o,P=!!l,O=!!c,$=!!y,L=!!h;cD(C,b);const M=p.useCallback(K=>{K.preventDefault(),K.stopPropagation()},[]),N=p.useCallback(K=>{var Q;K.preventDefault(),K.stopPropagation(),u&&u(),(Q=C.current)==null||Q.focus()},[u,C]),z=p.useMemo(()=>h&&d.jsx(m7t,{borderTop:!0,borderLeft:!0,borderBottom:!0,radius:I,sizing:"border",tone:"inherit",children:d.jsx("span",{children:h})}),[h,I]),B=p.useMemo(()=>d.jsxs(y7t,{$hasPrefix:L,$unstableDisableFocusRing:r,$hasSuffix:$,$radius:I,$scheme:S.scheme,$tone:S.tone,"data-border":i?"":void 0,"data-scheme":S.scheme,"data-tone":S.tone,children:[l&&d.jsx(b7t,{padding:A,children:d.jsxs(J,{size:T,children:[p.isValidElement(l)&&l,Xr.isValidElementType(l)&&p.createElement(l)]})}),!R&&c&&d.jsx(x7t,{padding:A,children:d.jsxs(J,{size:T,children:[p.isValidElement(c)&&c,Xr.isValidElementType(c)&&p.createElement(c)]})})]}),[r,i,T,l,c,A,I,S,R,L,$]),H=p.useMemo(()=>A.map(K=>K===0?0:K===1||K===2?1:K-2),[A]),X=p.useMemo(()=>A.map(K=>K===0||K===1?0:K===2?1:K-1),[A]),G=p.useMemo(()=>typeof o=="object"?o:Y0,[o]),ne=p.useMemo(()=>!s&&!g&&o&&d.jsx(w7t,{forwardedAs:"span",padding:H,style:f7t,tone:b?"critical":"inherit",children:d.jsx(_7t,{"aria-label":"Clear","data-qa":"clear-button",fontSize:T,icon:Is,mode:"bleed",padding:X,radius:I,...G,onClick:N,onMouseDown:M})}),[o,H,X,G,b,s,T,N,M,I,g]),le=p.useMemo(()=>y&&d.jsx(g7t,{borderTop:!0,borderRight:!0,borderBottom:!0,radius:I,sizing:"border",tone:"inherit",children:d.jsx("span",{children:y})}),[I,y]);return d.jsxs(h7t,{"data-ui":"TextInput",tone:S.tone,children:[z,d.jsxs(p7t,{children:[d.jsx(v7t,{"data-as":"input","data-scheme":S.scheme,"data-tone":S.tone,...w,$fontSize:T,$iconLeft:P,$iconRight:O||R,$padding:A,$scheme:S.scheme,$space:D,$tone:S.tone,$weight:_,disabled:s,readOnly:g,ref:C,type:x}),B,ne]}),le]})});function Tq(n){const[e,r]=p.useState(n),i=p.useRef(),o=p.useCallback((s,a)=>{const l=()=>{r(s)};if(i.current&&(clearTimeout(i.current),i.current=void 0),!a)return l();i.current=setTimeout(l,a)},[]);return[e,o]}const E7t=15,C7t=6,S7t=2,k7t=4,XO=4,T7t={top:["top-end","top-start","bottom","left","right"],"top-start":["top","top-end","bottom-start","left-start","right-start"],"top-end":["top","top-start","bottom-end","left-end","right-end"],bottom:["bottom-end","bottom-start","top","left","right"],"bottom-start":["bottom","bottom-end","top-start","left-start","right-start"],"bottom-end":["bottom","bottom-start","top-end","left-end","right-end"],left:["left-end","left-start","right","top","bottom"],"left-start":["left","left-end","right-start","top-start","bottom-start"],"left-end":["left","left-start","right-end","top-end","bottom-end"],right:["right-end","right-start","left","top","bottom"],"right-start":["right","right-end","left-start","top-start","bottom-start"],"right-end":["right","right-start","left-end","top-end","bottom-end"]},A7t=F(Xa(ke))`
  & > * {
    opacity: var(${yg}, 1);
    will-change: opacity;
  }
`,hVe=p.memo(p.forwardRef(function(n,e){const{animate:r,arrow:i,arrowRef:o,arrowX:s,arrowY:a,children:l,originX:c,originY:u,padding:f,placement:h,radius:m,scheme:g,shadow:v,style:y,...b}=n,x=p.useMemo(()=>({originX:c,originY:u,willChange:r?"transform":void 0,...y}),[r,c,u,y]),_=p.useMemo(()=>({left:s!==null?s:void 0,top:a!==null?a:void 0,right:void 0,bottom:void 0}),[s,a]);return d.jsxs(A7t,{"data-ui":"Tooltip__card",...b,"data-placement":h,padding:f,radius:m,ref:e,scheme:g,shadow:v,style:x,...r?Nze:{},children:[l,i&&d.jsx(sVe,{ref:o,style:_,width:E7t,height:C7t,radius:S7t})]})}));hVe.displayName="TooltipCard";const Aq=Symbol.for("@sanity/ui/context/tooltipDelayGroup");si[Aq]=si[Aq]||p.createContext(null);const pVe=si[Aq];function I7t(){return p.useContext(pVe)}function D7t(n){const{children:e,delay:r}=n,[i,o]=Tq(!1),[s,a]=Tq(null),l=typeof r=="number"?r:(r==null?void 0:r.open)||0,c=typeof r=="number"?r:(r==null?void 0:r.close)||0,u=p.useMemo(()=>({isGroupActive:i,setIsGroupActive:o,openTooltipId:s,setOpenTooltipId:a,openDelay:i?1:l,closeDelay:c}),[c,i,l,s,o,a]);return d.jsx(pVe.Provider,{value:u,children:e})}const R7t=F(Cu)`
  pointer-events: none;
  max-width: ${({$maxWidth:n})=>n}px;
`,_pe=p.forwardRef(function(n,e){var r,i,o,s,a,l,c;const u=Jx(),{layer:f}=Yg(),{animate:h=!1,arrow:m=!1,boundaryElement:g=u==null?void 0:u.element,children:v,content:y,disabled:b,fallbackPlacements:x=(i=n.fallbackPlacements)!=null?i:T7t[(r=n.placement)!=null?r:"bottom"],padding:_=2,placement:w="bottom",portal:C,radius:S=2,scheme:T,shadow:A=2,zOffset:I=f.tooltip.zOffset,delay:D,...R}=n,P=h6()?!1:h,O=ot(x),$=Ko(e),[L,M]=p.useState(null),N=p.useRef(null),z="viewport",B=Ly(),H=typeof C=="string"?((o=B.elements)==null?void 0:o[C])||null:B.element,X=p.useMemo(()=>{const yt=[...g?[g.offsetWidth]:[],(H==null?void 0:H.offsetWidth)||document.body.offsetWidth];return Math.min(...yt)-XO*2},[g,H==null?void 0:H.offsetWidth]),G=p.useMemo(()=>{const yt=[];return yt.push(V8({boundary:g||void 0,fallbackPlacements:O,padding:XO,rootBoundary:z})),yt.push(F8({mainAxis:k7t})),yt.push(z8({boundary:g||void 0,rootBoundary:z,padding:XO})),m&&yt.push(yUe({element:N,padding:XO})),P&&yt.push(oVe),yt},[P,m,g,O]),{floatingStyles:ne,placement:le,middlewareData:K,refs:Q,update:re}=xUe({middleware:G,placement:w,whileElementsMounted:U8}),se=(s=K.arrow)==null?void 0:s.x,de=(a=K.arrow)==null?void 0:a.y,fe=(l=K["@sanity/ui/origin"])==null?void 0:l.originX,we=(c=K["@sanity/ui/origin"])==null?void 0:c.originY,ye=p.useId(),[ve,_e]=Tq(!1),ge=I7t(),pe=ve||(ge==null?void 0:ge.openTooltipId)===ye,Pe=ge!==null,Re=typeof D=="number"?D:(D==null?void 0:D.open)||0,Fe=typeof D=="number"?D:(D==null?void 0:D.close)||0,Ye=Pe?ge.openDelay:Re,He=Pe?ge.closeDelay:Fe,lt=p.useCallback((yt,Gt)=>{if(Pe)if(yt){const Lt=Gt?0:Ye;ge.setIsGroupActive(yt,Lt),ge.setOpenTooltipId(ye,Lt)}else{const Lt=He>200?He:200;ge.setIsGroupActive(yt,Lt),ge.setOpenTooltipId(null,Gt?0:He)}else _e(yt,Gt?0:yt?Ye:He)},[Pe,ge,Ye,ye,He,_e]),Xe=p.useCallback(yt=>{var Gt,Lt;lt(!1),(Lt=(Gt=v==null?void 0:v.props)==null?void 0:Gt.onBlur)==null||Lt.call(Gt,yt)},[v==null?void 0:v.props,lt]),st=p.useCallback(yt=>{var Gt,Lt;lt(!1,!0),(Lt=v==null?void 0:(Gt=v.props).onClick)==null||Lt.call(Gt,yt)},[v==null?void 0:v.props,lt]),kt=p.useCallback(yt=>{var Gt,Lt;lt(!1,!0),(Lt=v==null?void 0:(Gt=v.props).onContextMenu)==null||Lt.call(Gt,yt)},[v==null?void 0:v.props,lt]),Ge=p.useCallback(yt=>{var Gt,Lt;lt(!0),(Lt=(Gt=v==null?void 0:v.props)==null?void 0:Gt.onFocus)==null||Lt.call(Gt,yt)},[v==null?void 0:v.props,lt]),gt=p.useCallback(yt=>{var Gt,Lt;lt(!0),(Lt=(Gt=v==null?void 0:v.props)==null?void 0:Gt.onMouseEnter)==null||Lt.call(Gt,yt)},[v==null?void 0:v.props,lt]),At=p.useCallback(yt=>{var Gt,Lt;lt(!1),(Lt=(Gt=v==null?void 0:v.props)==null?void 0:Gt.onMouseLeave)==null||Lt.call(Gt,yt)},[v==null?void 0:v.props,lt]);p.useEffect(()=>{if(!pe)return;function yt(Gt){L&&(L===Gt.target||Gt.target instanceof Node&&L.contains(Gt.target)||(lt(!1),window.removeEventListener("mousemove",yt)))}return window.addEventListener("mousemove",yt),()=>{window.removeEventListener("mousemove",yt)}},[pe,L,lt]),p.useEffect(()=>{b&&pe&&lt(!1)},[b,lt,pe]),p.useEffect(()=>{!y&&pe&&lt(!1)},[y,lt,pe]),p.useEffect(()=>Q.setReference(L),[L,Q]),p.useEffect(()=>{if(!pe)return;function yt(Gt){Gt.key==="Escape"&&lt(!1,!0)}return window.addEventListener("keydown",yt),()=>{window.removeEventListener("keydown",yt)}},[lt,pe]);const Dt=p.useCallback(yt=>{N.current=yt,re()},[re]),at=p.useCallback(yt=>{$.current=yt,Q.setFloating(yt)},[$,Q]),tt=v==null?void 0:v.ref,it=p.useCallback(yt=>{typeof tt=="function"?tt(yt):tt&&(tt.current=yt),M(yt)},[tt]),jt=p.useMemo(()=>v?p.cloneElement(v,{onBlur:Xe,onFocus:Ge,onMouseEnter:gt,onMouseLeave:At,onClick:st,onContextMenu:kt,ref:it}):null,[v,Xe,st,kt,Ge,gt,At,it]);if(!jt)return d.jsx(d.Fragment,{});if(b)return jt;const $t=d.jsx(R7t,{"data-ui":"Tooltip",...R,ref:at,style:ne,zOffset:I,$maxWidth:X,children:d.jsx(hVe,{...R,animate:P,arrow:m,arrowRef:Dt,arrowX:se,arrowY:de,originX:fe,originY:we,padding:_,placement:le,radius:S,ref:at,scheme:T,shadow:A,children:y})});return d.jsxs(d.Fragment,{children:[d.jsx(T3,{condition:P,wrapper:yt=>d.jsx(Zp,{children:yt}),children:pe&&d.jsx(T3,{condition:!!C,wrapper:yt=>d.jsx(ew,{__unstable_name:typeof C=="string"?C:void 0,children:yt}),children:$t})}),jt]})}),O7t=F.div`
  line-height: 0;
`,P7t=F(te)`
  & > ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
`,j7t=Kp`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`,L7t=F(Gx)`
  animation: ${j7t} 500ms linear infinite;
`;function $7t(n){const{children:e,id:r,onSelect:i,selected:o,value:s}=n,a=p.useCallback(()=>{setTimeout(()=>{i(s)},0)},[i,s]),l=p.useCallback(c=>{c.key==="Enter"&&!lBt(c.currentTarget)&&a()},[a]);return d.jsx("li",{"aria-selected":o,"data-ui":"AutocompleteOption",id:r,role:"option",onClick:a,onKeyDown:l,children:e})}function M7t(n,e){return e.type==="input/change"?{...n,activeValue:null,focused:!0,query:e.query}:e.type==="input/focus"?{...n,focused:!0}:e.type==="root/blur"?{...n,focused:!1,query:null}:e.type==="root/clear"?{...n,activeValue:null,query:null,value:null}:e.type==="root/escape"?{...n,focused:!1,query:null}:e.type==="root/open"?{...n,query:n.query||e.query}:e.type==="root/setActiveValue"?{...n,activeValue:e.value,listFocused:e.listFocused||n.listFocused}:e.type==="root/setListFocused"?{...n,listFocused:e.listFocused}:e.type==="value/change"?{...n,activeValue:e.value,query:null,value:e.value}:n}const F7t=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],N7t="bottom-start",B7t=["bottom-start","top-start"],U7t=(n,e)=>e?e.value:n,z7t=(n,e)=>e.value.toLowerCase().indexOf(n.toLowerCase())>-1,V7t=p.forwardRef(function(n,e){const{border:r=!0,customValidity:i,disabled:o,filterOption:s,fontSize:a=2,icon:l,id:c,listBox:u=Y0,loading:f,onBlur:h,onChange:m,onFocus:g,onQueryChange:v,onSelect:y,openButton:b,options:x,padding:_=3,popover:w=Y0,prefix:C,radius:S=2,readOnly:T,relatedElements:A,renderOption:I,renderPopover:D,renderValue:R=U7t,suffix:P,value:O,...$}=n,[L,M]=p.useReducer(M7t,{activeValue:O||null,focused:!1,listFocused:!1,query:null,value:O||null}),{activeValue:N,focused:z,listFocused:B,query:H,value:X}=L,G=p.useCallback(({value:Ct})=>d.jsx(ke,{"data-as":"button",padding:_,radius:2,tone:"inherit",children:d.jsx(J,{size:a,textOverflow:"ellipsis",children:Ct})}),[a,_]),ne=typeof I=="function"?I:G,le=typeof s=="function"?s:z7t,K=p.useRef(null),Q=p.useRef(null),re=p.useRef(null),se=p.useRef(null),de=p.useRef(!1),fe=p.useRef(X),we=p.useRef(O),ye=p.useRef(!1),ve=Ko(e),_e=`${c}-listbox`,ge=Array.isArray(x)?x:aD,pe=ot(_),Pe=p.useMemo(()=>X!==null?ge.find(Ct=>Ct.value===X):void 0,[ge,X]),Re=p.useMemo(()=>ge.filter(Ct=>H?le(H,Ct):!0),[le,ge,H]),Fe=Re.length,Ye=N?`${c}-option-${N}`:void 0,He=H!==null&&f||z&&H!==null,lt=p.useCallback(Ct=>{setTimeout(()=>{if(ye.current)return;const ht=(A||[]).concat(K.current?[K.current]:[],Q.current?[Q.current]:[]);let en=!1;if(document.activeElement){for(const Hn of ht)if(Hn===document.activeElement||Hn.contains(document.activeElement)){en=!0;break}}en===!1&&(M({type:"root/blur"}),ye.current=!1,v&&v(null),h&&h(Ct))},0)},[h,v,A]),Xe=p.useCallback(Ct=>{const ht=se.current,en=Ct.target instanceof HTMLElement?Ct.target:null,Hn=(ht==null?void 0:ht.contains(en))||!1;Hn!==de.current&&(de.current=Hn,M({type:"root/setListFocused",listFocused:Hn}))},[]),st=p.useCallback(Ct=>{var ht;M({type:"value/change",value:Ct}),ye.current=!1,y&&y(Ct),fe.current=Ct,m&&m(Ct),v&&v(null),(ht=re.current)==null||ht.focus()},[m,y,v]),kt=p.useCallback(Ct=>{var ht,en;if(Ct.key==="ArrowDown"){if(Ct.preventDefault(),!Fe)return;const _i=Re.find(jo=>jo.value===N),Li=_i?Re.indexOf(_i):-1,vo=Re[(Li+1)%Fe];vo&&M({type:"root/setActiveValue",value:vo.value,listFocused:!0});return}if(Ct.key==="ArrowUp"){if(Ct.preventDefault(),!Fe)return;const _i=Re.find(jo=>jo.value===N),Li=_i?Re.indexOf(_i):-1,vo=Re[Li===-1?Fe-1:(Fe+Li-1)%Fe];vo&&M({type:"root/setActiveValue",value:vo.value,listFocused:!0});return}if(Ct.key==="Escape"){M({type:"root/escape"}),ye.current=!1,v&&v(null),(ht=re.current)==null||ht.focus();return}const Hn=Ct.target,rr=se.current;if((rr===Hn||rr!=null&&rr.contains(Hn))&&!F7t.includes(Ct.key)){(en=re.current)==null||en.focus();return}},[N,Re,Fe,v]),Ge=p.useCallback(Ct=>{const ht=Ct.currentTarget.value;M({type:"input/change",query:ht}),v&&v(ht)},[v]),gt=p.useCallback(Ct=>{z||(M({type:"input/focus"}),g&&g(Ct))},[z,g]),At=p.useCallback(()=>{ye.current=!0},[]),Dt=p.useCallback(()=>{ye.current=!1},[]),at=p.useCallback(()=>{var Ct;M({type:"root/clear"}),fe.current="",m&&m(""),v&&v(null),(Ct=re.current)==null||Ct.focus()},[m,v]),tt=p.useCallback(()=>{M({type:"input/focus"})},[]);p.useEffect(()=>{if(O!==we.current){we.current=O,O!==void 0&&(M({type:"value/change",value:O}),fe.current=O);return}O!==fe.current&&(fe.current=O||null,M({type:"value/change",value:O||null}))},[O]),p.useEffect(()=>{!z&&fe.current&&M({type:"root/setActiveValue",value:fe.current})},[z]),p.useEffect(()=>{const Ct=se.current;if(!Ct)return;const ht=Re.find(en=>en.value===N);if(ht){const en=Re.indexOf(ht),Hn=Ct.childNodes[en];if(Hn){if(fBt(Hn))return;Cx(Hn)}}},[N,Re]);const it=p.useCallback(Ct=>{re.current=Ct,ve.current=Ct},[ve]),jt=p.useMemo(()=>{if(!f&&!o&&X)return{"aria-label":"Clear",onFocus:tt}},[o,tt,f,X]),$t=p.useMemo(()=>pe.map(Ct=>Ct===0?0:Ct===1||Ct===2?1:Ct-2),[pe]),yt=p.useMemo(()=>pe.map(Ct=>Math.max(Ct-1,0)),[pe]),Gt=p.useMemo(()=>typeof b=="object"?b:Y0,[b]),Lt=p.useCallback(Ct=>{M({type:"root/open",query:X?R(X,Pe):""}),Gt.onClick&&Gt.onClick(Ct),Cq(()=>{var ht;return(ht=re.current)==null?void 0:ht.focus()})},[Pe,Gt,R,X]),Vn=p.useMemo(()=>!o&&!T&&b?d.jsx(te,{"aria-hidden":He,padding:$t,children:d.jsx(ui,{"aria-label":"Open",disabled:He,fontSize:a,icon:qs,mode:"bleed",padding:yt,...Gt,onClick:Lt})}):void 0,[o,He,a,Lt,b,$t,yt,Gt,T]),Oo=p.useMemo(()=>H===null?X!==null?R(X,Pe):"":H,[Pe,H,R,X]),Po=d.jsx(ua,{...$,"aria-activedescendant":Ye,"aria-autocomplete":"list","aria-expanded":He,"aria-owns":_e,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",border:r,clearButton:jt,customValidity:i,disabled:o,fontSize:a,icon:l,iconRight:f&&L7t,id:c,inputMode:"search",onChange:Ge,onClear:at,onFocus:gt,padding:pe,prefix:C,radius:S,readOnly:T,ref:it,role:"combobox",spellCheck:!1,suffix:P||Vn,value:Oo}),wi=p.useCallback(Ct=>{var ht;Ct.key==="Tab"&&B&&((ht=re.current)==null||ht.focus())},[B]),pr=p.useMemo(()=>Re.length===0?null:d.jsx(P7t,{"data-ui":"AutoComplete__results",onKeyDown:wi,padding:1,...u,tabIndex:-1,children:d.jsx(Se,{as:"ul","aria-multiselectable":!1,"data-ui":"AutoComplete__resultsList",id:_e,ref:se,role:"listbox",space:1,children:Re.map(Ct=>{const ht=N!==null?Ct.value===N:Pe===Ct;return d.jsx($7t,{id:`${c}-option-${Ct.value}`,onSelect:st,selected:ht,value:Ct.value,children:p.cloneElement(ne(Ct),{disabled:f,selected:ht,tabIndex:B&&ht?0:-1})},Ct.value)})})}),[N,Pe,Re,st,wi,c,u,_e,B,f,ne]),fn=p.useMemo(()=>D?D({content:pr,hidden:!He,inputElement:re.current,onMouseEnter:At,onMouseLeave:Dt},Q):Fe===0?null:d.jsx($y,{arrow:!1,constrainSize:!0,content:pr,fallbackPlacements:B7t,matchReferenceWidth:!0,onMouseEnter:At,onMouseLeave:Dt,open:He,overflow:"auto",placement:N7t,portal:!0,radius:S,ref:Q,referenceElement:re.current,...w}),[pr,He,Fe,At,Dt,w,S,D]);return d.jsxs(O7t,{"data-ui":"Autocomplete",onBlur:lt,onFocus:Xe,onKeyDown:kt,ref:K,children:[Po,fn]})}),hte=V7t,H7t=F.ol`
  margin: 0;
  padding: 0;
  display: flex;
  list-style: none;
  align-items: center;
  white-space: nowrap;
  line-height: 0;
`,W7t=F(ui)`
  appearance: none;
  margin: -4px;
`,mVe=p.forwardRef(function(n,e){const{children:r,maxLength:i,separator:o,space:s=2,...a}=n,l=ot(s),[c,u]=p.useState(!1),[f,h]=p.useState(null),[m,g]=p.useState(null),v=p.useCallback(()=>u(!1),[]),y=p.useCallback(()=>u(!0),[]);ki(v,[f,m]);const b=p.useMemo(()=>p.Children.toArray(r).filter(_=>p.isValidElement(_)),[r]),x=p.useMemo(()=>{const _=b.length;if(i&&_>i){const w=Math.ceil(i/2),C=Math.floor(i/2);return[...b.slice(0,w-1),d.jsx($y,{constrainSize:!0,content:d.jsx(Se,{as:"ol",overflow:"auto",padding:l,space:l,children:b.slice(w-1,_-C)}),open:c,placement:"top",portal:!0,ref:g,children:d.jsx(W7t,{fontSize:1,mode:"bleed",onClick:c?v:y,padding:1,ref:h,selected:c,text:"…"})},"button"),...b.slice(_-C)]}return b},[v,y,i,c,b,l]);return d.jsx(H7t,{"data-ui":"Breadcrumbs",...a,ref:e,children:x.map((_,w)=>d.jsxs(p.Fragment,{children:[w>0&&d.jsx(te,{"aria-hidden":!0,as:"li",paddingX:l,children:o||d.jsx(J,{muted:!0,children:"/"})}),d.jsx(te,{as:"li",children:_})]},w))})});function G7t({theme:n}){const{color:e}=mt(n);return{"&:not([hidden])":{display:"flex"},top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",outline:"none",background:e.backdrop}}function q7t(n){const{media:e}=mt(n.theme);return Xn(e,n.$position,r=>({"&&":{position:r}}))}function K7t(n){return n.$animate?Ae`
    @keyframes zoomIn {
      from {
        opacity: 0;
        transform: scale(0.95);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }
    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    animation: fadeIn 200ms ease-out;
    // Animates the dialog card.
    & > [data-ui='DialogCard'] {
      animation: zoomIn 200ms ease-out;
    }
  `:Ae``}const Iq=Symbol.for("@sanity/ui/context/dialog");si[Iq]=si[Iq]||p.createContext({version:0});const gVe=si[Iq];function Y7t(){return p.useContext(gVe)}function Dq(n,e,r){return!n||!e?!0:Sq(n,r)||Sq(e,r)}const Z7t=F(Cu)(tVe,G7t,q7t,K7t),X7t=F(Ya)`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  height: 100%;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`,Q7t=F(ke)`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  min-height: 0;
  max-height: 100%;
  overflow: hidden;
  overflow: clip;
`,J7t=F(oe)`
  flex: 1;
  min-height: 0;
  width: 100%;
`,e9t=F(te)`
  position: relative;
  z-index: 2;
`,t9t=F(te)`
  position: relative;
  z-index: 1;
  overflow: auto;
  outline: none;
`,n9t=F(te)`
  position: relative;
  z-index: 3;
`,r9t=p.forwardRef(function(n,e){var r;const{__unstable_autoFocus:i,__unstable_hideCloseButton:o,children:s,contentRef:a,footer:l,header:c,id:u,onClickOutside:f,onClose:h,portal:m,radius:g,scheme:v,shadow:y,width:b}=n,x=Ly(),_=m?((r=x.elements)==null?void 0:r[m])||null:x.element,w=Jx().element,C=ot(g),S=ot(y),T=ot(b),A=Ko(e),[I,D]=p.useState(null),R=p.useRef(null),P=Eu(),{isTopLayer:O}=P,$=`${u}_label`,L=!!h&&o===!1,M=!!c||L;p.useEffect(()=>{i&&A.current&&Cx(A.current)},[i,A]),wu(p.useCallback(B=>{if(!O||!h)return;const H=document.activeElement;H&&!Dq(w,_,H)||B.key==="Escape"&&(B.preventDefault(),B.stopPropagation(),h())},[w,O,h,_])),ki(p.useCallback(B=>{if(!O||!f)return;const H=B.target;H&&!Dq(w,_,H)||f()},[w,O,f,_]),[I]);const N=p.useCallback(B=>{D(B),A.current=B},[A]),z=p.useCallback(B=>{R.current=B,typeof a=="function"?a(B):a&&(a.current=B)},[a]);return d.jsx(X7t,{"data-ui":"DialogCard",width:T,children:d.jsx(Q7t,{radius:C,ref:N,scheme:v,shadow:S,children:d.jsxs(J7t,{direction:"column",children:[M&&d.jsx(e9t,{children:d.jsxs(oe,{align:"center",padding:3,children:[d.jsx(te,{flex:1,padding:2,children:c&&d.jsx(J,{id:$,size:1,weight:"semibold",children:c})}),L&&d.jsx(te,{flex:"none",children:d.jsx(ui,{"aria-label":"Close dialog",disabled:!h,icon:Is,mode:"bleed",onClick:h,padding:2})})]})}),d.jsx(t9t,{flex:1,ref:z,tabIndex:-1,children:s}),l&&d.jsx(n9t,{children:l})]})})})}),vVe=p.forwardRef(function(n,e){var r;const i=Y7t(),{layer:o}=Yg(),{__unstable_autoFocus:s=!0,__unstable_hideCloseButton:a=!1,cardRadius:l=4,cardShadow:c=3,children:u,contentRef:f,footer:h,header:m,id:g,onActivate:v,onClickOutside:y,onClose:b,onFocus:x,padding:_=3,portal:w,position:C=i.position||"fixed",scheme:S,width:T=0,zOffset:A=i.zOffset||o.dialog.zOffset,animate:I=!1,...D}=n,R=h6()?!1:I,P=Ly(),O=w?((r=P.elements)==null?void 0:r[w])||null:P.element,$=Jx().element,L=ot(l),M=ot(_),N=ot(C),z=ot(T),B=ot(A),H=p.useRef(null),X=p.useRef(null),G=p.useRef(null),ne=p.useRef(null),le=p.useCallback(se=>{x==null||x(se);const de=se.target,fe=G.current;if(fe&&de===H.current){ute(fe);return}if(fe&&de===X.current){Cx(fe);return}Xp(se.target)&&(ne.current=se.target)},[x]),K=`${g}_label`,Q=p.useRef(),re=p.useCallback(()=>{Q.current&&clearTimeout(Q.current),Q.current=setTimeout(()=>{const se=document.activeElement;if(se&&!Dq($,O,se)){const de=ne.current;if(!de||!document.body.contains(de)){const fe=G.current;fe&&Cx(fe);return}de.focus()}},0)},[$,O]);return d.jsx(ew,{__unstable_name:w,children:d.jsxs(Z7t,{...D,$animate:R,$padding:M,$position:N,"aria-labelledby":K,"aria-modal":!0,"data-ui":"Dialog",id:g,onActivate:v,onClick:re,onFocus:le,ref:e,role:"dialog",zOffset:B,children:[d.jsx("div",{ref:H,tabIndex:0}),d.jsx(r9t,{__unstable_autoFocus:s,__unstable_hideCloseButton:a,contentRef:f,footer:h,header:m,id:g,onClickOutside:y,onClose:b,portal:w,radius:L,ref:G,scheme:S,shadow:c,width:z,children:u}),d.jsx("div",{ref:X,tabIndex:0})]})})});function Rq(n){const{children:e,position:r,zOffset:i}=n,o=p.useMemo(()=>({version:0,position:r,zOffset:i}),[r,i]);return d.jsx(gVe.Provider,{value:o,children:e})}const i9t=F.kbd`
  font: inherit;
  padding: 1px;

  &:not([hidden]) {
    display: block;
  }
`,o9t=F(KNt)`
  &:not([hidden]) {
    display: block;
  }
`,g6=p.forwardRef(function(n,e){const{fontSize:r,keys:i,padding:o,radius:s,space:a=.5,...l}=n,c=ot(a);return!i||i.length===0?d.jsx(d.Fragment,{}):d.jsx(i9t,{"data-ui":"Hotkeys",...l,ref:e,children:d.jsx(to,{as:"span",space:c,children:i.map((u,f)=>d.jsx(o9t,{fontSize:r,padding:o,radius:s,children:u},f))})})}),Oq=Symbol.for("@sanity/ui/context/menu");si[Oq]=si[Oq]||p.createContext(null);const yVe=si[Oq];function s9t(n){return lte(n)&&n.getAttribute("data-disabled")!=="true"||cte(n)&&!n.disabled}function Yw(n){return n.filter(s9t)}function a9t(n,e){const r=[];let i=e;for(;i!==n;){const o=i.parentElement;if(!o)return r;const s=Array.from(o.childNodes).indexOf(i);if(r.unshift(s),o===n)return r;i=o}return r}const Epe=[];function l9t(n,e){if(!n)return;const r=new WeakMap;for(const o of e)r.set(o,a9t(n,o));const i=(o,s)=>{const a=r.get(o)||Epe,l=r.get(s)||Epe,c=Math.max(a.length,l.length);for(let u=0;u<c;u+=1){const f=a[u]||-1,h=l[u]||-1;if(f!==h)return f-h}return 0};e.sort(i)}function c9t(n){const{onKeyDown:e,originElement:r,shouldFocus:i}=n,o=p.useRef([]),[s,a]=p.useState(null),[l,c]=p.useState(-1),u=p.useRef(l),f=o.current[l]||null,h=!!s,m=p.useCallback(x=>{c(x),u.current=x},[]),g=p.useCallback((x,_)=>{if(!x)return()=>{};if(o.current.indexOf(x)===-1&&(o.current.push(x),l9t(s,o.current)),_){const w=o.current.indexOf(x);m(w)}return()=>{const w=o.current.indexOf(x);w>-1&&o.current.splice(w,1)}},[s,m]),v=p.useCallback(x=>{if(x.key==="Tab"){r&&r.focus();return}if(x.key==="Home"){x.preventDefault(),x.stopPropagation();const _=Yw(o.current)[0];if(!_)return;const w=o.current.indexOf(_);m(w);return}if(x.key==="End"){x.preventDefault(),x.stopPropagation();const _=Yw(o.current),w=_[_.length-1];if(!w)return;const C=o.current.indexOf(w);m(C);return}if(x.key==="ArrowUp"){x.preventDefault(),x.stopPropagation();const _=Yw(o.current),w=_.length;if(w===0)return;const C=o.current[u.current];let S=_.indexOf(C);S=(S-1+w)%w;const T=_[S],A=o.current.indexOf(T);m(A);return}if(x.key==="ArrowDown"){x.preventDefault(),x.stopPropagation();const _=Yw(o.current),w=_.length;if(w===0)return;const C=o.current[u.current];let S=_.indexOf(C);S=(S+1)%w;const T=_[S],A=o.current.indexOf(T);m(A);return}e&&e(x)},[e,r,m]),y=p.useCallback(x=>{const _=x.currentTarget,w=o.current.indexOf(_);m(w)},[m]),b=p.useCallback(()=>{m(-2),s==null||s.focus()},[m,s]);return p.useEffect(()=>{if(!h)return;const x=window.requestAnimationFrame(()=>{const _=u.current;if(_===-1){if(i==="first"){const C=Yw(o.current)[0];if(C){const S=o.current.indexOf(C);m(S),u.current=S}}if(i==="last"){const C=Yw(o.current),S=C[C.length-1];if(S){const T=o.current.indexOf(S);m(T),u.current=T}}return}const w=o.current[_]||null;w==null||w.focus()});return()=>{window.cancelAnimationFrame(x)}},[l,h,m,i]),{activeElement:f,activeIndex:l,handleItemMouseEnter:y,handleItemMouseLeave:b,handleKeyDown:v,mount:g,rootElement:s,setRootElement:a}}const u9t=F(te)`
  outline: none;
  overflow: auto;
`,_r=p.forwardRef(function(n,e){const{children:r,focusFirst:i,focusLast:o,onClickOutside:s,onEscape:a,onItemClick:l,onItemSelect:c,onKeyDown:u,originElement:f,padding:h=1,registerElement:m,shouldFocus:g=n.focusFirst&&"first"||n.focusLast&&"last"||null,space:v=1,...y}=n,b=Ko(e),{isTopLayer:x}=Eu(),{activeElement:_,activeIndex:w,handleItemMouseEnter:C,handleItemMouseLeave:S,handleKeyDown:T,mount:A,rootElement:I,setRootElement:D}=c9t({onKeyDown:u,originElement:f,shouldFocus:g}),R=p.useCallback(O=>{D(O),b.current=O},[b,D]);p.useEffect(()=>{c&&c(w)},[w,c]),ki(p.useCallback(O=>x&&s&&s(O),[x,s]),[I]),wu(p.useCallback(O=>{x&&O.key==="Escape"&&(O.stopPropagation(),a&&a())},[x,a])),p.useEffect(()=>{if(!(!I||!m))return m(I)},[m,I]);const P=p.useMemo(()=>({version:0,activeElement:_,activeIndex:w,mount:A,onClickOutside:s,onEscape:a,onItemClick:l,onItemMouseEnter:C,onItemMouseLeave:S,registerElement:m,onMouseEnter:C,onMouseLeave:S}),[_,w,A,C,S,s,a,l,m]);return d.jsx(yVe.Provider,{value:P,children:d.jsx(u9t,{"data-ui":"Menu",...y,onKeyDown:T,padding:h,ref:R,role:"menu",tabIndex:-1,children:d.jsx(Se,{space:v,children:r})})})}),d9t=p.forwardRef(function(n,e){const{__unstable_disableRestoreFocusOnClose:r=!1,boundaryElement:i,button:o,id:s,menu:a,onClose:l,onOpen:c,placement:u,popoverScheme:f,portal:h=!0,popover:m,popoverRadius:g,preventOverflow:v}=n,[y,b]=p.useState(!1),[x,_]=p.useState(null),[w,C]=p.useState(null),[S,T]=p.useState([]),A=p.useRef(y);p.useEffect(()=>{c&&y&&!A.current&&c()},[c,y]),p.useEffect(()=>{l&&!y&&A.current&&l()},[l,y]),p.useEffect(()=>{A.current=y},[y]);const I=p.useCallback(()=>{b(G=>!G),_(null)},[]),D=p.useCallback(G=>{y&&G.preventDefault()},[y]),R=p.useCallback(G=>{if(G.key==="ArrowDown"||G.key==="Enter"||G.key===" "){G.preventDefault(),b(!0),_("first");return}if(G.key==="ArrowUp"){G.preventDefault(),b(!0),_("last");return}},[]),P=p.useCallback(G=>{const ne=G.target;if(ne instanceof Node&&!(w&&(ne===w||w.contains(ne)))){for(const le of S)if(ne===le||le.contains(ne))return;b(!1)}},[w,S]),O=p.useCallback(()=>{b(!1),!r&&w&&w.focus()},[w,r]),$=p.useCallback(G=>{const ne=G.relatedTarget;if(ne instanceof Node){for(const le of S)if(le===ne||le.contains(ne))return;b(!1)}},[S]),L=p.useCallback(()=>{b(!1),!r&&w&&w.focus()},[w,r]),M=p.useCallback(G=>(T(ne=>ne.concat([G])),()=>{T(ne=>ne.filter(le=>le!==G))}),[]),N=p.useMemo(()=>({"aria-labelledby":s,onBlurCapture:$,onClickOutside:P,onEscape:O,onItemClick:L,originElement:w,registerElement:M,shouldFocus:x}),[w,P,O,L,s,$,M,x]),z=Xr.isElement(a)?p.cloneElement(a,N):null,B=p.useCallback(G=>{typeof e=="function"?e(G):e&&(e.current=G),C(G)},[e]),H=p.useMemo(()=>Xr.isElement(o)?p.cloneElement(o,{"data-ui":"MenuButton",id:s,onClick:I,onKeyDown:R,onMouseDown:D,"aria-haspopup":!0,"aria-expanded":y,ref:B,selected:y}):null,[o,I,R,D,s,y,B]),X=p.useMemo(()=>({boundaryElement:i,overflow:"auto",placement:u,portal:h,preventOverflow:v,radius:g,scheme:f,...m||{}}),[i,u,g,f,h,v,m]);return d.jsx($y,{"data-ui":"MenuButton__popover",...X,content:z,open:y,children:H||d.jsx(d.Fragment,{})})}),Io=F.hr`
  height: 1px;
  border: 0;
  background: var(--card-hairline-soft-color);
  margin: 0;
`;function f9t(){return Ae`
    background-color: inherit;
    color: inherit;

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -moz-available;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      text-decoration: none;
    }
  `}function h9t(n){var e;const{$tone:r}=n,{color:i,style:o}=mt(n.theme),s=i.selectable[r];return Ae`
    ${$r(i,s.enabled)}

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);
    outline: none;

    /* &:is(button) */
    &[data-as='button'] {
      &:disabled {
        ${$r(i,s.disabled)}
      }

      &:not(:disabled) {
        &[aria-pressed='true'] {
          ${$r(i,s.pressed)}
        }

        &[data-selected],
        &[aria-selected='true'] > & {
          ${$r(i,s.selected)}
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              ${$r(i,s.hovered)}
            }

            &:active {
              ${$r(i,s.pressed)}
            }
          }
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      &[data-disabled] {
        ${$r(i,s.disabled)}
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          ${$r(i,s.pressed)}
        }

        &[data-selected] {
          ${$r(i,s.selected)}
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              ${$r(i,s.hovered)}
            }
            &:active {
              ${$r(i,s.pressed)}
            }
          }
        }
      }
    }

    ${(e=o==null?void 0:o.card)==null?void 0:e.root}
  `}const bVe=F(te)(Zg,f9t,h9t);function xVe(){const n=p.useContext(yVe);if(!n)throw new Error("useMenu(): missing context value");if(!uD(n)||n.version!==0)throw new Error("useMenu(): the context value is not compatible");return n}function p9t(n){const{as:e="button",children:r,fontSize:i=1,icon:o,onClick:s,padding:a=3,popover:l,radius:c=2,space:u=3,text:f,tone:h="default",...m}=n,g=xVe(),{scheme:v}=DS(),{activeElement:y,mount:b,onClickOutside:x,onEscape:_,onItemClick:w,onItemMouseEnter:C=g.onMouseEnter,registerElement:S}=g,[T,A]=p.useState(null),[I,D]=p.useState(!1),R=p.useRef(null),P=!!y&&y===T,[O,$]=p.useState(!1),L=p.useCallback(G=>{$(!1),C(G),D(!0)},[C]),M=p.useCallback(G=>{G.key==="ArrowLeft"&&(G.stopPropagation(),D(!1),requestAnimationFrame(()=>{T==null||T.focus()}))},[T]),N=p.useCallback(G=>{s&&s(G),R.current="first",D(!0),requestAnimationFrame(()=>{R.current=null})},[s]),z=p.useCallback(()=>{D(!1),w&&w()},[w]),B=p.useCallback(()=>$(!0),[]);p.useEffect(()=>b(T),[b,T]),p.useEffect(()=>{P||D(!1)},[P]),p.useEffect(()=>{I||$(!1)},[I]);const H=d.jsx(_r,{onClickOutside:x,onEscape:_,onItemClick:z,onKeyDown:M,onMouseEnter:B,registerElement:S,shouldFocus:R.current,children:r}),X=p.useCallback(G=>{const ne=G.currentTarget;if(document.activeElement===ne&&G.key==="ArrowRight"){R.current="first",D(!0),$(!0),requestAnimationFrame(()=>{R.current=null});return}},[]);return d.jsx($y,{...l,content:H,"data-ui":"MenuGroup__popover",open:I,children:d.jsx(bVe,{"data-as":e,"data-ui":"MenuGroup",forwardedAs:e,...m,"aria-pressed":e==="button"?O:void 0,"data-pressed":e!=="button"?O:void 0,"data-selected":!O&&P?"":void 0,$radius:ot(c),$tone:h,$scheme:v,onClick:N,onKeyDown:X,onMouseEnter:L,ref:A,tabIndex:-1,type:e==="button"?"button":void 0,children:d.jsxs(oe,{gap:u,padding:a,children:[o&&d.jsxs(J,{size:i,children:[p.isValidElement(o)&&o,Xr.isValidElementType(o)&&p.createElement(o)]}),d.jsx(te,{flex:1,children:d.jsx(J,{size:i,textOverflow:"ellipsis",weight:"medium",children:f})}),d.jsx(J,{size:i,children:d.jsx(Ch,{})})]})})})}const pte=p.forwardRef(function(n,e){const{as:r="button",children:i,disabled:o,fontSize:s=1,hotkeys:a,icon:l,iconRight:c,onClick:u,padding:f=3,paddingX:h,paddingY:m,paddingTop:g,paddingRight:v,paddingBottom:y,paddingLeft:b,pressed:x,radius:_=2,selected:w,space:C=3,text:S,tone:T="default",...A}=n,{scheme:I}=DS(),D=xVe(),{activeElement:R,mount:P,onItemClick:O,onItemMouseEnter:$=D.onMouseEnter,onItemMouseLeave:L=D.onMouseLeave}=D,[M,N]=p.useState(null),z=!!R&&R===M;p.useEffect(()=>P(M,w),[P,M,w]);const B=Ko(e),H=p.useCallback(le=>{o||(u&&u(le),O&&O())},[o,u,O]),X=p.useMemo(()=>({padding:f,paddingX:h,paddingY:m,paddingTop:g,paddingRight:v,paddingBottom:y,paddingLeft:b}),[f,h,m,g,v,y,b]),G=ot(s).map(le=>le-1),ne=p.useCallback(le=>{B.current=le,N(le)},[B]);return d.jsxs(bVe,{"data-ui":"MenuItem",...A,"aria-pressed":r==="button"&&x,"data-pressed":r!=="button"&&x?"":void 0,"data-selected":z?"":void 0,"data-disabled":o?"":void 0,forwardedAs:r,$radius:ot(_),$padding:ot(0),$tone:o?"default":T,$scheme:I,disabled:o,onClick:H,onMouseEnter:$,onMouseLeave:L,ref:ne,role:"menuitem",tabIndex:-1,type:r==="button"?"button":void 0,children:[(l||S||c)&&d.jsxs(oe,{as:"span",gap:C,align:"center",...X,children:[l&&d.jsxs(J,{size:s,children:[p.isValidElement(l)&&l,Xr.isValidElementType(l)&&p.createElement(l)]}),S&&d.jsx(te,{flex:1,children:d.jsx(J,{size:s,textOverflow:"ellipsis",weight:"medium",children:S})}),a&&d.jsx(g6,{fontSize:G,keys:a,style:{marginTop:-4,marginBottom:-4}}),c&&d.jsxs(J,{size:s,children:[p.isValidElement(c)&&c,Xr.isValidElementType(c)&&p.createElement(c)]})]}),i&&d.jsx(te,{as:"span",...X,children:i})]})}),m9t=Kp`
  0% {
    background-position: 100%;
  }
  100% {
    background-position: -100%;
  }
`,g9t=Ae`
  background-image: linear-gradient(
    to right,
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-to),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from)
  );
  background-position: 100%;
  background-size: 200% 100%;
  background-attachment: fixed;
  animation-name: ${m9t};
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-duration: 2000ms;
`,v9t=Ae`
  opacity: ${({$visible:n})=>n?1:0};
  transition: opacity 200ms ease-in;

  @media screen and (prefers-reduced-motion: no-preference) {
    ${({$animated:n})=>n?g9t:Ae`
            background-color: var(--card-skeleton-color-from);
          `}
  }

  @media screen and (prefers-reduced-motion: reduce) {
    background-color: var(--card-skeleton-color-from);
  }
`,y9t=F(te)(Zg,v9t),My=p.forwardRef(function(n,e){const{animated:r=!1,delay:i,radius:o,...s}=n,[a,l]=p.useState(!i);return p.useEffect(()=>{if(!i)return l(!0);const c=setTimeout(()=>{l(!0)},i);return()=>{clearTimeout(c)}},[i]),d.jsx(y9t,{...s,$animated:r,$radius:ot(o),$visible:a,ref:e})}),v6=F(My)(n=>{const{$size:e,$style:r}=n,{font:i,media:o}=mt(n.theme),s=i[r];return Xn(o,e,a=>{const l=s.sizes[a];return{height:l.lineHeight-l.ascenderHeight-l.descenderHeight}})}),ro=p.forwardRef(function(n,e){const{size:r=2,...i}=n,o=ot(r);return d.jsx(v6,{...i,$size:o,ref:e,$style:"text"})});p.forwardRef(function(n,e){const{size:r=2,...i}=n,o=ot(r);return d.jsx(v6,{...i,$size:o,ref:e,$style:"label"})});p.forwardRef(function(n,e){const{size:r=2,...i}=n,o=ot(r);return d.jsx(v6,{...i,$size:o,ref:e,$style:"heading"})});p.forwardRef(function(n,e){const{size:r=2,...i}=n,o=ot(r);return d.jsx(v6,{...i,$size:o,ref:e,$style:"code"})});const b9t=F(ui)`
  max-width: 100%;
`,x9t=p.forwardRef(function(n,e){const{icon:r,id:i,focused:o,fontSize:s=1,label:a,onClick:l,onFocus:c,padding:u=2,selected:f,...h}=n,m=p.useRef(null),g=p.useRef(!1),v=p.useCallback(()=>{g.current=!1},[]),y=p.useCallback(x=>{g.current=!0,c&&c(x)},[c]),b=Ko(e);return p.useEffect(()=>{o&&!g.current&&(m.current&&m.current.focus(),g.current=!0)},[o]),d.jsx(b9t,{"data-ui":"Tab",...h,"aria-selected":f?"true":"false",fontSize:s,icon:r,id:i,mode:"bleed",onClick:l,onBlur:v,onFocus:y,padding:u,ref:x=>{m.current=x,b.current=x},role:"tab",selected:f,tabIndex:f?0:-1,text:a,type:"button"})});function w9t(n){return!!n}const _9t=F(to)`
  & > div {
    display: inline-block;
    vertical-align: middle;
    max-width: 100%;
    box-sizing: border-box;
  }
`,y6=p.forwardRef(function(n,e){const{children:r,...i}=n,[o,s]=p.useState(-1),a=p.useMemo(()=>r.filter(w9t),[r]).map((f,h)=>p.cloneElement(f,{focused:o===h,key:h,onFocus:()=>c(h)})),l=a.length,c=p.useCallback(f=>{s(f)},[]),u=p.useCallback(f=>{f.key==="ArrowLeft"&&s(h=>(h+l-1)%l),f.key==="ArrowRight"&&s(h=>(h+1)%l)},[l]);return d.jsx(_9t,{"data-ui":"TabList",...i,onKeyDown:u,ref:e,role:"tablist",children:a})}),E9t=p.forwardRef(function(n,e){const{flex:r,...i}=n;return d.jsx(te,{"data-ui":"TabPanel",...i,flex:r,ref:e,role:"tabpanel",tabIndex:n.tabIndex===void 0?0:n.tabIndex,children:n.children})}),C9t={error:"critical",warning:"caution",success:"positive",info:"primary"},S9t={error:"critical",warning:"caution",success:"positive",info:"primary"},k9t={error:"alert",warning:"alert",success:"alert",info:"alert"},T9t=F(ke)`
  pointer-events: all;
  & > * {
    opacity: var(${yg}, 1);
    will-change: opacity;
  }
`,A9t=F(oe)`
  overflow-x: auto;
`;function I9t(n){const{closable:e,description:r,onClose:i,radius:o=3,title:s,status:a,...l}=n,c=a?C9t[a]:"default",u=a?S9t[a]:"default",f=a?k9t[a]:"status";return d.jsx(T9t,{"data-ui":"Toast",role:f,...l,marginTop:3,radius:o,shadow:2,tone:c,children:d.jsxs(oe,{align:"flex-start",children:[d.jsx(A9t,{flex:1,padding:3,children:d.jsxs(Se,{space:3,children:[s&&d.jsx(J,{size:1,weight:"medium",children:s}),r&&d.jsx(J,{muted:!0,size:1,children:r})]})}),e&&d.jsx(te,{padding:1,children:d.jsx(ui,{as:"button",icon:Is,mode:"bleed",padding:2,tone:u,onClick:i,style:{verticalAlign:"top"}})})]})})}function D9t(){return p.useSyncExternalStore(R9t,()=>!0,()=>!1)}const R9t=()=>()=>{},Pq=Symbol.for("@sanity/ui/context/toast");si[Pq]=si[Pq]||p.createContext(null);const wVe=si[Pq],O9t=F(Cu)`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
`,P9t=F.div`
  box-sizing: border-box;
  position: absolute;
  right: 0;
  bottom: 0;
  max-width: 420px;
  width: 100%;
`;let j9t=0;function L9t(n){const{children:e,padding:r=4,paddingX:i,paddingY:o,zOffset:s}=n,[a,l]=p.useState([]),c=p.useRef({}),u=D9t(),f=h6(),h=p.useMemo(()=>({initial:{opacity:0,[yg]:0,y:32,scale:.25,willChange:"transform"},animate:{opacity:[0,1,1],[yg]:[0,0,1],y:0,scale:1},exit:{opacity:[1,1,0],[yg]:[1,0,0],scale:.5,transition:f?{duration:0}:{duration:.2}}}),[f]),m=p.useMemo(()=>({version:0,push:g=>{const v=_=>p.startTransition(()=>l(_)),y=g.id||String(j9t++),b=g.duration||5e3,x=()=>{var _;const w=(_=c.current[y])==null?void 0:_.timeoutId;v(C=>{const S=C.findIndex(T=>T.id===y);if(S>-1){const T=C.slice(0);return T.splice(S,1),T}return C}),w!==void 0&&(clearTimeout(w),delete c.current[y])};return v(_=>_.filter(w=>w.id!==y).concat([{dismiss:x,id:y,params:{...g,duration:b}}])),c.current[y]&&(clearTimeout(c.current[y].timeoutId),delete c.current[y]),c.current[y]={timeoutId:setTimeout(x,b)},y}}),[]);return p.useEffect(()=>()=>{for(const{timeoutId:g}of Object.values(c.current))clearTimeout(g);c.current={}},[]),d.jsxs(wVe.Provider,{value:m,children:[e,u&&d.jsx(O9t,{"data-ui":"ToastProvider",zOffset:s,children:d.jsx(P9t,{children:d.jsx(te,{padding:r,paddingX:i,paddingY:o,children:d.jsx(Zp,{initial:!1,children:a.map(({dismiss:g,id:v,params:y})=>d.jsx(Xa.div,{layout:"position",initial:"initial",animate:"animate",exit:"exit",variants:h,transition:f?{duration:0}:{type:"spring",damping:30,stiffness:400},children:d.jsx(I9t,{closable:y.closable,description:y.description,onClose:g,status:y.status,title:y.title})},v))})})})})]})}function da(){const n=p.useContext(wVe);if(!n)throw new Error("useToast(): missing context value");if(!uD(n)||n.version!==0)throw new Error("useToast(): the context value is not compatible");return n}function $9t(n,e,r){var i;const o=e.indexOf(r),s=e.slice(0,o),a=s.length;for(let l=a-1;l>=0;l-=1){const c=s[l].getAttribute("data-tree-key");if(!c)continue;const u=c.split("/");u.pop();const f=[];let h=!0;for(let m=0;m<u.length;m+=1){f.push(u[m]);const g=f.join("/");if(!((i=n[g])!=null&&i.expanded)){h=!1;break}}if(h)return s[l]}return null}function M9t(n,e,r){var i;const o=e.indexOf(r),s=e.slice(o),a=e.length;for(let l=1;l<a;l+=1){if(!s[l])continue;const c=s[l].getAttribute("data-tree-key");if(!c)continue;const u=c.split("/");u.pop();const f=[];let h=!0;for(let m=0;m<u.length;m+=1){f.push(u[m]);const g=f.join("/");if(!((i=n[g])!=null&&i.expanded)){h=!1;break}}if(h)return s[l]}return null}function Cpe(n){if(n.getAttribute("role")==="treeitem"&&n.focus(),n.getAttribute("role")==="none"){const e=n.firstChild;e&&e instanceof HTMLElement&&e.focus()}}const jq=Symbol.for("@sanity/ui/context/tree");si[jq]=si[jq]||p.createContext(null);const A3=si[jq],F9t=p.memo(p.forwardRef(function(n,e){const{children:r,space:i=1,onFocus:o,...s}=n,a=Ko(e),[l,c]=p.useState(null),u=p.useRef(l),f=p.useMemo(()=>[],[]),[h,m]=p.useState([]),[g,v]=p.useState({}),y=p.useRef(g);p.useEffect(()=>{u.current=l},[l]),p.useEffect(()=>{y.current=g},[g]);const b=p.useCallback((S,T,A,I)=>(v(D=>({...D,[T]:{element:S,expanded:A}})),I&&c(S),()=>{v(D=>{const R={...D};return delete R[T],R})}),[]),x=p.useCallback((S,T)=>{v(A=>{const I=A[S];return I?{...A,[S]:{...I,expanded:T}}:A})},[]),_=p.useMemo(()=>({version:0,focusedElement:l||h[0]||null,level:0,path:f,registerItem:b,setExpanded:x,setFocusedElement:c,space:i,state:g}),[l,h,f,b,x,i,g]),w=p.useCallback(S=>{var T;if(u.current){if(S.key==="ArrowDown"){S.preventDefault();const A=M9t(y.current,h,u.current);A&&(Cpe(A),c(A));return}if(S.key==="ArrowUp"){S.preventDefault();const A=$9t(y.current,h,u.current);A&&(Cpe(A),c(A));return}if(S.key==="ArrowLeft"){S.preventDefault();const A=u.current.getAttribute("data-tree-key");if(!A)return;const I=y.current[A];if(!I)return;if(I.expanded)v(D=>{const R=D[A];return R?{...D,[A]:{...R,expanded:!1}}:D});else{const D=A.split("/");D.pop();const R=D.join("/"),P=R&&y.current[R];P&&(P.element.focus(),c(P.element))}return}if(S.key==="ArrowRight"){S.preventDefault();const A=u.current.getAttribute("data-tree-key");if(!A)return;(T=y.current[A])!=null&&T.expanded||v(I=>{const D=I[A];return D?{...I,[A]:{...D,expanded:!0}}:I});return}}},[h]),C=p.useCallback(S=>{c(S.target),o==null||o(S)},[o]);return p.useEffect(()=>{if(!a.current)return;const S=Array.from(a.current.querySelectorAll('[data-ui="TreeItem"]'));m(S)},[r,a]),d.jsx(A3.Provider,{value:_,children:d.jsx(Se,{as:"ul","data-ui":"Tree",...s,onFocus:C,onKeyDown:w,ref:a,role:"tree",space:i,children:r})})}));F9t.displayName="Tree";function N9t(){return Ae`
    &[role='none'] > [role='treeitem'] {
      outline: none;
      cursor: default;
      border-radius: 3px;

      background-color: var(--card-bg-color);
      color: var(--treeitem-fg-color);

      &:focus {
        position: relative;
      }
    }

    &[role='treeitem'] {
      outline: none;

      & > div {
        cursor: default;
        border-radius: 3px;

        background-color: var(--card-bg-color);
        color: var(--treeitem-fg-color);
      }

      &:focus > div {
        position: relative;
      }
    }
  `}function B9t(n){const e="default",{color:r}=mt(n.theme),i=r.selectable[e];return Ae`
    &[role='none'] {
      & > [role='treeitem'] {
        ${$r(r,i.enabled)}
      }

      &[data-selected] > [role='treeitem'] {
        ${$r(r,i.pressed)}
      }

      @media (hover: hover) {
        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {
          ${$r(r,i.hovered)}
        }

        & > [role='treeitem']:focus {
          ${$r(r,i.selected)}
        }
      }
    }

    &[role='treeitem'] {
      & > [data-ui='TreeItem__box'] {
        ${$r(r,i.enabled)}
      }

      &[data-selected] > [data-ui='TreeItem__box'] {
        ${$r(r,i.pressed)}
      }

      @media (hover: hover) {
        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {
          ${$r(r,i.hovered)}
        }

        &:focus > [data-ui='TreeItem__box'] {
          ${$r(r,i.selected)}
        }
      }
    }
  `}function U9t(n){const{$level:e}=n,{space:r}=mt(n.theme);return Ae`
    padding-left: ${Je(r[2]*e)};

    &[data-as='a'] {
      text-decoration: none;
    }
  `}function _Ve(){const n=p.useContext(A3);if(!n)throw new Error("Tree: missing context value");return n}const Spe=p.memo(function(n){const{children:e,expanded:r=!1,...i}=n,o=_Ve();return d.jsx(Se,{as:"ul","data-ui":"TreeGroup",...i,hidden:!r,marginTop:o.space,role:"group",space:o.space,children:e})}),kpe=p.memo(F.li(N9t,B9t)),Tpe=F(te).attrs({forwardedAs:"a"})(U9t),z9t=F(J)`
  & > svg {
    transition: transform 100ms;
  }
`;p.memo(function(n){const{children:e,expanded:r=!1,fontSize:i=1,href:o,icon:s,id:a,linkAs:l,muted:c,onClick:u,padding:f=2,selected:h=!1,space:m=2,text:g,weight:v,...y}=n,b=p.useRef(null),x=p.useRef(null),_=_Ve(),{path:w,registerItem:C,setExpanded:S,setFocusedElement:T}=_,A=p.useId(),I=a||A,D=p.useMemo(()=>w.concat([I||""]),[I,w]),R=D.join("/"),P=_.state[R],O=_.focusedElement===b.current,$=(P==null?void 0:P.expanded)===void 0?r:(P==null?void 0:P.expanded)||!1,L=_.focusedElement&&_.focusedElement===b.current?0:-1,M=p.useMemo(()=>({..._,level:_.level+1,path:D}),[D,_]),N=p.useCallback(H=>{u&&u(H);const X=H.target;X instanceof HTMLElement&&(X.getAttribute("data-ui")==="TreeItem"||X.closest('[data-ui="TreeItem__box"]'))&&(H.stopPropagation(),S(R,!$),T(b.current))},[$,R,u,S,T]),z=p.useCallback(H=>{if(O&&H.key==="Enter"){const X=x.current||b.current;X==null||X.click()}},[O]);p.useEffect(()=>{if(b.current)return C(b.current,D.join("/"),$,h)},[$,D,C,h]);const B=d.jsxs(oe,{padding:f,children:[d.jsxs(te,{marginRight:m,style:{visibility:s||e?"visible":"hidden",pointerEvents:"none"},children:[s&&d.jsx(J,{muted:c,size:i,weight:v,children:p.createElement(s)}),!s&&d.jsx(z9t,{muted:c,size:i,weight:v,children:d.jsx(WI,{style:{transform:$?"rotate(90deg)":void 0}})})]}),d.jsx(te,{flex:1,children:d.jsx(J,{muted:c,size:i,textOverflow:"ellipsis",weight:v,children:g})})]});return o?d.jsxs(kpe,{"data-selected":h?"":void 0,"data-tree-id":I,"data-tree-key":R,"data-ui":"TreeItem",...y,onClick:N,ref:b,role:"none",children:[d.jsx(Tpe,{$level:_.level,"aria-expanded":$,as:l,"data-ui":"TreeItem__box",href:o,ref:x,role:"treeitem",tabIndex:L,children:B}),d.jsx(A3.Provider,{value:M,children:e&&d.jsx(Spe,{hidden:!$,children:e})})]}):d.jsxs(kpe,{"data-selected":h?"":void 0,"data-ui":"TreeItem","data-tree-id":I,"data-tree-key":R,...y,"aria-expanded":$,onClick:N,onKeyDown:z,ref:b,role:"treeitem",tabIndex:L,children:[d.jsx(Tpe,{$level:_.level,as:"div","data-ui":"TreeItem__box",children:B}),d.jsx(A3.Provider,{value:M,children:e&&d.jsx(Spe,{expanded:$,children:e})})]})});function V9t(n,e,r,i){var o=-1,s=n==null?0:n.length;for(i&&s&&(r=n[++o]);++o<s;)r=e(r,n[o],o,n);return r}var H9t=V9t;function W9t(n){return function(e){return n==null?void 0:n[e]}}var EVe=W9t,G9t=EVe,q9t={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},K9t=G9t(q9t),Y9t=K9t;function Z9t(n,e){for(var r=-1,i=n==null?0:n.length,o=Array(i);++r<i;)o[r]=e(n[r],r,n);return o}var Qp=Z9t,Ape=hS,X9t=Qp,Q9t=Gs,J9t=Hx,eUt=1/0,Ipe=Ape?Ape.prototype:void 0,Dpe=Ipe?Ipe.toString:void 0;function CVe(n){if(typeof n=="string")return n;if(Q9t(n))return X9t(n,CVe)+"";if(J9t(n))return Dpe?Dpe.call(n):"";var e=n+"";return e=="0"&&1/n==-eUt?"-0":e}var SVe=CVe,tUt=SVe;function nUt(n){return n==null?"":tUt(n)}var _f=nUt,rUt=Y9t,iUt=_f,oUt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,sUt="\\u0300-\\u036f",aUt="\\ufe20-\\ufe2f",lUt="\\u20d0-\\u20ff",cUt=sUt+aUt+lUt,uUt="["+cUt+"]",dUt=RegExp(uUt,"g");function fUt(n){return n=iUt(n),n&&n.replace(oUt,rUt).replace(dUt,"")}var kVe=fUt;const I3=Tt(kVe);var hUt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function pUt(n){return n.match(hUt)||[]}var mUt=pUt,gUt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function vUt(n){return gUt.test(n)}var yUt=vUt,TVe="\\ud800-\\udfff",bUt="\\u0300-\\u036f",xUt="\\ufe20-\\ufe2f",wUt="\\u20d0-\\u20ff",_Ut=bUt+xUt+wUt,AVe="\\u2700-\\u27bf",IVe="a-z\\xdf-\\xf6\\xf8-\\xff",EUt="\\xac\\xb1\\xd7\\xf7",CUt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",SUt="\\u2000-\\u206f",kUt=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",DVe="A-Z\\xc0-\\xd6\\xd8-\\xde",TUt="\\ufe0e\\ufe0f",RVe=EUt+CUt+SUt+kUt,OVe="['’]",Rpe="["+RVe+"]",AUt="["+_Ut+"]",PVe="\\d+",IUt="["+AVe+"]",jVe="["+IVe+"]",LVe="[^"+TVe+RVe+PVe+AVe+IVe+DVe+"]",DUt="\\ud83c[\\udffb-\\udfff]",RUt="(?:"+AUt+"|"+DUt+")",OUt="[^"+TVe+"]",$Ve="(?:\\ud83c[\\udde6-\\uddff]){2}",MVe="[\\ud800-\\udbff][\\udc00-\\udfff]",k_="["+DVe+"]",PUt="\\u200d",Ope="(?:"+jVe+"|"+LVe+")",jUt="(?:"+k_+"|"+LVe+")",Ppe="(?:"+OVe+"(?:d|ll|m|re|s|t|ve))?",jpe="(?:"+OVe+"(?:D|LL|M|RE|S|T|VE))?",FVe=RUt+"?",NVe="["+TUt+"]?",LUt="(?:"+PUt+"(?:"+[OUt,$Ve,MVe].join("|")+")"+NVe+FVe+")*",$Ut="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",MUt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",FUt=NVe+FVe+LUt,NUt="(?:"+[IUt,$Ve,MVe].join("|")+")"+FUt,BUt=RegExp([k_+"?"+jVe+"+"+Ppe+"(?="+[Rpe,k_,"$"].join("|")+")",jUt+"+"+jpe+"(?="+[Rpe,k_+Ope,"$"].join("|")+")",k_+"?"+Ope+"+"+Ppe,k_+"+"+jpe,MUt,$Ut,PVe,NUt].join("|"),"g");function UUt(n){return n.match(BUt)||[]}var zUt=UUt,VUt=mUt,HUt=yUt,WUt=_f,GUt=zUt;function qUt(n,e,r){return n=WUt(n),e=r?void 0:e,e===void 0?HUt(n)?GUt(n):VUt(n):n.match(e)||[]}var BVe=qUt;const UVe=Tt(BVe);var KUt=H9t,YUt=kVe,ZUt=BVe,XUt="['’]",QUt=RegExp(XUt,"g");function JUt(n){return function(e){return KUt(ZUt(YUt(e).replace(QUt,"")),n,"")}}var mte=JUt;function ezt(n,e,r){var i=-1,o=n.length;e<0&&(e=-e>o?0:o+e),r=r>o?o:r,r<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var s=Array(o);++i<o;)s[i]=n[i+e];return s}var zVe=ezt,tzt=zVe;function nzt(n,e,r){var i=n.length;return r=r===void 0?i:r,!e&&r>=i?n:tzt(n,e,r)}var VVe=nzt,rzt="\\ud800-\\udfff",izt="\\u0300-\\u036f",ozt="\\ufe20-\\ufe2f",szt="\\u20d0-\\u20ff",azt=izt+ozt+szt,lzt="\\ufe0e\\ufe0f",czt="\\u200d",uzt=RegExp("["+czt+rzt+azt+lzt+"]");function dzt(n){return uzt.test(n)}var HVe=dzt;function fzt(n){return n.split("")}var hzt=fzt,WVe="\\ud800-\\udfff",pzt="\\u0300-\\u036f",mzt="\\ufe20-\\ufe2f",gzt="\\u20d0-\\u20ff",vzt=pzt+mzt+gzt,yzt="\\ufe0e\\ufe0f",bzt="["+WVe+"]",Lq="["+vzt+"]",$q="\\ud83c[\\udffb-\\udfff]",xzt="(?:"+Lq+"|"+$q+")",GVe="[^"+WVe+"]",qVe="(?:\\ud83c[\\udde6-\\uddff]){2}",KVe="[\\ud800-\\udbff][\\udc00-\\udfff]",wzt="\\u200d",YVe=xzt+"?",ZVe="["+yzt+"]?",_zt="(?:"+wzt+"(?:"+[GVe,qVe,KVe].join("|")+")"+ZVe+YVe+")*",Ezt=ZVe+YVe+_zt,Czt="(?:"+[GVe+Lq+"?",Lq,qVe,KVe,bzt].join("|")+")",Szt=RegExp($q+"(?="+$q+")|"+Czt+Ezt,"g");function kzt(n){return n.match(Szt)||[]}var Tzt=kzt,Azt=hzt,Izt=HVe,Dzt=Tzt;function Rzt(n){return Izt(n)?Dzt(n):Azt(n)}var XVe=Rzt,Ozt=VVe,Pzt=HVe,jzt=XVe,Lzt=_f;function $zt(n){return function(e){e=Lzt(e);var r=Pzt(e)?jzt(e):void 0,i=r?r[0]:e.charAt(0),o=r?Ozt(r,1).join(""):e.slice(1);return i[n]()+o}}var Mzt=$zt,Fzt=Mzt,Nzt=Fzt("toUpperCase"),gte=Nzt;const QVe=Tt(gte);var Bzt=mte,Uzt=gte,zzt=Bzt(function(n,e,r){return n+(r?" ":"")+Uzt(e)}),Vzt=zzt;const li=Tt(Vzt);var Hzt=_f,Wzt=0;function Gzt(n){var e=++Wzt;return Hzt(n)+e}var qzt=Gzt;const JVe=Tt(qzt);function bh(n){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(n)}function yr(n){if(n===null||n===!0||n===!1)return NaN;var e=Number(n);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Zt(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}function dn(n){Zt(1,arguments);var e=Object.prototype.toString.call(n);return n instanceof Date||bh(n)==="object"&&e==="[object Date]"?new Date(n.getTime()):typeof n=="number"||e==="[object Number]"?new Date(n):((typeof n=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function vc(n,e){Zt(2,arguments);var r=dn(n),i=yr(e);return isNaN(i)?new Date(NaN):(i&&r.setDate(r.getDate()+i),r)}function vte(n,e){Zt(2,arguments);var r=dn(n),i=yr(e);if(isNaN(i))return new Date(NaN);if(!i)return r;var o=r.getDate(),s=new Date(r.getTime());s.setMonth(r.getMonth()+i+1,0);var a=s.getDate();return o>=a?s:(r.setFullYear(s.getFullYear(),s.getMonth(),o),r)}function Kzt(n,e){Zt(2,arguments);var r=dn(n).getTime(),i=yr(e);return new Date(r+i)}var Yzt={};function Xg(){return Yzt}function py(n,e){var r,i,o,s,a,l,c,u;Zt(1,arguments);var f=Xg(),h=yr((r=(i=(o=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&o!==void 0?o:f.weekStartsOn)!==null&&i!==void 0?i:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=dn(n),g=m.getDay(),v=(g<h?7:0)+g-h;return m.setDate(m.getDate()-v),m.setHours(0,0,0,0),m}function D3(n){var e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),n.getTime()-e.getTime()}function my(n){Zt(1,arguments);var e=dn(n);return e.setHours(0,0,0,0),e}var Zzt=864e5;function Xzt(n,e){Zt(2,arguments);var r=my(n),i=my(e),o=r.getTime()-D3(r),s=i.getTime()-D3(i);return Math.round((o-s)/Zzt)}function Qzt(n,e){Zt(2,arguments);var r=yr(e),i=r*7;return vc(n,i)}function kA(n,e){Zt(2,arguments);var r=dn(n),i=dn(e),o=r.getTime()-i.getTime();return o<0?-1:o>0?1:o}var b6=6e4,x6=36e5,Jzt=1e3;function Jm(n,e){Zt(2,arguments);var r=my(n),i=my(e);return r.getTime()===i.getTime()}function eVt(n){return Zt(1,arguments),n instanceof Date||bh(n)==="object"&&Object.prototype.toString.call(n)==="[object Date]"}function gy(n){if(Zt(1,arguments),!eVt(n)&&typeof n!="number")return!1;var e=dn(n);return!isNaN(Number(e))}function tVt(n,e){Zt(2,arguments);var r=dn(n),i=dn(e),o=r.getFullYear()-i.getFullYear(),s=r.getMonth()-i.getMonth();return o*12+s}function nVt(n,e){Zt(2,arguments);var r=dn(n),i=dn(e);return r.getFullYear()-i.getFullYear()}function Lpe(n,e){var r=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function eHe(n,e){Zt(2,arguments);var r=dn(n),i=dn(e),o=Lpe(r,i),s=Math.abs(Xzt(r,i));r.setDate(r.getDate()-o*s);var a=+(Lpe(r,i)===-o),l=o*(s-a);return l===0?0:l}function yte(n,e){return Zt(2,arguments),dn(n).getTime()-dn(e).getTime()}var $pe={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},rVt="trunc";function w6(n){return n?$pe[n]:$pe[rVt]}function iVt(n,e,r){Zt(2,arguments);var i=yte(n,e)/x6;return w6(r==null?void 0:r.roundingMethod)(i)}function oVt(n,e,r){Zt(2,arguments);var i=yte(n,e)/b6;return w6(r==null?void 0:r.roundingMethod)(i)}function R3(n){Zt(1,arguments);var e=dn(n);return e.setHours(23,59,59,999),e}function sVt(n){Zt(1,arguments);var e=dn(n),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function aVt(n){Zt(1,arguments);var e=dn(n);return R3(e).getTime()===sVt(e).getTime()}function lVt(n,e){Zt(2,arguments);var r=dn(n),i=dn(e),o=kA(r,i),s=Math.abs(tVt(r,i)),a;if(s<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-o*s);var l=kA(r,i)===-o;aVt(dn(n))&&s===1&&kA(n,i)===1&&(l=!1),a=o*(s-Number(l))}return a===0?0:a}function cVt(n,e,r){Zt(2,arguments);var i=yte(n,e)/1e3;return w6(r==null?void 0:r.roundingMethod)(i)}function uVt(n,e,r){Zt(2,arguments);var i=eHe(n,e)/7;return w6(r==null?void 0:r.roundingMethod)(i)}function dVt(n,e){Zt(2,arguments);var r=dn(n),i=dn(e),o=kA(r,i),s=Math.abs(nVt(r,i));r.setFullYear(1584),i.setFullYear(1584);var a=kA(r,i)===-o,l=o*(s-Number(a));return l===0?0:l}function Mpe(n){Zt(1,arguments);var e=dn(n);return e.setSeconds(0,0),e}function tHe(n,e){Zt(1,arguments);var r=n||{},i=dn(r.start),o=dn(r.end),s=o.getTime();if(!(i.getTime()<=s))throw new RangeError("Invalid interval");var a=py(i,e),l=py(o,e);a.setHours(15),l.setHours(15),s=l.getTime();for(var c=[],u=a;u.getTime()<=s;)u.setHours(0),c.push(dn(u)),u=Qzt(u,1),u.setHours(15);return c}function nHe(n){Zt(1,arguments);var e=dn(n);return e.setDate(1),e.setHours(0,0,0,0),e}function Fpe(n){Zt(1,arguments);var e=dn(n);return e.setSeconds(59,999),e}function rHe(n,e){Zt(2,arguments);var r=yr(e);return Kzt(n,-r)}var fVt=864e5;function hVt(n){Zt(1,arguments);var e=dn(n),r=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var i=e.getTime(),o=r-i;return Math.floor(o/fVt)+1}function WC(n){Zt(1,arguments);var e=1,r=dn(n),i=r.getUTCDay(),o=(i<e?7:0)+i-e;return r.setUTCDate(r.getUTCDate()-o),r.setUTCHours(0,0,0,0),r}function iHe(n){Zt(1,arguments);var e=dn(n),r=e.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(r+1,0,4),i.setUTCHours(0,0,0,0);var o=WC(i),s=new Date(0);s.setUTCFullYear(r,0,4),s.setUTCHours(0,0,0,0);var a=WC(s);return e.getTime()>=o.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function pVt(n){Zt(1,arguments);var e=iHe(n),r=new Date(0);r.setUTCFullYear(e,0,4),r.setUTCHours(0,0,0,0);var i=WC(r);return i}var mVt=6048e5;function oHe(n){Zt(1,arguments);var e=dn(n),r=WC(e).getTime()-pVt(e).getTime();return Math.round(r/mVt)+1}function kx(n,e){var r,i,o,s,a,l,c,u;Zt(1,arguments);var f=Xg(),h=yr((r=(i=(o=(s=e==null?void 0:e.weekStartsOn)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&o!==void 0?o:f.weekStartsOn)!==null&&i!==void 0?i:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=dn(n),g=m.getUTCDay(),v=(g<h?7:0)+g-h;return m.setUTCDate(m.getUTCDate()-v),m.setUTCHours(0,0,0,0),m}function bte(n,e){var r,i,o,s,a,l,c,u;Zt(1,arguments);var f=dn(n),h=f.getUTCFullYear(),m=Xg(),g=yr((r=(i=(o=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&o!==void 0?o:m.firstWeekContainsDate)!==null&&i!==void 0?i:(c=m.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setUTCFullYear(h+1,0,g),v.setUTCHours(0,0,0,0);var y=kx(v,e),b=new Date(0);b.setUTCFullYear(h,0,g),b.setUTCHours(0,0,0,0);var x=kx(b,e);return f.getTime()>=y.getTime()?h+1:f.getTime()>=x.getTime()?h:h-1}function gVt(n,e){var r,i,o,s,a,l,c,u;Zt(1,arguments);var f=Xg(),h=yr((r=(i=(o=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&o!==void 0?o:f.firstWeekContainsDate)!==null&&i!==void 0?i:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),m=bte(n,e),g=new Date(0);g.setUTCFullYear(m,0,h),g.setUTCHours(0,0,0,0);var v=kx(g,e);return v}var vVt=6048e5;function sHe(n,e){Zt(1,arguments);var r=dn(n),i=kx(r,e).getTime()-gVt(r,e).getTime();return Math.round(i/vVt)+1}function Mi(n,e){for(var r=n<0?"-":"",i=Math.abs(n).toString();i.length<e;)i="0"+i;return r+i}var yVt={y:function(e,r){var i=e.getUTCFullYear(),o=i>0?i:1-i;return Mi(r==="yy"?o%100:o,r.length)},M:function(e,r){var i=e.getUTCMonth();return r==="M"?String(i+1):Mi(i+1,2)},d:function(e,r){return Mi(e.getUTCDate(),r.length)},a:function(e,r){var i=e.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return i.toUpperCase();case"aaa":return i;case"aaaaa":return i[0];case"aaaa":default:return i==="am"?"a.m.":"p.m."}},h:function(e,r){return Mi(e.getUTCHours()%12||12,r.length)},H:function(e,r){return Mi(e.getUTCHours(),r.length)},m:function(e,r){return Mi(e.getUTCMinutes(),r.length)},s:function(e,r){return Mi(e.getUTCSeconds(),r.length)},S:function(e,r){var i=r.length,o=e.getUTCMilliseconds(),s=Math.floor(o*Math.pow(10,i-3));return Mi(s,r.length)}};const Iv=yVt;var Zw={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bVt={G:function(e,r,i){var o=e.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return i.era(o,{width:"abbreviated"});case"GGGGG":return i.era(o,{width:"narrow"});case"GGGG":default:return i.era(o,{width:"wide"})}},y:function(e,r,i){if(r==="yo"){var o=e.getUTCFullYear(),s=o>0?o:1-o;return i.ordinalNumber(s,{unit:"year"})}return Iv.y(e,r)},Y:function(e,r,i,o){var s=bte(e,o),a=s>0?s:1-s;if(r==="YY"){var l=a%100;return Mi(l,2)}return r==="Yo"?i.ordinalNumber(a,{unit:"year"}):Mi(a,r.length)},R:function(e,r){var i=iHe(e);return Mi(i,r.length)},u:function(e,r){var i=e.getUTCFullYear();return Mi(i,r.length)},Q:function(e,r,i){var o=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"Q":return String(o);case"QQ":return Mi(o,2);case"Qo":return i.ordinalNumber(o,{unit:"quarter"});case"QQQ":return i.quarter(o,{width:"abbreviated",context:"formatting"});case"QQQQQ":return i.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(o,{width:"wide",context:"formatting"})}},q:function(e,r,i){var o=Math.ceil((e.getUTCMonth()+1)/3);switch(r){case"q":return String(o);case"qq":return Mi(o,2);case"qo":return i.ordinalNumber(o,{unit:"quarter"});case"qqq":return i.quarter(o,{width:"abbreviated",context:"standalone"});case"qqqqq":return i.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(o,{width:"wide",context:"standalone"})}},M:function(e,r,i){var o=e.getUTCMonth();switch(r){case"M":case"MM":return Iv.M(e,r);case"Mo":return i.ordinalNumber(o+1,{unit:"month"});case"MMM":return i.month(o,{width:"abbreviated",context:"formatting"});case"MMMMM":return i.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(o,{width:"wide",context:"formatting"})}},L:function(e,r,i){var o=e.getUTCMonth();switch(r){case"L":return String(o+1);case"LL":return Mi(o+1,2);case"Lo":return i.ordinalNumber(o+1,{unit:"month"});case"LLL":return i.month(o,{width:"abbreviated",context:"standalone"});case"LLLLL":return i.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(o,{width:"wide",context:"standalone"})}},w:function(e,r,i,o){var s=sHe(e,o);return r==="wo"?i.ordinalNumber(s,{unit:"week"}):Mi(s,r.length)},I:function(e,r,i){var o=oHe(e);return r==="Io"?i.ordinalNumber(o,{unit:"week"}):Mi(o,r.length)},d:function(e,r,i){return r==="do"?i.ordinalNumber(e.getUTCDate(),{unit:"date"}):Iv.d(e,r)},D:function(e,r,i){var o=hVt(e);return r==="Do"?i.ordinalNumber(o,{unit:"dayOfYear"}):Mi(o,r.length)},E:function(e,r,i){var o=e.getUTCDay();switch(r){case"E":case"EE":case"EEE":return i.day(o,{width:"abbreviated",context:"formatting"});case"EEEEE":return i.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(o,{width:"short",context:"formatting"});case"EEEE":default:return i.day(o,{width:"wide",context:"formatting"})}},e:function(e,r,i,o){var s=e.getUTCDay(),a=(s-o.weekStartsOn+8)%7||7;switch(r){case"e":return String(a);case"ee":return Mi(a,2);case"eo":return i.ordinalNumber(a,{unit:"day"});case"eee":return i.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return i.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(s,{width:"short",context:"formatting"});case"eeee":default:return i.day(s,{width:"wide",context:"formatting"})}},c:function(e,r,i,o){var s=e.getUTCDay(),a=(s-o.weekStartsOn+8)%7||7;switch(r){case"c":return String(a);case"cc":return Mi(a,r.length);case"co":return i.ordinalNumber(a,{unit:"day"});case"ccc":return i.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return i.day(s,{width:"narrow",context:"standalone"});case"cccccc":return i.day(s,{width:"short",context:"standalone"});case"cccc":default:return i.day(s,{width:"wide",context:"standalone"})}},i:function(e,r,i){var o=e.getUTCDay(),s=o===0?7:o;switch(r){case"i":return String(s);case"ii":return Mi(s,r.length);case"io":return i.ordinalNumber(s,{unit:"day"});case"iii":return i.day(o,{width:"abbreviated",context:"formatting"});case"iiiii":return i.day(o,{width:"narrow",context:"formatting"});case"iiiiii":return i.day(o,{width:"short",context:"formatting"});case"iiii":default:return i.day(o,{width:"wide",context:"formatting"})}},a:function(e,r,i){var o=e.getUTCHours(),s=o/12>=1?"pm":"am";switch(r){case"a":case"aa":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return i.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,r,i){var o=e.getUTCHours(),s;switch(o===12?s=Zw.noon:o===0?s=Zw.midnight:s=o/12>=1?"pm":"am",r){case"b":case"bb":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return i.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,r,i){var o=e.getUTCHours(),s;switch(o>=17?s=Zw.evening:o>=12?s=Zw.afternoon:o>=4?s=Zw.morning:s=Zw.night,r){case"B":case"BB":case"BBB":return i.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return i.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,r,i){if(r==="ho"){var o=e.getUTCHours()%12;return o===0&&(o=12),i.ordinalNumber(o,{unit:"hour"})}return Iv.h(e,r)},H:function(e,r,i){return r==="Ho"?i.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Iv.H(e,r)},K:function(e,r,i){var o=e.getUTCHours()%12;return r==="Ko"?i.ordinalNumber(o,{unit:"hour"}):Mi(o,r.length)},k:function(e,r,i){var o=e.getUTCHours();return o===0&&(o=24),r==="ko"?i.ordinalNumber(o,{unit:"hour"}):Mi(o,r.length)},m:function(e,r,i){return r==="mo"?i.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Iv.m(e,r)},s:function(e,r,i){return r==="so"?i.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Iv.s(e,r)},S:function(e,r){return Iv.S(e,r)},X:function(e,r,i,o){var s=o._originalDate||e,a=s.getTimezoneOffset();if(a===0)return"Z";switch(r){case"X":return Bpe(a);case"XXXX":case"XX":return z1(a);case"XXXXX":case"XXX":default:return z1(a,":")}},x:function(e,r,i,o){var s=o._originalDate||e,a=s.getTimezoneOffset();switch(r){case"x":return Bpe(a);case"xxxx":case"xx":return z1(a);case"xxxxx":case"xxx":default:return z1(a,":")}},O:function(e,r,i,o){var s=o._originalDate||e,a=s.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Npe(a,":");case"OOOO":default:return"GMT"+z1(a,":")}},z:function(e,r,i,o){var s=o._originalDate||e,a=s.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Npe(a,":");case"zzzz":default:return"GMT"+z1(a,":")}},t:function(e,r,i,o){var s=o._originalDate||e,a=Math.floor(s.getTime()/1e3);return Mi(a,r.length)},T:function(e,r,i,o){var s=o._originalDate||e,a=s.getTime();return Mi(a,r.length)}};function Npe(n,e){var r=n>0?"-":"+",i=Math.abs(n),o=Math.floor(i/60),s=i%60;if(s===0)return r+String(o);var a=e||"";return r+String(o)+a+Mi(s,2)}function Bpe(n,e){if(n%60===0){var r=n>0?"-":"+";return r+Mi(Math.abs(n)/60,2)}return z1(n,e)}function z1(n,e){var r=e||"",i=n>0?"-":"+",o=Math.abs(n),s=Mi(Math.floor(o/60),2),a=Mi(o%60,2);return i+s+r+a}const xVt=bVt;var Upe=function(e,r){switch(e){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},aHe=function(e,r){switch(e){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},wVt=function(e,r){var i=e.match(/(P+)(p+)?/)||[],o=i[1],s=i[2];if(!s)return Upe(e,r);var a;switch(o){case"P":a=r.dateTime({width:"short"});break;case"PP":a=r.dateTime({width:"medium"});break;case"PPP":a=r.dateTime({width:"long"});break;case"PPPP":default:a=r.dateTime({width:"full"});break}return a.replace("{{date}}",Upe(o,r)).replace("{{time}}",aHe(s,r))},_Vt={p:aHe,P:wVt};const Mq=_Vt;var EVt=["D","DD"],CVt=["YY","YYYY"];function lHe(n){return EVt.indexOf(n)!==-1}function cHe(n){return CVt.indexOf(n)!==-1}function O3(n,e,r){if(n==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(n==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var SVt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kVt=function(e,r,i){var o,s=SVt[e];return typeof s=="string"?o=s:r===1?o=s.one:o=s.other.replace("{{count}}",r.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"in "+o:o+" ago":o};const TVt=kVt;function KU(n){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.width?String(e.width):n.defaultWidth,i=n.formats[r]||n.formats[n.defaultWidth];return i}}var AVt={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},IVt={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},DVt={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},RVt={date:KU({formats:AVt,defaultWidth:"full"}),time:KU({formats:IVt,defaultWidth:"full"}),dateTime:KU({formats:DVt,defaultWidth:"full"})};const OVt=RVt;var PVt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jVt=function(e,r,i,o){return PVt[e]};const LVt=jVt;function ck(n){return function(e,r){var i=r!=null&&r.context?String(r.context):"standalone",o;if(i==="formatting"&&n.formattingValues){var s=n.defaultFormattingWidth||n.defaultWidth,a=r!=null&&r.width?String(r.width):s;o=n.formattingValues[a]||n.formattingValues[s]}else{var l=n.defaultWidth,c=r!=null&&r.width?String(r.width):n.defaultWidth;o=n.values[c]||n.values[l]}var u=n.argumentCallback?n.argumentCallback(e):e;return o[u]}}var $Vt={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},MVt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},FVt={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},NVt={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},BVt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},UVt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zVt=function(e,r){var i=Number(e),o=i%100;if(o>20||o<10)switch(o%10){case 1:return i+"st";case 2:return i+"nd";case 3:return i+"rd"}return i+"th"},VVt={ordinalNumber:zVt,era:ck({values:$Vt,defaultWidth:"wide"}),quarter:ck({values:MVt,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ck({values:FVt,defaultWidth:"wide"}),day:ck({values:NVt,defaultWidth:"wide"}),dayPeriod:ck({values:BVt,defaultWidth:"wide",formattingValues:UVt,defaultFormattingWidth:"wide"})};const HVt=VVt;function uk(n){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.width,o=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],s=e.match(o);if(!s)return null;var a=s[0],l=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],c=Array.isArray(l)?GVt(l,function(h){return h.test(a)}):WVt(l,function(h){return h.test(a)}),u;u=n.valueCallback?n.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;var f=e.slice(a.length);return{value:u,rest:f}}}function WVt(n,e){for(var r in n)if(n.hasOwnProperty(r)&&e(n[r]))return r}function GVt(n,e){for(var r=0;r<n.length;r++)if(e(n[r]))return r}function qVt(n){return function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=e.match(n.matchPattern);if(!i)return null;var o=i[0],s=e.match(n.parsePattern);if(!s)return null;var a=n.valueCallback?n.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;var l=e.slice(o.length);return{value:a,rest:l}}}var KVt=/^(\d+)(th|st|nd|rd)?/i,YVt=/\d+/i,ZVt={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},XVt={any:[/^b/i,/^(a|c)/i]},QVt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},JVt={any:[/1/i,/2/i,/3/i,/4/i]},eHt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},tHt={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nHt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rHt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},iHt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},oHt={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sHt={ordinalNumber:qVt({matchPattern:KVt,parsePattern:YVt,valueCallback:function(e){return parseInt(e,10)}}),era:uk({matchPatterns:ZVt,defaultMatchWidth:"wide",parsePatterns:XVt,defaultParseWidth:"any"}),quarter:uk({matchPatterns:QVt,defaultMatchWidth:"wide",parsePatterns:JVt,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:uk({matchPatterns:eHt,defaultMatchWidth:"wide",parsePatterns:tHt,defaultParseWidth:"any"}),day:uk({matchPatterns:nHt,defaultMatchWidth:"wide",parsePatterns:rHt,defaultParseWidth:"any"}),dayPeriod:uk({matchPatterns:iHt,defaultMatchWidth:"any",parsePatterns:oHt,defaultParseWidth:"any"})};const aHt=sHt;var lHt={code:"en-US",formatDistance:TVt,formatLong:OVt,formatRelative:LVt,localize:HVt,match:aHt,options:{weekStartsOn:0,firstWeekContainsDate:1}};const uHe=lHt;var cHt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uHt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,dHt=/^'([^]*?)'?$/,fHt=/''/g,hHt=/[a-zA-Z]/;function QO(n,e,r){var i,o,s,a,l,c,u,f,h,m,g,v,y,b,x,_,w,C;Zt(2,arguments);var S=String(e),T=Xg(),A=(i=(o=r==null?void 0:r.locale)!==null&&o!==void 0?o:T.locale)!==null&&i!==void 0?i:uHe,I=yr((s=(a=(l=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(u=r.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&l!==void 0?l:T.firstWeekContainsDate)!==null&&a!==void 0?a:(h=T.locale)===null||h===void 0||(m=h.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(I>=1&&I<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var D=yr((g=(v=(y=(b=r==null?void 0:r.weekStartsOn)!==null&&b!==void 0?b:r==null||(x=r.locale)===null||x===void 0||(_=x.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&y!==void 0?y:T.weekStartsOn)!==null&&v!==void 0?v:(w=T.locale)===null||w===void 0||(C=w.options)===null||C===void 0?void 0:C.weekStartsOn)!==null&&g!==void 0?g:0);if(!(D>=0&&D<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!A.localize)throw new RangeError("locale must contain localize property");if(!A.formatLong)throw new RangeError("locale must contain formatLong property");var R=dn(n);if(!gy(R))throw new RangeError("Invalid time value");var P=D3(R),O=rHe(R,P),$={firstWeekContainsDate:I,weekStartsOn:D,locale:A,_originalDate:R},L=S.match(uHt).map(function(M){var N=M[0];if(N==="p"||N==="P"){var z=Mq[N];return z(M,A.formatLong)}return M}).join("").match(cHt).map(function(M){if(M==="''")return"'";var N=M[0];if(N==="'")return pHt(M);var z=xVt[N];if(z)return!(r!=null&&r.useAdditionalWeekYearTokens)&&cHe(M)&&O3(M,e,String(n)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&lHe(M)&&O3(M,e,String(n)),z(O,M,A.localize,$);if(N.match(hHt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return M}).join("");return L}function pHt(n){var e=n.match(dHt);return e?e[1].replace(fHt,"'"):n}function mHt(n,e){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function gHt(n){Zt(1,arguments);var e=dn(n),r=e.getFullYear(),i=e.getMonth(),o=new Date(0);return o.setFullYear(r,i+1,0),o.setHours(0,0,0,0),o.getDate()}function vHt(n){Zt(1,arguments);var e=dn(n),r=e.getMinutes();return r}function yHt(n,e){var r,i,o,s,a,l,c,u;Zt(1,arguments);var f=dn(n),h=f.getFullYear(),m=Xg(),g=yr((r=(i=(o=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&o!==void 0?o:m.firstWeekContainsDate)!==null&&i!==void 0?i:(c=m.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var v=new Date(0);v.setFullYear(h+1,0,g),v.setHours(0,0,0,0);var y=py(v,e),b=new Date(0);b.setFullYear(h,0,g),b.setHours(0,0,0,0);var x=py(b,e);return f.getTime()>=y.getTime()?h+1:f.getTime()>=x.getTime()?h:h-1}function bHt(n,e){var r,i,o,s,a,l,c,u;Zt(1,arguments);var f=Xg(),h=yr((r=(i=(o=(s=e==null?void 0:e.firstWeekContainsDate)!==null&&s!==void 0?s:e==null||(a=e.locale)===null||a===void 0||(l=a.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&o!==void 0?o:f.firstWeekContainsDate)!==null&&i!==void 0?i:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),m=yHt(n,e),g=new Date(0);g.setFullYear(m,0,h),g.setHours(0,0,0,0);var v=py(g,e);return v}var xHt=6048e5;function dHe(n,e){Zt(1,arguments);var r=dn(n),i=py(r,e).getTime()-bHt(r,e).getTime();return Math.round(i/xHt)+1}function fHe(n){Zt(1,arguments);var e=dn(n),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(0,0,0,0),e}function Fq(n,e){Zt(2,arguments);var r=dn(n),i=dn(e);return r.getTime()>i.getTime()}function hHe(n,e){Zt(2,arguments);var r=dn(n),i=dn(e);return r.getTime()<i.getTime()}function zpe(n,e){(e==null||e>n.length)&&(e=n.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=n[r];return i}function wHt(n,e){if(n){if(typeof n=="string")return zpe(n,e);var r=Object.prototype.toString.call(n).slice(8,-1);if(r==="Object"&&n.constructor&&(r=n.constructor.name),r==="Map"||r==="Set")return Array.from(n);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zpe(n,e)}}function Vpe(n,e){var r=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!r){if(Array.isArray(n)||(r=wHt(n))||e&&n&&typeof n.length=="number"){r&&(n=r);var i=0,o=function(){};return{s:o,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,l;return{s:function(){r=r.call(n)},n:function(){var u=r.next();return s=u.done,u},e:function(u){a=!0,l=u},f:function(){try{!s&&r.return!=null&&r.return()}finally{if(a)throw l}}}}function Qt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function P3(n,e){return P3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},P3(n,e)}function fi(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&P3(n,e)}function j3(n){return j3=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j3(n)}function pHe(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pHe=function(){return!!n})()}function _Ht(n,e){if(e&&(bh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qt(n)}function hi(n){var e=pHe();return function(){var i=j3(n),o;if(e){var s=j3(this).constructor;o=Reflect.construct(i,arguments,s)}else o=i.apply(this,arguments);return _Ht(this,o)}}function Wr(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function EHt(n,e){if(bh(n)!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(bh(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function mHe(n){var e=EHt(n,"string");return bh(e)=="symbol"?e:String(e)}function Hpe(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,mHe(i.key),i)}}function Gr(n,e,r){return e&&Hpe(n.prototype,e),r&&Hpe(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ht(n,e,r){return e=mHe(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}var CHt=10,gHe=function(){function n(){Wr(this,n),Ht(this,"priority",void 0),Ht(this,"subPriority",0)}return Gr(n,[{key:"validate",value:function(r,i){return!0}}]),n}(),SHt=function(n){fi(r,n);var e=hi(r);function r(i,o,s,a,l){var c;return Wr(this,r),c=e.call(this),c.value=i,c.validateValue=o,c.setValue=s,c.priority=a,l&&(c.subPriority=l),c}return Gr(r,[{key:"validate",value:function(o,s){return this.validateValue(o,this.value,s)}},{key:"set",value:function(o,s,a){return this.setValue(o,s,this.value,a)}}]),r}(gHe),kHt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",CHt),Ht(Qt(i),"subPriority",-1),i}return Gr(r,[{key:"set",value:function(o,s){if(s.timestampIsSet)return o;var a=new Date(0);return a.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),a.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),a}}]),r}(gHe),Ti=function(){function n(){Wr(this,n),Ht(this,"incompatibleTokens",void 0),Ht(this,"priority",void 0),Ht(this,"subPriority",void 0)}return Gr(n,[{key:"run",value:function(r,i,o,s){var a=this.parse(r,i,o,s);return a?{setter:new SHt(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(r,i,o){return!0}}]),n}(),THt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",140),Ht(Qt(i),"incompatibleTokens",["R","u","t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s,a){switch(s){case"G":case"GG":case"GGG":return a.era(o,{width:"abbreviated"})||a.era(o,{width:"narrow"});case"GGGGG":return a.era(o,{width:"narrow"});case"GGGG":default:return a.era(o,{width:"wide"})||a.era(o,{width:"abbreviated"})||a.era(o,{width:"narrow"})}}},{key:"set",value:function(o,s,a){return s.era=a,o.setUTCFullYear(a,0,1),o.setUTCHours(0,0,0,0),o}}]),r}(Ti),zs={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},xp={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Vs(n,e){return n&&{value:e(n.value),rest:n.rest}}function ps(n,e){var r=e.match(n);return r?{value:parseInt(r[0],10),rest:e.slice(r[0].length)}:null}function wp(n,e){var r=e.match(n);if(!r)return null;if(r[0]==="Z")return{value:0,rest:e.slice(1)};var i=r[1]==="+"?1:-1,o=r[2]?parseInt(r[2],10):0,s=r[3]?parseInt(r[3],10):0,a=r[5]?parseInt(r[5],10):0;return{value:i*(o*x6+s*b6+a*Jzt),rest:e.slice(r[0].length)}}function vHe(n){return ps(zs.anyDigitsSigned,n)}function Ds(n,e){switch(n){case 1:return ps(zs.singleDigit,e);case 2:return ps(zs.twoDigits,e);case 3:return ps(zs.threeDigits,e);case 4:return ps(zs.fourDigits,e);default:return ps(new RegExp("^\\d{1,"+n+"}"),e)}}function L3(n,e){switch(n){case 1:return ps(zs.singleDigitSigned,e);case 2:return ps(zs.twoDigitsSigned,e);case 3:return ps(zs.threeDigitsSigned,e);case 4:return ps(zs.fourDigitsSigned,e);default:return ps(new RegExp("^-?\\d{1,"+n+"}"),e)}}function xte(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function yHe(n,e){var r=e>0,i=r?e:1-e,o;if(i<=50)o=n||100;else{var s=i+50,a=Math.floor(s/100)*100,l=n>=s%100;o=n+a-(l?100:0)}return r?o:1-o}function bHe(n){return n%400===0||n%4===0&&n%100!==0}var AHt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",130),Ht(Qt(i),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s,a){var l=function(u){return{year:u,isTwoDigitYear:s==="yy"}};switch(s){case"y":return Vs(Ds(4,o),l);case"yo":return Vs(a.ordinalNumber(o,{unit:"year"}),l);default:return Vs(Ds(s.length,o),l)}}},{key:"validate",value:function(o,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(o,s,a){var l=o.getUTCFullYear();if(a.isTwoDigitYear){var c=yHe(a.year,l);return o.setUTCFullYear(c,0,1),o.setUTCHours(0,0,0,0),o}var u=!("era"in s)||s.era===1?a.year:1-a.year;return o.setUTCFullYear(u,0,1),o.setUTCHours(0,0,0,0),o}}]),r}(Ti),IHt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",130),Ht(Qt(i),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s,a){var l=function(u){return{year:u,isTwoDigitYear:s==="YY"}};switch(s){case"Y":return Vs(Ds(4,o),l);case"Yo":return Vs(a.ordinalNumber(o,{unit:"year"}),l);default:return Vs(Ds(s.length,o),l)}}},{key:"validate",value:function(o,s){return s.isTwoDigitYear||s.year>0}},{key:"set",value:function(o,s,a,l){var c=bte(o,l);if(a.isTwoDigitYear){var u=yHe(a.year,c);return o.setUTCFullYear(u,0,l.firstWeekContainsDate),o.setUTCHours(0,0,0,0),kx(o,l)}var f=!("era"in s)||s.era===1?a.year:1-a.year;return o.setUTCFullYear(f,0,l.firstWeekContainsDate),o.setUTCHours(0,0,0,0),kx(o,l)}}]),r}(Ti),DHt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",130),Ht(Qt(i),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s){return L3(s==="R"?4:s.length,o)}},{key:"set",value:function(o,s,a){var l=new Date(0);return l.setUTCFullYear(a,0,4),l.setUTCHours(0,0,0,0),WC(l)}}]),r}(Ti),RHt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",130),Ht(Qt(i),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s){return L3(s==="u"?4:s.length,o)}},{key:"set",value:function(o,s,a){return o.setUTCFullYear(a,0,1),o.setUTCHours(0,0,0,0),o}}]),r}(Ti),OHt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",120),Ht(Qt(i),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s,a){switch(s){case"Q":case"QQ":return Ds(s.length,o);case"Qo":return a.ordinalNumber(o,{unit:"quarter"});case"QQQ":return a.quarter(o,{width:"abbreviated",context:"formatting"})||a.quarter(o,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(o,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(o,{width:"wide",context:"formatting"})||a.quarter(o,{width:"abbreviated",context:"formatting"})||a.quarter(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,s){return s>=1&&s<=4}},{key:"set",value:function(o,s,a){return o.setUTCMonth((a-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),r}(Ti),PHt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",120),Ht(Qt(i),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s,a){switch(s){case"q":case"qq":return Ds(s.length,o);case"qo":return a.ordinalNumber(o,{unit:"quarter"});case"qqq":return a.quarter(o,{width:"abbreviated",context:"standalone"})||a.quarter(o,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(o,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(o,{width:"wide",context:"standalone"})||a.quarter(o,{width:"abbreviated",context:"standalone"})||a.quarter(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,s){return s>=1&&s<=4}},{key:"set",value:function(o,s,a){return o.setUTCMonth((a-1)*3,1),o.setUTCHours(0,0,0,0),o}}]),r}(Ti),jHt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Ht(Qt(i),"priority",110),i}return Gr(r,[{key:"parse",value:function(o,s,a){var l=function(u){return u-1};switch(s){case"M":return Vs(ps(zs.month,o),l);case"MM":return Vs(Ds(2,o),l);case"Mo":return Vs(a.ordinalNumber(o,{unit:"month"}),l);case"MMM":return a.month(o,{width:"abbreviated",context:"formatting"})||a.month(o,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(o,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(o,{width:"wide",context:"formatting"})||a.month(o,{width:"abbreviated",context:"formatting"})||a.month(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,s){return s>=0&&s<=11}},{key:"set",value:function(o,s,a){return o.setUTCMonth(a,1),o.setUTCHours(0,0,0,0),o}}]),r}(Ti),LHt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",110),Ht(Qt(i),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s,a){var l=function(u){return u-1};switch(s){case"L":return Vs(ps(zs.month,o),l);case"LL":return Vs(Ds(2,o),l);case"Lo":return Vs(a.ordinalNumber(o,{unit:"month"}),l);case"LLL":return a.month(o,{width:"abbreviated",context:"standalone"})||a.month(o,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(o,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(o,{width:"wide",context:"standalone"})||a.month(o,{width:"abbreviated",context:"standalone"})||a.month(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,s){return s>=0&&s<=11}},{key:"set",value:function(o,s,a){return o.setUTCMonth(a,1),o.setUTCHours(0,0,0,0),o}}]),r}(Ti);function $Ht(n,e,r){Zt(2,arguments);var i=dn(n),o=yr(e),s=sHe(i,r)-o;return i.setUTCDate(i.getUTCDate()-s*7),i}var MHt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",100),Ht(Qt(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s,a){switch(s){case"w":return ps(zs.week,o);case"wo":return a.ordinalNumber(o,{unit:"week"});default:return Ds(s.length,o)}}},{key:"validate",value:function(o,s){return s>=1&&s<=53}},{key:"set",value:function(o,s,a,l){return kx($Ht(o,a,l),l)}}]),r}(Ti);function FHt(n,e){Zt(2,arguments);var r=dn(n),i=yr(e),o=oHe(r)-i;return r.setUTCDate(r.getUTCDate()-o*7),r}var NHt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",100),Ht(Qt(i),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s,a){switch(s){case"I":return ps(zs.week,o);case"Io":return a.ordinalNumber(o,{unit:"week"});default:return Ds(s.length,o)}}},{key:"validate",value:function(o,s){return s>=1&&s<=53}},{key:"set",value:function(o,s,a){return WC(FHt(o,a))}}]),r}(Ti),BHt=[31,28,31,30,31,30,31,31,30,31,30,31],UHt=[31,29,31,30,31,30,31,31,30,31,30,31],zHt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",90),Ht(Qt(i),"subPriority",1),Ht(Qt(i),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s,a){switch(s){case"d":return ps(zs.date,o);case"do":return a.ordinalNumber(o,{unit:"date"});default:return Ds(s.length,o)}}},{key:"validate",value:function(o,s){var a=o.getUTCFullYear(),l=bHe(a),c=o.getUTCMonth();return l?s>=1&&s<=UHt[c]:s>=1&&s<=BHt[c]}},{key:"set",value:function(o,s,a){return o.setUTCDate(a),o.setUTCHours(0,0,0,0),o}}]),r}(Ti),VHt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",90),Ht(Qt(i),"subpriority",1),Ht(Qt(i),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s,a){switch(s){case"D":case"DD":return ps(zs.dayOfYear,o);case"Do":return a.ordinalNumber(o,{unit:"date"});default:return Ds(s.length,o)}}},{key:"validate",value:function(o,s){var a=o.getUTCFullYear(),l=bHe(a);return l?s>=1&&s<=366:s>=1&&s<=365}},{key:"set",value:function(o,s,a){return o.setUTCMonth(0,a),o.setUTCHours(0,0,0,0),o}}]),r}(Ti);function wte(n,e,r){var i,o,s,a,l,c,u,f;Zt(2,arguments);var h=Xg(),m=yr((i=(o=(s=(a=r==null?void 0:r.weekStartsOn)!==null&&a!==void 0?a:r==null||(l=r.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&o!==void 0?o:(u=h.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&i!==void 0?i:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=dn(n),v=yr(e),y=g.getUTCDay(),b=v%7,x=(b+7)%7,_=(x<m?7:0)+v-y;return g.setUTCDate(g.getUTCDate()+_),g}var HHt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",90),Ht(Qt(i),"incompatibleTokens",["D","i","e","c","t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s,a){switch(s){case"E":case"EE":case"EEE":return a.day(o,{width:"abbreviated",context:"formatting"})||a.day(o,{width:"short",context:"formatting"})||a.day(o,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(o,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(o,{width:"short",context:"formatting"})||a.day(o,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(o,{width:"wide",context:"formatting"})||a.day(o,{width:"abbreviated",context:"formatting"})||a.day(o,{width:"short",context:"formatting"})||a.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,s){return s>=0&&s<=6}},{key:"set",value:function(o,s,a,l){return o=wte(o,a,l),o.setUTCHours(0,0,0,0),o}}]),r}(Ti),WHt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",90),Ht(Qt(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s,a,l){var c=function(f){var h=Math.floor((f-1)/7)*7;return(f+l.weekStartsOn+6)%7+h};switch(s){case"e":case"ee":return Vs(Ds(s.length,o),c);case"eo":return Vs(a.ordinalNumber(o,{unit:"day"}),c);case"eee":return a.day(o,{width:"abbreviated",context:"formatting"})||a.day(o,{width:"short",context:"formatting"})||a.day(o,{width:"narrow",context:"formatting"});case"eeeee":return a.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(o,{width:"short",context:"formatting"})||a.day(o,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(o,{width:"wide",context:"formatting"})||a.day(o,{width:"abbreviated",context:"formatting"})||a.day(o,{width:"short",context:"formatting"})||a.day(o,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(o,s){return s>=0&&s<=6}},{key:"set",value:function(o,s,a,l){return o=wte(o,a,l),o.setUTCHours(0,0,0,0),o}}]),r}(Ti),GHt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",90),Ht(Qt(i),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s,a,l){var c=function(f){var h=Math.floor((f-1)/7)*7;return(f+l.weekStartsOn+6)%7+h};switch(s){case"c":case"cc":return Vs(Ds(s.length,o),c);case"co":return Vs(a.ordinalNumber(o,{unit:"day"}),c);case"ccc":return a.day(o,{width:"abbreviated",context:"standalone"})||a.day(o,{width:"short",context:"standalone"})||a.day(o,{width:"narrow",context:"standalone"});case"ccccc":return a.day(o,{width:"narrow",context:"standalone"});case"cccccc":return a.day(o,{width:"short",context:"standalone"})||a.day(o,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(o,{width:"wide",context:"standalone"})||a.day(o,{width:"abbreviated",context:"standalone"})||a.day(o,{width:"short",context:"standalone"})||a.day(o,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(o,s){return s>=0&&s<=6}},{key:"set",value:function(o,s,a,l){return o=wte(o,a,l),o.setUTCHours(0,0,0,0),o}}]),r}(Ti);function qHt(n,e){Zt(2,arguments);var r=yr(e);r%7===0&&(r=r-7);var i=1,o=dn(n),s=o.getUTCDay(),a=r%7,l=(a+7)%7,c=(l<i?7:0)+r-s;return o.setUTCDate(o.getUTCDate()+c),o}var KHt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",90),Ht(Qt(i),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s,a){var l=function(u){return u===0?7:u};switch(s){case"i":case"ii":return Ds(s.length,o);case"io":return a.ordinalNumber(o,{unit:"day"});case"iii":return Vs(a.day(o,{width:"abbreviated",context:"formatting"})||a.day(o,{width:"short",context:"formatting"})||a.day(o,{width:"narrow",context:"formatting"}),l);case"iiiii":return Vs(a.day(o,{width:"narrow",context:"formatting"}),l);case"iiiiii":return Vs(a.day(o,{width:"short",context:"formatting"})||a.day(o,{width:"narrow",context:"formatting"}),l);case"iiii":default:return Vs(a.day(o,{width:"wide",context:"formatting"})||a.day(o,{width:"abbreviated",context:"formatting"})||a.day(o,{width:"short",context:"formatting"})||a.day(o,{width:"narrow",context:"formatting"}),l)}}},{key:"validate",value:function(o,s){return s>=1&&s<=7}},{key:"set",value:function(o,s,a){return o=qHt(o,a),o.setUTCHours(0,0,0,0),o}}]),r}(Ti),YHt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",80),Ht(Qt(i),"incompatibleTokens",["b","B","H","k","t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s,a){switch(s){case"a":case"aa":case"aaa":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"})||a.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(o,{width:"wide",context:"formatting"})||a.dayPeriod(o,{width:"abbreviated",context:"formatting"})||a.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,s,a){return o.setUTCHours(xte(a),0,0,0),o}}]),r}(Ti),ZHt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",80),Ht(Qt(i),"incompatibleTokens",["a","B","H","k","t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s,a){switch(s){case"b":case"bb":case"bbb":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"})||a.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(o,{width:"wide",context:"formatting"})||a.dayPeriod(o,{width:"abbreviated",context:"formatting"})||a.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,s,a){return o.setUTCHours(xte(a),0,0,0),o}}]),r}(Ti),XHt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",80),Ht(Qt(i),"incompatibleTokens",["a","b","t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s,a){switch(s){case"B":case"BB":case"BBB":return a.dayPeriod(o,{width:"abbreviated",context:"formatting"})||a.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(o,{width:"wide",context:"formatting"})||a.dayPeriod(o,{width:"abbreviated",context:"formatting"})||a.dayPeriod(o,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(o,s,a){return o.setUTCHours(xte(a),0,0,0),o}}]),r}(Ti),QHt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",70),Ht(Qt(i),"incompatibleTokens",["H","K","k","t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s,a){switch(s){case"h":return ps(zs.hour12h,o);case"ho":return a.ordinalNumber(o,{unit:"hour"});default:return Ds(s.length,o)}}},{key:"validate",value:function(o,s){return s>=1&&s<=12}},{key:"set",value:function(o,s,a){var l=o.getUTCHours()>=12;return l&&a<12?o.setUTCHours(a+12,0,0,0):!l&&a===12?o.setUTCHours(0,0,0,0):o.setUTCHours(a,0,0,0),o}}]),r}(Ti),JHt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",70),Ht(Qt(i),"incompatibleTokens",["a","b","h","K","k","t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s,a){switch(s){case"H":return ps(zs.hour23h,o);case"Ho":return a.ordinalNumber(o,{unit:"hour"});default:return Ds(s.length,o)}}},{key:"validate",value:function(o,s){return s>=0&&s<=23}},{key:"set",value:function(o,s,a){return o.setUTCHours(a,0,0,0),o}}]),r}(Ti),eWt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",70),Ht(Qt(i),"incompatibleTokens",["h","H","k","t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s,a){switch(s){case"K":return ps(zs.hour11h,o);case"Ko":return a.ordinalNumber(o,{unit:"hour"});default:return Ds(s.length,o)}}},{key:"validate",value:function(o,s){return s>=0&&s<=11}},{key:"set",value:function(o,s,a){var l=o.getUTCHours()>=12;return l&&a<12?o.setUTCHours(a+12,0,0,0):o.setUTCHours(a,0,0,0),o}}]),r}(Ti),tWt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",70),Ht(Qt(i),"incompatibleTokens",["a","b","h","H","K","t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s,a){switch(s){case"k":return ps(zs.hour24h,o);case"ko":return a.ordinalNumber(o,{unit:"hour"});default:return Ds(s.length,o)}}},{key:"validate",value:function(o,s){return s>=1&&s<=24}},{key:"set",value:function(o,s,a){var l=a<=24?a%24:a;return o.setUTCHours(l,0,0,0),o}}]),r}(Ti),nWt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",60),Ht(Qt(i),"incompatibleTokens",["t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s,a){switch(s){case"m":return ps(zs.minute,o);case"mo":return a.ordinalNumber(o,{unit:"minute"});default:return Ds(s.length,o)}}},{key:"validate",value:function(o,s){return s>=0&&s<=59}},{key:"set",value:function(o,s,a){return o.setUTCMinutes(a,0,0),o}}]),r}(Ti),rWt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",50),Ht(Qt(i),"incompatibleTokens",["t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s,a){switch(s){case"s":return ps(zs.second,o);case"so":return a.ordinalNumber(o,{unit:"second"});default:return Ds(s.length,o)}}},{key:"validate",value:function(o,s){return s>=0&&s<=59}},{key:"set",value:function(o,s,a){return o.setUTCSeconds(a,0),o}}]),r}(Ti),iWt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",30),Ht(Qt(i),"incompatibleTokens",["t","T"]),i}return Gr(r,[{key:"parse",value:function(o,s){var a=function(c){return Math.floor(c*Math.pow(10,-s.length+3))};return Vs(Ds(s.length,o),a)}},{key:"set",value:function(o,s,a){return o.setUTCMilliseconds(a),o}}]),r}(Ti),oWt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",10),Ht(Qt(i),"incompatibleTokens",["t","T","x"]),i}return Gr(r,[{key:"parse",value:function(o,s){switch(s){case"X":return wp(xp.basicOptionalMinutes,o);case"XX":return wp(xp.basic,o);case"XXXX":return wp(xp.basicOptionalSeconds,o);case"XXXXX":return wp(xp.extendedOptionalSeconds,o);case"XXX":default:return wp(xp.extended,o)}}},{key:"set",value:function(o,s,a){return s.timestampIsSet?o:new Date(o.getTime()-a)}}]),r}(Ti),sWt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",10),Ht(Qt(i),"incompatibleTokens",["t","T","X"]),i}return Gr(r,[{key:"parse",value:function(o,s){switch(s){case"x":return wp(xp.basicOptionalMinutes,o);case"xx":return wp(xp.basic,o);case"xxxx":return wp(xp.basicOptionalSeconds,o);case"xxxxx":return wp(xp.extendedOptionalSeconds,o);case"xxx":default:return wp(xp.extended,o)}}},{key:"set",value:function(o,s,a){return s.timestampIsSet?o:new Date(o.getTime()-a)}}]),r}(Ti),aWt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",40),Ht(Qt(i),"incompatibleTokens","*"),i}return Gr(r,[{key:"parse",value:function(o){return vHe(o)}},{key:"set",value:function(o,s,a){return[new Date(a*1e3),{timestampIsSet:!0}]}}]),r}(Ti),lWt=function(n){fi(r,n);var e=hi(r);function r(){var i;Wr(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),Ht(Qt(i),"priority",20),Ht(Qt(i),"incompatibleTokens","*"),i}return Gr(r,[{key:"parse",value:function(o){return vHe(o)}},{key:"set",value:function(o,s,a){return[new Date(a),{timestampIsSet:!0}]}}]),r}(Ti),cWt={G:new THt,y:new AHt,Y:new IHt,R:new DHt,u:new RHt,Q:new OHt,q:new PHt,M:new jHt,L:new LHt,w:new MHt,I:new NHt,d:new zHt,D:new VHt,E:new HHt,e:new WHt,c:new GHt,i:new KHt,a:new YHt,b:new ZHt,B:new XHt,h:new QHt,H:new JHt,K:new eWt,k:new tWt,m:new nWt,s:new rWt,S:new iWt,X:new oWt,x:new sWt,t:new aWt,T:new lWt},uWt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dWt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fWt=/^'([^]*?)'?$/,hWt=/''/g,pWt=/\S/,mWt=/[a-zA-Z]/;function gWt(n,e,r,i){var o,s,a,l,c,u,f,h,m,g,v,y,b,x,_,w,C,S;Zt(3,arguments);var T=String(n),A=String(e),I=Xg(),D=(o=(s=i==null?void 0:i.locale)!==null&&s!==void 0?s:I.locale)!==null&&o!==void 0?o:uHe;if(!D.match)throw new RangeError("locale must contain match property");var R=yr((a=(l=(c=(u=i==null?void 0:i.firstWeekContainsDate)!==null&&u!==void 0?u:i==null||(f=i.locale)===null||f===void 0||(h=f.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&c!==void 0?c:I.firstWeekContainsDate)!==null&&l!==void 0?l:(m=I.locale)===null||m===void 0||(g=m.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&a!==void 0?a:1);if(!(R>=1&&R<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=yr((v=(y=(b=(x=i==null?void 0:i.weekStartsOn)!==null&&x!==void 0?x:i==null||(_=i.locale)===null||_===void 0||(w=_.options)===null||w===void 0?void 0:w.weekStartsOn)!==null&&b!==void 0?b:I.weekStartsOn)!==null&&y!==void 0?y:(C=I.locale)===null||C===void 0||(S=C.options)===null||S===void 0?void 0:S.weekStartsOn)!==null&&v!==void 0?v:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(A==="")return T===""?dn(r):new Date(NaN);var O={firstWeekContainsDate:R,weekStartsOn:P,locale:D},$=[new kHt],L=A.match(dWt).map(function(de){var fe=de[0];if(fe in Mq){var we=Mq[fe];return we(de,D.formatLong)}return de}).join("").match(uWt),M=[],N=Vpe(L),z;try{var B=function(){var fe=z.value;!(i!=null&&i.useAdditionalWeekYearTokens)&&cHe(fe)&&O3(fe,A,n),!(i!=null&&i.useAdditionalDayOfYearTokens)&&lHe(fe)&&O3(fe,A,n);var we=fe[0],ye=cWt[we];if(ye){var ve=ye.incompatibleTokens;if(Array.isArray(ve)){var _e=M.find(function(pe){return ve.includes(pe.token)||pe.token===we});if(_e)throw new RangeError("The format string mustn't contain `".concat(_e.fullToken,"` and `").concat(fe,"` at the same time"))}else if(ye.incompatibleTokens==="*"&&M.length>0)throw new RangeError("The format string mustn't contain `".concat(fe,"` and any other token at the same time"));M.push({token:we,fullToken:fe});var ge=ye.run(T,fe,D.match,O);if(!ge)return{v:new Date(NaN)};$.push(ge.setter),T=ge.rest}else{if(we.match(mWt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+we+"`");if(fe==="''"?fe="'":we==="'"&&(fe=vWt(fe)),T.indexOf(fe)===0)T=T.slice(fe.length);else return{v:new Date(NaN)}}};for(N.s();!(z=N.n()).done;){var H=B();if(bh(H)==="object")return H.v}}catch(de){N.e(de)}finally{N.f()}if(T.length>0&&pWt.test(T))return new Date(NaN);var X=$.map(function(de){return de.priority}).sort(function(de,fe){return fe-de}).filter(function(de,fe,we){return we.indexOf(de)===fe}).map(function(de){return $.filter(function(fe){return fe.priority===de}).sort(function(fe,we){return we.subPriority-fe.subPriority})}).map(function(de){return de[0]}),G=dn(r);if(isNaN(G.getTime()))return new Date(NaN);var ne=rHe(G,D3(G)),le={},K=Vpe(X),Q;try{for(K.s();!(Q=K.n()).done;){var re=Q.value;if(!re.validate(ne,O))return new Date(NaN);var se=re.set(ne,le,O);Array.isArray(se)?(ne=se[0],mHt(le,se[1])):ne=se}}catch(de){K.e(de)}finally{K.f()}return ne}function vWt(n){return n.match(fWt)[1].replace(hWt,"'")}function yWt(n,e,r){Zt(2,arguments);var i=py(n,r),o=py(e,r);return i.getTime()===o.getTime()}function bWt(n,e){return Zt(2,arguments),yWt(n,e,{weekStartsOn:1})}function xHe(n,e){Zt(2,arguments);var r=dn(n),i=dn(e);return r.getFullYear()===i.getFullYear()&&r.getMonth()===i.getMonth()}function xWt(n){return Zt(1,arguments),bWt(n,Date.now())}function wWt(n){return Zt(1,arguments),Jm(n,Date.now())}function _Wt(n,e){Zt(2,arguments);var r=yr(e);return vc(n,-r)}function EWt(n,e){var r;Zt(1,arguments);var i=yr((r=e==null?void 0:e.additionalDigits)!==null&&r!==void 0?r:2);if(i!==2&&i!==1&&i!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof n=="string"||Object.prototype.toString.call(n)==="[object String]"))return new Date(NaN);var o=TWt(n),s;if(o.date){var a=AWt(o.date,i);s=IWt(a.restDateString,a.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);var l=s.getTime(),c=0,u;if(o.time&&(c=DWt(o.time),isNaN(c)))return new Date(NaN);if(o.timezone){if(u=RWt(o.timezone),isNaN(u))return new Date(NaN)}else{var f=new Date(l+c),h=new Date(0);return h.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),h.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),h}return new Date(l+c+u)}var JO={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},CWt=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,SWt=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,kWt=/^([+-])(\d{2})(?::?(\d{2}))?$/;function TWt(n){var e={},r=n.split(JO.dateTimeDelimiter),i;if(r.length>2)return e;if(/:/.test(r[0])?i=r[0]:(e.date=r[0],i=r[1],JO.timeZoneDelimiter.test(e.date)&&(e.date=n.split(JO.timeZoneDelimiter)[0],i=n.substr(e.date.length,n.length))),i){var o=JO.timezone.exec(i);o?(e.time=i.replace(o[1],""),e.timezone=o[1]):e.time=i}return e}function AWt(n,e){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),i=n.match(r);if(!i)return{year:NaN,restDateString:""};var o=i[1]?parseInt(i[1]):null,s=i[2]?parseInt(i[2]):null;return{year:s===null?o:s*100,restDateString:n.slice((i[1]||i[2]).length)}}function IWt(n,e){if(e===null)return new Date(NaN);var r=n.match(CWt);if(!r)return new Date(NaN);var i=!!r[4],o=dk(r[1]),s=dk(r[2])-1,a=dk(r[3]),l=dk(r[4]),c=dk(r[5])-1;if(i)return $Wt(e,l,c)?OWt(e,l,c):new Date(NaN);var u=new Date(0);return!jWt(e,s,a)||!LWt(e,o)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(o,a)),u)}function dk(n){return n?parseInt(n):1}function DWt(n){var e=n.match(SWt);if(!e)return NaN;var r=YU(e[1]),i=YU(e[2]),o=YU(e[3]);return MWt(r,i,o)?r*x6+i*b6+o*1e3:NaN}function YU(n){return n&&parseFloat(n.replace(",","."))||0}function RWt(n){if(n==="Z")return 0;var e=n.match(kWt);if(!e)return 0;var r=e[1]==="+"?-1:1,i=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return FWt(i,o)?r*(i*x6+o*b6):NaN}function OWt(n,e,r){var i=new Date(0);i.setUTCFullYear(n,0,4);var o=i.getUTCDay()||7,s=(e-1)*7+r+1-o;return i.setUTCDate(i.getUTCDate()+s),i}var PWt=[31,null,31,30,31,30,31,31,30,31,30,31];function wHe(n){return n%400===0||n%4===0&&n%100!==0}function jWt(n,e,r){return e>=0&&e<=11&&r>=1&&r<=(PWt[e]||(wHe(n)?29:28))}function LWt(n,e){return e>=1&&e<=(wHe(n)?366:365)}function $Wt(n,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function MWt(n,e,r){return n===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&n>=0&&n<25}function FWt(n,e){return e>=0&&e<=59}function _He(n,e){Zt(2,arguments);var r=dn(n),i=yr(e),o=r.getFullYear(),s=r.getDate(),a=new Date(0);a.setFullYear(o,i,15),a.setHours(0,0,0,0);var l=gHt(a);return r.setMonth(i,Math.min(s,l)),r}function NWt(n,e){if(Zt(2,arguments),bh(e)!=="object"||e===null)throw new RangeError("values parameter must be an object");var r=dn(n);return isNaN(r.getTime())?new Date(NaN):(e.year!=null&&r.setFullYear(e.year),e.month!=null&&(r=_He(r,e.month)),e.date!=null&&r.setDate(yr(e.date)),e.hours!=null&&r.setHours(yr(e.hours)),e.minutes!=null&&r.setMinutes(yr(e.minutes)),e.seconds!=null&&r.setSeconds(yr(e.seconds)),e.milliseconds!=null&&r.setMilliseconds(yr(e.milliseconds)),r)}function BWt(n,e){Zt(2,arguments);var r=dn(n),i=yr(e);return r.setDate(i),r}function ZU(n,e){Zt(2,arguments);var r=dn(n),i=yr(e);return r.setHours(i),r}function TL(n,e){Zt(2,arguments);var r=dn(n),i=yr(e);return r.setMinutes(i),r}function UWt(n,e){Zt(2,arguments);var r=dn(n),i=yr(e);return isNaN(r.getTime())?new Date(NaN):(r.setFullYear(i),r)}function Wpe(){return my(Date.now())}function zWt(n,e){Zt(2,arguments);var r=yr(e);return vte(n,-r)}function Gpe(n,e){if(Zt(2,arguments),!e||bh(e)!=="object")return new Date(NaN);var r=e.years?yr(e.years):0,i=e.months?yr(e.months):0,o=e.weeks?yr(e.weeks):0,s=e.days?yr(e.days):0,a=e.hours?yr(e.hours):0,l=e.minutes?yr(e.minutes):0,c=e.seconds?yr(e.seconds):0,u=zWt(n,i+r*12),f=_Wt(u,s+o*7),h=l+a*60,m=c+h*60,g=m*1e3,v=new Date(f.getTime()-g);return v}var VWt=Math.ceil,HWt=Math.max;function WWt(n,e,r,i){for(var o=-1,s=HWt(VWt((e-n)/(r||1)),0),a=Array(s);s--;)a[i?s:++o]=n,n+=r;return a}var GWt=WWt,qWt=PI,KWt=Ty,YWt=r8,ZWt=bf;function XWt(n,e,r){if(!ZWt(r))return!1;var i=typeof e;return(i=="number"?KWt(r)&&YWt(e,r.length):i=="string"&&e in r)?qWt(r[e],n):!1}var _6=XWt,QWt=n6e,qpe=1/0,JWt=17976931348623157e292;function eGt(n){if(!n)return n===0?n:0;if(n=QWt(n),n===qpe||n===-qpe){var e=n<0?-1:1;return e*JWt}return n===n?n:0}var EHe=eGt,tGt=GWt,nGt=_6,XU=EHe;function rGt(n){return function(e,r,i){return i&&typeof i!="number"&&nGt(e,r,i)&&(r=i=void 0),e=XU(e),r===void 0?(r=e,e=0):r=XU(r),i=i===void 0?e<r?1:-1:XU(i),tGt(e,r,i,n)}}var iGt=rGt,oGt=iGt,sGt=oGt(),aGt=sGt;const _te=Tt(aGt);function Rg(){return Rg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Rg.apply(this,arguments)}function lGt(){if(console&&console.warn){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const Kpe={};function Nq(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];typeof e[0]=="string"&&Kpe[e[0]]||(typeof e[0]=="string"&&(Kpe[e[0]]=new Date),lGt(...e))}const CHe=(n,e)=>()=>{if(n.isInitialized)e();else{const r=()=>{setTimeout(()=>{n.off("initialized",r)},0),e()};n.on("initialized",r)}};function Ype(n,e,r){n.loadNamespaces(e,CHe(n,r))}function Zpe(n,e,r,i){typeof r=="string"&&(r=[r]),r.forEach(o=>{n.options.ns.indexOf(o)<0&&n.options.ns.push(o)}),n.loadLanguages(e,CHe(n,i))}function cGt(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=e.languages[0],o=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const a=(l,c)=>{const u=e.services.backendConnector.state[`${l}|${c}`];return u===-1||u===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!a(e.isLanguageChangingTo,n)?!1:!!(e.hasResourceBundle(i,n)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||a(i,n)&&(!o||a(s,n)))}function uGt(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(Nq("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(n,{lng:r.lng,precheck:(o,s)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!s(o.isLanguageChangingTo,n))return!1}}):cGt(n,e,r)}const dGt=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,fGt={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},hGt=n=>fGt[n],pGt=n=>n.replace(dGt,hGt);let Bq={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:pGt};function mGt(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Bq={...Bq,...n}}function gGt(){return Bq}let SHe;function vGt(n){SHe=n}function yGt(){return SHe}const bGt={type:"3rdParty",init(n){mGt(n.options.react),vGt(n)}},kHe=p.createContext();class xGt{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const wGt=(n,e)=>{const r=p.useRef();return p.useEffect(()=>{r.current=e?r.current:n},[n,e]),r.current};function Sh(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:r}=e,{i18n:i,defaultNS:o}=p.useContext(kHe)||{},s=r||i||yGt();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new xGt),!s){Nq("You will need to pass in an i18next instance by using initReactI18next");const w=(S,T)=>typeof T=="string"?T:T&&typeof T=="object"&&typeof T.defaultValue=="string"?T.defaultValue:Array.isArray(S)?S[S.length-1]:S,C=[w,{},!1];return C.t=w,C.i18n={},C.ready=!1,C}s.options.react&&s.options.react.wait!==void 0&&Nq("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const a={...gGt(),...s.options.react,...e},{useSuspense:l,keyPrefix:c}=a;let u=n||o||s.options&&s.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(u);const f=(s.isInitialized||s.initializedStoreOnce)&&u.every(w=>uGt(w,s,a));function h(){return s.getFixedT(e.lng||null,a.nsMode==="fallback"?u:u[0],c)}const[m,g]=p.useState(h);let v=u.join();e.lng&&(v=`${e.lng}${v}`);const y=wGt(v),b=p.useRef(!0);p.useEffect(()=>{const{bindI18n:w,bindI18nStore:C}=a;b.current=!0,!f&&!l&&(e.lng?Zpe(s,e.lng,u,()=>{b.current&&g(h)}):Ype(s,u,()=>{b.current&&g(h)})),f&&y&&y!==v&&b.current&&g(h);function S(){b.current&&g(h)}return w&&s&&s.on(w,S),C&&s&&s.store.on(C,S),()=>{b.current=!1,w&&s&&w.split(" ").forEach(T=>s.off(T,S)),C&&s&&C.split(" ").forEach(T=>s.store.off(T,S))}},[s,v]);const x=p.useRef(!0);p.useEffect(()=>{b.current&&!x.current&&g(h),x.current=!1},[s,c]);const _=[m,s,f];if(_.t=m,_.i18n=s,_.ready=f,f||!f&&!l)return _;throw new Promise(w=>{e.lng?Zpe(s,e.lng,u,()=>w()):Ype(s,u,()=>w())})}function _Gt(n){let{i18n:e,defaultNS:r,children:i}=n;const o=p.useMemo(()=>({i18n:e,defaultNS:r}),[e,r]);return p.createElement(kHe.Provider,{value:o},i)}function E6(n){let{children:e,condition:r,wrapper:i}=n;return r?i(e):e}var Xpe=Object.freeze,EGt=Object.defineProperty,CGt=(n,e)=>Xpe(EGt(n,"raw",{value:Xpe(e||n.slice())})),Qpe;const SGt={space:3,padding:3},kGt={space:2,padding:2},TGt=F.span(Qpe||(Qpe=CGt([`
  display: inline-flex;
`]))),ze=p.forwardRef(function(e,r){let{size:i="default",mode:o="default",paddingY:s,tone:a="default",tooltipProps:l,...c}=e;const u=p.useCallback(h=>d.jsx(zn,{content:l==null?void 0:l.content,portal:!0,...l,children:d.jsx(TGt,{children:h})}),[l]),f=i==="default"?kGt:SGt;return d.jsx(E6,{condition:!!l,wrapper:u,children:d.jsx(ui,{...c,...f,paddingY:s,ref:r,mode:o,tone:a})})}),ja=p.forwardRef(function(e,r){let{bodyHeight:i,children:o,footer:s,padding:a=!0,...l}=e;const{t:c}=Sh();return d.jsx(vVe,{...l,animate:!0,ref:r,footer:((s==null?void 0:s.confirmButton)||(s==null?void 0:s.cancelButton))&&d.jsxs(oe,{width:"full",gap:3,justify:"flex-end",padding:3,children:[l.onClose&&d.jsx(ui,{mode:"bleed",padding:2,text:c("common.dialog.cancel-button.text"),tone:"default",onClick:l.onClose,...s.cancelButton}),s.confirmButton&&d.jsx(ui,{mode:"default",padding:2,text:c("common.dialog.confirm-button.text"),tone:"critical",...s.confirmButton})]}),children:d.jsx(te,{height:i,padding:a?4:0,children:o})})}),Vr=p.forwardRef(function(e,r){return d.jsx(d9t,{...e,ref:r,popover:{...e.popover,animate:!0}})}),Ete=n=>d.jsx(p9t,{...n,fontSize:1,padding:3});var Jpe=Object.freeze,AGt=Object.defineProperty,THe=(n,e)=>Jpe(AGt(n,"raw",{value:Jpe(e||n.slice())})),eme,tme;const QU=1,IGt=0,DGt=F(J)(eme||(eme=THe([`
  margin-top: 2px;
`]))),RGt=F(te)(tme||(tme=THe([`
  height: 25px;
  width: 25px;
  overflow: hidden;
`]))),Wt=p.forwardRef(function(e,r){let{badgeText:i,children:o,disabled:s,hotkeys:a,icon:l,iconRight:c,preview:u=null,renderMenuItem:f,text:h,tooltipProps:m,__unstable_subtitle:g,__unstable_space:v,...y}=e;const b=p.useMemo(()=>d.jsxs(oe,{align:"center",gap:2,children:[u&&d.jsx(RGt,{style:{opacity:s?.25:void 0},paddingRight:v?1:0,children:d.jsx(oe,{align:"center",height:"fill",justify:"center",children:u})}),l&&d.jsx(te,{paddingRight:1,children:d.jsxs(J,{size:QU,children:[p.isValidElement(l)&&l,Xr.isValidElementType(l)&&p.createElement(l)]})}),h&&d.jsxs(Se,{flex:1,space:g?1:2,paddingLeft:g?1:0,children:[d.jsx(J,{size:QU,textOverflow:"ellipsis",weight:"medium",children:h}),g&&d.jsx(DGt,{size:IGt,textOverflow:"ellipsis",weight:"medium",muted:!0,children:g})]}),(i||a||c)&&d.jsxs(oe,{align:"center",gap:3,marginLeft:3,children:[a&&d.jsx(g6,{keys:a,style:{marginTop:-4,marginBottom:-4}}),i&&d.jsx(_u,{fontSize:0,style:{marginTop:-4,marginBottom:-4},children:i}),c&&d.jsxs(J,{size:QU,children:[p.isValidElement(c)&&c,Xr.isValidElementType(c)&&p.createElement(c)]})]})]}),[u,s,v,l,h,g,i,a,c]),x=p.useCallback(_=>d.jsx(zn,{content:m==null?void 0:m.content,portal:!0,...m,children:d.jsx("div",{children:_})}),[m]);return d.jsx(E6,{condition:!!m,wrapper:x,children:d.jsx(pte,{disabled:s,paddingLeft:u?1:3,paddingRight:3,paddingY:u?1:3,ref:r,...y,children:typeof o>"u"&&typeof f=="function"?f(b):b})})}),Ai=p.forwardRef(function(e,r){return d.jsx($y,{...e,animate:!0,ref:r})}),E5=p.forwardRef(function(e,r){let{tone:i="default",...o}=e;return d.jsx(x9t,{...o,muted:!0,padding:2,ref:r,tone:i})}),AHe={open:400},nme={animate:!0,arrow:!1,boundaryElement:null,delay:AHe,fallbackPlacements:["bottom-start","bottom-end","top-start","top-end"],placement:"bottom",portal:!0},zn=p.forwardRef(function(e,r){const{content:i,hotkeys:o,...s}=e;return typeof i=="string"?d.jsx(_pe,{...nme,content:d.jsxs(oe,{align:"center",children:[i&&d.jsx(te,{flex:1,padding:1,children:d.jsx(J,{size:1,children:i})}),o&&d.jsx(te,{flex:"none",children:d.jsx(g6,{keys:o})})]}),padding:1,ref:r,...s}):d.jsx(_pe,{...nme,content:i,ref:r,...s})}),xu=n=>d.jsx(D7t,{delay:AHe,children:n.children}),IHe=p.createContext(void 0);function Qg(){return Cte().currentLocale}function Cte(){const n=p.useContext(IHe);if(!n)throw new Error("Sanity LocaleContext value missing. Is this hook being used outside LocaleContext.Provider?");return n}function OGt(n){const{date:e,focused:r,isCurrentMonth:i,isToday:o,onSelect:s,selected:a}=n,l=p.useCallback(()=>{s(e)},[e,s]);return d.jsx("div",{"aria-selected":a,"data-ui":"CalendarDay",children:d.jsx(ke,{"aria-label":e.toDateString(),"aria-pressed":a,as:"button",__unstable_focusRing:!0,"data-weekday":!0,"data-focused":r?"true":"",role:"button",tabIndex:-1,onClick:l,padding:2,radius:2,selected:a,tone:o||a?"primary":"default",children:d.jsx(J,{muted:!a&&!i,size:1,style:{textAlign:"center"},weight:i?"medium":"regular",children:e.getDate()})})})}const PGt=_te(0,24),jGt=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],LGt=[1,2,3,4,5,6],$Gt=(n,e)=>{const r=nHe(n);return tHe({start:r,end:fHe(r)},{weekStartsOn:e===7?0:e})},MGt=n=>n.map(e=>[e,...LGt.map(r=>vc(e,r))]),FGt=n=>{const{weekInfo:e}=Qg();return MGt($Gt(n,e.firstDay)).map(r=>({number:dHe(r[0]),days:r}))};function NGt(n){const{weekInfo:{firstDay:e}}=Qg(),r=e===1?n.weekDayNames:[n.weekDayNames[6],...n.weekDayNames.slice(0,6)];return d.jsx(te,{"aria-hidden":n.hidden||!1,"data-ui":"CalendarMonth",children:d.jsxs(eo,{gap:1,style:{gridTemplateColumns:"repeat(7, minmax(44px, 46px))"},children:[r.map(i=>d.jsx(te,{paddingY:2,children:d.jsx(J,{size:1,weight:"medium",style:{textAlign:"center"},children:i})},i)),FGt(n.date).map((i,o)=>i.days.map((s,a)=>{const l=n.focused&&Jm(s,n.focused),c=n.selected&&Jm(s,n.selected),u=Jm(s,new Date),f=n.focused&&xHe(s,n.focused);return d.jsx(OGt,{date:s,focused:l,isCurrentMonth:f,isToday:u,onSelect:n.onSelect,selected:c},"".concat(o,"-").concat(a))}))]})})}const rme={dayPresets:!1,timePresets:!1},DHe=p.forwardRef(function(e,r){let{onChange:i,onBlur:o,onKeyPress:s,value:a,...l}=e;const[c,u]=p.useState(),f=p.useCallback(v=>{u(v.currentTarget.value)},[]),h=p.useCallback(v=>{v.currentTarget.value!=="".concat(a)&&i&&i(v),u(void 0)},[i,a]),m=p.useCallback(v=>{h(v),o&&o(v)},[h,o]),g=p.useCallback(v=>{v.key==="Enter"&&h(v),s&&s(v)},[h,s]);return d.jsx(ua,{...l,"data-testid":"date-input",ref:r,value:c===void 0?a:c,onChange:f,onBlur:m,onKeyPress:g})}),BGt=n=>{const{onChange:e,...r}=n,i=p.useCallback(o=>{const s=parseInt(o.currentTarget.value,10);isNaN(s)||e(s)},[e]);return d.jsx(DHe,{...r,fontSize:1,onChange:i,inputMode:"numeric",padding:2,radius:2})},UGt=d.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1}),ime={padding:2},zGt=p.forwardRef(function(e,r){const{selectTime:i,onFocusedDateChange:o,selectedDate:s=new Date,focusedDate:a=s,timeStep:l=1,onSelect:c,labels:u,...f}=e,h=p.useCallback(A=>o(A),[o]),m=p.useCallback(A=>h(BWt(_He(a,A),1)),[a,h]),g=p.useCallback(A=>m(Number(A.currentTarget.value)),[m]),v=p.useCallback(A=>h(vte(a,A)),[a,h]),y=p.useCallback(A=>h(UWt(a,A)),[a,h]),b=p.useCallback(A=>{c(TL(ZU(A,s.getHours()),s.getMinutes()))},[c,s]),x=p.useCallback(A=>{const I=Number(A.currentTarget.value);c(TL(s,I))},[c,s]),_=p.useCallback(A=>{const I=Number(A.currentTarget.value);c(ZU(s,I))},[c,s]);p.useCallback((A,I)=>{c(ZU(TL(s,I),A))},[c,s]);const w=Ko(r),C=p.useCallback(()=>{var A,I;(I=(A=w.current)==null?void 0:A.querySelector('[data-focused="true"]'))==null||I.focus()},[w]),S=p.useCallback(A=>{var I,D;if(!jGt.includes(A.key))return;const R=A.currentTarget;if(A.preventDefault(),R.hasAttribute("data-calendar-grid")){C();return}A.key==="ArrowUp"&&o(vc(a,-7)),A.key==="ArrowDown"&&o(vc(a,7)),A.key==="ArrowLeft"&&o(vc(a,-1)),A.key==="ArrowRight"&&o(vc(a,1)),(D=(I=w.current)==null?void 0:I.querySelector("[data-preserve-focus]"))==null||D.focus()},[w,C,o,a]);p.useEffect(()=>{C()},[C]),p.useEffect(()=>{var A;((A=document.activeElement)==null?void 0:A.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&C()},[w,C,a]),p.useCallback(()=>b(vc(new Date,-1)),[b]),p.useCallback(()=>b(new Date),[b]),p.useCallback(()=>b(vc(new Date,1)),[b]);const T=p.useCallback(()=>c(new Date),[c]);return d.jsxs(te,{"data-ui":"Calendar",...f,ref:w,children:[d.jsxs(te,{padding:2,children:[rme.dayPresets,d.jsxs(oe,{children:[d.jsx(te,{flex:1,children:d.jsx(VGt,{onChange:g,monthNames:u.monthNames,value:a==null?void 0:a.getMonth()})}),d.jsx(te,{marginLeft:2,children:d.jsx(HGt,{moveFocusedDate:v,labels:{goToNextYear:u.goToNextYear,goToPreviousYear:u.goToPreviousYear},onChange:y,value:a.getFullYear()})})]}),d.jsxs(te,{"data-calendar-grid":!0,onKeyDown:S,marginTop:2,overflow:"hidden",tabIndex:0,children:[d.jsx(NGt,{weekDayNames:u.weekDayNamesShort,date:a,focused:a,onSelect:b,selected:s}),UGt]})]}),i&&d.jsxs(te,{padding:2,style:{borderTop:"1px solid var(--card-border-color)"},children:[d.jsxs(oe,{align:"center",children:[d.jsxs(oe,{align:"center",flex:1,children:[d.jsx(te,{children:d.jsx(Sx,{"aria-label":u.selectHour,fontSize:1,padding:2,radius:2,value:s==null?void 0:s.getHours(),onChange:_,children:PGt.map(A=>d.jsx("option",{value:A,children:"".concat(A).padStart(2,"0")},A))})}),d.jsx(te,{paddingX:1,children:d.jsx(J,{size:1,children:":"})}),d.jsx(te,{children:d.jsx(Sx,{"aria-label":u.selectMinute,fontSize:1,padding:2,radius:2,value:s==null?void 0:s.getMinutes(),onChange:x,children:_te(0,60,l).map(A=>d.jsx("option",{value:A,children:"".concat(A).padStart(2,"0")},A))})})]}),d.jsx(te,{marginLeft:2,children:d.jsx(ze,{text:u.setToCurrentTime,mode:"bleed",onClick:T})})]}),rme.timePresets]})]})});function VGt(n){const{onChange:e,value:r,monthNames:i}=n;return d.jsx(oe,{flex:1,gap:1,children:d.jsx(te,{flex:1,children:d.jsx(Sx,{fontSize:1,radius:2,value:r,onChange:e,padding:2,children:i.map((o,s)=>d.jsx("option",{value:s,children:o},s))})})})}function HGt(n){const{moveFocusedDate:e,onChange:r,value:i,labels:o}=n,s=p.useCallback(()=>e(-12),[e]),a=p.useCallback(()=>e(12),[e]);return d.jsxs(oe,{gap:1,children:[d.jsx(ze,{"aria-label":o.goToPreviousYear,onClick:s,mode:"bleed",icon:k8,tooltipProps:{content:"Previous year"},...ime}),d.jsx(BGt,{value:i,onChange:r,radius:0,style:{width:48}}),d.jsx(ze,{"aria-label":o.goToNextYear,onClick:a,mode:"bleed",icon:Ch,tooltipProps:{content:"Next year"},...ime})]})}const RHe=p.forwardRef(function(e,r){const{value:i=new Date,onChange:o,calendarLabels:s,...a}=e,[l,c]=p.useState(),u=p.useCallback(f=>{o(f),c(void 0)},[o]);return d.jsx(zGt,{...a,labels:s,ref:r,selectedDate:i,onSelect:u,focusedDate:l||i,onFocusedDateChange:c})});function WGt(n){return n instanceof Date&&!isNaN(n.valueOf())}function Ste(n){return{goToTomorrow:n("calendar.action.go-to-tomorrow"),goToToday:n("calendar.action.go-to-today"),goToYesterday:n("calendar.action.go-to-yesterday"),goToNextMonth:n("calendar.action.go-to-next-month"),goToPreviousMonth:n("calendar.action.go-to-previous-month"),goToNextYear:n("calendar.action.go-to-next-year"),goToPreviousYear:n("calendar.action.go-to-previous-year"),setToCurrentTime:n("calendar.action.set-to-current-time"),selectHour:n("calendar.action.select-hour"),selectMinute:n("calendar.action.select-minute"),monthNames:[n("calendar.month-names.january"),n("calendar.month-names.february"),n("calendar.month-names.march"),n("calendar.month-names.april"),n("calendar.month-names.may"),n("calendar.month-names.june"),n("calendar.month-names.july"),n("calendar.month-names.august"),n("calendar.month-names.september"),n("calendar.month-names.october"),n("calendar.month-names.november"),n("calendar.month-names.december")],weekDayNamesShort:[n("calendar.weekday-names.short.monday"),n("calendar.weekday-names.short.tuesday"),n("calendar.weekday-names.short.wednesday"),n("calendar.weekday-names.short.thursday"),n("calendar.weekday-names.short.friday"),n("calendar.weekday-names.short.saturday"),n("calendar.weekday-names.short.sunday")],setToTimePreset:(e,r)=>n("calendar.action.set-to-time-preset",{time:e,date:r})}}async function OHe(n,e){const r=e?{headers:{Authorization:"Bearer ".concat(e)}}:{credentials:"include"},i=await fetch(n,r);return GGt(i)}function GGt(n){const e=n.body;if(!e)throw new Error("Failed to read body from response");let r,i=!1;return new ReadableStream({start(o){r=e.getReader();const s=new TextDecoder;let a="";r.read().then(function l(c){if(c.done){if(i)return;if(a=a.trim(),a.length===0){o.close();return}o.enqueue(JSON.parse(a)),o.close();return}a+=s.decode(c.value,{stream:!0});const u=a.split(`
`);for(let f=0;f<u.length-1;++f){const h=u[f].trim();if(h.length!==0)try{o.enqueue(JSON.parse(h))}catch(m){o.error(m),i=!0,r.cancel();return}}return a=u[u.length-1],r.read().then(l).catch(f=>o.error(f))}).catch(l=>o.error(l))},cancel(){i=!0,r.cancel()}})}var kp;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(kp||(kp={}));var $3=function(n){return n},ome="beforeunload",qGt="popstate";function KGt(n){n===void 0&&(n={});var e=n,r=e.window,i=r===void 0?document.defaultView:r,o=i.history;function s(){var A=i.location,I=A.pathname,D=A.search,R=A.hash,P=o.state||{};return[P.idx,$3({pathname:I,search:D,hash:R,state:P.usr||null,key:P.key||"default"})]}var a=null;function l(){if(a)g.call(a),a=null;else{var A=kp.Pop,I=s(),D=I[0],R=I[1];if(g.length){if(D!=null){var P=f-D;P&&(a={action:A,location:R,retry:function(){S(P*-1)}},S(P))}}else _(A)}}i.addEventListener(qGt,l);var c=kp.Pop,u=s(),f=u[0],h=u[1],m=M3(),g=M3();f==null&&(f=0,o.replaceState(Rg({},o.state,{idx:f}),""));function v(A){return typeof A=="string"?A:PHe(A)}function y(A,I){return I===void 0&&(I=null),$3(Rg({pathname:h.pathname,hash:"",search:""},typeof A=="string"?zq(A):A,{state:I,key:Uq()}))}function b(A,I){return[{usr:A.state,key:A.key,idx:I},v(A)]}function x(A,I,D){return!g.length||(g.call({action:A,location:I,retry:D}),!1)}function _(A){c=A;var I=s();f=I[0],h=I[1],m.call({action:c,location:h})}function w(A,I){var D=kp.Push,R=y(A,I);function P(){w(A,I)}if(x(D,R,P)){var O=b(R,f+1),$=O[0],L=O[1];try{o.pushState($,"",L)}catch{i.location.assign(L)}_(D)}}function C(A,I){var D=kp.Replace,R=y(A,I);function P(){C(A,I)}if(x(D,R,P)){var O=b(R,f),$=O[0],L=O[1];o.replaceState($,"",L),_(D)}}function S(A){o.go(A)}var T={get action(){return c},get location(){return h},createHref:v,push:w,replace:C,go:S,back:function(){S(-1)},forward:function(){S(1)},listen:function(I){return m.push(I)},block:function(I){var D=g.push(I);return g.length===1&&i.addEventListener(ome,ame),function(){D(),g.length||i.removeEventListener(ome,ame)}}};return T}function YGt(n){n===void 0&&(n={});var e=n,r=e.initialEntries,i=r===void 0?["/"]:r,o=e.initialIndex,s=i.map(function(w){var C=$3(Rg({pathname:"/",search:"",hash:"",state:null,key:Uq()},typeof w=="string"?zq(w):w));return C}),a=sme(o??s.length-1,0,s.length-1),l=kp.Pop,c=s[a],u=M3(),f=M3();function h(w){return typeof w=="string"?w:PHe(w)}function m(w,C){return C===void 0&&(C=null),$3(Rg({pathname:c.pathname,search:"",hash:""},typeof w=="string"?zq(w):w,{state:C,key:Uq()}))}function g(w,C,S){return!f.length||(f.call({action:w,location:C,retry:S}),!1)}function v(w,C){l=w,c=C,u.call({action:l,location:c})}function y(w,C){var S=kp.Push,T=m(w,C);function A(){y(w,C)}g(S,T,A)&&(a+=1,s.splice(a,s.length,T),v(S,T))}function b(w,C){var S=kp.Replace,T=m(w,C);function A(){b(w,C)}g(S,T,A)&&(s[a]=T,v(S,T))}function x(w){var C=sme(a+w,0,s.length-1),S=kp.Pop,T=s[C];function A(){x(w)}g(S,T,A)&&(a=C,v(S,T))}var _={get index(){return a},get action(){return l},get location(){return c},createHref:h,push:y,replace:b,go:x,back:function(){x(-1)},forward:function(){x(1)},listen:function(C){return u.push(C)},block:function(C){return f.push(C)}};return _}function sme(n,e,r){return Math.min(Math.max(n,e),r)}function ame(n){n.preventDefault(),n.returnValue=""}function M3(){var n=[];return{get length(){return n.length},push:function(r){return n.push(r),function(){n=n.filter(function(i){return i!==r})}},call:function(r){n.forEach(function(i){return i&&i(r)})}}}function Uq(){return Math.random().toString(36).substr(2,8)}function PHe(n){var e=n.pathname,r=e===void 0?"/":e,i=n.search,o=i===void 0?"":i,s=n.hash,a=s===void 0?"":s;return o&&o!=="?"&&(r+=o.charAt(0)==="?"?o:"?"+o),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function zq(n){var e={};if(n){var r=n.indexOf("#");r>=0&&(e.hash=n.substr(r),n=n.substr(0,r));var i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}const ZGt={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console&&console[n]&&console[n].apply(console,e)}};class F3{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,r)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=e||ZGt,this.options=r,this.debug=r.debug}log(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return this.forward(r,"log","",!0)}warn(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return this.forward(r,"warn","",!0)}error(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return this.forward(r,"error","")}deprecate(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,i,o){return o&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new F3(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new F3(this.logger,e)}}var Tp=new F3;let C6=class{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const o=this.observers[i].get(r)||0;this.observers[i].set(r,o+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[l,c]=a;for(let u=0;u<c;u++)l(...i)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[l,c]=a;for(let u=0;u<c;u++)l.apply(l,[e,...i])})}};function fk(){let n,e;const r=new Promise((i,o)=>{n=i,e=o});return r.resolve=n,r.reject=e,r}function lme(n){return n==null?"":""+n}function XGt(n,e,r){n.forEach(i=>{e[i]&&(r[i]=e[i])})}const QGt=/###/g;function TA(n,e,r){function i(l){return l&&l.indexOf("###")>-1?l.replace(QGt,"."):l}function o(){return!n||typeof n=="string"}const s=typeof e!="string"?e:e.split(".");let a=0;for(;a<s.length-1;){if(o())return{};const l=i(s[a]);!n[l]&&r&&(n[l]=new r),Object.prototype.hasOwnProperty.call(n,l)?n=n[l]:n={},++a}return o()?{}:{obj:n,k:i(s[a])}}function cme(n,e,r){const{obj:i,k:o}=TA(n,e,Object);if(i!==void 0||e.length===1){i[o]=r;return}let s=e[e.length-1],a=e.slice(0,e.length-1),l=TA(n,a,Object);for(;l.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),l=TA(n,a,Object),l&&l.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=r}function JGt(n,e,r,i){const{obj:o,k:s}=TA(n,e,Object);o[s]=o[s]||[],i&&(o[s]=o[s].concat(r)),i||o[s].push(r)}function N3(n,e){const{obj:r,k:i}=TA(n,e);if(r)return r[i]}function eqt(n,e,r){const i=N3(n,r);return i!==void 0?i:N3(e,r)}function jHe(n,e,r){for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in n?typeof n[i]=="string"||n[i]instanceof String||typeof e[i]=="string"||e[i]instanceof String?r&&(n[i]=e[i]):jHe(n[i],e[i],r):n[i]=e[i]);return n}function Xw(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var tqt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function nqt(n){return typeof n=="string"?n.replace(/[&<>"'\/]/g,e=>tqt[e]):n}class rqt{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const iqt=[" ",",","?","!",";"],oqt=new rqt(20);function sqt(n,e,r){e=e||"",r=r||"";const i=iqt.filter(a=>e.indexOf(a)<0&&r.indexOf(a)<0);if(i.length===0)return!0;const o=oqt.getRegExp(`(${i.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!o.test(n);if(!s){const a=n.indexOf(r);a>0&&!o.test(n.substring(0,a))&&(s=!0)}return s}function Vq(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return n[e];const i=e.split(r);let o=n;for(let s=0;s<i.length;){if(!o||typeof o!="object")return;let a,l="";for(let c=s;c<i.length;++c)if(c!==s&&(l+=r),l+=i[c],a=o[l],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<i.length-1)continue;s+=c-s+1;break}o=a}return o}function B3(n){return n&&n.indexOf("_")>0?n.replace("_","-"):n}class ume extends C6{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,a=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,r],i&&(Array.isArray(i)?l.push(...i):typeof i=="string"&&s?l.push(...i.split(s)):l.push(i)));const c=N3(this.data,l);return!c&&!r&&!i&&e.indexOf(".")>-1&&(e=l[0],r=l[1],i=l.slice(2).join(".")),c||!a||typeof i!="string"?c:Vq(this.data&&this.data[e]&&this.data[e][r],i,s)}addResource(e,r,i,o){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let l=[e,r];i&&(l=l.concat(a?i.split(a):i)),e.indexOf(".")>-1&&(l=e.split("."),o=r,r=l[1]),this.addNamespaces(r),cme(this.data,l,o),s.silent||this.emit("added",e,r,i,o)}addResources(e,r,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in i)(typeof i[s]=="string"||Object.prototype.toString.apply(i[s])==="[object Array]")&&this.addResource(e,r,s,i[s],{silent:!0});o.silent||this.emit("added",e,r,i)}addResourceBundle(e,r,i,o,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[e,r];e.indexOf(".")>-1&&(l=e.split("."),o=i,i=r,r=l[1]),this.addNamespaces(r);let c=N3(this.data,l)||{};a.skipCopy||(i=JSON.parse(JSON.stringify(i))),o?jHe(c,i,s):c={...c,...i},cme(this.data,l,c),a.silent||this.emit("added",e,r,i)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,r)}:this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(o=>r[o]&&Object.keys(r[o]).length>0)}toJSON(){return this.data}}var LHe={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,r,i,o){return n.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,r,i,o))}),e}};const dme={};class U3 extends C6{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),XGt(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Tp.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const i=this.resolve(e,r);return i&&i.res!==void 0}extractFromKey(e,r){let i=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const a=i&&e.indexOf(i)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!sqt(e,i,o);if(a&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:s};const u=e.split(i);(i!==o||i===o&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(o)}return typeof s=="string"&&(s=[s]),{key:e,namespaces:s}}translate(e,r,i){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(e[e.length-1],r),c=l[l.length-1],u=r.lng||this.language,f=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(f){const C=r.nsSeparator||this.options.nsSeparator;return o?{res:`${c}${C}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:`${c}${C}${a}`}return o?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:a}const h=this.resolve(e,r);let m=h&&h.res;const g=h&&h.usedKey||a,v=h&&h.exactUsedKey||a,y=Object.prototype.toString.apply(m),b=["[object Number]","[object Function]","[object RegExp]"],x=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject;if(_&&m&&(typeof m!="string"&&typeof m!="boolean"&&typeof m!="number")&&b.indexOf(y)<0&&!(typeof x=="string"&&y==="[object Array]")){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,m,{...r,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return o?(h.res=C,h.usedParams=this.getUsedParamsDetails(r),h):C}if(s){const C=y==="[object Array]",S=C?[]:{},T=C?v:g;for(const A in m)if(Object.prototype.hasOwnProperty.call(m,A)){const I=`${T}${s}${A}`;S[A]=this.translate(I,{...r,joinArrays:!1,ns:l}),S[A]===I&&(S[A]=m[A])}m=S}}else if(_&&typeof x=="string"&&y==="[object Array]")m=m.join(x),m&&(m=this.extendTranslation(m,e,r,i));else{let C=!1,S=!1;const T=r.count!==void 0&&typeof r.count!="string",A=U3.hasDefaultValue(r),I=T?this.pluralResolver.getSuffix(u,r.count,r):"",D=r.ordinal&&T?this.pluralResolver.getSuffix(u,r.count,{ordinal:!1}):"",R=T&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),P=R&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${I}`]||r[`defaultValue${D}`]||r.defaultValue;!this.isValidLookup(m)&&A&&(C=!0,m=P),this.isValidLookup(m)||(S=!0,m=a);const $=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&S?void 0:m,L=A&&P!==m&&this.options.updateMissing;if(S||C||L){if(this.logger.log(L?"updateKey":"missingKey",u,c,a,L?P:m),s){const B=this.resolve(a,{...r,keySeparator:!1});B&&B.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let M=[];const N=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&N&&N[0])for(let B=0;B<N.length;B++)M.push(N[B]);else this.options.saveMissingTo==="all"?M=this.languageUtils.toResolveHierarchy(r.lng||this.language):M.push(r.lng||this.language);const z=(B,H,X)=>{const G=A&&X!==m?X:$;this.options.missingKeyHandler?this.options.missingKeyHandler(B,c,H,G,L,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(B,c,H,G,L,r),this.emit("missingKey",B,c,H,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?M.forEach(B=>{const H=this.pluralResolver.getSuffixes(B,r);R&&r[`defaultValue${this.options.pluralSeparator}zero`]&&H.indexOf(`${this.options.pluralSeparator}zero`)<0&&H.push(`${this.options.pluralSeparator}zero`),H.forEach(X=>{z([B],a+X,r[`defaultValue${X}`]||P)})}):z(M,a,P))}m=this.extendTranslation(m,e,r,h,i),S&&m===a&&this.options.appendNamespaceToMissingKey&&(m=`${c}:${a}`),(S||C)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${a}`:a,C?m:void 0):m=this.options.parseMissingKeyHandler(m))}return o?(h.res=m,h.usedParams=this.getUsedParamsDetails(r),h):m}extendTranslation(e,r,i,o,s){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const u=typeof e=="string"&&(i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(u){const m=e.match(this.interpolator.nestingRegexp);f=m&&m.length}let h=i.replace&&typeof i.replace!="string"?i.replace:i;if(this.options.interpolation.defaultVariables&&(h={...this.options.interpolation.defaultVariables,...h}),e=this.interpolator.interpolate(e,h,i.lng||this.language,i),u){const m=e.match(this.interpolator.nestingRegexp),g=m&&m.length;f<g&&(i.nest=!1)}!i.lng&&this.options.compatibilityAPI!=="v1"&&o&&o.res&&(i.lng=o.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var m=arguments.length,g=new Array(m),v=0;v<m;v++)g[v]=arguments[v];return s&&s[0]===g[0]&&!i.context?(a.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${r[0]}`),null):a.translate(...g,r)},i)),i.interpolation&&this.interpolator.reset()}const l=i.postProcess||this.options.postProcess,c=typeof l=="string"?[l]:l;return e!=null&&c&&c.length&&i.applyPostProcessor!==!1&&(e=LHe.handle(c,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i,o,s,a,l;return typeof e=="string"&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(i))return;const u=this.extractFromKey(c,r),f=u.key;o=f;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const m=r.count!==void 0&&typeof r.count!="string",g=m&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),v=r.context!==void 0&&(typeof r.context=="string"||typeof r.context=="number")&&r.context!=="",y=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);h.forEach(b=>{this.isValidLookup(i)||(l=b,!dme[`${y[0]}-${b}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(dme[`${y[0]}-${b}`]=!0,this.logger.warn(`key "${o}" for languages "${y.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(x=>{if(this.isValidLookup(i))return;a=x;const _=[f];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(_,f,x,b,r);else{let C;m&&(C=this.pluralResolver.getSuffix(x,r.count,r));const S=`${this.options.pluralSeparator}zero`,T=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(_.push(f+C),r.ordinal&&C.indexOf(T)===0&&_.push(f+C.replace(T,this.options.pluralSeparator)),g&&_.push(f+S)),v){const A=`${f}${this.options.contextSeparator}${r.context}`;_.push(A),m&&(_.push(A+C),r.ordinal&&C.indexOf(T)===0&&_.push(A+C.replace(T,this.options.pluralSeparator)),g&&_.push(A+S))}}let w;for(;w=_.pop();)this.isValidLookup(i)||(s=w,i=this.getResource(x,b,w,r))}))})}),{res:i,usedKey:o,exactUsedKey:s,usedLng:a,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,r,i,o):this.resourceStore.getResource(e,r,i,o)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&typeof e.replace!="string";let o=i?e.replace:e;if(i&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!i){o={...o};for(const s of r)delete o[s]}return o}static hasDefaultValue(e){const r="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&r===i.substring(0,r.length)&&e[i]!==void 0)return!0;return!1}}function JU(n){return n.charAt(0).toUpperCase()+n.slice(1)}class fme{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Tp.create("languageUtils")}getScriptPartFromCode(e){if(e=B3(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=B3(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const r=["hans","hant","latn","cyrl","cans","mong","arab"];let i=e.split("-");return this.options.lowerCaseLng?i=i.map(o=>o.toLowerCase()):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=JU(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=JU(i[1].toLowerCase())),r.indexOf(i[2].toLowerCase())>-1&&(i[2]=JU(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(i=>{if(r)return;const o=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(o))&&(r=o)}),!r&&this.options.supportedLngs&&e.forEach(i=>{if(r)return;const o=this.getLanguagePartFromCode(i);if(this.isSupportedCode(o))return r=o;r=this.options.supportedLngs.find(s=>{if(s===o)return s;if(!(s.indexOf("-")<0&&o.indexOf("-")<0)&&(s.indexOf("-")>0&&o.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===o||s.indexOf(o)===0&&o.length>1))return s})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!r)return e.default||[];let i=e[r];return i||(i=e[this.getScriptPartFromCode(r)]),i||(i=e[this.formatLanguageCode(r)]),i||(i=e[this.getLanguagePartFromCode(r)]),i||(i=e.default),i||[]}toResolveHierarchy(e,r){const i=this.getFallbackCodes(r||this.options.fallbackLng||[],e),o=[],s=a=>{a&&(this.isSupportedCode(a)?o.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):typeof e=="string"&&s(this.formatLanguageCode(e)),i.forEach(a=>{o.indexOf(a)<0&&s(this.formatLanguageCode(a))}),o}}let aqt=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],lqt={1:function(n){return+(n>1)},2:function(n){return+(n!=1)},3:function(n){return 0},4:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},5:function(n){return n==0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},6:function(n){return n==1?0:n>=2&&n<=4?1:2},7:function(n){return n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},8:function(n){return n==1?0:n==2?1:n!=8&&n!=11?2:3},9:function(n){return+(n>=2)},10:function(n){return n==1?0:n==2?1:n<7?2:n<11?3:4},11:function(n){return n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3},12:function(n){return+(n%10!=1||n%100==11)},13:function(n){return+(n!==0)},14:function(n){return n==1?0:n==2?1:n==3?2:3},15:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2},16:function(n){return n%10==1&&n%100!=11?0:n!==0?1:2},17:function(n){return n==1||n%10==1&&n%100!=11?0:1},18:function(n){return n==0?0:n==1?1:2},19:function(n){return n==1?0:n==0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3},20:function(n){return n==1?0:n==0||n%100>0&&n%100<20?1:2},21:function(n){return n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0},22:function(n){return n==1?0:n==2?1:(n<0||n>10)&&n%10==0?2:3}};const cqt=["v1","v2","v3"],uqt=["v4"],hme={zero:0,one:1,two:2,few:3,many:4,other:5};function dqt(){const n={};return aqt.forEach(e=>{e.lngs.forEach(r=>{n[r]={numbers:e.nr,plurals:lqt[e.fc]}})}),n}class fqt{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=r,this.logger=Tp.create("pluralResolver"),(!this.options.compatibilityJSON||uqt.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=dqt()}addRule(e,r){this.rules[e]=r}getRule(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(B3(e==="dev"?"en":e),{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,r);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}getPluralFormsOfKey(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,i).map(o=>`${r}${o}`)}getSuffixes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getRule(e,r);return i?this.shouldUseIntlApi()?i.resolvedOptions().pluralCategories.sort((o,s)=>hme[o]-hme[s]).map(o=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${o}`):i.numbers.map(o=>this.getSuffix(e,o,r)):[]}getSuffix(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=this.getRule(e,i);return o?this.shouldUseIntlApi()?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${o.select(r)}`:this.getSuffixRetroCompatible(o,r):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,r){const i=e.noAbs?e.plurals(r):e.plurals(Math.abs(r));let o=e.numbers[i];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));const s=()=>this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString();return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?`_plural_${o.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}shouldUseIntlApi(){return!cqt.includes(this.options.compatibilityJSON)}}function pme(n,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=eqt(n,e,r);return!s&&o&&typeof r=="string"&&(s=Vq(n,r,i),s===void 0&&(s=Vq(e,r,i))),s}class hqt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Tp.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const r=e.interpolation;this.escape=r.escape!==void 0?r.escape:nqt,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?Xw(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?Xw(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?Xw(r.nestingPrefix):r.nestingPrefixEscaped||Xw("$t("),this.nestingSuffix=r.nestingSuffix?Xw(r.nestingSuffix):r.nestingSuffixEscaped||Xw(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,i)=>r&&r.source===i?(r.lastIndex=0,r):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,r,i,o){let s,a,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(v){return v.replace(/\$/g,"$$$$")}const f=v=>{if(v.indexOf(this.formatSeparator)<0){const _=pme(r,c,v,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(_,void 0,i,{...o,...r,interpolationkey:v}):_}const y=v.split(this.formatSeparator),b=y.shift().trim(),x=y.join(this.formatSeparator).trim();return this.format(pme(r,c,b,this.options.keySeparator,this.options.ignoreJSONStructure),x,i,{...o,...r,interpolationkey:b})};this.resetRegExp();const h=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,m=o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:v=>u(v)},{regex:this.regexp,safeValue:v=>this.escapeValue?u(this.escape(v)):u(v)}].forEach(v=>{for(l=0;s=v.regex.exec(e);){const y=s[1].trim();if(a=f(y),a===void 0)if(typeof h=="function"){const x=h(e,s,o);a=typeof x=="string"?x:""}else if(o&&Object.prototype.hasOwnProperty.call(o,y))a="";else if(m){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),a="";else typeof a!="string"&&!this.useRawValueToEscape&&(a=lme(a));const b=v.safeValue(a);if(e=e.replace(s[0],b),m?(v.regex.lastIndex+=a.length,v.regex.lastIndex-=s[0].length):v.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,s,a;function l(c,u){const f=this.nestingOptionsSeparator;if(c.indexOf(f)<0)return c;const h=c.split(new RegExp(`${f}[ ]*{`));let m=`{${h[1]}`;c=h[0],m=this.interpolate(m,a);const g=m.match(/'/g),v=m.match(/"/g);(g&&g.length%2===0&&!v||v.length%2!==0)&&(m=m.replace(/'/g,'"'));try{a=JSON.parse(m),u&&(a={...u,...a})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,y),`${c}${f}${m}`}return delete a.defaultValue,c}for(;o=this.nestingRegexp.exec(e);){let c=[];a={...i},a=a.replace&&typeof a.replace!="string"?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){const f=o[1].split(this.formatSeparator).map(h=>h.trim());o[1]=f.shift(),c=f,u=!0}if(s=r(l.call(this,o[1].trim(),a),a),s&&o[0]===e&&typeof s!="string")return s;typeof s!="string"&&(s=lme(s)),s||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),s=""),u&&(s=c.reduce((f,h)=>this.format(f,h,i.lng,{...i,interpolationkey:o[1].trim()}),s.trim())),e=e.replace(o[0],s),this.regexp.lastIndex=0}return e}}function pqt(n){let e=n.toLowerCase().trim();const r={};if(n.indexOf("(")>-1){const i=n.split("(");e=i[0].toLowerCase().trim();const o=i[1].substring(0,i[1].length-1);e==="currency"&&o.indexOf(":")<0?r.currency||(r.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?r.range||(r.range=o.trim()):o.split(";").forEach(a=>{if(!a)return;const[l,...c]=a.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,"");r[l.trim()]||(r[l.trim()]=u),u==="false"&&(r[l.trim()]=!1),u==="true"&&(r[l.trim()]=!0),isNaN(u)||(r[l.trim()]=parseInt(u,10))})}return{formatName:e,formatOptions:r}}function Qw(n){const e={};return function(i,o,s){const a=o+JSON.stringify(s);let l=e[a];return l||(l=n(B3(o),s),e[a]=l),l(i)}}class mqt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Tp.create("formatter"),this.options=e,this.formats={number:Qw((r,i)=>{const o=new Intl.NumberFormat(r,{...i});return s=>o.format(s)}),currency:Qw((r,i)=>{const o=new Intl.NumberFormat(r,{...i,style:"currency"});return s=>o.format(s)}),datetime:Qw((r,i)=>{const o=new Intl.DateTimeFormat(r,{...i});return s=>o.format(s)}),relativetime:Qw((r,i)=>{const o=new Intl.RelativeTimeFormat(r,{...i});return s=>o.format(s,i.range||"day")}),list:Qw((r,i)=>{const o=new Intl.ListFormat(r,{...i});return s=>o.format(s)})},this.init(e)}init(e){const i=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Qw(r)}format(e,r,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return r.split(this.formatSeparator).reduce((l,c)=>{const{formatName:u,formatOptions:f}=pqt(c);if(this.formats[u]){let h=l;try{const m=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},g=m.locale||m.lng||o.locale||o.lng||i;h=this.formats[u](l,g,{...f,...o,...m})}catch(m){this.logger.warn(m)}return h}else this.logger.warn(`there was no format function for ${u}`);return l},e)}}function gqt(n,e){n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)}let vqt=class extends C6{constructor(e,r,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=r,this.services=i,this.languageUtils=i.languageUtils,this.options=o,this.logger=Tp.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(i,o.backend,o)}queueLoad(e,r,i,o){const s={},a={},l={},c={};return e.forEach(u=>{let f=!0;r.forEach(h=>{const m=`${u}|${h}`;!i.reload&&this.store.hasResourceBundle(u,h)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?a[m]===void 0&&(a[m]=!0):(this.state[m]=1,f=!1,a[m]===void 0&&(a[m]=!0),s[m]===void 0&&(s[m]=!0),c[h]===void 0&&(c[h]=!0)))}),f||(l[u]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,r,i){const o=e.split("|"),s=o[0],a=o[1];r&&this.emit("failedLoading",s,a,r),i&&this.store.addResourceBundle(s,a,i,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2;const l={};this.queue.forEach(c=>{JGt(c.loaded,[s],a),gqt(c,e),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const f=c.loaded[u];f.length&&f.forEach(h=>{l[u][h]===void 0&&(l[u][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,r,i){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:i,tried:o,wait:s,callback:a});return}this.readingCalls++;const l=(u,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&f&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,i,o+1,s*2,a)},s);return}a(u,f)},c=this.backend[i].bind(this.backend);if(c.length===2){try{const u=c(e,r);u&&typeof u.then=="function"?u.then(f=>l(null,f)).catch(l):l(null,u)}catch(u){l(u)}return}return c(e,r,l)}prepareLoading(e,r){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof r=="string"&&(r=[r]);const s=this.queueLoad(e,r,i,o);if(!s.toLoad.length)return s.pending.length||o(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,r,i){this.prepareLoading(e,r,{},i)}reload(e,r,i){this.prepareLoading(e,r,{reload:!0},i)}loadOne(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const i=e.split("|"),o=i[0],s=i[1];this.read(o,s,"read",void 0,void 0,(a,l)=>{a&&this.logger.warn(`${r}loading namespace ${s} for language ${o} failed`,a),!a&&l&&this.logger.log(`${r}loaded namespace ${s} for language ${o}`,l),this.loaded(e,a,l)})}saveMissing(e,r,i,o,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${i}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend&&this.backend.create){const c={...a,isUpdate:s},u=this.backend.create.bind(this.backend);if(u.length<6)try{let f;u.length===5?f=u(e,r,i,o,c):f=u(e,r,i,o),f&&typeof f.then=="function"?f.then(h=>l(null,h)).catch(l):l(null,f)}catch(f){l(f)}else u(e,r,i,o,l,c)}!e||!e[0]||this.store.addResource(e[0],r,i,o)}}};function mme(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let r={};if(typeof e[1]=="object"&&(r=e[1]),typeof e[1]=="string"&&(r.defaultValue=e[1]),typeof e[2]=="string"&&(r.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const i=e[3]||e[2];Object.keys(i).forEach(o=>{r[o]=i[o]})}return r},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function gme(n){return typeof n.ns=="string"&&(n.ns=[n.ns]),typeof n.fallbackLng=="string"&&(n.fallbackLng=[n.fallbackLng]),typeof n.fallbackNS=="string"&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs&&n.supportedLngs.indexOf("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),n}function eP(){}function yqt(n){Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(r=>{typeof n[r]=="function"&&(n[r]=n[r].bind(n))})}class C5 extends C6{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=gme(e),this.services={},this.logger=Tp,this.modules={external:[]},yqt(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(){var e=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(i=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(typeof r.ns=="string"?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const o=mme();this.options={...o,...this.options,...gme(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...o.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);function s(f){return f?typeof f=="function"?new f:f:null}if(!this.options.isClone){this.modules.logger?Tp.init(s(this.modules.logger),this.options):Tp.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:typeof Intl<"u"&&(f=mqt);const h=new fme(this.options);this.store=new ume(this.options.resources,this.options);const m=this.services;m.logger=Tp,m.resourceStore=this.store,m.languageUtils=h,m.pluralResolver=new fqt(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(m.formatter=s(f),m.formatter.init(m,this.options),this.options.interpolation.format=m.formatter.format.bind(m.formatter)),m.interpolator=new hqt(this.options),m.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},m.backendConnector=new vqt(s(this.modules.backend),m.resourceStore,m,this.options),m.backendConnector.on("*",function(g){for(var v=arguments.length,y=new Array(v>1?v-1:0),b=1;b<v;b++)y[b-1]=arguments[b];e.emit(g,...y)}),this.modules.languageDetector&&(m.languageDetector=s(this.modules.languageDetector),m.languageDetector.init&&m.languageDetector.init(m,this.options.detection,this.options)),this.modules.i18nFormat&&(m.i18nFormat=s(this.modules.i18nFormat),m.i18nFormat.init&&m.i18nFormat.init(this)),this.translator=new U3(this.services,this.options),this.translator.on("*",function(g){for(var v=arguments.length,y=new Array(v>1?v-1:0),b=1;b<v;b++)y[b-1]=arguments[b];e.emit(g,...y)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,i||(i=eP),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=function(){return e.store[f](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=function(){return e.store[f](...arguments),e}});const c=fk(),u=()=>{const f=(h,m)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(m),i(h,m)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),c}loadResources(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:eP;const o=typeof e=="string"?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(o&&o.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const s=[],a=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};o?a(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>a(c)),this.options.preload&&this.options.preload.forEach(l=>a(l)),this.services.backendConnector.load(s,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(l)})}else i(null)}reloadResources(e,r,i){const o=fk();return e||(e=this.languages),r||(r=this.options.ns),i||(i=eP),this.services.backendConnector.reload(e,r,s=>{o.resolve(),i(s)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&LHe.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let r=0;r<this.languages.length;r++){const i=this.languages[r];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}changeLanguage(e,r){var i=this;this.isLanguageChangingTo=e;const o=fk();this.emit("languageChanging",e);const s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},a=(c,u)=>{u?(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,o.resolve(function(){return i.t(...arguments)}),r&&r(c,function(){return i.t(...arguments)})},l=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const u=typeof c=="string"?c:this.services.languageUtils.getBestMatchFromCodes(c);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,f=>{a(f,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),o}getFixedT(e,r,i){var o=this;const s=function(a,l){let c;if(typeof l!="object"){for(var u=arguments.length,f=new Array(u>2?u-2:0),h=2;h<u;h++)f[h-2]=arguments[h];c=o.options.overloadTranslationOptionHandler([a,l].concat(f))}else c={...l};c.lng=c.lng||s.lng,c.lngs=c.lngs||s.lngs,c.ns=c.ns||s.ns,c.keyPrefix=c.keyPrefix||i||s.keyPrefix;const m=o.options.keySeparator||".";let g;return c.keyPrefix&&Array.isArray(a)?g=a.map(v=>`${c.keyPrefix}${m}${v}`):g=c.keyPrefix?`${c.keyPrefix}${m}${a}`:a,o.t(g,c)};return typeof e=="string"?s.lng=e:s.lngs=e,s.ns=r,s.keyPrefix=i,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=r.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const a=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===2};if(r.precheck){const l=r.precheck(this,a);if(l!==void 0)return l}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(i,e)&&(!o||a(s,e)))}loadNamespaces(e,r){const i=fk();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{i.resolve(),r&&r(o)}),i):(r&&r(),Promise.resolve())}loadLanguages(e,r){const i=fk();typeof e=="string"&&(e=[e]);const o=this.options.preload||[],s=e.filter(a=>o.indexOf(a)<0);return s.length?(this.options.preload=o.concat(s),this.loadResources(a=>{i.resolve(),r&&r(a)}),i):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services&&this.services.languageUtils||new fme(mme());return r.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new C5(e,r)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:eP;const i=e.forkResourceStore;i&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},s=new C5(o);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},i&&(s.store=new ume(this.store.data,o),s.services.resourceStore=s.store),s.translator=new U3(s.services,o),s.translator.on("*",function(l){for(var c=arguments.length,u=new Array(c>1?c-1:0),f=1;f<c;f++)u[f-1]=arguments[f];s.emit(l,...u)}),s.init(o,r),s.translator.options=o,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Oc=C5.createInstance();Oc.createInstance=C5.createInstance;const $He=Oc.createInstance;Oc.dir;Oc.init;Oc.loadResources;Oc.reloadResources;Oc.use;Oc.changeLanguage;Oc.getFixedT;Oc.t;Oc.exists;Oc.setDefaultNamespace;Oc.hasLoadedNamespace;Oc.loadNamespaces;Oc.loadLanguages;var bqt=U8e,xqt=bqt(Object.getPrototypeOf,Object),kte=xqt,wqt=Hg,_qt=kte,Eqt=ud,Cqt="[object Object]",Sqt=Function.prototype,kqt=Object.prototype,MHe=Sqt.toString,Tqt=kqt.hasOwnProperty,Aqt=MHe.call(Object);function Iqt(n){if(!Eqt(n)||wqt(n)!=Cqt)return!1;var e=_qt(n);if(e===null)return!0;var r=Tqt.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&MHe.call(r)==Aqt}var Tte=Iqt;const io=Tt(Tte);function Dqt(n,e){for(var r=-1,i=n==null?0:n.length;++r<i&&e(n[r],r,n)!==!1;);return n}var Rqt=Dqt,Oqt=Vx,Pqt=function(){try{var n=Oqt(Object,"defineProperty");return n({},"",{}),n}catch{}}(),FHe=Pqt,vme=FHe;function jqt(n,e,r){e=="__proto__"&&vme?vme(n,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[e]=r}var S6=jqt,Lqt=S6,$qt=PI,Mqt=Object.prototype,Fqt=Mqt.hasOwnProperty;function Nqt(n,e,r){var i=n[e];(!(Fqt.call(n,e)&&$qt(i,r))||r===void 0&&!(e in n))&&Lqt(n,e,r)}var Ate=Nqt,Bqt=Ate,Uqt=S6;function zqt(n,e,r,i){var o=!r;r||(r={});for(var s=-1,a=e.length;++s<a;){var l=e[s],c=i?i(r[l],n[l],l,r,n):void 0;c===void 0&&(c=n[l]),o?Uqt(r,l,c):Bqt(r,l,c)}return r}var tw=zqt,Vqt=tw,Hqt=Gg;function Wqt(n,e){return n&&Vqt(e,Hqt(e),n)}var Gqt=Wqt;function qqt(n){var e=[];if(n!=null)for(var r in Object(n))e.push(r);return e}var Kqt=qqt,Yqt=bf,Zqt=i8,Xqt=Kqt,Qqt=Object.prototype,Jqt=Qqt.hasOwnProperty;function eKt(n){if(!Yqt(n))return Xqt(n);var e=Zqt(n),r=[];for(var i in n)i=="constructor"&&(e||!Jqt.call(n,i))||r.push(i);return r}var tKt=eKt,nKt=B8e,rKt=tKt,iKt=Ty;function oKt(n){return iKt(n)?nKt(n,!0):rKt(n)}var k6=oKt,sKt=tw,aKt=k6;function lKt(n,e){return n&&sKt(e,aKt(e),n)}var cKt=lKt,z3={exports:{}};z3.exports;(function(n,e){var r=yf,i=e&&!e.nodeType&&e,o=i&&!0&&n&&!n.nodeType&&n,s=o&&o.exports===i,a=s?r.Buffer:void 0,l=a?a.allocUnsafe:void 0;function c(u,f){if(f)return u.slice();var h=u.length,m=l?l(h):new u.constructor(h);return u.copy(m),m}n.exports=c})(z3,z3.exports);var uKt=z3.exports;function dKt(n,e){var r=-1,i=n.length;for(e||(e=Array(i));++r<i;)e[r]=n[r];return e}var Ite=dKt,fKt=tw,hKt=NQ;function pKt(n,e){return fKt(n,hKt(n),e)}var mKt=pKt,gKt=EQ,vKt=kte,yKt=NQ,bKt=N8e,xKt=Object.getOwnPropertySymbols,wKt=xKt?function(n){for(var e=[];n;)gKt(e,yKt(n)),n=vKt(n);return e}:bKt,NHe=wKt,_Kt=tw,EKt=NHe;function CKt(n,e){return _Kt(n,EKt(n),e)}var SKt=CKt,kKt=M8e,TKt=NHe,AKt=k6;function IKt(n){return kKt(n,AKt,TKt)}var Dte=IKt,DKt=Object.prototype,RKt=DKt.hasOwnProperty;function OKt(n){var e=n.length,r=new n.constructor(e);return e&&typeof n[0]=="string"&&RKt.call(n,"index")&&(r.index=n.index,r.input=n.input),r}var PKt=OKt,yme=$8e;function jKt(n){var e=new n.constructor(n.byteLength);return new yme(e).set(new yme(n)),e}var Rte=jKt,LKt=Rte;function $Kt(n,e){var r=e?LKt(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.byteLength)}var MKt=$Kt,FKt=/\w*$/;function NKt(n){var e=new n.constructor(n.source,FKt.exec(n));return e.lastIndex=n.lastIndex,e}var BKt=NKt,bme=hS,xme=bme?bme.prototype:void 0,wme=xme?xme.valueOf:void 0;function UKt(n){return wme?Object(wme.call(n)):{}}var zKt=UKt,VKt=Rte;function HKt(n,e){var r=e?VKt(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.length)}var WKt=HKt,GKt=Rte,qKt=MKt,KKt=BKt,YKt=zKt,ZKt=WKt,XKt="[object Boolean]",QKt="[object Date]",JKt="[object Map]",eYt="[object Number]",tYt="[object RegExp]",nYt="[object Set]",rYt="[object String]",iYt="[object Symbol]",oYt="[object ArrayBuffer]",sYt="[object DataView]",aYt="[object Float32Array]",lYt="[object Float64Array]",cYt="[object Int8Array]",uYt="[object Int16Array]",dYt="[object Int32Array]",fYt="[object Uint8Array]",hYt="[object Uint8ClampedArray]",pYt="[object Uint16Array]",mYt="[object Uint32Array]";function gYt(n,e,r){var i=n.constructor;switch(e){case oYt:return GKt(n);case XKt:case QKt:return new i(+n);case sYt:return qKt(n,r);case aYt:case lYt:case cYt:case uYt:case dYt:case fYt:case hYt:case pYt:case mYt:return ZKt(n,r);case JKt:return new i;case eYt:case rYt:return new i(n);case tYt:return KKt(n);case nYt:return new i;case iYt:return YKt(n)}}var vYt=gYt,yYt=bf,_me=Object.create,bYt=function(){function n(){}return function(e){if(!yYt(e))return{};if(_me)return _me(e);n.prototype=e;var r=new n;return n.prototype=void 0,r}}(),Ote=bYt,xYt=Ote,wYt=kte,_Yt=i8;function EYt(n){return typeof n.constructor=="function"&&!_Yt(n)?xYt(wYt(n)):{}}var CYt=EYt,SYt=jI,kYt=ud,TYt="[object Map]";function AYt(n){return kYt(n)&&SYt(n)==TYt}var IYt=AYt,DYt=IYt,RYt=bS,Eme=UQ,Cme=Eme&&Eme.isMap,OYt=Cme?RYt(Cme):DYt,PYt=OYt,jYt=jI,LYt=ud,$Yt="[object Set]";function MYt(n){return LYt(n)&&jYt(n)==$Yt}var FYt=MYt,NYt=FYt,BYt=bS,Sme=UQ,kme=Sme&&Sme.isSet,UYt=kme?BYt(kme):NYt,zYt=UYt,VYt=MQ,HYt=Rqt,WYt=Ate,GYt=Gqt,qYt=cKt,KYt=uKt,YYt=Ite,ZYt=mKt,XYt=SKt,QYt=V8e,JYt=Dte,eZt=jI,tZt=PKt,nZt=vYt,rZt=CYt,iZt=Gs,oZt=n8,sZt=PYt,aZt=bf,lZt=zYt,cZt=Gg,uZt=k6,dZt=1,fZt=2,hZt=4,BHe="[object Arguments]",pZt="[object Array]",mZt="[object Boolean]",gZt="[object Date]",vZt="[object Error]",UHe="[object Function]",yZt="[object GeneratorFunction]",bZt="[object Map]",xZt="[object Number]",zHe="[object Object]",wZt="[object RegExp]",_Zt="[object Set]",EZt="[object String]",CZt="[object Symbol]",SZt="[object WeakMap]",kZt="[object ArrayBuffer]",TZt="[object DataView]",AZt="[object Float32Array]",IZt="[object Float64Array]",DZt="[object Int8Array]",RZt="[object Int16Array]",OZt="[object Int32Array]",PZt="[object Uint8Array]",jZt="[object Uint8ClampedArray]",LZt="[object Uint16Array]",$Zt="[object Uint32Array]",Eo={};Eo[BHe]=Eo[pZt]=Eo[kZt]=Eo[TZt]=Eo[mZt]=Eo[gZt]=Eo[AZt]=Eo[IZt]=Eo[DZt]=Eo[RZt]=Eo[OZt]=Eo[bZt]=Eo[xZt]=Eo[zHe]=Eo[wZt]=Eo[_Zt]=Eo[EZt]=Eo[CZt]=Eo[PZt]=Eo[jZt]=Eo[LZt]=Eo[$Zt]=!0;Eo[vZt]=Eo[UHe]=Eo[SZt]=!1;function AL(n,e,r,i,o,s){var a,l=e&dZt,c=e&fZt,u=e&hZt;if(r&&(a=o?r(n,i,o,s):r(n)),a!==void 0)return a;if(!aZt(n))return n;var f=iZt(n);if(f){if(a=tZt(n),!l)return YYt(n,a)}else{var h=eZt(n),m=h==UHe||h==yZt;if(oZt(n))return KYt(n,l);if(h==zHe||h==BHe||m&&!o){if(a=c||m?{}:rZt(n),!l)return c?XYt(n,qYt(a,n)):ZYt(n,GYt(a,n))}else{if(!Eo[h])return o?n:{};a=nZt(n,h,l)}}s||(s=new VYt);var g=s.get(n);if(g)return g;s.set(n,a),lZt(n)?n.forEach(function(b){a.add(AL(b,e,r,b,n,s))}):sZt(n)&&n.forEach(function(b,x){a.set(x,AL(b,e,r,x,n,s))});var v=u?c?JYt:QYt:c?uZt:cZt,y=f?void 0:v(n);return HYt(y||n,function(b,x){y&&(x=b,b=n[x]),WYt(a,x,AL(b,e,r,x,n,s))}),a}var Pte=AL,MZt=Gs,FZt=Hx,NZt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,BZt=/^\w*$/;function UZt(n,e){if(MZt(n))return!1;var r=typeof n;return r=="number"||r=="symbol"||r=="boolean"||n==null||FZt(n)?!0:BZt.test(n)||!NZt.test(n)||e!=null&&n in Object(e)}var jte=UZt,VHe=$Q,zZt="Expected a function";function Lte(n,e){if(typeof n!="function"||e!=null&&typeof e!="function")throw new TypeError(zZt);var r=function(){var i=arguments,o=e?e.apply(this,i):i[0],s=r.cache;if(s.has(o))return s.get(o);var a=n.apply(this,i);return r.cache=s.set(o,a)||s,a};return r.cache=new(Lte.Cache||VHe),r}Lte.Cache=VHe;var HHe=Lte;const hD=Tt(HHe);var VZt=HHe,HZt=500;function WZt(n){var e=VZt(n,function(i){return r.size===HZt&&r.clear(),i}),r=e.cache;return e}var GZt=WZt,qZt=GZt,KZt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,YZt=/\\(\\)?/g,ZZt=qZt(function(n){var e=[];return n.charCodeAt(0)===46&&e.push(""),n.replace(KZt,function(r,i,o,s){e.push(o?s.replace(YZt,"$1"):i||r)}),e}),WHe=ZZt,XZt=Gs,QZt=jte,JZt=WHe,eXt=_f;function tXt(n,e){return XZt(n)?n:QZt(n,e)?[n]:JZt(eXt(n))}var OS=tXt;function nXt(n){var e=n==null?0:n.length;return e?n[e-1]:void 0}var rXt=nXt,iXt=Hx,oXt=1/0;function sXt(n){if(typeof n=="string"||iXt(n))return n;var e=n+"";return e=="0"&&1/n==-oXt?"-0":e}var nw=sXt,aXt=OS,lXt=nw;function cXt(n,e){e=aXt(e,n);for(var r=0,i=e.length;n!=null&&r<i;)n=n[lXt(e[r++])];return r&&r==i?n:void 0}var pD=cXt,uXt=pD,dXt=zVe;function fXt(n,e){return e.length<2?n:uXt(n,dXt(e,0,-1))}var hXt=fXt,pXt=OS,mXt=rXt,gXt=hXt,vXt=nw;function yXt(n,e){return e=pXt(e,n),n=gXt(n,e),n==null||delete n[vXt(mXt(e))]}var bXt=yXt,xXt=Tte;function wXt(n){return xXt(n)?void 0:n}var _Xt=wXt;function EXt(n,e,r){switch(r.length){case 0:return n.call(e);case 1:return n.call(e,r[0]);case 2:return n.call(e,r[0],r[1]);case 3:return n.call(e,r[0],r[1],r[2])}return n.apply(e,r)}var GHe=EXt,CXt=GHe,Tme=Math.max;function SXt(n,e,r){return e=Tme(e===void 0?n.length-1:e,0),function(){for(var i=arguments,o=-1,s=Tme(i.length-e,0),a=Array(s);++o<s;)a[o]=i[e+o];o=-1;for(var l=Array(e+1);++o<e;)l[o]=i[o];return l[e]=r(a),CXt(n,this,l)}}var qHe=SXt;function kXt(n){return function(){return n}}var TXt=kXt;function AXt(n){return n}var rw=AXt;const KHe=Tt(rw);var IXt=TXt,Ame=FHe,DXt=rw,RXt=Ame?function(n,e){return Ame(n,"toString",{configurable:!0,enumerable:!1,value:IXt(e),writable:!0})}:DXt,OXt=RXt,PXt=800,jXt=16,LXt=Date.now;function $Xt(n){var e=0,r=0;return function(){var i=LXt(),o=jXt-(i-r);if(r=i,o>0){if(++e>=PXt)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}var MXt=$Xt,FXt=OXt,NXt=MXt,BXt=NXt(FXt),YHe=BXt,UXt=N4e,zXt=qHe,VXt=YHe;function HXt(n){return VXt(zXt(n,void 0,UXt),n+"")}var $te=HXt,WXt=Qp,GXt=Pte,qXt=bXt,KXt=OS,YXt=tw,ZXt=_Xt,XXt=$te,QXt=Dte,JXt=1,eQt=2,tQt=4,nQt=XXt(function(n,e){var r={};if(n==null)return r;var i=!1;e=WXt(e,function(s){return s=KXt(s,n),i||(i=s.length>1),s}),YXt(n,QXt(n),r),i&&(r=GXt(r,JXt|eQt|tQt,ZXt));for(var o=e.length;o--;)qXt(r,e[o]);return r}),rQt=nQt;const Cc=Tt(rQt);var iQt=Ate,oQt=OS,sQt=r8,Ime=bf,aQt=nw;function lQt(n,e,r,i){if(!Ime(n))return n;e=oQt(e,n);for(var o=-1,s=e.length,a=s-1,l=n;l!=null&&++o<s;){var c=aQt(e[o]),u=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return n;if(o!=a){var f=l[c];u=i?i(f,c,l):void 0,u===void 0&&(u=Ime(f)?f:sQt(e[o+1])?[]:{})}iQt(l,c,u),l=l[c]}return n}var cQt=lQt,uQt=pD,dQt=cQt,fQt=OS;function hQt(n,e,r){for(var i=-1,o=e.length,s={};++i<o;){var a=e[i],l=uQt(n,a);r(l,a)&&dQt(s,fQt(a,n),l)}return s}var ZHe=hQt;function pQt(n,e){return n!=null&&e in Object(n)}var mQt=pQt,gQt=OS,vQt=U4,yQt=Gs,bQt=r8,xQt=BQ,wQt=nw;function _Qt(n,e,r){e=gQt(e,n);for(var i=-1,o=e.length,s=!1;++i<o;){var a=wQt(e[i]);if(!(s=n!=null&&r(n,a)))break;n=n[a]}return s||++i!=o?s:(o=n==null?0:n.length,!!o&&xQt(o)&&bQt(a,o)&&(yQt(n)||vQt(n)))}var EQt=_Qt,CQt=mQt,SQt=EQt;function kQt(n,e){return n!=null&&SQt(n,e,CQt)}var XHe=kQt,TQt=ZHe,AQt=XHe;function IQt(n,e){return TQt(n,e,function(r,i){return AQt(n,i)})}var DQt=IQt,RQt=DQt,OQt=$te,PQt=OQt(function(n,e){return n==null?{}:RQt(n,e)}),jQt=PQt;const lr=Tt(jQt);var LQt=function(n){return n==null?[]:Array.isArray(n)?n:[n]};const PS=Tt(LQt);function $Qt(n){return n===void 0}var MQt=$Qt;const QHe=Tt(MQt);var FQt=MQ,NQt=VQ,BQt=1,UQt=2;function zQt(n,e,r,i){var o=r.length,s=o,a=!i;if(n==null)return!s;for(n=Object(n);o--;){var l=r[o];if(a&&l[2]?l[1]!==n[l[0]]:!(l[0]in n))return!1}for(;++o<s;){l=r[o];var c=l[0],u=n[c],f=l[1];if(a&&l[2]){if(u===void 0&&!(c in n))return!1}else{var h=new FQt;if(i)var m=i(u,f,c,n,e,h);if(!(m===void 0?NQt(f,u,BQt|UQt,i,h):m))return!1}}return!0}var VQt=zQt,HQt=bf;function WQt(n){return n===n&&!HQt(n)}var JHe=WQt,GQt=JHe,qQt=Gg;function KQt(n){for(var e=qQt(n),r=e.length;r--;){var i=e[r],o=n[i];e[r]=[i,o,GQt(o)]}return e}var YQt=KQt;function ZQt(n,e){return function(r){return r==null?!1:r[n]===e&&(e!==void 0||n in Object(r))}}var eWe=ZQt,XQt=VQt,QQt=YQt,JQt=eWe;function eJt(n){var e=QQt(n);return e.length==1&&e[0][2]?JQt(e[0][0],e[0][1]):function(r){return r===n||XQt(r,n,e)}}var tJt=eJt,nJt=pD;function rJt(n,e,r){var i=n==null?void 0:nJt(n,e);return i===void 0?r:i}var tWe=rJt;const ko=Tt(tWe);var iJt=VQ,oJt=tWe,sJt=XHe,aJt=jte,lJt=JHe,cJt=eWe,uJt=nw,dJt=1,fJt=2;function hJt(n,e){return aJt(n)&&lJt(e)?cJt(uJt(n),e):function(r){var i=oJt(r,n);return i===void 0&&i===e?sJt(r,n):iJt(e,i,dJt|fJt)}}var pJt=hJt;function mJt(n){return function(e){return e==null?void 0:e[n]}}var gJt=mJt,vJt=pD;function yJt(n){return function(e){return vJt(e,n)}}var bJt=yJt,xJt=gJt,wJt=bJt,_Jt=jte,EJt=nw;function CJt(n){return _Jt(n)?xJt(EJt(n)):wJt(n)}var SJt=CJt,kJt=tJt,TJt=pJt,AJt=rw,IJt=Gs,DJt=SJt;function RJt(n){return typeof n=="function"?n:n==null?AJt:typeof n=="object"?IJt(n)?TJt(n[0],n[1]):kJt(n):DJt(n)}var Fy=RJt,OJt="Expected a function";function PJt(n){if(typeof n!="function")throw new TypeError(OJt);return function(){var e=arguments;switch(e.length){case 0:return!n.call(this);case 1:return!n.call(this,e[0]);case 2:return!n.call(this,e[0],e[1]);case 3:return!n.call(this,e[0],e[1],e[2])}return!n.apply(this,e)}}var nWe=PJt;const jJt=Tt(nWe);var LJt=Qp,$Jt=Fy,MJt=ZHe,FJt=Dte;function NJt(n,e){if(n==null)return{};var r=LJt(FJt(n),function(i){return[i]});return e=$Jt(e),MJt(n,r,function(i,o){return e(i,o[0])})}var BJt=NJt,UJt=Fy,zJt=nWe,VJt=BJt;function HJt(n,e){return VJt(n,zJt(UJt(e)))}var WJt=HJt;const rWe=Tt(WJt);var GJt=_f,qJt=gte;function KJt(n){return qJt(GJt(n).toLowerCase())}var iWe=KJt;const iw=Tt(iWe);var YJt=yf,ZJt=YJt.isFinite;function XJt(n){return typeof n=="number"&&ZJt(n)}var QJt=XJt;const oWe=Tt(QJt);function JJt(n,e,r,i){for(var o=n.length,s=r+(i?1:-1);i?s--:++s<o;)if(e(n[s],s,n))return s;return-1}var sWe=JJt;function een(n){return n!==n}var ten=een;function nen(n,e,r){for(var i=r-1,o=n.length;++i<o;)if(n[i]===e)return i;return-1}var ren=nen,ien=sWe,oen=ten,sen=ren;function aen(n,e,r){return e===e?sen(n,e,r):ien(n,oen,r)}var Mte=aen,len=Mte;function cen(n,e){var r=n==null?0:n.length;return!!r&&len(n,e,0)>-1}var Fte=cen;function uen(n,e,r){for(var i=-1,o=n==null?0:n.length;++i<o;)if(r(e,n[i]))return!0;return!1}var Nte=uen;function den(){}var Bte=den;const aWe=Tt(Bte);var ez=H8e,fen=Bte,hen=FQ,pen=1/0,men=ez&&1/hen(new ez([,-0]))[1]==pen?function(n){return new ez(n)}:fen,gen=men,ven=e8,yen=Fte,ben=Nte,xen=t8,wen=gen,_en=FQ,Een=200;function Cen(n,e,r){var i=-1,o=yen,s=n.length,a=!0,l=[],c=l;if(r)a=!1,o=ben;else if(s>=Een){var u=e?null:wen(n);if(u)return _en(u);a=!1,o=xen,c=new ven}else c=e?[]:l;e:for(;++i<s;){var f=n[i],h=e?e(f):f;if(f=r||f!==0?f:0,a&&h===h){for(var m=c.length;m--;)if(c[m]===h)continue e;e&&c.push(h),l.push(f)}else o(c,h,r)||(c!==l&&c.push(h),l.push(f))}return l}var T6=Cen,Sen=Fy,ken=T6;function Ten(n,e){return n&&n.length?ken(n,Sen(e)):[]}var Aen=Ten;const vy=Tt(Aen),Tx=5,tz={},lWe=n=>(tz[n]||(tz[n]=Symbol("__cachedStringFields_".concat(n))),tz[n]),Ien=n=>n.type&&n.type.name==="reference",Den=["style","list"],Ute=n=>n.name==="block"||n.type&&Ute(n.type),Ren=n=>n.jsonType==="array"&&Array.isArray(n.of)&&n.of.some(Ute);function A6(n,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4?arguments[4]:void 0;if(o<0)return r;const s=e(r,n,i);return n.jsonType==="array"&&Array.isArray(n.of)?Oen(n,e,s,i,o):n.jsonType==="object"&&Array.isArray(n.fields)&&!Ien(n)?Pen(n,e,s,i,o):s}function Oen(n,e,r,i,o){return n.of.reduce((s,a)=>A6(a,e,s,i,o-1),r)}function Pen(n,e,r,i,o){const s=Ute(n);return n.fields.reduce((a,l)=>{if(s&&Den.includes(l.name))return a;const c=[l.name].concat(l.type.jsonType==="array"?[[]]:[]);return A6(l.type,e,a,i.concat(c),o-1)},r)}const cWe=[{weight:1,path:["_id"]},{weight:1,path:["_type"]}],Dme={title:10,subtitle:5,description:1.5};function uWe(n,e){var r;const i=(r=n==null?void 0:n.preview)==null?void 0:r.select;if(!i)return[];const o=[];for(const s of Object.keys(i)){if(!(s in Dme))continue;const a=i[s].split(".");e>-1&&a.length-1>e||o.push({weight:Dme[s],path:a})}return o}function jen(n,e){const r=lWe(e);return n[r]||(n[r]=vy([...cWe,...uWe(n,e),...$en(n,e).map(i=>({weight:1,path:i})),...Men(n,e).map(i=>({weight:1,path:i,mapWith:"pt::text"}))],i=>i.path.join("."))),n[r]}function Len(n,e){const r=lWe(e);return n[r]||(n[r]=vy([...cWe,...uWe(n,e)],i=>i.path.join("."))),n[r]}function $en(n,e){return A6(n,(i,o,s)=>o.jsonType==="string"?[...i,s]:i,[],[],e)}function Men(n,e){return A6(n,(i,o,s)=>Ren(o)?[...i,s]:i,[],[],e)}function Fen(n,e){return Len(n,dWe(e))}function Nen(n,e){return jen(n,dWe(e))}function dWe(n){return!oWe(n)||n<1||n>Tx?Tx-1:n-1}var Ben=Gs;function Uen(){if(!arguments.length)return[];var n=arguments[0];return Ben(n)?n:[n]}var zen=Uen;const mD=Tt(zen);function Ven(n){return function(e,r,i){for(var o=-1,s=Object(e),a=i(e),l=a.length;l--;){var c=a[n?l:++o];if(r(s[c],c,s)===!1)break}return e}}var Hen=Ven,Wen=Hen,Gen=Wen(),qen=Gen,Ken=qen,Yen=Gg;function Zen(n,e){return n&&Ken(n,e,Yen)}var Xen=Zen,Qen=Ty;function Jen(n,e){return function(r,i){if(r==null)return r;if(!Qen(r))return n(r,i);for(var o=r.length,s=e?o:-1,a=Object(r);(e?s--:++s<o)&&i(a[s],s,a)!==!1;);return r}}var etn=Jen,ttn=Xen,ntn=etn,rtn=ntn(ttn),fWe=rtn,itn=fWe,otn=Ty;function stn(n,e){var r=-1,i=otn(n)?Array(n.length):[];return itn(n,function(o,s,a){i[++r]=e(o,s,a)}),i}var hWe=stn,atn=Qp,ltn=Fy,ctn=hWe,utn=Gs;function dtn(n,e){var r=utn(n)?atn:ctn;return r(n,ltn(e))}var ftn=dtn,htn=pS,ptn=ftn;function mtn(n,e){return htn(ptn(n,e),1)}var gtn=mtn;const vtn=Tt(gtn);var ytn=Qp,btn=Ite,xtn=Gs,wtn=Hx,_tn=WHe,Etn=nw,Ctn=_f;function Stn(n){return xtn(n)?ytn(n,Etn):wtn(n)?[n]:btn(_tn(Ctn(n)))}var ktn=Stn;const Ttn=Tt(ktn),Pc=["jsonType","type","name","title","description","options","fieldsets","validation","readOnly","hidden","components","diffComponent","initialValue","deprecated"],Rme=[...Pc],nz={name:"any",type:null,jsonType:"any"},Atn={get(){return nz},extend(n,e){const r=Object.assign(lr(nz,Rme),n,{type:nz,of:n.of.map(o=>({name:o.name,type:e(Cc(o,"name"))}))});return i(r);function i(o){return{get(){return o},extend:s=>{if(s.of)throw new Error('Cannot override `of` property of subtypes of "array"');const a=Object.assign({},o,lr(s,Rme),{type:o});return i(a)}}}}};function To(n,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Object.defineProperty(n,e,{configurable:!0,enumerable:i.enumerable!==!1,get(){const o=r();return Object.defineProperty(n,e,{value:o,writable:!!i.writable,configurable:!1}),o}}),n}const Ome=[...Pc],rz={name:"array",type:null,jsonType:"array",of:[]},Itn={get(){return rz},extend(n,e){const r=Object.assign(lr(rz,Ome),n,{type:rz});return To(r,"of",()=>n.of.map(o=>e(o))),i(r);function i(o){return{get(){return o},extend:s=>{if(s.of)throw new Error('Cannot override `of` property of subtypes of "array"');const a=Object.assign({},o,lr(s,Ome),{type:o});return i(a)}}}}};function Dtn(n){n.options&&n.options.preview&&console.warn(`Heads up! The preview config is no longer defined on "options", but instead on the type/field itself.
Please move {options: {preview: ...}} to {..., preview: ...} on the type/field definition of "`.concat(n.name,`".
`))}function Rtn(n){const e=n.preview||(n.options||{}).preview;e&&"fields"in e&&console.warn('Heads up! "preview.fields" should be renamed to "preview.select". Please update the preview config for "'.concat(n.name,`".
`))}function Otn(n){for(const e in n)if(n.hasOwnProperty(e))return!1;return!0}function Hq(n,e,r){if(r>e.maxDepth)return"...";if(Array.isArray(n)){if(n.length===0)return"[empty]";const o=Math.max(n.length-e.maxBreadth),s=n.slice(0,e.maxBreadth).map((a,l)=>Hq(a,e,r+1)).concat(o>0?"…+".concat(o):[]).join(", ");return r===0?s:"[".concat(s,"]")}if(typeof n=="object"&&n!==null){const o=Object.keys(n).filter(a=>!e.ignoreKeys.includes(a)&&typeof n[a]<"u");if(Otn(lr(n,o)))return"{empty}";const s=o.slice(0,e.maxBreadth).map(a=>"".concat(a,": ").concat(Hq(n[a],e,r+1))).join(", ");return r===0?s:"{".concat(s,"}")}const i=String(n);return i===""?'""':i}function Ptn(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r={maxDepth:"maxDepth"in e?e.maxDepth:2,maxBreadth:"maxBreadth"in e?e.maxBreadth:2,ignoreKeys:"ignoreKeys"in e?e.ignoreKeys:[]};return Hq(n,r,0)}const jtn={maxEntries:2,maxDepth:2,maxBreadth:2,ignoreKeys:["_id","_type","_key","_ref"]};function Ltn(n){return e=>({title:Ptn(lr(e,n),jtn)})}function $tn(n){return n.type==="array"&&n.of&&n.of.some(e=>e.type==="block")}const pWe=["title","name","label","heading","header","caption"],Mtn=["description",...pWe];function mWe(n,e){return PS(n.to||[]).some(r=>r.type===e)}function Pme(n){return mWe(n,"sanity.imageAsset")}function Ftn(n){const e=n.fields||[],r=e.find(Pme);if(r)return r.name;const i=e.find(o=>(o.fields||[]).some(Pme));return i?"".concat(i.name,".asset"):void 0}function jme(n){return mWe(n,"sanity.fileAsset")}function Ntn(n){const e=n.fields||[],r=e.find(jme);if(r)return r.name;const i=e.find(o=>(o.fields||[]).some(jme));return i?"".concat(i.name,".asset"):void 0}function Btn(n){const e={fields:[],...n},r=e.fields.filter(u=>u.type==="string").map(u=>u.name),i=e.fields.filter($tn).map(u=>u.name);let o=pWe.find(u=>r.includes(u)||i.includes(u)),s=Mtn.find(u=>u!==o&&(r.includes(u)||i.includes(u)));o||(o=r[0]||i[0],s=r[1]||i[1]);const a=e.fields.find(u=>u.type==="image"),l=Ftn(e);if(!o){const u=Ntn(e);u&&(o="".concat(u,".originalFilename")),l&&(o="".concat(l,".originalFilename"))}if(!o&&!l){const u=e.fields.map(h=>h.name);return{select:u.reduce((h,m)=>(h[m]=m,h),{}),prepare:Ltn(u)}}return{select:rWe({title:o,description:s,media:a?a.name:l},QHe)}}function Utn(n){return n.reduce((e,r)=>(e[r]=r,e),{})}function ztn(n){if(!n)return n;const e=n.select||n.fields||{};return Array.isArray(e)?{...lr(n,["prepare","component"]),select:Utn(e)}:{...lr(n,["prepare","component"]),select:e}}function gD(n){return function(){return Dtn(n),Rtn(n),ztn(n.preview||(n.options||{}).preview)||Btn(n)}}const Vtn={type:"object",name:"link",title:"Link",i18nTitleKey:"inputs.portable-text.annotation.link",options:{modal:{type:"popover"}},fields:[{name:"href",type:"url",title:"Link",description:"A valid web, email, phone, or relative link.",validation:n=>n.uri({scheme:["http","https","tel","mailto"],allowRelative:!0})}]},Htn={type:"text",name:"text",title:"Text"},Wtn={name:"marks",type:"array",of:[{type:"string"}],title:"Marks"},Lme={bullet:{title:"Bulleted list",value:"bullet",i18nTitleKey:"inputs.portable-text.list-type.bullet"},numbered:{title:"Numbered list",value:"number",i18nTitleKey:"inputs.portable-text.list-type.number"}},Gtn=[Lme.bullet,Lme.numbered],Bm={normal:{title:"Normal",value:"normal",i18nTitleKey:"inputs.portable-text.style.normal"},h1:{title:"Heading 1",value:"h1",i18nTitleKey:"inputs.portable-text.style.h1"},h2:{title:"Heading 2",value:"h2",i18nTitleKey:"inputs.portable-text.style.h2"},h3:{title:"Heading 3",value:"h3",i18nTitleKey:"inputs.portable-text.style.h3"},h4:{title:"Heading 4",value:"h4",i18nTitleKey:"inputs.portable-text.style.h4"},h5:{title:"Heading 5",value:"h5",i18nTitleKey:"inputs.portable-text.style.h5"},h6:{title:"Heading 6",value:"h6",i18nTitleKey:"inputs.portable-text.style.h6"},blockquote:{title:"Quote",value:"blockquote",i18nTitleKey:"inputs.portable-text.style.quote"}},qtn=[Bm.normal,Bm.h1,Bm.h2,Bm.h3,Bm.h4,Bm.h5,Bm.h6,Bm.blockquote],Ktn={title:"Strong",value:"strong",i18nTitleKey:"inputs.portable-text.decorator.strong"},Ytn={title:"Italic",value:"em",i18nTitleKey:"inputs.portable-text.decorator.emphasis"},Ztn={title:"Code",value:"code",i18nTitleKey:"inputs.portable-text.decorator.code"},Xtn={title:"Underline",value:"underline",i18nTitleKey:"inputs.portable-text.decorator.underline"},Qtn={title:"Strike",value:"strike-through",i18nTitleKey:"inputs.portable-text.decorator.strike-through"},hk={strong:Ktn,em:Ytn,code:Ztn,underline:Xtn,strikeThrough:Qtn},Jtn=[hk.strong,hk.em,hk.code,hk.underline,hk.strikeThrough],$me=["type","name","title","jsonType","description","options","fieldsets","icon"],iz={name:"block",title:"Block",type:null,jsonType:"object"},enn={},tnn={get(){return iz},extend(n,e){const r={...n.options||enn},{marks:i,styles:o,lists:s,of:a,...l}=n,c=onn(i,a),u=rnn(o),f=inn(s),h={name:"markDefs",title:"Mark definitions",type:"array",of:(i==null?void 0:i.annotations)||gWe},g=[c,u,f,h,{name:"level",title:"Indentation",type:"number"}].concat(n.fields||[]),v=Object.assign(lr(iz,$me),l,{type:iz,options:r});return To(v,"fields",()=>g.map(b=>{const{name:x,..._}=b;return{name:x,type:e(_)}})),To(v,"preview",gD(n)),y(v);function y(b){return{get(){return b},extend:x=>{if(x.fields)throw new Error('Cannot override `fields` of subtypes of "block"');const _=Object.assign({},b,lr(x,$me),{type:b});return y(_)}}}}};function nnn(n){return n.some(e=>e.value==="normal")?n:[Bm.normal,...n]}function rnn(n){return{name:"style",title:"Style",type:"string",options:{list:nnn(n||qtn)}}}function inn(n){return{name:"listItem",title:"List type",type:"string",options:{list:n||Gtn}}}const gWe=[Vtn];function onn(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{name:"children",title:"Content",type:"array",of:[{type:"span",fields:[Htn,Wtn],annotations:n&&n.annotations?n.annotations:gWe,decorators:n&&n.decorators?n.decorators:Jtn},...e.filter(r=>r.type!=="span")]}}const Mme=["type","name","title","jsonType","description","options","fieldsets","icon"],oz={name:"span",title:"Span",type:null,jsonType:"object"},snn={name:"marks",title:"Marks",type:"array",of:[{type:"string"}]},ann={name:"text",title:"Text",type:"string"},lnn={},cnn={get(){return oz},extend(n,e){const r={...n.options||lnn},{annotations:i=[],marks:o=[]}=n,s=[snn,ann],a=Object.assign(lr(oz,Mme),n,{type:oz,options:r});return To(a,"fields",()=>s.map(c=>{const{name:u,...f}=c;return{name:u,type:e(f)}})),To(a,"annotations",()=>i.map(e)),To(a,"marks",()=>o.map(e)),To(a,"preview",gD(n)),l(a);function l(c){return{get(){return c},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "span"');const f=Object.assign({},c,lr(u,Mme),{type:c});return l(f)}}}}};var Ny={prepare:n=>({title:String(n)})};const Fme=[...Pc],sz={name:"boolean",title:"Boolean",type:null,jsonType:"boolean"},unn={get(){return sz},extend(n){const e=Object.assign(lr(sz,Fme),n,{type:sz,preview:Ny});return r(e);function r(i){return{get(){return i},extend:o=>{const s=Object.assign({},i,lr(o,Fme),{type:i});return r(s)}}}}},dnn={name:"_ref",title:"Referenced document ID",type:"string"},fnn={name:"_weak",title:"Weak reference marker",type:"boolean"},hnn={name:"_dataset",title:"Target dataset",type:"string"},pnn={name:"_projectId",title:"Target project ID",type:"string",hidden:!0},mnn=[dnn,fnn,hnn,pnn],Nme=[...Pc],az={name:"crossDatasetReference",type:null,jsonType:"object"};function gnn(n,e){const r=n.length;if(r===1)return n[0];const i=n.slice(0,r-1),o=n[r-1];return"".concat(i.join(", ")," ").concat(e," ").concat(o)}function vnn(n){return!n.to||n.to.length===0?"Cross dataset Reference":"Cross dataset reference to ".concat(gnn(PS(n.to).map(e=>e.title||iw(e.type)),"or").toLowerCase())}const ynn={get(){return az},extend(n,e){if(!n.to)throw new Error('Missing "to" field in cross dataset reference definition. Check the type '.concat(n.name));const r=Object.assign(lr(az,Nme),n,{type:az});return To(r,"fields",()=>mnn.map(o=>{const{name:s,...a}=o;return{name:s,type:e(a)}})),To(r,"to",()=>PS(n.to).map(o=>({...o,__experimental_search:Fen(o)}))),To(r,"title",()=>n.title||vnn(r)),i(r);function i(o){return{get(){return o},extend:s=>{if(s.of)throw new Error('Cannot override `of` of subtypes of "reference"');const a=Object.assign({},o,lr(s,Nme),{type:o});return i(a)}}}}},Bme=[...Pc],lz={name:"date",title:"Datetime",type:null,jsonType:"string"},bnn={get(){return lz},extend(n){const e=Object.assign(lr(lz,Bme),n,{type:lz,preview:Ny});return r(e);function r(i){return{get(){return i},extend:o=>{const s=Object.assign({},i,lr(o,Bme),{type:i});return r(s)}}}}},Ume=[...Pc],cz={name:"datetime",title:"Datetime",type:null,jsonType:"string"},xnn={get(){return cz},extend(n){const e=Object.assign(lr(cz,Ume),n,{type:cz,preview:Ny});return r(e);function r(i){return{get(){return i},extend:o=>{const s=Object.assign({},i,lr(o,Ume),{type:i});return r(s)}}}}},wnn=["title","name","label","heading","header","caption","description"],_nn=["string","boolean","number"],zme=n=>_nn.includes(n.type);function Enn(n){let e=wnn.filter(r=>n.fields.some(i=>zme(i)&&i.name===r));return e.length===0&&(e=n.fields.filter(zme).map(r=>r.name)),e.map(r=>({name:r,i18n:{title:{key:"default-orderings.".concat(r),ns:"studio"}},title:iw(li(r)),by:[{field:r,direction:"asc"}]}))}function Vme(n){if(!Array.isArray(n))throw new Error("The search config of a document type must be an array of search config objects");return n.map(e=>{if(e==="defaults")return e;if(!io(e))throw new Error("Search config must be an object of {path: string, weight: number}");return{weight:"weight"in e?e.weight:1,path:Ttn(e.path),mapWith:typeof e.mapWith=="string"?e.mapWith:void 0}})}const Hme=[...Pc,"orderings","__experimental_search","blockEditor","icon"],vWe={get(){return{name:"object",title:"Object",type:null,jsonType:"object"}},extend(n,e){const r={fields:[],...n},i={...r.options||{}},o=Object.assign(lr(this.get(),Hme),r,{type:this.get(),title:r.title||(r.name?li(r.name):""),options:i,orderings:r.orderings||Enn(r),fields:r.fields.map(a=>{const{name:l,fieldset:c,group:u,...f}=a;return To({name:l,group:u,fieldset:c},"type",()=>e({...f,title:a.title||li(l)}))})});return To(o,"fieldsets",()=>I6(r,o.fields)),To(o,"groups",()=>Cnn(r,o.fields)),To(o,"preview",gD(r)),To(o,"__experimental_search",()=>{const a=r.__experimental_search?Vme(r.__experimental_search):null;return a?a.map(l=>l==="defaults"?Vme(r):l):Nen(o)},{enumerable:!1}),s(o);function s(a){return{get(){return a},extend:l=>{if(l.fields)throw new Error('Cannot override `fields` of subtypes of "object"');const c=Object.assign({},a,lr(l,Hme),{title:l.title||r.title||(r.name?li(r.name):""),type:a});return To(c,"__experimental_search",()=>a.__experimental_search),s(c)}}}}};function I6(n,e){const r={};for(const o of n.fieldsets||[]){if(r[o.name])throw new Error('Duplicate fieldset name "'.concat(o.name,`" found for type '`).concat(n.title?n.title:li(n.name),"'"));r[o.name]={title:li(o.name),...o,fields:[]}}const i=new Set;for(const o of e){if(!o.fieldset){i.add({single:!0,field:o});continue}const s=r[o.fieldset];if(!s)throw new Error("Fieldset '".concat(o.fieldset,"' is not defined in schema for type '").concat(n.name,"'"));s.fields.push(o),i.add(s)}return Array.from(i)}function Cnn(n,e){const r={};let i=0;for(const o of n.groups||[]){if(r[o.name])throw new Error('Duplicate group name "'.concat(o.name,`" found for type '`).concat(n.title?n.title:li(n.name),"'"));if(r[o.name]={title:li(o.name),...o,fields:[]},o.default&&++i>1)throw new Error("More than one field group defined as default for type '".concat(n.title?n.title:li(n.name),"' - only 1 is supported"))}return e.forEach(o=>{const s=mD(o.group||[]);s.length!==0&&s.forEach(a=>{const l=r[a];if(!l)throw new Error("Field group '".concat(a,"' is not defined in schema for type '").concat(n.title?n.name:li(n.name),"'"));l.fields.push(o)})}),vtn(r).filter(o=>o.fields.length>0)}const Snn={name:"document",title:"Document",type:null,jsonType:"object"},knn={get(){return Snn},extend:vWe.extend},Wme=[...Pc],uz={name:"email",title:"Email",type:null,jsonType:"string"},Tnn={get(){return uz},extend(n){const e=Object.assign(lr(uz,Wme),n,{type:uz,preview:Ny});return r(e);function r(i){return{get(){return i},extend:o=>{const s=Object.assign({},i,lr(o,Wme),{type:i});return r(s)}}}}},Ann={name:"asset",type:"reference",to:{type:"sanity.fileAsset"}},Gme=[...Pc],dz={name:"file",title:"File",type:null,jsonType:"object"},Inn={accept:""},Dnn={get(){return dz},extend(n,e){const r={...n.options||Inn},i=[Ann,...n.fields||[]],o={...n,fields:i},s=Object.assign(lr(dz,Gme),o,{type:dz,title:o.title||(o.name?li(o.name):""),options:r,fields:o.fields.map(l=>{const{name:c,fieldset:u,...f}=l,h={name:c,fieldset:u,isCustomized:!!n.fields};return To(h,"type",()=>e({...f,title:l.title||li(c)}))})});return To(s,"fieldsets",()=>I6(o,s.fields)),To(s,"preview",gD(Object.assign({},o,{fields:i}))),a(s);function a(l){return{get(){return l},extend:c=>{if(c.fields)throw new Error('Cannot override `fields` of subtypes of "file"');const u=Object.assign({},l,lr(c,Gme),{type:l});return a(u)}}}}},Rnn={name:"asset",type:"reference",to:[{type:"sanity.imageAsset"}]},Onn={name:"hotspot",type:"sanity.imageHotspot"},Pnn={name:"crop",type:"sanity.imageCrop"},qme=[...Pc],Kme={name:"image",title:"Image",type:null,jsonType:"object"},jnn={},Lnn={get(){return Kme},extend(n,e){const r={...n.options||jnn};let i=[Onn,Pnn];r.hotspot||(i=i.map(c=>({...c,hidden:!0})));const o=[Rnn,...i,...n.fields||[]],s={...n,fields:o},a=Object.assign(lr(this.get(),qme),s,{type:Kme,title:s.title||(s.name?li(s.name):""),options:r,fields:s.fields.map(c=>{const{name:u,fieldset:f,...h}=c,m={name:u,fieldset:f,isCustomized:!!n.fields};return To(m,"type",()=>e({...h,title:c.title||li(u)}))})});return To(a,"fieldsets",()=>I6(s,a.fields)),To(a,"preview",gD(Object.assign({},s,{fields:o}))),l(a);function l(c){return{get(){return c},extend:u=>{if(u.fields)throw new Error('Cannot override `fields` of subtypes of "image"');const f=Object.assign({},c,lr(u,qme),{type:c});return l(f)}}}}},Yme=[...Pc],fz={name:"number",title:"Number",type:null,jsonType:"number"},$nn={get(){return fz},extend(n){const e=Object.assign(lr(fz,Yme),n,{type:fz,preview:Ny});return r(e);function r(i){return{get(){return i},extend:o=>{const s=Object.assign({},i,lr(o,Yme),{type:i});return r(s)}}}}},Mnn={name:"_ref",title:"Referenced document ID",type:"string"},Fnn={name:"_weak",title:"Weak reference",type:"boolean"},Nnn=[Mnn,Fnn],Zme=[...Pc],hz={name:"reference",title:"Reference",type:null,jsonType:"object"};function Bnn(n,e){const r=n.length;if(r===1)return n[0];const i=n.slice(0,r-1),o=n[r-1];return"".concat(i.join(", ")," ").concat(e," ").concat(o)}function Unn(n){return!n.to||n.to.length===0?"Reference":"Reference to ".concat(Bnn(PS(n.to).map(e=>e.title),"or").toLowerCase())}const znn={get(){return hz},extend(n,e){if(!n.to)throw new Error('Missing "to" field in reference definition. Check the type '.concat(n.name));const r=Object.assign(lr(hz,Zme),n,{type:hz});return To(r,"fields",()=>Nnn.map(o=>{const{name:s,...a}=o;return{name:s,type:e(a)}})),To(r,"fieldsets",()=>I6(n,r.fields)),To(r,"to",()=>PS(n.to).map(o=>e(o))),To(r,"title",()=>n.title||Unn(r)),i(r);function i(o){return{get(){return o},extend:s=>{if(s.of)throw new Error('Cannot override `of` of subtypes of "reference"');const a=Object.assign({},o,lr(s,Zme),{type:o});return i(a)}}}}},Xme=[...Pc],pz={name:"string",title:"String",type:null,jsonType:"string"},Vnn={get(){return pz},extend(n){const e=Object.assign(lr(pz,Xme),n,{type:pz,preview:Ny});return r(e);function r(i){return{get(){return i},extend:o=>{const s=Object.assign({},i,lr(o,Xme),{type:i});return r(s)}}}}},Qme=[...Pc,"rows"],mz={name:"text",title:"Text",type:null,jsonType:"string"},Hnn={get(){return mz},extend(n){const e=Object.assign(lr(mz,Qme),n,{type:mz,preview:Ny});return r(e);function r(i){return{get(){return i},extend:o=>{const s=Object.assign({},i,lr(o,Qme),{type:i});return r(s)}}}}},Jme=[...Pc],gz={name:"url",title:"Url",type:null,jsonType:"string"},Wnn={get(){return gz},extend(n){const e=Object.assign(lr(gz,Jme),n,{type:gz,preview:Ny});return r(e);function r(i){return{get(){return i},extend:o=>{const s=Object.assign({},i,lr(o,Jme),{type:i});return r(s)}}}}};var Gnn=Object.freeze({__proto__:null,any:Atn,array:Itn,block:tnn,boolean:unn,crossDatasetReference:ynn,date:bnn,datetime:xnn,document:knn,email:Tnn,file:Dnn,image:Lnn,number:$nn,object:vWe,reference:znn,span:cnn,string:Vnn,text:Hnn,url:Wnn});function qnn(n){const e=Object.assign(Object.create(null),Gnn),r=n.types.reduce((a,l)=>{if(a[l.name])throw new Error("Duplicate type name added to schema: ".concat(l.name));return a[l.name]=l,a},{});return n.types.forEach(s),e;function i(a){if(!e[a]){if(!r[a])throw new Error("Unknown type: ".concat(a));s(r[a])}}function o(a){return i(a.type),e[a.type].extend(a,o).get()}function s(a){i(a.type),!e[a.name]&&(e[a.name]=e[a.type].extend(a,o))}}let Knn=class yWe{static compile(e){return new yWe(e)}constructor(e){this._original=e,this._registry=qnn(e)}get name(){return this._original.name}get(e){return this._registry[e]&&this._registry[e].get()}has(e){return e in this._registry}getTypeNames(){return Object.keys(this._registry)}};const zte=Knn,Ynn="https://docs.sanity.io/help/";function bWe(n){return Ynn+n}var Znn=e8,Xnn=Fte,Qnn=Nte,Jnn=Qp,ern=bS,trn=t8,nrn=200;function rrn(n,e,r,i){var o=-1,s=Xnn,a=!0,l=n.length,c=[],u=e.length;if(!l)return c;r&&(e=Jnn(e,ern(r))),i?(s=Qnn,a=!1):e.length>=nrn&&(s=trn,a=!1,e=new Znn(e));e:for(;++o<l;){var f=n[o],h=r==null?f:r(f);if(f=i||f!==0?f:0,a&&h===h){for(var m=u;m--;)if(e[m]===h)continue e;c.push(f)}else s(e,h,i)||c.push(f)}return c}var xWe=rrn,irn=rw,orn=qHe,srn=YHe;function arn(n,e){return srn(orn(n,e,irn),n+"")}var ow=arn,lrn=Ty,crn=ud;function urn(n){return crn(n)&&lrn(n)}var D6=urn,drn=xWe,frn=pS,hrn=ow,ege=D6,prn=hrn(function(n,e){return ege(n)?drn(n,frn(e,1,ege,!0)):[]}),mrn=prn;const Ax=Tt(mrn);var grn=T6;function vrn(n){return n&&n.length?grn(n):[]}var yrn=vrn;const la=Tt(yrn);var brn=function(e,r){if(!Array.isArray(e))throw new TypeError("humanize-list expected an array");r=r||{},r.conjunction=r.conjunction||"and";var i=e.length;if(i===1)return e[0];if(r.skipConjunction)return e.join(", ");for(var o="",s=0;s<i;s++)s===i-1?(r.oxfordComma&&(o+=","),o+=" "+r.conjunction+" "):s!==0&&(o+=", "),o+=e[s];return o};const nh=Tt(brn);function xrn(n,e,r,i){for(var o=-1,s=n==null?0:n.length;++o<s;){var a=n[o];e(i,a,r(a),n)}return i}var wrn=xrn,_rn=fWe;function Ern(n,e,r,i){return _rn(n,function(o,s,a){e(i,o,r(o),a)}),i}var Crn=Ern,Srn=wrn,krn=Crn,Trn=Fy,Arn=Gs;function Irn(n,e){return function(r,i){var o=Arn(r)?Srn:krn,s=e?e():{};return o(r,n,Trn(i),s)}}var Vte=Irn,Drn=Vte,Rrn=Drn(function(n,e,r){n[r?0:1].push(e)},function(){return[[],[]]}),Orn=Rrn;const Hte=Tt(Orn);var Wte={exports:{}};const vz=[],tge=[],wWe=(n,e)=>{if(n===e)return 0;const r=n;n.length>e.length&&(n=e,e=r);let i=n.length,o=e.length;for(;i>0&&n.charCodeAt(~-i)===e.charCodeAt(~-o);)i--,o--;let s=0;for(;s<i&&n.charCodeAt(s)===e.charCodeAt(s);)s++;if(i-=s,o-=s,i===0)return o;let a,l,c,u,f=0,h=0;for(;f<i;)tge[f]=n.charCodeAt(s+f),vz[f]=++f;for(;h<o;)for(a=e.charCodeAt(s+h),c=h++,l=h,f=0;f<i;f++)u=a===tge[f]?c:c+1,c=vz[f],l=vz[f]=c>l?u>l?l+1:u:u>c?c+1:u;return l};Wte.exports=wWe;Wte.exports.default=wWe;var Prn=Wte.exports;const jrn=Tt(Prn),Lrn={},$rn=Object.freeze(Object.defineProperty({__proto__:null,default:Lrn},Symbol.toStringTag,{value:"Module"})),Mrn=rvt($rn);var Gte=typeof Map=="function"&&Map.prototype,yz=Object.getOwnPropertyDescriptor&&Gte?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,V3=Gte&&yz&&typeof yz.get=="function"?yz.get:null,nge=Gte&&Map.prototype.forEach,qte=typeof Set=="function"&&Set.prototype,bz=Object.getOwnPropertyDescriptor&&qte?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,H3=qte&&bz&&typeof bz.get=="function"?bz.get:null,rge=qte&&Set.prototype.forEach,Frn=typeof WeakMap=="function"&&WeakMap.prototype,AA=Frn?WeakMap.prototype.has:null,Nrn=typeof WeakSet=="function"&&WeakSet.prototype,IA=Nrn?WeakSet.prototype.has:null,Brn=typeof WeakRef=="function"&&WeakRef.prototype,ige=Brn?WeakRef.prototype.deref:null,Urn=Boolean.prototype.valueOf,zrn=Object.prototype.toString,Vrn=Function.prototype.toString,Hrn=String.prototype.match,Kte=String.prototype.slice,C0=String.prototype.replace,Wrn=String.prototype.toUpperCase,oge=String.prototype.toLowerCase,_We=RegExp.prototype.test,sge=Array.prototype.concat,fp=Array.prototype.join,Grn=Array.prototype.slice,age=Math.floor,Wq=typeof BigInt=="function"?BigInt.prototype.valueOf:null,xz=Object.getOwnPropertySymbols,Gq=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,GC=typeof Symbol=="function"&&typeof Symbol.iterator=="object",nc=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===GC||"symbol")?Symbol.toStringTag:null,EWe=Object.prototype.propertyIsEnumerable,lge=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(n){return n.__proto__}:null);function cge(n,e){if(n===1/0||n===-1/0||n!==n||n&&n>-1e3&&n<1e3||_We.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof n=="number"){var i=n<0?-age(-n):age(n);if(i!==n){var o=String(i),s=Kte.call(e,o.length+1);return C0.call(o,r,"$&_")+"."+C0.call(C0.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return C0.call(e,r,"$&_")}var qq=Mrn,uge=qq.custom,dge=SWe(uge)?uge:null,qrn=function n(e,r,i,o){var s=r||{};if(n0(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(n0(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=n0(s,"customInspect")?s.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(n0(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(n0(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return TWe(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return l?cge(e,c):c}if(typeof e=="bigint"){var u=String(e)+"n";return l?cge(e,u):u}var f=typeof s.depth>"u"?5:s.depth;if(typeof i>"u"&&(i=0),i>=f&&f>0&&typeof e=="object")return Kq(e)?"[Array]":"[Object]";var h=din(s,i);if(typeof o>"u")o=[];else if(kWe(o,e)>=0)return"[Circular]";function m($,L,M){if(L&&(o=Grn.call(o),o.push(L)),M){var N={depth:s.depth};return n0(s,"quoteStyle")&&(N.quoteStyle=s.quoteStyle),n($,N,i+1,o)}return n($,s,i+1,o)}if(typeof e=="function"&&!fge(e)){var g=nin(e),v=tP(e,m);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(v.length>0?" { "+fp.call(v,", ")+" }":"")}if(SWe(e)){var y=GC?C0.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Gq.call(e);return typeof e=="object"&&!GC?pk(y):y}if(lin(e)){for(var b="<"+oge.call(String(e.nodeName)),x=e.attributes||[],_=0;_<x.length;_++)b+=" "+x[_].name+"="+CWe(Krn(x[_].value),"double",s);return b+=">",e.childNodes&&e.childNodes.length&&(b+="..."),b+="</"+oge.call(String(e.nodeName))+">",b}if(Kq(e)){if(e.length===0)return"[]";var w=tP(e,m);return h&&!uin(w)?"["+Yq(w,h)+"]":"[ "+fp.call(w,", ")+" ]"}if(Zrn(e)){var C=tP(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!EWe.call(e,"cause")?"{ ["+String(e)+"] "+fp.call(sge.call("[cause]: "+m(e.cause),C),", ")+" }":C.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+fp.call(C,", ")+" }"}if(typeof e=="object"&&a){if(dge&&typeof e[dge]=="function"&&qq)return qq(e,{depth:f-i});if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(rin(e)){var S=[];return nge&&nge.call(e,function($,L){S.push(m(L,e,!0)+" => "+m($,e))}),hge("Map",V3.call(e),S,h)}if(sin(e)){var T=[];return rge&&rge.call(e,function($){T.push(m($,e))}),hge("Set",H3.call(e),T,h)}if(iin(e))return wz("WeakMap");if(ain(e))return wz("WeakSet");if(oin(e))return wz("WeakRef");if(Qrn(e))return pk(m(Number(e)));if(ein(e))return pk(m(Wq.call(e)));if(Jrn(e))return pk(Urn.call(e));if(Xrn(e))return pk(m(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===_a)return"{ [object globalThis] }";if(!Yrn(e)&&!fge(e)){var A=tP(e,m),I=lge?lge(e)===Object.prototype:e instanceof Object||e.constructor===Object,D=e instanceof Object?"":"null prototype",R=!I&&nc&&Object(e)===e&&nc in e?Kte.call(By(e),8,-1):D?"Object":"",P=I||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",O=P+(R||D?"["+fp.call(sge.call([],R||[],D||[]),": ")+"] ":"");return A.length===0?O+"{}":h?O+"{"+Yq(A,h)+"}":O+"{ "+fp.call(A,", ")+" }"}return String(e)};function CWe(n,e,r){var i=(r.quoteStyle||e)==="double"?'"':"'";return i+n+i}function Krn(n){return C0.call(String(n),/"/g,"&quot;")}function Kq(n){return By(n)==="[object Array]"&&(!nc||!(typeof n=="object"&&nc in n))}function Yrn(n){return By(n)==="[object Date]"&&(!nc||!(typeof n=="object"&&nc in n))}function fge(n){return By(n)==="[object RegExp]"&&(!nc||!(typeof n=="object"&&nc in n))}function Zrn(n){return By(n)==="[object Error]"&&(!nc||!(typeof n=="object"&&nc in n))}function Xrn(n){return By(n)==="[object String]"&&(!nc||!(typeof n=="object"&&nc in n))}function Qrn(n){return By(n)==="[object Number]"&&(!nc||!(typeof n=="object"&&nc in n))}function Jrn(n){return By(n)==="[object Boolean]"&&(!nc||!(typeof n=="object"&&nc in n))}function SWe(n){if(GC)return n&&typeof n=="object"&&n instanceof Symbol;if(typeof n=="symbol")return!0;if(!n||typeof n!="object"||!Gq)return!1;try{return Gq.call(n),!0}catch{}return!1}function ein(n){if(!n||typeof n!="object"||!Wq)return!1;try{return Wq.call(n),!0}catch{}return!1}var tin=Object.prototype.hasOwnProperty||function(n){return n in this};function n0(n,e){return tin.call(n,e)}function By(n){return zrn.call(n)}function nin(n){if(n.name)return n.name;var e=Hrn.call(Vrn.call(n),/^function\s*([\w$]+)/);return e?e[1]:null}function kWe(n,e){if(n.indexOf)return n.indexOf(e);for(var r=0,i=n.length;r<i;r++)if(n[r]===e)return r;return-1}function rin(n){if(!V3||!n||typeof n!="object")return!1;try{V3.call(n);try{H3.call(n)}catch{return!0}return n instanceof Map}catch{}return!1}function iin(n){if(!AA||!n||typeof n!="object")return!1;try{AA.call(n,AA);try{IA.call(n,IA)}catch{return!0}return n instanceof WeakMap}catch{}return!1}function oin(n){if(!ige||!n||typeof n!="object")return!1;try{return ige.call(n),!0}catch{}return!1}function sin(n){if(!H3||!n||typeof n!="object")return!1;try{H3.call(n);try{V3.call(n)}catch{return!0}return n instanceof Set}catch{}return!1}function ain(n){if(!IA||!n||typeof n!="object")return!1;try{IA.call(n,IA);try{AA.call(n,AA)}catch{return!0}return n instanceof WeakSet}catch{}return!1}function lin(n){return!n||typeof n!="object"?!1:typeof HTMLElement<"u"&&n instanceof HTMLElement?!0:typeof n.nodeName=="string"&&typeof n.getAttribute=="function"}function TWe(n,e){if(n.length>e.maxStringLength){var r=n.length-e.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return TWe(Kte.call(n,0,e.maxStringLength),e)+i}var o=C0.call(C0.call(n,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,cin);return CWe(o,"single",e)}function cin(n){var e=n.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Wrn.call(e.toString(16))}function pk(n){return"Object("+n+")"}function wz(n){return n+" { ? }"}function hge(n,e,r,i){var o=i?Yq(r,i):fp.call(r,", ");return n+" ("+e+") {"+o+"}"}function uin(n){for(var e=0;e<n.length;e++)if(kWe(n[e],`
`)>=0)return!1;return!0}function din(n,e){var r;if(n.indent==="	")r="	";else if(typeof n.indent=="number"&&n.indent>0)r=fp.call(Array(n.indent+1)," ");else return null;return{base:r,prev:fp.call(Array(e+1),r)}}function Yq(n,e){if(n.length===0)return"";var r=`
`+e.prev+e.base;return r+fp.call(n,","+r)+`
`+e.prev}function tP(n,e){var r=Kq(n),i=[];if(r){i.length=n.length;for(var o=0;o<n.length;o++)i[o]=n0(n,o)?e(n[o],n):""}var s=typeof xz=="function"?xz(n):[],a;if(GC){a={};for(var l=0;l<s.length;l++)a["$"+s[l]]=s[l]}for(var c in n)n0(n,c)&&(r&&String(Number(c))===c&&c<n.length||GC&&a["$"+c]instanceof Symbol||(_We.call(/[^\w$]/,c)?i.push(e(c,n)+": "+e(n[c],n)):i.push(c+": "+e(n[c],n))));if(typeof xz=="function")for(var u=0;u<s.length;u++)EWe.call(n,s[u])&&i.push("["+e(s[u])+"]: "+e(n[s[u]],n));return i}const EE=Tt(qrn),Zq="__experimental_actions",AWe=["create","update","delete","publish"],_z=AWe,fin=n=>Zq in n?n[Zq]:AWe,hin=(n,e)=>{if(!Array.isArray(e))throw new Error("The value of <type>.".concat(Zq," should be an array with any of the actions ").concat(_z.join(", ")));const r=Ax(e,_z);if(r.length>0)throw new Error("Invalid action".concat(r.length>1?"s":"",' configured for schema type "').concat(n,'": ').concat(r.join(", "),". Valid actions are: ").concat(_z.join(", ")));return e},pin=n=>hin(n.name,fin(n)),pge=(n,e)=>pin(n).includes(e),An={TYPE_INVALID:"schema-type-invalid",TYPE_IS_ESM_MODULE:"schema-type-is-esm-module",TYPE_NAME_RESERVED:"schema-type-name-reserved",TYPE_MISSING_NAME:"schema-type-missing-name-or-type",TYPE_MISSING_TYPE:"schema-type-missing-name-or-type",TYPE_TITLE_RECOMMENDED:"schema-type-title-is-recommended",TYPE_TITLE_INVALID:"schema-type-title-is-recommended",OBJECT_FIELDS_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_NOT_UNIQUE:"schema-object-fields-invalid",OBJECT_FIELD_NAME_INVALID:"schema-object-fields-invalid",OBJECT_FIELD_DEFINITION_INVALID_TYPE:"schema-object-fields-invalid",ARRAY_PREDEFINED_CHOICES_INVALID:"schema-predefined-choices-invalid",ARRAY_OF_ARRAY:"schema-array-of-array",ARRAY_OF_INVALID:"schema-array-of-invalid",ARRAY_OF_NOT_UNIQUE:"schema-array-of-invalid",ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT:"schema-array-of-type-global-type-conflict",ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT:"schema-array-of-type-builtin-type-conflict",REFERENCE_TO_INVALID:"schema-reference-to-invalid",REFERENCE_TO_NOT_UNIQUE:"schema-reference-to-invalid",REFERENCE_INVALID_OPTIONS:"schema-reference-invalid-options",REFERENCE_INVALID_OPTIONS_LOCATION:"schema-reference-options-nesting",REFERENCE_INVALID_FILTER_PARAMS_COMBINATION:"schema-reference-filter-params-combination",SLUG_SLUGIFY_FN_RENAMED:"slug-slugifyfn-renamed",ASSET_METADATA_FIELD_INVALID:"asset-metadata-field-invalid",CROSS_DATASET_REFERENCE_INVALID:"cross-dataset-reference-invalid",DEPRECATED_BLOCKEDITOR_KEY:"schema-deprecated-blockeditor-key",STANDALONE_BLOCK_TYPE:"schema-standalone-block-type"};function IWe(n,e,r){if(r&&!Object.keys(An).some(i=>An[i]===r))throw new Error('Used the unknown helpId "'.concat(r,'", please add it to the array in createValidationResult.js'));return{severity:n,message:e,helpId:r}}const It=(n,e)=>IWe("error",n,e),Ts=(n,e)=>IWe("warning",n,e);function min(n){return Ji(n.map(e=>DWe(e))).filter(e=>e.problems.length>0)}function sw(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r=>ko(r,n);return function(i,o){const s=[...o,{kind:"type",type:i.type,name:i.name}],a=e(i)||[],l=Array.isArray(a)?a.map(c=>{const u={kind:"property",name:n},f=[...s,u];return DWe(c,f)}):[[{path:s,problems:[It("Member declaration (".concat(n,") is not an array"))]}]];return[{path:s,problems:i._problems||[]},...Ji(l)]}}const gin=n=>Array.isArray(n)?n:typeof n>"u"&&[]||[n],mge=sw("fields"),vin=sw("fields"),yin=sw("fields"),bin=sw("of"),xin=sw("to",n=>"to"in n?gin(n.to):[]),win=sw("marks.annotations"),_in=sw("of"),Ein=(n,e)=>[...win(n,e),..._in(n,e)];function Cin(n){return[{path:[...arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],{kind:"type",type:n.type,name:n.name}],problems:n._problems||[]}]}function DWe(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];switch(n.type){case"object":return mge(n,e);case"document":return mge(n,e);case"array":return bin(n,e);case"reference":return xin(n,e);case"block":return Ein(n,e);case"image":return vin(n,e);case"file":return yin(n,e);default:return Cin(n,e)}}function R6(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i=>i;const r=n.reduce((i,o)=>{const s=e(o);return i[s]||(i[s]=[]),i[s].push(o),i},{});return Object.keys(r).map(i=>r[i].length>1?r[i]:null).filter(Boolean)}const Sin=n=>n,kin={name:"type",type:null},Tin=["any","time","date"];function Ain(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Sin;const i=Object.create(null),o=Object.create(null),s=e.map(v=>v.name),a=Tin.concat(s),l=n.map(v=>v&&v.name).filter(Boolean);e.forEach(v=>{i[v.name]=v}),n.forEach((v,y)=>{o[v&&v.name||"__unnamed_".concat(y)]={}});function c(v){return v==="type"?kin:i[v]||o[v]||null}const u=la(Ji(R6(l)));function f(v){return u.includes(v)}function h(){return l.concat(s)}function m(v){return v==="type"||a.includes(v)}const g=v=>(y,b)=>r(y,{visit:g(!1),isRoot:v,getType:c,getTypeNames:h,isReserved:m,isDuplicate:f,index:b});return e.forEach(v=>{Object.assign(i[v.name],g(v))}),n.forEach((v,y)=>{Object.assign(o[v&&v.name||"__unnamed_".concat(y)],g(!0)(v,y))}),{get(v){const y=o[v]||i[v];if(y)return y;throw new Error("No such type: ".concat(v))},has(v){return v in o||v in i},getTypeNames(){return Object.keys(o)},getTypes(){return this.getTypeNames().map(this.get)},toJSON(){return this.getTypes()}}}const RWe=[{name:"array",jsonType:"array",type:"type"},{name:"block",jsonType:"object",type:"type"},{name:"boolean",jsonType:"boolean",type:"type"},{name:"datetime",jsonType:"string",type:"type"},{name:"date",jsonType:"string",type:"type"},{name:"document",jsonType:"object",type:"type"},{name:"email",jsonType:"string",type:"type"},{name:"file",jsonType:"object",type:"type"},{name:"geopoint",jsonType:"object",type:"type"},{name:"image",jsonType:"object",type:"type"},{name:"number",jsonType:"number",type:"type"},{name:"object",jsonType:"object",type:"type"},{name:"reference",jsonType:"object",type:"type"},{name:"crossDatasetReference",jsonType:"object",type:"type"},{name:"slug",jsonType:"object",type:"type"},{name:"span",jsonType:"object",type:"type"},{name:"string",jsonType:"string",type:"type"},{name:"telephone",jsonType:"string",type:"type"},{name:"text",jsonType:"string",type:"type"},{name:"url",jsonType:"string",type:"type"}],OWe=RWe.map(n=>n.name);function Iin(n,e){return Ain(n,RWe,e)}function gge(n){return n==="string"||n==="number"||n==="boolean"}function Din(n,e){return(typeof e.name=="string"?e.name:e.type)===n}function DA(n){return'"'.concat(n,'"')}function vge(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"s";return n.length===1?"":e}function yge(n){return Array.isArray(n)?"array with ".concat(n.length," entries"):typeof n=="object"&&n!==null?"object with keys ".concat(nh(Object.keys(n).map(DA))):DA(n)}var Rin=(n,e)=>{var r,i,o;const s=Array.isArray(n.of);if(s){const v=n.of.reduce((y,b,x)=>{if(typeof b.name=="string"&&b.name!==b.type&&OWe.includes(b.name))return y.concat(It('Found array member declaration with the same type name as a built-in type ("'.concat(b.name,'"). Array members can not be given the same name as a built-in type.'),An.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT));if(b.type==="object"&&b.name&&e.getType(b.name))return y.concat(Ts('Found array member declaration with the same name as the global schema type "'.concat(b.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),An.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT));if(b.type==="array")return y.concat(It('Found array member declaration of type "array" - multidimensional arrays are not currently supported by Sanity',An.ARRAY_OF_ARRAY));if(b)return y;const _="Found ".concat(b===null?"null":typeof b,", expected member declaration");return y.concat(It("Found invalid type member declaration in array at index ".concat(x,": ").concat(_),An.ARRAY_OF_INVALID))},[]);if(v.length>0)return{...n,of:[],_problems:v}}const a=Ji([s?R6(n.of,v=>"".concat(v.name,";").concat(v.type)).map(v=>It("Found ".concat(v.length,' members with same type, but not unique names "').concat(v[0].type,'" in array. This makes it impossible to tell their values apart and you should consider naming them'),An.ARRAY_OF_NOT_UNIQUE)):It('The array type is missing or having an invalid value for the required "of" property',An.ARRAY_OF_INVALID)]),l=s?n.of:[],c=l.some(v=>v.type==="object"&&typeof v.name>"u");l.some(v=>v.type==="block")&&c&&a.push(It("The array type's 'of' property can't have an object type without a 'name' property as member, when the 'block' type is also a member of that array.",An.ARRAY_OF_INVALID));const[f,h]=Hte(l,v=>{var y;return gge(v.type)||gge((y=e.getType(v.type))==null?void 0:y.jsonType)}),m=f.length>0&&h.length>0;if(m){const v=f.map(b=>b.type),y=h.map(b=>b.type);a.push(It("The array type's 'of' property can't have both object types and primitive types (found primitive type ".concat(vge(v)," ").concat(nh(v.map(DA))," and object type").concat(vge(y)," ").concat(nh(y.map(DA)),")"),An.ARRAY_OF_INVALID))}const g=(r=n==null?void 0:n.options)==null?void 0:r.list;return!m&&Array.isArray(g)&&(f.length>0?g.forEach(y=>{var b;const x=(b=y==null?void 0:y.value)!=null?b:y;if(!f.some(w=>typeof x===e.getType(w.type).jsonType)){const w=nh(f.map(C=>C.name||C.type),{conjunction:"or"});a.push(It("An invalid entry found in options.list: ".concat(yge(x),". Must be either a value of type ").concat(w,", or an object with {title: string, value: ").concat(w,"}"),An.ARRAY_PREDEFINED_CHOICES_INVALID))}}):g.forEach(y=>{const b=y._type||"object";h.some(_=>Din(b,_))||a.push(It("An invalid entry found in options.list: ".concat(yge(y),'. Must be an object with "_type" set to ').concat(nh(h.map(_=>_.name||_.type).map(_=>_==="object"?"undefined":DA(_)),{conjunction:"or"})),An.ARRAY_PREDEFINED_CHOICES_INVALID))})),(i=n==null?void 0:n.options)!=null&&i.list&&((o=n==null?void 0:n.options)==null?void 0:o.layout)==="tags"&&a.push(Ts("Found array member declaration with both tags layout and a list of predefined values. If you want to display a list of predefined values, remove the tags layout from `options`.")),{...n,of:l.map(e.visit),_problems:a}};function PWe(n,e,r){if("jsonType"in n)return n.jsonType===e;const i=r.getType(n.type);if(!i)throw new Error("Could not resolve jsonType of ".concat(n.name,". No parent type found"));return PWe(i,e,r)}const td=n=>Array.isArray(n)?"array":typeof n,vD=n=>'"'.concat(n,'"'),Oin=["components","lists","marks","name","of","options","styles","title","type","validation"],Pin=["decorators","annotations"],jin=["blockEditor","title","value","component"],Lin=["blockEditor","title","value","icon","component"],$in=["title","value","icon","component"],bge=["file","image","object","reference"];function Min(n,e){const r=[];let i=n.styles,o=n.lists,s=n.marks,a=n.of;const l=Object.keys(n).filter(c=>!Oin.includes(c)&&!c.startsWith("_"));return l.length>0&&r.push(It("Found unknown properties for block declaration: ".concat(nh(l.map(vD))))),s&&(s=Fin(n.marks,e,r)),i&&(i=Bin(i,e,r)),o&&(o=Nin(o,e,r)),a&&(a=Vin(a,e,r)),{...Cc(n,l),marks:s,styles:i,name:n.name||n.type,of:a,_problems:r}}function Fin(n,e,r){let i=n.decorators,o=n.annotations;if(!io(n))return r.push(It('"marks" declaration should be an object, got '.concat(td(n)))),r;const s=Object.keys(n).filter(a=>!Pin.includes(a)&&!a.startsWith("_"));return s.length>0&&r.push(It("Found unknown properties for block declaration: ".concat(nh(s.map(vD))))),i&&!Array.isArray(i)?r.push(It('"marks.decorators" declaration should be an array, got '.concat(td(i)))):i&&(i.filter(a=>!!a.blockEditor).forEach(a=>{a.icon=a.blockEditor.icon,a.component=a.blockEditor.render}),i=Uin(i,e,r)),o&&!Array.isArray(o)?r.push(It('"marks.annotations" declaration should be an array, got '.concat(td(o)))):o&&(o=zin(o,e,r)),{...n,decorators:i,annotations:o}}function Nin(n,e,r){return Array.isArray(n)?(n.forEach((i,o)=>{if(!io(i)){r.push(It("List must be an object, got ".concat(td(i))));return}const s=i.value||"#".concat(o),a=Object.keys(i).filter(l=>!$in.includes(l)&&!l.startsWith("_"));a.length>0&&r.push(It("Found unknown properties for list ".concat(s,": ").concat(nh(a.map(vD))))),i.value?typeof i.value!="string"?r.push(It("List type #".concat(o,' has an invalid "value" property, expected string, got ').concat(td(i.value)))):i.title||r.push(Ts("List type ".concat(s,' is missing recommended "title" property'))):r.push(It("List #".concat(o,' is missing required "value" property')))}),n):(r.push(It('"lists" declaration should be an array, got '.concat(td(n)))),r)}function Bin(n,e,r){return Array.isArray(n)?(n.forEach((i,o)=>{if(!io(i)){r.push(It("Style must be an object, got ".concat(td(i))));return}const s=i.value||"#".concat(o),a=Object.keys(i).filter(l=>!jin.includes(l)&&!l.startsWith("_"));a.length>0&&r.push(It("Found unknown properties for style ".concat(s,": ").concat(nh(a.map(vD))))),i.value?typeof i.value!="string"?r.push(It("Style #".concat(o,' has an invalid "value" property, expected string, got ').concat(td(i.value)))):i.title||r.push(Ts("Style ".concat(s,' is missing recommended "title" property'))):r.push(It("Style #".concat(o,' is missing required "value" property'))),typeof i.blockEditor<"u"&&(r.push(Ts('Style has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',An.DEPRECATED_BLOCKEDITOR_KEY)),i.component=i.component||i.blockEditor.render)}),n):(r.push(It('"styles" declaration should be an array, got '.concat(td(n)))),r)}function Uin(n,e,r){return n.forEach((i,o)=>{if(!io(i)){r.push(It("Annotation must be an object, got ".concat(td(i))));return}const s=i.value||"#".concat(o),a=Object.keys(i).filter(l=>!Lin.includes(l)&&!l.startsWith("_"));a.length>0&&r.push(It("Found unknown properties for decorator ".concat(s,": ").concat(nh(a.map(vD))))),i.value?typeof i.value!="string"?r.push(It("Decorator #".concat(o,' has an invalid "value" property, expected string, got ').concat(td(i.value)))):i.title||r.push(Ts("Decorator ".concat(s,' is missing recommended "title" property'))):r.push(It("Decorator #".concat(o,' is missing required "value" property'))),typeof i.blockEditor<"u"&&(r.push(Ts('Decorator "'.concat(s,'" has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.'),An.DEPRECATED_BLOCKEDITOR_KEY)),i.icon=i.icon||i.blockEditor.icon,i.component=i.component||i.blockEditor.render)}),n}function zin(n,e,r){return n.map(i=>{var o,s;if(!io(i))return{...i,_problems:[It("Annotation must be an object, got ".concat(td(i)))]};const{_problems:a}=e.visit(i,e),l=i.type&&e.getType(i.type);return l&&!PWe(l,"object",e)&&a.push(It('Annotation cannot have type "'.concat(i.type,'" - annotation types must inherit from object'))),typeof i.blockEditor<"u"&&(r.push(Ts('Annotation has deprecated key "blockEditor", please refer to the documentation on how to configure the block type for version 3.',An.DEPRECATED_BLOCKEDITOR_KEY)),i.icon=i.icon||i.blockEditor.icon,(o=i.blockEditor)!=null&&o.render&&!((s=i.components)!=null&&s.annotation)&&(i.components=i.components||{},i.components.annotation=i.components.annotation||i.blockEditor.render)),{...i,_problems:a}})}function Vin(n,e,r){if(!Array.isArray(n)){r.push(It('"of" declaration should be an array, got '.concat(td(n))));return}return n.map(i=>{const{_problems:o}=e.visit(i,e);if(i.type==="object"&&i.name&&e.getType(i.name))return{...i,_problems:[Ts('Found array member declaration with the same name as the global schema type "'.concat(i.name,`". It's recommended to use a unique name to avoid possibly incompatible data types that shares the same name.`),An.ARRAY_OF_TYPE_GLOBAL_TYPE_CONFLICT)]};let s=i;for(;s&&!s.jsonType;)s=e.getType(s.type);const a=OWe.filter(l=>!bge.includes(l));return s&&s.jsonType!=="object"||a.some(l=>l===i.type)?{...i,_problems:[It("Block member types must be a supported object-like type. The following built-in types are supported: '".concat(bge.join("', '"),"'. You can also use shorthands for previously defined object types like {type: 'myObjectType'}"),An.ARRAY_OF_TYPE_BUILTIN_TYPE_CONFLICT)]}:{...i,_problems:o}})}function Hin(n,e){if(!("fields"in n))return[];let r=n;for(;r&&!r.jsonType;)r=e.getType(r.type);return r&&r.jsonType!=="object"?[It('Type has propery "fields", but is not an object/document type.')]:[]}const Win=n=>'"'.concat(n,'"');function Gin(n,e){const r=e.getTypeNames();if(!n)return[It("Type is missing a type.",An.TYPE_MISSING_TYPE)];if(typeof n!="string")return[It('Type has an invalid "type"-property - should be a string.',An.TYPE_MISSING_TYPE)];if(!r.includes(n)){const o=r.map(a=>[jrn(n,a),a]).filter(a=>{let[l]=a;return l<3}).map(a=>{let[l,c]=a;return c}),s=o.length>0?" Did you mean ".concat(nh(o.map(Win),{conjunction:"or"}),"?"):"";return[It("Unknown type: ".concat(n,".").concat(s))]}return[]}function qin(n){var e,r,i;const o=[];return n!=null&&n.inputComponent&&o.push(Ts('The "inputComponent" property is deprecated. Use "components.input" instead.')),(e=n==null?void 0:n.preview)!=null&&e.component&&o.push(Ts('The "preview.component" property is deprecated. Use "components.preview" instead.')),n!=null&&n.diffComponent&&o.push(Ts('The "diffComponent" property is deprecated. Use "components.diff" instead.')),(r=n==null?void 0:n.options)!=null&&r.editModal&&o.push(Ts('The "options.editModal" property is deprecated. Use "options.modal" instead.')),(i=n==null?void 0:n.options)!=null&&i.isHighlighted&&o.push(Ts('The "options.isHighlighted" property is deprecated. You can put fields behind a collapsed fieldset if you want to hide them from plain sight.')),o}var xge=(n,e)=>({...n,_problems:[...Gin(n.type,e),...Hin(n,e),...qin(n)].filter(Boolean)});function Kin(n){return Array.isArray(n.to)?n.to:n.to?[n.to]:n.to}const Yin=/^[a-z0-9~][-_a-z0-9]+$/;function Zin(n){return n.length>=2&&n.toLowerCase()===n&&Yin.test(n)||'The provided dataset "'.concat(n,`" doesn't look like a valid dataset. Dataset names must be more than 2 characters, can only contain lowercase characters, numbers, underscores and dashes and can not start with a dash or an underscore`)}var Xin=(n,e)=>{const r=Array.isArray(n.to)||io(n.to),i=Kin(n),o=Ji([r?R6(i,s=>"".concat(s.name,";").concat(s.type)).map(s=>It("Found ".concat(s.length,' members with same type, but not unique names "').concat(s[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),An.CROSS_DATASET_REFERENCE_INVALID)):It('The cross dataset reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',An.CROSS_DATASET_REFERENCE_INVALID)]);if(r&&i.length===0&&o.push(It('The cross dataset reference type should define at least one referenced type. Please check the "to" property.',An.CROSS_DATASET_REFERENCE_INVALID)),i.forEach((s,a)=>{s.type||o.push(It("The referenced type at index ".concat(a," must be named. Specify the name of the type you want to create references to."),An.CROSS_DATASET_REFERENCE_INVALID)),io(s.preview)||o.push(It('Missing required preview config for the referenced type "'.concat(s.type||"<unknown type>",'"'),An.CROSS_DATASET_REFERENCE_INVALID))}),typeof n.dataset=="string"){const s=Zin(n.dataset);s!==!0&&o.push(It(s,An.CROSS_DATASET_REFERENCE_INVALID))}else o.push(It("A cross dataset reference must specify a `dataset`",An.CROSS_DATASET_REFERENCE_INVALID));return n.studioUrl&&typeof n.studioUrl!="function"&&o.push(It('The "studioUrl" property on a cross dataset reference must be a function taking "{id, type}" as argument and returning a studio url.',An.CROSS_DATASET_REFERENCE_INVALID)),o.push(...Qin(n)),{...n,_problems:o}};function Qin(n){const{options:e}=n,r=[];return r.push(...["filter","filterParams"].filter(i=>i in n).map(i=>It("`".concat(i,"` is not allowed on a reference type definition - did you mean `options.").concat(i,"`?"),An.REFERENCE_INVALID_OPTIONS_LOCATION))),e?io(e)?typeof e.filter=="function"&&typeof e.filterParams<"u"?r.concat(It("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",An.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof e.filter=="function"||!e.filter&&!e.filterParams?r:typeof e.filter!="string"?r.concat(It("If set, `filter` must be a string. Got ".concat(typeof e.filter))):typeof e.filterParams<"u"&&!io(e.filterParams)?r.concat(It("If set, `filterParams` must be an object.")):e.filterParams?r.concat(Object.keys(e.filterParams).filter(i=>i.startsWith("__")||i.startsWith("$")).map(i=>It('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(i,'".')))):r:r.concat(It("The reference type expects `options` to be an object",An.REFERENCE_INVALID_OPTIONS)):r}const Jin=/^Symbol\(react\..+\)$/;function nP(n){return typeof n==="function"||typeof(n==null?void 0:n.$$typeof)=="symbol"&&Jin.test(String(n==null?void 0:n.$$typeof))}function jWe(n){const e="components"in n?n.components:!1;if(!e)return[];const r=[];return e.input&&!nP(e.input)&&r.push(Ts("The `components.input` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(EE(e.input),"). If you have imported a custom input component, please verify that you have imported the correct named/default export."))),e.field&&!nP(e.field)&&r.push(Ts("The `components.field` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(EE(e.field),"). If you have imported a custom field component, please verify that you have imported the correct named/default export."))),e.item&&!nP(e.item)&&r.push(Ts("The `components.item` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(EE(e.item),"). If you have imported a custom item component, please verify that you have imported the correct named/default export."))),e.preview&&!nP(e.preview)&&r.push(Ts("The `components.preview` property is set but does not appear to be a valid React component (expected a function, but saw ".concat(EE(e.preview),"). If you have imported a custom preview component, please verify that you have imported the correct named/default export."))),r}const wge=/^[A-Za-z]+[0-9A-Za-z_]*$/,eon=/^[A-Za-z_]+[0-9A-Za-z_]*$/;function ton(n){return typeof n!="string"?[It('Field names must be strings. Saw "'.concat(EE(n),'"'),An.OBJECT_FIELD_NAME_INVALID)]:n.startsWith("_")?[It('Invalid field name "'.concat(n,`". Field names cannot start with underscores "_" as it's reserved for system fields.`),An.OBJECT_FIELD_NAME_INVALID)]:wge.test(n)?eon.test(n)?[]:[Ts("Thats an interesting field name for sure! But it is... how to put it... a bit... unconventional? It may be wise to keep special characters out of field names for easier access later on."),An.OBJECT_FIELD_NAME_INVALID]:[It('Invalid field name: "'.concat(n,'". Fields can only contain characters from A-Z, numbers and underscores and should not start with a number (must pass the regular expression ').concat(String(wge),")."),An.OBJECT_FIELD_NAME_INVALID)]}function Yte(n,e){if(!io(n))return[It("Incorrect type for field definition - should be an object, saw ".concat(EE(n)),An.OBJECT_FIELD_DEFINITION_INVALID_TYPE)];const r=[];return r.push(..."name"in n?ton(n.name):[It("Missing field name",An.OBJECT_FIELD_NAME_INVALID)]),r.push(...jWe(n)),r}function non(n){const e={};return n.forEach(r=>{e[r.name]||(e[r.name]=[]),e[r.name].push(r)}),Object.keys(e).map(r=>e[r].length>1?e[r]:null).filter(Boolean)}function Zte(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{allowEmpty:!1};const r=[];if(!Array.isArray(n))return[It('The "fields" property must be an array of fields. Instead saw "'.concat(typeof n,'"'),An.OBJECT_FIELDS_INVALID)];const o=n.filter(a=>typeof a.name=="string");non(o).forEach(a=>{r.push(It("Found ".concat(a.length,' fields with name "').concat(a[0].name,'" in object'),An.OBJECT_FIELD_NOT_UNIQUE))}),n.length===0&&!e.allowEmpty&&r.push(It("Object should have at least one field",An.OBJECT_FIELDS_INVALID));const s=n.filter(a=>a.type==="block").map(a=>'"'.concat(a.name,'"'));if(s.length>0){const a=s.join(", ");r.push(It("Invalid standalone block field(s) ".concat(a,". Block content must be defined as an array of blocks"),An.STANDALONE_BLOCK_TYPE))}return r}function ron(n){return io(n)?typeof n.prepare<"u"&&typeof n.prepare!="function"?[It('The "preview.prepare" property must be a function, instead saw "'.concat(typeof n.prepare,'"'))]:n.select?io(n.select)?Object.keys(n.select).reduce((e,r)=>typeof n.select[r]=="string"?e:e.concat(It('The key "'.concat(r,'" of "preview.select" must be a string, instead saw "').concat(typeof n.select[r],'"'))),[]):[It('The "preview.select" property must be an object, instead saw "'.concat(typeof n.prepare,'"'))]:[]:[It('The "preview" property must be an object, instead saw "'.concat(typeof n,'"'))]}var LWe=(n,e)=>{let r=Zte(n.fields),i=n.preview;if(i){const o=ron(n.preview);r=r.concat(o),i=o.some(s=>s.severity==="error")?{}:i}return n.type!=="document"&&n.type!=="object"&&typeof n.initialValue<"u"&&r.push(It('The "initialValue" property is currently only supported for document & object types.')),{...n,preview:i,fields:(Array.isArray(n.fields)?n.fields:[]).map((o,s)=>{const{name:a,...l}=o,{_problems:c,...u}=e.visit(l,s);return{name:a,...u,_problems:Yte(o).concat(c||[])}}),_problems:r}},ion=(n,e)=>{const r=LWe(n,e),{initialValue:i,initialValues:o}=r;return typeof i<"u"&&!io(i)&&typeof i!="function"&&r._problems.push(It('The "initialValue" property must be either a plain object or a function')),typeof o<"u"&&r._problems.push(It('Found property "initialValues" - did you mean "initialValue"?')),r},oon=(n,e)=>{const r=[],i=n.fields;i&&r.push(...Zte(i,{allowEmpty:!0}));const o=Array.isArray(i)?i==null?void 0:i.filter(s=>s.name==="asset"):[];return n.options&&typeof n.options.metadata<"u"&&!Array.isArray(n.options.metadata)?r.push(It("Invalid type for file `metadata` field - must be an array of strings",An.ASSET_METADATA_FIELD_INVALID)):o.length>0&&r.push(It("The name `asset` is not a valid field name for type `file`.")),{...n,fields:(Array.isArray(i)?i:[]).map((s,a)=>{const{name:l,...c}=s,{_problems:u,...f}=e.visit(c,a);return{name:l,...f,_problems:Yte(s).concat(u||[])}}),_problems:r}};const _ge=["dimensions","hasAlpha","isOpaque"];var son=(n,e)=>{const r=[],i=n.fields;i&&r.push(...Zte(i,{allowEmpty:!0}));let o=n.options;const s=o==null?void 0:o.metadata,a=Array.isArray(s)?s.filter(u=>_ge.includes(u)):[],l=["asset","hotspot","crop"],c=Array.isArray(i)?i==null?void 0:i.filter(u=>l.includes(u.name)):[];return typeof s<"u"&&!Array.isArray(s)?r.push(It("Invalid type for image `metadata` field - must be an array of strings",An.ASSET_METADATA_FIELD_INVALID)):a.length>0?(r.push(Ts("Image `metadata` field contains superfluous properties (they are always included): ".concat(a.join(", ")))),o={...o,metadata:s.filter(u=>!_ge.includes(u))}):c.length>0&&r.push(It("The names `".concat(l.join("`, `"),"` are invalid field names for type `image`."))),{...n,options:o,fields:(Array.isArray(i)?i:[]).map((u,f)=>{const{name:h,...m}=u,{_problems:g,...v}=e.visit(m,f);return{name:h,...v,_problems:Yte(u).concat(g||[])}}),_problems:r}};function aon(n){return Array.isArray(n.to)?n.to:n.to?[n.to]:n.to}var lon=(n,e)=>{const r=Array.isArray(n.to)||io(n.to),i=aon(n),o=Ji([r?R6(i,s=>"".concat(s.name,";").concat(s.type)).map(s=>It("Found ".concat(s.length,' members with same type, but not unique names "').concat(s[0].type,'" in reference. This makes it impossible to tell their values apart and you should consider naming them'),An.REFERENCE_TO_INVALID)):It('The reference type is missing or having an invalid value for the required "to" property. It should be an array of accepted types.',An.REFERENCE_TO_INVALID)]);return r&&i.length===0&&o.push(It('The reference type should define at least one accepted type. Please check the "to" property.',An.REFERENCE_TO_INVALID)),o.push(...con(n)),{...n,to:(r?i:[]).map(e.visit),_problems:o}};function con(n){const{options:e}=n,r=[];return r.push(...["filter","filterParams"].filter(i=>i in n).map(i=>It("`".concat(i,"` is not allowed on a reference type definition - did you mean `options.").concat(i,"`?"),An.REFERENCE_INVALID_OPTIONS_LOCATION))),e?io(e)?typeof e.filter=="function"&&typeof e.filterParams<"u"?r.concat(It("`filterParams` cannot be used if `filter` is a function. Either statically define `filter` as a string, or return `params` from the `filter`-function.",An.REFERENCE_INVALID_FILTER_PARAMS_COMBINATION)):typeof e.filter=="function"||!e.filter&&!e.filterParams?r:typeof e.filter!="string"?r.concat(It("If set, `filter` must be a string. Got ".concat(typeof e.filter))):typeof e.filterParams<"u"&&!io(e.filterParams)?r.concat(It("If set, `filterParams` must be an object.")):e.filterParams?r.concat(Object.keys(e.filterParams).filter(i=>i.startsWith("__")||i.startsWith("$")).map(i=>It('Filter parameter cannot be prefixed with "$" or "__". Got '.concat(i,'".')))):r:r.concat(It("The reference type expects `options` to be an object",An.REFERENCE_INVALID_OPTIONS)):r}var uon=(n,e)=>{const r=!!n.name;if(!r&&Object.keys(n).length===1)return{...n,_problems:[It("Invalid/undefined type declaration, check declaration or the import/export of the schema type.",An.TYPE_INVALID)]};const i=[];return don(n)?i.push(It("Type appears to be an ES6 module imported through CommonJS require - use an import statement or access the `.default` property",An.TYPE_IS_ESM_MODULE)):r?e.isReserved(n.name)&&i.push(It('Invalid type name: "'.concat(n.name,'" is a reserved name.'),An.TYPE_NAME_RESERVED)):i.push(It("Missing type name",An.TYPE_MISSING_NAME)),e.isDuplicate(n.name)&&i.push(It('Invalid type name: A type with name "'.concat(n.name,'" is already defined in the schema.'))),i.push(...jWe(n)),"title"in n&&typeof n.title!="string"&&i.push(Ts("Type title is not a string.",An.TYPE_TITLE_INVALID)),{...n,_problems:i}};function don(n){return!n.name&&n.default&&(n.default.name||n.default.title)}var fon=(n,e)=>{const r=[];return n.options&&n.options.slugifyFn&&(r.push(Ts('Heads up! The "slugifyFn" option has been renamed to "slugify".',An.SLUG_SLUGIFY_FN_RENAMED)),n.options.slugify=n.options.slugifyFn),{...n,_problems:r}};const hon={array:Rin,object:LWe,slug:fon,file:oon,image:son,block:Min,document:ion,reference:lon,crossDatasetReference:Xin},pon=n=>e=>({name:"<unnamed_type_@_index_".concat(n.index,">"),...e,_problems:[]});function Ege(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return(i,o)=>e.reduce((s,a)=>{const l=a(s,o);return{...l,_problems:s._problems.concat(l._problems)}},{_problems:[],...i})}function mon(n){return Iin(n,(e,r)=>{const i=e&&e.type&&hon[e.type]||pon(r);return r.isRoot?Ege(uon,xge,i)(e,r):Ege(xge,i)(e,r)})}var gon=Pte,von=1,yon=4;function bon(n){return gon(n,von|yon)}var xon=bon;const won=Tt(xon);//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var $We;function zt(){return $We.apply(null,arguments)}function _on(n){$We=n}function xh(n){return n instanceof Array||Object.prototype.toString.call(n)==="[object Array]"}function Xb(n){return n!=null&&Object.prototype.toString.call(n)==="[object Object]"}function gi(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Xte(n){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(n).length===0;var e;for(e in n)if(gi(n,e))return!1;return!0}function tu(n){return n===void 0}function Og(n){return typeof n=="number"||Object.prototype.toString.call(n)==="[object Number]"}function yD(n){return n instanceof Date||Object.prototype.toString.call(n)==="[object Date]"}function MWe(n,e){var r=[],i,o=n.length;for(i=0;i<o;++i)r.push(e(n[i],i));return r}function S0(n,e){for(var r in e)gi(e,r)&&(n[r]=e[r]);return gi(e,"toString")&&(n.toString=e.toString),gi(e,"valueOf")&&(n.valueOf=e.valueOf),n}function Jp(n,e,r,i){return sGe(n,e,r,i,!0).utc()}function Eon(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function hr(n){return n._pf==null&&(n._pf=Eon()),n._pf}var Xq;Array.prototype.some?Xq=Array.prototype.some:Xq=function(n){var e=Object(this),r=e.length>>>0,i;for(i=0;i<r;i++)if(i in e&&n.call(this,e[i],i,e))return!0;return!1};function Qte(n){var e=null,r=!1,i=n._d&&!isNaN(n._d.getTime());if(i&&(e=hr(n),r=Xq.call(e.parsedDateParts,function(o){return o!=null}),i=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r),n._strict&&(i=i&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(n))n._isValid=i;else return i;return n._isValid}function O6(n){var e=Jp(NaN);return n!=null?S0(hr(e),n):hr(e).userInvalidated=!0,e}var Cge=zt.momentProperties=[],Ez=!1;function Jte(n,e){var r,i,o,s=Cge.length;if(tu(e._isAMomentObject)||(n._isAMomentObject=e._isAMomentObject),tu(e._i)||(n._i=e._i),tu(e._f)||(n._f=e._f),tu(e._l)||(n._l=e._l),tu(e._strict)||(n._strict=e._strict),tu(e._tzm)||(n._tzm=e._tzm),tu(e._isUTC)||(n._isUTC=e._isUTC),tu(e._offset)||(n._offset=e._offset),tu(e._pf)||(n._pf=hr(e)),tu(e._locale)||(n._locale=e._locale),s>0)for(r=0;r<s;r++)i=Cge[r],o=e[i],tu(o)||(n[i]=o);return n}function bD(n){Jte(this,n),this._d=new Date(n._d!=null?n._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Ez===!1&&(Ez=!0,zt.updateOffset(this),Ez=!1)}function wh(n){return n instanceof bD||n!=null&&n._isAMomentObject!=null}function FWe(n){zt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+n)}function Ef(n,e){var r=!0;return S0(function(){if(zt.deprecationHandler!=null&&zt.deprecationHandler(null,n),r){var i=[],o,s,a,l=arguments.length;for(s=0;s<l;s++){if(o="",typeof arguments[s]=="object"){o+=`
[`+s+"] ";for(a in arguments[0])gi(arguments[0],a)&&(o+=a+": "+arguments[0][a]+", ");o=o.slice(0,-2)}else o=arguments[s];i.push(o)}FWe(n+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),r=!1}return e.apply(this,arguments)},e)}var Sge={};function NWe(n,e){zt.deprecationHandler!=null&&zt.deprecationHandler(n,e),Sge[n]||(FWe(e),Sge[n]=!0)}zt.suppressDeprecationWarnings=!1;zt.deprecationHandler=null;function em(n){return typeof Function<"u"&&n instanceof Function||Object.prototype.toString.call(n)==="[object Function]"}function Con(n){var e,r;for(r in n)gi(n,r)&&(e=n[r],em(e)?this[r]=e:this["_"+r]=e);this._config=n,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Qq(n,e){var r=S0({},n),i;for(i in e)gi(e,i)&&(Xb(n[i])&&Xb(e[i])?(r[i]={},S0(r[i],n[i]),S0(r[i],e[i])):e[i]!=null?r[i]=e[i]:delete r[i]);for(i in n)gi(n,i)&&!gi(e,i)&&Xb(n[i])&&(r[i]=S0({},r[i]));return r}function ene(n){n!=null&&this.set(n)}var Jq;Object.keys?Jq=Object.keys:Jq=function(n){var e,r=[];for(e in n)gi(n,e)&&r.push(e);return r};var Son={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function kon(n,e,r){var i=this._calendar[n]||this._calendar.sameElse;return em(i)?i.call(e,r):i}function Vp(n,e,r){var i=""+Math.abs(n),o=e-i.length,s=n>=0;return(s?r?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+i}var tne=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,rP=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Cz={},ZE={};function En(n,e,r,i){var o=i;typeof i=="string"&&(o=function(){return this[i]()}),n&&(ZE[n]=o),e&&(ZE[e[0]]=function(){return Vp(o.apply(this,arguments),e[1],e[2])}),r&&(ZE[r]=function(){return this.localeData().ordinal(o.apply(this,arguments),n)})}function Ton(n){return n.match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function Aon(n){var e=n.match(tne),r,i;for(r=0,i=e.length;r<i;r++)ZE[e[r]]?e[r]=ZE[e[r]]:e[r]=Ton(e[r]);return function(o){var s="",a;for(a=0;a<i;a++)s+=em(e[a])?e[a].call(o,n):e[a];return s}}function IL(n,e){return n.isValid()?(e=BWe(e,n.localeData()),Cz[e]=Cz[e]||Aon(e),Cz[e](n)):n.localeData().invalidDate()}function BWe(n,e){var r=5;function i(o){return e.longDateFormat(o)||o}for(rP.lastIndex=0;r>=0&&rP.test(n);)n=n.replace(rP,i),rP.lastIndex=0,r-=1;return n}var Ion={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Don(n){var e=this._longDateFormat[n],r=this._longDateFormat[n.toUpperCase()];return e||!r?e:(this._longDateFormat[n]=r.match(tne).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[n])}var Ron="Invalid date";function Oon(){return this._invalidDate}var Pon="%d",jon=/\d{1,2}/;function Lon(n){return this._ordinal.replace("%d",n)}var $on={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Mon(n,e,r,i){var o=this._relativeTime[r];return em(o)?o(n,e,r,i):o.replace(/%d/i,n)}function Fon(n,e){var r=this._relativeTime[n>0?"future":"past"];return em(r)?r(e):r.replace(/%s/i,e)}var kge={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Cf(n){return typeof n=="string"?kge[n]||kge[n.toLowerCase()]:void 0}function nne(n){var e={},r,i;for(i in n)gi(n,i)&&(r=Cf(i),r&&(e[r]=n[i]));return e}var Non={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Bon(n){var e=[],r;for(r in n)gi(n,r)&&e.push({unit:r,priority:Non[r]});return e.sort(function(i,o){return i.priority-o.priority}),e}var UWe=/\d/,pd=/\d\d/,zWe=/\d{3}/,rne=/\d{4}/,P6=/[+-]?\d{6}/,Yo=/\d\d?/,VWe=/\d\d\d\d?/,HWe=/\d\d\d\d\d\d?/,j6=/\d{1,3}/,ine=/\d{1,4}/,L6=/[+-]?\d{1,6}/,jS=/\d+/,$6=/[+-]?\d+/,Uon=/Z|[+-]\d\d:?\d\d/gi,M6=/Z|[+-]\d\d(?::?\d\d)?/gi,zon=/[+-]?\d+(\.\d{1,3})?/,xD=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,LS=/^[1-9]\d?/,one=/^([1-9]\d|\d)/,W3;W3={};function Jt(n,e,r){W3[n]=em(e)?e:function(i,o){return i&&r?r:e}}function Von(n,e){return gi(W3,n)?W3[n](e._strict,e._locale):new RegExp(Hon(n))}function Hon(n){return bg(n.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,r,i,o,s){return r||i||o||s}))}function bg(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Wd(n){return n<0?Math.ceil(n)||0:Math.floor(n)}function Nr(n){var e=+n,r=0;return e!==0&&isFinite(e)&&(r=Wd(e)),r}var eK={};function oo(n,e){var r,i=e,o;for(typeof n=="string"&&(n=[n]),Og(e)&&(i=function(s,a){a[e]=Nr(s)}),o=n.length,r=0;r<o;r++)eK[n[r]]=i}function wD(n,e){oo(n,function(r,i,o,s){o._w=o._w||{},e(r,o._w,o,s)})}function Won(n,e,r){e!=null&&gi(eK,n)&&eK[n](e,r._a,r,n)}function F6(n){return n%4===0&&n%100!==0||n%400===0}var Xl=0,ag=1,_p=2,Ca=3,rh=4,lg=5,kb=6,Gon=7,qon=8;En("Y",0,0,function(){var n=this.year();return n<=9999?Vp(n,4):"+"+n});En(0,["YY",2],0,function(){return this.year()%100});En(0,["YYYY",4],0,"year");En(0,["YYYYY",5],0,"year");En(0,["YYYYYY",6,!0],0,"year");Jt("Y",$6);Jt("YY",Yo,pd);Jt("YYYY",ine,rne);Jt("YYYYY",L6,P6);Jt("YYYYYY",L6,P6);oo(["YYYYY","YYYYYY"],Xl);oo("YYYY",function(n,e){e[Xl]=n.length===2?zt.parseTwoDigitYear(n):Nr(n)});oo("YY",function(n,e){e[Xl]=zt.parseTwoDigitYear(n)});oo("Y",function(n,e){e[Xl]=parseInt(n,10)});function RA(n){return F6(n)?366:365}zt.parseTwoDigitYear=function(n){return Nr(n)+(Nr(n)>68?1900:2e3)};var WWe=$S("FullYear",!0);function Kon(){return F6(this.year())}function $S(n,e){return function(r){return r!=null?(GWe(this,n,r),zt.updateOffset(this,e),this):S5(this,n)}}function S5(n,e){if(!n.isValid())return NaN;var r=n._d,i=n._isUTC;switch(e){case"Milliseconds":return i?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return i?r.getUTCSeconds():r.getSeconds();case"Minutes":return i?r.getUTCMinutes():r.getMinutes();case"Hours":return i?r.getUTCHours():r.getHours();case"Date":return i?r.getUTCDate():r.getDate();case"Day":return i?r.getUTCDay():r.getDay();case"Month":return i?r.getUTCMonth():r.getMonth();case"FullYear":return i?r.getUTCFullYear():r.getFullYear();default:return NaN}}function GWe(n,e,r){var i,o,s,a,l;if(!(!n.isValid()||isNaN(r))){switch(i=n._d,o=n._isUTC,e){case"Milliseconds":return void(o?i.setUTCMilliseconds(r):i.setMilliseconds(r));case"Seconds":return void(o?i.setUTCSeconds(r):i.setSeconds(r));case"Minutes":return void(o?i.setUTCMinutes(r):i.setMinutes(r));case"Hours":return void(o?i.setUTCHours(r):i.setHours(r));case"Date":return void(o?i.setUTCDate(r):i.setDate(r));case"FullYear":break;default:return}s=r,a=n.month(),l=n.date(),l=l===29&&a===1&&!F6(s)?28:l,o?i.setUTCFullYear(s,a,l):i.setFullYear(s,a,l)}}function Yon(n){return n=Cf(n),em(this[n])?this[n]():this}function Zon(n,e){if(typeof n=="object"){n=nne(n);var r=Bon(n),i,o=r.length;for(i=0;i<o;i++)this[r[i].unit](n[r[i].unit])}else if(n=Cf(n),em(this[n]))return this[n](e);return this}function Xon(n,e){return(n%e+e)%e}var Ms;Array.prototype.indexOf?Ms=Array.prototype.indexOf:Ms=function(n){var e;for(e=0;e<this.length;++e)if(this[e]===n)return e;return-1};function sne(n,e){if(isNaN(n)||isNaN(e))return NaN;var r=Xon(e,12);return n+=(e-r)/12,r===1?F6(n)?29:28:31-r%7%2}En("M",["MM",2],"Mo",function(){return this.month()+1});En("MMM",0,0,function(n){return this.localeData().monthsShort(this,n)});En("MMMM",0,0,function(n){return this.localeData().months(this,n)});Jt("M",Yo,LS);Jt("MM",Yo,pd);Jt("MMM",function(n,e){return e.monthsShortRegex(n)});Jt("MMMM",function(n,e){return e.monthsRegex(n)});oo(["M","MM"],function(n,e){e[ag]=Nr(n)-1});oo(["MMM","MMMM"],function(n,e,r,i){var o=r._locale.monthsParse(n,i,r._strict);o!=null?e[ag]=o:hr(r).invalidMonth=n});var Qon="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),qWe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),KWe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Jon=xD,esn=xD;function tsn(n,e){return n?xh(this._months)?this._months[n.month()]:this._months[(this._months.isFormat||KWe).test(e)?"format":"standalone"][n.month()]:xh(this._months)?this._months:this._months.standalone}function nsn(n,e){return n?xh(this._monthsShort)?this._monthsShort[n.month()]:this._monthsShort[KWe.test(e)?"format":"standalone"][n.month()]:xh(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function rsn(n,e,r){var i,o,s,a=n.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=Jp([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return r?e==="MMM"?(o=Ms.call(this._shortMonthsParse,a),o!==-1?o:null):(o=Ms.call(this._longMonthsParse,a),o!==-1?o:null):e==="MMM"?(o=Ms.call(this._shortMonthsParse,a),o!==-1?o:(o=Ms.call(this._longMonthsParse,a),o!==-1?o:null)):(o=Ms.call(this._longMonthsParse,a),o!==-1?o:(o=Ms.call(this._shortMonthsParse,a),o!==-1?o:null))}function isn(n,e,r){var i,o,s;if(this._monthsParseExact)return rsn.call(this,n,e,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=Jp([2e3,i]),r&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),!r&&!this._monthsParse[i]&&(s="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),r&&e==="MMMM"&&this._longMonthsParse[i].test(n))return i;if(r&&e==="MMM"&&this._shortMonthsParse[i].test(n))return i;if(!r&&this._monthsParse[i].test(n))return i}}function YWe(n,e){if(!n.isValid())return n;if(typeof e=="string"){if(/^\d+$/.test(e))e=Nr(e);else if(e=n.localeData().monthsParse(e),!Og(e))return n}var r=e,i=n.date();return i=i<29?i:Math.min(i,sne(n.year(),r)),n._isUTC?n._d.setUTCMonth(r,i):n._d.setMonth(r,i),n}function ZWe(n){return n!=null?(YWe(this,n),zt.updateOffset(this,!0),this):S5(this,"Month")}function osn(){return sne(this.year(),this.month())}function ssn(n){return this._monthsParseExact?(gi(this,"_monthsRegex")||XWe.call(this),n?this._monthsShortStrictRegex:this._monthsShortRegex):(gi(this,"_monthsShortRegex")||(this._monthsShortRegex=Jon),this._monthsShortStrictRegex&&n?this._monthsShortStrictRegex:this._monthsShortRegex)}function asn(n){return this._monthsParseExact?(gi(this,"_monthsRegex")||XWe.call(this),n?this._monthsStrictRegex:this._monthsRegex):(gi(this,"_monthsRegex")||(this._monthsRegex=esn),this._monthsStrictRegex&&n?this._monthsStrictRegex:this._monthsRegex)}function XWe(){function n(c,u){return u.length-c.length}var e=[],r=[],i=[],o,s,a,l;for(o=0;o<12;o++)s=Jp([2e3,o]),a=bg(this.monthsShort(s,"")),l=bg(this.months(s,"")),e.push(a),r.push(l),i.push(l),i.push(a);e.sort(n),r.sort(n),i.sort(n),this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function lsn(n,e,r,i,o,s,a){var l;return n<100&&n>=0?(l=new Date(n+400,e,r,i,o,s,a),isFinite(l.getFullYear())&&l.setFullYear(n)):l=new Date(n,e,r,i,o,s,a),l}function k5(n){var e,r;return n<100&&n>=0?(r=Array.prototype.slice.call(arguments),r[0]=n+400,e=new Date(Date.UTC.apply(null,r)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(n)):e=new Date(Date.UTC.apply(null,arguments)),e}function G3(n,e,r){var i=7+e-r,o=(7+k5(n,0,i).getUTCDay()-e)%7;return-o+i-1}function QWe(n,e,r,i,o){var s=(7+r-i)%7,a=G3(n,i,o),l=1+7*(e-1)+s+a,c,u;return l<=0?(c=n-1,u=RA(c)+l):l>RA(n)?(c=n+1,u=l-RA(n)):(c=n,u=l),{year:c,dayOfYear:u}}function T5(n,e,r){var i=G3(n.year(),e,r),o=Math.floor((n.dayOfYear()-i-1)/7)+1,s,a;return o<1?(a=n.year()-1,s=o+xg(a,e,r)):o>xg(n.year(),e,r)?(s=o-xg(n.year(),e,r),a=n.year()+1):(a=n.year(),s=o),{week:s,year:a}}function xg(n,e,r){var i=G3(n,e,r),o=G3(n+1,e,r);return(RA(n)-i+o)/7}En("w",["ww",2],"wo","week");En("W",["WW",2],"Wo","isoWeek");Jt("w",Yo,LS);Jt("ww",Yo,pd);Jt("W",Yo,LS);Jt("WW",Yo,pd);wD(["w","ww","W","WW"],function(n,e,r,i){e[i.substr(0,1)]=Nr(n)});function csn(n){return T5(n,this._week.dow,this._week.doy).week}var usn={dow:0,doy:6};function dsn(){return this._week.dow}function fsn(){return this._week.doy}function hsn(n){var e=this.localeData().week(this);return n==null?e:this.add((n-e)*7,"d")}function psn(n){var e=T5(this,1,4).week;return n==null?e:this.add((n-e)*7,"d")}En("d",0,"do","day");En("dd",0,0,function(n){return this.localeData().weekdaysMin(this,n)});En("ddd",0,0,function(n){return this.localeData().weekdaysShort(this,n)});En("dddd",0,0,function(n){return this.localeData().weekdays(this,n)});En("e",0,0,"weekday");En("E",0,0,"isoWeekday");Jt("d",Yo);Jt("e",Yo);Jt("E",Yo);Jt("dd",function(n,e){return e.weekdaysMinRegex(n)});Jt("ddd",function(n,e){return e.weekdaysShortRegex(n)});Jt("dddd",function(n,e){return e.weekdaysRegex(n)});wD(["dd","ddd","dddd"],function(n,e,r,i){var o=r._locale.weekdaysParse(n,i,r._strict);o!=null?e.d=o:hr(r).invalidWeekday=n});wD(["d","e","E"],function(n,e,r,i){e[i]=Nr(n)});function msn(n,e){return typeof n!="string"?n:isNaN(n)?(n=e.weekdaysParse(n),typeof n=="number"?n:null):parseInt(n,10)}function gsn(n,e){return typeof n=="string"?e.weekdaysParse(n)%7||7:isNaN(n)?null:n}function ane(n,e){return n.slice(e,7).concat(n.slice(0,e))}var vsn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),JWe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ysn="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),bsn=xD,xsn=xD,wsn=xD;function _sn(n,e){var r=xh(this._weekdays)?this._weekdays:this._weekdays[n&&n!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return n===!0?ane(r,this._week.dow):n?r[n.day()]:r}function Esn(n){return n===!0?ane(this._weekdaysShort,this._week.dow):n?this._weekdaysShort[n.day()]:this._weekdaysShort}function Csn(n){return n===!0?ane(this._weekdaysMin,this._week.dow):n?this._weekdaysMin[n.day()]:this._weekdaysMin}function Ssn(n,e,r){var i,o,s,a=n.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=Jp([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return r?e==="dddd"?(o=Ms.call(this._weekdaysParse,a),o!==-1?o:null):e==="ddd"?(o=Ms.call(this._shortWeekdaysParse,a),o!==-1?o:null):(o=Ms.call(this._minWeekdaysParse,a),o!==-1?o:null):e==="dddd"?(o=Ms.call(this._weekdaysParse,a),o!==-1||(o=Ms.call(this._shortWeekdaysParse,a),o!==-1)?o:(o=Ms.call(this._minWeekdaysParse,a),o!==-1?o:null)):e==="ddd"?(o=Ms.call(this._shortWeekdaysParse,a),o!==-1||(o=Ms.call(this._weekdaysParse,a),o!==-1)?o:(o=Ms.call(this._minWeekdaysParse,a),o!==-1?o:null)):(o=Ms.call(this._minWeekdaysParse,a),o!==-1||(o=Ms.call(this._weekdaysParse,a),o!==-1)?o:(o=Ms.call(this._shortWeekdaysParse,a),o!==-1?o:null))}function ksn(n,e,r){var i,o,s;if(this._weekdaysParseExact)return Ssn.call(this,n,e,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(o=Jp([2e3,1]).day(i),r&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),r&&e==="dddd"&&this._fullWeekdaysParse[i].test(n))return i;if(r&&e==="ddd"&&this._shortWeekdaysParse[i].test(n))return i;if(r&&e==="dd"&&this._minWeekdaysParse[i].test(n))return i;if(!r&&this._weekdaysParse[i].test(n))return i}}function Tsn(n){if(!this.isValid())return n!=null?this:NaN;var e=S5(this,"Day");return n!=null?(n=msn(n,this.localeData()),this.add(n-e,"d")):e}function Asn(n){if(!this.isValid())return n!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return n==null?e:this.add(n-e,"d")}function Isn(n){if(!this.isValid())return n!=null?this:NaN;if(n!=null){var e=gsn(n,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Dsn(n){return this._weekdaysParseExact?(gi(this,"_weekdaysRegex")||lne.call(this),n?this._weekdaysStrictRegex:this._weekdaysRegex):(gi(this,"_weekdaysRegex")||(this._weekdaysRegex=bsn),this._weekdaysStrictRegex&&n?this._weekdaysStrictRegex:this._weekdaysRegex)}function Rsn(n){return this._weekdaysParseExact?(gi(this,"_weekdaysRegex")||lne.call(this),n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(gi(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=xsn),this._weekdaysShortStrictRegex&&n?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Osn(n){return this._weekdaysParseExact?(gi(this,"_weekdaysRegex")||lne.call(this),n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(gi(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=wsn),this._weekdaysMinStrictRegex&&n?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function lne(){function n(f,h){return h.length-f.length}var e=[],r=[],i=[],o=[],s,a,l,c,u;for(s=0;s<7;s++)a=Jp([2e3,1]).day(s),l=bg(this.weekdaysMin(a,"")),c=bg(this.weekdaysShort(a,"")),u=bg(this.weekdays(a,"")),e.push(l),r.push(c),i.push(u),o.push(l),o.push(c),o.push(u);e.sort(n),r.sort(n),i.sort(n),o.sort(n),this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function cne(){return this.hours()%12||12}function Psn(){return this.hours()||24}En("H",["HH",2],0,"hour");En("h",["hh",2],0,cne);En("k",["kk",2],0,Psn);En("hmm",0,0,function(){return""+cne.apply(this)+Vp(this.minutes(),2)});En("hmmss",0,0,function(){return""+cne.apply(this)+Vp(this.minutes(),2)+Vp(this.seconds(),2)});En("Hmm",0,0,function(){return""+this.hours()+Vp(this.minutes(),2)});En("Hmmss",0,0,function(){return""+this.hours()+Vp(this.minutes(),2)+Vp(this.seconds(),2)});function eGe(n,e){En(n,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}eGe("a",!0);eGe("A",!1);function tGe(n,e){return e._meridiemParse}Jt("a",tGe);Jt("A",tGe);Jt("H",Yo,one);Jt("h",Yo,LS);Jt("k",Yo,LS);Jt("HH",Yo,pd);Jt("hh",Yo,pd);Jt("kk",Yo,pd);Jt("hmm",VWe);Jt("hmmss",HWe);Jt("Hmm",VWe);Jt("Hmmss",HWe);oo(["H","HH"],Ca);oo(["k","kk"],function(n,e,r){var i=Nr(n);e[Ca]=i===24?0:i});oo(["a","A"],function(n,e,r){r._isPm=r._locale.isPM(n),r._meridiem=n});oo(["h","hh"],function(n,e,r){e[Ca]=Nr(n),hr(r).bigHour=!0});oo("hmm",function(n,e,r){var i=n.length-2;e[Ca]=Nr(n.substr(0,i)),e[rh]=Nr(n.substr(i)),hr(r).bigHour=!0});oo("hmmss",function(n,e,r){var i=n.length-4,o=n.length-2;e[Ca]=Nr(n.substr(0,i)),e[rh]=Nr(n.substr(i,2)),e[lg]=Nr(n.substr(o)),hr(r).bigHour=!0});oo("Hmm",function(n,e,r){var i=n.length-2;e[Ca]=Nr(n.substr(0,i)),e[rh]=Nr(n.substr(i))});oo("Hmmss",function(n,e,r){var i=n.length-4,o=n.length-2;e[Ca]=Nr(n.substr(0,i)),e[rh]=Nr(n.substr(i,2)),e[lg]=Nr(n.substr(o))});function jsn(n){return(n+"").toLowerCase().charAt(0)==="p"}var Lsn=/[ap]\.?m?\.?/i,$sn=$S("Hours",!0);function Msn(n,e,r){return n>11?r?"pm":"PM":r?"am":"AM"}var nGe={calendar:Son,longDateFormat:Ion,invalidDate:Ron,ordinal:Pon,dayOfMonthOrdinalParse:jon,relativeTime:$on,months:Qon,monthsShort:qWe,week:usn,weekdays:vsn,weekdaysMin:ysn,weekdaysShort:JWe,meridiemParse:Lsn},es={},mk={},A5;function Fsn(n,e){var r,i=Math.min(n.length,e.length);for(r=0;r<i;r+=1)if(n[r]!==e[r])return r;return i}function Tge(n){return n&&n.toLowerCase().replace("_","-")}function Nsn(n){for(var e=0,r,i,o,s;e<n.length;){for(s=Tge(n[e]).split("-"),r=s.length,i=Tge(n[e+1]),i=i?i.split("-"):null;r>0;){if(o=N6(s.slice(0,r).join("-")),o)return o;if(i&&i.length>=r&&Fsn(s,i)>=r-1)break;r--}e++}return A5}function Bsn(n){return!!(n&&n.match("^[^/\\\\]*$"))}function N6(n){var e=null,r;if(es[n]===void 0&&typeof module<"u"&&module&&module.exports&&Bsn(n))try{e=A5._abbr,r=require,r("./locale/"+n),Z0(e)}catch{es[n]=null}return es[n]}function Z0(n,e){var r;return n&&(tu(e)?r=Jg(n):r=une(n,e),r?A5=r:typeof console<"u"&&console.warn&&console.warn("Locale "+n+" not found. Did you forget to load it?")),A5._abbr}function une(n,e){if(e!==null){var r,i=nGe;if(e.abbr=n,es[n]!=null)NWe("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=es[n]._config;else if(e.parentLocale!=null)if(es[e.parentLocale]!=null)i=es[e.parentLocale]._config;else if(r=N6(e.parentLocale),r!=null)i=r._config;else return mk[e.parentLocale]||(mk[e.parentLocale]=[]),mk[e.parentLocale].push({name:n,config:e}),null;return es[n]=new ene(Qq(i,e)),mk[n]&&mk[n].forEach(function(o){une(o.name,o.config)}),Z0(n),es[n]}else return delete es[n],null}function Usn(n,e){if(e!=null){var r,i,o=nGe;es[n]!=null&&es[n].parentLocale!=null?es[n].set(Qq(es[n]._config,e)):(i=N6(n),i!=null&&(o=i._config),e=Qq(o,e),i==null&&(e.abbr=n),r=new ene(e),r.parentLocale=es[n],es[n]=r),Z0(n)}else es[n]!=null&&(es[n].parentLocale!=null?(es[n]=es[n].parentLocale,n===Z0()&&Z0(n)):es[n]!=null&&delete es[n]);return es[n]}function Jg(n){var e;if(n&&n._locale&&n._locale._abbr&&(n=n._locale._abbr),!n)return A5;if(!xh(n)){if(e=N6(n),e)return e;n=[n]}return Nsn(n)}function zsn(){return Jq(es)}function dne(n){var e,r=n._a;return r&&hr(n).overflow===-2&&(e=r[ag]<0||r[ag]>11?ag:r[_p]<1||r[_p]>sne(r[Xl],r[ag])?_p:r[Ca]<0||r[Ca]>24||r[Ca]===24&&(r[rh]!==0||r[lg]!==0||r[kb]!==0)?Ca:r[rh]<0||r[rh]>59?rh:r[lg]<0||r[lg]>59?lg:r[kb]<0||r[kb]>999?kb:-1,hr(n)._overflowDayOfYear&&(e<Xl||e>_p)&&(e=_p),hr(n)._overflowWeeks&&e===-1&&(e=Gon),hr(n)._overflowWeekday&&e===-1&&(e=qon),hr(n).overflow=e),n}var Vsn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Hsn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Wsn=/Z|[+-]\d\d(?::?\d\d)?/,iP=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Sz=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Gsn=/^\/?Date\((-?\d+)/i,qsn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ksn={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function rGe(n){var e,r,i=n._i,o=Vsn.exec(i)||Hsn.exec(i),s,a,l,c,u=iP.length,f=Sz.length;if(o){for(hr(n).iso=!0,e=0,r=u;e<r;e++)if(iP[e][1].exec(o[1])){a=iP[e][0],s=iP[e][2]!==!1;break}if(a==null){n._isValid=!1;return}if(o[3]){for(e=0,r=f;e<r;e++)if(Sz[e][1].exec(o[3])){l=(o[2]||" ")+Sz[e][0];break}if(l==null){n._isValid=!1;return}}if(!s&&l!=null){n._isValid=!1;return}if(o[4])if(Wsn.exec(o[4]))c="Z";else{n._isValid=!1;return}n._f=a+(l||"")+(c||""),hne(n)}else n._isValid=!1}function Ysn(n,e,r,i,o,s){var a=[Zsn(n),qWe.indexOf(e),parseInt(r,10),parseInt(i,10),parseInt(o,10)];return s&&a.push(parseInt(s,10)),a}function Zsn(n){var e=parseInt(n,10);return e<=49?2e3+e:e<=999?1900+e:e}function Xsn(n){return n.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Qsn(n,e,r){if(n){var i=JWe.indexOf(n),o=new Date(e[0],e[1],e[2]).getDay();if(i!==o)return hr(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function Jsn(n,e,r){if(n)return Ksn[n];if(e)return 0;var i=parseInt(r,10),o=i%100,s=(i-o)/100;return s*60+o}function iGe(n){var e=qsn.exec(Xsn(n._i)),r;if(e){if(r=Ysn(e[4],e[3],e[2],e[5],e[6],e[7]),!Qsn(e[1],r,n))return;n._a=r,n._tzm=Jsn(e[8],e[9],e[10]),n._d=k5.apply(null,n._a),n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),hr(n).rfc2822=!0}else n._isValid=!1}function ean(n){var e=Gsn.exec(n._i);if(e!==null){n._d=new Date(+e[1]);return}if(rGe(n),n._isValid===!1)delete n._isValid;else return;if(iGe(n),n._isValid===!1)delete n._isValid;else return;n._strict?n._isValid=!1:zt.createFromInputFallback(n)}zt.createFromInputFallback=Ef("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(n){n._d=new Date(n._i+(n._useUTC?" UTC":""))});function T_(n,e,r){return n??e??r}function tan(n){var e=new Date(zt.now());return n._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function fne(n){var e,r,i=[],o,s,a;if(!n._d){for(o=tan(n),n._w&&n._a[_p]==null&&n._a[ag]==null&&nan(n),n._dayOfYear!=null&&(a=T_(n._a[Xl],o[Xl]),(n._dayOfYear>RA(a)||n._dayOfYear===0)&&(hr(n)._overflowDayOfYear=!0),r=k5(a,0,n._dayOfYear),n._a[ag]=r.getUTCMonth(),n._a[_p]=r.getUTCDate()),e=0;e<3&&n._a[e]==null;++e)n._a[e]=i[e]=o[e];for(;e<7;e++)n._a[e]=i[e]=n._a[e]==null?e===2?1:0:n._a[e];n._a[Ca]===24&&n._a[rh]===0&&n._a[lg]===0&&n._a[kb]===0&&(n._nextDay=!0,n._a[Ca]=0),n._d=(n._useUTC?k5:lsn).apply(null,i),s=n._useUTC?n._d.getUTCDay():n._d.getDay(),n._tzm!=null&&n._d.setUTCMinutes(n._d.getUTCMinutes()-n._tzm),n._nextDay&&(n._a[Ca]=24),n._w&&typeof n._w.d<"u"&&n._w.d!==s&&(hr(n).weekdayMismatch=!0)}}function nan(n){var e,r,i,o,s,a,l,c,u;e=n._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,a=4,r=T_(e.GG,n._a[Xl],T5(qo(),1,4).year),i=T_(e.W,1),o=T_(e.E,1),(o<1||o>7)&&(c=!0)):(s=n._locale._week.dow,a=n._locale._week.doy,u=T5(qo(),s,a),r=T_(e.gg,n._a[Xl],u.year),i=T_(e.w,u.week),e.d!=null?(o=e.d,(o<0||o>6)&&(c=!0)):e.e!=null?(o=e.e+s,(e.e<0||e.e>6)&&(c=!0)):o=s),i<1||i>xg(r,s,a)?hr(n)._overflowWeeks=!0:c!=null?hr(n)._overflowWeekday=!0:(l=QWe(r,i,o,s,a),n._a[Xl]=l.year,n._dayOfYear=l.dayOfYear)}zt.ISO_8601=function(){};zt.RFC_2822=function(){};function hne(n){if(n._f===zt.ISO_8601){rGe(n);return}if(n._f===zt.RFC_2822){iGe(n);return}n._a=[],hr(n).empty=!0;var e=""+n._i,r,i,o,s,a,l=e.length,c=0,u,f;for(o=BWe(n._f,n._locale).match(tne)||[],f=o.length,r=0;r<f;r++)s=o[r],i=(e.match(Von(s,n))||[])[0],i&&(a=e.substr(0,e.indexOf(i)),a.length>0&&hr(n).unusedInput.push(a),e=e.slice(e.indexOf(i)+i.length),c+=i.length),ZE[s]?(i?hr(n).empty=!1:hr(n).unusedTokens.push(s),Won(s,i,n)):n._strict&&!i&&hr(n).unusedTokens.push(s);hr(n).charsLeftOver=l-c,e.length>0&&hr(n).unusedInput.push(e),n._a[Ca]<=12&&hr(n).bigHour===!0&&n._a[Ca]>0&&(hr(n).bigHour=void 0),hr(n).parsedDateParts=n._a.slice(0),hr(n).meridiem=n._meridiem,n._a[Ca]=ran(n._locale,n._a[Ca],n._meridiem),u=hr(n).era,u!==null&&(n._a[Xl]=n._locale.erasConvertYear(u,n._a[Xl])),fne(n),dne(n)}function ran(n,e,r){var i;return r==null?e:n.meridiemHour!=null?n.meridiemHour(e,r):(n.isPM!=null&&(i=n.isPM(r),i&&e<12&&(e+=12),!i&&e===12&&(e=0)),e)}function ian(n){var e,r,i,o,s,a,l=!1,c=n._f.length;if(c===0){hr(n).invalidFormat=!0,n._d=new Date(NaN);return}for(o=0;o<c;o++)s=0,a=!1,e=Jte({},n),n._useUTC!=null&&(e._useUTC=n._useUTC),e._f=n._f[o],hne(e),Qte(e)&&(a=!0),s+=hr(e).charsLeftOver,s+=hr(e).unusedTokens.length*10,hr(e).score=s,l?s<i&&(i=s,r=e):(i==null||s<i||a)&&(i=s,r=e,a&&(l=!0));S0(n,r||e)}function oan(n){if(!n._d){var e=nne(n._i),r=e.day===void 0?e.date:e.day;n._a=MWe([e.year,e.month,r,e.hour,e.minute,e.second,e.millisecond],function(i){return i&&parseInt(i,10)}),fne(n)}}function san(n){var e=new bD(dne(oGe(n)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function oGe(n){var e=n._i,r=n._f;return n._locale=n._locale||Jg(n._l),e===null||r===void 0&&e===""?O6({nullInput:!0}):(typeof e=="string"&&(n._i=e=n._locale.preparse(e)),wh(e)?new bD(dne(e)):(yD(e)?n._d=e:xh(r)?ian(n):r?hne(n):aan(n),Qte(n)||(n._d=null),n))}function aan(n){var e=n._i;tu(e)?n._d=new Date(zt.now()):yD(e)?n._d=new Date(e.valueOf()):typeof e=="string"?ean(n):xh(e)?(n._a=MWe(e.slice(0),function(r){return parseInt(r,10)}),fne(n)):Xb(e)?oan(n):Og(e)?n._d=new Date(e):zt.createFromInputFallback(n)}function sGe(n,e,r,i,o){var s={};return(e===!0||e===!1)&&(i=e,e=void 0),(r===!0||r===!1)&&(i=r,r=void 0),(Xb(n)&&Xte(n)||xh(n)&&n.length===0)&&(n=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=o,s._l=r,s._i=n,s._f=e,s._strict=i,san(s)}function qo(n,e,r,i){return sGe(n,e,r,i,!1)}var lan=Ef("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=qo.apply(null,arguments);return this.isValid()&&n.isValid()?n<this?this:n:O6()}),can=Ef("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var n=qo.apply(null,arguments);return this.isValid()&&n.isValid()?n>this?this:n:O6()});function aGe(n,e){var r,i;if(e.length===1&&xh(e[0])&&(e=e[0]),!e.length)return qo();for(r=e[0],i=1;i<e.length;++i)(!e[i].isValid()||e[i][n](r))&&(r=e[i]);return r}function uan(){var n=[].slice.call(arguments,0);return aGe("isBefore",n)}function dan(){var n=[].slice.call(arguments,0);return aGe("isAfter",n)}var fan=function(){return Date.now?Date.now():+new Date},gk=["year","quarter","month","week","day","hour","minute","second","millisecond"];function han(n){var e,r=!1,i,o=gk.length;for(e in n)if(gi(n,e)&&!(Ms.call(gk,e)!==-1&&(n[e]==null||!isNaN(n[e]))))return!1;for(i=0;i<o;++i)if(n[gk[i]]){if(r)return!1;parseFloat(n[gk[i]])!==Nr(n[gk[i]])&&(r=!0)}return!0}function pan(){return this._isValid}function man(){return kh(NaN)}function B6(n){var e=nne(n),r=e.year||0,i=e.quarter||0,o=e.month||0,s=e.week||e.isoWeek||0,a=e.day||0,l=e.hour||0,c=e.minute||0,u=e.second||0,f=e.millisecond||0;this._isValid=han(e),this._milliseconds=+f+u*1e3+c*6e4+l*1e3*60*60,this._days=+a+s*7,this._months=+o+i*3+r*12,this._data={},this._locale=Jg(),this._bubble()}function DL(n){return n instanceof B6}function tK(n){return n<0?Math.round(-1*n)*-1:Math.round(n)}function gan(n,e,r){var i=Math.min(n.length,e.length),o=Math.abs(n.length-e.length),s=0,a;for(a=0;a<i;a++)(r&&n[a]!==e[a]||!r&&Nr(n[a])!==Nr(e[a]))&&s++;return s+o}function lGe(n,e){En(n,0,0,function(){var r=this.utcOffset(),i="+";return r<0&&(r=-r,i="-"),i+Vp(~~(r/60),2)+e+Vp(~~r%60,2)})}lGe("Z",":");lGe("ZZ","");Jt("Z",M6);Jt("ZZ",M6);oo(["Z","ZZ"],function(n,e,r){r._useUTC=!0,r._tzm=pne(M6,n)});var van=/([\+\-]|\d\d)/gi;function pne(n,e){var r=(e||"").match(n),i,o,s;return r===null?null:(i=r[r.length-1]||[],o=(i+"").match(van)||["-",0,0],s=+(o[1]*60)+Nr(o[2]),s===0?0:o[0]==="+"?s:-s)}function mne(n,e){var r,i;return e._isUTC?(r=e.clone(),i=(wh(n)||yD(n)?n.valueOf():qo(n).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),zt.updateOffset(r,!1),r):qo(n).local()}function nK(n){return-Math.round(n._d.getTimezoneOffset())}zt.updateOffset=function(){};function yan(n,e,r){var i=this._offset||0,o;if(!this.isValid())return n!=null?this:NaN;if(n!=null){if(typeof n=="string"){if(n=pne(M6,n),n===null)return this}else Math.abs(n)<16&&!r&&(n=n*60);return!this._isUTC&&e&&(o=nK(this)),this._offset=n,this._isUTC=!0,o!=null&&this.add(o,"m"),i!==n&&(!e||this._changeInProgress?dGe(this,kh(n-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,zt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:nK(this)}function ban(n,e){return n!=null?(typeof n!="string"&&(n=-n),this.utcOffset(n,e),this):-this.utcOffset()}function xan(n){return this.utcOffset(0,n)}function wan(n){return this._isUTC&&(this.utcOffset(0,n),this._isUTC=!1,n&&this.subtract(nK(this),"m")),this}function _an(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var n=pne(Uon,this._i);n!=null?this.utcOffset(n):this.utcOffset(0,!0)}return this}function Ean(n){return this.isValid()?(n=n?qo(n).utcOffset():0,(this.utcOffset()-n)%60===0):!1}function Can(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function San(){if(!tu(this._isDSTShifted))return this._isDSTShifted;var n={},e;return Jte(n,this),n=oGe(n),n._a?(e=n._isUTC?Jp(n._a):qo(n._a),this._isDSTShifted=this.isValid()&&gan(n._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function kan(){return this.isValid()?!this._isUTC:!1}function Tan(){return this.isValid()?this._isUTC:!1}function cGe(){return this.isValid()?this._isUTC&&this._offset===0:!1}var Aan=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ian=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function kh(n,e){var r=n,i=null,o,s,a;return DL(n)?r={ms:n._milliseconds,d:n._days,M:n._months}:Og(n)||!isNaN(+n)?(r={},e?r[e]=+n:r.milliseconds=+n):(i=Aan.exec(n))?(o=i[1]==="-"?-1:1,r={y:0,d:Nr(i[_p])*o,h:Nr(i[Ca])*o,m:Nr(i[rh])*o,s:Nr(i[lg])*o,ms:Nr(tK(i[kb]*1e3))*o}):(i=Ian.exec(n))?(o=i[1]==="-"?-1:1,r={y:g1(i[2],o),M:g1(i[3],o),w:g1(i[4],o),d:g1(i[5],o),h:g1(i[6],o),m:g1(i[7],o),s:g1(i[8],o)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(a=Dan(qo(r.from),qo(r.to)),r={},r.ms=a.milliseconds,r.M=a.months),s=new B6(r),DL(n)&&gi(n,"_locale")&&(s._locale=n._locale),DL(n)&&gi(n,"_isValid")&&(s._isValid=n._isValid),s}kh.fn=B6.prototype;kh.invalid=man;function g1(n,e){var r=n&&parseFloat(n.replace(",","."));return(isNaN(r)?0:r)*e}function Age(n,e){var r={};return r.months=e.month()-n.month()+(e.year()-n.year())*12,n.clone().add(r.months,"M").isAfter(e)&&--r.months,r.milliseconds=+e-+n.clone().add(r.months,"M"),r}function Dan(n,e){var r;return n.isValid()&&e.isValid()?(e=mne(e,n),n.isBefore(e)?r=Age(n,e):(r=Age(e,n),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function uGe(n,e){return function(r,i){var o,s;return i!==null&&!isNaN(+i)&&(NWe(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=r,r=i,i=s),o=kh(r,i),dGe(this,o,n),this}}function dGe(n,e,r,i){var o=e._milliseconds,s=tK(e._days),a=tK(e._months);n.isValid()&&(i=i??!0,a&&YWe(n,S5(n,"Month")+a*r),s&&GWe(n,"Date",S5(n,"Date")+s*r),o&&n._d.setTime(n._d.valueOf()+o*r),i&&zt.updateOffset(n,s||a))}var Ran=uGe(1,"add"),Oan=uGe(-1,"subtract");function fGe(n){return typeof n=="string"||n instanceof String}function Pan(n){return wh(n)||yD(n)||fGe(n)||Og(n)||Lan(n)||jan(n)||n===null||n===void 0}function jan(n){var e=Xb(n)&&!Xte(n),r=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,s,a=i.length;for(o=0;o<a;o+=1)s=i[o],r=r||gi(n,s);return e&&r}function Lan(n){var e=xh(n),r=!1;return e&&(r=n.filter(function(i){return!Og(i)&&fGe(n)}).length===0),e&&r}function $an(n){var e=Xb(n)&&!Xte(n),r=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,s;for(o=0;o<i.length;o+=1)s=i[o],r=r||gi(n,s);return e&&r}function Man(n,e){var r=n.diff(e,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function Fan(n,e){arguments.length===1&&(arguments[0]?Pan(arguments[0])?(n=arguments[0],e=void 0):$an(arguments[0])&&(e=arguments[0],n=void 0):(n=void 0,e=void 0));var r=n||qo(),i=mne(r,this).startOf("day"),o=zt.calendarFormat(this,i)||"sameElse",s=e&&(em(e[o])?e[o].call(this,r):e[o]);return this.format(s||this.localeData().calendar(o,this,qo(r)))}function Nan(){return new bD(this)}function Ban(n,e){var r=wh(n)?n:qo(n);return this.isValid()&&r.isValid()?(e=Cf(e)||"millisecond",e==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(e).valueOf()):!1}function Uan(n,e){var r=wh(n)?n:qo(n);return this.isValid()&&r.isValid()?(e=Cf(e)||"millisecond",e==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(e).valueOf()<r.valueOf()):!1}function zan(n,e,r,i){var o=wh(n)?n:qo(n),s=wh(e)?e:qo(e);return this.isValid()&&o.isValid()&&s.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(o,r):!this.isBefore(o,r))&&(i[1]===")"?this.isBefore(s,r):!this.isAfter(s,r))):!1}function Van(n,e){var r=wh(n)?n:qo(n),i;return this.isValid()&&r.isValid()?(e=Cf(e)||"millisecond",e==="millisecond"?this.valueOf()===r.valueOf():(i=r.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf())):!1}function Han(n,e){return this.isSame(n,e)||this.isAfter(n,e)}function Wan(n,e){return this.isSame(n,e)||this.isBefore(n,e)}function Gan(n,e,r){var i,o,s;if(!this.isValid())return NaN;if(i=mne(n,this),!i.isValid())return NaN;switch(o=(i.utcOffset()-this.utcOffset())*6e4,e=Cf(e),e){case"year":s=RL(this,i)/12;break;case"month":s=RL(this,i);break;case"quarter":s=RL(this,i)/3;break;case"second":s=(this-i)/1e3;break;case"minute":s=(this-i)/6e4;break;case"hour":s=(this-i)/36e5;break;case"day":s=(this-i-o)/864e5;break;case"week":s=(this-i-o)/6048e5;break;default:s=this-i}return r?s:Wd(s)}function RL(n,e){if(n.date()<e.date())return-RL(e,n);var r=(e.year()-n.year())*12+(e.month()-n.month()),i=n.clone().add(r,"months"),o,s;return e-i<0?(o=n.clone().add(r-1,"months"),s=(e-i)/(i-o)):(o=n.clone().add(r+1,"months"),s=(e-i)/(o-i)),-(r+s)||0}zt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";zt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function qan(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Kan(n){if(!this.isValid())return null;var e=n!==!0,r=e?this.clone().utc():this;return r.year()<0||r.year()>9999?IL(r,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):em(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",IL(r,"Z")):IL(r,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Yan(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var n="moment",e="",r,i,o,s;return this.isLocal()||(n=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),r="["+n+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(r+i+o+s)}function Zan(n){n||(n=this.isUtc()?zt.defaultFormatUtc:zt.defaultFormat);var e=IL(this,n);return this.localeData().postformat(e)}function Xan(n,e){return this.isValid()&&(wh(n)&&n.isValid()||qo(n).isValid())?kh({to:this,from:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Qan(n){return this.from(qo(),n)}function Jan(n,e){return this.isValid()&&(wh(n)&&n.isValid()||qo(n).isValid())?kh({from:this,to:n}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function eln(n){return this.to(qo(),n)}function hGe(n){var e;return n===void 0?this._locale._abbr:(e=Jg(n),e!=null&&(this._locale=e),this)}var pGe=Ef("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(n){return n===void 0?this.localeData():this.locale(n)});function mGe(){return this._locale}var q3=1e3,XE=60*q3,K3=60*XE,gGe=(365*400+97)*24*K3;function QE(n,e){return(n%e+e)%e}function vGe(n,e,r){return n<100&&n>=0?new Date(n+400,e,r)-gGe:new Date(n,e,r).valueOf()}function yGe(n,e,r){return n<100&&n>=0?Date.UTC(n+400,e,r)-gGe:Date.UTC(n,e,r)}function tln(n){var e,r;if(n=Cf(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?yGe:vGe,n){case"year":e=r(this.year(),0,1);break;case"quarter":e=r(this.year(),this.month()-this.month()%3,1);break;case"month":e=r(this.year(),this.month(),1);break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=r(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=QE(e+(this._isUTC?0:this.utcOffset()*XE),K3);break;case"minute":e=this._d.valueOf(),e-=QE(e,XE);break;case"second":e=this._d.valueOf(),e-=QE(e,q3);break}return this._d.setTime(e),zt.updateOffset(this,!0),this}function nln(n){var e,r;if(n=Cf(n),n===void 0||n==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?yGe:vGe,n){case"year":e=r(this.year()+1,0,1)-1;break;case"quarter":e=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=r(this.year(),this.month()+1,1)-1;break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=K3-QE(e+(this._isUTC?0:this.utcOffset()*XE),K3)-1;break;case"minute":e=this._d.valueOf(),e+=XE-QE(e,XE)-1;break;case"second":e=this._d.valueOf(),e+=q3-QE(e,q3)-1;break}return this._d.setTime(e),zt.updateOffset(this,!0),this}function rln(){return this._d.valueOf()-(this._offset||0)*6e4}function iln(){return Math.floor(this.valueOf()/1e3)}function oln(){return new Date(this.valueOf())}function sln(){var n=this;return[n.year(),n.month(),n.date(),n.hour(),n.minute(),n.second(),n.millisecond()]}function aln(){var n=this;return{years:n.year(),months:n.month(),date:n.date(),hours:n.hours(),minutes:n.minutes(),seconds:n.seconds(),milliseconds:n.milliseconds()}}function lln(){return this.isValid()?this.toISOString():null}function cln(){return Qte(this)}function uln(){return S0({},hr(this))}function dln(){return hr(this).overflow}function fln(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}En("N",0,0,"eraAbbr");En("NN",0,0,"eraAbbr");En("NNN",0,0,"eraAbbr");En("NNNN",0,0,"eraName");En("NNNNN",0,0,"eraNarrow");En("y",["y",1],"yo","eraYear");En("y",["yy",2],0,"eraYear");En("y",["yyy",3],0,"eraYear");En("y",["yyyy",4],0,"eraYear");Jt("N",gne);Jt("NN",gne);Jt("NNN",gne);Jt("NNNN",Eln);Jt("NNNNN",Cln);oo(["N","NN","NNN","NNNN","NNNNN"],function(n,e,r,i){var o=r._locale.erasParse(n,i,r._strict);o?hr(r).era=o:hr(r).invalidEra=n});Jt("y",jS);Jt("yy",jS);Jt("yyy",jS);Jt("yyyy",jS);Jt("yo",Sln);oo(["y","yy","yyy","yyyy"],Xl);oo(["yo"],function(n,e,r,i){var o;r._locale._eraYearOrdinalRegex&&(o=n.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?e[Xl]=r._locale.eraYearOrdinalParse(n,o):e[Xl]=parseInt(n,10)});function hln(n,e){var r,i,o,s=this._eras||Jg("en")._eras;for(r=0,i=s.length;r<i;++r){switch(typeof s[r].since){case"string":o=zt(s[r].since).startOf("day"),s[r].since=o.valueOf();break}switch(typeof s[r].until){case"undefined":s[r].until=1/0;break;case"string":o=zt(s[r].until).startOf("day").valueOf(),s[r].until=o.valueOf();break}}return s}function pln(n,e,r){var i,o,s=this.eras(),a,l,c;for(n=n.toUpperCase(),i=0,o=s.length;i<o;++i)if(a=s[i].name.toUpperCase(),l=s[i].abbr.toUpperCase(),c=s[i].narrow.toUpperCase(),r)switch(e){case"N":case"NN":case"NNN":if(l===n)return s[i];break;case"NNNN":if(a===n)return s[i];break;case"NNNNN":if(c===n)return s[i];break}else if([a,l,c].indexOf(n)>=0)return s[i]}function mln(n,e){var r=n.since<=n.until?1:-1;return e===void 0?zt(n.since).year():zt(n.since).year()+(e-n.offset)*r}function gln(){var n,e,r,i=this.localeData().eras();for(n=0,e=i.length;n<e;++n)if(r=this.clone().startOf("day").valueOf(),i[n].since<=r&&r<=i[n].until||i[n].until<=r&&r<=i[n].since)return i[n].name;return""}function vln(){var n,e,r,i=this.localeData().eras();for(n=0,e=i.length;n<e;++n)if(r=this.clone().startOf("day").valueOf(),i[n].since<=r&&r<=i[n].until||i[n].until<=r&&r<=i[n].since)return i[n].narrow;return""}function yln(){var n,e,r,i=this.localeData().eras();for(n=0,e=i.length;n<e;++n)if(r=this.clone().startOf("day").valueOf(),i[n].since<=r&&r<=i[n].until||i[n].until<=r&&r<=i[n].since)return i[n].abbr;return""}function bln(){var n,e,r,i,o=this.localeData().eras();for(n=0,e=o.length;n<e;++n)if(r=o[n].since<=o[n].until?1:-1,i=this.clone().startOf("day").valueOf(),o[n].since<=i&&i<=o[n].until||o[n].until<=i&&i<=o[n].since)return(this.year()-zt(o[n].since).year())*r+o[n].offset;return this.year()}function xln(n){return gi(this,"_erasNameRegex")||vne.call(this),n?this._erasNameRegex:this._erasRegex}function wln(n){return gi(this,"_erasAbbrRegex")||vne.call(this),n?this._erasAbbrRegex:this._erasRegex}function _ln(n){return gi(this,"_erasNarrowRegex")||vne.call(this),n?this._erasNarrowRegex:this._erasRegex}function gne(n,e){return e.erasAbbrRegex(n)}function Eln(n,e){return e.erasNameRegex(n)}function Cln(n,e){return e.erasNarrowRegex(n)}function Sln(n,e){return e._eraYearOrdinalRegex||jS}function vne(){var n=[],e=[],r=[],i=[],o,s,a,l,c,u=this.eras();for(o=0,s=u.length;o<s;++o)a=bg(u[o].name),l=bg(u[o].abbr),c=bg(u[o].narrow),e.push(a),n.push(l),r.push(c),i.push(a),i.push(l),i.push(c);this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}En(0,["gg",2],0,function(){return this.weekYear()%100});En(0,["GG",2],0,function(){return this.isoWeekYear()%100});function U6(n,e){En(0,[n,n.length],0,e)}U6("gggg","weekYear");U6("ggggg","weekYear");U6("GGGG","isoWeekYear");U6("GGGGG","isoWeekYear");Jt("G",$6);Jt("g",$6);Jt("GG",Yo,pd);Jt("gg",Yo,pd);Jt("GGGG",ine,rne);Jt("gggg",ine,rne);Jt("GGGGG",L6,P6);Jt("ggggg",L6,P6);wD(["gggg","ggggg","GGGG","GGGGG"],function(n,e,r,i){e[i.substr(0,2)]=Nr(n)});wD(["gg","GG"],function(n,e,r,i){e[i]=zt.parseTwoDigitYear(n)});function kln(n){return bGe.call(this,n,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Tln(n){return bGe.call(this,n,this.isoWeek(),this.isoWeekday(),1,4)}function Aln(){return xg(this.year(),1,4)}function Iln(){return xg(this.isoWeekYear(),1,4)}function Dln(){var n=this.localeData()._week;return xg(this.year(),n.dow,n.doy)}function Rln(){var n=this.localeData()._week;return xg(this.weekYear(),n.dow,n.doy)}function bGe(n,e,r,i,o){var s;return n==null?T5(this,i,o).year:(s=xg(n,i,o),e>s&&(e=s),Oln.call(this,n,e,r,i,o))}function Oln(n,e,r,i,o){var s=QWe(n,e,r,i,o),a=k5(s.year,0,s.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}En("Q",0,"Qo","quarter");Jt("Q",UWe);oo("Q",function(n,e){e[ag]=(Nr(n)-1)*3});function Pln(n){return n==null?Math.ceil((this.month()+1)/3):this.month((n-1)*3+this.month()%3)}En("D",["DD",2],"Do","date");Jt("D",Yo,LS);Jt("DD",Yo,pd);Jt("Do",function(n,e){return n?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});oo(["D","DD"],_p);oo("Do",function(n,e){e[_p]=Nr(n.match(Yo)[0])});var xGe=$S("Date",!0);En("DDD",["DDDD",3],"DDDo","dayOfYear");Jt("DDD",j6);Jt("DDDD",zWe);oo(["DDD","DDDD"],function(n,e,r){r._dayOfYear=Nr(n)});function jln(n){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return n==null?e:this.add(n-e,"d")}En("m",["mm",2],0,"minute");Jt("m",Yo,one);Jt("mm",Yo,pd);oo(["m","mm"],rh);var Lln=$S("Minutes",!1);En("s",["ss",2],0,"second");Jt("s",Yo,one);Jt("ss",Yo,pd);oo(["s","ss"],lg);var $ln=$S("Seconds",!1);En("S",0,0,function(){return~~(this.millisecond()/100)});En(0,["SS",2],0,function(){return~~(this.millisecond()/10)});En(0,["SSS",3],0,"millisecond");En(0,["SSSS",4],0,function(){return this.millisecond()*10});En(0,["SSSSS",5],0,function(){return this.millisecond()*100});En(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});En(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});En(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});En(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Jt("S",j6,UWe);Jt("SS",j6,pd);Jt("SSS",j6,zWe);var k0,wGe;for(k0="SSSS";k0.length<=9;k0+="S")Jt(k0,jS);function Mln(n,e){e[kb]=Nr(("0."+n)*1e3)}for(k0="S";k0.length<=9;k0+="S")oo(k0,Mln);wGe=$S("Milliseconds",!1);En("z",0,0,"zoneAbbr");En("zz",0,0,"zoneName");function Fln(){return this._isUTC?"UTC":""}function Nln(){return this._isUTC?"Coordinated Universal Time":""}var St=bD.prototype;St.add=Ran;St.calendar=Fan;St.clone=Nan;St.diff=Gan;St.endOf=nln;St.format=Zan;St.from=Xan;St.fromNow=Qan;St.to=Jan;St.toNow=eln;St.get=Yon;St.invalidAt=dln;St.isAfter=Ban;St.isBefore=Uan;St.isBetween=zan;St.isSame=Van;St.isSameOrAfter=Han;St.isSameOrBefore=Wan;St.isValid=cln;St.lang=pGe;St.locale=hGe;St.localeData=mGe;St.max=can;St.min=lan;St.parsingFlags=uln;St.set=Zon;St.startOf=tln;St.subtract=Oan;St.toArray=sln;St.toObject=aln;St.toDate=oln;St.toISOString=Kan;St.inspect=Yan;typeof Symbol<"u"&&Symbol.for!=null&&(St[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});St.toJSON=lln;St.toString=qan;St.unix=iln;St.valueOf=rln;St.creationData=fln;St.eraName=gln;St.eraNarrow=vln;St.eraAbbr=yln;St.eraYear=bln;St.year=WWe;St.isLeapYear=Kon;St.weekYear=kln;St.isoWeekYear=Tln;St.quarter=St.quarters=Pln;St.month=ZWe;St.daysInMonth=osn;St.week=St.weeks=hsn;St.isoWeek=St.isoWeeks=psn;St.weeksInYear=Dln;St.weeksInWeekYear=Rln;St.isoWeeksInYear=Aln;St.isoWeeksInISOWeekYear=Iln;St.date=xGe;St.day=St.days=Tsn;St.weekday=Asn;St.isoWeekday=Isn;St.dayOfYear=jln;St.hour=St.hours=$sn;St.minute=St.minutes=Lln;St.second=St.seconds=$ln;St.millisecond=St.milliseconds=wGe;St.utcOffset=yan;St.utc=xan;St.local=wan;St.parseZone=_an;St.hasAlignedHourOffset=Ean;St.isDST=Can;St.isLocal=kan;St.isUtcOffset=Tan;St.isUtc=cGe;St.isUTC=cGe;St.zoneAbbr=Fln;St.zoneName=Nln;St.dates=Ef("dates accessor is deprecated. Use date instead.",xGe);St.months=Ef("months accessor is deprecated. Use month instead",ZWe);St.years=Ef("years accessor is deprecated. Use year instead",WWe);St.zone=Ef("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ban);St.isDSTShifted=Ef("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",San);function Bln(n){return qo(n*1e3)}function Uln(){return qo.apply(null,arguments).parseZone()}function _Ge(n){return n}var bi=ene.prototype;bi.calendar=kon;bi.longDateFormat=Don;bi.invalidDate=Oon;bi.ordinal=Lon;bi.preparse=_Ge;bi.postformat=_Ge;bi.relativeTime=Mon;bi.pastFuture=Fon;bi.set=Con;bi.eras=hln;bi.erasParse=pln;bi.erasConvertYear=mln;bi.erasAbbrRegex=wln;bi.erasNameRegex=xln;bi.erasNarrowRegex=_ln;bi.months=tsn;bi.monthsShort=nsn;bi.monthsParse=isn;bi.monthsRegex=asn;bi.monthsShortRegex=ssn;bi.week=csn;bi.firstDayOfYear=fsn;bi.firstDayOfWeek=dsn;bi.weekdays=_sn;bi.weekdaysMin=Csn;bi.weekdaysShort=Esn;bi.weekdaysParse=ksn;bi.weekdaysRegex=Dsn;bi.weekdaysShortRegex=Rsn;bi.weekdaysMinRegex=Osn;bi.isPM=jsn;bi.meridiem=Msn;function Y3(n,e,r,i){var o=Jg(),s=Jp().set(i,e);return o[r](s,n)}function EGe(n,e,r){if(Og(n)&&(e=n,n=void 0),n=n||"",e!=null)return Y3(n,e,r,"month");var i,o=[];for(i=0;i<12;i++)o[i]=Y3(n,i,r,"month");return o}function yne(n,e,r,i){typeof n=="boolean"?(Og(e)&&(r=e,e=void 0),e=e||""):(e=n,r=e,n=!1,Og(e)&&(r=e,e=void 0),e=e||"");var o=Jg(),s=n?o._week.dow:0,a,l=[];if(r!=null)return Y3(e,(r+s)%7,i,"day");for(a=0;a<7;a++)l[a]=Y3(e,(a+s)%7,i,"day");return l}function zln(n,e){return EGe(n,e,"months")}function Vln(n,e){return EGe(n,e,"monthsShort")}function Hln(n,e,r){return yne(n,e,r,"weekdays")}function Wln(n,e,r){return yne(n,e,r,"weekdaysShort")}function Gln(n,e,r){return yne(n,e,r,"weekdaysMin")}Z0("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(n){var e=n%10,r=Nr(n%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return n+r}});zt.lang=Ef("moment.lang is deprecated. Use moment.locale instead.",Z0);zt.langData=Ef("moment.langData is deprecated. Use moment.localeData instead.",Jg);var Pm=Math.abs;function qln(){var n=this._data;return this._milliseconds=Pm(this._milliseconds),this._days=Pm(this._days),this._months=Pm(this._months),n.milliseconds=Pm(n.milliseconds),n.seconds=Pm(n.seconds),n.minutes=Pm(n.minutes),n.hours=Pm(n.hours),n.months=Pm(n.months),n.years=Pm(n.years),this}function CGe(n,e,r,i){var o=kh(e,r);return n._milliseconds+=i*o._milliseconds,n._days+=i*o._days,n._months+=i*o._months,n._bubble()}function Kln(n,e){return CGe(this,n,e,1)}function Yln(n,e){return CGe(this,n,e,-1)}function Ige(n){return n<0?Math.floor(n):Math.ceil(n)}function Zln(){var n=this._milliseconds,e=this._days,r=this._months,i=this._data,o,s,a,l,c;return n>=0&&e>=0&&r>=0||n<=0&&e<=0&&r<=0||(n+=Ige(rK(r)+e)*864e5,e=0,r=0),i.milliseconds=n%1e3,o=Wd(n/1e3),i.seconds=o%60,s=Wd(o/60),i.minutes=s%60,a=Wd(s/60),i.hours=a%24,e+=Wd(a/24),c=Wd(SGe(e)),r+=c,e-=Ige(rK(c)),l=Wd(r/12),r%=12,i.days=e,i.months=r,i.years=l,this}function SGe(n){return n*4800/146097}function rK(n){return n*146097/4800}function Xln(n){if(!this.isValid())return NaN;var e,r,i=this._milliseconds;if(n=Cf(n),n==="month"||n==="quarter"||n==="year")switch(e=this._days+i/864e5,r=this._months+SGe(e),n){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(e=this._days+Math.round(rK(this._months)),n){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return e*24+i/36e5;case"minute":return e*1440+i/6e4;case"second":return e*86400+i/1e3;case"millisecond":return Math.floor(e*864e5)+i;default:throw new Error("Unknown unit "+n)}}function ev(n){return function(){return this.as(n)}}var kGe=ev("ms"),Qln=ev("s"),Jln=ev("m"),ecn=ev("h"),tcn=ev("d"),ncn=ev("w"),rcn=ev("M"),icn=ev("Q"),ocn=ev("y"),scn=kGe;function acn(){return kh(this)}function lcn(n){return n=Cf(n),this.isValid()?this[n+"s"]():NaN}function aw(n){return function(){return this.isValid()?this._data[n]:NaN}}var ccn=aw("milliseconds"),ucn=aw("seconds"),dcn=aw("minutes"),fcn=aw("hours"),hcn=aw("days"),pcn=aw("months"),mcn=aw("years");function gcn(){return Wd(this.days()/7)}var qm=Math.round,CE={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function vcn(n,e,r,i,o){return o.relativeTime(e||1,!!r,n,i)}function ycn(n,e,r,i){var o=kh(n).abs(),s=qm(o.as("s")),a=qm(o.as("m")),l=qm(o.as("h")),c=qm(o.as("d")),u=qm(o.as("M")),f=qm(o.as("w")),h=qm(o.as("y")),m=s<=r.ss&&["s",s]||s<r.s&&["ss",s]||a<=1&&["m"]||a<r.m&&["mm",a]||l<=1&&["h"]||l<r.h&&["hh",l]||c<=1&&["d"]||c<r.d&&["dd",c];return r.w!=null&&(m=m||f<=1&&["w"]||f<r.w&&["ww",f]),m=m||u<=1&&["M"]||u<r.M&&["MM",u]||h<=1&&["y"]||["yy",h],m[2]=e,m[3]=+n>0,m[4]=i,vcn.apply(null,m)}function bcn(n){return n===void 0?qm:typeof n=="function"?(qm=n,!0):!1}function xcn(n,e){return CE[n]===void 0?!1:e===void 0?CE[n]:(CE[n]=e,n==="s"&&(CE.ss=e-1),!0)}function wcn(n,e){if(!this.isValid())return this.localeData().invalidDate();var r=!1,i=CE,o,s;return typeof n=="object"&&(e=n,n=!1),typeof n=="boolean"&&(r=n),typeof e=="object"&&(i=Object.assign({},CE,e),e.s!=null&&e.ss==null&&(i.ss=e.s-1)),o=this.localeData(),s=ycn(this,!r,i,o),r&&(s=o.pastFuture(+this,s)),o.postformat(s)}var kz=Math.abs;function Jw(n){return(n>0)-(n<0)||+n}function z6(){if(!this.isValid())return this.localeData().invalidDate();var n=kz(this._milliseconds)/1e3,e=kz(this._days),r=kz(this._months),i,o,s,a,l=this.asSeconds(),c,u,f,h;return l?(i=Wd(n/60),o=Wd(i/60),n%=60,i%=60,s=Wd(r/12),r%=12,a=n?n.toFixed(3).replace(/\.?0+$/,""):"",c=l<0?"-":"",u=Jw(this._months)!==Jw(l)?"-":"",f=Jw(this._days)!==Jw(l)?"-":"",h=Jw(this._milliseconds)!==Jw(l)?"-":"",c+"P"+(s?u+s+"Y":"")+(r?u+r+"M":"")+(e?f+e+"D":"")+(o||i||n?"T":"")+(o?h+o+"H":"")+(i?h+i+"M":"")+(n?h+a+"S":"")):"P0D"}var Qr=B6.prototype;Qr.isValid=pan;Qr.abs=qln;Qr.add=Kln;Qr.subtract=Yln;Qr.as=Xln;Qr.asMilliseconds=kGe;Qr.asSeconds=Qln;Qr.asMinutes=Jln;Qr.asHours=ecn;Qr.asDays=tcn;Qr.asWeeks=ncn;Qr.asMonths=rcn;Qr.asQuarters=icn;Qr.asYears=ocn;Qr.valueOf=scn;Qr._bubble=Zln;Qr.clone=acn;Qr.get=lcn;Qr.milliseconds=ccn;Qr.seconds=ucn;Qr.minutes=dcn;Qr.hours=fcn;Qr.days=hcn;Qr.weeks=gcn;Qr.months=pcn;Qr.years=mcn;Qr.humanize=wcn;Qr.toISOString=z6;Qr.toString=z6;Qr.toJSON=z6;Qr.locale=hGe;Qr.localeData=mGe;Qr.toIsoString=Ef("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",z6);Qr.lang=pGe;En("X",0,0,"unix");En("x",0,0,"valueOf");Jt("x",$6);Jt("X",zon);oo("X",function(n,e,r){r._d=new Date(parseFloat(n)*1e3)});oo("x",function(n,e,r){r._d=new Date(Nr(n))});//! moment.js
zt.version="2.30.1";_on(qo);zt.fn=St;zt.min=uan;zt.max=dan;zt.now=fan;zt.utc=Jp;zt.unix=Bln;zt.months=zln;zt.isDate=yD;zt.locale=Z0;zt.invalid=O6;zt.duration=kh;zt.isMoment=wh;zt.weekdays=Hln;zt.parseZone=Uln;zt.localeData=Jg;zt.isDuration=DL;zt.monthsShort=Vln;zt.weekdaysMin=Gln;zt.defineLocale=une;zt.updateLocale=Usn;zt.locales=zsn;zt.weekdaysShort=Wln;zt.normalizeUnits=Cf;zt.relativeTimeRounding=bcn;zt.relativeTimeThreshold=xcn;zt.calendarFormat=Man;zt.prototype=St;zt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const Uy="YYYY-MM-DD",bne="HH:mm";function MS(n,e){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1)?zt.utc(n).format(e):zt(n).format(e)}function V6(n,e){const r=zt(n,e,!0);return r.isValid()?{isValid:!0,date:r.toDate()}:{isValid:!1,error:'Invalid date. Must be on the format "'.concat(e,'"')}}class _cn{constructor(e){this.max=e,this.current=0,this.resolvers=[],this.ready=()=>this.max===1/0?Promise.resolve():this.current<this.max?(this.current++,Promise.resolve()):new Promise(r=>{this.resolvers.push(r)}),this.release=()=>{if(this.max===1/0)return;const r=this.resolvers.shift();if(r){r();return}this.current=Math.max(0,this.current-1)}}}var Ecn=function(){function n(r,i){if(typeof r!="function")throw new TypeError("DataLoader must be constructed with a function which accepts "+("Array<key> and returns Promise<Array<value>>, but got: "+r+"."));this._batchLoadFn=r,this._maxBatchSize=Tcn(i),this._batchScheduleFn=Acn(i),this._cacheKeyFn=Icn(i),this._cacheMap=Dcn(i),this._batch=null,this.name=Rcn(i)}var e=n.prototype;return e.load=function(i){if(i==null)throw new TypeError("The loader.load() function must be called with a value, "+("but got: "+String(i)+"."));var o=Scn(this),s=this._cacheMap,a=this._cacheKeyFn(i);if(s){var l=s.get(a);if(l){var c=o.cacheHits||(o.cacheHits=[]);return new Promise(function(f){c.push(function(){f(l)})})}}o.keys.push(i);var u=new Promise(function(f,h){o.callbacks.push({resolve:f,reject:h})});return s&&s.set(a,u),u},e.loadMany=function(i){if(!TGe(i))throw new TypeError("The loader.loadMany() function must be called with Array<key> "+("but got: "+i+"."));for(var o=[],s=0;s<i.length;s++)o.push(this.load(i[s]).catch(function(a){return a}));return Promise.all(o)},e.clear=function(i){var o=this._cacheMap;if(o){var s=this._cacheKeyFn(i);o.delete(s)}return this},e.clearAll=function(){var i=this._cacheMap;return i&&i.clear(),this},e.prime=function(i,o){var s=this._cacheMap;if(s){var a=this._cacheKeyFn(i);if(s.get(a)===void 0){var l;o instanceof Error?(l=Promise.reject(o),l.catch(function(){})):l=Promise.resolve(o),s.set(a,l)}}return this},n}(),Ccn=typeof process=="object"&&typeof process.nextTick=="function"?function(n){Tz||(Tz=Promise.resolve()),Tz.then(function(){process.nextTick(n)})}:typeof setImmediate=="function"?function(n){setImmediate(n)}:function(n){setTimeout(n)},Tz;function Scn(n){var e=n._batch;if(e!==null&&!e.hasDispatched&&e.keys.length<n._maxBatchSize)return e;var r={hasDispatched:!1,keys:[],callbacks:[]};return n._batch=r,n._batchScheduleFn(function(){kcn(n,r)}),r}function kcn(n,e){if(e.hasDispatched=!0,e.keys.length===0){iK(e);return}var r;try{r=n._batchLoadFn(e.keys)}catch(i){return Az(n,e,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function "+("errored synchronously: "+String(i)+".")))}if(!r||typeof r.then!="function")return Az(n,e,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise: "+String(r)+".")));r.then(function(i){if(!TGe(i))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did "+("not return a Promise of an Array: "+String(i)+"."));if(i.length!==e.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys."+(`

Keys:
`+String(e.keys))+(`

Values:
`+String(i)));iK(e);for(var o=0;o<e.callbacks.length;o++){var s=i[o];s instanceof Error?e.callbacks[o].reject(s):e.callbacks[o].resolve(s)}}).catch(function(i){Az(n,e,i)})}function Az(n,e,r){iK(e);for(var i=0;i<e.keys.length;i++)n.clear(e.keys[i]),e.callbacks[i].reject(r)}function iK(n){if(n.cacheHits)for(var e=0;e<n.cacheHits.length;e++)n.cacheHits[e]()}function Tcn(n){var e=!n||n.batch!==!1;if(!e)return 1;var r=n&&n.maxBatchSize;if(r===void 0)return 1/0;if(typeof r!="number"||r<1)throw new TypeError("maxBatchSize must be a positive number: "+r);return r}function Acn(n){var e=n&&n.batchScheduleFn;if(e===void 0)return Ccn;if(typeof e!="function")throw new TypeError("batchScheduleFn must be a function: "+e);return e}function Icn(n){var e=n&&n.cacheKeyFn;if(e===void 0)return function(r){return r};if(typeof e!="function")throw new TypeError("cacheKeyFn must be a function: "+e);return e}function Dcn(n){var e=!n||n.cache!==!1;if(!e)return null;var r=n&&n.cacheMap;if(r===void 0)return new Map;if(r!==null){var i=["get","set","delete","clear"],o=i.filter(function(s){return r&&typeof r[s]!="function"});if(o.length!==0)throw new TypeError("Custom cacheMap missing methods: "+o.join(", "))}return r}function Rcn(n){return n&&n.name?n.name:null}function TGe(n){return typeof n=="object"&&n!==null&&typeof n.length=="number"&&(n.length===0||n.length>0&&Object.prototype.hasOwnProperty.call(n,n.length-1))}var Ocn=Ecn;const AGe=Tt(Ocn);function Pcn(n,e){var r=n.length;for(n.sort(e);r--;)n[r]=n[r].value;return n}var jcn=Pcn,Dge=Hx;function Lcn(n,e){if(n!==e){var r=n!==void 0,i=n===null,o=n===n,s=Dge(n),a=e!==void 0,l=e===null,c=e===e,u=Dge(e);if(!l&&!u&&!s&&n>e||s&&a&&c&&!l&&!u||i&&a&&c||!r&&c||!o)return 1;if(!i&&!s&&!u&&n<e||u&&r&&o&&!i&&!s||l&&r&&o||!a&&o||!c)return-1}return 0}var $cn=Lcn,Mcn=$cn;function Fcn(n,e,r){for(var i=-1,o=n.criteria,s=e.criteria,a=o.length,l=r.length;++i<a;){var c=Mcn(o[i],s[i]);if(c){if(i>=l)return c;var u=r[i];return c*(u=="desc"?-1:1)}}return n.index-e.index}var Ncn=Fcn,Iz=Qp,Bcn=pD,Ucn=Fy,zcn=hWe,Vcn=jcn,Hcn=bS,Wcn=Ncn,Gcn=rw,qcn=Gs;function Kcn(n,e,r){e.length?e=Iz(e,function(s){return qcn(s)?function(a){return Bcn(a,s.length===1?s[0]:s)}:s}):e=[Gcn];var i=-1;e=Iz(e,Hcn(Ucn));var o=zcn(n,function(s,a,l){var c=Iz(e,function(u){return u(s)});return{criteria:c,index:++i,value:s}});return Vcn(o,function(s,a){return Wcn(s,a,r)})}var IGe=Kcn,Ycn=pS,Zcn=IGe,Xcn=ow,Rge=_6,Qcn=Xcn(function(n,e){if(n==null)return[];var r=e.length;return r>1&&Rge(n,e[0],e[1])?e=[]:r>2&&Rge(e[0],e[1],e[2])&&(e=[e[0]]),Zcn(n,Ycn(e,1),[])}),Jcn=Qcn;const lw=Tt(Jcn);/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Z3(){return Z3=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Z3.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function X3(){return X3=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},X3.apply(this,arguments)}/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function e_(n,e,r){var i,o=(i=r.initialDeps)!=null?i:[],s;return function(){var a;r.key&&r.debug!=null&&r.debug()&&(a=Date.now());var l=n(),c=l.length!==o.length||l.some(function(v,y){return o[y]!==v});if(!c)return s;o=l;var u;if(r.key&&r.debug!=null&&r.debug()&&(u=Date.now()),s=e.apply(void 0,l),r.key&&r.debug!=null&&r.debug()){var f=Math.round((Date.now()-a)*100)/100,h=Math.round((Date.now()-u)*100)/100,m=h/16,g=function(y,b){for(y=String(y);y.length<b;)y=" "+y;return y};console.info("%c⏱ "+g(h,5)+" /"+g(f,5)+" ms",`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(`+Math.max(0,Math.min(120-120*m,120))+"deg 100% 31%);",r==null?void 0:r.key)}return r==null||r.onChange==null||r.onChange(s),s}}function Dz(n,e){if(n===void 0)throw new Error("Unexpected undefined"+(e?": "+e:""));return n}var eun=function(e,r){return Math.abs(e-r)<1};/**
 * virtual-core
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var tun=function(e){return e},DGe=function(e){for(var r=Math.max(e.startIndex-e.overscan,0),i=Math.min(e.endIndex+e.overscan,e.count-1),o=[],s=r;s<=i;s++)o.push(s);return o},nun=function(e,r){var i=e.scrollElement;if(i){var o=function(l){var c=l.width,u=l.height;r({width:Math.round(c),height:Math.round(u)})};o(i.getBoundingClientRect());var s=new ResizeObserver(function(a){var l=a[0];if(l!=null&&l.borderBoxSize){var c=l.borderBoxSize[0];if(c){o({width:c.inlineSize,height:c.blockSize});return}}o(i.getBoundingClientRect())});return s.observe(i,{box:"border-box"}),function(){s.unobserve(i)}}},run=function(e,r){var i=e.scrollElement;if(i){var o=function(){r(i[e.options.horizontal?"scrollLeft":"scrollTop"])};return o(),i.addEventListener("scroll",o,{passive:!0}),function(){i.removeEventListener("scroll",o)}}},iun=function(e,r,i){if(r!=null&&r.borderBoxSize){var o=r.borderBoxSize[0];if(o){var s=Math.round(o[i.options.horizontal?"inlineSize":"blockSize"]);return s}}return Math.round(e.getBoundingClientRect()[i.options.horizontal?"width":"height"])},RGe=function(e,r,i){var o,s,a=r.adjustments,l=a===void 0?0:a,c=r.behavior,u=e+l;(o=i.scrollElement)==null||o.scrollTo==null||o.scrollTo((s={},s[i.options.horizontal?"left":"top"]=u,s.behavior=c,s))},oun=function(e){var r=this;this.unsubs=[],this.scrollElement=null,this.isScrolling=!1,this.isScrollingTimeoutId=null,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollDirection=null,this.scrollAdjustments=0,this.measureElementCache=new Map,this.observer=function(){var i=null,o=function(){return i||(typeof ResizeObserver<"u"?i=new ResizeObserver(function(a){a.forEach(function(l){r._measureElement(l.target,l)})}):null)};return{disconnect:function(){var a;return(a=o())==null?void 0:a.disconnect()},observe:function(a){var l;return(l=o())==null?void 0:l.observe(a,{box:"border-box"})},unobserve:function(a){var l;return(l=o())==null?void 0:l.unobserve(a)}}}(),this.range={startIndex:0,endIndex:0},this.setOptions=function(i){Object.entries(i).forEach(function(o){var s=o[0],a=o[1];typeof a>"u"&&delete i[s]}),r.options=X3({debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:tun,rangeExtractor:DGe,onChange:function(){},measureElement:iun,initialRect:{width:0,height:0},scrollMargin:0,scrollingDelay:150,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1},i)},this.notify=function(){r.options.onChange==null||r.options.onChange(r)},this.cleanup=function(){r.unsubs.filter(Boolean).forEach(function(i){return i()}),r.unsubs=[],r.scrollElement=null},this._didMount=function(){return r.measureElementCache.forEach(r.observer.observe),function(){r.observer.disconnect(),r.cleanup()}},this._willUpdate=function(){var i=r.options.getScrollElement();r.scrollElement!==i&&(r.cleanup(),r.scrollElement=i,r._scrollToOffset(r.scrollOffset,{adjustments:void 0,behavior:void 0}),r.unsubs.push(r.options.observeElementRect(r,function(o){var s=r.scrollRect;r.scrollRect=o,(r.options.horizontal?o.width!==s.width:o.height!==s.height)&&r.maybeNotify()})),r.unsubs.push(r.options.observeElementOffset(r,function(o){r.scrollAdjustments=0,r.scrollOffset!==o&&(r.isScrollingTimeoutId!==null&&(clearTimeout(r.isScrollingTimeoutId),r.isScrollingTimeoutId=null),r.isScrolling=!0,r.scrollDirection=r.scrollOffset<o?"forward":"backward",r.scrollOffset=o,r.maybeNotify(),r.isScrollingTimeoutId=setTimeout(function(){r.isScrollingTimeoutId=null,r.isScrolling=!1,r.scrollDirection=null,r.maybeNotify()},r.options.scrollingDelay))})))},this.getSize=function(){return r.scrollRect[r.options.horizontal?"width":"height"]},this.memoOptions=e_(function(){return[r.options.count,r.options.paddingStart,r.options.scrollMargin,r.options.getItemKey]},function(i,o,s,a){return r.pendingMeasuredCacheIndexes=[],{count:i,paddingStart:o,scrollMargin:s,getItemKey:a}},{key:!1}),this.getFurthestMeasurement=function(i,o){for(var s=new Map,a=new Map,l=o-1;l>=0;l--){var c=i[l];if(!s.has(c.lane)){var u=a.get(c.lane);if(u==null||c.end>u.end?a.set(c.lane,c):c.end<u.end&&s.set(c.lane,!0),s.size===r.options.lanes)break}}return a.size===r.options.lanes?Array.from(a.values()).sort(function(f,h){return f.end-h.end})[0]:void 0},this.getMeasurements=e_(function(){return[r.memoOptions(),r.itemSizeCache]},function(i,o){var s=i.count,a=i.paddingStart,l=i.scrollMargin,c=i.getItemKey,u=r.pendingMeasuredCacheIndexes.length>0?Math.min.apply(Math,r.pendingMeasuredCacheIndexes):0;r.pendingMeasuredCacheIndexes=[];for(var f=r.measurementsCache.slice(0,u),h=u;h<s;h++){var m=c(h),g=r.options.lanes===1?f[h-1]:r.getFurthestMeasurement(f,h),v=g?g.end:a+l,y=o.get(m),b=typeof y=="number"?y:r.options.estimateSize(h),x=v+b,_=g?g.lane:h%r.options.lanes;f[h]={index:h,start:v,size:b,end:x,key:m,lane:_}}return r.measurementsCache=f,f},{key:!1,debug:function(){return r.options.debug}}),this.calculateRange=e_(function(){return[r.getMeasurements(),r.getSize(),r.scrollOffset]},function(i,o,s){return r.range=sun({measurements:i,outerSize:o,scrollOffset:s})},{key:!1,debug:function(){return r.options.debug}}),this.maybeNotify=e_(function(){var i=r.calculateRange();return[i.startIndex,i.endIndex,r.isScrolling]},function(){r.notify()},{key:!1,debug:function(){return r.options.debug},initialDeps:[this.range.startIndex,this.range.endIndex,this.isScrolling]}),this.getIndexes=e_(function(){return[r.options.rangeExtractor,r.calculateRange(),r.options.overscan,r.options.count]},function(i,o,s,a){return i(X3({},o,{overscan:s,count:a}))},{key:!1,debug:function(){return r.options.debug}}),this.indexFromElement=function(i){var o=r.options.indexAttribute,s=i.getAttribute(o);return s?parseInt(s,10):(console.warn("Missing attribute name '"+o+"={index}' on measured element."),-1)},this._measureElement=function(i,o){var s,a=r.indexFromElement(i),l=r.measurementsCache[a];if(l){var c=r.measureElementCache.get(l.key);if(!i.isConnected){r.observer.unobserve(i),i===c&&r.measureElementCache.delete(l.key);return}c!==i&&(c&&r.observer.unobserve(c),r.observer.observe(i),r.measureElementCache.set(l.key,i));var u=r.options.measureElement(i,o,r),f=(s=r.itemSizeCache.get(l.key))!=null?s:l.size,h=u-f;h!==0&&(l.start<r.scrollOffset&&r._scrollToOffset(r.scrollOffset,{adjustments:r.scrollAdjustments+=h,behavior:void 0}),r.pendingMeasuredCacheIndexes.push(a),r.itemSizeCache=new Map(r.itemSizeCache.set(l.key,u)),r.notify())}},this.measureElement=function(i){i&&r._measureElement(i,void 0)},this.getVirtualItems=e_(function(){return[r.getIndexes(),r.getMeasurements()]},function(i,o){for(var s=[],a=0,l=i.length;a<l;a++){var c=i[a],u=o[c];s.push(u)}return s},{key:!1,debug:function(){return r.options.debug}}),this.getVirtualItemForOffset=function(i){var o=r.getMeasurements();return Dz(o[OGe(0,o.length-1,function(s){return Dz(o[s]).start},i)])},this.getOffsetForAlignment=function(i,o){var s=r.getSize();o==="auto"&&(i<=r.scrollOffset?o="start":i>=r.scrollOffset+s?o="end":o="start"),o==="start"?i=i:o==="end"?i=i-s:o==="center"&&(i=i-s/2);var a=r.options.horizontal?"scrollWidth":"scrollHeight",l=r.scrollElement?"document"in r.scrollElement?r.scrollElement.document.documentElement[a]:r.scrollElement[a]:0,c=l-r.getSize();return Math.max(Math.min(c,i),0)},this.getOffsetForIndex=function(i,o){o===void 0&&(o="auto"),i=Math.max(0,Math.min(i,r.options.count-1));var s=Dz(r.getMeasurements()[i]);if(o==="auto")if(s.end>=r.scrollOffset+r.getSize()-r.options.scrollPaddingEnd)o="end";else if(s.start<=r.scrollOffset+r.options.scrollPaddingStart)o="start";else return[r.scrollOffset,o];var a=o==="end"?s.end+r.options.scrollPaddingEnd:s.start-r.options.scrollPaddingStart;return[r.getOffsetForAlignment(a,o),o]},this.isDynamicMode=function(){return r.measureElementCache.size>0},this.cancelScrollToIndex=function(){r.scrollToIndexTimeoutId!==null&&(clearTimeout(r.scrollToIndexTimeoutId),r.scrollToIndexTimeoutId=null)},this.scrollToOffset=function(i,o){var s=o===void 0?{}:o,a=s.align,l=a===void 0?"start":a,c=s.behavior;r.cancelScrollToIndex(),c==="smooth"&&r.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r._scrollToOffset(r.getOffsetForAlignment(i,l),{adjustments:void 0,behavior:c})},this.scrollToIndex=function(i,o){var s=o===void 0?{}:o,a=s.align,l=a===void 0?"auto":a,c=s.behavior;i=Math.max(0,Math.min(i,r.options.count-1)),r.cancelScrollToIndex(),c==="smooth"&&r.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");var u=r.getOffsetForIndex(i,l),f=u[0],h=u[1];r._scrollToOffset(f,{adjustments:void 0,behavior:c}),c!=="smooth"&&r.isDynamicMode()&&(r.scrollToIndexTimeoutId=setTimeout(function(){r.scrollToIndexTimeoutId=null;var m=r.measureElementCache.has(r.options.getItemKey(i));if(m){var g=r.getOffsetForIndex(i,h),v=g[0];eun(v,r.scrollOffset)||r.scrollToIndex(i,{align:h,behavior:c})}else r.scrollToIndex(i,{align:h,behavior:c})}))},this.scrollBy=function(i,o){var s=o===void 0?{}:o,a=s.behavior;r.cancelScrollToIndex(),a==="smooth"&&r.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r._scrollToOffset(r.scrollOffset+i,{adjustments:void 0,behavior:a})},this.getTotalSize=function(){var i;return(((i=r.getMeasurements()[r.options.count-1])==null?void 0:i.end)||r.options.paddingStart)-r.options.scrollMargin+r.options.paddingEnd},this._scrollToOffset=function(i,o){var s=o.adjustments,a=o.behavior;r.options.scrollToFn(i,{behavior:a,adjustments:s},r)},this.measure=function(){r.itemSizeCache=new Map,r.notify()},this.setOptions(e),this.scrollRect=this.options.initialRect,this.scrollOffset=this.options.initialOffset,this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(function(i){r.itemSizeCache.set(i.key,i.size)}),this.maybeNotify()},OGe=function(e,r,i,o){for(;e<=r;){var s=(e+r)/2|0,a=i(s);if(a<o)e=s+1;else if(a>o)r=s-1;else return s}return e>0?e-1:0};function sun(n){for(var e=n.measurements,r=n.outerSize,i=n.scrollOffset,o=e.length-1,s=function(u){return e[u].start},a=OGe(0,o,s,i),l=a;l<o&&e[l].end<i+r;)l++;return{startIndex:a,endIndex:l}}/**
 * react-virtual
 *
 * Copyright (c) TanStack
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var aun=typeof document<"u"?p.useLayoutEffect:p.useEffect;function lun(n){var e=p.useReducer(function(){return{}},{})[1],r=Z3({},n,{onChange:function(a){e(),n.onChange==null||n.onChange(a)}}),i=p.useState(function(){return new oun(r)}),o=i[0];return o.setOptions(r),p.useEffect(function(){return o._didMount()},[]),aun(function(){return o._willUpdate()}),o}function PGe(n){return lun(Z3({observeElementRect:nun,observeElementOffset:run,scrollToFn:RGe},n))}var jGe=Symbol.for("immer-nothing"),Oge=Symbol.for("immer-draftable"),ad=Symbol.for("immer-state");function Yf(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var qC=Object.getPrototypeOf;function Ix(n){return!!n&&!!n[ad]}function Dx(n){var e;return n?LGe(n)||Array.isArray(n)||!!n[Oge]||!!((e=n.constructor)!=null&&e[Oge])||W6(n)||G6(n):!1}var cun=Object.prototype.constructor.toString();function LGe(n){if(!n||typeof n!="object")return!1;const e=qC(n);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===cun}function Q3(n,e){H6(n)===0?Reflect.ownKeys(n).forEach(r=>{e(r,n[r],n)}):n.forEach((r,i)=>e(i,r,n))}function H6(n){const e=n[ad];return e?e.type_:Array.isArray(n)?1:W6(n)?2:G6(n)?3:0}function oK(n,e){return H6(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function $Ge(n,e,r){const i=H6(n);i===2?n.set(e,r):i===3?n.add(r):n[e]=r}function uun(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function W6(n){return n instanceof Map}function G6(n){return n instanceof Set}function V1(n){return n.copy_||n.base_}function sK(n,e){if(W6(n))return new Map(n);if(G6(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);if(!e&&LGe(n))return qC(n)?{...n}:Object.assign(Object.create(null),n);const r=Object.getOwnPropertyDescriptors(n);delete r[ad];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:n[s]})}return Object.create(qC(n),r)}function xne(n,e=!1){return q6(n)||Ix(n)||!Dx(n)||(H6(n)>1&&(n.set=n.add=n.clear=n.delete=dun),Object.freeze(n),e&&Object.entries(n).forEach(([r,i])=>xne(i,!0))),n}function dun(){Yf(2)}function q6(n){return Object.isFrozen(n)}var fun={};function Rx(n){const e=fun[n];return e||Yf(0,n),e}var I5;function MGe(){return I5}function hun(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Pge(n,e){e&&(Rx("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function aK(n){lK(n),n.drafts_.forEach(pun),n.drafts_=null}function lK(n){n===I5&&(I5=n.parent_)}function jge(n){return I5=hun(I5,n)}function pun(n){const e=n[ad];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Lge(n,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return n!==void 0&&n!==r?(r[ad].modified_&&(aK(e),Yf(4)),Dx(n)&&(n=J3(e,n),e.parent_||eF(e,n)),e.patches_&&Rx("Patches").generateReplacementPatches_(r[ad].base_,n,e.patches_,e.inversePatches_)):n=J3(e,r,[]),aK(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==jGe?n:void 0}function J3(n,e,r){if(q6(e))return e;const i=e[ad];if(!i)return Q3(e,(o,s)=>$ge(n,i,e,o,s,r)),e;if(i.scope_!==n)return e;if(!i.modified_)return eF(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let s=o,a=!1;i.type_===3&&(s=new Set(o),o.clear(),a=!0),Q3(s,(l,c)=>$ge(n,i,o,l,c,r,a)),eF(n,o,!1),r&&n.patches_&&Rx("Patches").generatePatches_(i,r,n.patches_,n.inversePatches_)}return i.copy_}function $ge(n,e,r,i,o,s,a){if(Ix(o)){const l=s&&e&&e.type_!==3&&!oK(e.assigned_,i)?s.concat(i):void 0,c=J3(n,o,l);if($Ge(r,i,c),Ix(c))n.canAutoFreeze_=!1;else return}else a&&r.add(o);if(Dx(o)&&!q6(o)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;J3(n,o),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,i)&&eF(n,o)}}function eF(n,e,r=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&xne(e,r)}function mun(n,e){const r=Array.isArray(n),i={type_:r?1:0,scope_:e?e.scope_:MGe(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=i,s=wne;r&&(o=[i],s=D5);const{revoke:a,proxy:l}=Proxy.revocable(o,s);return i.draft_=l,i.revoke_=a,l}var wne={get(n,e){if(e===ad)return n;const r=V1(n);if(!oK(r,e))return gun(n,r,e);const i=r[e];return n.finalized_||!Dx(i)?i:i===Rz(n.base_,e)?(Oz(n),n.copy_[e]=uK(i,n)):i},has(n,e){return e in V1(n)},ownKeys(n){return Reflect.ownKeys(V1(n))},set(n,e,r){const i=FGe(V1(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,r),!0;if(!n.modified_){const o=Rz(V1(n),e),s=o==null?void 0:o[ad];if(s&&s.base_===r)return n.copy_[e]=r,n.assigned_[e]=!1,!0;if(uun(r,o)&&(r!==void 0||oK(n.base_,e)))return!0;Oz(n),cK(n)}return n.copy_[e]===r&&(r!==void 0||e in n.copy_)||Number.isNaN(r)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=r,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Rz(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,Oz(n),cK(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const r=V1(n),i=Reflect.getOwnPropertyDescriptor(r,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:r[e]}},defineProperty(){Yf(11)},getPrototypeOf(n){return qC(n.base_)},setPrototypeOf(){Yf(12)}},D5={};Q3(wne,(n,e)=>{D5[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});D5.deleteProperty=function(n,e){return D5.set.call(this,n,e,void 0)};D5.set=function(n,e,r){return wne.set.call(this,n[0],e,r,n[0])};function Rz(n,e){const r=n[ad];return(r?V1(r):n)[e]}function gun(n,e,r){var o;const i=FGe(e,r);return i?"value"in i?i.value:(o=i.get)==null?void 0:o.call(n.draft_):void 0}function FGe(n,e){if(!(e in n))return;let r=qC(n);for(;r;){const i=Object.getOwnPropertyDescriptor(r,e);if(i)return i;r=qC(r)}}function cK(n){n.modified_||(n.modified_=!0,n.parent_&&cK(n.parent_))}function Oz(n){n.copy_||(n.copy_=sK(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var vun=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,i)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(c=s,...u){return a.produce(c,f=>r.call(this,f,...u))}}typeof r!="function"&&Yf(6),i!==void 0&&typeof i!="function"&&Yf(7);let o;if(Dx(e)){const s=jge(this),a=uK(e,void 0);let l=!0;try{o=r(a),l=!1}finally{l?aK(s):lK(s)}return Pge(s,i),Lge(o,s)}else if(!e||typeof e!="object"){if(o=r(e),o===void 0&&(o=e),o===jGe&&(o=void 0),this.autoFreeze_&&xne(o,!0),i){const s=[],a=[];Rx("Patches").generateReplacementPatches_(e,o,s,a),i(s,a)}return o}else Yf(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,c=>e(c,...l));let i,o;return[this.produce(e,r,(a,l)=>{i=a,o=l}),i,o]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Dx(n)||Yf(8),Ix(n)&&(n=yun(n));const e=jge(this),r=uK(n,void 0);return r[ad].isManual_=!0,lK(e),r}finishDraft(n,e){const r=n&&n[ad];(!r||!r.isManual_)&&Yf(9);const{scope_:i}=r;return Pge(i,e),Lge(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let r;for(r=e.length-1;r>=0;r--){const o=e[r];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}r>-1&&(e=e.slice(r+1));const i=Rx("Patches").applyPatches_;return Ix(n)?i(n,e):this.produce(n,o=>i(o,e))}};function uK(n,e){const r=W6(n)?Rx("MapSet").proxyMap_(n,e):G6(n)?Rx("MapSet").proxySet_(n,e):mun(n,e);return(e?e.scope_:MGe()).drafts_.push(r),r}function yun(n){return Ix(n)||Yf(10,n),NGe(n)}function NGe(n){if(!Dx(n)||q6(n))return n;const e=n[ad];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=sK(n,e.scope_.immer_.useStrictShallowCopy_)}else r=sK(n,!0);return Q3(r,(i,o)=>{$Ge(r,i,NGe(o))}),e&&(e.finalized_=!1),r}var ld=new vun,_ne=ld.produce;ld.produceWithPatches.bind(ld);ld.setAutoFreeze.bind(ld);ld.setUseStrictShallowCopy.bind(ld);ld.applyPatches.bind(ld);var Mge=ld.createDraft.bind(ld),Fge=ld.finishDraft.bind(ld),bun={transform(n,e){var{current:r,affinity:i}=n;if(r!=null){var o=Ce.transform(r,e,{affinity:i});n.current=o,o==null&&n.unref()}}},xun={transform(n,e){var{current:r,affinity:i}=n;if(r!=null){var o=or.transform(r,e,{affinity:i});n.current=o,o==null&&n.unref()}}},wun={transform(n,e){var{current:r,affinity:i}=n;if(r!=null){var o=Ne.transform(r,e,{affinity:i});n.current=o,o==null&&n.unref()}}},tF=new WeakMap,nF=new WeakMap,OA=new WeakMap,BGe=new WeakMap,Nge=new WeakMap,Bge=new WeakMap,Uge=new WeakMap,Ce={ancestors(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=e,i=Ce.levels(n,e);return r?i=i.slice(1):i=i.slice(0,-1),i},common(n,e){for(var r=[],i=0;i<n.length&&i<e.length;i++){var o=n[i],s=e[i];if(o!==s)break;r.push(o)}return r},compare(n,e){for(var r=Math.min(n.length,e.length),i=0;i<r;i++){if(n[i]<e[i])return-1;if(n[i]>e[i])return 1}return 0},endsAfter(n,e){var r=n.length-1,i=n.slice(0,r),o=e.slice(0,r),s=n[r],a=e[r];return Ce.equals(i,o)&&s>a},endsAt(n,e){var r=n.length,i=n.slice(0,r),o=e.slice(0,r);return Ce.equals(i,o)},endsBefore(n,e){var r=n.length-1,i=n.slice(0,r),o=e.slice(0,r),s=n[r],a=e[r];return Ce.equals(i,o)&&s<a},equals(n,e){return n.length===e.length&&n.every((r,i)=>r===e[i])},hasPrevious(n){return n[n.length-1]>0},isAfter(n,e){return Ce.compare(n,e)===1},isAncestor(n,e){return n.length<e.length&&Ce.compare(n,e)===0},isBefore(n,e){return Ce.compare(n,e)===-1},isChild(n,e){return n.length===e.length+1&&Ce.compare(n,e)===0},isCommon(n,e){return n.length<=e.length&&Ce.compare(n,e)===0},isDescendant(n,e){return n.length>e.length&&Ce.compare(n,e)===0},isParent(n,e){return n.length+1===e.length&&Ce.compare(n,e)===0},isPath(n){return Array.isArray(n)&&(n.length===0||typeof n[0]=="number")},isSibling(n,e){if(n.length!==e.length)return!1;var r=n.slice(0,-1),i=e.slice(0,-1),o=n[n.length-1],s=e[e.length-1];return o!==s&&Ce.equals(r,i)},levels(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=e,i=[],o=0;o<=n.length;o++)i.push(n.slice(0,o));return r&&i.reverse(),i},next(n){if(n.length===0)throw new Error("Cannot get the next path of a root path [".concat(n,"], because it has no next index."));var e=n[n.length-1];return n.slice(0,-1).concat(e+1)},operationCanTransformPath(n){switch(n.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(n){if(n.length===0)throw new Error("Cannot get the parent path of the root path [".concat(n,"]."));return n.slice(0,-1)},previous(n){if(n.length===0)throw new Error("Cannot get the previous path of a root path [".concat(n,"], because it has no previous index."));var e=n[n.length-1];if(e<=0)throw new Error("Cannot get the previous path of a first child path [".concat(n,"] because it would result in a negative index."));return n.slice(0,-1).concat(e-1)},relative(n,e){if(!Ce.isAncestor(e,n)&&!Ce.equals(n,e))throw new Error("Cannot get the relative path of [".concat(n,"] inside ancestor [").concat(e,"], because it is not above or equal to the path."));return n.slice(e.length)},transform(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!n)return null;var i=[...n],{affinity:o="forward"}=r;if(n.length===0)return i;switch(e.type){case"insert_node":{var{path:s}=e;(Ce.equals(s,i)||Ce.endsBefore(s,i)||Ce.isAncestor(s,i))&&(i[s.length-1]+=1);break}case"remove_node":{var{path:a}=e;if(Ce.equals(a,i)||Ce.isAncestor(a,i))return null;Ce.endsBefore(a,i)&&(i[a.length-1]-=1);break}case"merge_node":{var{path:l,position:c}=e;Ce.equals(l,i)||Ce.endsBefore(l,i)?i[l.length-1]-=1:Ce.isAncestor(l,i)&&(i[l.length-1]-=1,i[l.length]+=c);break}case"split_node":{var{path:u,position:f}=e;if(Ce.equals(u,i)){if(o==="forward")i[i.length-1]+=1;else if(o!=="backward")return null}else Ce.endsBefore(u,i)?i[u.length-1]+=1:Ce.isAncestor(u,i)&&n[u.length]>=f&&(i[u.length-1]+=1,i[u.length]-=f);break}case"move_node":{var{path:h,newPath:m}=e;if(Ce.equals(h,m))return i;if(Ce.isAncestor(h,i)||Ce.equals(h,i)){var g=m.slice();return Ce.endsBefore(h,m)&&h.length<m.length&&(g[h.length-1]-=1),g.concat(i.slice(h.length))}else Ce.isSibling(h,m)&&(Ce.isAncestor(m,i)||Ce.equals(m,i))?Ce.endsBefore(h,i)?i[h.length-1]-=1:i[h.length-1]+=1:Ce.endsBefore(m,i)||Ce.equals(m,i)||Ce.isAncestor(m,i)?(Ce.endsBefore(h,i)&&(i[h.length-1]-=1),i[m.length-1]+=1):Ce.endsBefore(h,i)&&(Ce.equals(m,i)&&(i[m.length-1]+=1),i[h.length-1]-=1);break}}return i}};function R5(n){"@babel/helpers - typeof";return R5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R5(n)}function _un(n,e){if(R5(n)!=="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(R5(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Eun(n){var e=_un(n,"string");return R5(e)==="symbol"?e:String(e)}function jc(n,e,r){return e=Eun(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function zge(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function vk(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zge(Object(r),!0).forEach(function(i){jc(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):zge(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var Cun=(n,e,r)=>{switch(r.type){case"insert_node":{var{path:i,node:o}=r,s=vt.parent(n,i),a=i[i.length-1];if(a>s.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(i,"] because the destination is past the end of the node."));if(s.children.splice(a,0,o),e)for(var[l,c]of Ne.points(e))e[c]=or.transform(l,r);break}case"insert_text":{var{path:u,offset:f,text:h}=r;if(h.length===0)break;var m=vt.leaf(n,u),g=m.text.slice(0,f),v=m.text.slice(f);if(m.text=g+h+v,e)for(var[y,b]of Ne.points(e))e[b]=or.transform(y,r);break}case"merge_node":{var{path:x}=r,_=vt.get(n,x),w=Ce.previous(x),C=vt.get(n,w),S=vt.parent(n,x),T=x[x.length-1];if(wt.isText(_)&&wt.isText(C))C.text+=_.text;else if(!wt.isText(_)&&!wt.isText(C))C.children.push(..._.children);else throw new Error('Cannot apply a "merge_node" operation at path ['.concat(x,"] to nodes of different interfaces: ").concat(Ha.stringify(_)," ").concat(Ha.stringify(C)));if(S.children.splice(T,1),e)for(var[A,I]of Ne.points(e))e[I]=or.transform(A,r);break}case"move_node":{var{path:D,newPath:R}=r;if(Ce.isAncestor(D,R))throw new Error("Cannot move a path [".concat(D,"] to new path [").concat(R,"] because the destination is inside itself."));var P=vt.get(n,D),O=vt.parent(n,D),$=D[D.length-1];O.children.splice($,1);var L=Ce.transform(D,r),M=vt.get(n,Ce.parent(L)),N=L[L.length-1];if(M.children.splice(N,0,P),e)for(var[z,B]of Ne.points(e))e[B]=or.transform(z,r);break}case"remove_node":{var{path:H}=r,X=H[H.length-1],G=vt.parent(n,H);if(G.children.splice(X,1),e)for(var[ne,le]of Ne.points(e)){var K=or.transform(ne,r);if(e!=null&&K!=null)e[le]=K;else{var Q=void 0,re=void 0;for(var[se,de]of vt.texts(n))if(Ce.compare(de,H)===-1)Q=[se,de];else{re=[se,de];break}var fe=!1;Q&&re&&(Ce.equals(re[1],H)?fe=!Ce.hasPrevious(re[1]):fe=Ce.common(Q[1],H).length<Ce.common(re[1],H).length),Q&&!fe?(ne.path=Q[1],ne.offset=Q[0].text.length):re?(ne.path=re[1],ne.offset=0):e=null}}break}case"remove_text":{var{path:we,offset:ye,text:ve}=r;if(ve.length===0)break;var _e=vt.leaf(n,we),ge=_e.text.slice(0,ye),pe=_e.text.slice(ye+ve.length);if(_e.text=ge+pe,e)for(var[Pe,Re]of Ne.points(e))e[Re]=or.transform(Pe,r);break}case"set_node":{var{path:Fe,properties:Ye,newProperties:He}=r;if(Fe.length===0)throw new Error("Cannot set properties on the root node!");var lt=vt.get(n,Fe);for(var Xe in He){if(Xe==="children"||Xe==="text")throw new Error('Cannot set the "'.concat(Xe,'" property of nodes!'));var st=He[Xe];st==null?delete lt[Xe]:lt[Xe]=st}for(var kt in Ye)He.hasOwnProperty(kt)||delete lt[kt];break}case"set_selection":{var{newProperties:Ge}=r;if(Ge==null)e=Ge;else{if(e==null){if(!Ne.isRange(Ge))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(Ha.stringify(Ge)," when there is no current selection."));e=vk({},Ge)}for(var gt in Ge){var At=Ge[gt];if(At==null){if(gt==="anchor"||gt==="focus")throw new Error('Cannot remove the "'.concat(gt,'" selection property'));delete e[gt]}else e[gt]=At}}break}case"split_node":{var{path:Dt,position:at,properties:tt}=r;if(Dt.length===0)throw new Error('Cannot apply a "split_node" operation at path ['.concat(Dt,"] because the root node cannot be split."));var it=vt.get(n,Dt),jt=vt.parent(n,Dt),$t=Dt[Dt.length-1],yt;if(wt.isText(it)){var Gt=it.text.slice(0,at),Lt=it.text.slice(at);it.text=Gt,yt=vk(vk({},tt),{},{text:Lt})}else{var Vn=it.children.slice(0,at),Oo=it.children.slice(at);it.children=Vn,yt=vk(vk({},tt),{},{children:Oo})}if(jt.children.splice($t+1,0,yt),e)for(var[Po,wi]of Ne.points(e))e[wi]=or.transform(Po,r);break}}return e},Sun={transform(n,e){n.children=Mge(n.children);var r=n.selection&&Mge(n.selection);try{r=Cun(n,r,e)}finally{n.children=Fge(n.children),r?n.selection=Ix(r)?Fge(r):r:n.selection=null}}},kun={insertNodes(n,e,r){n.insertNodes(e,r)},liftNodes(n,e){n.liftNodes(e)},mergeNodes(n,e){n.mergeNodes(e)},moveNodes(n,e){n.moveNodes(e)},removeNodes(n,e){n.removeNodes(e)},setNodes(n,e,r){n.setNodes(e,r)},splitNodes(n,e){n.splitNodes(e)},unsetNodes(n,e,r){n.unsetNodes(e,r)},unwrapNodes(n,e){n.unwrapNodes(e)},wrapNodes(n,e,r){n.wrapNodes(e,r)}},Tun={collapse(n,e){n.collapse(e)},deselect(n){n.deselect()},move(n,e){n.move(e)},select(n,e){n.select(e)},setPoint(n,e,r){n.setPoint(e,r)},setSelection(n,e){n.setSelection(e)}},UGe=(n,e)=>{for(var r in n){var i=n[r],o=e[r];if(cl(i)&&cl(o)){if(!UGe(i,o))return!1}else if(Array.isArray(i)&&Array.isArray(o)){if(i.length!==o.length)return!1;for(var s=0;s<i.length;s++)if(i[s]!==o[s])return!1}else if(i!==o)return!1}for(var a in e)if(n[a]===void 0&&e[a]!==void 0)return!1;return!0};function Aun(n,e){if(n==null)return{};var r={},i=Object.keys(n),o,s;for(s=0;s<i.length;s++)o=i[s],!(e.indexOf(o)>=0)&&(r[o]=n[o]);return r}function Pg(n,e){if(n==null)return{};var r=Aun(n,e),i,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)i=s[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}var Iun=["anchor","focus"];function Vge(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function Dun(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vge(Object(r),!0).forEach(function(i){jc(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Vge(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var Ne={edges(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{reverse:r=!1}=e,{anchor:i,focus:o}=n;return Ne.isBackward(n)===r?[i,o]:[o,i]},end(n){var[,e]=Ne.edges(n);return e},equals(n,e){return or.equals(n.anchor,e.anchor)&&or.equals(n.focus,e.focus)},includes(n,e){if(Ne.isRange(e)){if(Ne.includes(n,e.anchor)||Ne.includes(n,e.focus))return!0;var[r,i]=Ne.edges(n),[o,s]=Ne.edges(e);return or.isBefore(r,o)&&or.isAfter(i,s)}var[a,l]=Ne.edges(n),c=!1,u=!1;return or.isPoint(e)?(c=or.compare(e,a)>=0,u=or.compare(e,l)<=0):(c=Ce.compare(e,a.path)>=0,u=Ce.compare(e,l.path)<=0),c&&u},intersection(n,e){var r=Pg(n,Iun),[i,o]=Ne.edges(n),[s,a]=Ne.edges(e),l=or.isBefore(i,s)?s:i,c=or.isBefore(o,a)?o:a;return or.isBefore(c,l)?null:Dun({anchor:l,focus:c},r)},isBackward(n){var{anchor:e,focus:r}=n;return or.isAfter(e,r)},isCollapsed(n){var{anchor:e,focus:r}=n;return or.equals(e,r)},isExpanded(n){return!Ne.isCollapsed(n)},isForward(n){return!Ne.isBackward(n)},isRange(n){return cl(n)&&or.isPoint(n.anchor)&&or.isPoint(n.focus)},*points(n){yield[n.anchor,"anchor"],yield[n.focus,"focus"]},start(n){var[e]=Ne.edges(n);return e},transform(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return _ne(n,i=>{if(i===null)return null;var{affinity:o="inward"}=r,s,a;if(o==="inward"){var l=Ne.isCollapsed(i);Ne.isForward(i)?(s="forward",a=l?s:"backward"):(s="backward",a=l?s:"forward")}else o==="outward"?Ne.isForward(i)?(s="backward",a="forward"):(s="forward",a="backward"):(s=o,a=o);var c=or.transform(i.anchor,e,{affinity:s}),u=or.transform(i.focus,e,{affinity:a});if(!c||!u)return null;i.anchor=c,i.focus=u})}},Hge=n=>cl(n)&&vt.isNodeList(n.children)&&!Z.isEditor(n),Pt={isAncestor(n){return cl(n)&&vt.isNodeList(n.children)},isElement:Hge,isElementList(n){return Array.isArray(n)&&n.every(e=>Pt.isElement(e))},isElementProps(n){return n.children!==void 0},isElementType:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"type";return Hge(e)&&e[i]===r},matches(n,e){for(var r in e)if(r!=="children"&&n[r]!==e[r])return!1;return!0}},Run=["children"],Oun=["text"],Wge=new WeakMap,vt={ancestor(n,e){var r=vt.get(n,e);if(wt.isText(r))throw new Error("Cannot get the ancestor node at path [".concat(e,"] because it refers to a text node instead: ").concat(Ha.stringify(r)));return r},ancestors(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var i of Ce.ancestors(e,r)){var o=vt.ancestor(n,i),s=[o,i];yield s}}()},child(n,e){if(wt.isText(n))throw new Error("Cannot get the child of a text node: ".concat(Ha.stringify(n)));var r=n.children[e];if(r==null)throw new Error("Cannot get child at index `".concat(e,"` in node: ").concat(Ha.stringify(n)));return r},children(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var{reverse:i=!1}=r,o=vt.ancestor(n,e),{children:s}=o,a=i?s.length-1:0;i?a>=0:a<s.length;){var l=vt.child(o,a),c=e.concat(a);yield[l,c],a=i?a-1:a+1}}()},common(n,e,r){var i=Ce.common(e,r),o=vt.get(n,i);return[o,i]},descendant(n,e){var r=vt.get(n,e);if(Z.isEditor(r))throw new Error("Cannot get the descendant node at path [".concat(e,"] because it refers to the root editor node instead: ").concat(Ha.stringify(r)));return r},descendants(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,i]of vt.nodes(n,e))i.length!==0&&(yield[r,i])}()},elements(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,i]of vt.nodes(n,e))Pt.isElement(r)&&(yield[r,i])}()},extractProps(n){if(Pt.isAncestor(n)){var e=Pg(n,Run);return e}else{var e=Pg(n,Oun);return e}},first(n,e){for(var r=e.slice(),i=vt.get(n,r);i&&!(wt.isText(i)||i.children.length===0);)i=i.children[0],r.push(0);return[i,r]},fragment(n,e){if(wt.isText(n))throw new Error("Cannot get a fragment starting from a root text node: ".concat(Ha.stringify(n)));var r=_ne({children:n.children},i=>{var[o,s]=Ne.edges(e),a=vt.nodes(i,{reverse:!0,pass:m=>{var[,g]=m;return!Ne.includes(e,g)}});for(var[,l]of a){if(!Ne.includes(e,l)){var c=vt.parent(i,l),u=l[l.length-1];c.children.splice(u,1)}if(Ce.equals(l,s.path)){var f=vt.leaf(i,l);f.text=f.text.slice(0,s.offset)}if(Ce.equals(l,o.path)){var h=vt.leaf(i,l);h.text=h.text.slice(o.offset)}}Z.isEditor(i)&&(i.selection=null)});return r.children},get(n,e){for(var r=n,i=0;i<e.length;i++){var o=e[i];if(wt.isText(r)||!r.children[o])throw new Error("Cannot find a descendant at path [".concat(e,"] in node: ").concat(Ha.stringify(n)));r=r.children[o]}return r},has(n,e){for(var r=n,i=0;i<e.length;i++){var o=e[i];if(wt.isText(r)||!r.children[o])return!1;r=r.children[o]}return!0},isNode(n){return wt.isText(n)||Pt.isElement(n)||Z.isEditor(n)},isNodeList(n){if(!Array.isArray(n))return!1;var e=Wge.get(n);if(e!==void 0)return e;var r=n.every(i=>vt.isNode(i));return Wge.set(n,r),r},last(n,e){for(var r=e.slice(),i=vt.get(n,r);i&&!(wt.isText(i)||i.children.length===0);){var o=i.children.length-1;i=i.children[o],r.push(o)}return[i,r]},leaf(n,e){var r=vt.get(n,e);if(!wt.isText(r))throw new Error("Cannot get the leaf node at path [".concat(e,"] because it refers to a non-leaf node: ").concat(Ha.stringify(r)));return r},levels(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function*(){for(var i of Ce.levels(e,r)){var o=vt.get(n,i);yield[o,i]}}()},matches(n,e){return Pt.isElement(n)&&Pt.isElementProps(e)&&Pt.matches(n,e)||wt.isText(n)&&wt.isTextProps(e)&&wt.matches(n,e)},nodes(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var{pass:r,reverse:i=!1}=e,{from:o=[],to:s}=e,a=new Set,l=[],c=n;!(s&&(i?Ce.isBefore(l,s):Ce.isAfter(l,s)));){if(a.has(c)||(yield[c,l]),!a.has(c)&&!wt.isText(c)&&c.children.length!==0&&(r==null||r([c,l])===!1)){a.add(c);var u=i?c.children.length-1:0;Ce.isAncestor(l,o)&&(u=o[l.length]),l=l.concat(u),c=vt.get(n,l);continue}if(l.length===0)break;if(!i){var f=Ce.next(l);if(vt.has(n,f)){l=f,c=vt.get(n,l);continue}}if(i&&l[l.length-1]!==0){var h=Ce.previous(l);l=h,c=vt.get(n,l);continue}l=Ce.parent(l),c=vt.get(n,l),a.add(c)}}()},parent(n,e){var r=Ce.parent(e),i=vt.get(n,r);if(wt.isText(i))throw new Error("Cannot get the parent of path [".concat(e,"] because it does not exist in the root."));return i},string(n){return wt.isText(n)?n.text:n.children.map(vt.string).join("")},texts(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){for(var[r,i]of vt.nodes(n,e))wt.isText(r)&&(yield[r,i])}()}};function Gge(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function Qo(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gge(Object(r),!0).forEach(function(i){jc(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Gge(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var SE={isNodeOperation(n){return SE.isOperation(n)&&n.type.endsWith("_node")},isOperation(n){if(!cl(n))return!1;switch(n.type){case"insert_node":return Ce.isPath(n.path)&&vt.isNode(n.node);case"insert_text":return typeof n.offset=="number"&&typeof n.text=="string"&&Ce.isPath(n.path);case"merge_node":return typeof n.position=="number"&&Ce.isPath(n.path)&&cl(n.properties);case"move_node":return Ce.isPath(n.path)&&Ce.isPath(n.newPath);case"remove_node":return Ce.isPath(n.path)&&vt.isNode(n.node);case"remove_text":return typeof n.offset=="number"&&typeof n.text=="string"&&Ce.isPath(n.path);case"set_node":return Ce.isPath(n.path)&&cl(n.properties)&&cl(n.newProperties);case"set_selection":return n.properties===null&&Ne.isRange(n.newProperties)||n.newProperties===null&&Ne.isRange(n.properties)||cl(n.properties)&&cl(n.newProperties);case"split_node":return Ce.isPath(n.path)&&typeof n.position=="number"&&cl(n.properties);default:return!1}},isOperationList(n){return Array.isArray(n)&&n.every(e=>SE.isOperation(e))},isSelectionOperation(n){return SE.isOperation(n)&&n.type.endsWith("_selection")},isTextOperation(n){return SE.isOperation(n)&&n.type.endsWith("_text")},inverse(n){switch(n.type){case"insert_node":return Qo(Qo({},n),{},{type:"remove_node"});case"insert_text":return Qo(Qo({},n),{},{type:"remove_text"});case"merge_node":return Qo(Qo({},n),{},{type:"split_node",path:Ce.previous(n.path)});case"move_node":{var{newPath:e,path:r}=n;if(Ce.equals(e,r))return n;if(Ce.isSibling(r,e))return Qo(Qo({},n),{},{path:e,newPath:r});var i=Ce.transform(r,n),o=Ce.transform(Ce.next(r),n);return Qo(Qo({},n),{},{path:i,newPath:o})}case"remove_node":return Qo(Qo({},n),{},{type:"insert_node"});case"remove_text":return Qo(Qo({},n),{},{type:"insert_text"});case"set_node":{var{properties:s,newProperties:a}=n;return Qo(Qo({},n),{},{properties:a,newProperties:s})}case"set_selection":{var{properties:l,newProperties:c}=n;return l==null?Qo(Qo({},n),{},{properties:c,newProperties:null}):c==null?Qo(Qo({},n),{},{properties:null,newProperties:l}):Qo(Qo({},n),{},{properties:c,newProperties:l})}case"split_node":return Qo(Qo({},n),{},{type:"merge_node",path:Ce.next(n.path)})}}},qge=new WeakMap,Pun=n=>{var e=qge.get(n);if(e!==void 0)return e;if(!cl(n))return!1;var r=typeof n.addMark=="function"&&typeof n.apply=="function"&&typeof n.deleteFragment=="function"&&typeof n.insertBreak=="function"&&typeof n.insertSoftBreak=="function"&&typeof n.insertFragment=="function"&&typeof n.insertNode=="function"&&typeof n.insertText=="function"&&typeof n.isElementReadOnly=="function"&&typeof n.isInline=="function"&&typeof n.isSelectable=="function"&&typeof n.isVoid=="function"&&typeof n.normalizeNode=="function"&&typeof n.onChange=="function"&&typeof n.removeMark=="function"&&typeof n.getDirtyPaths=="function"&&(n.marks===null||cl(n.marks))&&(n.selection===null||Ne.isRange(n.selection))&&vt.isNodeList(n.children)&&SE.isOperationList(n.operations);return qge.set(n,r),r},Z={above(n,e){return n.above(e)},addMark(n,e,r){n.addMark(e,r)},after(n,e,r){return n.after(e,r)},before(n,e,r){return n.before(e,r)},deleteBackward(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=e;n.deleteBackward(r)},deleteForward(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{unit:r="character"}=e;n.deleteForward(r)},deleteFragment(n,e){n.deleteFragment(e)},edges(n,e){return n.edges(e)},elementReadOnly(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n.elementReadOnly(e)},end(n,e){return n.end(e)},first(n,e){return n.first(e)},fragment(n,e){return n.fragment(e)},hasBlocks(n,e){return n.hasBlocks(e)},hasInlines(n,e){return n.hasInlines(e)},hasPath(n,e){return n.hasPath(e)},hasTexts(n,e){return n.hasTexts(e)},insertBreak(n){n.insertBreak()},insertFragment(n,e,r){n.insertFragment(e,r)},insertNode(n,e){n.insertNode(e)},insertSoftBreak(n){n.insertSoftBreak()},insertText(n,e){n.insertText(e)},isBlock(n,e){return n.isBlock(e)},isEdge(n,e,r){return n.isEdge(e,r)},isEditor(n){return Pun(n)},isElementReadOnly(n,e){return n.isElementReadOnly(e)},isEmpty(n,e){return n.isEmpty(e)},isEnd(n,e,r){return n.isEnd(e,r)},isInline(n,e){return n.isInline(e)},isNormalizing(n){return n.isNormalizing()},isSelectable(n,e){return n.isSelectable(e)},isStart(n,e,r){return n.isStart(e,r)},isVoid(n,e){return n.isVoid(e)},last(n,e){return n.last(e)},leaf(n,e,r){return n.leaf(e,r)},levels(n,e){return n.levels(e)},marks(n){return n.getMarks()},next(n,e){return n.next(e)},node(n,e,r){return n.node(e,r)},nodes(n,e){return n.nodes(e)},normalize(n,e){n.normalize(e)},parent(n,e,r){return n.parent(e,r)},path(n,e,r){return n.path(e,r)},pathRef(n,e,r){return n.pathRef(e,r)},pathRefs(n){return n.pathRefs()},point(n,e,r){return n.point(e,r)},pointRef(n,e,r){return n.pointRef(e,r)},pointRefs(n){return n.pointRefs()},positions(n,e){return n.positions(e)},previous(n,e){return n.previous(e)},range(n,e,r){return n.range(e,r)},rangeRef(n,e,r){return n.rangeRef(e,r)},rangeRefs(n){return n.rangeRefs()},removeMark(n,e){n.removeMark(e)},setNormalizing(n,e){n.setNormalizing(e)},start(n,e){return n.start(e)},string(n,e,r){return n.string(e,r)},unhangRange(n,e,r){return n.unhangRange(e,r)},void(n,e){return n.void(e)},withoutNormalizing(n,e){n.withoutNormalizing(e)}},jun={isSpan(n){return Array.isArray(n)&&n.length===2&&n.every(Ce.isPath)}};function Kge(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function Yge(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kge(Object(r),!0).forEach(function(i){jc(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Kge(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var or={compare(n,e){var r=Ce.compare(n.path,e.path);return r===0?n.offset<e.offset?-1:n.offset>e.offset?1:0:r},isAfter(n,e){return or.compare(n,e)===1},isBefore(n,e){return or.compare(n,e)===-1},equals(n,e){return n.offset===e.offset&&Ce.equals(n.path,e.path)},isPoint(n){return cl(n)&&typeof n.offset=="number"&&Ce.isPath(n.path)},transform(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return _ne(n,i=>{if(i===null)return null;var{affinity:o="forward"}=r,{path:s,offset:a}=i;switch(e.type){case"insert_node":case"move_node":{i.path=Ce.transform(s,e,r);break}case"insert_text":{Ce.equals(e.path,s)&&(e.offset<a||e.offset===a&&o==="forward")&&(i.offset+=e.text.length);break}case"merge_node":{Ce.equals(e.path,s)&&(i.offset+=e.position),i.path=Ce.transform(s,e,r);break}case"remove_text":{Ce.equals(e.path,s)&&e.offset<=a&&(i.offset-=Math.min(a-e.offset,e.text.length));break}case"remove_node":{if(Ce.equals(e.path,s)||Ce.isAncestor(e.path,s))return null;i.path=Ce.transform(s,e,r);break}case"split_node":{if(Ce.equals(e.path,s)){if(e.position===a&&o==null)return null;(e.position<a||e.position===a&&o==="forward")&&(i.offset-=e.position,i.path=Ce.transform(s,e,Yge(Yge({},r),{},{affinity:"forward"})))}else i.path=Ce.transform(s,e,r);break}}})}},Zge=void 0,Ha={setScrubber(n){Zge=n},stringify(n){return JSON.stringify(n,Zge)}},Lun=["text"],$un=["anchor","focus"];function Xge(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function jm(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xge(Object(r),!0).forEach(function(i){jc(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Xge(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var wt={equals(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{loose:i=!1}=r;function o(s){var a=Pg(s,Lun);return a}return UGe(i?o(n):n,i?o(e):e)},isText(n){return cl(n)&&typeof n.text=="string"},isTextList(n){return Array.isArray(n)&&n.every(e=>wt.isText(e))},isTextProps(n){return n.text!==void 0},matches(n,e){for(var r in e)if(r!=="text"&&(!n.hasOwnProperty(r)||n[r]!==e[r]))return!1;return!0},decorations(n,e){var r=[jm({},n)];for(var i of e){var o=Pg(i,$un),[s,a]=Ne.edges(i),l=[],c=0,u=s.offset,f=a.offset;for(var h of r){var{length:m}=h.text,g=c;if(c+=m,u<=g&&c<=f){Object.assign(h,o),l.push(h);continue}if(u!==f&&(u===c||f===g)||u>c||f<g||f===g&&g!==0){l.push(h);continue}var v=h,y=void 0,b=void 0;if(f<c){var x=f-g;b=jm(jm({},v),{},{text:v.text.slice(x)}),v=jm(jm({},v),{},{text:v.text.slice(0,x)})}if(u>g){var _=u-g;y=jm(jm({},v),{},{text:v.text.slice(0,_)}),v=jm(jm({},v),{},{text:v.text.slice(_)})}Object.assign(v,o),y&&l.push(y),l.push(v),b&&l.push(b)}r=l}return r}},Ene=n=>n.selection?n.selection:n.children.length>0?Z.end(n,[]):[0],FS=(n,e)=>{var[r]=Z.node(n,e);return i=>i===r},Cne=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=!r,o=r?zun(e):e,s=Jn.None,a=Jn.None,l=0,c=null,u=null;for(var f of o){var h=f.codePointAt(0);if(!h)break;var m=edn(f,h);if([s,a]=i?[a,m]:[m,s],kE(s,Jn.ZWJ)&&kE(a,Jn.ExtPict)&&(i?c=Qge(e.substring(0,l)):c=Qge(e.substring(0,e.length-l)),!c)||kE(s,Jn.RI)&&kE(a,Jn.RI)&&(u!==null?u=!u:i?u=!0:u=odn(e.substring(0,e.length-l)),!u)||s!==Jn.None&&a!==Jn.None&&ndn(s,a))break;l+=f.length}return l||1},Mun=/\s/,Fun=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,Nun=/['\u2018\u2019]/,Bun=function(e){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=0,o=!1;e.length>0;){var s=Cne(e,r),[a,l]=Sne(e,s,r);if(Uun(a,l,r))o=!0,i+=s;else if(!o)i+=s;else break;e=l}return i},Sne=(n,e,r)=>{if(r){var i=n.length-e;return[n.slice(i,n.length),n.slice(0,i)]}return[n.slice(0,e),n.slice(e)]},Uun=function n(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Mun.test(e))return!1;if(Nun.test(e)){var o=Cne(r,i),[s,a]=Sne(r,o,i);if(n(s,a,i))return!0}return!Fun.test(e)},zun=function*(e){for(var r=e.length-1,i=0;i<e.length;i++){var o=e.charAt(r-i);if(Hun(o.charCodeAt(0))){var s=e.charAt(r-i-1);if(Vun(s.charCodeAt(0))){yield s+o,i++;continue}}yield o}},Vun=n=>n>=55296&&n<=56319,Hun=n=>n>=56320&&n<=57343,Jn;(function(n){n[n.None=0]="None",n[n.Extend=1]="Extend",n[n.ZWJ=2]="ZWJ",n[n.RI=4]="RI",n[n.Prepend=8]="Prepend",n[n.SpacingMark=16]="SpacingMark",n[n.L=32]="L",n[n.V=64]="V",n[n.T=128]="T",n[n.LV=256]="LV",n[n.LVT=512]="LVT",n[n.ExtPict=1024]="ExtPict",n[n.Any=2048]="Any"})(Jn||(Jn={}));var Wun=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,Gun=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,qun=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,Kun=/^[\u1100-\u115F\uA960-\uA97C]$/,Yun=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,Zun=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,Xun=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,Qun=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,Jun=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,edn=(n,e)=>{var r=Jn.Any;return n.search(Wun)!==-1&&(r|=Jn.Extend),e===8205&&(r|=Jn.ZWJ),e>=127462&&e<=127487&&(r|=Jn.RI),n.search(Gun)!==-1&&(r|=Jn.Prepend),n.search(qun)!==-1&&(r|=Jn.SpacingMark),n.search(Kun)!==-1&&(r|=Jn.L),n.search(Yun)!==-1&&(r|=Jn.V),n.search(Zun)!==-1&&(r|=Jn.T),n.search(Xun)!==-1&&(r|=Jn.LV),n.search(Qun)!==-1&&(r|=Jn.LVT),n.search(Jun)!==-1&&(r|=Jn.ExtPict),r};function kE(n,e){return(n&e)!==0}var tdn=[[Jn.L,Jn.L|Jn.V|Jn.LV|Jn.LVT],[Jn.LV|Jn.V,Jn.V|Jn.T],[Jn.LVT|Jn.T,Jn.T],[Jn.Any,Jn.Extend|Jn.ZWJ],[Jn.Any,Jn.SpacingMark],[Jn.Prepend,Jn.Any],[Jn.ZWJ,Jn.ExtPict],[Jn.RI,Jn.RI]];function ndn(n,e){return tdn.findIndex(r=>kE(n,r[0])&&kE(e,r[1]))===-1}var rdn=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3C\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732\u1733\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u180F\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ACE\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDEFD-\uDEFF\uDF46-\uDF50\uDF82-\uDF85]|\uD804[\uDC01\uDC38-\uDC46\uDC70\uDC73\uDC74\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDCC2\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDE41\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4\uDF00\uDF01\uDF36-\uDF3A\uDF40\uDF42]|\uD80D[\uDC40\uDC47-\uDC55]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD833[\uDF00-\uDF2D\uDF30-\uDF46]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDC8F\uDD30-\uDD36\uDEAE\uDEEC-\uDEEF]|\uD839[\uDCEC-\uDCEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,Qge=n=>n.search(rdn)!==-1,idn=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,odn=n=>{var e=n.match(idn);if(e===null)return!1;var r=e[0].length/2;return r%2===1},sdn={delete(n,e){n.delete(e)},insertFragment(n,e,r){n.insertFragment(e,r)},insertText(n,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Z.withoutNormalizing(n,()=>{var{voids:i=!1}=r,{at:o=Ene(n)}=r;if(Ce.isPath(o)&&(o=Z.range(n,o)),Ne.isRange(o))if(Ne.isCollapsed(o))o=o.anchor;else{var s=Ne.end(o);if(!i&&Z.void(n,{at:s}))return;var a=Ne.start(o),l=Z.pointRef(n,a),c=Z.pointRef(n,s);De.delete(n,{at:o,voids:i});var u=l.unref(),f=c.unref();o=u||f,De.setSelection(n,{anchor:o,focus:o})}if(!(!i&&Z.void(n,{at:o})||Z.elementReadOnly(n,{at:o}))){var{path:h,offset:m}=o;e.length>0&&n.apply({type:"insert_text",path:h,offset:m,text:e})}})}};function Jge(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function oP(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jge(Object(r),!0).forEach(function(i){jc(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Jge(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var De=oP(oP(oP(oP({},Sun),kun),Tun),sdn),adn=(n,e)=>{for(var r of Z.pathRefs(n))bun.transform(r,e);for(var i of Z.pointRefs(n))xun.transform(i,e);for(var o of Z.rangeRefs(n))wun.transform(o,e);var s=tF.get(n)||[],a=nF.get(n)||new Set,l,c,u=v=>{if(v){var y=v.join(",");c.has(y)||(c.add(y),l.push(v))}};if(Ce.operationCanTransformPath(e)){l=[],c=new Set;for(var f of s){var h=Ce.transform(f,e);u(h)}}else l=s,c=a;var m=n.getDirtyPaths(e);for(var g of m)u(g);tF.set(n,l),nF.set(n,c),De.transform(n,e),n.operations.push(e),Z.normalize(n,{operation:e}),e.type==="set_selection"&&(n.marks=null),OA.get(n)||(OA.set(n,!0),Promise.resolve().then(()=>{OA.set(n,!1),n.onChange({operation:e}),n.operations=[]}))},ldn=(n,e)=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":{var{path:r}=e;return Ce.levels(r)}case"insert_node":{var{node:i,path:o}=e,s=Ce.levels(o),a=wt.isText(i)?[]:Array.from(vt.nodes(i),R=>{var[,P]=R;return o.concat(P)});return[...s,...a]}case"merge_node":{var{path:l}=e,c=Ce.ancestors(l),u=Ce.previous(l);return[...c,u]}case"move_node":{var{path:f,newPath:h}=e;if(Ce.equals(f,h))return[];var m=[],g=[];for(var v of Ce.ancestors(f)){var y=Ce.transform(v,e);m.push(y)}for(var b of Ce.ancestors(h)){var x=Ce.transform(b,e);g.push(x)}var _=g[g.length-1],w=h[h.length-1],C=_.concat(w);return[...m,...g,C]}case"remove_node":{var{path:S}=e,T=Ce.ancestors(S);return[...T]}case"split_node":{var{path:A}=e,I=Ce.levels(A),D=Ce.next(A);return[...I,D]}default:return[]}},cdn=n=>{var{selection:e}=n;return e?vt.fragment(n,e):[]},udn=(n,e)=>{var[r,i]=e;if(!wt.isText(r)){if(Pt.isElement(r)&&r.children.length===0){var o={text:""};De.insertNodes(n,o,{at:i.concat(0),voids:!0});return}for(var s=Z.isEditor(r)?!1:Pt.isElement(r)&&(n.isInline(r)||r.children.length===0||wt.isText(r.children[0])||n.isInline(r.children[0])),a=0,l=0;l<r.children.length;l++,a++){var c=vt.get(n,i);if(!wt.isText(c)){var u=c.children[a],f=c.children[a-1],h=l===r.children.length-1,m=wt.isText(u)||Pt.isElement(u)&&n.isInline(u);if(m!==s)De.removeNodes(n,{at:i.concat(a),voids:!0}),a--;else if(Pt.isElement(u)){if(n.isInline(u)){if(f==null||!wt.isText(f)){var g={text:""};De.insertNodes(n,g,{at:i.concat(a),voids:!0}),a++}else if(h){var v={text:""};De.insertNodes(n,v,{at:i.concat(a+1),voids:!0}),a++}}}else f!=null&&wt.isText(f)&&(wt.equals(u,f,{loose:!0})?(De.mergeNodes(n,{at:i.concat(a),voids:!0}),a--):f.text===""?(De.removeNodes(n,{at:i.concat(a-1),voids:!0}),a--):u.text===""&&(De.removeNodes(n,{at:i.concat(a),voids:!0}),a--))}}}},ddn=(n,e)=>{var{iteration:r,initialDirtyPathsLength:i}=e,o=i*42;if(r>o)throw new Error("Could not completely normalize the editor after ".concat(o," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state."));return!0},fdn=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{voids:i=!1,mode:o="lowest",at:s=e.selection,match:a}=r;if(s){var l=Z.path(e,s),c=o==="lowest";for(var[u,f]of Z.levels(e,{at:l,voids:i,match:a,reverse:c}))if(!wt.isText(u)){if(Ne.isRange(s)){if(Ce.isAncestor(f,s.anchor.path)&&Ce.isAncestor(f,s.focus.path))return[u,f]}else if(!Ce.equals(l,f))return[u,f]}}};function eve(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function tve(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eve(Object(r),!0).forEach(function(i){jc(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):eve(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var hdn=(n,e,r)=>{var{selection:i}=n;if(i){var o=(h,m)=>{if(!wt.isText(h))return!1;var[g,v]=Z.parent(n,m);return!n.isVoid(g)||n.markableVoid(g)},s=Ne.isExpanded(i),a=!1;if(!s){var[l,c]=Z.node(n,i);if(l&&o(l,c)){var[u]=Z.parent(n,c);a=u&&n.markableVoid(u)}}if(s||a)De.setNodes(n,{[e]:r},{match:o,split:!0,voids:!0});else{var f=tve(tve({},Z.marks(n)||{}),{},{[e]:r});n.marks=f,OA.get(n)||n.onChange()}}};function nve(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function rve(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nve(Object(r),!0).forEach(function(i){jc(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):nve(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var pdn=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=Z.point(e,r,{edge:"end"}),s=Z.end(e,[]),a={anchor:o,focus:s},{distance:l=1}=i,c=0,u;for(var f of Z.positions(e,rve(rve({},i),{},{at:a}))){if(c>l)break;c!==0&&(u=f),c++}return u};function ive(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function ove(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ive(Object(r),!0).forEach(function(i){jc(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):ive(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var mdn=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=Z.start(e,[]),s=Z.point(e,r,{edge:"start"}),a={anchor:o,focus:s},{distance:l=1}=i,c=0,u;for(var f of Z.positions(e,ove(ove({},i),{},{at:a,reverse:!0}))){if(c>l)break;c!==0&&(u=f),c++}return u},gdn=(n,e)=>{var{selection:r}=n;r&&Ne.isCollapsed(r)&&De.delete(n,{unit:e,reverse:!0})},vdn=(n,e)=>{var{selection:r}=n;r&&Ne.isCollapsed(r)&&De.delete(n,{unit:e})},ydn=function(e){var{direction:r="forward"}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:i}=e;i&&Ne.isExpanded(i)&&De.delete(e,{reverse:r==="backward"})},bdn=(n,e)=>[Z.start(n,e),Z.end(n,e)];function sve(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function ave(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sve(Object(r),!0).forEach(function(i){jc(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):sve(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var xdn=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Z.above(e,ave(ave({},r),{},{match:i=>Pt.isElement(i)&&Z.isElementReadOnly(e,i)}))},wdn=(n,e)=>Z.point(n,e,{edge:"end"}),_dn=(n,e)=>{var r=Z.path(n,e,{edge:"start"});return Z.node(n,r)},Edn=(n,e)=>{var r=Z.range(n,e);return vt.fragment(n,r)};function lve(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function cve(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lve(Object(r),!0).forEach(function(i){jc(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):lve(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var Cdn=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Z.above(e,cve(cve({},r),{},{match:i=>Pt.isElement(i)&&Z.isVoid(e,i)}))},Sdn=(n,e)=>e.children.some(r=>Pt.isElement(r)&&Z.isBlock(n,r)),kdn=(n,e)=>e.children.some(r=>wt.isText(r)||Z.isInline(n,r)),Tdn=(n,e)=>vt.has(n,e),Adn=(n,e)=>e.children.every(r=>wt.isText(r)),Idn=n=>{De.splitNodes(n,{always:!0})},Ddn=(n,e,r)=>{De.insertNodes(n,e,r)},Rdn=n=>{De.splitNodes(n,{always:!0})};function uve(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function Odn(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uve(Object(r),!0).forEach(function(i){jc(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):uve(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var Pdn=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o,marks:s}=e;if(o){if(s){var a=Odn({text:r},s);De.insertNodes(e,a,{at:i.at,voids:i.voids})}else De.insertText(e,r,i);e.marks=null}},jdn=(n,e)=>!n.isInline(e),Ldn=(n,e,r)=>Z.isStart(n,e,r)||Z.isEnd(n,e,r),$dn=(n,e)=>{var{children:r}=e,[i]=r;return r.length===0||r.length===1&&wt.isText(i)&&i.text===""&&!n.isVoid(e)},Mdn=(n,e,r)=>{var i=Z.end(n,r);return or.equals(e,i)},Fdn=n=>{var e=BGe.get(n);return e===void 0?!0:e},Ndn=(n,e,r)=>{if(e.offset!==0)return!1;var i=Z.start(n,r);return or.equals(e,i)},Bdn=(n,e)=>{var r=Z.path(n,e,{edge:"end"});return Z.node(n,r)},Udn=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=Z.path(e,r,i),s=vt.leaf(e,o);return[s,o]};function zdn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=n.selection,reverse:i=!1,voids:o=!1}=e,{match:s}=e;if(s==null&&(s=()=>!0),!!r){var a=[],l=Z.path(n,r);for(var[c,u]of vt.levels(n,l))if(s(c,u)&&(a.push([c,u]),!o&&Pt.isElement(c)&&Z.isVoid(n,c)))break;i&&a.reverse(),yield*a}}()}var Vdn=["text"],Hdn=["text"],Wdn=function(e){var{marks:r,selection:i}=e;if(!i)return null;if(r)return r;if(Ne.isExpanded(i)){var[o]=Z.nodes(e,{match:wt.isText});if(o){var[s]=o,a=Pg(s,Vdn);return a}else return{}}var{anchor:l}=i,{path:c}=l,[u]=Z.leaf(e,c);if(l.offset===0){var f=Z.previous(e,{at:c,match:wt.isText}),h=Z.above(e,{match:x=>Pt.isElement(x)&&Z.isVoid(e,x)&&e.markableVoid(x)});if(!h){var m=Z.above(e,{match:x=>Pt.isElement(x)&&Z.isBlock(e,x)});if(f&&m){var[g,v]=f,[,y]=m;Ce.isAncestor(y,v)&&(u=g)}}}var b=Pg(u,Hdn);return b},Gdn=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:i="lowest",voids:o=!1}=r,{match:s,at:a=e.selection}=r;if(a){var l=Z.after(e,a,{voids:o});if(l){var[,c]=Z.last(e,[]),u=[l.path,c];if(Ce.isPath(a)&&a.length===0)throw new Error("Cannot get the next node from the root node!");if(s==null)if(Ce.isPath(a)){var[f]=Z.parent(e,a);s=m=>f.children.includes(m)}else s=()=>!0;var[h]=Z.nodes(e,{at:u,match:s,mode:i,voids:o});return h}}},qdn=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=Z.path(e,r,i),s=vt.get(e,o);return[s,o]};function Kdn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=n.selection,mode:i="all",universal:o=!1,reverse:s=!1,voids:a=!1,ignoreNonSelectable:l=!1}=e,{match:c}=e;if(c||(c=()=>!0),!!r){var u,f;if(jun.isSpan(r))u=r[0],f=r[1];else{var h=Z.path(n,r,{edge:"start"}),m=Z.path(n,r,{edge:"end"});u=s?m:h,f=s?h:m}var g=vt.nodes(n,{reverse:s,from:u,to:f,pass:C=>{var[S]=C;return Pt.isElement(S)?!!(!a&&(Z.isVoid(n,S)||Z.isElementReadOnly(n,S))||l&&!Z.isSelectable(n,S)):!1}}),v=[],y;for(var[b,x]of g)if(!(l&&Pt.isElement(b)&&!Z.isSelectable(n,b))){var _=y&&Ce.compare(x,y[1])===0;if(!(i==="highest"&&_)){if(!c(b,x)){if(o&&!_&&wt.isText(b))return;continue}if(i==="lowest"&&_){y=[b,x];continue}var w=i==="lowest"?y:[b,x];w&&(o?v.push(w):yield w),y=[b,x]}}i==="lowest"&&y&&(o?v.push(y):yield y),o&&(yield*v)}}()}var Ydn=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{force:i=!1,operation:o}=r,s=f=>tF.get(f)||[],a=f=>nF.get(f)||new Set,l=f=>{var h=s(f).pop(),m=h.join(",");return a(f).delete(m),h};if(Z.isNormalizing(e)){if(i){var c=Array.from(vt.nodes(e),f=>{var[,h]=f;return h}),u=new Set(c.map(f=>f.join(",")));tF.set(e,c),nF.set(e,u)}s(e).length!==0&&Z.withoutNormalizing(e,()=>{for(var f of s(e))if(vt.has(e,f)){var h=Z.node(e,f),[m,g]=h;Pt.isElement(m)&&m.children.length===0&&e.normalizeNode(h,{operation:o})}for(var v=s(e),y=v.length,b=0;v.length!==0;){if(!e.shouldNormalize({dirtyPaths:v,iteration:b,initialDirtyPathsLength:y,operation:o}))return;var x=l(e);if(vt.has(e,x)){var _=Z.node(e,x);e.normalizeNode(_,{operation:o})}b++,v=s(e)}})}},Zdn=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=Z.path(e,r,i),s=Ce.parent(o),a=Z.node(e,s);return a},Xdn=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=i,s={current:r,affinity:o,unref(){var{current:l}=s,c=Z.pathRefs(e);return c.delete(s),s.current=null,l}},a=Z.pathRefs(e);return a.add(s),s},Qdn=n=>{var e=Nge.get(n);return e||(e=new Set,Nge.set(n,e)),e},Jdn=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{depth:o,edge:s}=i;if(Ce.isPath(r)){if(s==="start"){var[,a]=vt.first(e,r);r=a}else if(s==="end"){var[,l]=vt.last(e,r);r=l}}return Ne.isRange(r)&&(s==="start"?r=Ne.start(r):s==="end"?r=Ne.end(r):r=Ce.common(r.anchor.path,r.focus.path)),or.isPoint(r)&&(r=r.path),o!=null&&(r=r.slice(0,o)),r},efn=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=i,s={current:r,affinity:o,unref(){var{current:l}=s,c=Z.pointRefs(e);return c.delete(s),s.current=null,l}},a=Z.pointRefs(e);return a.add(s),s},tfn=n=>{var e=Bge.get(n);return e||(e=new Set,Bge.set(n,e)),e},nfn=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{edge:o="start"}=i;if(Ce.isPath(r)){var s;if(o==="end"){var[,a]=vt.last(e,r);s=a}else{var[,l]=vt.first(e,r);s=l}var c=vt.get(e,s);if(!wt.isText(c))throw new Error("Cannot get the ".concat(o," point in the node at path [").concat(r,"] because it has no ").concat(o," text node."));return{path:s,offset:o==="end"?c.text.length:0}}if(Ne.isRange(r)){var[u,f]=Ne.edges(r);return o==="start"?u:f}return r};function rfn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function*(){var{at:r=n.selection,unit:i="offset",reverse:o=!1,voids:s=!1,ignoreNonSelectable:a=!1}=e;if(!r)return;var l=Z.range(n,r),[c,u]=Ne.edges(l),f=o?u:c,h=!1,m="",g=0,v=0,y=0;for(var[b,x]of Z.nodes(n,{at:r,reverse:o,voids:s,ignoreNonSelectable:a})){if(Pt.isElement(b)){if(!s&&(n.isVoid(b)||n.isElementReadOnly(b))){yield Z.start(n,x);continue}if(n.isInline(b))continue;if(Z.hasInlines(n,b)){var _=Ce.isAncestor(x,u.path)?u:Z.end(n,x),w=Ce.isAncestor(x,c.path)?c:Z.start(n,x);m=Z.string(n,{anchor:w,focus:_},{voids:s}),h=!0}}if(wt.isText(b)){var C=Ce.equals(x,f.path);for(C?(v=o?f.offset:b.text.length-f.offset,y=f.offset):(v=b.text.length,y=o?v:0),(C||h||i==="offset")&&(yield{path:x,offset:y},h=!1);;){if(g===0){if(m==="")break;g=S(m,i,o),m=Sne(m,g,o)[1]}if(y=o?y-g:y+g,v=v-g,v<0){g=-v;break}g=0,yield{path:x,offset:y}}}}function S(T,A,I){return A==="character"?Cne(T,I):A==="word"?Bun(T,I):A==="line"||A==="block"?T.length:1}}()}var ifn=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{mode:i="lowest",voids:o=!1}=r,{match:s,at:a=e.selection}=r;if(a){var l=Z.before(e,a,{voids:o});if(l){var[,c]=Z.first(e,[]),u=[l.path,c];if(Ce.isPath(a)&&a.length===0)throw new Error("Cannot get the previous node from the root node!");if(s==null)if(Ce.isPath(a)){var[f]=Z.parent(e,a);s=m=>f.children.includes(m)}else s=()=>!0;var[h]=Z.nodes(e,{reverse:!0,at:u,match:s,mode:i,voids:o});return h}}},ofn=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{affinity:o="forward"}=i,s={current:r,affinity:o,unref(){var{current:l}=s,c=Z.rangeRefs(e);return c.delete(s),s.current=null,l}},a=Z.rangeRefs(e);return a.add(s),s},sfn=n=>{var e=Uge.get(n);return e||(e=new Set,Uge.set(n,e)),e},afn=(n,e,r)=>{if(Ne.isRange(e)&&!r)return e;var i=Z.start(n,e),o=Z.end(n,r||e);return{anchor:i,focus:o}};function dve(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function lfn(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dve(Object(r),!0).forEach(function(i){jc(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):dve(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var cfn=(n,e)=>{var{selection:r}=n;if(r){var i=(f,h)=>{if(!wt.isText(f))return!1;var[m,g]=Z.parent(n,h);return!n.isVoid(m)||n.markableVoid(m)},o=Ne.isExpanded(r),s=!1;if(!o){var[a,l]=Z.node(n,r);if(a&&i(a,l)){var[c]=Z.parent(n,l);s=c&&n.markableVoid(c)}}if(o||s)De.unsetNodes(n,e,{match:i,split:!0,voids:!0});else{var u=lfn({},Z.marks(n)||{});delete u[e],n.marks=u,OA.get(n)||n.onChange()}}},ufn=(n,e)=>{BGe.set(n,e)},dfn=(n,e)=>Z.point(n,e,{edge:"start"}),ffn=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=i,s=Z.range(e,r),[a,l]=Ne.edges(s),c="";for(var[u,f]of Z.nodes(e,{at:s,match:wt.isText,voids:o})){var h=u.text;Ce.equals(f,l.path)&&(h=h.slice(0,l.offset)),Ce.equals(f,a.path)&&(h=h.slice(a.offset)),c+=h}return c},hfn=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{voids:o=!1}=i,[s,a]=Ne.edges(r);if(s.offset!==0||a.offset!==0||Ne.isCollapsed(r)||Ce.hasPrevious(a.path))return r;var l=Z.above(e,{at:a,match:v=>Pt.isElement(v)&&Z.isBlock(e,v),voids:o}),c=l?l[1]:[],u=Z.start(e,s),f={anchor:u,focus:a},h=!0;for(var[m,g]of Z.nodes(e,{at:f,match:wt.isText,reverse:!0,voids:o})){if(h){h=!1;continue}if(m.text!==""||Ce.isBefore(g,c)){a={path:g,offset:m.text.length};break}}return{anchor:s,focus:a}},pfn=(n,e)=>{var r=Z.isNormalizing(n);Z.setNormalizing(n,!1);try{e()}finally{Z.setNormalizing(n,r)}Z.normalize(n)},mfn=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Z.withoutNormalizing(e,()=>{var i,o,{reverse:s=!1,unit:a="character",distance:l=1,voids:c=!1}=r,{at:u=e.selection,hanging:f=!1}=r;if(u){var h=!1;if(Ne.isRange(u)&&Ne.isCollapsed(u)&&(h=!0,u=u.anchor),or.isPoint(u)){var m=Z.void(e,{at:u,mode:"highest"});if(!c&&m){var[,g]=m;u=g}else{var v={unit:a,distance:l},y=s?Z.before(e,u,v)||Z.start(e,[]):Z.after(e,u,v)||Z.end(e,[]);u={anchor:u,focus:y},f=!0}}if(Ce.isPath(u)){De.removeNodes(e,{at:u,voids:c});return}if(!Ne.isCollapsed(u)){if(!f){var[,b]=Ne.edges(u),x=Z.end(e,[]);or.equals(b,x)||(u=Z.unhangRange(e,u,{voids:c}))}var[_,w]=Ne.edges(u),C=Z.above(e,{match:ge=>Pt.isElement(ge)&&Z.isBlock(e,ge),at:_,voids:c}),S=Z.above(e,{match:ge=>Pt.isElement(ge)&&Z.isBlock(e,ge),at:w,voids:c}),T=C&&S&&!Ce.equals(C[1],S[1]),A=Ce.equals(_.path,w.path),I=c?null:(i=Z.void(e,{at:_,mode:"highest"}))!==null&&i!==void 0?i:Z.elementReadOnly(e,{at:_,mode:"highest"}),D=c?null:(o=Z.void(e,{at:w,mode:"highest"}))!==null&&o!==void 0?o:Z.elementReadOnly(e,{at:w,mode:"highest"});if(I){var R=Z.before(e,_);R&&C&&Ce.isAncestor(C[1],R.path)&&(_=R)}if(D){var P=Z.after(e,w);P&&S&&Ce.isAncestor(S[1],P.path)&&(w=P)}var O=[],$;for(var L of Z.nodes(e,{at:u,voids:c})){var[M,N]=L;$&&Ce.compare(N,$)===0||(!c&&Pt.isElement(M)&&(Z.isVoid(e,M)||Z.isElementReadOnly(e,M))||!Ce.isCommon(N,_.path)&&!Ce.isCommon(N,w.path))&&(O.push(L),$=N)}var z=Array.from(O,ge=>{var[,pe]=ge;return Z.pathRef(e,pe)}),B=Z.pointRef(e,_),H=Z.pointRef(e,w),X="";if(!A&&!I){var G=B.current,[ne]=Z.leaf(e,G),{path:le}=G,{offset:K}=_,Q=ne.text.slice(K);Q.length>0&&(e.apply({type:"remove_text",path:le,offset:K,text:Q}),X=Q)}if(z.reverse().map(ge=>ge.unref()).filter(ge=>ge!==null).forEach(ge=>De.removeNodes(e,{at:ge,voids:c})),!D){var re=H.current,[se]=Z.leaf(e,re),{path:de}=re,fe=A?_.offset:0,we=se.text.slice(fe,w.offset);we.length>0&&(e.apply({type:"remove_text",path:de,offset:fe,text:we}),X=we)}!A&&T&&H.current&&B.current&&De.mergeNodes(e,{at:H.current,hanging:!0,voids:c}),h&&s&&a==="character"&&X.length>1&&X.match(/[\u0E00-\u0E7F]+/)&&De.insertText(e,X.slice(0,X.length-l));var ye=B.unref(),ve=H.unref(),_e=s?ye||ve:ve||ye;r.at==null&&_e&&De.select(e,_e)}}})},gfn=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Z.withoutNormalizing(e,()=>{var{hanging:o=!1,voids:s=!1}=i,{at:a=Ene(e)}=i;if(r.length){if(Ne.isRange(a))if(o||(a=Z.unhangRange(e,a,{voids:s})),Ne.isCollapsed(a))a=a.anchor;else{var[,l]=Ne.edges(a);if(!s&&Z.void(e,{at:l}))return;var c=Z.pointRef(e,l);De.delete(e,{at:a}),a=c.unref()}else Ce.isPath(a)&&(a=Z.start(e,a));if(!(!s&&Z.void(e,{at:a}))){var u=Z.above(e,{at:a,match:K=>Pt.isElement(K)&&Z.isInline(e,K),mode:"highest",voids:s});if(u){var[,f]=u;if(Z.isEnd(e,a,f)){var h=Z.after(e,f);a=h}else if(Z.isStart(e,a,f)){var m=Z.before(e,f);a=m}}var g=Z.above(e,{match:K=>Pt.isElement(K)&&Z.isBlock(e,K),at:a,voids:s}),[,v]=g,y=Z.isStart(e,a,v),b=Z.isEnd(e,a,v),x=y&&b,_=!y||y&&b,w=!b,[,C]=vt.first({children:r},[]),[,S]=vt.last({children:r},[]),T=[],A=K=>{var[Q,re]=K,se=re.length===0;return se?!1:x?!0:!(_&&Ce.isAncestor(re,C)&&Pt.isElement(Q)&&!e.isVoid(Q)&&!e.isInline(Q)||w&&Ce.isAncestor(re,S)&&Pt.isElement(Q)&&!e.isVoid(Q)&&!e.isInline(Q))};for(var I of vt.nodes({children:r},{pass:A}))A(I)&&T.push(I);var D=[],R=[],P=[],O=!0,$=!1;for(var[L]of T)Pt.isElement(L)&&!e.isInline(L)?(O=!1,$=!0,R.push(L)):O?D.push(L):P.push(L);var[M]=Z.nodes(e,{at:a,match:K=>wt.isText(K)||Z.isInline(e,K),mode:"highest",voids:s}),[,N]=M,z=Z.isStart(e,a,N),B=Z.isEnd(e,a,N),H=Z.pathRef(e,b&&!P.length?Ce.next(v):v),X=Z.pathRef(e,B?Ce.next(N):N);De.splitNodes(e,{at:a,match:K=>$?Pt.isElement(K)&&Z.isBlock(e,K):wt.isText(K)||Z.isInline(e,K),mode:$?"lowest":"highest",always:$&&(!y||D.length>0)&&(!b||P.length>0),voids:s});var G=Z.pathRef(e,!z||z&&B?Ce.next(N):N);if(De.insertNodes(e,D,{at:G.current,match:K=>wt.isText(K)||Z.isInline(e,K),mode:"highest",voids:s}),x&&!D.length&&R.length&&!P.length&&De.delete(e,{at:v,voids:s}),De.insertNodes(e,R,{at:H.current,match:K=>Pt.isElement(K)&&Z.isBlock(e,K),mode:"lowest",voids:s}),De.insertNodes(e,P,{at:X.current,match:K=>wt.isText(K)||Z.isInline(e,K),mode:"highest",voids:s}),!i.at){var ne;if(P.length>0&&X.current?ne=Ce.previous(X.current):R.length>0&&H.current?ne=Ce.previous(H.current):G.current&&(ne=Ce.previous(G.current)),ne){var le=Z.end(e,ne);De.select(e,le)}}G.unref(),H.unref(),X.unref()}}})},vfn=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{edge:i="anchor"}=r,{selection:o}=e;if(o){if(i==="anchor")De.select(e,o.anchor);else if(i==="focus")De.select(e,o.focus);else if(i==="start"){var[s]=Ne.edges(o);De.select(e,s)}else if(i==="end"){var[,a]=Ne.edges(o);De.select(e,a)}}else return},yfn=n=>{var{selection:e}=n;e&&n.apply({type:"set_selection",properties:e,newProperties:null})},bfn=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{selection:i}=e,{distance:o=1,unit:s="character",reverse:a=!1}=r,{edge:l=null}=r;if(i){l==="start"&&(l=Ne.isBackward(i)?"focus":"anchor"),l==="end"&&(l=Ne.isBackward(i)?"anchor":"focus");var{anchor:c,focus:u}=i,f={distance:o,unit:s,ignoreNonSelectable:!0},h={};if(l==null||l==="anchor"){var m=a?Z.before(e,c,f):Z.after(e,c,f);m&&(h.anchor=m)}if(l==null||l==="focus"){var g=a?Z.before(e,u,f):Z.after(e,u,f);g&&(h.focus=g)}De.setSelection(e,h)}},xfn=(n,e)=>{var{selection:r}=n;if(e=Z.range(n,e),r){De.setSelection(n,e);return}if(!Ne.isRange(e))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(Ha.stringify(e)));n.apply({type:"set_selection",properties:r,newProperties:e})};function fve(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function hve(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fve(Object(r),!0).forEach(function(i){jc(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):fve(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var wfn=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{selection:o}=e,{edge:s="both"}=i;if(o){s==="start"&&(s=Ne.isBackward(o)?"focus":"anchor"),s==="end"&&(s=Ne.isBackward(o)?"anchor":"focus");var{anchor:a,focus:l}=o,c=s==="anchor"?a:l;De.setSelection(e,{[s==="anchor"?"anchor":"focus"]:hve(hve({},c),r)})}},_fn=(n,e)=>{var{selection:r}=n,i={},o={};if(r){for(var s in e)(s==="anchor"&&e.anchor!=null&&!or.equals(e.anchor,r.anchor)||s==="focus"&&e.focus!=null&&!or.equals(e.focus,r.focus)||s!=="anchor"&&s!=="focus"&&e[s]!==r[s])&&(i[s]=r[s],o[s]=e[s]);Object.keys(i).length>0&&n.apply({type:"set_selection",properties:i,newProperties:o})}},Efn=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Z.withoutNormalizing(e,()=>{var{hanging:o=!1,voids:s=!1,mode:a="lowest"}=i,{at:l,match:c,select:u}=i;if(vt.isNode(r)&&(r=[r]),r.length!==0){var[f]=r;if(l||(l=Ene(e),u=!0),u==null&&(u=!1),Ne.isRange(l))if(o||(l=Z.unhangRange(e,l,{voids:s})),Ne.isCollapsed(l))l=l.anchor;else{var[,h]=Ne.edges(l),m=Z.pointRef(e,h);De.delete(e,{at:l}),l=m.unref()}if(or.isPoint(l)){c==null&&(wt.isText(f)?c=A=>wt.isText(A):e.isInline(f)?c=A=>wt.isText(A)||Z.isInline(e,A):c=A=>Pt.isElement(A)&&Z.isBlock(e,A));var[g]=Z.nodes(e,{at:l.path,match:c,mode:a,voids:s});if(g){var[,v]=g,y=Z.pathRef(e,v),b=Z.isEnd(e,l,v);De.splitNodes(e,{at:l,match:c,mode:a,voids:s});var x=y.unref();l=b?Ce.next(x):x}else return}var _=Ce.parent(l),w=l[l.length-1];if(!(!s&&Z.void(e,{at:_}))){for(var C of r){var S=_.concat(w);w++,e.apply({type:"insert_node",path:S,node:C}),l=Ce.next(l)}if(l=Ce.previous(l),u){var T=Z.end(e,l);T&&De.select(e,T)}}}})},Cfn=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Z.withoutNormalizing(e,()=>{var{at:i=e.selection,mode:o="lowest",voids:s=!1}=r,{match:a}=r;if(a==null&&(a=Ce.isPath(i)?FS(e,i):C=>Pt.isElement(C)&&Z.isBlock(e,C)),!!i){var l=Z.nodes(e,{at:i,match:a,mode:o,voids:s}),c=Array.from(l,C=>{var[,S]=C;return Z.pathRef(e,S)});for(var u of c){var f=u.unref();if(f.length<2)throw new Error("Cannot lift node at a path [".concat(f,"] because it has a depth of less than `2`."));var h=Z.node(e,Ce.parent(f)),[m,g]=h,v=f[f.length-1],{length:y}=m.children;if(y===1){var b=Ce.next(g);De.moveNodes(e,{at:f,to:b,voids:s}),De.removeNodes(e,{at:g,voids:s})}else if(v===0)De.moveNodes(e,{at:f,to:g,voids:s});else if(v===y-1){var x=Ce.next(g);De.moveNodes(e,{at:f,to:x,voids:s})}else{var _=Ce.next(f),w=Ce.next(g);De.splitNodes(e,{at:_,voids:s}),De.moveNodes(e,{at:f,to:w,voids:s})}}}})},Sfn=["text"],kfn=["children"],zGe=(n,e)=>{if(Pt.isElement(e)){var r=e;return Z.isVoid(n,e)?!0:r.children.length===1?zGe(n,r.children[0]):!1}else return!Z.isEditor(e)},Tfn=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Z.withoutNormalizing(e,()=>{var{match:i,at:o=e.selection}=r,{hanging:s=!1,voids:a=!1,mode:l="lowest"}=r;if(o){if(i==null)if(Ce.isPath(o)){var[c]=Z.parent(e,o);i=R=>c.children.includes(R)}else i=R=>Pt.isElement(R)&&Z.isBlock(e,R);if(!s&&Ne.isRange(o)&&(o=Z.unhangRange(e,o,{voids:a})),Ne.isRange(o))if(Ne.isCollapsed(o))o=o.anchor;else{var[,u]=Ne.edges(o),f=Z.pointRef(e,u);De.delete(e,{at:o}),o=f.unref(),r.at==null&&De.select(e,o)}var[h]=Z.nodes(e,{at:o,match:i,voids:a,mode:l}),m=Z.previous(e,{at:o,match:i,voids:a,mode:l});if(!(!h||!m)){var[g,v]=h,[y,b]=m;if(!(v.length===0||b.length===0)){var x=Ce.next(b),_=Ce.common(v,b),w=Ce.isSibling(v,b),C=Array.from(Z.levels(e,{at:v}),R=>{var[P]=R;return P}).slice(_.length).slice(0,-1),S=Z.above(e,{at:v,mode:"highest",match:R=>C.includes(R)&&zGe(e,R)}),T=S&&Z.pathRef(e,S[1]),A,I;if(wt.isText(g)&&wt.isText(y)){var D=Pg(g,Sfn);I=y.text.length,A=D}else if(Pt.isElement(g)&&Pt.isElement(y)){var D=Pg(g,kfn);I=y.children.length,A=D}else throw new Error("Cannot merge the node at path [".concat(v,"] with the previous sibling because it is not the same kind: ").concat(Ha.stringify(g)," ").concat(Ha.stringify(y)));w||De.moveNodes(e,{at:v,to:x,voids:a}),T&&De.removeNodes(e,{at:T.current,voids:a}),Pt.isElement(y)&&Z.isEmpty(e,y)||wt.isText(y)&&y.text===""&&b[b.length-1]!==0?De.removeNodes(e,{at:b,voids:a}):e.apply({type:"merge_node",path:x,position:I,properties:A}),T&&T.unref()}}}})},Afn=(n,e)=>{Z.withoutNormalizing(n,()=>{var{to:r,at:i=n.selection,mode:o="lowest",voids:s=!1}=e,{match:a}=e;if(i){a==null&&(a=Ce.isPath(i)?FS(n,i):g=>Pt.isElement(g)&&Z.isBlock(n,g));var l=Z.pathRef(n,r),c=Z.nodes(n,{at:i,match:a,mode:o,voids:s}),u=Array.from(c,g=>{var[,v]=g;return Z.pathRef(n,v)});for(var f of u){var h=f.unref(),m=l.current;h.length!==0&&n.apply({type:"move_node",path:h,newPath:m}),l.current&&Ce.isSibling(m,h)&&Ce.isAfter(m,h)&&(l.current=Ce.next(l.current))}l.unref()}})},Ifn=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Z.withoutNormalizing(e,()=>{var{hanging:i=!1,voids:o=!1,mode:s="lowest"}=r,{at:a=e.selection,match:l}=r;if(a){l==null&&(l=Ce.isPath(a)?FS(e,a):g=>Pt.isElement(g)&&Z.isBlock(e,g)),!i&&Ne.isRange(a)&&(a=Z.unhangRange(e,a,{voids:o}));var c=Z.nodes(e,{at:a,match:l,mode:s,voids:o}),u=Array.from(c,g=>{var[,v]=g;return Z.pathRef(e,v)});for(var f of u){var h=f.unref();if(h){var[m]=Z.node(e,h);e.apply({type:"remove_node",path:h,node:m})}}}})},Dfn=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Z.withoutNormalizing(e,()=>{var{match:o,at:s=e.selection,compare:a,merge:l}=i,{hanging:c=!1,mode:u="lowest",split:f=!1,voids:h=!1}=i;if(s){if(o==null&&(o=Ce.isPath(s)?FS(e,s):I=>Pt.isElement(I)&&Z.isBlock(e,I)),!c&&Ne.isRange(s)&&(s=Z.unhangRange(e,s,{voids:h})),f&&Ne.isRange(s)){if(Ne.isCollapsed(s)&&Z.leaf(e,s.anchor)[0].text.length>0)return;var m=Z.rangeRef(e,s,{affinity:"inward"}),[g,v]=Ne.edges(s),y=u==="lowest"?"lowest":"highest",b=Z.isEnd(e,v,v.path);De.splitNodes(e,{at:v,match:o,mode:y,voids:h,always:!b});var x=Z.isStart(e,g,g.path);De.splitNodes(e,{at:g,match:o,mode:y,voids:h,always:!x}),s=m.unref(),i.at==null&&De.select(e,s)}a||(a=(I,D)=>I!==D);for(var[_,w]of Z.nodes(e,{at:s,match:o,mode:u,voids:h})){var C={},S={};if(w.length!==0){var T=!1;for(var A in r)A==="children"||A==="text"||a(r[A],_[A])&&(T=!0,_.hasOwnProperty(A)&&(C[A]=_[A]),l?r[A]!=null&&(S[A]=l(_[A],r[A])):r[A]!=null&&(S[A]=r[A]));T&&e.apply({type:"set_node",path:w,properties:C,newProperties:S})}}}})},Rfn=(n,e)=>{if(Ne.isCollapsed(e))return e.anchor;var[,r]=Ne.edges(e),i=Z.pointRef(n,r);return De.delete(n,{at:e}),i.unref()},Ofn=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Z.withoutNormalizing(e,()=>{var{mode:i="lowest",voids:o=!1}=r,{match:s,at:a=e.selection,height:l=0,always:c=!1}=r;if(s==null&&(s=H=>Pt.isElement(H)&&Z.isBlock(e,H)),Ne.isRange(a)&&(a=Rfn(e,a)),Ce.isPath(a)){var u=a,f=Z.point(e,u),[h]=Z.parent(e,u);s=H=>H===h,l=f.path.length-u.length+1,a=f,c=!0}if(a){var m=Z.pointRef(e,a,{affinity:"backward"}),g;try{var[v]=Z.nodes(e,{at:a,match:s,mode:i,voids:o});if(!v)return;var y=Z.void(e,{at:a,mode:"highest"}),b=0;if(!o&&y){var[x,_]=y;if(Pt.isElement(x)&&e.isInline(x)){var w=Z.after(e,_);if(!w){var C={text:""},S=Ce.next(_);De.insertNodes(e,C,{at:S,voids:o}),w=Z.point(e,S)}a=w,c=!0}var T=a.path.length-_.length;l=T+1,c=!0}g=Z.pointRef(e,a);var A=a.path.length-l,[,I]=v,D=a.path.slice(0,A),R=l===0?a.offset:a.path[A]+b;for(var[P,O]of Z.levels(e,{at:D,reverse:!0,voids:o})){var $=!1;if(O.length<I.length||O.length===0||!o&&Pt.isElement(P)&&Z.isVoid(e,P))break;var L=m.current,M=Z.isEnd(e,L,O);if(c||!m||!Z.isEdge(e,L,O)){$=!0;var N=vt.extractProps(P);e.apply({type:"split_node",path:O,position:R,properties:N})}R=O[O.length-1]+($||M?1:0)}if(r.at==null){var z=g.current||Z.end(e,[]);De.select(e,z)}}finally{var B;m.unref(),(B=g)===null||B===void 0||B.unref()}}})},Pfn=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Array.isArray(r)||(r=[r]);var o={};for(var s of r)o[s]=null;De.setNodes(e,o,i)},jfn=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Z.withoutNormalizing(e,()=>{var{mode:i="lowest",split:o=!1,voids:s=!1}=r,{at:a=e.selection,match:l}=r;if(a){l==null&&(l=Ce.isPath(a)?FS(e,a):g=>Pt.isElement(g)&&Z.isBlock(e,g)),Ce.isPath(a)&&(a=Z.range(e,a));var c=Ne.isRange(a)?Z.rangeRef(e,a):null,u=Z.nodes(e,{at:a,match:l,mode:i,voids:s}),f=Array.from(u,g=>{var[,v]=g;return Z.pathRef(e,v)}).reverse(),h=function(){var v=m.unref(),[y]=Z.node(e,v),b=Z.range(e,v);o&&c&&(b=Ne.intersection(c.current,b)),De.liftNodes(e,{at:b,match:x=>Pt.isAncestor(y)&&y.children.includes(x),voids:s})};for(var m of f)h();c&&c.unref()}})};function pve(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function mve(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pve(Object(r),!0).forEach(function(i){jc(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):pve(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var Lfn=function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Z.withoutNormalizing(e,()=>{var{mode:o="lowest",split:s=!1,voids:a=!1}=i,{match:l,at:c=e.selection}=i;if(c){if(l==null&&(Ce.isPath(c)?l=FS(e,c):e.isInline(r)?l=b=>Pt.isElement(b)&&Z.isInline(e,b)||wt.isText(b):l=b=>Pt.isElement(b)&&Z.isBlock(e,b)),s&&Ne.isRange(c)){var[u,f]=Ne.edges(c),h=Z.rangeRef(e,c,{affinity:"inward"});De.splitNodes(e,{at:f,match:l,voids:a}),De.splitNodes(e,{at:u,match:l,voids:a}),c=h.unref(),i.at==null&&De.select(e,c)}var m=Array.from(Z.nodes(e,{at:c,match:e.isInline(r)?b=>Pt.isElement(b)&&Z.isBlock(e,b):b=>Z.isEditor(b),mode:"lowest",voids:a})),g=function(){var x=Ne.isRange(c)?Ne.intersection(c,Z.range(e,y)):c;if(!x)return 0;var _=Array.from(Z.nodes(e,{at:x,match:l,mode:o,voids:a}));if(_.length>0){var[w]=_,C=_[_.length-1],[,S]=w,[,T]=C;if(S.length===0&&T.length===0)return 0;var A=Ce.equals(S,T)?Ce.parent(S):Ce.common(S,T),I=Z.range(e,S,T),D=Z.node(e,A),[R]=D,P=A.length+1,O=Ce.next(T.slice(0,P)),$=mve(mve({},r),{},{children:[]});De.insertNodes(e,$,{at:O,voids:a}),De.moveNodes(e,{at:I,match:L=>Pt.isAncestor(R)&&R.children.includes(L),to:O.concat(0),voids:a})}},v;for(var[,y]of m)v=g()}})},$fn=()=>{var n={children:[],operations:[],selection:null,marks:null,isElementReadOnly:()=>!1,isInline:()=>!1,isSelectable:()=>!0,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return adn(n,...i)},addMark:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return hdn(n,...i)},deleteBackward:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return gdn(n,...i)},deleteForward:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return vdn(n,...i)},deleteFragment:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ydn(n,...i)},getFragment:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return cdn(n,...i)},insertBreak:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Idn(n,...i)},insertSoftBreak:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Rdn(n,...i)},insertFragment:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return gfn(n,...i)},insertNode:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ddn(n,...i)},insertText:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Pdn(n,...i)},normalizeNode:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return udn(n,...i)},removeMark:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return cfn(n,...i)},getDirtyPaths:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ldn(n,...i)},shouldNormalize:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ddn(n,...i)},above:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return fdn(n,...i)},after:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return pdn(n,...i)},before:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return mdn(n,...i)},collapse:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return vfn(n,...i)},delete:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return mfn(n,...i)},deselect:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return yfn(n,...i)},edges:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return bdn(n,...i)},elementReadOnly:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return xdn(n,...i)},end:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return wdn(n,...i)},first:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return _dn(n,...i)},fragment:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Edn(n,...i)},getMarks:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Wdn(n,...i)},hasBlocks:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sdn(n,...i)},hasInlines:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return kdn(n,...i)},hasPath:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Tdn(n,...i)},hasTexts:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Adn(n,...i)},insertNodes:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Efn(n,...i)},isBlock:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return jdn(n,...i)},isEdge:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ldn(n,...i)},isEmpty:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return $dn(n,...i)},isEnd:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Mdn(n,...i)},isNormalizing:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Fdn(n,...i)},isStart:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ndn(n,...i)},last:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Bdn(n,...i)},leaf:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Udn(n,...i)},levels:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return zdn(n,...i)},liftNodes:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Cfn(n,...i)},mergeNodes:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Tfn(n,...i)},move:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return bfn(n,...i)},moveNodes:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Afn(n,...i)},next:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Gdn(n,...i)},node:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return qdn(n,...i)},nodes:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Kdn(n,...i)},normalize:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ydn(n,...i)},parent:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Zdn(n,...i)},path:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Jdn(n,...i)},pathRef:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Xdn(n,...i)},pathRefs:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Qdn(n,...i)},point:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return nfn(n,...i)},pointRef:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return efn(n,...i)},pointRefs:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return tfn(n,...i)},positions:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return rfn(n,...i)},previous:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ifn(n,...i)},range:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return afn(n,...i)},rangeRef:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ofn(n,...i)},rangeRefs:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return sfn(n,...i)},removeNodes:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ifn(n,...i)},select:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return xfn(n,...i)},setNodes:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Dfn(n,...i)},setNormalizing:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ufn(n,...i)},setPoint:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return wfn(n,...i)},setSelection:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return _fn(n,...i)},splitNodes:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Ofn(n,...i)},start:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return dfn(n,...i)},string:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ffn(n,...i)},unhangRange:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return hfn(n,...i)},unsetNodes:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Pfn(n,...i)},unwrapNodes:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return jfn(n,...i)},void:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Cdn(n,...i)},withoutNormalizing:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return pfn(n,...i)},wrapNodes:function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Lfn(n,...i)}};return n},Mfn=Bfn,VGe="֑-߿יִ-﷽ﹰ-ﻼ",HGe="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",Ffn=new RegExp("^[^"+HGe+"]*["+VGe+"]"),Nfn=new RegExp("^[^"+VGe+"]*["+HGe+"]");function Bfn(n){return n=String(n||""),Ffn.test(n)?"rtl":Nfn.test(n)?"ltr":"neutral"}const WGe=Tt(Mfn),gve=n=>typeof n=="object"&&n!=null&&n.nodeType===1,vve=(n,e)=>(!e||n!=="hidden")&&n!=="visible"&&n!=="clip",Pz=(n,e)=>{if(n.clientHeight<n.scrollHeight||n.clientWidth<n.scrollWidth){const r=getComputedStyle(n,null);return vve(r.overflowY,e)||vve(r.overflowX,e)||(i=>{const o=(s=>{if(!s.ownerDocument||!s.ownerDocument.defaultView)return null;try{return s.ownerDocument.defaultView.frameElement}catch{return null}})(i);return!!o&&(o.clientHeight<i.scrollHeight||o.clientWidth<i.scrollWidth)})(n)}return!1},sP=(n,e,r,i,o,s,a,l)=>s<n&&a>e||s>n&&a<e?0:s<=n&&l<=r||a>=e&&l>=r?s-n-i:a>e&&l<r||s<n&&l>r?a-e+o:0,Ufn=n=>{const e=n.parentElement;return e??(n.getRootNode().host||null)},yve=(n,e)=>{var r,i,o,s;if(typeof document>"u")return[];const{scrollMode:a,block:l,inline:c,boundary:u,skipOverflowHiddenElements:f}=e,h=typeof u=="function"?u:N=>N!==u;if(!gve(n))throw new TypeError("Invalid target");const m=document.scrollingElement||document.documentElement,g=[];let v=n;for(;gve(v)&&h(v);){if(v=Ufn(v),v===m){g.push(v);break}v!=null&&v===document.body&&Pz(v)&&!Pz(document.documentElement)||v!=null&&Pz(v,f)&&g.push(v)}const y=(i=(r=window.visualViewport)==null?void 0:r.width)!=null?i:innerWidth,b=(s=(o=window.visualViewport)==null?void 0:o.height)!=null?s:innerHeight,{scrollX:x,scrollY:_}=window,{height:w,width:C,top:S,right:T,bottom:A,left:I}=n.getBoundingClientRect(),{top:D,right:R,bottom:P,left:O}=(N=>{const z=window.getComputedStyle(N);return{top:parseFloat(z.scrollMarginTop)||0,right:parseFloat(z.scrollMarginRight)||0,bottom:parseFloat(z.scrollMarginBottom)||0,left:parseFloat(z.scrollMarginLeft)||0}})(n);let $=l==="start"||l==="nearest"?S-D:l==="end"?A+P:S+w/2-D+P,L=c==="center"?I+C/2-O+R:c==="end"?T+R:I-O;const M=[];for(let N=0;N<g.length;N++){const z=g[N],{height:B,width:H,top:X,right:G,bottom:ne,left:le}=z.getBoundingClientRect();if(a==="if-needed"&&S>=0&&I>=0&&A<=b&&T<=y&&S>=X&&A<=ne&&I>=le&&T<=G)return M;const K=getComputedStyle(z),Q=parseInt(K.borderLeftWidth,10),re=parseInt(K.borderTopWidth,10),se=parseInt(K.borderRightWidth,10),de=parseInt(K.borderBottomWidth,10);let fe=0,we=0;const ye="offsetWidth"in z?z.offsetWidth-z.clientWidth-Q-se:0,ve="offsetHeight"in z?z.offsetHeight-z.clientHeight-re-de:0,_e="offsetWidth"in z?z.offsetWidth===0?0:H/z.offsetWidth:0,ge="offsetHeight"in z?z.offsetHeight===0?0:B/z.offsetHeight:0;if(m===z)fe=l==="start"?$:l==="end"?$-b:l==="nearest"?sP(_,_+b,b,re,de,_+$,_+$+w,w):$-b/2,we=c==="start"?L:c==="center"?L-y/2:c==="end"?L-y:sP(x,x+y,y,Q,se,x+L,x+L+C,C),fe=Math.max(0,fe+_),we=Math.max(0,we+x);else{fe=l==="start"?$-X-re:l==="end"?$-ne+de+ve:l==="nearest"?sP(X,ne,B,re,de+ve,$,$+w,w):$-(X+B/2)+ve/2,we=c==="start"?L-le-Q:c==="center"?L-(le+H/2)+ye/2:c==="end"?L-G+se+ye:sP(le,G,H,Q,se+ye,L,L+C,C);const{scrollLeft:pe,scrollTop:Pe}=z;fe=ge===0?0:Math.max(0,Math.min(Pe+fe/ge,z.scrollHeight-B/ge+ve)),we=_e===0?0:Math.max(0,Math.min(pe+we/_e,z.scrollWidth-H/_e+ye)),$+=Pe-fe,L+=pe-we}M.push({el:z,top:fe,left:we})}return M},zfn=n=>n===!1?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&Object.keys(e).length!==0)(n)?n:{block:"start",inline:"nearest"};function Ox(n,e){if(!n.isConnected||!(o=>{let s=o;for(;s&&s.parentNode;){if(s.parentNode===document)return!0;s=s.parentNode instanceof ShadowRoot?s.parentNode.host:s.parentNode}return!1})(n))return;const r=(o=>{const s=window.getComputedStyle(o);return{top:parseFloat(s.scrollMarginTop)||0,right:parseFloat(s.scrollMarginRight)||0,bottom:parseFloat(s.scrollMarginBottom)||0,left:parseFloat(s.scrollMarginLeft)||0}})(n);if((o=>typeof o=="object"&&typeof o.behavior=="function")(e))return e.behavior(yve(n,e));const i=typeof e=="boolean"||e==null?void 0:e.behavior;for(const{el:o,top:s,left:a}of yve(n,zfn(e))){const l=s-r.top+r.bottom,c=a-r.left+r.right;o.scroll({top:l,left:c,behavior:i})}}var tv={};Object.defineProperty(tv,"__esModule",{value:!0});var Vfn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),jz={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},GGe={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:Vfn?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},kne={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222};for(var aP=1;aP<20;aP++)kne["f"+aP]=111+aP;function K6(n,e,r){e&&!("byKey"in e)&&(r=e,e=null),Array.isArray(n)||(n=[n]);var i=n.map(function(a){return qGe(a,e)}),o=function(l){return i.some(function(c){return KGe(c,l)})},s=r==null?o:o(r);return s}function Hfn(n,e){return K6(n,e)}function Wfn(n,e){return K6(n,{byKey:!0},e)}function qGe(n,e){var r=e&&e.byKey,i={};n=n.replace("++","+add");var o=n.split("+"),s=o.length;for(var a in jz)i[jz[a]]=!1;var l=!0,c=!1,u=void 0;try{for(var f=o[Symbol.iterator](),h;!(l=(h=f.next()).done);l=!0){var m=h.value,g=m.endsWith("?")&&m.length>1;g&&(m=m.slice(0,-1));var v=Tne(m),y=jz[v];if(m.length>1&&!y&&!GGe[m]&&!kne[v])throw new TypeError('Unknown modifier: "'+m+'"');(s===1||!y)&&(r?i.key=v:i.which=YGe(m)),y&&(i[y]=g?null:!0)}}catch(b){c=!0,u=b}finally{try{!l&&f.return&&f.return()}finally{if(c)throw u}}return i}function KGe(n,e){for(var r in n){var i=n[r],o=void 0;if(i!=null&&(r==="key"&&e.key!=null?o=e.key.toLowerCase():r==="which"?o=i===91&&e.which===93?91:e.which:o=e[r],!(o==null&&i===!1)&&o!==i))return!1}return!0}function YGe(n){n=Tne(n);var e=kne[n]||n.toUpperCase().charCodeAt(0);return e}function Tne(n){return n=n.toLowerCase(),n=GGe[n]||n,n}var Fl=tv.default=K6,Lz=tv.isHotkey=K6;tv.isCodeHotkey=Hfn;tv.isKeyHotkey=Wfn;tv.parseHotkey=qGe;tv.compareHotkey=KGe;tv.toKeyCode=YGe;tv.toKeyName=Tne;function Gfn(n,e){if(n==null)return{};var r={},i=Object.keys(n),o,s;for(s=0;s<i.length;s++)o=i[s],!(e.indexOf(o)>=0)&&(r[o]=n[o]);return r}function KC(n,e){if(n==null)return{};var r=Gfn(n,e),i,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)i=s[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}function O5(n){"@babel/helpers - typeof";return O5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O5(n)}function qfn(n,e){if(O5(n)!=="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(O5(i)!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Kfn(n){var e=qfn(n,"string");return O5(e)==="symbol"?e:String(e)}function of(n,e,r){return e=Kfn(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}var Ane=p.createContext(null),tm=()=>{var n=p.useContext(Ane);if(!n)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return n},ZGe=parseInt(_t.version.split(".")[0],10),Yfn=typeof navigator<"u"&&typeof window<"u"&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,bve=typeof navigator<"u"&&/Mac OS X/.test(navigator.userAgent),fu=typeof navigator<"u"&&/Android/.test(navigator.userAgent),TE=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),vT=typeof navigator<"u"&&/AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent),Zfn=typeof navigator<"u"&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),XGe=typeof navigator<"u"&&/Chrome/i.test(navigator.userAgent),Xfn=typeof navigator<"u"&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),Qfn=fu&&typeof navigator<"u"&&/Chrome?\/(?:[0-5]?\d)(?:\.)/i.test(navigator.userAgent),Jfn=typeof navigator<"u"&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),ehn=typeof navigator<"u"&&/.*UCBrowser/.test(navigator.userAgent),thn=typeof navigator<"u"&&/.*Wechat/.test(navigator.userAgent)&&!/.*MacWechat/.test(navigator.userAgent),OL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dv=(!Xfn||!Qfn)&&!Zfn&&typeof globalThis<"u"&&globalThis.InputEvent&&typeof globalThis.InputEvent.prototype.getTargetRanges=="function",Ine=new WeakMap,Dne=new WeakMap,QGe=new WeakMap,PL=new WeakMap,dK=new WeakMap,P5=new WeakMap,Qb=new WeakMap,rF=new WeakMap,Y6=new WeakMap,fK=new WeakMap,T0=new WeakMap,Tb=new WeakMap,PA=new WeakMap,hK=new WeakMap,Rne=new WeakMap,ih=new WeakMap,cg=new WeakMap,iu=new WeakMap,r0=new WeakMap,i0=new WeakMap,JGe=new WeakMap,YC=Symbol("placeholder"),eqe=Symbol("mark-placeholder"),nhn=globalThis.Text,One=n=>n&&n.ownerDocument&&n.ownerDocument.defaultView||null,rhn=n=>yy(n)&&n.nodeType===8,Yd=n=>yy(n)&&n.nodeType===1,yy=n=>{var e=One(n);return!!e&&n instanceof e.Node},pK=n=>{var e=n&&n.anchorNode&&One(n.anchorNode);return!!e&&n instanceof e.Selection},tqe=n=>yy(n)&&n.nodeType===3,ihn=n=>n.clipboardData&&n.clipboardData.getData("text/plain")!==""&&n.clipboardData.types.length===1,ohn=n=>{var[e,r]=n;if(Yd(e)&&e.childNodes.length){var i=r===e.childNodes.length,o=i?r-1:r;for([e,o]=nqe(e,o,i?"backward":"forward"),i=o<r;Yd(e)&&e.childNodes.length;){var s=i?e.childNodes.length-1:0;e=ahn(e,s,i?"backward":"forward")}r=i&&e.textContent!=null?e.textContent.length:0}return[e,r]},shn=n=>{for(var e=n&&n.parentNode;e;){if(e.toString()==="[object ShadowRoot]")return!0;e=e.parentNode}return!1},nqe=(n,e,r)=>{for(var{childNodes:i}=n,o=i[e],s=e,a=!1,l=!1;(rhn(o)||Yd(o)&&o.childNodes.length===0||Yd(o)&&o.getAttribute("contenteditable")==="false")&&!(a&&l);){if(s>=i.length){a=!0,s=e-1,r="backward";continue}if(s<0){l=!0,s=e+1,r="forward";continue}o=i[s],e=s,s+=r==="forward"?1:-1}return[o,e]},ahn=(n,e,r)=>{var[i]=nqe(n,e,r);return i},rqe=n=>{var e="";if(tqe(n)&&n.nodeValue)return n.nodeValue;if(Yd(n)){for(var r of Array.from(n.childNodes))e+=rqe(r);var i=getComputedStyle(n).getPropertyValue("display");(i==="block"||i==="list"||n.tagName==="BR")&&(e+=`
`)}return e},lhn=/data-slate-fragment="(.+?)"/m,chn=n=>{var e=n.getData("text/html"),[,r]=e.match(lhn)||[];return r},Pne=(n,e,r)=>{var{target:i}=e;if(Yd(i)&&i.matches('[contentEditable="false"]'))return!1;var{document:o}=qe.getWindow(n);if(o.contains(i))return qe.hasDOMNode(n,i,{editable:!0});var s=r.find(a=>{var{addedNodes:l,removedNodes:c}=a;for(var u of l)if(u===i||u.contains(i))return!0;for(var f of c)if(f===i||f.contains(i))return!0});return!s||s===e?!1:Pne(n,s,r)},uhn=0;let dhn=class{constructor(){of(this,"id",void 0),this.id="".concat(uhn++)}};var qe={androidPendingDiffs:n=>iu.get(n),androidScheduleFlush:n=>{var e;(e=Rne.get(n))===null||e===void 0||e()},blur:n=>{var e=qe.toDOMNode(n,n),r=qe.findDocumentOrShadowRoot(n);T0.set(n,!1),r.activeElement===e&&e.blur()},deselect:n=>{var{selection:e}=n,r=qe.findDocumentOrShadowRoot(n),i=r.getSelection();i&&i.rangeCount>0&&i.removeAllRanges(),e&&De.deselect(n)},findDocumentOrShadowRoot:n=>{var e=qe.toDOMNode(n,n),r=e.getRootNode();return(r instanceof Document||r instanceof ShadowRoot)&&r.getSelection!=null?r:e.ownerDocument},findEventRange:(n,e)=>{"nativeEvent"in e&&(e=e.nativeEvent);var{clientX:r,clientY:i,target:o}=e;if(r==null||i==null)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var s=qe.toSlateNode(n,e.target),a=qe.findPath(n,s);if(Pt.isElement(s)&&Z.isVoid(n,s)){var l=o.getBoundingClientRect(),c=n.isInline(s)?r-l.left<l.left+l.width-r:i-l.top<l.top+l.height-i,u=Z.point(n,a,{edge:c?"start":"end"}),f=c?Z.before(n,u):Z.after(n,u);if(f){var h=Z.range(n,f);return h}}var m,{document:g}=qe.getWindow(n);if(g.caretRangeFromPoint)m=g.caretRangeFromPoint(r,i);else{var v=g.caretPositionFromPoint(r,i);v&&(m=g.createRange(),m.setStart(v.offsetNode,v.offset),m.setEnd(v.offsetNode,v.offset))}if(!m)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(e));var y=qe.toSlateRange(n,m,{exactMatch:!1,suppressThrow:!1});return y},findKey:(n,e)=>{var r=rF.get(e);return r||(r=new dhn,rF.set(e,r)),r},findPath:(n,e)=>{for(var r=[],i=e;;){var o=Dne.get(i);if(o==null){if(Z.isEditor(i))return r;break}var s=Ine.get(i);if(s==null)break;r.unshift(s),i=o}throw new Error("Unable to find the path for Slate node: ".concat(Ha.stringify(e)))},focus:function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{retries:5};if(!T0.get(e)){if(r.retries<=0)throw new Error("Could not set focus, editor seems stuck with pending operations");if(e.operations.length>0){setTimeout(()=>{qe.focus(e,{retries:r.retries-1})},10);return}var i=qe.toDOMNode(e,e),o=qe.findDocumentOrShadowRoot(e);if(o.activeElement!==i){if(e.selection&&o instanceof Document){var s=o.getSelection(),a=qe.toDOMRange(e,e.selection);s==null||s.removeAllRanges(),s==null||s.addRange(a)}e.selection||(De.select(e,Z.start(e,[])),e.onChange()),i.focus({preventScroll:!0}),T0.set(e,!0)}}},getWindow:n=>{var e=QGe.get(n);if(!e)throw new Error("Unable to find a host window element for this editor");return e},hasDOMNode:function(e,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{editable:o=!1}=i,s=qe.toDOMNode(e,e),a;try{a=Yd(r)?r:r.parentElement}catch(l){if(l instanceof Error&&!l.message.includes('Permission denied to access property "nodeType"'))throw l}return a?a.closest("[data-slate-editor]")===s&&(!o||a.isContentEditable?!0:typeof a.isContentEditable=="boolean"&&a.closest('[contenteditable="false"]')===s||!!a.getAttribute("data-slate-zero-width")):!1},hasEditableTarget:(n,e)=>yy(e)&&qe.hasDOMNode(n,e,{editable:!0}),hasRange:(n,e)=>{var{anchor:r,focus:i}=e;return Z.hasPath(n,r.path)&&Z.hasPath(n,i.path)},hasSelectableTarget:(n,e)=>qe.hasEditableTarget(n,e)||qe.isTargetInsideNonReadonlyVoid(n,e),hasTarget:(n,e)=>yy(e)&&qe.hasDOMNode(n,e),insertData:(n,e)=>{n.insertData(e)},insertFragmentData:(n,e)=>n.insertFragmentData(e),insertTextData:(n,e)=>n.insertTextData(e),isComposing:n=>!!Tb.get(n),isFocused:n=>!!T0.get(n),isReadOnly:n=>!!fK.get(n),isTargetInsideNonReadonlyVoid:(n,e)=>{if(fK.get(n))return!1;var r=qe.hasTarget(n,e)&&qe.toSlateNode(n,e);return Pt.isElement(r)&&Z.isVoid(n,r)},setFragmentData:(n,e,r)=>n.setFragmentData(e,r),toDOMNode:(n,e)=>{var r=Y6.get(n),i=Z.isEditor(e)?PL.get(n):r==null?void 0:r.get(qe.findKey(n,e));if(!i)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(Ha.stringify(e)));return i},toDOMPoint:(n,e)=>{var[r]=Z.node(n,e.path),i=qe.toDOMNode(n,r),o;Z.void(n,{at:e})&&(e={path:e.path,offset:0});for(var s="[data-slate-string], [data-slate-zero-width]",a=Array.from(i.querySelectorAll(s)),l=0,c=0;c<a.length;c++){var u=a[c],f=u.childNodes[0];if(!(f==null||f.textContent==null)){var{length:h}=f.textContent,m=u.getAttribute("data-slate-length"),g=m==null?h:parseInt(m,10),v=l+g,y=a[c+1];if(e.offset===v&&y!==null&&y!==void 0&&y.hasAttribute("data-slate-mark-placeholder")){var b,x=y.childNodes[0];o=[x instanceof nhn?x:y,(b=y.textContent)!==null&&b!==void 0&&b.startsWith("\uFEFF")?1:0];break}if(e.offset<=v){var _=Math.min(h,Math.max(0,e.offset-l));o=[f,_];break}l=v}}if(!o)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(Ha.stringify(e)));return o},toDOMRange:(n,e)=>{var{anchor:r,focus:i}=e,o=Ne.isBackward(e),s=qe.toDOMPoint(n,r),a=Ne.isCollapsed(e)?s:qe.toDOMPoint(n,i),l=qe.getWindow(n),c=l.document.createRange(),[u,f]=o?a:s,[h,m]=o?s:a,g=Yd(u)?u:u.parentElement,v=!!g.getAttribute("data-slate-zero-width"),y=Yd(h)?h:h.parentElement,b=!!y.getAttribute("data-slate-zero-width");return c.setStart(u,v?1:f),c.setEnd(h,b?1:m),c},toSlateNode:(n,e)=>{var r=Yd(e)?e:e.parentElement;r&&!r.hasAttribute("data-slate-node")&&(r=r.closest("[data-slate-node]"));var i=r?P5.get(r):null;if(!i)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(r));return i},toSlatePoint:(n,e,r)=>{var{exactMatch:i,suppressThrow:o}=r,[s,a]=i?e:ohn(e),l=s.parentNode,c=null,u=0;if(l){var f,h,m=qe.toDOMNode(n,n),g=l.closest('[data-slate-void="true"]'),v=g&&m.contains(g)?g:null,y=l.closest("[data-slate-leaf]"),b=null;if(y){if(c=y.closest('[data-slate-node="text"]'),c){var x=qe.getWindow(n),_=x.document.createRange();_.setStart(c,0),_.setEnd(s,a);var w=_.cloneContents(),C=[...Array.prototype.slice.call(w.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(w.querySelectorAll("[contenteditable=false]"))];C.forEach(L=>{if(fu&&!i&&L.hasAttribute("data-slate-zero-width")&&L.textContent.length>0&&L.textContext!=="\uFEFF"){L.textContent.startsWith("\uFEFF")&&(L.textContent=L.textContent.slice(1));return}L.parentNode.removeChild(L)}),u=w.textContent.length,b=c}}else if(v){for(var S=v.querySelectorAll("[data-slate-leaf]"),T=0;T<S.length;T++){var A=S[T];if(qe.hasDOMNode(n,A)){y=A;break}}y?(c=y.closest('[data-slate-node="text"]'),b=y,u=b.textContent.length,b.querySelectorAll("[data-slate-zero-width]").forEach(L=>{u-=L.textContent.length})):u=1}b&&u===b.textContent.length&&fu&&b.getAttribute("data-slate-zero-width")==="z"&&(f=b.textContent)!==null&&f!==void 0&&f.startsWith("\uFEFF")&&(l.hasAttribute("data-slate-zero-width")||TE&&(h=b.textContent)!==null&&h!==void 0&&h.endsWith(`

`))&&u--}if(fu&&!c&&!i){var I=l.hasAttribute("data-slate-node")?l:l.closest("[data-slate-node]");if(I&&qe.hasDOMNode(n,I,{editable:!0})){var D=qe.toSlateNode(n,I),{path:R,offset:P}=Z.start(n,qe.findPath(n,D));return I.querySelector("[data-slate-leaf]")||(P=a),{path:R,offset:P}}}if(!c){if(o)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(e))}var O=qe.toSlateNode(n,c),$=qe.findPath(n,O);return{path:$,offset:u}},toSlateRange:(n,e,r)=>{var i,{exactMatch:o,suppressThrow:s}=r,a=pK(e)?e.anchorNode:e.startContainer,l,c,u,f,h;if(a)if(pK(e)){if(TE&&e.rangeCount>1){u=e.focusNode;var m=e.getRangeAt(0),g=e.getRangeAt(e.rangeCount-1);if(u instanceof HTMLTableRowElement&&m.startContainer instanceof HTMLTableRowElement&&g.startContainer instanceof HTMLTableRowElement){let T=function(A){return A.childElementCount>0?T(A.children[0]):A};var v=m.startContainer,y=g.startContainer,b=T(v.children[m.startOffset]),x=T(y.children[g.startOffset]);f=0,x.childNodes.length>0?l=x.childNodes[0]:l=x,b.childNodes.length>0?u=b.childNodes[0]:u=b,x instanceof HTMLElement?c=x.innerHTML.length:c=0}else m.startContainer===u?(l=g.endContainer,c=g.endOffset,f=m.startOffset):(l=m.startContainer,c=m.endOffset,f=g.startOffset)}else l=e.anchorNode,c=e.anchorOffset,u=e.focusNode,f=e.focusOffset;XGe&&shn(l)||TE?h=e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset:h=e.isCollapsed}else l=e.startContainer,c=e.startOffset,u=e.endContainer,f=e.endOffset,h=e.collapsed;if(l==null||u==null||c==null||f==null)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(e));if(TE&&(i=u.textContent)!==null&&i!==void 0&&i.endsWith(`

`)&&f===u.textContent.length&&f--,"getAttribute"in u&&u.getAttribute("contenteditable")==="false"&&u.getAttribute("data-slate-void")!=="true"){var _;u=l,f=((_=l.textContent)===null||_===void 0?void 0:_.length)||0}var w=qe.toSlatePoint(n,[l,c],{exactMatch:o,suppressThrow:s});if(!w)return null;var C=h?w:qe.toSlatePoint(n,[u,f],{exactMatch:o,suppressThrow:s});if(!C)return null;var S={anchor:w,focus:C};return Ne.isExpanded(S)&&Ne.isForward(S)&&Yd(u)&&Z.void(n,{at:S.focus,mode:"highest"})&&(S=Z.unhangRange(n,S,{voids:!0})),S}};function fhn(n,e){var{path:r,diff:i}=e;if(!Z.hasPath(n,r))return!1;var o=vt.get(n,r);if(!wt.isText(o))return!1;if(i.start!==o.text.length||i.text.length===0)return o.text.slice(i.start,i.start+i.text.length)===i.text;var s=Ce.next(r);if(!Z.hasPath(n,s))return!1;var a=vt.get(n,s);return wt.isText(a)&&a.text.startsWith(i.text)}function iqe(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];return r.reduce((o,s)=>o.slice(0,s.start)+s.text+o.slice(s.end),n)}function hhn(n,e){for(var r=Math.min(n.length,e.length),i=0;i<r;i++)if(n.charAt(i)!==e.charAt(i))return i;return r}function phn(n,e,r){for(var i=Math.min(n.length,e.length,r),o=0;o<i;o++)if(n.charAt(n.length-o-1)!==e.charAt(e.length-o-1))return o;return i}function oqe(n,e){var{start:r,end:i,text:o}=e,s=n.slice(r,i),a=hhn(s,o),l=Math.min(s.length-a,o.length-a),c=phn(s,o,l),u={start:r+a,end:i-c,text:o.slice(a,o.length-c)};return u.start===u.end&&u.text.length===0?null:u}function mhn(n,e,r){var i=Math.min(e.start,r.start),o=Math.max(0,Math.min(e.start+e.text.length,r.end)-r.start),s=iqe(n,e,r),a=Math.max(r.start+r.text.length,e.start+e.text.length+(e.start+e.text.length>r.start?r.text.length:0)-o),l=s.slice(i,a),c=Math.max(e.end,r.end-e.text.length+(e.end-e.start));return oqe(n,{start:i,end:c,text:l})}function ghn(n){var{path:e,diff:r}=n;return{anchor:{path:e,offset:r.start},focus:{path:e,offset:r.end}}}function mK(n,e){var{path:r,offset:i}=e;if(!Z.hasPath(n,r))return null;var o=vt.get(n,r);if(!wt.isText(o))return null;var s=Z.above(n,{match:l=>Pt.isElement(l)&&Z.isBlock(n,l),at:r});if(!s)return null;for(;i>o.text.length;){var a=Z.next(n,{at:r,match:wt.isText});if(!a||!Ce.isDescendant(a[1],s[1]))return null;i-=o.text.length,o=a[0],r=a[1]}return{path:r,offset:i}}function xve(n,e){var r=mK(n,e.anchor);if(!r)return null;if(Ne.isCollapsed(e))return{anchor:r,focus:r};var i=mK(n,e.focus);return i?{anchor:r,focus:i}:null}function gK(n,e,r){var i=iu.get(n),o=i==null?void 0:i.find(f=>{var{path:h}=f;return Ce.equals(h,e.path)});if(!o||e.offset<=o.diff.start)return or.transform(e,r,{affinity:"backward"});var{diff:s}=o;if(e.offset<=s.start+s.text.length){var a={path:e.path,offset:s.start},l=or.transform(a,r,{affinity:"backward"});return l?{path:l.path,offset:l.offset+e.offset-s.start}:null}var c={path:e.path,offset:e.offset-s.text.length+s.end-s.start},u=or.transform(c,r,{affinity:"backward"});return u?r.type==="split_node"&&Ce.equals(r.path,e.path)&&c.offset<r.position&&s.start<r.position?u:{path:u.path,offset:u.offset+s.text.length-s.end+s.start}:null}function wve(n,e,r){var i=gK(n,e.anchor,r);if(!i)return null;if(Ne.isCollapsed(e))return{anchor:i,focus:i};var o=gK(n,e.focus,r);return o?{anchor:i,focus:o}:null}function vhn(n,e){var{path:r,diff:i,id:o}=n;switch(e.type){case"insert_text":return!Ce.equals(e.path,r)||e.offset>=i.end?n:e.offset<=i.start?{diff:{start:e.text.length+i.start,end:e.text.length+i.end,text:i.text},id:o,path:r}:{diff:{start:i.start,end:i.end+e.text.length,text:i.text},id:o,path:r};case"remove_text":return!Ce.equals(e.path,r)||e.offset>=i.end?n:e.offset+e.text.length<=i.start?{diff:{start:i.start-e.text.length,end:i.end-e.text.length,text:i.text},id:o,path:r}:{diff:{start:i.start,end:i.end-e.text.length,text:i.text},id:o,path:r};case"split_node":return!Ce.equals(e.path,r)||e.position>=i.end?{diff:i,id:o,path:Ce.transform(r,e,{affinity:"backward"})}:e.position>i.start?{diff:{start:i.start,end:Math.min(e.position,i.end),text:i.text},id:o,path:r}:{diff:{start:i.start-e.position,end:i.end-e.position,text:i.text},id:o,path:Ce.transform(r,e,{affinity:"forward"})};case"merge_node":return Ce.equals(e.path,r)?{diff:{start:i.start+e.position,end:i.end+e.position,text:i.text},id:o,path:Ce.transform(r,e)}:{diff:i,id:o,path:Ce.transform(r,e)}}var s=Ce.transform(r,e);return s?{diff:i,path:s,id:o}:null}function _ve(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function lP(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_ve(Object(r),!0).forEach(function(i){of(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):_ve(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var yhn=25,bhn=200,xhn=function(){},whn=n=>(n==null?void 0:n.constructor.name)==="DataTransfer";function _hn(n){var{editor:e,scheduleOnDOMSelectionChange:r,onDOMSelectionChange:i}=n,o=!1,s=null,a=null,l=null,c=0,u=!1,f=()=>{var O=i0.get(e);if(i0.delete(e),O){var{selection:$}=e,L=xve(e,O);L&&(!$||!Ne.equals(L,$))&&De.select(e,L)}},h=()=>{var O=r0.get(e);if(r0.delete(e),!!O){if(O.at){var $=or.isPoint(O.at)?mK(e,O.at):xve(e,O.at);if(!$)return;var L=Z.range(e,$);(!e.selection||!Ne.equals(e.selection,L))&&De.select(e,$)}O.run()}},m=()=>{if(a&&(clearTimeout(a),a=null),l&&(clearTimeout(l),l=null),!C()&&!w()){f();return}o||(o=!0,setTimeout(()=>o=!1)),w()&&(o="action");var O=e.selection&&Z.rangeRef(e,e.selection,{affinity:"forward"});cg.set(e,e.marks),xhn("flush",r0.get(e),iu.get(e));for(var $=C(),L;L=(M=iu.get(e))===null||M===void 0?void 0:M[0];){var M,N,z=ih.get(e);z!==void 0&&(ih.delete(e),e.marks=z),z&&u===!1&&(u=null);var B=ghn(L);(!e.selection||!Ne.equals(e.selection,B))&&De.select(e,B),L.diff.text?Z.insertText(e,L.diff.text):Z.deleteFragment(e),iu.set(e,(N=iu.get(e))===null||N===void 0?void 0:N.filter(G=>{var{id:ne}=G;return ne!==L.id})),fhn(e,L)||($=!1,r0.delete(e),cg.delete(e),o="action",i0.delete(e),r.cancel(),i.cancel(),O==null||O.unref())}var H=O==null?void 0:O.unref();if(H&&!i0.get(e)&&(!e.selection||!Ne.equals(H,e.selection))&&De.select(e,H),w()){h();return}$&&r(),r.flush(),i.flush(),f();var X=cg.get(e);cg.delete(e),X!==void 0&&(e.marks=X,e.onChange())},g=O=>{s&&clearTimeout(s),s=setTimeout(()=>{Tb.set(e,!1),m()},yhn)},v=O=>{Tb.set(e,!0),s&&(clearTimeout(s),s=null)},y=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,L=dK.get(e);if(L){if(C()||$){L.style.display="none";return}L.style.removeProperty("display")}},b=(O,$)=>{var L,M=(L=iu.get(e))!==null&&L!==void 0?L:[];iu.set(e,M);var N=vt.leaf(e,O),z=M.findIndex(X=>Ce.equals(X.path,O));if(z<0){var B=oqe(N.text,$);B&&M.push({path:O,diff:$,id:c++}),y();return}var H=mhn(N.text,M[z].diff,$);if(!H){M.splice(z,1),y();return}M[z]=lP(lP({},M[z]),{},{diff:H})},x=function($){var{at:L}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};u=!1,i0.delete(e),r.cancel(),i.cancel(),w()&&m(),r0.set(e,{at:L,run:$}),l=setTimeout(m)},_=O=>{var $;a&&(clearTimeout(a),a=null);var{inputType:L}=O,M=null,N=O.dataTransfer||O.data||void 0;u!==!1&&L!=="insertText"&&L!=="insertCompositionText"&&(u=!1);var[z]=O.getTargetRanges();z&&(M=qe.toSlateRange(e,z,{exactMatch:!1,suppressThrow:!0}));var B=qe.getWindow(e),H=B.getSelection();if(!M&&H&&(z=H,M=qe.toSlateRange(e,H,{exactMatch:!1,suppressThrow:!0})),M=($=M)!==null&&$!==void 0?$:e.selection,!!M){var X=!0;if(L.startsWith("delete")){if(Ne.isExpanded(M)){var[G,ne]=Ne.edges(M),le=vt.leaf(e,G.path);if(le.text.length===G.offset&&ne.offset===0){var K=Z.next(e,{at:G.path,match:wt.isText});K&&Ce.equals(K[1],ne.path)&&(M={anchor:ne,focus:ne})}}var Q=L.endsWith("Backward")?"backward":"forward",[re,se]=Ne.edges(M),[de,fe]=Z.leaf(e,re.path),we={text:"",start:re.offset,end:se.offset},ye=iu.get(e),ve=ye==null?void 0:ye.find(Dt=>Ce.equals(Dt.path,fe)),_e=ve?[ve.diff,we]:[we],ge=iqe(de.text,..._e);if(ge.length===0&&(X=!1),Ne.isExpanded(M)){if(X&&Ce.equals(M.anchor.path,M.focus.path)){var pe={path:M.anchor.path,offset:re.offset},Pe=Z.range(e,pe,pe);return A(Pe),b(M.anchor.path,{text:"",end:se.offset,start:re.offset})}return x(()=>Z.deleteFragment(e,{direction:Q}),{at:M})}}switch(L){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return x(()=>Z.deleteFragment(e),{at:M});case"deleteContent":case"deleteContentForward":{var{anchor:Re}=M;if(X&&Ne.isCollapsed(M)){var Fe=vt.leaf(e,Re.path);if(Re.offset<Fe.text.length)return b(Re.path,{text:"",start:Re.offset,end:Re.offset+1})}return x(()=>Z.deleteForward(e),{at:M})}case"deleteContentBackward":{var Ye,{anchor:He}=M,lt=pK(z)?z.isCollapsed:!!((Ye=z)!==null&&Ye!==void 0&&Ye.collapsed);return X&&lt&&Ne.isCollapsed(M)&&He.offset>0?b(He.path,{text:"",start:He.offset-1,end:He.offset}):x(()=>Z.deleteBackward(e),{at:M})}case"deleteEntireSoftLine":return x(()=>{Z.deleteBackward(e,{unit:"line"}),Z.deleteForward(e,{unit:"line"})},{at:M});case"deleteHardLineBackward":return x(()=>Z.deleteBackward(e,{unit:"block"}),{at:M});case"deleteSoftLineBackward":return x(()=>Z.deleteBackward(e,{unit:"line"}),{at:M});case"deleteHardLineForward":return x(()=>Z.deleteForward(e,{unit:"block"}),{at:M});case"deleteSoftLineForward":return x(()=>Z.deleteForward(e,{unit:"line"}),{at:M});case"deleteWordBackward":return x(()=>Z.deleteBackward(e,{unit:"word"}),{at:M});case"deleteWordForward":return x(()=>Z.deleteForward(e,{unit:"word"}),{at:M});case"insertLineBreak":return x(()=>Z.insertSoftBreak(e),{at:M});case"insertParagraph":return x(()=>Z.insertBreak(e),{at:M});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{if(whn(N))return x(()=>qe.insertData(e,N),{at:M});var Xe=N??"";if(ih.get(e)&&(Xe=Xe.replace("\uFEFF","")),L==="insertText"&&/.*\n.*\n$/.test(Xe)&&(Xe=Xe.slice(0,-1)),Xe.includes(`
`))return x(()=>{var Dt=Xe.split(`
`);Dt.forEach((at,tt)=>{at&&Z.insertText(e,at),tt!==Dt.length-1&&Z.insertSoftBreak(e)})},{at:M});if(Ce.equals(M.anchor.path,M.focus.path)){var[st,kt]=Ne.edges(M),Ge={start:st.offset,end:kt.offset,text:Xe};if(Xe&&u&&L==="insertCompositionText"){var gt=u.start+u.text.search(/\S|$/),At=Ge.start+Ge.text.search(/\S|$/);At===gt+1&&Ge.end===u.start+u.text.length?(Ge.start-=1,u=null,R()):u=!1}else L==="insertText"?u===null?u=Ge:u&&Ne.isCollapsed(M)&&u.end+u.text.length===st.offset?u=lP(lP({},u),{},{text:u.text+Xe}):u=!1:u=!1;if(X){b(st.path,Ge);return}}return x(()=>Z.insertText(e,Xe),{at:M})}}}},w=()=>!!r0.get(e),C=()=>{var O;return!!((O=iu.get(e))!==null&&O!==void 0&&O.length)},S=()=>w()||C(),T=()=>o,A=O=>{i0.set(e,O),a&&(clearTimeout(a),a=null);var{selection:$}=e;if(O){var L=!$||!Ce.equals($.anchor.path,O.anchor.path),M=!$||!Ce.equals($.anchor.path.slice(0,-1),O.anchor.path.slice(0,-1));(L&&u||M)&&(u=!1),(L||C())&&(a=setTimeout(m,bhn))}},I=()=>{(w()||!C())&&m()},D=O=>{C()||(y(!0),setTimeout(y))},R=()=>{w()||(l=setTimeout(m))},P=O=>{if(!(C()||w())&&O.some(L=>Pne(e,L,O))){var $;($=JGe.get(e))===null||$===void 0||$()}};return{flush:m,scheduleFlush:R,hasPendingDiffs:C,hasPendingAction:w,hasPendingChanges:S,isFlushing:T,handleUserSelect:A,handleCompositionEnd:g,handleCompositionStart:v,handleDOMBeforeInput:_,handleKeyDown:D,handleDomMutations:P,handleInput:I}}function Ehn(){var n=p.useRef(!1);return p.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),n.current}var j5=OL?p.useLayoutEffect:p.useEffect;function Chn(n,e,r){var[i]=p.useState(()=>new MutationObserver(e));j5(()=>{i.takeRecords()}),p.useEffect(()=>{if(!n.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return i.observe(n.current,r),()=>i.disconnect()},[i,n,r])}var Shn=["node"];function Eve(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function khn(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Eve(Object(r),!0).forEach(function(i){of(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Eve(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var Thn={subtree:!0,childList:!0,characterData:!0},Ahn=fu?n=>{var{node:e}=n,r=KC(n,Shn);if(!fu)return null;var i=tm(),o=Ehn(),[s]=p.useState(()=>_hn(khn({editor:i},r)));return Chn(e,s.handleDomMutations,Thn),Rne.set(i,s.scheduleFlush),o&&s.flush(),s}:()=>null,Ihn=["anchor","focus"],Dhn=["anchor","focus"],Rhn=(n,e)=>Object.keys(n).length===Object.keys(e).length&&Object.keys(n).every(r=>e.hasOwnProperty(r)&&n[r]===e[r]),sqe=(n,e)=>{var r=KC(n,Ihn),i=KC(e,Dhn);return n[YC]===e[YC]&&Rhn(r,i)},Ohn=(n,e)=>{if(n.length!==e.length)return!1;for(var r=0;r<n.length;r++){var i=n[r],o=e[r];if(!Ne.equals(i,o)||!sqe(i,o))return!1}return!0},Phn=(n,e)=>{if(n.length!==e.length)return!1;for(var r=0;r<n.length;r++){var i=n[r],o=e[r];if(i.anchor.offset!==o.anchor.offset||i.focus.offset!==o.focus.offset||!sqe(i,o))return!1}return!0};function Cve(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function jhn(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Cve(Object(r),!0).forEach(function(i){of(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Cve(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var Lhn=n=>{var{isLast:e,leaf:r,parent:i,text:o}=n,s=tm(),a=qe.findPath(s,o),l=Ce.parent(a),c=!!r[eqe];return s.isVoid(i)?_t.createElement($z,{length:vt.string(i).length}):r.text===""&&i.children[i.children.length-1]===o&&!s.isInline(i)&&Z.string(s,l)===""?_t.createElement($z,{isLineBreak:!0,isMarkPlaceholder:c}):r.text===""?_t.createElement($z,{isMarkPlaceholder:c}):e&&r.text.slice(-1)===`
`?_t.createElement(Sve,{isTrailing:!0,text:r.text}):_t.createElement(Sve,{text:r.text})},Sve=n=>{var{text:e,isTrailing:r=!1}=n,i=p.useRef(null),o=()=>"".concat(e??"").concat(r?`
`:""),[s]=p.useState(o);return j5(()=>{var a=o();i.current&&i.current.textContent!==a&&(i.current.textContent=a)}),_t.createElement($hn,{ref:i},s)},$hn=p.memo(p.forwardRef((n,e)=>_t.createElement("span",{"data-slate-string":!0,ref:e},n.children))),$z=n=>{var{length:e=0,isLineBreak:r=!1,isMarkPlaceholder:i=!1}=n,o={"data-slate-zero-width":r?"n":"z","data-slate-length":e};return i&&(o["data-slate-mark-placeholder"]=!0),_t.createElement("span",jhn({},o),!fu||!r?"\uFEFF":null,r?_t.createElement("br",null):null)};function kve(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function aqe(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kve(Object(r),!0).forEach(function(i){of(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):kve(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function Mhn(n,e){n.current&&(n.current.disconnect(),e&&(n.current=null))}function Tve(n){n.current&&(clearTimeout(n.current),n.current=null)}var Fhn=n=>{var{leaf:e,isLast:r,text:i,parent:o,renderPlaceholder:s,renderLeaf:a=_=>_t.createElement(Bhn,aqe({},_))}=n,l=tm(),c=p.useRef(null),u=p.useRef(null),[f,h]=p.useState(!1),m=p.useRef(null),g=p.useCallback(_=>{if(Mhn(c,_==null),_==null){var w;dK.delete(l),(w=e.onPlaceholderResize)===null||w===void 0||w.call(e,null)}else{if(dK.set(l,_),!c.current){var C=window.ResizeObserver||e6e;c.current=new C(()=>{var S;(S=e.onPlaceholderResize)===null||S===void 0||S.call(e,_)})}c.current.observe(_),u.current=_}},[u,e,l]),v=_t.createElement(Lhn,{isLast:r,leaf:e,parent:o,text:i}),y=!!e[YC];if(p.useEffect(()=>(y?m.current||(m.current=setTimeout(()=>{h(!0),m.current=null},300)):(Tve(m),h(!1)),()=>Tve(m)),[y,h]),y&&f){var b={children:e.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",top:0,pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none",WebkitUserModify:vT?"inherit":void 0},contentEditable:!1,ref:g}};v=_t.createElement(_t.Fragment,null,s(b),v)}var x={"data-slate-leaf":!0};return a({attributes:x,children:v,leaf:e,text:i})},Nhn=_t.memo(Fhn,(n,e)=>e.parent===n.parent&&e.isLast===n.isLast&&e.renderLeaf===n.renderLeaf&&e.renderPlaceholder===n.renderPlaceholder&&e.text===n.text&&wt.equals(e.leaf,n.leaf)&&e.leaf[YC]===n.leaf[YC]),Bhn=n=>{var{attributes:e,children:r}=n;return _t.createElement("span",aqe({},e),r)},Uhn=n=>{for(var{decorations:e,isLast:r,parent:i,renderPlaceholder:o,renderLeaf:s,text:a}=n,l=tm(),c=p.useRef(null),u=wt.decorations(a,e),f=qe.findKey(l,a),h=[],m=0;m<u.length;m++){var g=u[m];h.push(_t.createElement(Nhn,{isLast:r&&m===u.length-1,key:"".concat(f.id,"-").concat(m),renderPlaceholder:o,leaf:g,text:a,parent:i,renderLeaf:s}))}var v=p.useCallback(y=>{var b=Y6.get(l);y?(b==null||b.set(f,y),Qb.set(a,y),P5.set(y,a)):(b==null||b.delete(f),Qb.delete(a),c.current&&P5.delete(c.current)),c.current=y},[c,l,f,a]);return _t.createElement("span",{"data-slate-node":"text",ref:v},h)},lqe=_t.memo(Uhn,(n,e)=>e.parent===n.parent&&e.isLast===n.isLast&&e.renderLeaf===n.renderLeaf&&e.renderPlaceholder===n.renderPlaceholder&&e.text===n.text&&Phn(e.decorations,n.decorations));function Ave(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function vK(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ave(Object(r),!0).forEach(function(i){of(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Ave(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var zhn=n=>{var{decorations:e,element:r,renderElement:i=_=>_t.createElement(Hhn,vK({},_)),renderPlaceholder:o,renderLeaf:s,selection:a}=n,l=tm(),c=Ghn(),u=l.isInline(r),f=qe.findKey(l,r),h=p.useCallback(_=>{var w=Y6.get(l);_?(w==null||w.set(f,_),Qb.set(r,_),P5.set(_,r)):(w==null||w.delete(f),Qb.delete(r))},[l,f,r]),m=fqe({decorations:e,node:r,renderElement:i,renderPlaceholder:o,renderLeaf:s,selection:a}),g={"data-slate-node":"element",ref:h};if(u&&(g["data-slate-inline"]=!0),!u&&Z.hasInlines(l,r)){var v=vt.string(r),y=WGe(v);y==="rtl"&&(g.dir=y)}if(Z.isVoid(l,r)){g["data-slate-void"]=!0,!c&&u&&(g.contentEditable=!1);var b=u?"span":"div",[[x]]=vt.texts(r);m=_t.createElement(b,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},_t.createElement(lqe,{renderPlaceholder:o,decorations:[],isLast:!1,parent:r,text:x})),Ine.set(x,0),Dne.set(x,r)}return i({attributes:g,children:m,element:r})},Vhn=_t.memo(zhn,(n,e)=>n.element===e.element&&n.renderElement===e.renderElement&&n.renderLeaf===e.renderLeaf&&n.renderPlaceholder===e.renderPlaceholder&&Ohn(n.decorations,e.decorations)&&(n.selection===e.selection||!!n.selection&&!!e.selection&&Ne.equals(n.selection,e.selection))),Hhn=n=>{var{attributes:e,children:r,element:i}=n,o=tm(),s=o.isInline(i)?"span":"div";return _t.createElement(s,vK(vK({},e),{},{style:{position:"relative"}}),r)},cqe=p.createContext(()=>[]),Whn=()=>p.useContext(cqe),uqe=p.createContext(!1),dqe=()=>p.useContext(uqe),fqe=n=>{for(var{decorations:e,node:r,renderElement:i,renderPlaceholder:o,renderLeaf:s,selection:a}=n,l=Whn(),c=tm(),u=qe.findPath(c,r),f=[],h=Pt.isElement(r)&&!c.isInline(r)&&Z.hasInlines(c,r),m=0;m<r.children.length;m++){var g=u.concat(m),v=r.children[m],y=qe.findKey(c,v),b=Z.range(c,g),x=a&&Ne.intersection(b,a),_=l([v,g]);for(var w of e){var C=Ne.intersection(w,b);C&&_.push(C)}Pt.isElement(v)?f.push(_t.createElement(uqe.Provider,{key:"provider-".concat(y.id),value:!!x},_t.createElement(Vhn,{decorations:_,element:v,key:y.id,renderElement:i,renderPlaceholder:o,renderLeaf:s,selection:x}))):f.push(_t.createElement(lqe,{decorations:_,key:y.id,isLast:h&&m===r.children.length-1,parent:r,renderPlaceholder:o,renderLeaf:s,text:v})),Ine.set(v,m),Dne.set(v,r)}return f},hqe=p.createContext(!1),Ghn=()=>p.useContext(hqe),pqe=p.createContext(null),Z6=()=>{var n=p.useContext(pqe);if(!n)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:e}=n;return e};function qhn(){var n=tm(),e=p.useRef(!1),r=p.useRef(0),i=p.useCallback(()=>{if(!e.current){e.current=!0;var o=qe.getWindow(n);o.cancelAnimationFrame(r.current),r.current=o.requestAnimationFrame(()=>{e.current=!1})}},[n]);return p.useEffect(()=>()=>cancelAnimationFrame(r.current),[]),{receivedUserInput:e,onUserInput:i}}var Khn=3,Yhn={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},Zhn={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Xhn={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Jo=n=>{var e=Yhn[n],r=Zhn[n],i=Xhn[n],o=e&&Lz(e),s=r&&Lz(r),a=i&&Lz(i);return l=>!!(o&&o(l)||bve&&s&&s(l)||!bve&&a&&a(l))},cs={isBold:Jo("bold"),isCompose:Jo("compose"),isMoveBackward:Jo("moveBackward"),isMoveForward:Jo("moveForward"),isDeleteBackward:Jo("deleteBackward"),isDeleteForward:Jo("deleteForward"),isDeleteLineBackward:Jo("deleteLineBackward"),isDeleteLineForward:Jo("deleteLineForward"),isDeleteWordBackward:Jo("deleteWordBackward"),isDeleteWordForward:Jo("deleteWordForward"),isExtendBackward:Jo("extendBackward"),isExtendForward:Jo("extendForward"),isExtendLineBackward:Jo("extendLineBackward"),isExtendLineForward:Jo("extendLineForward"),isItalic:Jo("italic"),isMoveLineBackward:Jo("moveLineBackward"),isMoveLineForward:Jo("moveLineForward"),isMoveWordBackward:Jo("moveWordBackward"),isMoveWordForward:Jo("moveWordForward"),isRedo:Jo("redo"),isSoftBreak:Jo("insertSoftBreak"),isSplitBlock:Jo("splitBlock"),isTransposeCharacter:Jo("transposeCharacter"),isUndo:Jo("undo")},Qhn=(n,e)=>{var r=[],i=()=>{r=[]},o=a=>{if(e.current){var l=a.filter(c=>Pne(n,c,a));r.push(...l)}};function s(){r.length>0&&(r.reverse().forEach(a=>{a.type!=="characterData"&&(a.removedNodes.forEach(l=>{a.target.insertBefore(l,a.nextSibling)}),a.addedNodes.forEach(l=>{a.target.removeChild(l)}))}),i())}return{registerMutations:o,restoreDOM:s,clear:i}},Jhn={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class mqe extends p.Component{constructor(){super(...arguments),of(this,"context",null),of(this,"manager",null),of(this,"mutationObserver",null)}observe(){var e,{node:r}=this.props;if(!r.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");(e=this.mutationObserver)===null||e===void 0||e.observe(r.current,Jhn)}componentDidMount(){var{receivedUserInput:e}=this.props,r=this.context;this.manager=Qhn(r,e),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var e,r,i,o=(e=this.mutationObserver)===null||e===void 0?void 0:e.takeRecords();if(o!=null&&o.length){var s;(s=this.manager)===null||s===void 0||s.registerMutations(o)}return(r=this.mutationObserver)===null||r===void 0||r.disconnect(),(i=this.manager)===null||i===void 0||i.restoreDOM(),null}componentDidUpdate(){var e;(e=this.manager)===null||e===void 0||e.clear(),this.observe()}componentWillUnmount(){var e;(e=this.mutationObserver)===null||e===void 0||e.disconnect()}render(){return this.props.children}}of(mqe,"contextType",Ane);var epn=fu?mqe:n=>{var{children:e}=n;return _t.createElement(_t.Fragment,null,e)},tpn=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as","disableDefaultStyles"],npn=["text"];function Ive(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function Wh(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ive(Object(r),!0).forEach(function(i){of(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Ive(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var rpn=n=>_t.createElement(_t.Fragment,null,fqe(n)),ipn=n=>{var e=p.useCallback(K=>_t.createElement(opn,Wh({},K)),[]),{autoFocus:r,decorate:i=spn,onDOMBeforeInput:o,placeholder:s,readOnly:a=!1,renderElement:l,renderLeaf:c,renderPlaceholder:u=e,scrollSelectionIntoView:f=apn,style:h={},as:m="div",disableDefaultStyles:g=!1}=n,v=KC(n,tpn),y=Z6(),[b,x]=p.useState(!1),_=p.useRef(null),w=p.useRef([]),[C,S]=p.useState(),{onUserInput:T,receivedUserInput:A}=qhn(),[,I]=p.useReducer(K=>K+1,0);JGe.set(y,I),fK.set(y,a);var D=p.useMemo(()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1}),[]);p.useEffect(()=>{_.current&&r&&_.current.focus()},[r]);var R=p.useRef(),P=p.useMemo(()=>$I(()=>{var K=R.current;if((fu||!qe.isComposing(y))&&(!D.isUpdatingSelection||K!=null&&K.isFlushing())&&!D.isDraggingInternally){var Q=qe.findDocumentOrShadowRoot(y),{activeElement:re}=Q,se=qe.toDOMNode(y,y),de=Q.getSelection();if(re===se?(D.latestElement=re,T0.set(y,!0)):T0.delete(y),!de)return De.deselect(y);var{anchorNode:fe,focusNode:we}=de,ye=qe.hasEditableTarget(y,fe)||qe.isTargetInsideNonReadonlyVoid(y,fe),ve=qe.hasEditableTarget(y,we)||qe.isTargetInsideNonReadonlyVoid(y,we);if(ye&&ve){var _e=qe.toSlateRange(y,de,{exactMatch:!1,suppressThrow:!0});_e&&(!qe.isComposing(y)&&!(K!=null&&K.hasPendingChanges())&&!(K!=null&&K.isFlushing())?De.select(y,_e):K==null||K.handleUserSelect(_e))}a&&(!ye||!ve)&&De.deselect(y)}},100),[y,a,D]),O=p.useMemo(()=>LI(P,0),[P]);R.current=Ahn({node:_,onDOMSelectionChange:P,scheduleOnDOMSelectionChange:O}),j5(()=>{var K,Q,re;_.current&&(re=One(_.current))?(QGe.set(y,re),PL.set(y,_.current),Qb.set(y,_.current),P5.set(_.current,y)):Qb.delete(y);var{selection:se}=y,de=qe.findDocumentOrShadowRoot(y),fe=de.getSelection();if(!(!fe||!qe.isFocused(y)||(K=R.current)!==null&&K!==void 0&&K.hasPendingAction())){var we=ge=>{var pe=fe.type!=="None";if(!(!se&&!pe)){var Pe=fe.focusNode,Re;if(TE&&fe.rangeCount>1){var Fe=fe.getRangeAt(0),Ye=fe.getRangeAt(fe.rangeCount-1);Fe.startContainer===Pe?Re=Ye.endContainer:Re=Fe.startContainer}else Re=fe.anchorNode;var He=PL.get(y),lt=!1;if(He.contains(Re)&&He.contains(Pe)&&(lt=!0),pe&&lt&&se&&!ge){var Xe=qe.toSlateRange(y,fe,{exactMatch:!0,suppressThrow:!0});if(Xe&&Ne.equals(Xe,se)){var st;if(!D.hasMarkPlaceholder||(st=Re)!==null&&st!==void 0&&(st=st.parentElement)!==null&&st!==void 0&&st.hasAttribute("data-slate-mark-placeholder"))return}}if(se&&!qe.hasRange(y,se)){y.selection=qe.toSlateRange(y,fe,{exactMatch:!1,suppressThrow:!0});return}D.isUpdatingSelection=!0;var kt=se&&qe.toDOMRange(y,se);return kt?(qe.isComposing(y)&&!fu?fe.collapseToEnd():Ne.isBackward(se)?fe.setBaseAndExtent(kt.endContainer,kt.endOffset,kt.startContainer,kt.startOffset):fe.setBaseAndExtent(kt.startContainer,kt.startOffset,kt.endContainer,kt.endOffset),f(y,kt)):fe.removeAllRanges(),kt}};fe.rangeCount<=1&&we();var ye=((Q=R.current)===null||Q===void 0?void 0:Q.isFlushing())==="action";if(!fu||!ye){setTimeout(()=>{D.isUpdatingSelection=!1});return}var ve=null,_e=requestAnimationFrame(()=>{if(ye){var ge=pe=>{try{var Pe=qe.toDOMNode(y,y);Pe.focus(),we(pe)}catch{}};ge(),ve=setTimeout(()=>{ge(!0),D.isUpdatingSelection=!1})}});return()=>{cancelAnimationFrame(_e),ve&&clearTimeout(ve)}}});var $=p.useCallback(K=>{if(T(),!a&&qe.hasEditableTarget(y,K.target)&&!lpn(K,o)){var Q;if(R.current)return R.current.handleDOMBeforeInput(K);O.flush(),P.flush();var{selection:re}=y,{inputType:se}=K,de=K.dataTransfer||K.data||void 0,fe=se==="insertCompositionText"||se==="deleteCompositionText";if(fe&&qe.isComposing(y))return;var we=!1;if(se==="insertText"&&re&&Ne.isCollapsed(re)&&K.data&&K.data.length===1&&/[a-z ]/i.test(K.data)&&re.anchor.offset!==0){var ye,ve;we=!0,y.marks&&(we=!1);var{anchor:_e}=re,[ge,pe]=qe.toDOMPoint(y,_e),Pe=(ye=ge.parentElement)===null||ye===void 0?void 0:ye.closest("a"),Re=qe.getWindow(y);if(we&&Pe&&qe.hasDOMNode(y,Pe)){var Fe,Ye=Re==null?void 0:Re.document.createTreeWalker(Pe,NodeFilter.SHOW_TEXT).lastChild();Ye===ge&&((Fe=Ye.textContent)===null||Fe===void 0?void 0:Fe.length)===pe&&(we=!1)}if(we&&ge.parentElement&&(Re==null||(ve=Re.getComputedStyle(ge.parentElement))===null||ve===void 0?void 0:ve.whiteSpace)==="pre"){var He=Z.above(y,{at:_e.path,match:gt=>Pt.isElement(gt)&&Z.isBlock(y,gt)});He&&vt.string(He[0]).includes("	")&&(we=!1)}}if(!se.startsWith("delete")||se.startsWith("deleteBy")){var[lt]=K.getTargetRanges();if(lt){var Xe=qe.toSlateRange(y,lt,{exactMatch:!1,suppressThrow:!1});if(!re||!Ne.equals(re,Xe)){we=!1;var st=!fe&&y.selection&&Z.rangeRef(y,y.selection);De.select(y,Xe),st&&PA.set(y,st)}}}if(fe)return;if(we||K.preventDefault(),re&&Ne.isExpanded(re)&&se.startsWith("delete")){var kt=se.endsWith("Backward")?"backward":"forward";Z.deleteFragment(y,{direction:kt});return}switch(se){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":{Z.deleteFragment(y);break}case"deleteContent":case"deleteContentForward":{Z.deleteForward(y);break}case"deleteContentBackward":{Z.deleteBackward(y);break}case"deleteEntireSoftLine":{Z.deleteBackward(y,{unit:"line"}),Z.deleteForward(y,{unit:"line"});break}case"deleteHardLineBackward":{Z.deleteBackward(y,{unit:"block"});break}case"deleteSoftLineBackward":{Z.deleteBackward(y,{unit:"line"});break}case"deleteHardLineForward":{Z.deleteForward(y,{unit:"block"});break}case"deleteSoftLineForward":{Z.deleteForward(y,{unit:"line"});break}case"deleteWordBackward":{Z.deleteBackward(y,{unit:"word"});break}case"deleteWordForward":{Z.deleteForward(y,{unit:"word"});break}case"insertLineBreak":Z.insertSoftBreak(y);break;case"insertParagraph":{Z.insertBreak(y);break}case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":{se==="insertFromComposition"&&qe.isComposing(y)&&(x(!1),Tb.set(y,!1)),(de==null?void 0:de.constructor.name)==="DataTransfer"?qe.insertData(y,de):typeof de=="string"&&(we?w.current.push(()=>Z.insertText(y,de)):Z.insertText(y,de));break}}var Ge=(Q=PA.get(y))===null||Q===void 0?void 0:Q.unref();PA.delete(y),Ge&&(!y.selection||!Ne.equals(y.selection,Ge))&&De.select(y,Ge)}},[y,P,T,o,a,O]),L=p.useCallback(K=>{K==null?(P.cancel(),O.cancel(),PL.delete(y),Qb.delete(y),_.current&&Dv&&_.current.removeEventListener("beforeinput",$)):Dv&&K.addEventListener("beforeinput",$),_.current=K},[P,O,y,$]);j5(()=>{var K=qe.getWindow(y);return K.document.addEventListener("selectionchange",O),()=>{K.document.removeEventListener("selectionchange",O)}},[O]);var M=i([y,[]]),N=s&&y.children.length===1&&Array.from(vt.texts(y)).length===1&&vt.string(y)===""&&!b,z=p.useCallback(K=>{if(K&&N){var Q;S((Q=K.getBoundingClientRect())===null||Q===void 0?void 0:Q.height)}else S(void 0)},[N]);if(N){var B=Z.start(y,[]);M.push({[YC]:!0,placeholder:s,onPlaceholderResize:z,anchor:B,focus:B})}var{marks:H}=y;if(D.hasMarkPlaceholder=!1,y.selection&&Ne.isCollapsed(y.selection)&&H){var{anchor:X}=y.selection,G=vt.leaf(y,X.path),ne=KC(G,npn);if(!wt.equals(G,H,{loose:!0})){D.hasMarkPlaceholder=!0;var le=Object.fromEntries(Object.keys(ne).map(K=>[K,null]));M.push(Wh(Wh(Wh({[eqe]:!0},le),H),{},{anchor:X,focus:X}))}}return p.useEffect(()=>{setTimeout(()=>{var{selection:K}=y;if(K){var{anchor:Q}=K,re=vt.leaf(y,Q.path);if(H&&!wt.equals(re,H,{loose:!0})){ih.set(y,H);return}}ih.delete(y)})}),_t.createElement(hqe.Provider,{value:a},_t.createElement(cqe.Provider,{value:i},_t.createElement(epn,{node:_,receivedUserInput:A},_t.createElement(m,Wh(Wh({role:a?void 0:"textbox","aria-multiline":a?void 0:!0},v),{},{spellCheck:Dv||!OL?v.spellCheck:!1,autoCorrect:Dv||!OL?v.autoCorrect:"false",autoCapitalize:Dv||!OL?v.autoCapitalize:"false","data-slate-editor":!0,"data-slate-node":"value",contentEditable:!a,zindex:-1,suppressContentEditableWarning:!0,ref:L,style:Wh(Wh({},g?{}:Wh({position:"relative",whiteSpace:"pre-wrap",wordWrap:"break-word"},C?{minHeight:C}:{})),h),onBeforeInput:p.useCallback(K=>{if(!Dv&&!a&&!dc(K,v.onBeforeInput)&&qe.hasSelectableTarget(y,K.target)&&(K.preventDefault(),!qe.isComposing(y))){var Q=K.data;Z.insertText(y,Q)}},[v.onBeforeInput,y,a]),onInput:p.useCallback(K=>{if(!dc(K,v.onInput)){if(R.current){R.current.handleInput();return}for(var Q of w.current)Q();w.current=[]}},[v.onInput]),onBlur:p.useCallback(K=>{if(!(a||D.isUpdatingSelection||!qe.hasSelectableTarget(y,K.target)||dc(K,v.onBlur))){var Q=qe.findDocumentOrShadowRoot(y);if(D.latestElement!==Q.activeElement){var{relatedTarget:re}=K,se=qe.toDOMNode(y,y);if(re!==se&&!(Yd(re)&&re.hasAttribute("data-slate-spacer"))){if(re!=null&&yy(re)&&qe.hasDOMNode(y,re)){var de=qe.toSlateNode(y,re);if(Pt.isElement(de)&&!y.isVoid(de))return}if(vT){var fe=Q.getSelection();fe==null||fe.removeAllRanges()}T0.delete(y)}}}},[a,D.isUpdatingSelection,D.latestElement,y,v.onBlur]),onClick:p.useCallback(K=>{if(qe.hasTarget(y,K.target)&&!dc(K,v.onClick)&&yy(K.target)){var Q=qe.toSlateNode(y,K.target),re=qe.findPath(y,Q);if(!Z.hasPath(y,re)||vt.get(y,re)!==Q)return;if(K.detail===Khn&&re.length>=1){var se=re;if(!(Pt.isElement(Q)&&Z.isBlock(y,Q))){var de,fe=Z.above(y,{match:Pe=>Pt.isElement(Pe)&&Z.isBlock(y,Pe),at:re});se=(de=fe==null?void 0:fe[1])!==null&&de!==void 0?de:re.slice(0,1)}var we=Z.range(y,se);De.select(y,we);return}if(a)return;var ye=Z.start(y,re),ve=Z.end(y,re),_e=Z.void(y,{at:ye}),ge=Z.void(y,{at:ve});if(_e&&ge&&Ce.equals(_e[1],ge[1])){var pe=Z.range(y,ye);De.select(y,pe)}}},[y,v.onClick,a]),onCompositionEnd:p.useCallback(K=>{if(qe.hasSelectableTarget(y,K.target)){var Q;if(qe.isComposing(y)&&(x(!1),Tb.set(y,!1)),(Q=R.current)===null||Q===void 0||Q.handleCompositionEnd(K),dc(K,v.onCompositionEnd)||fu)return;if(!vT&&!Jfn&&!Yfn&&!thn&&!ehn&&K.data){var re=ih.get(y);ih.delete(y),re!==void 0&&(cg.set(y,y.marks),y.marks=re),Z.insertText(y,K.data);var se=cg.get(y);cg.delete(y),se!==void 0&&(y.marks=se)}}},[v.onCompositionEnd,y]),onCompositionUpdate:p.useCallback(K=>{qe.hasSelectableTarget(y,K.target)&&!dc(K,v.onCompositionUpdate)&&(qe.isComposing(y)||(x(!0),Tb.set(y,!0)))},[v.onCompositionUpdate,y]),onCompositionStart:p.useCallback(K=>{if(qe.hasSelectableTarget(y,K.target)){var Q;if((Q=R.current)===null||Q===void 0||Q.handleCompositionStart(K),dc(K,v.onCompositionStart)||fu)return;x(!0);var{selection:re}=y;if(re){if(Ne.isExpanded(re)){Z.deleteFragment(y);return}var se=Z.above(y,{match:we=>Pt.isElement(we)&&Z.isInline(y,we),mode:"highest"});if(se){var[,de]=se;if(Z.isEnd(y,re.anchor,de)){var fe=Z.after(y,de);De.setSelection(y,{anchor:fe,focus:fe})}}}}},[v.onCompositionStart,y]),onCopy:p.useCallback(K=>{qe.hasSelectableTarget(y,K.target)&&!dc(K,v.onCopy)&&!Dve(K)&&(K.preventDefault(),qe.setFragmentData(y,K.clipboardData,"copy"))},[v.onCopy,y]),onCut:p.useCallback(K=>{if(!a&&qe.hasSelectableTarget(y,K.target)&&!dc(K,v.onCut)&&!Dve(K)){K.preventDefault(),qe.setFragmentData(y,K.clipboardData,"cut");var{selection:Q}=y;if(Q)if(Ne.isExpanded(Q))Z.deleteFragment(y);else{var re=vt.parent(y,Q.anchor.path);Z.isVoid(y,re)&&De.delete(y)}}},[a,y,v.onCut]),onDragOver:p.useCallback(K=>{if(qe.hasTarget(y,K.target)&&!dc(K,v.onDragOver)){var Q=qe.toSlateNode(y,K.target);Pt.isElement(Q)&&Z.isVoid(y,Q)&&K.preventDefault()}},[v.onDragOver,y]),onDragStart:p.useCallback(K=>{if(!a&&qe.hasTarget(y,K.target)&&!dc(K,v.onDragStart)){var Q=qe.toSlateNode(y,K.target),re=qe.findPath(y,Q),se=Pt.isElement(Q)&&Z.isVoid(y,Q)||Z.void(y,{at:re,voids:!0});if(se){var de=Z.range(y,re);De.select(y,de)}D.isDraggingInternally=!0,qe.setFragmentData(y,K.dataTransfer,"drag")}},[a,y,v.onDragStart,D]),onDrop:p.useCallback(K=>{if(!a&&qe.hasTarget(y,K.target)&&!dc(K,v.onDrop)){K.preventDefault();var Q=y.selection,re=qe.findEventRange(y,K),se=K.dataTransfer;De.select(y,re),D.isDraggingInternally&&Q&&!Ne.equals(Q,re)&&!Z.void(y,{at:re,voids:!0})&&De.delete(y,{at:Q}),qe.insertData(y,se),qe.isFocused(y)||qe.focus(y)}D.isDraggingInternally=!1},[a,y,v.onDrop,D]),onDragEnd:p.useCallback(K=>{!a&&D.isDraggingInternally&&v.onDragEnd&&qe.hasTarget(y,K.target)&&v.onDragEnd(K),D.isDraggingInternally=!1},[a,D,v,y]),onFocus:p.useCallback(K=>{if(!a&&!D.isUpdatingSelection&&qe.hasEditableTarget(y,K.target)&&!dc(K,v.onFocus)){var Q=qe.toDOMNode(y,y),re=qe.findDocumentOrShadowRoot(y);if(D.latestElement=re.activeElement,TE&&K.target!==Q){Q.focus();return}T0.set(y,!0)}},[a,D,y,v.onFocus]),onKeyDown:p.useCallback(K=>{if(!a&&qe.hasEditableTarget(y,K.target)){var Q;(Q=R.current)===null||Q===void 0||Q.handleKeyDown(K);var{nativeEvent:re}=K;if(qe.isComposing(y)&&re.isComposing===!1&&(Tb.set(y,!1),x(!1)),dc(K,v.onKeyDown)||qe.isComposing(y))return;var{selection:se}=y,de=y.children[se!==null?se.focus.path[0]:0],fe=WGe(vt.string(de))==="rtl";if(cs.isRedo(re)){K.preventDefault();var we=y;typeof we.redo=="function"&&we.redo();return}if(cs.isUndo(re)){K.preventDefault();var ye=y;typeof ye.undo=="function"&&ye.undo();return}if(cs.isMoveLineBackward(re)){K.preventDefault(),De.move(y,{unit:"line",reverse:!0});return}if(cs.isMoveLineForward(re)){K.preventDefault(),De.move(y,{unit:"line"});return}if(cs.isExtendLineBackward(re)){K.preventDefault(),De.move(y,{unit:"line",edge:"focus",reverse:!0});return}if(cs.isExtendLineForward(re)){K.preventDefault(),De.move(y,{unit:"line",edge:"focus"});return}if(cs.isMoveBackward(re)){K.preventDefault(),se&&Ne.isCollapsed(se)?De.move(y,{reverse:!fe}):De.collapse(y,{edge:"start"});return}if(cs.isMoveForward(re)){K.preventDefault(),se&&Ne.isCollapsed(se)?De.move(y,{reverse:fe}):De.collapse(y,{edge:"end"});return}if(cs.isMoveWordBackward(re)){K.preventDefault(),se&&Ne.isExpanded(se)&&De.collapse(y,{edge:"focus"}),De.move(y,{unit:"word",reverse:!fe});return}if(cs.isMoveWordForward(re)){K.preventDefault(),se&&Ne.isExpanded(se)&&De.collapse(y,{edge:"focus"}),De.move(y,{unit:"word",reverse:fe});return}if(Dv){if((XGe||vT)&&se&&(cs.isDeleteBackward(re)||cs.isDeleteForward(re))&&Ne.isCollapsed(se)){var ve=vt.parent(y,se.anchor.path);if(Pt.isElement(ve)&&Z.isVoid(y,ve)&&(Z.isInline(y,ve)||Z.isBlock(y,ve))){K.preventDefault(),Z.deleteBackward(y,{unit:"block"});return}}}else{if(cs.isBold(re)||cs.isItalic(re)||cs.isTransposeCharacter(re)){K.preventDefault();return}if(cs.isSoftBreak(re)){K.preventDefault(),Z.insertSoftBreak(y);return}if(cs.isSplitBlock(re)){K.preventDefault(),Z.insertBreak(y);return}if(cs.isDeleteBackward(re)){K.preventDefault(),se&&Ne.isExpanded(se)?Z.deleteFragment(y,{direction:"backward"}):Z.deleteBackward(y);return}if(cs.isDeleteForward(re)){K.preventDefault(),se&&Ne.isExpanded(se)?Z.deleteFragment(y,{direction:"forward"}):Z.deleteForward(y);return}if(cs.isDeleteLineBackward(re)){K.preventDefault(),se&&Ne.isExpanded(se)?Z.deleteFragment(y,{direction:"backward"}):Z.deleteBackward(y,{unit:"line"});return}if(cs.isDeleteLineForward(re)){K.preventDefault(),se&&Ne.isExpanded(se)?Z.deleteFragment(y,{direction:"forward"}):Z.deleteForward(y,{unit:"line"});return}if(cs.isDeleteWordBackward(re)){K.preventDefault(),se&&Ne.isExpanded(se)?Z.deleteFragment(y,{direction:"backward"}):Z.deleteBackward(y,{unit:"word"});return}if(cs.isDeleteWordForward(re)){K.preventDefault(),se&&Ne.isExpanded(se)?Z.deleteFragment(y,{direction:"forward"}):Z.deleteForward(y,{unit:"word"});return}}}},[a,y,v.onKeyDown]),onPaste:p.useCallback(K=>{!a&&qe.hasEditableTarget(y,K.target)&&!dc(K,v.onPaste)&&(!Dv||ihn(K.nativeEvent)||vT)&&(K.preventDefault(),qe.insertData(y,K.clipboardData))},[a,y,v.onPaste])}),_t.createElement(rpn,{decorations:M,node:y,renderElement:l,renderPlaceholder:u,renderLeaf:c,selection:y.selection})))))},opn=n=>{var{attributes:e,children:r}=n;return _t.createElement("span",Wh({},e),r,fu&&_t.createElement("br",null))},spn=()=>[],apn=(n,e)=>{if(e.getBoundingClientRect&&(!n.selection||n.selection&&Ne.isCollapsed(n.selection))){var r=e.startContainer.parentElement;r.getBoundingClientRect=e.getBoundingClientRect.bind(e),Ox(r,{scrollMode:"if-needed"}),delete r.getBoundingClientRect}},dc=(n,e)=>{if(!e)return!1;var r=e(n);return r??(n.isDefaultPrevented()||n.isPropagationStopped())},Dve=n=>yy(n.target)&&(n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement),lpn=(n,e)=>{if(!e)return!1;var r=e(n);return r??n.defaultPrevented},cpn=p.createContext(!1),upn=p.createContext({});function dpn(n){var e=p.useRef([]).current,r=p.useRef({editor:n}).current,i=p.useCallback(s=>{r.editor=s,e.forEach(a=>a(s))},[e,r]),o=p.useMemo(()=>({getSlate:()=>r.editor,addEventListener:s=>(e.push(s),()=>{e.splice(e.indexOf(s),1)})}),[e,r]);return{selectorContext:o,onChange:i}}var fpn=["editor","children","onChange","onSelectionChange","onValueChange","initialValue"],hpn=n=>{var{editor:e,children:r,onChange:i,onSelectionChange:o,onValueChange:s,initialValue:a}=n,l=KC(n,fpn),[c,u]=_t.useState(()=>{if(!vt.isNodeList(a))throw new Error("[Slate] initialValue is invalid! Expected a list of elements but got: ".concat(Ha.stringify(a)));if(!Z.isEditor(e))throw new Error("[Slate] editor is invalid! You passed: ".concat(Ha.stringify(e)));return e.children=a,Object.assign(e,l),{v:0,editor:e}}),{selectorContext:f,onChange:h}=dpn(e),m=p.useCallback(y=>{var b;switch(i&&i(e.children),y==null||(b=y.operation)===null||b===void 0?void 0:b.type){case"set_selection":o==null||o(e.selection);break;default:s==null||s(e.children)}u(x=>({v:x.v+1,editor:e})),h(e)},[e,h,i,o,s]);p.useEffect(()=>(hK.set(e,m),()=>{hK.set(e,()=>{})}),[e,m]);var[g,v]=p.useState(qe.isFocused(e));return p.useEffect(()=>{v(qe.isFocused(e))},[e]),j5(()=>{var y=()=>v(qe.isFocused(e));return ZGe>=17?(document.addEventListener("focusin",y),document.addEventListener("focusout",y),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",y)}):(document.addEventListener("focus",y,!0),document.addEventListener("blur",y,!0),()=>{document.removeEventListener("focus",y,!0),document.removeEventListener("blur",y,!0)})},[]),_t.createElement(upn.Provider,{value:f},_t.createElement(pqe.Provider,{value:c},_t.createElement(Ane.Provider,{value:c.editor},_t.createElement(cpn.Provider,{value:g},r))))},Rve=(n,e)=>{var r=(e.top+e.bottom)/2;return n.top<=r&&n.bottom>=r},Ove=(n,e,r)=>{var i=qe.toDOMRange(n,e).getBoundingClientRect(),o=qe.toDOMRange(n,r).getBoundingClientRect();return Rve(i,o)&&Rve(o,i)},ppn=(n,e)=>{var r=Z.range(n,Ne.end(e)),i=Array.from(Z.positions(n,{at:e})),o=0,s=i.length,a=Math.floor(s/2);if(Ove(n,Z.range(n,i[o]),r))return Z.range(n,i[o],r);if(i.length<2)return Z.range(n,i[i.length-1],r);for(;a!==i.length&&a!==o;)Ove(n,Z.range(n,i[a]),r)?s=a:o=a,a=Math.floor((o+s)/2);return Z.range(n,i[s],r)};function Pve(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function jve(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pve(Object(r),!0).forEach(function(i){of(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Pve(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}var mpn=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"x-slate-fragment",i=e,{apply:o,onChange:s,deleteBackward:a,addMark:l,removeMark:c}=i;return Y6.set(i,new WeakMap),i.addMark=(u,f)=>{var h,m;(h=Rne.get(i))===null||h===void 0||h(),!ih.get(i)&&(m=iu.get(i))!==null&&m!==void 0&&m.length&&ih.set(i,null),cg.delete(i),l(u,f)},i.removeMark=u=>{var f;!ih.get(i)&&(f=iu.get(i))!==null&&f!==void 0&&f.length&&ih.set(i,null),cg.delete(i),c(u)},i.deleteBackward=u=>{if(u!=="line")return a(u);if(i.selection&&Ne.isCollapsed(i.selection)){var f=Z.above(i,{match:v=>Pt.isElement(v)&&Z.isBlock(i,v),at:i.selection});if(f){var[,h]=f,m=Z.range(i,h,i.selection.anchor),g=ppn(i,m);Ne.isCollapsed(g)||De.delete(i,{at:g})}}},i.apply=u=>{var f=[],h=[],m=iu.get(i);if(m!=null&&m.length){var g=m.map(L=>vhn(L,u)).filter(Boolean);iu.set(i,g)}var v=i0.get(i);v&&i0.set(i,wve(i,v,u));var y=r0.get(i);if(y!=null&&y.at){var b=or.isPoint(y==null?void 0:y.at)?gK(i,y.at,u):wve(i,y.at,u);r0.set(i,b?jve(jve({},y),{},{at:b}):null)}switch(u.type){case"insert_text":case"remove_text":case"set_node":case"split_node":{f.push(...t_(i,u.path));break}case"set_selection":{var x;(x=PA.get(i))===null||x===void 0||x.unref(),PA.delete(i);break}case"insert_node":case"remove_node":{f.push(...t_(i,Ce.parent(u.path)));break}case"merge_node":{var _=Ce.previous(u.path);f.push(...t_(i,_));break}case"move_node":{var w=Ce.common(Ce.parent(u.path),Ce.parent(u.newPath));f.push(...t_(i,w));var C;Ce.isBefore(u.path,u.newPath)?(f.push(...t_(i,Ce.parent(u.path))),C=u.newPath):(f.push(...t_(i,Ce.parent(u.newPath))),C=u.path);var S=vt.get(e,Ce.parent(C)),T=qe.findKey(i,S),A=Z.pathRef(i,Ce.parent(C));h.push([A,T]);break}}o(u);for(var[I,D]of f){var[R]=Z.node(i,I);rF.set(R,D)}for(var[P,O]of h)if(P.current){var[$]=Z.node(i,P.current);rF.set($,O)}},i.setFragmentData=u=>{var{selection:f}=i;if(f){var[h,m]=Ne.edges(f),g=Z.void(i,{at:h.path}),v=Z.void(i,{at:m.path});if(!(Ne.isCollapsed(f)&&!g)){var y=qe.toDOMRange(i,f),b=y.cloneContents(),x=b.childNodes[0];if(b.childNodes.forEach(R=>{R.textContent&&R.textContent.trim()!==""&&(x=R)}),v){var[_]=v,w=y.cloneRange(),C=qe.toDOMNode(i,_);w.setEndAfter(C),b=w.cloneContents()}if(g&&(x=b.querySelector("[data-slate-spacer]")),Array.from(b.querySelectorAll("[data-slate-zero-width]")).forEach(R=>{var P=R.getAttribute("data-slate-zero-width")==="n";R.textContent=P?`
`:""}),tqe(x)){var S=x.ownerDocument.createElement("span");S.style.whiteSpace="pre",S.appendChild(x),b.appendChild(S),x=S}var T=i.getFragment(),A=JSON.stringify(T),I=window.btoa(encodeURIComponent(A));x.setAttribute("data-slate-fragment",I),u.setData("application/".concat(r),I);var D=b.ownerDocument.createElement("div");return D.appendChild(b),D.setAttribute("hidden","true"),b.ownerDocument.body.appendChild(D),u.setData("text/html",D.innerHTML),u.setData("text/plain",rqe(D)),b.ownerDocument.body.removeChild(D),u}}},i.insertData=u=>{i.insertFragmentData(u)||i.insertTextData(u)},i.insertFragmentData=u=>{var f=u.getData("application/".concat(r))||chn(u);if(f){var h=decodeURIComponent(window.atob(f)),m=JSON.parse(h);return i.insertFragment(m),!0}return!1},i.insertTextData=u=>{var f=u.getData("text/plain");if(f){var h=f.split(/\r\n|\r|\n/),m=!1;for(var g of h)m&&De.splitNodes(i,{always:!0}),i.insertText(g),m=!0;return!0}return!1},i.onChange=u=>{var f=ZGe<18?O$t.unstable_batchedUpdates:h=>h();f(()=>{var h=hK.get(i);h&&h(u),s(u)})},i},t_=(n,e)=>{var r=[];for(var[i,o]of Z.levels(n,{at:e})){var s=qe.findKey(n,i);r.push([o,s])}return r},yK={exports:{}};function gpn(n){r.debug=r,r.default=r,r.coerce=c,r.disable=a,r.enable=s,r.enabled=l,r.humanize=c6e(),Object.keys(n).forEach(function(u){r[u]=n[u]}),r.instances=[],r.names=[],r.skips=[],r.formatters={};function e(u){for(var f=0,h=0;h<u.length;h++)f=(f<<5)-f+u.charCodeAt(h),f|=0;return r.colors[Math.abs(f)%r.colors.length]}r.selectColor=e;function r(u){var f;function h(){if(h.enabled){for(var m=arguments.length,g=new Array(m),v=0;v<m;v++)g[v]=arguments[v];var y=h,b=Number(new Date),x=b-(f||b);y.diff=x,y.prev=f,y.curr=b,f=b,g[0]=r.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");var _=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,function(C,S){if(C==="%%")return C;_++;var T=r.formatters[S];if(typeof T=="function"){var A=g[_];C=T.call(y,A),g.splice(_,1),_--}return C}),r.formatArgs.call(y,g);var w=y.log||r.log;w.apply(y,g)}}return h.namespace=u,h.enabled=r.enabled(u),h.useColors=r.useColors(),h.color=e(u),h.destroy=i,h.extend=o,typeof r.init=="function"&&r.init(h),r.instances.push(h),h}function i(){var u=r.instances.indexOf(this);return u!==-1?(r.instances.splice(u,1),!0):!1}function o(u,f){return r(this.namespace+(typeof f>"u"?":":f)+u)}function s(u){r.save(u),r.names=[],r.skips=[];var f,h=(typeof u=="string"?u:"").split(/[\s,]+/),m=h.length;for(f=0;f<m;f++)h[f]&&(u=h[f].replace(/\*/g,".*?"),u[0]==="-"?r.skips.push(new RegExp("^"+u.substr(1)+"$")):r.names.push(new RegExp("^"+u+"$")));for(f=0;f<r.instances.length;f++){var g=r.instances[f];g.enabled=r.enabled(g.namespace)}}function a(){r.enable("")}function l(u){if(u[u.length-1]==="*")return!0;var f,h;for(f=0,h=r.skips.length;f<h;f++)if(r.skips[f].test(u))return!1;for(f=0,h=r.names.length;f<h;f++)if(r.names[f].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}return r.enable(r.load()),r}var vpn=gpn;(function(n,e){function r(f){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?r=function(m){return typeof m}:r=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},r(f)}e.log=s,e.formatArgs=o,e.save=a,e.load=l,e.useColors=i,e.storage=c(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function i(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(f){if(f[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+f[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!!this.useColors){var h="color: "+this.color;f.splice(1,0,h,"color: inherit");var m=0,g=0;f[0].replace(/%[a-zA-Z%]/g,function(v){v!=="%%"&&(m++,v==="%c"&&(g=m))}),f.splice(g,0,h)}}function s(){var f;return(typeof console>"u"?"undefined":r(console))==="object"&&console.log&&(f=console).log.apply(f,arguments)}function a(f){try{f?e.storage.setItem("debug",f):e.storage.removeItem("debug")}catch{}}function l(){var f;try{f=e.storage.getItem("debug")}catch{}return!f&&typeof process<"u"&&"env"in process&&(f={}.DEBUG),f}function c(){try{return localStorage}catch{}}n.exports=vpn(e);var u=n.exports.formatters;u.j=function(f){try{return JSON.stringify(f)}catch(h){return"[UnexpectedJSONParseError]: "+h.message}}})(yK,yK.exports);var ypn=yK.exports;const yT=Tt(ypn);function jne(n){const e=typeof window<"u"&&"crypto"in window?window.crypto:globalThis.crypto;if(!e||!e.getRandomValues)throw new Error("WebCrypto not available in this environment");return e.getRandomValues(n)}var gqe=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function bpn(n){for(const e in n)if(!(e==="_type"||e==="_key")&&gqe(n,e)&&!Lne(n[e]))return!1;return!0}function xpn(n){for(let e=0;e<n.length;e++)if(!Lne(n[e]))return!1;return!0}function Lne(n){if(n==null)return!0;const e=typeof n;return Array.isArray(n)?xpn(n):e==="object"?bpn(n):!1}function wpn(n){for(const e in n)if(!(e==="_type"||e==="_key")&&gqe(n,e)&&n[e]!==void 0)return!1;return!0}const _pn=(()=>{let n;return()=>{if(n)return n;n=[];for(let e=0;e<256;++e)n[e]=(e+256).toString(16).substring(1);return n}})();function Epn(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const e=new Uint8Array(n);return jne(e),e}function _D(n){const e=_pn();return Epn(n).reduce((r,i)=>r+e[i],"").slice(0,n)}const Cpn=Object.prototype.toString;function Spn(n){switch(Cpn.call(n)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}if(typeof n=="object"&&n&&typeof n.length=="number")try{if(typeof n.callee=="function")return"arguments"}catch(e){if(e instanceof TypeError)return"arguments"}return n===null?"null":n===void 0?"undefined":n&&n.nodeType===1?"element":n===Object(n)?"object":typeof n}function vu(n){const e=Spn(n);if(e!=="object")return e;const r=n;return"_type"in r&&r._type||e}var kpn=EHe;function Tpn(n){var e=kpn(n),r=e%1;return e===e?r?e-r:e:0}var Apn=Tpn,Ipn=sWe,Dpn=Fy,Rpn=Apn,Opn=Math.max;function Ppn(n,e,r){var i=n==null?0:n.length;if(!i)return-1;var o=r==null?0:Rpn(r);return o<0&&(o=Opn(i+o,0)),Ipn(n,Dpn(e),o)}var vqe=Ppn;const $ne=Tt(vqe);var jpn=Pte,Lpn=4;function $pn(n){return jpn(n,Lpn)}var Mpn=$pn;const yqe=Tt(Mpn);function Mne(n){return n.type?Mne(n.type):n.name==="block"}const Fpn=Object.prototype.toString;function bqe(n){switch(Fpn.call(n)){case"[object Function]":return"function";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object String]":return"string"}return n===null?"null":n===void 0?"undefined":n&&typeof n=="object"&&"nodeType"in n&&n.nodeType===1?"element":n===Object(n)?"object":typeof n}function jL(n){return!!n&&(typeof n=="object"||typeof n=="function")}function iF(n){return jL(n)&&typeof n._type=="string"&&Array.isArray(n.children)&&n.children.every(e=>jL(e))&&("markDefs"in n?Array.isArray(n.markDefs)&&n.markDefs.every(e=>jL(e)):!1)&&("style"in n?typeof n.style=="string":!0)}function Mz(n){return jL(n)&&n._type==="span"&&typeof n.text=="string"&&("marks"in n?Array.isArray(n.marks)&&n.marks.every(e=>typeof e=="string"):!0)}function jg(n){return!!n&&(typeof n=="object"||typeof n=="function")}function Lve(n){return jg(n)?n.jsonType==="object":!1}function Npn(n){return jg(n)?n.jsonType==="array":!1}function Bpn(n){return typeof n=="object"&&n!==null&&"title"in n&&"value"in n}function Upn(n){return jg(n)?Array.isArray(n.annotations)&&Array.isArray(n.decorators):!1}function zpn(n){if(!jg(n)||!Array.isArray(n.fields))return!1;const e=n.fields.find(wK),r=n.fields.find(bK),i=n.fields.find(xK);return wK(e)&&bK(r)&&xK(i)}function bK(n){return!jg(n)||n.name!=="style"?!1:jg(n.type)&&n.type.jsonType==="string"}function xK(n){return!jg(n)||n.name!=="listItem"?!1:jg(n.type)&&n.type.jsonType==="string"}function wK(n){return!jg(n)||n.name!=="children"||!Npn(n.type)?!1:n.type.of.some(Upn)}const Vpn=["pre","textarea","code"],ZC="normal",lu=Object.freeze({_type:"block",markDefs:[],style:ZC}),A0=Object.freeze({_type:"span",marks:[]}),oF={p:lu,blockquote:{...lu,style:"blockquote"}},xqe={span:{object:"text"}},sF={ol:{object:null},ul:{object:null}},aF={h1:{...lu,style:"h1"},h2:{...lu,style:"h2"},h3:{...lu,style:"h3"},h4:{...lu,style:"h4"},h5:{...lu,style:"h5"},h6:{...lu,style:"h6"}},Hpn={br:{...lu,style:ZC}},wqe={b:"strong",strong:"strong",i:"em",em:"em",u:"underline",s:"strike-through",strike:"strike-through",del:"strike-through",code:"code",sup:"sup",sub:"sub",ins:"ins",mark:"mark",small:"small"},_qe={li:{...lu,style:ZC,level:1,listItem:"bullet"}},Wpn={...oF,...xqe,...sF,..._qe,...aF,...Hpn};la(Object.values(Wpn).filter(n=>"style"in n).map(n=>n.style));la(Object.values(wqe));function Gpn(n){var e,r;if(!n)throw new Error("Parameter 'blockContentType' required");const i=n.of.find(Mne);if(!zpn(i))throw new Error("'block' type is not defined in this schema (required).");const o=(r=(e=i.fields.find(wK))==null?void 0:e.type)==null?void 0:r.of;if(!o)throw new Error("No `of` declaration found for blocks `children` field");const s=o.find(c=>c.name==="span");if(!s)throw new Error("No `span` type found in `block` schema type `children` definition");const a=o.filter(c=>c.name!=="span"&&Lve(c)),l=n.of.filter(c=>c.name!==i.name&&Lve(c));return{styles:qpn(i),decorators:Ypn(s),annotations:Kpn(s),lists:Zpn(i),types:{block:n,span:s,inlineObjects:a,blockObjects:l}}}function qpn(n){const e=n.fields.find(bK);if(!e)throw new Error("A field with name 'style' is not defined in the block type (required).");const r=Eqe(e.type.options);if(r.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return r}function Kpn(n){return n.annotations.map(e=>({title:e.title,type:e,value:e.name,icon:e.icon}))}function Ypn(n){return n.decorators}function Zpn(n){const e=n.fields.find(xK);if(!e)throw new Error("A field with name 'list' is not defined in the block type (required).");const r=Eqe(e.type.options);if(!r)throw new Error("The list field need at least to be an empty array");return r}function Eqe(n){const e=n?n.list:void 0;return Array.isArray(e)?e.map(r=>Bpn(r)?r:{title:r,value:r}):[]}const by={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9};var Xpn=(n,e,r)=>{var i;const o=(r==null?void 0:r.unstable_whitespaceOnPasteMode)||"preserve";let s=e.evaluate('//*[@id and contains(@id, "docs-internal-guid")]',e,null,by.ORDERED_NODE_ITERATOR_TYPE,null).iterateNext();if(s){const a=Cr(s)==="b";switch(a||(s=e.body),o){case"normalize":_K(s);break;case"remove":bmn(s);break}const l=e.evaluate("//*",e,null,by.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let c=l.snapshotLength-1;c>=0;c--){const u=l.snapshotItem(c);u==null||u.setAttribute("data-is-google-docs","true"),((u==null?void 0:u.parentElement)===s||!a&&u.parentElement===e.body)&&(u==null||u.setAttribute("data-is-root-node","true"),Cr(u)),Cr(u)==="li"&&u.firstChild&&Cr(u==null?void 0:u.firstChild)==="img"&&u.removeChild(u.firstChild)}return a&&((i=e.body.firstElementChild)==null||i.replaceWith(...Array.from(s.childNodes))),e}return e};const Qpn=["/html/text()","/html/head/text()","/html/body/text()","/html/body/ul/text()","/html/body/ol/text()","//comment()","//style","//xml","//script","//meta","//link"];var Jpn=(n,e)=>{var r,i,o;const s=e.evaluate("/html/body/text()",e,null,by.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let l=s.snapshotLength-1;l>=0;l--){const c=s.snapshotItem(l),u=c.textContent||"";if(u.replace(/[^\S\n]+$/g,"")){const f=e.createElement("span");f.appendChild(e.createTextNode(u)),(r=c.parentNode)==null||r.replaceChild(f,c)}else(i=c.parentNode)==null||i.removeChild(c)}const a=e.evaluate(Qpn.join("|"),e,null,by.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let l=a.snapshotLength-1;l>=0;l--){const c=a.snapshotItem(l);c&&((o=c.parentNode)==null||o.removeChild(c))}return e},emn=(n,e)=>{const r=/<!-- notionvc:.*?-->/g;if(n.match(r)){const i=e.evaluate("//*",e,null,by.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let o=i.snapshotLength-1;o>=0;o--){const s=i.snapshotItem(o);s==null||s.setAttribute("data-is-notion","true")}return e}return e},tmn=(n,e)=>{function r(i){var o,s;if(i.nodeType===by.BOOLEAN_TYPE&&!Vpn.includes(((o=i.parentElement)==null?void 0:o.tagName.toLowerCase())||""))i.textContent=((s=i.textContent)==null?void 0:s.replace(/\s\s+/g," ").replace(/[\r\n]+/g," "))||"";else for(let a=0;a<i.childNodes.length;a++)r(i.childNodes[a])}return r(e.body),e};const nmn=/(class="?Mso|style=(?:"|')[^"]*?\bmso-|w:WordDocument|<o:\w+>|<\/font>)/,rmn=["//o:p","//span[@style='mso-list:Ignore']","//span[@style='mso-list: Ignore']"],imn=["//p[@class='MsoTocHeading']","//p[@class='MsoTitle']","//p[@class='MsoToaHeading']","//p[@class='MsoSubtitle']","//span[@class='MsoSubtleEmphasis']","//span[@class='MsoIntenseEmphasis']"],omn={MsoTocHeading:["h3"],MsoTitle:["h1"],MsoToaHeading:["h2"],MsoSubtitle:["h5"],MsoSubtleEmphasis:["span","em"],MsoIntenseEmphasis:["span","em","strong"]};function smn(n){return nmn.test(n)}var amn=(n,e)=>{var r;if(!smn(n))return e;const i=e.evaluate(rmn.join("|"),e,s=>s==="o"?"urn:schemas-microsoft-com:office:office":null,by.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let s=i.snapshotLength-1;s>=0;s--){const a=i.snapshotItem(s);a!=null&&a.parentNode&&a.parentNode.removeChild(a)}const o=e.evaluate(imn.join("|"),e,null,by.UNORDERED_NODE_SNAPSHOT_TYPE,null);for(let s=o.snapshotLength-1;s>=0;s--){const a=o.snapshotItem(s),l=omn[a.className],c=new Text(a.textContent||"");if(!l)continue;const u=document.createElement(l[0]);let f=u,h=u;l.slice(1).forEach(m=>{h=document.createElement(m),f.appendChild(h),f=h}),h.appendChild(c),(r=a==null?void 0:a.parentNode)==null||r.replaceChild(u,a)}return e},lmn=[tmn,emn,amn,Xpn,Jpn];function cmn(n){const e=Gpn(n),r=e.styles.map(a=>a.value||a.title),i=e.decorators.map(a=>a.value||a.title),o=e.annotations.map(a=>a.value||a.title||""),s=e.lists.map(a=>a.value||a.title||"");return{enabledBlockStyles:r,enabledSpanDecorators:i,enabledBlockAnnotations:o,enabledListTypes:s}}function Cr(n){if(n&&"tagName"in n)return n.tagName.toLowerCase()}function umn(n,e,r){const i=e(dmn(n));return lmn.forEach(o=>{o(n,i,r)}),i}function dmn(n){return n.trim()}function fmn(){if(bqe(DOMParser)==="undefined")throw new Error("The native `DOMParser` global which the `Html` deserializer uses by default is not present in this environment. You must supply the `options.parseHtml` function instead.");return n=>new DOMParser().parseFromString(n,"text/html")}function hmn(n){let e=0;const r=[],i=o=>{const s=[];o.forEach(a=>{e===0&&r.push(a),iF(a)&&(e>0&&(s.push(a),r.push(a)),e++,i(a.children)),a._type==="__block"&&(s.push(a),r.push(a.block))}),s.forEach(a=>{o.splice(o.indexOf(a),1)}),e--};return i(n),r}function pmn(n,e){const r=n.children[e+1];return r&&r._type==="span"?r:null}function mmn(n,e){const r=n.children[e-1];return r&&r._type==="span"?r:null}function $ve(n){return[" "," "].includes(n)}function gmn(n){return n.forEach(e=>{iF(e)&&e.children.forEach((r,i)=>{if(!JE(r))return;const o=pmn(e,i),s=mmn(e,i);i===0&&(r.text=r.text.replace(/^[^\S\n]+/g,"")),i===e.children.length-1&&(r.text=r.text.replace(/[^\S\n]+$/g,"")),/\s/.test(r.text.substring(r.text.length-1))&&o&&JE(o)&&/\s/.test(o.text.substring(0,1))&&(r.text=r.text.replace(/[^\S\n]+$/g,"")),/\s/.test(r.text.substring(0,1))&&s&&JE(s)&&/\s/.test(s.text.substring(s.text.length-1))&&(r.text=r.text.replace(/^[^\S\n]+/g,"")),r.text||e.children.splice(i,1),s&&Br(s.marks,r.marks)&&$ve(r.text)?(s.text+=" ",e.children.splice(i,1)):o&&Br(o.marks,r.marks)&&$ve(r.text)&&(o.text=" ".concat(o.text),e.children.splice(i,1))})}),n}function vmn(n){return n.reduce((e,r,i,o)=>{if(r._type==="block")return e.push(r),e;if(r._type==="__block")return e.push(r.block),e;const s=e[e.length-1];if(i>0&&!iF(o[i-1])&&iF(s))return s.children.push(r),e;const a={...lu,children:[r]};return e.push(a),e},[])}function ymn(n){return Object.prototype.toString.call(n)=="[object NodeList]"}function JE(n){return n._type==="span"}function Mve(n){return n._type==="block"}function Fve(n){return n._type==="__decorator"}function Nve(n){return n._type==="__annotation"}function As(n){return n.nodeType===1}function _K(n){let e=0,r=null;const i=[];for(let o=n.firstChild;o;o=o.nextSibling){if(!As(o)){_K(o),e=0;continue}const s=o;xmn(s)?(r&&s.parentElement===r?(e++,e>1&&i.push(s)):e=1,r=s.parentElement):(_K(o),e=0)}i.forEach(o=>{var s;return(s=o.parentElement)==null?void 0:s.removeChild(o)})}function bmn(n){const e=[];function r(i){var o,s;if(As(i)){const a=i;if(Cr(a)==="br"&&(Cr(a.nextElementSibling)==="p"||Cr(a.previousElementSibling)==="p")){e.push(a);return}if((Cr(a)==="p"||Cr(a)==="br")&&((s=(o=a==null?void 0:a.firstChild)==null?void 0:o.textContent)==null?void 0:s.trim())===""){e.push(a);return}for(let l=a.firstChild;l;l=l.nextSibling)r(l)}}r(n),e.forEach(i=>{var o;return(o=i.parentElement)==null?void 0:o.removeChild(i)})}function xmn(n){var e;return["p","br"].includes(Cr(n)||"")&&!((e=n.textContent)!=null&&e.trim())}const Cqe=Object.keys(sF);function wmn(n){const e=As(n)&&n.getAttribute("style");return/font-style\s*:\s*italic/.test(e||"")}function _mn(n){const e=As(n)&&n.getAttribute("style");return/font-weight\s*:\s*700/.test(e||"")}function Emn(n){if(!As(n)||Cr(n.parentNode)==="a")return!1;const e=As(n)&&n.getAttribute("style");return/text-decoration\s*:\s*underline/.test(e||"")}function Cmn(n){const e=As(n)&&n.getAttribute("style");return/text-decoration\s*:\s*line-through/.test(e||"")}function yk(n){return As(n)&&!!n.getAttribute("data-is-google-docs")}function Smn(n){return As(n)&&!!n.getAttribute("data-is-root-node")}function kmn(n){const e=Cr(n.parentNode);if(!(e&&!Cqe.includes(e)))return Cr(n.parentNode)==="ul"?"bullet":"number"}function Tmn(n){let e=0;if(Cr(n)==="li"){let r=n.parentNode;for(;r;){const i=Cr(r);i&&Cqe.includes(i)&&e++,r=r.parentNode}}else e=1;return e}const Amn={...oF,...aF};function Imn(n,e){const r=Cr(n.firstChild),i=r&&Amn[r];return!i||!e.includes(i.style)?ZC:i.style}function Dmn(n,e){return[{deserialize(r){if(As(r)&&Cr(r)==="span"&&yk(r)){const i={...A0,marks:[],text:r.textContent};return _mn(r)&&i.marks.push("strong"),Emn(r)&&i.marks.push("underline"),Cmn(r)&&i.marks.push("strike-through"),wmn(r)&&i.marks.push("em"),i}}},{deserialize(r,i){var o;if(Cr(r)==="li"&&yk(r))return{...lu,listItem:kmn(r),level:Tmn(r),style:Imn(r,e.enabledBlockStyles),children:i(((o=r.firstChild)==null?void 0:o.childNodes)||[])}}},{deserialize(r){var i;if(Cr(r)==="br"&&yk(r)&&As(r)&&r.classList.contains("apple-interchange-newline"))return{...A0,text:""};if(Cr(r)==="br"&&yk(r)&&As(r)&&((i=r==null?void 0:r.parentNode)==null?void 0:i.textContent)==="")return{...A0,text:""};if(Cr(r)==="br"&&yk(r)&&As(r)&&Smn(r))return{...A0,text:""}}}]}function Rmn(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const e=new Uint8Array(n);return jne(e),e}const Sqe=[];for(let n=0;n<256;++n)Sqe[n]=(n+256).toString(16).substring(1);function EK(n){return Rmn(n).reduce((e,r)=>e+Sqe[r],"").slice(0,n)}function Omn(n,e){if(n==="ul"&&e.includes("bullet"))return"bullet";if(n==="ol"&&e.includes("number"))return"number"}function Pmn(n,e){return[{deserialize(r){if(Cr(r)==="pre")return;const o=(r.nodeType===3&&(r.textContent||"").replace(/[\r\n]/g," ").replace(/\s\s+/g," ")===" "&&r.nextSibling&&r.nextSibling.nodeType!==3&&r.previousSibling&&r.previousSibling.nodeType!==3||r.textContent!==" ")&&Cr(r.parentNode)!=="body";if(r.nodeName==="#text"&&o)return{...A0,marks:[],text:(r.textContent||"").replace(/\s\s+/g," ")}}},{deserialize(r){if(Cr(r)!=="pre")return;const i=e.enabledBlockStyles.includes("code");return{_type:"block",style:"normal",markDefs:[],children:[{...A0,marks:i?["code"]:[],text:r.textContent||""}]}}},{deserialize(r,i){if(Cr(r)!=="blockquote")return;const o={...oF,...aF};delete o.blockquote;const s=[];return r.childNodes.forEach((a,l)=>{if(a.nodeType===1&&Object.keys(o).includes(a.localName.toLowerCase())){if(!r.ownerDocument)return;const c=r.ownerDocument.createElement("span");c.appendChild(r.ownerDocument.createTextNode("\r")),a.childNodes.forEach(u=>{c.appendChild(u.cloneNode(!0))}),l!==r.childNodes.length&&c.appendChild(r.ownerDocument.createTextNode("\r")),s.push(c)}else s.push(a)}),{_type:"block",style:"blockquote",markDefs:[],children:i(s)}}},{deserialize(r,i){const o={...oF,...aF},s=Cr(r);let a=s?o[s]:void 0;if(a)return r.parentNode&&Cr(r.parentNode)==="li"?i(r.childNodes):(e.enabledBlockStyles.includes(a.style)||(a=lu),{...a,children:i(r.childNodes)})}},{deserialize(r,i){const o=Cr(r);if(!(!o||!(o in xqe)))return i(r.childNodes)}},{deserialize(r,i){if(Cr(r)==="div")return i(r.childNodes)}},{deserialize(r,i){const o=Cr(r);if(!(!o||!(o in sF)))return i(r.childNodes)}},{deserialize(r){if(Cr(r)==="br")return{...A0,text:`
`}}},{deserialize(r,i,o){const s=Cr(r),a=s?_qe[s]:void 0,l=Cr(r.parentNode)||"";if(!a||!r.parentNode||!sF[l])return;const c=Omn(l,e.enabledListTypes);return c?(a.listItem=c,{...a,children:i(r.childNodes)}):o({_type:"block",children:i(r.childNodes)})}},{deserialize(r,i){const o=wqe[Cr(r)||""];if(!(!o||!e.enabledSpanDecorators.includes(o)))return{_type:"__decorator",name:o,children:i(r.childNodes)}}},{deserialize(r,i){if(Cr(r)!="a")return;const o=e.enabledBlockAnnotations.includes("link"),s=As(r)&&r.getAttribute("href");if(!s)return i(r.childNodes);let a;return o?(a={_key:EK(12),_type:"link",href:s},{_type:"__annotation",markDef:a,children:i(r.childNodes)}):r.appendChild(r.ownerDocument.createTextNode(" (".concat(s,")")))&&i(r.childNodes)}}]}function jmn(n){const e=As(n)&&n.getAttribute("style");return/font-style:italic/.test(e||"")}function Lmn(n){const e=As(n)&&n.getAttribute("style");return/font-weight:700/.test(e||"")||/font-weight:600/.test(e||"")}function $mn(n){const e=As(n)&&n.getAttribute("style");return/text-decoration:underline/.test(e||"")}function Mmn(n){return As(n)&&!!n.getAttribute("data-is-notion")}function Fmn(n){return[{deserialize(e){if(As(e)&&Cr(e)==="span"&&Mmn(e)){const r={...A0,marks:[],text:e.textContent};return Lmn(e)&&r.marks.push("strong"),$mn(e)&&r.marks.push("underline"),jmn(e)&&r.marks.push("em"),r}}}]}function Nmn(n){const e=As(n)&&n.getAttribute("style");if(e&&e.match(/lfo\d+/))return e.match("lfo1")?"bullet":"number"}function Bmn(n){const e=As(n)&&n.getAttribute("style");if(!e)return;const r=e.match(/level\d+/);if(!r)return;const[i]=r[0].match(/\d/)||[];return(i?parseInt(i,10):1)||1}function Umn(n){return As(n)&&n.className?n.className==="MsoListParagraphCxSpFirst"||n.className==="MsoListParagraphCxSpMiddle"||n.className==="MsoListParagraphCxSpLast":!1}function zmn(){return[{deserialize(n,e){if(Cr(n)==="p"&&Umn(n))return{...lu,listItem:Nmn(n),level:Bmn(n),style:ZC,children:e(n.childNodes)}}}]}function Vmn(n,e){return[...zmn(),...Fmn(),...Dmn(n,e),...Pmn(n,e)]}class Hmn{constructor(e){var r=this;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._markDefs=[],this.deserialize=c=>{this._markDefs=[];const{parseHtml:u}=this,f=u(c),h=Array.from(f.childNodes),m=gmn(hmn(vmn(this.deserializeElements(h))));this._markDefs.length>0&&m.filter(v=>v._type==="block").forEach(v=>{v.markDefs=v.markDefs||[],v.markDefs=v.markDefs.concat(this._markDefs.filter(y=>Ji(v.children.map(b=>b.marks||[])).includes(y._key)))});const g=this.blockContentType.of.find(Mne);return g?m.map(v=>(v._type==="block"&&(v._type=g.name),v)):m},this.deserializeElements=function(){let c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],u=[];return c.forEach(f=>{u=u.concat(r.deserializeElement(f))}),u},this.deserializeElement=c=>{var u,f;const h=v=>{if(ymn(v))return this.deserializeElements(Array.from(v));if(Array.isArray(v))return this.deserializeElements(v);if(v)return this.deserializeElement(v)},m=v=>({_type:"__block",block:v});let g;for(let v=0;v<this.rules.length;v++){const y=this.rules[v];if(!y.deserialize)continue;const b=y.deserialize(c,h,m),x=bqe(b);if(x!=="array"&&x!=="object"&&x!=="null"&&x!=="undefined")throw new Error('A rule returned an invalid deserialized representation: "'.concat(g,'".'));if(b!==void 0){{if(b===null)throw new Error("Deserializer rule returned `null`");Array.isArray(b)?g=b:Fve(b)?g=this.deserializeDecorator(b):Nve(b)?g=this.deserializeAnnotation(b):g=b}if(b&&!Array.isArray(b)&&Mve(b)&&"listItem"in b){let _=(u=c.parentNode)==null?void 0:u.parentNode;for(;_&&Cr(_)==="li";)_=(f=_.parentNode)==null?void 0:f.parentNode,b.level=b.level?b.level+1:1}b&&!Array.isArray(b)&&Mve(b)&&b.style==="blockquote"&&b.children.forEach((_,w)=>{JE(_)&&_.text==="\r"&&(_.text=`

`,(w===0||w===b.children.length-1)&&b.children.splice(w,1))});break}}return g||h(c.childNodes)||[]},this.deserializeDecorator=c=>{const{name:u}=c,f=h=>{if(Fve(h))return this.deserializeDecorator(h);if(JE(h))h.marks=h.marks||[],h.text.trim()&&h.marks.unshift(u);else if("children"in h&&Array.isArray(h.children)){const m=h;m.children=m.children.map(f)}return h};return c.children.reduce((h,m)=>{const g=f(m);return Array.isArray(g)?h.concat(g):(h.push(g),h)},[])},this.deserializeAnnotation=c=>{const{markDef:u}=c;this._markDefs.push(u);const f=h=>{if(Nve(h))return this.deserializeAnnotation(h);if(JE(h))h.marks=h.marks||[],h.text.trim()&&h.marks.unshift(u._key);else if("children"in h&&Array.isArray(h.children)){const m=h;m.children=m.children.map(f)}return h};return c.children.reduce((h,m)=>{const g=f(m);return Array.isArray(g)?h.concat(g):(h.push(g),h)},[])};const{rules:o=[],unstable_whitespaceOnPasteMode:s="preserve"}=i;if(!e)throw new Error("Parameter 'blockContentType' is required");const a=Vmn(e,cmn(e));this.rules=[...o,...a];const l=i.parseHtml||fmn();this.blockContentType=e,this.parseHtml=c=>umn(c,l,{unstable_whitespaceOnPasteMode:s}).body}}function L5(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n._type!==(e.blockTypeName||"block"))return"_key"in n?n:{...n,_key:EK(12)};const r={_key:EK(12),children:[],markDefs:[],...n},i=r.children[r.children.length-1];if(!i)return r.children=[{_type:"span",_key:"".concat(r._key).concat(0),text:"",marks:[]}],r;const o=[],s=e.allowedDecorators&&Array.isArray(e.allowedDecorators)?e.allowedDecorators:!1;return r.children=r.children.reduce((a,l)=>{const c=a[a.length-1];return c&&Mz(l)&&Mz(c)&&Br(c.marks,l.marks)?(i&&i===l&&l.text===""&&r.children.length>1||(c.text+=l.text),a):(a.push(l),a)},[]).map((a,l)=>{if(!a)throw new Error("missing child");return a._key="".concat(r._key).concat(l),Mz(a)&&(a.marks?s&&(a.marks=a.marks.filter(c=>{var u;const f=s.includes(c),h=(u=r.markDefs)==null?void 0:u.some(m=>m._key===c);return f||h})):a.marks=[],o.push(...a.marks)),a}),r.markDefs=(r.markDefs||[]).filter(a=>o.includes(a._key)),r}function Bve(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return new Hmn(e,r).deserialize(n).map(o=>L5(o))}const CK="sanity-pte:";yT(CK);function Rs(n){const e="".concat(CK).concat(n);return yT&&yT.enabled(e)?yT(e):yT(CK)}function Uve(n,e,r){const i=[n.path[0]];if(!e)return null;const o=e[i[0]];if(!o)return null;const s=[{_key:o._key}];if(o._type!==r.block.name)return s;let a;const l=n.path.slice(0,2),c=Array.isArray(o.children)&&o.children[l[1]];return c&&(a=["children",{_key:c._key}]),a?[...s,...a]:s}function zve(n,e){if(!e)return[];const[r,i]=Array.from(Z.nodes(e,{at:[],match:a=>ji(n.path[0])&&a._key===n.path[0]._key}))[0]||[void 0,void 0];if(!r||!Pt.isElement(r))return[];if(e.isVoid(r))return[i[0],0];const o=[n.path[2]],s=r.children.findIndex(a=>Br([{_key:a._key}],o));if(s>=0&&r.children[s]){const a=r.children[s];return Pt.isElement(a)&&e.isVoid(a)?i.concat(s).concat(0):i.concat(s)}return i}function I0(n,e,r){if(!e)return null;let i=null,o=null;const s=e.anchor&&Uve(e.anchor,n,r);s&&e.anchor&&(i={path:s,offset:e.anchor.offset});const a=e.focus&&Uve(e.focus,n,r);a&&e.focus&&(o={path:a,offset:e.focus.offset});const l=!!(Ne.isRange(e)&&Ne.isBackward(e));return i&&o?{anchor:i,focus:o,backward:l}:null}function fb(n,e){if(!n||!e)return null;const r={path:zve(n.anchor,e),offset:n.anchor.offset},i={path:zve(n.focus,e),offset:n.focus.offset};return i.path.length===0||r.path.length===0?null:r&&i?{anchor:r,focus:i}:null}function Wmn(n,e){const r=or.transform(n.anchor,e),i=or.transform(n.focus,e);return r===null||i===null?null:or.equals(r,n.anchor)&&or.equals(i,n.focus)?n:{anchor:r,focus:i}}function Vve(n,e){if(!n||!e)return null;const r=[];let i=n.offset||0;const o=typeof n.path[0]=="object"&&"_key"in n.path[0]&&n.path[0]._key,s=typeof n.path[2]=="object"&&"_key"in n.path[2]&&n.path[2]._key,a=e.find(l=>l._key===o);if(a)r.push({_key:a._key});else return null;if(a&&n.path[1]==="children"){if(!a.children||Array.isArray(a.children)&&a.children.length===0)return null;const l=Array.isArray(a.children)&&a.children.find(c=>c._key===s);if(l)r.push("children"),r.push({_key:l._key}),i=l.text&&l.text.length>=n.offset?n.offset:l.text&&l.text.length||0;else return null}return{path:r,offset:i}}function Gmn(n,e){if(!n||!e||e.length===0)return null;let r=null,i=null;const{anchor:o,focus:s}=n;return o&&e.find(a=>Br({_key:a._key},o.path[0]))&&(r=Vve(o,e)),s&&e.find(a=>Br({_key:a._key},s.path[0]))&&(i=Vve(s,e)),r&&i?{anchor:r,focus:i,backward:n.backward}:null}const $5=()=>_D(12),kqe=p.createContext($5),qmn=()=>{const n=p.useContext(kqe);if(n===void 0)throw new Error("The `usePortableTextEditorKeyGenerator` hook must be used inside the <PortableTextEditor> component's context.");return n},Kmn=[],Ymn=[],Tqe="void-child";function Ab(n,e){const r=e[n._key];return r&&Br(n,r)?r:(e[n._key]=n,n)}function Lp(n,e){let{schemaTypes:r}=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n&&Array.isArray(n)?n.map(o=>{const{_type:s,_key:a,...l}=o,c=[{_key:Tqe,_type:"span",text:"",marks:[]}];if(o&&o._type===r.block.name){const f=o;let h=!1;const m=typeof f.style>"u",g=typeof f.markDefs>"u",v=typeof f.children>"u",y=v?[{_type:r.span.name,_key:$5(),text:"",marks:[]}]:f.children.map(b=>{const{_type:x,_key:_,...w}=b;return x!=="span"?(h=!0,Ab({_type:x,_key:_,children:c,value:w,__inline:!0},i)):x==="span"&&!("marks"in w)?Ab({_key:_,_type:x,...w,marks:Ymn},i):b});return!m&&!g&&!v&&!h&&Pt.isElement(o)?o:(m&&(l.style=r.styles[0].value),g&&(l.markDefs=Kmn),Ab({_type:s,_key:a,...l,children:y},i))}return Ab({_type:s,_key:a,children:c,value:l},i)}):[]}function Bo(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n.map(i=>{const{_key:o,_type:s}=i;if(!o||!s)throw new Error("Not a valid block");if(s===e&&"children"in i&&Array.isArray(i.children)&&o){let l=!1;const c=i.children.map(u=>{const{_type:f}=u;if("value"in u&&f!=="span"){l=!0;const{value:h,_key:m,_type:g,__inline:v,children:y,...b}=u;return Ab({...b,...h,_key:m,_type:g},r)}return u});return l?Ab({...i,children:c,_key:o,_type:s},r):i}const a="value"in i&&i.value;return Ab({_key:o,_type:s,...typeof a=="object"?a:{}},r)})}function M5(n,e){var r;return n===void 0||n&&Array.isArray(n)&&n.length===0||n&&Array.isArray(n)&&n.length===1&&Pt.isElement(n[0])&&n[0]._type===e.block.name&&"style"in n[0]&&n[0].style===e.styles[0].value&&!("listItem"in n[0])&&Array.isArray(n[0].children)&&n[0].children.length===1&&wt.isText(n[0].children[0])&&n[0].children[0]._type==="span"&&!((r=n[0].children[0].marks)!=null&&r.join(""))&&n[0].children[0].text===""}const lF=new WeakMap,LL=new WeakMap,cP=new WeakMap,bk=new WeakMap,xk=new WeakMap,wk=new WeakMap,SK=new WeakMap,Fd=new WeakMap,cF=new WeakMap,uP=n=>d.jsx("div",{children:d.jsx("pre",{children:JSON.stringify(n.value,null,2)})});var Hve=Object.freeze,Zmn=Object.defineProperty,X6=(n,e)=>Hve(Zmn(n,"raw",{value:Hve(e||n.slice())})),Wve,Gve,qve,Kve;const Xmn=F.div(Wve||(Wve=X6([`
  user-select: none;
  border: `,`;
`])),n=>n.selected?"1px solid blue":"1px solid transparent");F.span(Gve||(Gve=X6([`
  background: #999;
  border: `,`;
`])),n=>n.selected?"1px solid blue":"1px solid transparent");const Qmn=F.div(qve||(qve=X6([`
  &.pt-list-item {
    width: fit-content;
    position: relative;
    display: block;

    /* Important 'transform' in order to force refresh the ::before and ::after rules
      in Webkit: https://stackoverflow.com/a/21947628/831480
    */
    transform: translateZ(0);
    margin-left: `,`;
  }
  &.pt-list-item > .pt-list-item-inner {
    display: flex;
    margin: 0;
    padding: 0;
    &:before {
      justify-content: flex-start;
      vertical-align: top;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner:before {
      content: '`,`';
      font-size: 0.4375rem; /* 7px */
      line-height: 1.5rem; /* Same as body text */
      /* Optical alignment */
      position: relative;
    }
  }
  &.pt-list-item-bullet > .pt-list-item-inner {
    &:before {
      min-width: 1.5rem; /* Make sure space between bullet and text never shrinks */
    }
  }
  &.pt-list-item-number {
    counter-increment: `,`;
    counter-reset: `,`;
  }
  & + :not(.pt-list-item-number) {
    counter-reset: listItemNumber;
  }
  &.pt-list-item-number > .pt-list-item-inner:before {
    content: `,`;
    min-width: 1.5rem; /* Make sure space between number and text never shrinks */
    /* Optical alignment */
    position: relative;
    top: 1px;
  }
`])),n=>egn(n.listLevel),n=>ngn(n.listLevel,n.listStyle),n=>rgn(n.listLevel),n=>ign(n.listLevel),n=>ogn(n.listLevel)),Jmn=F.div(Kve||(Kve=X6([""])));function egn(n){switch(Number(n)){case 1:return"1.5em";case 2:return"3em";case 3:return"4.5em";case 4:return"6em";case 5:return"7.5em";case 6:return"9em";case 7:return"10.5em";case 8:return"12em";case 9:return"13.5em";case 10:return"15em";default:return"0em"}}const tgn=["●","○","■"];function ngn(n,e){const r=(n-1)%3;return e==="bullet"?tgn[r]:"*"}function rgn(n){switch(n){case 1:return"listItemNumber";case 2:return"listItemAlpha";case 3:return"listItemRoman";case 4:return"listItemNumberNext";case 5:return"listItemLetterNext";case 6:return"listItemRomanNext";case 7:return"listItemNumberNextNext";case 8:return"listItemAlphaNextNext";case 9:return"listItemRomanNextNext";default:return"listItemNumberNextNextNext"}}function ign(n){switch(n){case 1:return"listItemAlpha";case 2:return"listItemRoman";case 3:return"listItemNumberNext";case 4:return"listItemLetterNext";case 5:return"listItemRomanNext";case 6:return"listItemNumberNextNext";case 7:return"listItemAlphaNextNext";case 8:return"listItemRomanNextNext";case 9:return"listItemNumberNextNextNext";default:return"listItemNumberNextNextNext"}}function ogn(n){switch(n){case 1:return"counter(listItemNumber) '. '";case 2:return"counter(listItemAlpha, lower-alpha) '. '";case 3:return"counter(listItemRoman, lower-roman) '. '";case 4:return"counter(listItemNumberNext) '. '";case 5:return"counter(listItemLetterNext, lower-alpha) '. '";case 6:return"counter(listItemRomanNext, lower-roman) '. '";case 7:return"counter(listItemNumberNextNext) '. '";case 8:return"counter(listItemAlphaNextNext, lower-alpha) '. '";case 9:return"counter(listItemRomanNextNext, lower-roman) '. '";default:return"counter(listItemNumberNextNextNext) '. '"}}const Bh=Rs("components:DraggableBlock"),Yve=n=>{let{children:e,element:r,readOnly:i,blockRef:o}=n;const s=tm(),a=p.useRef(),[l,c]=p.useState(!1),u=p.useMemo(()=>Z.isVoid(s,r),[s,r]),f=p.useMemo(()=>Z.isInline(s,r),[s,r]),[h,m]=p.useState(null);p.useEffect(()=>m(o?o.current:qe.toDOMNode(s,r)),[s,r,o]);const g=p.useCallback(D=>{const R=bk.get(s);if(!R||!h)return;D.preventDefault(),D.dataTransfer.dropEffect="move",xk.set(s,r);const P=h.getBoundingClientRect(),O=P.top,$=P.height,L=D.pageY,M=Math.abs(O-L);let N="bottom";if(r===s.children[0]?N="top":M<$/2?(N="top",wk.set(s,N)):(N="bottom",wk.set(s,N)),R===r){D.dataTransfer.dropEffect="none";return}c(!0)},[h,s,r]),v=p.useCallback(()=>{c(!1)},[]),y=p.useCallback(D=>{const R=xk.get(s);if(R){cP.set(s,!1),D.preventDefault(),D.stopPropagation(),xk.delete(s),a.current&&(Bh("Removing drag ghost"),document.body.removeChild(a.current));const P=wk.get(s);wk.delete(s);let O=qe.findPath(s,R);const $=qe.findPath(s,r),L=Ce.isBefore($,O);if(P==="bottom"&&!L){if(O[0]>=s.children.length-1){Bh("target is already at the bottom, not moving");return}const M=O;O=Ce.next(O),Bh("Adjusting targetPath from ".concat(JSON.stringify(M)," to ").concat(JSON.stringify(O)))}if(P==="top"&&L&&O[0]!==s.children.length-1){const M=O;O=Ce.previous(O),Bh("Adjusting targetPath from ".concat(JSON.stringify(M)," to ").concat(JSON.stringify(O)))}if(Ce.equals(O,$)){D.preventDefault(),Bh("targetPath and myPath is the same, not moving");return}Bh("Moving element ".concat(r._key," from path ").concat(JSON.stringify($)," to ").concat(JSON.stringify(O)," (").concat(P,")")),De.moveNodes(s,{at:$,to:O}),s.onChange();return}Bh("No target element, not doing anything")},[s,r]),b=p.useCallback(D=>{bk.get(s)&&(Bh("On drop (prevented)",r),D.preventDefault(),D.stopPropagation(),c(!1))},[s,r]),x=p.useCallback(D=>{if(!u){bk.delete(s);return}cP.set(s,!0),bk.set(s,r),D.stopPropagation();const R=D.target;R instanceof HTMLElement&&(R.style.opacity="1")},[s,r,u]),_=p.useCallback(D=>{if(!u||f){Bh("Not dragging block"),bk.delete(s),cP.set(s,!1);return}if(Bh("Drag start"),cP.set(s,!0),D.dataTransfer&&(D.dataTransfer.setData("application/portable-text","something"),D.dataTransfer.effectAllowed="move"),h&&h instanceof HTMLElement){let R=h.cloneNode(!0);const P=R.querySelector("[data-pt-drag-ghost-element]");if(P&&(R=P),R.setAttribute("data-dragged",""),document.body){a.current=R,R.style.position="absolute",R.style.left="-99999px",R.style.boxSizing="border-box",document.body.appendChild(R);const O=h.getBoundingClientRect(),$=D.clientX-O.left,L=D.clientY-O.top;R.style.width="".concat(O.width,"px"),R.style.height="".concat(O.height,"px"),D.dataTransfer.setDragImage(R,$,L)}}x(D)},[h,s,x,f,u]),w=l&&s.children[0]===xk.get(s),C=l&&s.children[s.children.length-1]===xk.get(s),S=wk.get(s),T=w||l&&!w&&!C&&S==="top",A=C||l&&!w&&!C&&S==="bottom",I=p.useMemo(()=>d.jsx("div",{className:"pt-drop-indicator",style:{position:"absolute",width:"100%",height:1,borderBottom:"1px solid currentColor",zIndex:5}}),[]);return i?d.jsx(d.Fragment,{children:e}):d.jsxs("div",{draggable:u,onDragStart:_,onDrag:x,onDragOver:g,onDragLeave:v,onDragEnd:y,onDrop:b,children:[T&&I,e,A&&I]})};Rs("components:Element");const sgn=[],agn={display:"inline-block"},lgn=n=>{let{attributes:e,children:r,element:i,schemaTypes:o,readOnly:s,renderBlock:a,renderChild:l,renderListItem:c,renderStyle:u,spellCheck:f}=n;const h=tm(),m=dqe(),g=p.useRef(null),v=p.useRef(null),y=m&&h.selection&&Ne.isCollapsed(h.selection)||!1,b=p.useMemo(()=>Bo([i],o.block.name,Fd.get(h))[0],[h,i,o.block.name]);let x=r,_;const w=p.useMemo(()=>[{_key:i._key}],[i]);if(typeof i._type!="string")throw new Error("Expected element to have a _type property");if(typeof i._key!="string")throw new Error("Expected element to have a _key property");if(h.isInline(i)){const A=qe.findPath(h,i),[I]=Z.node(h,A,{depth:1}),D=o.inlineObjects.find(R=>R.name===i._type);if(!D)throw new Error("Could not find type for inline block element");if(Pt.isElement(I)){const R=[{_key:I._key},"children",{_key:i._key}];return d.jsxs("span",{...e,children:[r,d.jsxs("span",{draggable:!s,className:"pt-inline-object",ref:v,style:agn,contentEditable:!1,children:[l&&l({annotations:sgn,children:d.jsx(uP,{value:b}),editorElementRef:v,focused:y,path:R,schemaType:D,selected:m,type:D,value:b}),!l&&d.jsx(uP,{value:b})]},i._key)]})}throw new Error("Block not found!")}if(i._type===o.block.name){_="pt-block pt-text-block";const A="listItem"in i,I="style"in i&&i.style||"normal";_="pt-block pt-text-block pt-text-block-style-".concat(I);const D=o.styles.find($=>$.value===I);u&&D&&(x=u({block:i,children:r,focused:y,selected:m,value:I,path:w,schemaType:D,editorElementRef:g}));let R;if(A&&(typeof i.level=="number"&&(R=i.level),_+=" pt-list-item pt-list-item-".concat(i.listItem," pt-list-item-level-").concat(R||1)),h.isListBlock(b)&&A&&i.listItem){const $=o.lists.find(L=>L.value===i.listItem);c&&$?x=c({block:b,children:x,focused:y,selected:m,value:i.listItem,path:w,schemaType:$,level:b.level||1,editorElementRef:g}):x=d.jsx(Qmn,{listStyle:b.listItem||o.lists[0].value,listLevel:b.level||1,children:d.jsx(Jmn,{children:x})})}const P=Object.defineProperty({children:x,editorElementRef:g,focused:y,level:R,listItem:A?i.listItem:void 0,path:w,selected:m,style:I,schemaType:o.block,value:b},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.block}}),O=a?a(P):r;return d.jsx("div",{...e,className:_,spellCheck:f,children:d.jsx(Yve,{element:i,readOnly:s,blockRef:g,children:d.jsx("div",{ref:g,children:O})})},i._key)}const C=o.blockObjects.find(A=>A.name===i._type);if(!C)throw new Error("Could not find schema type for block element of _type ".concat(i._type));_="pt-block pt-object-block";const S=Bo([i],o.block.name,Fd.get(h))[0];let T;if(a){const A=Object.defineProperty({children:d.jsx(uP,{value:b}),editorElementRef:g,focused:y,path:w,schemaType:C,selected:m,value:S},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),C}});T=a(A)}return d.jsxs("div",{...e,className:_,children:[r,d.jsxs(Yve,{element:i,readOnly:s,blockRef:g,children:[T&&d.jsx("div",{ref:g,contentEditable:!1,children:T}),!T&&d.jsx(Xmn,{selected:m,children:d.jsx(uP,{value:b})})]})]},i._key)},Aqe=p.createContext(null),fa=()=>{const n=p.useContext(Aqe);if(!n)throw new Error("The `usePortableTextEditor` hook must be used inside the <PortableTextEditor> component's context.");return n};function cgn(n){const e=p.useCallback(()=>alert(JSON.stringify(n.annotation)),[n.annotation]);return d.jsx("span",{style:{color:"blue"},onClick:e,children:n.children})}function Zve(n){var e,r,i;if(!n)throw new Error("Parameter 'portabletextType' missing (required)");const o=(e=n.of)==null?void 0:e.find(Iqe);if(!o)throw new Error("Block type is not defined in this schema (required)");const s=(r=o.fields)==null?void 0:r.find(f=>f.name==="children");if(!s)throw new Error("Children field for block type found in schema (required)");const a=s.type.of;if(!a)throw new Error("Valid types for block children not found in schema (required)");const l=a.find(f=>f.name==="span");if(!l)throw new Error("Span type not found in schema (required)");const c=a.filter(f=>f.name!=="span")||[],u=((i=n.of)==null?void 0:i.filter(f=>f.name!==o.name))||[];return{styles:ugn(o),decorators:dgn(l),lists:fgn(o),block:o,span:l,portableText:n,inlineObjects:c,blockObjects:u,annotations:l.annotations}}function ugn(n){var e,r,i;const o=(e=n.fields)==null?void 0:e.find(a=>a.name==="style");if(!o)throw new Error("A field with name 'style' is not defined in the block type (required).");const s=((r=o.type.options)==null?void 0:r.list)&&((i=o.type.options.list)==null?void 0:i.filter(a=>a.value));if(!s||s.length===0)throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");return s}function dgn(n){return n.decorators}function fgn(n){var e,r;const i=(e=n.fields)==null?void 0:e.find(s=>s.name==="listItem");if(!i)throw new Error("A field with name 'listItem' is not defined in the block type (required).");const o=((r=i.type.options)==null?void 0:r.list)&&i.type.options.list.filter(s=>s.value);if(!o)throw new Error("The list field need at least to be an empty array");return o}function Iqe(n){return n.type?Iqe(n.type):n.name==="block"?n:null}function Xve(n){return zte.compile({name:"blockTypeSchema",types:[n]}).get(n.name)}function hgn(n){const e=n.charCodeAt(0);return e>=55296&&e<=56319}function kK(n){const e=n.charCodeAt(0);return e>=56320&&e<=57343}function ED(n){const[e,r]=n;return[e,r]}function Qve(n,e){let r=n,i=e;const o=r.length,s=i.length;if(o===0||s===0)return 0;o>s?r=r.substring(o-s):o<s&&(i=i.substring(0,o));const a=Math.min(o,s);if(r===i)return a;let l=0,c=1;for(let u=0;u!==-1;){const f=r.substring(a-c);if(u=i.indexOf(f),u===-1)return l;c+=u,(u===0||r.substring(a-c)===i.substring(0,c))&&(l=c,c++)}return l}function Fne(n,e){if(!n||!e||n[0]!==e[0])return 0;let r=0,i=Math.min(n.length,e.length),o=i,s=0;for(;r<o;)n.substring(s,o)===e.substring(s,o)?(r=o,s=r):i=o,o=Math.floor((i-r)/2+r);return o}function Q6(n,e){if(!n||!e||n[n.length-1]!==e[e.length-1])return 0;let r=0,i=Math.min(n.length,e.length),o=i,s=0;for(;r<o;)n.substring(n.length-o,n.length-s)===e.substring(e.length-o,e.length-s)?(r=o,s=r):i=o,o=Math.floor((i-r)/2+r);return o}function Dqe(n){let e=n.map(h=>ED(h)),r=!1;const i=[];let o=0,s=null,a=0,l=0,c=0,u=0,f=0;for(;a<e.length;)e[a][0]===sr?(i[o++]=a,l=u,c=f,u=0,f=0,s=e[a][1]):(e[a][0]===Do?u+=e[a][1].length:f+=e[a][1].length,s&&s.length<=Math.max(l,c)&&s.length<=Math.max(u,f)&&(e.splice(i[o-1],0,[Qi,s]),e[i[o-1]+1][0]=Do,o--,o--,a=o>0?i[o-1]:-1,l=0,c=0,u=0,f=0,s=null,r=!0)),a++;for(r&&(e=J6(e)),e=Rqe(e),a=1;a<e.length;){if(e[a-1][0]===Qi&&e[a][0]===Do){const h=e[a-1][1],m=e[a][1],g=Qve(h,m),v=Qve(m,h);g>=v?(g>=h.length/2||g>=m.length/2)&&(e.splice(a,0,[sr,m.substring(0,g)]),e[a-1][1]=h.substring(0,h.length-g),e[a+1][1]=m.substring(g),a++):(v>=h.length/2||v>=m.length/2)&&(e.splice(a,0,[sr,h.substring(0,v)]),e[a-1][0]=Do,e[a-1][1]=m.substring(0,m.length-v),e[a+1][0]=Qi,e[a+1][1]=h.substring(v),a++),a++}a++}return e}const Jve=/[^a-zA-Z0-9]/,e0e=/\s/,t0e=/[\r\n]/,pgn=/\n\r?\n$/,mgn=/^\r?\n\r?\n/;function Rqe(n){const e=n.map(o=>ED(o));function r(o,s){if(!o||!s)return 6;const a=o.charAt(o.length-1),l=s.charAt(0),c=a.match(Jve),u=l.match(Jve),f=c&&a.match(e0e),h=u&&l.match(e0e),m=f&&a.match(t0e),g=h&&l.match(t0e),v=m&&o.match(pgn),y=g&&s.match(mgn);return v||y?5:m||g?4:c&&!f&&h?3:f||h?2:c||u?1:0}let i=1;for(;i<e.length-1;){if(e[i-1][0]===sr&&e[i+1][0]===sr){let o=e[i-1][1],s=e[i][1],a=e[i+1][1];const l=Q6(o,s);if(l){const m=s.substring(s.length-l);o=o.substring(0,o.length-l),s=m+s.substring(0,s.length-l),a=m+a}let c=o,u=s,f=a,h=r(o,s)+r(s,a);for(;s.charAt(0)===a.charAt(0);){o+=s.charAt(0),s=s.substring(1)+a.charAt(0),a=a.substring(1);const m=r(o,s)+r(s,a);m>=h&&(h=m,c=o,u=s,f=a)}e[i-1][1]!==c&&(c?e[i-1][1]=c:(e.splice(i-1,1),i--),e[i][1]=u,f?e[i+1][1]=f:(e.splice(i+1,1),i--))}i++}return e}function J6(n){let e=n.map(u=>ED(u));e.push([sr,""]);let r=0,i=0,o=0,s="",a="",l;for(;r<e.length;)switch(e[r][0]){case Do:o++,a+=e[r][1],r++;break;case Qi:i++,s+=e[r][1],r++;break;case sr:i+o>1?(i!==0&&o!==0&&(l=Fne(a,s),l!==0&&(r-i-o>0&&e[r-i-o-1][0]===sr?e[r-i-o-1][1]+=a.substring(0,l):(e.splice(0,0,[sr,a.substring(0,l)]),r++),a=a.substring(l),s=s.substring(l)),l=Q6(a,s),l!==0&&(e[r][1]=a.substring(a.length-l)+e[r][1],a=a.substring(0,a.length-l),s=s.substring(0,s.length-l))),r-=i+o,e.splice(r,i+o),s.length&&(e.splice(r,0,[Qi,s]),r++),a.length&&(e.splice(r,0,[Do,a]),r++),r++):r!==0&&e[r-1][0]===sr?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,o=0,i=0,s="",a="";break;default:throw new Error("Unknown diff operation")}e[e.length-1][1]===""&&e.pop();let c=!1;for(r=1;r<e.length-1;)e[r-1][0]===sr&&e[r+1][0]===sr&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)===e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),c=!0):e[r][1].substring(0,e[r+1][1].length)===e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),c=!0)),r++;return c&&(e=J6(e)),e}function ggn(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return e.reduce((i,o)=>i+(o?1:0),0)}function Oqe(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,r=n.map(m=>ED(m)),i=!1;const o=[];let s=0,a=null,l=0,c=!1,u=!1,f=!1,h=!1;for(;l<r.length;)r[l][0]===sr?(r[l][1].length<e&&(f||h)?(o[s++]=l,c=f,u=h,a=r[l][1]):(s=0,a=null),f=!1,h=!1):(r[l][0]===Qi?h=!0:f=!0,a&&(c&&u&&f&&h||a.length<e/2&&ggn(c,u,f,h)===3)&&(r.splice(o[s-1],0,[Qi,a]),r[o[s-1]+1][0]=Do,s--,a=null,c&&u?(f=!0,h=!0,s=0):(s--,l=s>0?o[s-1]:-1,f=!1,h=!1),i=!0)),l++;return i&&(r=J6(r)),r}function vgn(n,e,r){const i=n.length,o=e.length,s=Math.ceil((i+o)/2),a=s,l=2*s,c=new Array(l),u=new Array(l);for(let b=0;b<l;b++)c[b]=-1,u[b]=-1;c[a+1]=0,u[a+1]=0;const f=i-o,h=f%2!==0;let m=0,g=0,v=0,y=0;for(let b=0;b<s&&!(Date.now()>r);b++){for(let x=-b+m;x<=b-g;x+=2){const _=a+x;let w;x===-b||x!==b&&c[_-1]<c[_+1]?w=c[_+1]:w=c[_-1]+1;let C=w-x;for(;w<i&&C<o&&n.charAt(w)===e.charAt(C);)w++,C++;if(c[_]=w,w>i)g+=2;else if(C>o)m+=2;else if(h){const S=a+f-x;if(S>=0&&S<l&&u[S]!==-1){const T=i-u[S];if(w>=T)return n0e(n,e,w,C,r)}}}for(let x=-b+v;x<=b-y;x+=2){const _=a+x;let w;x===-b||x!==b&&u[_-1]<u[_+1]?w=u[_+1]:w=u[_-1]+1;let C=w-x;for(;w<i&&C<o&&n.charAt(i-w-1)===e.charAt(o-C-1);)w++,C++;if(u[_]=w,w>i)y+=2;else if(C>o)v+=2;else if(!h){const S=a+f-x;if(S>=0&&S<l&&c[S]!==-1){const T=c[S],A=a+T-S;if(w=i-w,T>=w)return n0e(n,e,T,A,r)}}}}return[[Qi,n],[Do,e]]}function n0e(n,e,r,i,o){const s=n.substring(0,r),a=e.substring(0,i),l=n.substring(r),c=e.substring(i),u=Px(s,a,{checkLines:!1,deadline:o}),f=Px(l,c,{checkLines:!1,deadline:o});return u.concat(f)}function ygn(n,e){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const i=n.length>e.length?n:e,o=n.length>e.length?e:n;if(i.length<4||o.length*2<i.length)return null;const s=r0e(i,o,Math.ceil(i.length/4)),a=r0e(i,o,Math.ceil(i.length/2));let l;if(s&&a)l=s[4].length>a[4].length?s:a;else{if(!s&&!a)return null;a?s||(l=a):l=s}if(!l)throw new Error("Unable to find a half match.");let c,u,f,h;n.length>e.length?(c=l[0],u=l[1],f=l[2],h=l[3]):(f=l[0],h=l[1],c=l[2],u=l[3]);const m=l[4];return[c,u,f,h,m]}function r0e(n,e,r){const i=n.slice(r,r+Math.floor(n.length/4));let o=-1,s="",a,l,c,u;for(;(o=e.indexOf(i,o+1))!==-1;){const f=Fne(n.slice(r),e.slice(o)),h=Q6(n.slice(0,r),e.slice(0,o));s.length<h+f&&(s=e.slice(o-h,o)+e.slice(o,o+f),a=n.slice(0,r-h),l=n.slice(r+f),c=e.slice(0,o-h),u=e.slice(o+f))}return s.length*2>=n.length?[a||"",l||"",c||"",u||"",s||""]:null}function bgn(n,e){for(let r=0;r<n.length;r++){const i=n[r][1],o=[];for(let s=0;s<i.length;s++)o[s]=e[i.charCodeAt(s)];n[r][1]=o.join("")}}function xgn(n,e){const r=[],i={};r[0]="";function o(c){let u="",f=0,h=-1,m=r.length;for(;h<c.length-1;){h=c.indexOf(`
`,f),h===-1&&(h=c.length-1);let g=c.slice(f,h+1);(i.hasOwnProperty?i.hasOwnProperty(g):i[g]!==void 0)?u+=String.fromCharCode(i[g]):(m===s&&(g=c.slice(f),h=c.length),u+=String.fromCharCode(m),i[g]=m,r[m++]=g),f=h+1}return u}let s=4e4;const a=o(n);s=65535;const l=o(e);return{chars1:a,chars2:l,lineArray:r}}function wgn(n,e,r){let i=n,o=e;const s=xgn(i,o);i=s.chars1,o=s.chars2;const a=s.lineArray;let l=Px(i,o,{checkLines:!1,deadline:r.deadline});bgn(l,a),l=Dqe(l),l.push([sr,""]);let c=0,u=0,f=0,h="",m="";for(;c<l.length;){switch(l[c][0]){case Do:f++,m+=l[c][1];break;case Qi:u++,h+=l[c][1];break;case sr:if(u>=1&&f>=1){l.splice(c-u-f,u+f),c=c-u-f;const g=Px(h,m,{checkLines:!1,deadline:r.deadline});for(let v=g.length-1;v>=0;v--)l.splice(c,0,g[v]);c+=g.length}f=0,u=0,h="",m="";break;default:throw new Error("Unknown diff operation.")}c++}return l.pop(),l}function _gn(n,e,r){let i;if(!n)return[[Do,e]];if(!e)return[[Qi,n]];const o=n.length>e.length?n:e,s=n.length>e.length?e:n,a=o.indexOf(s);if(a!==-1)return i=[[Do,o.substring(0,a)],[sr,s],[Do,o.substring(a+s.length)]],n.length>e.length&&(i[0][0]=Qi,i[2][0]=Qi),i;if(s.length===1)return[[Qi,n],[Do,e]];const l=ygn(n,e);if(l){const c=l[0],u=l[1],f=l[2],h=l[3],m=l[4],g=Px(c,f,r),v=Px(u,h,r);return g.concat([[sr,m]],v)}return r.checkLines&&n.length>100&&e.length>100?wgn(n,e,r):vgn(n,e,r.deadline)}const Qi=-1,Do=1,sr=0;function Nne(n,e,r){if(n===null||e===null)throw new Error("Null input. (diff)");const i=Px(n,e,Cgn(r||{}));return kgn(i),i}function Px(n,e,r){let i=n,o=e;if(i===o)return i?[[sr,i]]:[];let s=Fne(i,o);const a=i.substring(0,s);i=i.substring(s),o=o.substring(s),s=Q6(i,o);const l=i.substring(i.length-s);i=i.substring(0,i.length-s),o=o.substring(0,o.length-s);let c=_gn(i,o,r);return a&&c.unshift([sr,a]),l&&c.push([sr,l]),c=J6(c),c}function Egn(n){let e=1;return typeof n<"u"&&(e=n<=0?Number.MAX_VALUE:n),Date.now()+e*1e3}function Cgn(n){return{checkLines:!0,deadline:Egn(n.timeout||1),...n}}function dP(n,e,r){return r===1?n+e:e+n}function fP(n,e){return e===1?[n.substring(0,n.length-1),n[n.length-1]]:[n.substring(1),n[0]]}function Sgn(n,e,r,i){return i===1?n[e][1][n[e][1].length-1]===n[r][1][n[r][1].length-1]:n[e][1][0]===n[r][1][0]}function i0e(n,e,r){const i=r===1?-1:1;let o=null,s=null,a=e+r;for(;a>=0&&a<n.length&&(o===null||s===null);a+=r){const[u,f]=n[a];if(f.length!==0){if(u===Do){o===null&&(o=a);continue}else if(u===Qi){s===null&&(s=a);continue}else if(u===sr){if(o===null&&s===null){const[h,m]=fP(n[e][1],r);n[e][1]=h,n[a][1]=dP(n[a][1],m,i);return}break}}}if(o!==null&&s!==null&&Sgn(n,o,s,r)){const[u,f]=fP(n[o][1],i),[h]=fP(n[s][1],i);n[o][1]=u,n[s][1]=h,n[e][1]=dP(n[e][1],f,r);return}const[l,c]=fP(n[e][1],r);n[e][1]=l,o===null?(n.splice(a,0,[Do,c]),s!==null&&s>=a&&s++):n[o][1]=dP(n[o][1],c,i),s===null?n.splice(a,0,[Qi,c]):n[s][1]=dP(n[s][1],c,i)}function kgn(n){for(let e=0;e<n.length;e++){const[r,i]=n[e];if(i.length===0)continue;const o=i[0],s=i[i.length-1];hgn(s)&&r===sr&&i0e(n,e,1),kK(o)&&r===sr&&i0e(n,e,-1)}for(let e=0;e<n.length;e++)n[e][1].length===0&&n.splice(e,1)}const Tgn={threshold:.5,distance:1e3};function Agn(n){return{...Tgn,...n}}const Ign=32;function Dgn(n,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(e.length>Ign)throw new Error("Pattern too long for this browser.");const o=Agn(i),s=Rgn(e);function a(v,y){const b=v/e.length,x=Math.abs(r-y);return o.distance?b+x/o.distance:x?1:b}let l=o.threshold,c=n.indexOf(e,r);c!==-1&&(l=Math.min(a(0,c),l),c=n.lastIndexOf(e,r+e.length),c!==-1&&(l=Math.min(a(0,c),l)));const u=1<<e.length-1;c=-1;let f,h,m=e.length+n.length,g=[];for(let v=0;v<e.length;v++){for(f=0,h=m;f<h;)a(v,r+h)<=l?f=h:m=h,h=Math.floor((m-f)/2+f);m=h;let y=Math.max(1,r-h+1);const b=Math.min(r+h,n.length)+e.length,x=new Array(b+2);x[b+1]=(1<<v)-1;for(let _=b;_>=y;_--){const w=s[n.charAt(_-1)];if(v===0?x[_]=(x[_+1]<<1|1)&w:x[_]=(x[_+1]<<1|1)&w|((g[_+1]|g[_])<<1|1)|g[_+1],x[_]&u){const C=a(v,_-1);if(C<=l)if(l=C,c=_-1,c>r)y=Math.max(1,2*r-c);else break}}if(a(v+1,r)>l)break;g=x}return c}function Rgn(n){const e={};for(let r=0;r<n.length;r++)e[n.charAt(r)]=0;for(let r=0;r<n.length;r++)e[n.charAt(r)]|=1<<n.length-r-1;return e}function Fz(n,e,r){if(n===null||e===null||r===null)throw new Error("Null input. (match())");const i=Math.max(0,Math.min(r,n.length));if(n===e)return 0;if(n.length){if(n.substring(i,i+e.length)===e)return i}else return-1;return Dgn(n,e,i)}function uF(n,e){return{diffs:[],start1:n,start2:e,utf8Start1:n,utf8Start2:e,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function Bne(n){const e=[];for(let r=0;r<n.length;r++)n[r][0]!==Do&&(e[r]=n[r][1]);return e.join("")}function Pqe(n){const e=[];for(let r=0;r<n.length;r++)n[r][0]!==Qi&&(e[r]=n[r][1]);return e.join("")}function D0(n){let e=0;for(let r=0;r<n.length;r++){const i=n.codePointAt(r);if(typeof i>"u")throw new Error("Failed to get codepoint");e+=jqe(i)}return e}function Ogn(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,o=0;function s(l){for(;i<l;){const c=e.codePointAt(o);if(typeof c>"u")return o;i+=jqe(c),c>65535?o+=2:o+=1}if(!r.allowExceedingIndices&&i!==l)throw new Error("Failed to determine byte offset");return o}const a=[];for(const l of n)a.push({diffs:l.diffs.map(c=>ED(c)),start1:s(l.start1),start2:s(l.start2),utf8Start1:l.utf8Start1,utf8Start2:l.utf8Start2,length1:l.length1,length2:l.length2,utf8Length1:l.utf8Length1,utf8Length2:l.utf8Length2});return a}function jqe(n){return n<=127?1:n<=2047?2:n<=65535?3:4}const o0=32,Une=4,Pgn={margin:4};function Nz(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...Pgn,...n}}function jgn(n,e,r){if(typeof n=="string"&&typeof e=="string"){let i=Nne(n,e,{checkLines:!0});return i.length>2&&(i=Dqe(i),i=Oqe(i)),Bz(n,i,Nz(r))}if(n&&Array.isArray(n)&&typeof e>"u")return Bz(Bne(n),n,Nz(r));if(typeof n=="string"&&e&&Array.isArray(e))return Bz(n,e,Nz(r));throw new Error("Unknown call format to make()")}function Bz(n,e,r){if(e.length===0)return[];const i=[];let o=uF(0,0),s=0,a=0,l=0,c=0,u=0,f=n,h=n;for(let m=0;m<e.length;m++){const g=e[m],[v,y]=g,b=y.length,x=D0(y);switch(!s&&v!==sr&&(o.start1=a,o.start2=l,o.utf8Start1=c,o.utf8Start2=u),v){case Do:o.diffs[s++]=g,o.length2+=b,o.utf8Length2+=x,h=h.substring(0,l)+y+h.substring(l);break;case Qi:o.length1+=b,o.utf8Length1+=x,o.diffs[s++]=g,h=h.substring(0,l)+h.substring(l+b);break;case sr:b<=2*r.margin&&s&&e.length!==m+1?(o.diffs[s++]=g,o.length1+=b,o.length2+=b,o.utf8Length1+=x,o.utf8Length2+=x):b>=2*r.margin&&s&&(o0e(o,f,r),i.push(o),o=uF(-1,-1),s=0,f=h,a=l,c=u);break;default:throw new Error("Unknown diff type")}v!==Do&&(a+=b,c+=x),v!==Qi&&(l+=b,u+=x)}return s&&(o0e(o,f,r),i.push(o)),i}function o0e(n,e,r){if(e.length===0)return;let i=e.substring(n.start2,n.start2+n.length1),o=0;for(;e.indexOf(i)!==e.lastIndexOf(i)&&i.length<o0-r.margin-r.margin;)o+=r.margin,i=e.substring(n.start2-o,n.start2+n.length1+o);o+=r.margin;let s=n.start2-o;s>=1&&kK(e[s])&&s--;const a=e.substring(s,n.start2);a&&n.diffs.unshift([sr,a]);const l=a.length,c=D0(a);let u=n.start2+n.length1+o;u<e.length&&kK(e[u])&&u++;const f=e.substring(n.start2+n.length1,u);f&&n.diffs.push([sr,f]);const h=f.length,m=D0(f);n.start1-=l,n.start2-=l,n.utf8Start1-=c,n.utf8Start2-=c,n.length1+=l+h,n.length2+=l+h,n.utf8Length1+=c+m,n.utf8Length2+=c+m}function Lgn(n){let e=0,r=0,i=0;for(let o=0;o<n.length;o++){const s=n[o][0],a=n[o][1];switch(s){case Do:r+=a.length;break;case Qi:i+=a.length;break;case sr:e+=Math.max(r,i),r=0,i=0;break;default:throw new Error("Unknown diff operation.")}}return e+=Math.max(r,i),e}function s0e(n,e){let r=0,i=0,o=0,s=0,a;for(a=0;a<n.length&&(n[a][0]!==Do&&(r+=n[a][1].length),n[a][0]!==Qi&&(i+=n[a][1].length),!(r>e));a++)o=r,s=i;return n.length!==a&&n[a][0]===Qi?s:s+(e-o)}function $gn(n){const r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Une;let i="";for(let a=1;a<=r;a++)i+=String.fromCharCode(a);for(const a of n)a.start1+=r,a.start2+=r,a.utf8Start1+=r,a.utf8Start2+=r;let o=n[0],s=o.diffs;if(s.length===0||s[0][0]!==sr)s.unshift([sr,i]),o.start1-=r,o.start2-=r,o.utf8Start1-=r,o.utf8Start2-=r,o.length1+=r,o.length2+=r,o.utf8Length1+=r,o.utf8Length2+=r;else if(r>s[0][1].length){const a=s[0][1].length,l=r-a;s[0][1]=i.substring(a)+s[0][1],o.start1-=l,o.start2-=l,o.utf8Start1-=l,o.utf8Start2-=l,o.length1+=l,o.length2+=l,o.utf8Length1+=l,o.utf8Length2+=l}if(o=n[n.length-1],s=o.diffs,s.length===0||s[s.length-1][0]!==sr)s.push([sr,i]),o.length1+=r,o.length2+=r,o.utf8Length1+=r,o.utf8Length2+=r;else if(r>s[s.length-1][1].length){const a=r-s[s.length-1][1].length;s[s.length-1][1]+=i.substring(0,a),o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}return i}function Mgn(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Une;const r=o0;for(let i=0;i<n.length;i++){if(n[i].length1<=r)continue;const o=n[i];n.splice(i--,1);let s=o.start1,a=o.start2,l="";for(;o.diffs.length!==0;){const c=uF(s-l.length,a-l.length);let u=!0;if(l!==""){const m=D0(l);c.length1=l.length,c.utf8Length1=m,c.length2=l.length,c.utf8Length2=m,c.diffs.push([sr,l])}for(;o.diffs.length!==0&&c.length1<r-e;){const m=o.diffs[0][0];let g=o.diffs[0][1],v=D0(g);if(m===Do){c.length2+=g.length,c.utf8Length2+=v,a+=g.length;const y=o.diffs.shift();y&&c.diffs.push(y),u=!1}else m===Qi&&c.diffs.length===1&&c.diffs[0][0]===sr&&g.length>2*r?(c.length1+=g.length,c.utf8Length1+=v,s+=g.length,u=!1,c.diffs.push([m,g]),o.diffs.shift()):(g=g.substring(0,r-c.length1-e),v=D0(g),c.length1+=g.length,c.utf8Length1+=v,s+=g.length,m===sr?(c.length2+=g.length,c.utf8Length2+=v,a+=g.length):u=!1,c.diffs.push([m,g]),g===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(g.length))}l=Pqe(c.diffs),l=l.substring(l.length-e);const f=Bne(o.diffs).substring(0,e),h=D0(f);f!==""&&(c.length1+=f.length,c.length2+=f.length,c.utf8Length1+=h,c.utf8Length2+=h,c.diffs.length!==0&&c.diffs[c.diffs.length-1][0]===sr?c.diffs[c.diffs.length-1][1]+=f:c.diffs.push([sr,f])),u||n.splice(++i,0,c)}}}function Lqe(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let i=e;if(n.length===0)return[i,[]];const o=Ogn(n,i,{allowExceedingIndices:r.allowExceedingIndices}),s=r.margin||Une,a=r.deleteThreshold||.4,l=$gn(o,s);i=l+i+l,Mgn(o,s);let c=0;const u=[];for(let f=0;f<o.length;f++){const h=o[f].start2+c,m=Bne(o[f].diffs);let g,v=-1;if(m.length>o0?(g=Fz(i,m.substring(0,o0),h),g!==-1&&(v=Fz(i,m.substring(m.length-o0),h+m.length-o0),(v===-1||g>=v)&&(g=-1))):g=Fz(i,m,h),g===-1)u[f]=!1,c-=o[f].length2-o[f].length1;else{u[f]=!0,c=g-h;let y;if(v===-1?y=i.substring(g,g+m.length):y=i.substring(g,v+o0),m===y)i=i.substring(0,g)+Pqe(o[f].diffs)+i.substring(g+m.length);else{let b=Nne(m,y,{checkLines:!1});if(m.length>o0&&Lgn(b)/m.length>a)u[f]=!1;else{b=Rqe(b);let x=0,_=0;for(let w=0;w<o[f].diffs.length;w++){const C=o[f].diffs[w];C[0]!==sr&&(_=s0e(b,x)),C[0]===Do?i=i.substring(0,g+_)+C[1]+i.substring(g+_):C[0]===Qi&&(i=i.substring(0,g+_)+i.substring(g+s0e(b,x+C[1].length))),C[0]!==Qi&&(x+=C[1].length)}}}}}return i=i.substring(l.length,i.length-l.length),[i,u]}function Fgn(n){return n.map(Ngn).join("")}function Ngn(n){const{utf8Length1:e,utf8Length2:r,utf8Start1:i,utf8Start2:o,diffs:s}=n;let a;e===0?a="".concat(i,",0"):e===1?a="".concat(i+1):a="".concat(i+1,",").concat(e);let l;r===0?l="".concat(o,",0"):r===1?l="".concat(o+1):l="".concat(o+1,",").concat(r);const c=["@@ -".concat(a," +").concat(l,` @@
`)];let u;for(let f=0;f<s.length;f++){switch(s[f][0]){case Do:u="+";break;case Qi:u="-";break;case sr:u=" ";break;default:throw new Error("Unknown patch operation.")}c[f+1]="".concat(u+encodeURI(s[f][1]),`
`)}return c.join("").replace(/%20/g," ")}const Bgn=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function zne(n){if(!n)return[];const e=[],r=n.split(`
`);let i=0;for(;i<r.length;){const o=r[i].match(Bgn);if(!o)throw new Error("Invalid patch string: ".concat(r[i]));const s=uF(hP(o[1]),hP(o[3]));for(e.push(s),o[2]===""?(s.start1--,s.utf8Start1--,s.length1=1,s.utf8Length1=1):o[2]==="0"?(s.length1=0,s.utf8Length1=0):(s.start1--,s.utf8Start1--,s.utf8Length1=hP(o[2]),s.length1=s.utf8Length1),o[4]===""?(s.start2--,s.utf8Start2--,s.length2=1,s.utf8Length2=1):o[4]==="0"?(s.length2=0,s.utf8Length2=0):(s.start2--,s.utf8Start2--,s.utf8Length2=hP(o[4]),s.length2=s.utf8Length2),i++;i<r.length;){const a=r[i],l=a.charAt(0);if(l==="@")break;if(l===""){i++;continue}let c;try{c=decodeURI(a.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(a))}const u=D0(c)-c.length;if(l==="-")s.diffs.push([Qi,c]),s.length1-=u;else if(l==="+")s.diffs.push([Do,c]),s.length2-=u;else if(l===" ")s.diffs.push([sr,c]),s.length1-=u,s.length2-=u;else throw new Error('Invalid patch mode "'.concat(l,'" in: ').concat(c));i++}}return e}function hP(n){return parseInt(n,10)}function $qe(n){return{type:"setIfMissing",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:n}}function a0e(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const i=jgn(n,e),o=Fgn(i);return{type:"diffMatchPatch",path:r,value:o}}function Km(n,e){return{type:"insert",path:arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],position:e,items:n}}function Ud(n){return{type:"set",path:arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],value:n}}function zl(){return{type:"unset",path:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const H1=Rs("operationToPatches");H1.enabled=!1;function Ugn(n){const e=n.block.name;function r(f,h,m){H1.enabled&&H1("Operation",JSON.stringify(h,null,2));const g=f.isTextBlock(f.children[h.path[0]])&&f.children[h.path[0]];if(!g)throw new Error("Could not find block");const v=f.isTextBlock(g)&&f.isTextSpan(g.children[h.path[1]])&&g.children[h.path[1]];if(!v)throw new Error("Could not find child");const y=[{_key:g._key},"children",{_key:v._key},"text"],b=m[h.path[0]],x=f.isTextBlock(b)&&b.children[h.path[1]],_=f.isTextSpan(x)?x.text:"",w=a0e(_,v.text,y);return w.value.length?[w]:[]}function i(f,h,m){const g=f&&f.children[h.path[0]];if(!g)throw new Error("Could not find block");const v=f.isTextBlock(g)&&g.children[h.path[1]]||void 0,y=f.isTextSpan(v)?v:void 0;if(v&&!y)throw new Error("Expected span");if(!y)throw new Error("Could not find child");const b=[{_key:g._key},"children",{_key:y._key},"text"],x=m[h.path[0]],_=f.isTextBlock(x)&&x.children[h.path[1]],w=f.isTextSpan(_)&&_.text,C=a0e(w||"",y.text,b);return C.value?[C]:[]}function o(f,h){if(h.path.length===1){const m=f.children[h.path[0]];if(typeof m._key!="string")throw new Error("Expected block to have a _key");const g=rWe({...f.children[h.path[0]],...h.newProperties},QHe);return[Ud(Bo([g],e)[0],[{_key:m._key}])]}else if(h.path.length===2){const m=f.children[h.path[0]];if(f.isTextBlock(m)){const g=m.children[h.path[1]];if(g){const v=m._key,y=g._key,b=[];return Object.keys(h.newProperties).forEach(x=>{const _=ko(h.newProperties,x);b.push(Ud(_,[{_key:v},"children",{_key:y},x]))}),b}throw new Error("Could not find a valid child")}throw new Error("Could not find a valid block")}else throw new Error("Unexpected path encountered: ".concat(JSON.stringify(h.path)))}function s(f,h,m){const g=m[h.path[0]],v=f.isTextBlock(g);if(h.path.length===1){const y=h.path[0]===0?"before":"after",b=m[h.path[0]-1],x=h.path[0]===0?g==null?void 0:g._key:b==null?void 0:b._key;return x?[Km([Bo([h.node],e)[0]],y,[{_key:x}])]:[$qe(m,[]),Km([Bo([h.node],e)[0]],"before",[h.path[0]])]}else if(v&&h.path.length===2&&f.children[h.path[0]]){const y=g.children.length===0||!g.children[h.path[1]-1]?"before":"after",b={...h.node};!b._type&&wt.isText(b)&&(b._type="span",b.marks=[]);const _=Bo([{_key:"bogus",_type:e,children:[b]}],e)[0].children[0];return[Km([_],y,[{_key:g._key},"children",g.children.length<=1||!g.children[h.path[1]-1]?0:{_key:g.children[h.path[1]-1]._key}])]}return H1("Something was inserted into a void block. Not producing editor patches."),[]}function a(f,h,m){const g=[],v=f.children[h.path[0]];if(!f.isTextBlock(v))throw new Error("Block with path ".concat(JSON.stringify(h.path[0])," is not a text block and can't be split"));if(h.path.length===1){const y=m[h.path[0]];if(f.isTextBlock(y)){const b=Bo([f.children[h.path[0]+1]],e)[0];b&&(g.push(Km([b],"after",[{_key:v._key}])),y.children.slice(h.position).forEach(_=>{const w=[{_key:y._key},"children",{_key:_._key}];g.push(zl(w))}))}return g}if(h.path.length===2){const y=v.children[h.path[1]];if(f.isTextSpan(y)){const b=Bo([{...v,children:v.children.slice(h.path[1]+1,h.path[1]+2)}],e)[0].children;g.push(Km(b,"after",[{_key:v._key},"children",{_key:y._key}])),g.push(Ud(y.text,[{_key:v._key},"children",{_key:y._key},"text"]))}return g}return g}function l(f,h,m){const g=m[h.path[0]];if(h.path.length===1){if(g&&g._key)return[zl([{_key:g._key}])];throw new Error("Block not found")}else if(f.isTextBlock(g)&&h.path.length===2){const v=f.isTextBlock(g)&&g.children&&g.children[h.path[1]];return v?[zl([{_key:g._key},"children",{_key:v._key}])]:(H1("Span not found in editor trying to remove node"),[])}else return H1("Not creating patch inside object block"),[]}function c(f,h,m){const g=[],v=m[h.path[0]],y=f.children[h.path[0]];if(h.path.length===1)if(v!=null&&v._key){const b=Bo([f.children[h.path[0]-1]],e)[0];g.push(Ud(b,[{_key:b._key}])),g.push(zl([{_key:v._key}]))}else throw new Error("Target key not found!");else if(h.path.length===2&&f.isTextBlock(y)){const b=f.isTextBlock(v)&&v.children[h.path[1]]||void 0,x=y.children[h.path[1]-1];f.isTextSpan(x)&&(g.push(Ud(x.text,[{_key:v._key},"children",{_key:x._key},"text"])),b&&g.push(zl([{_key:v._key},"children",{_key:b._key}])))}else H1("Void nodes can't be merged, not creating any patches");return g}function u(f,h,m){const g=[],v=m[h.path[0]],y=m[h.newPath[0]];if(h.path.length===1){const b=h.path[0]>h.newPath[0]?"before":"after";g.push(zl([{_key:v._key}])),g.push(Km([Bo([v],e)[0]],b,[{_key:y._key}]))}else if(h.path.length===2&&f.isTextBlock(v)&&f.isTextBlock(y)){const b=v.children[h.path[1]],x=y.children[h.newPath[1]],_=h.newPath[1]===y.children.length?"after":"before",w=Bo([v],e)[0].children[h.path[1]];g.push(zl([{_key:v._key},"children",{_key:b._key}])),g.push(Km([w],_,[{_key:y._key},"children",{_key:x._key}]))}return g}return{insertNodePatch:s,insertTextPatch:r,mergeNodePatch:c,moveNodePatch:u,removeNodePatch:l,removeTextPatch:i,setNodePatch:o,splitNodePatch:a}}const zv=Rs("plugin:withPortableTextMarkModel");function zgn(n,e){return function(o){const{apply:s,normalizeNode:a}=o,l=n.decorators.map(u=>u.value),c=()=>{o.selection&&(De.select(o,{...o.selection}),o.selection={...o.selection});const u=I0(o.children,o.selection,n);e.next({type:"selection",selection:u})};return o.normalizeNode=u=>{a(u),o.operations.some(v=>["insert_node","insert_text","merge_node","remove_node","remove_text","set_node"].includes(v.type))&&r(o);const[f,h]=u,m=wt.isText(f)&&f._type===n.span.name,g=o.isTextBlock(f);if(m||g){m&&!Array.isArray(f.marks)&&(zv("Adding .marks to span node"),De.setNodes(o,{marks:[]},{at:h}),o.onChange());for(const v of o.operations){if(v.type==="merge_node"&&v.path.length===1&&"markDefs"in v.properties&&v.properties._type===n.block.name&&Array.isArray(v.properties.markDefs)&&v.properties.markDefs.length>0&&v.path[0]-1>=0){const[y,b]=Z.node(o,[v.path[0]-1]);if(zv("Copying markDefs over to merged block",v),o.isTextBlock(y)){const x=Array.isArray(y.markDefs)&&y.markDefs||[],_=la([...x,...v.properties.markDefs]);Br(_,y.markDefs)||(De.setNodes(o,{markDefs:_},{at:b,voids:!1}),o.onChange())}}if(v.type==="split_node"&&v.path.length===1&&Pt.isElementProps(v.properties)&&v.properties._type===n.block.name&&"markDefs"in v.properties&&Array.isArray(v.properties.markDefs)&&v.properties.markDefs.length>0&&v.path[0]+1<o.children.length){const[y,b]=Z.node(o,[v.path[0]+1]);if(zv("Copying markDefs over to split block",v),o.isTextBlock(y)){const x=Array.isArray(y.markDefs)&&y.markDefs||[];De.setNodes(o,{markDefs:la([...x,...v.properties.markDefs])},{at:b,voids:!1}),o.onChange()}}if(v.type==="split_node"&&v.path.length===2&&v.properties._type===n.span.name&&"marks"in v.properties&&Array.isArray(v.properties.marks)&&v.properties.marks.length>0&&v.path[0]+1<o.children.length){const[y,b]=Z.node(o,[v.path[0]+1,0]);wt.isText(y)&&y.text===""&&Array.isArray(y.marks)&&y.marks.length>0&&(De.setNodes(o,{marks:[]},{at:b,voids:!1}),o.onChange())}if(v.type==="split_node"&&v.path.length===1&&v.properties._type===n.block.name&&"markDefs"in v.properties&&Array.isArray(v.properties.markDefs)&&v.properties.markDefs.length>0){const[y,b]=Z.node(o,[v.path[0]]);o.isTextBlock(y)&&y.children.length===1&&y.markDefs&&y.markDefs.length>0&&wt.isText(y.children[0])&&y.children[0].text===""&&(!y.children[0].marks||y.children[0].marks.length===0)&&(De.setNodes(o,{markDefs:[]},{at:b}),o.onChange())}}m&&Array.isArray(f.marks)&&(!f.marks||f.marks.length>0&&f.text==="")&&(De.setNodes(o,{marks:[]},{at:h,voids:!1}),o.onChange())}g&&o.operations.some(v=>["split_node","remove_node","remove_text","merge_node"].includes(v.type))&&Mqe(o,n)},o.apply=u=>{var f,h;if(u.type==="insert_text"){const{selection:m}=o;if(m&&Ne.isCollapsed(m)&&((h=(f=Z.marks(o))==null?void 0:f.marks)!=null&&h.some(g=>!l.includes(g)))){const[g]=Array.from(Z.nodes(o,{mode:"lowest",at:m.focus,match:v=>v._type===n.span.name,voids:!1}))[0]||[void 0];if(wt.isText(g)&&g.text.length===m.focus.offset&&Array.isArray(g.marks)&&g.marks.length>0){s(u),De.splitNodes(o,{match:wt.isText,at:{...m.focus,offset:m.focus.offset}});const v=({...Z.marks(o)||{}}.marks||[]).filter(y=>l.includes(y));De.setNodes(o,{marks:v},{at:Ce.next(m.focus.path)}),zv("Inserting text at end of annotation");return}}}s(u)},o.addMark=u=>{if(o.selection){if(Ne.isExpanded(o.selection)){De.setNodes(o,{},{match:wt.isText,split:!0});const f=[...Z.nodes(o,{at:o.selection,match:wt.isText})];if(Ji(f.map(m=>m[0]).map(m=>m.marks)).includes(u))return o.removeMark(u),o;Z.withoutNormalizing(o,()=>{f.forEach(m=>{let[g,v]=m;const y=[...(Array.isArray(g.marks)?g.marks:[]).filter(b=>b!==u),u];De.setNodes(o,{marks:y},{at:v,match:wt.isText,split:!0,hanging:!0})})}),Z.normalize(o)}else{const f={...Z.marks(o)||{}}.marks||[],h={...Z.marks(o)||{},marks:[...f,u]};return o.marks=h,c(),o}o.onChange(),c()}return o},o.removeMark=u=>{const{selection:f}=o;if(f){if(Ne.isExpanded(f))Z.withoutNormalizing(o,()=>{De.setNodes(o,{},{match:wt.isText,split:!0}),o.selection&&[...Z.nodes(o,{at:o.selection,match:wt.isText})].forEach(m=>{let[g,v]=m;const y=o.children[v[0]];Pt.isElement(y)&&y.children.includes(g)&&De.setNodes(o,{marks:(Array.isArray(g.marks)?g.marks:[]).filter(b=>b!==u),_type:"span"},{at:v})})}),Z.normalize(o);else{const h={...Z.marks(o)||{}}.marks||[],m={...Z.marks(o)||{},marks:h.filter(g=>g!==u)};return o.marks={marks:m.marks,_type:"span"},c(),o}o.onChange(),c()}return o},o.pteIsMarkActive=u=>{if(!o.selection)return!1;let f={...Z.marks(o)||{}}.marks||[];return Ne.isExpanded(o.selection)&&Array.from(Z.nodes(o,{match:wt.isText,at:o.selection})).forEach(h=>{const[m]=h;f=la([...f,...m.marks||[]])}),f.includes(u)},o.pteToggleMark=u=>{o.pteIsMarkActive(u)?(zv("Remove mark '".concat(u,"'")),Z.removeMark(o,u)):(zv("Add mark '".concat(u,"'")),Z.addMark(o,u,!0))},o};function r(i){const{selection:o}=i;if(o)for(const[s,a]of Array.from(Z.nodes(i,{at:Z.range(i,[o.anchor.path[0]],[o.focus.path[0]])})).reverse()){const[l]=a.length>1?Z.node(i,Ce.parent(a)):[void 0],c=[a[0],a[1]+1];if(i.isTextBlock(l)){const u=l.children[c[1]];wt.isText(s)&&wt.isText(u)&&Br(u.marks,s.marks)&&(zv("Merging spans"),De.mergeNodes(i,{at:c,voids:!0}),i.onChange())}}}}function Mqe(n,e){const{selection:r}=n;if(r){const i=Z.nodes(n,{at:r,match:o=>o._type===e.block.name});for(const[o,s]of i)if(n.isTextBlock(o)){const a=(o.markDefs||[]).filter(l=>o.children.find(c=>wt.isText(c)&&Array.isArray(c.marks)&&c.marks.includes(l._key)));Br(a,o.markDefs)||(zv("Removing markDef not in use"),De.setNodes(n,{markDefs:a},{at:s}),n.onChange())}}}const _k=Rs("API:editable");function Vgn(n,e,r){return function(o){return n.setEditable({focus:()=>{qe.focus(o)},blur:()=>{qe.blur(o)},toggleMark:s=>{o.pteToggleMark(s)},toggleList:s=>{o.pteToggleListItem(s)},toggleBlockStyle:s=>{o.pteToggleBlockStyle(s)},isMarkActive:s=>{try{return o.pteIsMarkActive(s)}catch(a){return console.warn(a),!1}},marks:()=>({...Z.marks(o)||{}}).marks||[],undo:()=>o.undo(),redo:()=>o.redo(),select:s=>{const a=fb(s,o);a?De.select(o,a):De.deselect(o),o.onChange()},focusBlock:()=>{if(o.selection){const s=vt.descendant(o,o.selection.focus.path.slice(0,1));if(s)return Bo([s],e.block.name,Fd.get(o))[0]}},focusChild:()=>{if(o.selection){const s=vt.descendant(o,o.selection.focus.path.slice(0,1));if(s&&o.isTextBlock(s))return Bo([s],e.block.name,Fd.get(o))[0].children[o.selection.focus.path[1]]}},insertChild:(s,a)=>{var l;if(!o.selection)throw new Error("The editor has no selection");const[c]=Array.from(Z.nodes(o,{at:o.selection.focus.path.slice(0,1),match:v=>v._type===e.block.name}))[0]||[void 0];if(!c)throw new Error("No focused text block");if(s.name!==e.span.name&&!e.inlineObjects.some(v=>v.name===s.name))throw new Error("This type cannot be inserted as a child to a text block");const f=Lp([{_key:r(),_type:e.block.name,children:[{_key:r(),_type:s.name,...a||{}}]}],n)[0].children[0],h=o.selection.focus.path.slice(0,2),m=f._type===e.span.name,g=vt.get(o,h);return m&&g._type!==e.span.name&&(_k("Inserting span child next to inline object child, moving selection + 1"),o.move({distance:1,unit:"character"})),De.insertNodes(o,f,{select:!0,at:o.selection}),o.onChange(),((l=I0(Bo(o.children,e.block.name,Fd.get(o)),o.selection,e))==null?void 0:l.focus.path)||[]},insertBlock:(s,a)=>{var l;if(!o.selection)throw new Error("The editor has no selection");const c=Lp([{_key:r(),_type:s.name,...a||{}}],n)[0],[u]=Array.from(Z.nodes(o,{at:o.selection.focus.path.slice(0,1),match:h=>h._type===e.block.name}))[0]||[void 0];return u&&M5([u],e)&&De.removeNodes(o,{at:o.selection}),Z.insertNode(o,c),o.onChange(),((l=I0(Bo(o.children,e.block.name,Fd.get(o)),o.selection,e))==null?void 0:l.focus.path)||[]},hasBlockStyle:s=>{try{return o.pteHasBlockStyle(s)}catch{return!1}},hasListStyle:s=>{try{return o.pteHasListStyle(s)}catch{return!1}},isVoid:s=>![e.block.name,e.span.name].includes(s._type),findByPath:s=>{const a=fb({focus:{path:s,offset:0},anchor:{path:s,offset:0}},o);if(a){const[l,c]=Z.node(o,a.focus.path.slice(0,1));if(l&&c&&typeof l._key=="string"){if(s.length===1&&a.focus.path.length===1)return[Bo([l],e.block.name)[0],[{_key:l._key}]];const u=Bo([l],e.block.name,Fd.get(o))[0];if(o.isTextBlock(u)){const f=u.children[a.focus.path[1]];if(f)return[f,[{_key:l._key},"children",{_key:f._key}]]}}}return[void 0,void 0]},findDOMNode:s=>{let a;try{const[l]=Array.from(Z.nodes(o,{at:[],match:c=>c._key===s._key})||[])[0]||[void 0];a=qe.toDOMNode(o,l)}catch{}return a},activeAnnotations:()=>{var s;if(!o.selection||o.selection.focus.path.length<2)return[];try{const a=[],l=Z.nodes(o,{at:o.selection,match:c=>wt.isText(c)&&c.marks!==void 0&&Array.isArray(c.marks)&&c.marks.length>0});for(const[c,u]of l){const[f]=Z.node(o,u,{depth:1});o.isTextBlock(f)&&((s=f.markDefs)==null||s.forEach(h=>{wt.isText(c)&&c.marks&&Array.isArray(c.marks)&&c.marks.includes(h._key)&&a.push(h)}))}return a}catch{return[]}},addAnnotation:(s,a)=>{const{selection:l}=o;if(l){const[c]=Z.node(o,l.focus,{depth:1});if(Pt.isElement(c)&&c._type===e.block.name){const u=r();if(o.isTextBlock(c)){De.setNodes(o,{markDefs:[...c.markDefs||[],{_type:s.name,_key:u,...a}]},{at:l.focus}),o.onChange(),Ne.isCollapsed(l)&&(o.pteExpandToWord(),o.onChange());const[f]=Z.node(o,l.focus,{depth:2});if(o.selection){Z.withoutNormalizing(o,()=>{De.setNodes(o,{},{match:wt.isText,split:!0}),o.selection&&wt.isText(f)&&(De.setNodes(o,{marks:[...f.marks||[],u]},{at:o.selection,match:m=>m._type===e.span.name}),o.onChange())}),Z.normalize(o),o.onChange();const h=I0(Bo(o.children,e.block.name,Fd.get(o)),o.selection,e);if(h&&typeof c._key=="string")return Z.withoutNormalizing(o,()=>{o.selection&&(De.insertNodes(o,[{_type:"span",text:"",marks:[],_key:r()}],{at:Ne.end(o.selection)}),o.onChange())}),{spanPath:h.focus.path,markDefPath:[{_key:c._key},"markDefs",{_key:u}]}}}}}},delete:(s,a)=>{if(s){const l=fb(s,o);if(!(l&&l.anchor.path.length>0&&l.focus.path.length>0))throw new Error("Invalid range");if(l){if(!(a!=null&&a.mode)||(a==null?void 0:a.mode)==="selected"){_k("Deleting content in selection"),De.delete(o,{at:l,hanging:!0,voids:!0}),o.onChange();return}(a==null?void 0:a.mode)==="blocks"&&(_k("Deleting blocks touched by selection"),De.removeNodes(o,{at:l,voids:!0,match:u=>o.isTextBlock(u)||!o.isTextBlock(u)&&Pt.isElement(u)})),(a==null?void 0:a.mode)==="children"&&(_k("Deleting children touched by selection"),De.removeNodes(o,{at:l,voids:!0,match:u=>u._type===e.span.name||!o.isTextBlock(u)&&Pt.isElement(u)})),o.children.length===0&&(o.children=[o.createPlaceholderBlock()]),o.onChange()}}},removeAnnotation:s=>{let{selection:a}=o;if(_k("Removing annotation",s),a){if(Ne.isCollapsed(a)){const[l,c]=Z.node(o,a,{depth:2});wt.isText(l)&&l.marks&&typeof l.text=="string"&&(De.select(o,c),a=o.selection)}Z.withoutNormalizing(o,()=>{if(a&&Ne.isExpanded(a)){if(a=o.selection,!a)return;[...Z.nodes(o,{at:a,match:c=>o.isTextBlock(c)&&Array.isArray(c.markDefs)&&c.markDefs.some(u=>u._type===s.name)})].forEach(c=>{let[u]=c;o.isTextBlock(u)&&Array.isArray(u.markDefs)&&u.markDefs.filter(h=>h._type===s.name).forEach(h=>{Z.removeMark(o,h._key)})}),Mqe(o,e)}}),Z.normalize(o),o.onChange()}},getSelection:()=>{let s=null;if(o.selection){const a=cF.get(o.selection);if(a)return a;s=I0(Bo(o.children,e.block.name,Fd.get(o)),o.selection,e),cF.set(o.selection,s)}return s},getValue:()=>Bo(o.children,e.block.name,Fd.get(o)),isCollapsedSelection:()=>!!o.selection&&Ne.isCollapsed(o.selection),isExpandedSelection:()=>!!o.selection&&Ne.isExpanded(o.selection),insertBreak:()=>{o.insertBreak(),o.onChange()},getFragment:()=>Bo(o.getFragment(),e.block.name),isSelectionsOverlapping:(s,a)=>{const l=fb(s,o),c=fb(a,o);return Ne.isRange(l)&&Ne.isRange(c)&&Ne.includes(l,c)}}),o}}function Hgn(n){return function(r){const{apply:i}=r;return r.apply=o=>{const s=n;s>0&&r.children.length>=s&&(o.type==="insert_node"||o.type==="split_node")&&o.path.length===1||i(o)},r}}const dF=new WeakMap;function jx(n,e){const r=TK(n);dF.set(n,!0),e(),dF.set(n,r)}function TK(n){return dF.get(n)}function Wgn(n,e){return function(i){dF.set(i,!1);const{apply:o,normalizeNode:s}=i;return i.apply=a=>{if(a.type==="split_node"){const l=!TK(i)||!("_key"in a.properties);a.properties={...a.properties,...l?{_key:e()}:{}}}if(a.type==="insert_node"){const l=!TK(i)||!("_key"in a.node);Z.isEditor(a.node)||(a.node={...a.node,...l?{_key:e()}:{}})}o(a)},i.normalizeNode=a=>{const[l,c]=a;if(Pt.isElement(l)&&l._type===n.block.name){l._key||De.setNodes(i,{_key:e()},{at:c});for(const[u,f]of vt.children(i,c))if(!u._key){De.setNodes(i,{_key:e()},{at:f});return}}s(a)},i}}const l0e="before",c0e="after";function Ggn(n,e,r){if(e!==l0e&&e!==c0e)throw new Error('Invalid position "'.concat(e,'", must be either ').concat(l0e," or ").concat(c0e));for(var i=arguments.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=arguments[s];const a=u0e(...o);if(n.length===0)return a;const l=n.length,c=Math.abs((l+r)%l)%l,u=e==="after"?c+1:c,f=n.slice();return f.splice(u,0,...u0e(a)),f}function u0e(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return e.reduce((i,o)=>i.concat(o),[])}const d0e=Object.prototype.hasOwnProperty.call.bind(Object.prototype.hasOwnProperty);function qgn(n,e,r){const i=n.slice(),o=i[e];return i.splice(e,1),i.splice(r,0,o),i}function Kgn(n,e){if(typeof e=="number")return e;const r=$ne(n,e);return r===-1?!1:r}function Ygn(n,e){const r=n.slice();if(e.path.length===0){if(e.type==="setIfMissing"){if(!Array.isArray(e.value))throw new Error("Cannot set value of an array to a non-array");return n===void 0?e.value:n}else if(e.type==="set"){if(!Array.isArray(e.value))throw new Error("Cannot set value of an array to a non-array");return e.value}else{if(e.type==="unset")return;if(e.type==="move"){if(!e.value||!d0e(e.value,"from")||!d0e(e.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(e.value)));return qgn(r,e.value.from,e.value.to)}}throw new Error("Invalid array operation: ".concat(e.type))}const[i,...o]=e.path,s=Kgn(n,i);if(s===!1)return r;if(o.length===0){if(e.type==="insert"){const{position:a,items:l}=e;return Ggn(n,a,s,l)}else if(e.type==="unset"){if(typeof s!="number")throw new Error('Expected array index to be a number, instead got "'.concat(s,'"'));return r.splice(s,1),r}}return r[s]=Vne(r[s],{...e,path:o}),r}function Zgn(n,e){const r=yqe(n);if(e.path.length===0){if(e.type==="set"){if(!X4(e.value))throw new Error("Cannot set value of an object to a non-object");return e.value}else{if(e.type==="unset")return;if(e.type==="setIfMissing")return n===void 0?e.value:n}throw new Error("Invalid object operation: ".concat(e.type))}const[i,...o]=e.path;if(typeof i!="string")throw new Error("Expected field name to be a string, instad got: ".concat(i));return o.length===0&&e.type==="unset"?Cc(r,i):(r[i]=Vne(r[i],{...e,path:o}),r)}const Fqe={replace(n,e){return e},set(n,e){return e},setIfMissing(n,e){return n===void 0?e:n},unset(n,e){},inc(n,e){return n+e},dec(n,e){return n-e}},Xgn=Object.keys(Fqe);function Qgn(n,e){if(!Xgn.includes(e.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(e.type),'" for primitives. This is most likely a bug.'));if(e.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(e.type,'" and path "').concat(e.path.map(r=>JSON.stringify(r)).join("."),' that targeted the value "').concat(JSON.stringify(n),'"'));return Fqe[e.type](n,e.value)}const Nqe={replace(n,e){return e},set(n,e){return e},setIfMissing(n,e){return n===void 0?e:n},unset(n,e){},diffMatchPatch(n,e){const[r]=Lqe(zne(e),n,{allowExceedingIndices:!0});return r}},Jgn=Object.keys(Nqe);function evn(n,e){if(!Jgn.includes(e.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(e.type),'" for string. This is most likely a bug.'));if(e.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(e.type,'" and path "').concat(e.path.join("."),' that targeted the value "').concat(JSON.stringify(n),'"'));const r=Nqe[e.type];if(r)return r(n,e.value);throw new Error("Unknown patch type")}function tvn(n,e){return e.reduce(Vne,n)}function nvn(n,e){return Array.isArray(n)?Ygn(n,e):o8(n)?evn(n,e):X4(n)?Zgn(n,e):Qgn(n,e)}function Vne(n,e){return nvn(n,e)}const Ho=Rs("applyPatches"),Hne=Ho.enabled&&!0;function rvn(n){let e;return function(r,i){let o=!1;Hne&&(Ho(`

NEW PATCH =============================================================`),Ho(JSON.stringify(i,null,2)));try{switch(i.type){case"insert":o=ovn(r,i,n);break;case"unset":o=avn(r,i,e);break;case"set":o=svn(r,i);break;case"diffMatchPatch":o=ivn(r,i);break;default:Ho("Unhandled patch",i.type)}}catch(s){console.error(s)}return e=i,o}}function ivn(n,e){const{block:r,child:i,childPath:o}=eN(n,e.path);if(!r)return Ho("Block not found"),!1;if(!i||!o)return Ho("Child not found"),!1;if(!(r&&n.isTextBlock(r)&&e.path.length===4&&e.path[1]==="children"&&e.path[3]==="text")||!wt.isText(i))return!1;const a=zne(e.value),[l]=Lqe(a,i.text,{allowExceedingIndices:!0}),c=Oqe(Nne(i.text,l),5);cu(n,"before");let u=0;for(const[f,h]of c)f===Do?(n.apply({type:"insert_text",path:o,offset:u,text:h}),u+=h.length):f===Qi?n.apply({type:"remove_text",path:o,offset:u,text:h}):f===sr&&(u+=h.length);return cu(n,"after"),!0}function ovn(n,e,r){const{block:i,child:o,blockPath:s,childPath:a}=eN(n,e.path);if(!i||!s)return Ho("Block not found"),!1;if(e.path.length>1&&e.path[1]!=="children")return Ho("Ignoring patch targeting void value"),!1;if(e.path.length===1){const{items:g,position:v}=e,y=Lp(g,{schemaTypes:r},SK.get(n)),b=s[0],x=v==="after"?b+1:b;return Ho("Inserting blocks at path [".concat(x,"]")),cu(n,"before"),De.insertNodes(n,y,{at:[x]}),cu(n,"after"),!0}const{items:l,position:c}=e;if(!o||!a)return Ho("Child not found"),!1;const u=i&&Lp([{...i,children:l}],{schemaTypes:r},SK.get(n)),f=a[1],h=c==="after"?f+1:f,m=[a[0],h];return Ho("Inserting children at path ".concat(m)),cu(n,"before"),u&&Pt.isElement(u[0])&&De.insertNodes(n,u[0].children,{at:m}),cu(n,"after"),!0}function svn(n,e){let r=e.value;typeof e.path[3]=="string"&&(r={},r[e.path[3]]=e.value);const{block:i,blockPath:o,child:s,childPath:a}=eN(n,e.path);if(!i)return Ho("Block not found"),!1;const l=n.isTextBlock(i);if(l&&e.path.length>1&&e.path[1]!=="children")return Ho("Ignoring setting void value"),!1;if(cu(n,"before"),l&&s&&a){if(wt.isText(r)&&wt.isText(s)){const c=s.text;r.text!==c&&(Ho("Setting text property"),n.apply({type:"remove_text",path:a,offset:0,text:c}),n.apply({type:"insert_text",path:a,offset:0,text:r.text}),n.onChange())}else Ho("Setting non-text property"),n.apply({type:"set_node",path:a,properties:{},newProperties:r});return!0}else if(Pt.isElement(i)&&e.path.length===1&&o){Ho("Setting block property");const{children:c,...u}=r,{children:f,...h}=i||{children:void 0};n.apply({type:"set_node",path:o,properties:{...h},newProperties:u}),Ho("Setting children"),i.children.forEach((m,g)=>{n.apply({type:"remove_node",path:o.concat(i.children.length-1-g),node:m})}),Array.isArray(c)&&c.forEach((m,g)=>{n.apply({type:"insert_node",path:o.concat(g),node:m})})}else if(i&&"value"in i){const c=tvn([i.value],[e])[0];return De.setNodes(n,{...i,value:c},{at:o}),!0}return cu(n,"after"),!0}function avn(n,e,r){if(e.path.length===0){Ho("Removing everything"),cu(n,"before");const l=n.selection;return De.deselect(n),n.children.forEach((c,u)=>{De.removeNodes(n,{at:[u]})}),De.insertNodes(n,n.createPlaceholderBlock()),l&&De.select(n,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),n.onChange(),cu(n,"after"),!0}const{block:i,blockPath:o,child:s,childPath:a}=eN(n,e.path);if(e.path.length===1){if(!i||!o)return Ho("Block not found"),!1;const l=o[0];return Ho("Removing block at path [".concat(l,"]")),cu(n,"before"),De.removeNodes(n,{at:[l]}),cu(n,"after"),!0}return n.isTextBlock(i)&&e.path[1]==="children"&&e.path.length===3?!s||!a?(Ho("Child not found"),!1):(Ho("Unsetting child at path ".concat(JSON.stringify(a))),cu(n,"before"),Hne&&Ho("Removing child at path ".concat(JSON.stringify(a))),De.removeNodes(n,{at:a}),cu(n,"after"),!0):!1}function Bqe(n){return typeof n=="object"&&"_key"in n}function cu(n,e){Hne&&(Ho("Children ".concat(e,":"),JSON.stringify(n.children,null,2)),Ho("Selection ".concat(e,": "),JSON.stringify(n.selection,null,2)))}function lvn(n,e){let r=-1;const i=n.children.find((o,s)=>{const a=Bqe(e[0])?o._key===e[0]._key:s===e[0];return a&&(r=s),a});return i?{block:i,path:[r]}:{}}function eN(n,e){const{block:r,path:i}=lvn(n,e);if(!(Pt.isElement(r)&&e[1]==="children"))return{block:r,blockPath:i,child:void 0,childPath:void 0};let o=-1;const s=r.children.find((a,l)=>{const c=Bqe(e[2])?a._key===e[2]._key:l===e[2];return c&&(o=l),c});return s?{block:r,child:s,blockPath:i,childPath:i==null?void 0:i.concat(o)}:{block:r,blockPath:i,child:void 0,childPath:void 0}}function Uqe(n,e){const r=zqe(n)||!1;lF.set(n,!0),e(),lF.set(n,r)}function zqe(n){return lF.get(n)}function cvn(n){return LL.get(n)}const fF=new WeakMap;function AK(n,e){const r=Vqe(n);fF.set(n,!1),e(),fF.set(n,r)}function Vqe(n){return fF.get(n)}const ll=Rs("plugin:withUndoRedo"),f0e=ll.enabled&&!1,eC=new WeakMap,Uz=new WeakMap,uvn=1e3,Hqe=n=>{const e=eC.get(n);return e===void 0?!0:e},dvn=n=>(Uz.get(n)||Uz.set(n,[]),Uz.get(n)||[]);function fvn(n){const{readOnly:e,patches$:r,blockSchemaType:i}=n;return o=>{let s=Bo(o.children,i.name);const a=dvn(o);r&&o.subscriptions.push(()=>{ll("Subscribing to patches");const c=r.subscribe(u=>{let{patches:f,snapshot:h}=u,m=!1;f.forEach(g=>{if(!m&&g.origin!=="local"&&a){if(g.type==="unset"&&g.path.length===0){ll("Someone else cleared the content, resetting undo/redo history"),o.history={undos:[],redos:[]},a.splice(0,a.length),eC.set(o,!0),m=!0;return}a.push({patch:g,time:new Date,snapshot:h,previousSnapshot:s})}}),s=h});return()=>{ll("Unsubscribing to patches"),c.unsubscribe()}}),o.history={undos:[],redos:[]};const{apply:l}=o;return o.apply=c=>{if(e){l(c);return}const{operations:u,history:f}=o,{undos:h}=f,m=h[h.length-1],g=m&&m.operations&&m.operations[m.operations.length-1],v=pvn(c,g),y=Hqe(o);let b=!0;if(y){if(m?u.length===0&&(b=hvn(c,g)||v):b=!1,m&&b)m.operations.push(c);else{const x={operations:[...o.selection===null?[]:[gvn(o)],c],timestamp:new Date};h.push(x),ll("Created new undo step",m)}for(;h.length>uvn;)h.shift();mvn(c)&&(f.redos=[])}l(c)},o.undo=()=>{if(e)return;const{undos:c}=o.history;if(c.length>0){const u=c[c.length-1];if(ll("Undoing",u),u.operations.length>0){const f=a.filter(m=>m.time>=u.timestamp);let h=u.operations;f.forEach(m=>{h=Ji(h.map(g=>h0e(o,m.patch,g,m.snapshot,m.previousSnapshot)))});try{Z.withoutNormalizing(o,()=>{jx(o,()=>{F5(o,()=>{h.map(SE.inverse).reverse().forEach(m=>{o.apply(m)})})})}),o.normalize(),o.onChange()}catch(m){ll("Could not perform undo step",m),a.splice(0,a.length),De.deselect(o),o.history={undos:[],redos:[]},eC.set(o,!0),o.onChange();return}o.history.redos.push(u),o.history.undos.pop()}}},o.redo=()=>{if(e)return;const{redos:c}=o.history;if(c.length>0){const u=c[c.length-1];if(ll("Redoing",u),u.operations.length>0){const f=a.filter(m=>m.time>=u.timestamp);let h=u.operations;f.forEach(m=>{h=Ji(h.map(g=>h0e(o,m.patch,g,m.snapshot,m.previousSnapshot)))});try{Z.withoutNormalizing(o,()=>{jx(o,()=>{F5(o,()=>{h.forEach(m=>{o.apply(m)})})})}),o.normalize(),o.onChange()}catch(m){ll("Could not perform redo step",m),a.splice(0,a.length),De.deselect(o),o.history={undos:[],redos:[]},eC.set(o,!0),o.onChange();return}o.history.undos.push(u),o.history.redos.pop()}}},o}}function h0e(n,e,r,i,o){f0e&&(ll("Adjusting '".concat(r.type,"' operation paths for '").concat(e.type,"' patch")),ll("Operation ".concat(JSON.stringify(r))),ll("Patch ".concat(JSON.stringify(e))));const s={...r};if(e.type==="insert"&&e.path.length===1){const a=(i||[]).findIndex(l=>Br({_key:l._key},e.path[0]));return ll("Adjusting block path (+".concat(e.items.length,") for '").concat(s.type,"' operation and patch '").concat(e.type,"'")),[p0e(s,e.items.length,a)]}if(e.type==="unset"&&e.path.length===1){const a=(o||[]).findIndex(l=>Br({_key:l._key},e.path[0]));return"path"in s&&Array.isArray(s.path)&&s.path[0]===a?(ll("Skipping transformation that targeted removed block"),[]):(f0e&&(ll("Selection ".concat(JSON.stringify(n.selection))),ll("Adjusting block path (-1) for '".concat(s.type,"' operation and patch '").concat(e.type,"'"))),[p0e(s,-1,a)])}if(e.type==="unset"&&e.path.length===0)return ll("Adjusting selection for unset everything patch and ".concat(r.type," operation")),[];if(e.type==="diffMatchPatch"){const a=vvn(n,s);return!a||!Br({_key:a._key},e.path[0])?[s]:(zne(e.value).forEach(c=>{var u,f,h,m;let g=0,v=c.utf8Start1;const{diffs:y}=c;if(y.forEach((b,x)=>{const[_,w]=b;_===Do?(g+=w.length,v+=w.length):_===Qi?(g-=w.length,v-=w.length):_===sr&&(y.slice(x).every(C=>{let[S]=C;return S===sr})||(v+=w.length))}),s.type==="insert_text"&&v<s.offset&&(s.offset+=g),s.type==="remove_text"&&v<=s.offset-s.text.length&&(s.offset+=g),s.type==="set_selection"){const b=(u=s.properties)!=null&&u.focus?{...s.properties.focus}:void 0,x=(f=s==null?void 0:s.properties)!=null&&f.anchor?{...s.properties.anchor}:void 0,_=(h=s==null?void 0:s.newProperties)!=null&&h.focus?{...s.newProperties.focus}:void 0,w=(m=s==null?void 0:s.newProperties)!=null&&m.anchor?{...s.newProperties.anchor}:void 0;(b&&x||_&&w)&&([b,x,_,w].forEach(S=>{S&&v<S.offset&&(S.offset+=g)}),b&&x&&(s.properties={focus:b,anchor:x}),_&&w&&(s.newProperties={focus:_,anchor:w}))}}),[s])}return[s]}function p0e(n,e,r){var i,o,s,a;const l={...n};if(r>=0&&l.type!=="set_selection"&&Array.isArray(l.path)&&l.path[0]>=r+e&&l.path[0]+e>-1){const c=[l.path[0]+e,...l.path.slice(1)];l.path=c}if(l.type==="set_selection"){const c=(i=l.properties)!=null&&i.focus?{...l.properties.focus}:void 0,u=(o=l==null?void 0:l.properties)!=null&&o.anchor?{...l.properties.anchor}:void 0,f=(s=l==null?void 0:l.newProperties)!=null&&s.focus?{...l.newProperties.focus}:void 0,h=(a=l==null?void 0:l.newProperties)!=null&&a.anchor?{...l.newProperties.anchor}:void 0;(c&&u||f&&h)&&([c,u,f,h].forEach(g=>{g&&g.path[0]>=r+e&&g.path[0]+e>-1&&(g.path=[g.path[0]+e,...g.path.slice(1)])}),c&&u&&(l.properties={focus:c,anchor:u}),f&&h&&(l.newProperties={focus:f,anchor:h}))}return l}const hvn=(n,e)=>!!(n.type==="set_selection"||e&&n.type==="insert_text"&&e.type==="insert_text"&&n.offset===e.offset+e.text.length&&Ce.equals(n.path,e.path)&&n.text!==" "||e&&n.type==="remove_text"&&e.type==="remove_text"&&n.offset+n.text.length===e.offset&&Ce.equals(n.path,e.path)),pvn=(n,e)=>!!(e&&n.type==="set_selection"&&e.type==="set_selection"),mvn=n=>n.type!=="set_selection";function F5(n,e){const r=Hqe(n);eC.set(n,!1),e(),eC.set(n,r)}function gvn(n){return{type:"set_selection",properties:{...n.selection},newProperties:{...n.selection}}}function vvn(n,e){let r;return e.type==="set_selection"&&n.selection?r=n.children[n.selection.focus.path[0]]:"path"in e&&(r=n.children[e.path[0]]),r}const pP=Rs("plugin:withPatches");function yvn(n){let{change$:e,patches$:r,patchFunctions:i,readOnly:o,schemaTypes:s}=n,a;const l=rvn(s);return function(u){lF.set(u,!1),fF.set(u,!0),a=[...u.children];const{apply:f}=u;let h=[];const m=()=>{if(h.length===0)return;const v=h;h=[];let y=!1;Uqe(u,()=>{Z.withoutNormalizing(u,()=>{AK(u,()=>{F5(u,()=>{jx(u,()=>{v.forEach(b=>{pP.enabled&&pP("Handling remote patch ".concat(JSON.stringify(b))),y=l(u,b)})})})})}),y&&(u.normalize(),u.onChange())})},g=v=>{let{patches:y}=v;const b=y.filter(x=>x.origin!=="local");b.length!==0&&(h=h.concat(b),m())};return r&&u.subscriptions.push(()=>{pP("Subscribing to patches$");const v=r.subscribe(g);return()=>{pP("Unsubscribing to patches$"),v.unsubscribe()}}),u.apply=v=>{if(o)return f(v),u;let y=[];a=u.children;const b=M5(a,s);f(v);const x=M5(u.children,s);if(!Vqe(u))return u;switch(b&&!x&&v.type!=="set_selection"&&y.push(Km(a,"before",[0])),v.type){case"insert_text":y=[...y,...i.insertTextPatch(u,v,a)];break;case"remove_text":y=[...y,...i.removeTextPatch(u,v,a)];break;case"remove_node":y=[...y,...i.removeNodePatch(u,v,a)];break;case"split_node":y=[...y,...i.splitNodePatch(u,v,a)];break;case"insert_node":y=[...y,...i.insertNodePatch(u,v,a)];break;case"set_node":y=[...y,...i.setNodePatch(u,v,a)];break;case"merge_node":y=[...y,...i.mergeNodePatch(u,v,a)];break;case"move_node":y=[...y,...i.moveNodePatch(u,v,a)];break}return!b&&x&&["merge_node","set_node","remove_text","remove_node"].includes(v.type)&&(y=[...y,zl([])],e.next({type:"unset",previousValue:Bo(a,s.block.name,Fd.get(u))})),b&&y.length>0&&(y=[$qe([],[]),...y]),y.length>0&&y.forEach(_=>{e.next({type:"patch",patch:{..._,origin:"local"}})}),u},u}}const bvn=Rs("plugin:withPlaceholderBlock");function xvn(n){let{schemaTypes:e,keyGenerator:r}=n;return function(o){return o.createPlaceholderBlock=()=>(bvn("Creating placeholder block"),{_type:e.block.name,_key:r(),style:e.styles[0].value||"normal",markDefs:[],children:[{_type:"span",_key:r(),text:"",marks:[]}]}),o}}const mP=Rs("plugin:withPortableTextBlockStyle");function wvn(n){const e=n.styles[0].value;return function(i){const{normalizeNode:o}=i;return i.normalizeNode=s=>{o(s);const[,a]=s;for(const l of i.operations)if(l.type==="split_node"&&l.path.length===1&&i.isTextBlock(l.properties)&&l.properties.style!==e&&l.path[0]===a[0]&&!Ce.equals(a,l.path)){const[c]=Z.node(i,[l.path[0]+1,0]);if(wt.isText(c)&&c.text===""){mP("Normalizing split node to ".concat(e," style"),l),De.setNodes(i,{style:e},{at:[l.path[0]+1],voids:!1});break}}},i.pteHasBlockStyle=s=>i.selection?[...Z.nodes(i,{at:i.selection,match:l=>i.isTextBlock(l)&&l.style===s})].length>0:!1,i.pteToggleBlockStyle=s=>{if(!i.selection)return;[...Z.nodes(i,{at:i.selection,match:l=>i.isTextBlock(l)})].forEach(l=>{let[c,u]=l;i.isTextBlock(c)&&c.style===s?(mP("Unsetting block style '".concat(s,"'")),De.setNodes(i,{...c,style:e},{at:u})):(s?mP("Setting style '".concat(s,"'")):mP("Setting default style",e),De.setNodes(i,{...c,style:s||e},{at:u}))}),i.onChange()},i}}const v1=Rs("plugin:withPortableTextLists"),zz=10;function _vn(n){return function(r){return r.pteToggleListItem=i=>{r.pteHasListStyle(i)?(v1("Remove list item '".concat(i,"'")),r.pteUnsetListItem(i)):(v1("Add list item '".concat(i,"'")),r.pteSetListItem(i))},r.pteUnsetListItem=i=>{if(!r.selection)return;[...Z.nodes(r,{at:r.selection,match:s=>Pt.isElement(s)&&s._type===n.block.name})].forEach(s=>{let[a,l]=s;if(r.isListBlock(a)){const{listItem:c,level:u,...f}=a,h={...f,listItem:void 0,level:void 0};v1("Unsetting list '".concat(i,"'")),De.setNodes(r,h,{at:l})}})},r.pteSetListItem=i=>{if(!r.selection)return;[...Z.nodes(r,{at:r.selection,match:s=>r.isTextBlock(s)})].forEach(s=>{let[a,l]=s;v1("Setting list '".concat(i,"'")),De.setNodes(r,{...a,level:1,listItem:i||n.lists[0]&&n.lists[0].value},{at:l})})},r.pteEndList=()=>{if(!r.selection)return!1;const i=[...Z.nodes(r,{at:r.selection,match:o=>Pt.isElement(o)&&r.isListBlock(o)&&o.children.length===1&&wt.isText(o.children[0])&&o.children[0].text===""})];return i.length===0?!1:(i.forEach(o=>{let[s,a]=o;Pt.isElement(s)&&(v1("Unset list"),De.setNodes(r,{...s,level:void 0,listItem:void 0},{at:a}))}),!0)},r.pteIncrementBlockLevels=i=>{if(!r.selection)return!1;const o=[...Z.nodes(r,{at:r.selection,match:s=>!!r.isListBlock(s)})];return o.length===0?!1:(o.forEach(s=>{let[a,l]=s;if(r.isListBlock(a)){let c=a.level||1;i?(c--,v1("Decrementing list level",Math.min(zz,Math.max(1,c)))):(c++,v1("Incrementing list level",Math.min(zz,Math.max(1,c)))),De.setNodes(r,{level:Math.min(zz,Math.max(1,c))},{at:l})}}),!0)},r.pteHasListStyle=i=>r.selection?[...Z.nodes(r,{at:r.selection,match:s=>r.isListBlock(s)&&s.listItem===i})].length>0:!1,r}}const Wqe=Rs("plugin:withPortableTextSelections"),Evn=Wqe.enabled&&!1;function Cvn(n,e){let r=null;return function(o){const s=()=>{if(r!==o.selection){let l=null;if(o.selection){const c=cF.get(o.selection);if(c)l=c;else{const u=o.children;l=I0(u,o.selection,e),cF.set(o.selection,l)}}Evn&&Wqe("Emitting selection ".concat(JSON.stringify(l||null)," (").concat(JSON.stringify(o.selection),")")),l?n.next({type:"selection",selection:l}):n.next({type:"selection",selection:null})}r=o.selection},{onChange:a}=o;return o.onChange=()=>{const l=o.operations.length>0;a(),l&&s()},o}}const Svn=Rs("plugin:withSchemaTypes");function kvn(n){let{schemaTypes:e,keyGenerator:r}=n;return function(o){o.isTextBlock=a=>ka(a)&&a._type===e.block.name,o.isTextSpan=a=>Yl(a)&&a._type==e.span.name,o.isListBlock=a=>Dvt(a)&&a._type===e.block.name,o.isVoid=a=>e.block.name!==a._type&&(e.blockObjects.map(l=>l.name).includes(a._type)||e.inlineObjects.map(l=>l.name).includes(a._type)),o.isInline=a=>e.inlineObjects.map(c=>c.name).includes(a._type)&&"__inline"in a&&a.__inline===!0;const{normalizeNode:s}=o;return o.normalizeNode=a=>{const[l,c]=a;if(l._type===void 0&&c.length===2){Svn("Setting span type on text node without a type");const u=l,f=u._key||r();De.setNodes(o,{...u,_type:e.span.name,_key:f},{at:c})}s(a)},o}}const Vz=Rs("plugin:withUtils");function Tvn(n){return function(r){return r.pteExpandToWord=()=>{const{selection:i}=r;if(i&&!Ne.isExpanded(i)){const[o]=Z.node(r,i.focus,{depth:2});if(!o||!wt.isText(o)||o.text.length===0){Vz("pteExpandToWord: Can't expand to word here");return}const{focus:s}=i,a=s.offset,l=o.text.slice(0,a),c=o.text.slice(a,-1),u=v=>v.match(/\s/g),f=l.split("").reverse().findIndex(v=>u(v)),h=f>-1?l.length-f:0,m=c.split("").findIndex(v=>u(v)),g=l.length+(m>-1?m:c.length+1);if(!(h===g||isNaN(h)||isNaN(g))){Vz("pteExpandToWord: Expanding to focused word"),De.setSelection(r,{anchor:{...i.anchor,offset:h},focus:{...i.focus,offset:g}});return}Vz("pteExpandToWord: Can't expand to word here")}},r}}const Hz=Rs("plugin:withHotKeys"),Avn={marks:{"mod+b":"strong","mod+i":"em","mod+u":"underline","mod+'":"code"},custom:{}};function Ivn(n,e,r,i){const o=["enter","tab","shift","delete","end"],s=i||Avn,a=()=>Lp([{_type:n.block.name,_key:e(),style:"normal",markDefs:[],children:[{_type:"span",_key:e(),text:"",marks:[]}]}],r)[0];return function(c){return c.pteWithHotKeys=u=>{var f,h;Object.keys(s).forEach(_=>{if(_==="marks")for(const w in s[_]){if(o.includes(w))throw new Error("The hotkey ".concat(w," is reserved!"));if(Fl(w,u.nativeEvent)){u.preventDefault();const C=s[_];if(C){const S=C[w];Hz("HotKey ".concat(w," to toggle ").concat(S)),c.pteToggleMark(S)}}}if(_==="custom")for(const w in s[_]){if(o.includes(w))throw new Error("The hotkey ".concat(w," is reserved!"));if(Fl(w,u.nativeEvent)){const C=s[_];if(C){const S=C[w];S(u,r)}}}});const m=Fl("enter",u.nativeEvent),g=Fl("tab",u.nativeEvent),v=Fl("shift+enter",u.nativeEvent),y=Fl("shift+tab",u.nativeEvent),b=Fl("backspace",u.nativeEvent),x=Fl("delete",u.nativeEvent);if(b&&c.selection&&c.selection.focus.path[0]>0&&Ne.isCollapsed(c.selection)){const _=Ce.previous(c.selection.focus.path.slice(0,1)),w=vt.descendant(c,_),C=vt.descendant(c,c.selection.focus.path.slice(0,1));if(w&&C&&Z.isVoid(c,w)&&c.selection.focus.offset===0){Hz("Preventing deleting void block above"),u.preventDefault(),u.stopPropagation();const S=ka(C),T=S&&C.children.length===1&&((h=(f=C.children)==null?void 0:f[0])==null?void 0:h.text)==="";if(!S||T){De.removeNodes(c,{match:A=>A===C}),De.select(c,_),c.onChange();return}if(S&&!T){De.select(c,_),c.onChange();return}return}}if(x&&c.selection&&c.selection.focus.offset===0&&Ne.isCollapsed(c.selection)&&c.children[c.selection.focus.path[0]+1]){const _=vt.descendant(c,Ce.next(c.selection.focus.path.slice(0,1))),w=c.selection.focus.path.slice(0,1),C=vt.descendant(c,w);if(_&&C&&!Z.isVoid(c,C)&&Z.isVoid(c,_)){Hz("Preventing deleting void block below"),u.preventDefault(),u.stopPropagation(),De.removeNodes(c,{match:S=>S===C}),De.select(c,w),c.onChange();return}}if((g||y)&&c.selection){const[_]=Z.node(c,c.selection.focus,{depth:2}),[w]=Yl(_)?Z.node(c,c.selection.focus,{depth:1}):[],C=_&&ka(w)&&Yl(_)&&(_.marks||[]).filter(A=>(w.markDefs||[]).map(I=>I._key).includes(A)).length>0,[S]=Ne.edges(c.selection),T=Z.isStart(c,S,S.path);_&&Yl(_)&&(!C||T)&&c.pteIncrementBlockLevels(y)&&u.preventDefault()}if(m&&!v&&c.selection){const _=c.selection.focus.path.slice(0,1),w=vt.descendant(c,_);if(c.isListBlock(w)){c.pteEndList()&&u.preventDefault();return}if(c.isTextBlock(w)&&w.style&&w.style!==n.styles[0].value){const[,C]=Ne.edges(c.selection);if(Z.isEnd(c,C,C.path)){Z.insertNode(c,a()),u.preventDefault(),c.onChange();return}}if(w&&Z.isVoid(c,w)){Z.insertNode(c,a()),u.preventDefault(),c.onChange();return}u.preventDefault(),c.insertBreak(),c.onChange()}if(v){u.preventDefault(),c.insertText(`
`);return}if(Fl("mod+z",u.nativeEvent)){u.preventDefault(),c.undo();return}(Fl("mod+y",u.nativeEvent)||Fl("mod+shift+z",u.nativeEvent))&&(u.preventDefault(),c.redo())},c}}function hF(n,e,r){let i=null,o=!0;const s=[e.span.name,...e.inlineObjects.map(l=>l.name)],a=[e.block.name,...e.blockObjects.map(l=>l.name)];return n===void 0?{valid:!0,resolution:null,value:n}:!Array.isArray(n)||n.length===0?{valid:!1,resolution:{patches:[zl([])],description:"Editor value must be an array of Portable Text blocks, or undefined.",action:"Unset the value",item:n,i18n:{description:"inputs.portable-text.invalid-value.not-an-array.description",action:"inputs.portable-text.invalid-value.not-an-array.action"}},value:n}:(n.some((l,c)=>{if(!io(l))return i={patches:[zl([c])],description:"Block must be an object, got ".concat(String(l)),action:"Unset invalid item",item:l,i18n:{description:"inputs.portable-text.invalid-value.not-an-object.description",action:"inputs.portable-text.invalid-value.not-an-object.action",values:{index:c}}},!0;if(!l._key||typeof l._key!="string")return i={patches:[Ud({...l,_key:r()},[c])],description:"Block at index ".concat(c," is missing required _key."),action:"Set the block with a random _key value",item:l,i18n:{description:"inputs.portable-text.invalid-value.missing-key.description",action:"inputs.portable-text.invalid-value.missing-key.action",values:{index:c}}},!0;if(!l._type||!a.includes(l._type)){if(l._type==="block"){const u=e.block.name;return i={patches:[Ud({...l,_type:u},[{_key:l._key}])],description:"Block with _key '".concat(l._key,"' has invalid type name '").concat(l._type,"'. According to the schema, the block type name is '").concat(u,"'"),action:"Use type '".concat(u,"'"),item:l,i18n:{description:"inputs.portable-text.invalid-value.incorrect-block-type.description",action:"inputs.portable-text.invalid-value.incorrect-block-type.action",values:{key:l._key,expectedTypeName:u}}},!0}return!l._type&&ka({...l,_type:e.block.name})?(i={patches:[Ud({...l,_type:e.block.name},[{_key:l._key}])],description:"Block with _key '".concat(l._key,"' is missing a type name. According to the schema, the block type name is '").concat(e.block.name,"'"),action:"Use type '".concat(e.block.name,"'"),item:l,i18n:{description:"inputs.portable-text.invalid-value.missing-block-type.description",action:"inputs.portable-text.invalid-value.missing-block-type.action",values:{key:l._key,expectedTypeName:e.block.name}}},!0):l._type?(i={patches:[zl([{_key:l._key}])],description:"Block with _key '".concat(l._key,"' has invalid _type '").concat(l._type,"'"),action:"Remove the block",item:l,i18n:{description:"inputs.portable-text.invalid-value.disallowed-type.description",action:"inputs.portable-text.invalid-value.disallowed-type.action",values:{key:l._key,typeName:l._type}}},!0):(i={patches:[zl([{_key:l._key}])],description:"Block with _key '".concat(l._key,"' is missing an _type property"),action:"Remove the block",item:l,i18n:{description:"inputs.portable-text.invalid-value.missing-type.description",action:"inputs.portable-text.invalid-value.missing-type.action",values:{key:l._key}}},!0)}if(l._type===e.block.name){const u=l;if(!u.children||!Array.isArray(u.children))return i={patches:[zl([{_key:u._key}])],description:"Text block with _key '".concat(u._key,"' has a missing or invalid required property 'children'."),action:"Remove the block",item:u,i18n:{description:"inputs.portable-text.invalid-value.missing-or-invalid-children.description",action:"inputs.portable-text.invalid-value.missing-or-invalid-children.action",values:{key:u._key}}},!0;if(!l.markDefs||!Array.isArray(l.markDefs))return i={patches:[Ud({...u,markDefs:[]},[{_key:u._key}])],description:"Block has a missing or invalid required property 'markDefs'.",action:"Add empty markDefs array",item:u,i18n:{description:"inputs.portable-text.invalid-value.missing-or-invalid-markdefs.description",action:"inputs.portable-text.invalid-value.missing-or-invalid-markdefs.action",values:{key:u._key}}},!0;const m=la(Ji(u.children.filter(g=>g._type===e.span.name).map(g=>g.marks||[]))).filter(g=>!e.decorators.map(v=>v.value).includes(g)).filter(g=>u.markDefs?!u.markDefs.find(v=>v._key===g):!1);if(m.length>0){const g=u.children.filter(v=>v._type===e.span.name&&Array.isArray(v.marks)&&v.marks.some(y=>m.includes(y)));if(g){const v=m.join(", ");return i={patches:g.map(y=>Ud((y.marks||[]).filter(b=>!m.includes(b)),[{_key:l._key},"children",{_key:y._key},"marks"])),description:"Block with _key '".concat(l._key,"' contains marks (").concat(v,") not supported by the current content model."),action:"Remove invalid marks",item:l,i18n:{description:"inputs.portable-text.invalid-value.orphaned-marks.description",action:"inputs.portable-text.invalid-value.orphaned-marks.action",values:{key:l._key,orphanedMarks:m}}},!0}}if(u.children&&u.children.length===0){const g={_type:e.span.name,_key:r(),text:""};return i={patches:[Km([g],"after",[{_key:l._key},"children",0])],description:"Children for text block with _key '".concat(l._key,"' is empty."),action:"Insert an empty text",item:l,i18n:{description:"inputs.portable-text.invalid-value.empty-children.description",action:"inputs.portable-text.invalid-value.empty-children.action",values:{key:l._key}}},!0}u.children.some((g,v)=>{if(!io(g))return i={patches:[zl([{_key:l._key},"children",v])],description:"Child at index '".concat(v,"' in block with key '").concat(l._key,"' is not an object."),action:"Remove the item",item:l,i18n:{description:"inputs.portable-text.invalid-value.non-object-child.description",action:"inputs.portable-text.invalid-value.non-object-child.action",values:{key:l._key,index:v}}},!0;if(!g._key||typeof g._key!="string"){const y={...g,_key:r()};return i={patches:[Ud(y,[{_key:l._key},"children",v])],description:"Child at index ".concat(v," is missing required _key in block with _key ").concat(l._key,"."),action:"Set a new random _key on the object",item:l,i18n:{description:"inputs.portable-text.invalid-value.missing-child-key.description",action:"inputs.portable-text.invalid-value.missing-child-key.action",values:{key:l._key,index:v}}},!0}return g._type?s.includes(g._type)?g._type===e.span.name&&typeof g.text!="string"?(i={patches:[Ud({...g,text:""},[{_key:l._key},"children",{_key:g._key}])],description:"Child with _key '".concat(g._key,"' in block with key '").concat(l._key,"' has missing or invalid text property!"),action:"Write an empty text property to the object",item:l,i18n:{description:"inputs.portable-text.invalid-value.invalid-span-text.description",action:"inputs.portable-text.invalid-value.invalid-span-text.action",values:{key:l._key,childKey:g._key}}},!0):!1:(i={patches:[zl([{_key:l._key},"children",{_key:g._key}])],description:"Child with _key '".concat(g._key,"' in block with key '").concat(l._key,"' has invalid '_type' property (").concat(g._type,")."),action:"Remove the object",item:l,i18n:{description:"inputs.portable-text.invalid-value.disallowed-child-type.description",action:"inputs.portable-text.invalid-value.disallowed-child-type.action",values:{key:l._key,childKey:g._key,childType:g._type}}},!0):(i={patches:[zl([{_key:l._key},"children",{_key:g._key}])],description:"Child with _key '".concat(g._key,"' in block with key '").concat(l._key,"' is missing '_type' property."),action:"Remove the object",item:l,i18n:{description:"inputs.portable-text.invalid-value.missing-child-type.description",action:"inputs.portable-text.invalid-value.missing-child-type.action",values:{key:l._key,childKey:g._key}}},!0)})&&(o=!1)}return!1})&&(o=!1),{valid:o,resolution:i,value:n})}const Um=Rs("plugin:withInsertData");function Dvn(n,e,r){return function(o){const s=e.block.name,a=e.span.name,l=e.block.options.unstable_whitespaceOnPasteMode,c=u=>u.map(f=>{var h;return o.isTextBlock(f)?f.children.map(m=>{var g;return m._type===a?m.text:"[".concat(((g=e.inlineObjects.find(v=>v.name===m._type))==null?void 0:g.title)||"Object","]")}).join(""):"[".concat(((h=e.blockObjects.find(m=>m.name===f._type))==null?void 0:h.title)||"Object","]")}).join(`

`);return o.setFragmentData=(u,f)=>{const{selection:h}=o;if(!h)return;const[m,g]=Ne.edges(h),v=Z.void(o,{at:m.path}),y=Z.void(o,{at:g.path});if(Ne.isCollapsed(h)&&!v)return;const b=qe.toDOMRange(o,h);let x=b.cloneContents();if(y){const[I]=y,D=b.cloneRange(),R=qe.toDOMNode(o,I);D.setEndAfter(R),x=D.cloneContents()}Array.from(x.querySelectorAll("[data-slate-zero-width]")).forEach(I=>{const D=I.getAttribute("data-slate-zero-width")==="n";I.textContent=D?`
`:""}),Array.from(x.querySelectorAll("*")).forEach(I=>{I.removeAttribute("contentEditable"),I.removeAttribute("data-slate-inline"),I.removeAttribute("data-slate-leaf"),I.removeAttribute("data-slate-node"),I.removeAttribute("data-slate-spacer"),I.removeAttribute("data-slate-string"),I.removeAttribute("data-slate-zero-width"),I.removeAttribute("draggable");for(const D in I.attributes)I.hasAttribute(D)&&I.removeAttribute(D)});const _=x.ownerDocument.createElement("div");_.appendChild(x),_.setAttribute("hidden","true"),x.ownerDocument.body.appendChild(_);const w=_.innerHTML;x.ownerDocument.body.removeChild(_);const C=o.getFragment(),S=Bo(C,s),T=JSON.stringify(S),A=c(S);u.clearData(),u.setData("text/plain",A),u.setData("text/html",w),u.setData("application/json",T),u.setData("application/x-portable-text",T),Um("text",A),u.setData("application/x-portable-text-event-origin",f||"external"),Um("Set fragment data",T,w)},o.insertPortableTextData=u=>{var f;if(!o.selection)return!1;const h=u.getData("application/x-portable-text"),m=u.getData("application/x-portable-text-event-origin");if(Um("Inserting portable text from ".concat(m," event"),h),h){const g=JSON.parse(h);if(Array.isArray(g)&&g.length>0){const v=Pvn(o,Lp(g,{schemaTypes:e}),r,a),y=hF(g,e,r);if(!y.valid){const b="".concat((f=y.resolution)==null?void 0:f.description);return n.next({type:"error",level:"warning",name:"pasteError",description:b,data:y}),Um("Invalid insert result",y),!1}return m0e(o,v,e),!0}}return!1},o.insertTextOrHTMLData=u=>{var f;if(!o.selection)return Um("No selection, not inserting"),!1;n.next({type:"loading",isLoading:!0});const h=u.getData("text/html"),m=u.getData("text/plain");if(h||m){Um("Inserting data",u);let g,v,y;if(h)g=Bve(h,e.portableText,{unstable_whitespaceOnPasteMode:l}).map(x=>L5(x,{blockTypeName:s})),v=Lp(g,{schemaTypes:e}),y="HTML";else{const x=Ovn(m).split(/\n{2,}/).map(w=>w?"<p>".concat(w.replace(/(?:\r\n|\r|\n)/g,"<br/>"),"</p>"):"<p></p>").join(""),_="<html><body>".concat(x,"</body></html>");g=Bve(_,e.portableText).map(w=>L5(w,{blockTypeName:s})),v=Lp(g,{schemaTypes:e}),y="text"}const b=hF(g,e,r);if(!b.valid){const x=`Could not validate the resulting portable text to insert.
`.concat((f=b.resolution)==null?void 0:f.description,`
Try to insert as plain text (shift-paste) instead.`);return n.next({type:"error",level:"warning",name:"pasteError",description:x,data:b}),Um("Invalid insert result",b),!1}return Um("Inserting ".concat(y," fragment at ").concat(JSON.stringify(o.selection))),m0e(o,v,e),n.next({type:"loading",isLoading:!1}),!0}return n.next({type:"loading",isLoading:!1}),!1},o.insertData=u=>{o.insertPortableTextData(u)||o.insertTextOrHTMLData(u)},o.insertFragmentData=u=>{const f=u.getData("application/x-portable-text");if(f){const h=JSON.parse(f);return o.insertFragment(h),!0}return!1},o}}const Rvn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function Ovn(n){return String(n).replace(/[&<>"'`=/]/g,e=>Rvn[e])}function Pvn(n,e,r,i){return e.map(o=>{const s={...o};n.isTextBlock(s)&&(s.markDefs=(s.markDefs||[]).map(l=>{const c=l._key,u=r();return s.children=s.children.map(f=>f._type===i&&n.isTextSpan(f)?{...f,marks:f.marks&&f.marks.includes(c)?[...f.marks].filter(h=>h!==c).concat(u):f.marks}:f),{...l,_key:u}}));const a={...s,_key:r()};return n.isTextBlock(a)&&(a.children=a.children.map(l=>({...l,_key:r()}))),a})}function m0e(n,e,r){if(!n.selection)return;const[i,o]=Z.node(n,n.selection,{depth:1});if(n.isTextBlock(i)&&n.isTextBlock(e[0])){const{markDefs:a}=i;Um("Mixing markDefs of focusBlock and fragments[0] block",a,e[0].markDefs),Br(a,e[0].markDefs)||De.setNodes(n,{markDefs:la([...e[0].markDefs||[],...a||[]])},{at:o,mode:"lowest",voids:!1})}M5(n.children,r)?(De.splitNodes(n,{at:[0,0]}),n.insertFragment(e),De.removeNodes(n,{at:[0]})):n.insertFragment(e),n.onChange()}const g0e=new WeakMap,v0e=(n,e)=>{const r=n,{keyGenerator:i,portableTextEditor:o,patches$:s,readOnly:a,maxBlocks:l}=e,{schemaTypes:c,change$:u}=o;r.subscriptions=[],r.destroy?r.destroy():g0e.set(r,{apply:r.apply,onChange:r.onChange,normalizeNode:r.normalizeNode});const f=Ugn(c),h=Wgn(c,i),m=kvn({schemaTypes:c,keyGenerator:i}),g=Vgn(o,c,i),v=yvn({change$:u,keyGenerator:i,patches$:s,patchFunctions:f,readOnly:a,schemaTypes:c}),y=Hgn(l||-1),b=_vn(c),x=fvn({readOnly:a,patches$:s,blockSchemaType:c.block}),_=zgn(c,u),w=wvn(c),C=xvn({keyGenerator:i,schemaTypes:c}),S=Tvn(),T=Cvn(u,c);return r.destroy=()=>{const A=g0e.get(r);if(!A)throw new Error("Could not find pristine versions of editor functions");r.apply=A.apply,r.history={undos:[],redos:[]},r.normalizeNode=A.normalizeNode,r.onChange=A.onChange},a?{editor:m(h(_(w(S(C(b(T(g(r))))))))),subscribe:()=>aWe}:{editor:m(h(_(w(b(C(S(y(x(v(T(g(r)))))))))))),subscribe:()=>{const A=[];return n.subscriptions.forEach(I=>{A.push(I())}),()=>{A.forEach(I=>{I()})}}}},Wz=Rs("component:PortableTextEditor:SlateContainer");function jvn(n){const{patches$:e,portableTextEditor:r,readOnly:i,maxBlocks:o,keyGenerator:s}=n,[a,l]=p.useMemo(()=>{Wz("Creating new Slate editor instance");const{editor:u,subscribe:f}=v0e(mpn($fn()),{keyGenerator:s,maxBlocks:o,patches$:e,portableTextEditor:r,readOnly:i});return Fd.set(u,{}),SK.set(u,{}),[u,f]},[]);p.useEffect(()=>{const u=l();return()=>{u()}},[l]),p.useEffect(()=>{Wz("Re-initializing plugin chain"),v0e(a,{keyGenerator:s,maxBlocks:o,patches$:e,portableTextEditor:r,readOnly:i})},[s,r,o,i,e,a]);const c=p.useMemo(()=>[a.createPlaceholderBlock()],[a]);return p.useEffect(()=>()=>{Wz("Destroying Slate editor"),a.destroy()},[a]),d.jsx(hpn,{editor:a,initialValue:c,children:n.children})}const Gqe=p.createContext(null),cw=()=>{const n=p.useContext(Gqe);if(n===void 0)throw new Error("The `usePortableTextEditorSelection` hook must be used inside the <PortableTextEditor> component's context.");return n},Lvn=p.createContext(void 0),qqe=p.createContext(!1),$vn=()=>{const n=p.useContext(qqe);if(n===void 0)throw new Error("The `usePortableTextEditorReadOnly` hook must be used inside the <PortableTextEditor> component's context.");return n},Xs=Rs("hook:useSyncValue"),y0e=new WeakMap;function Mvn(n){const{portableTextEditor:e,readOnly:r,keyGenerator:i}=n,{change$:o,schemaTypes:s}=e,a=p.useRef(),l=Z6(),c=p.useRef(),u=p.useCallback(()=>{const h=y0e.get(e);if(a.current===h){Xs("Value is the same object as previous, not need to sync");return}c.current&&h&&(Xs("Updating the value debounced"),c.current(h))},[e]),f=p.useCallback(LI(u,1e3,{trailing:!0,leading:!1}),[u]);return p.useMemo(()=>{const h=m=>{y0e.set(e,m);const g=cvn(l),v=zqe(l);if(!r){if(g){Xs("Has local changes, not syncing value right now"),f();return}if(v){Xs("Has remote changes, not syncing value right now"),f();return}}let y=!1,b=!0;const x=!!l.selection;if((!m||m.length===0)&&(Xs("Value is empty"),Z.withoutNormalizing(l,()=>{F5(l,()=>{AK(l,()=>{x&&De.deselect(l);const _=l.children.length;l.children.forEach((w,C)=>{De.removeNodes(l,{at:[_-1-C]})}),De.insertNodes(l,l.createPlaceholderBlock(),{at:[0]}),x&&De.select(l,[0,0])})})}),y=!0),m&&m.length>0){const _=Lp(m,{schemaTypes:s});Z.withoutNormalizing(l,()=>{Uqe(l,()=>{F5(l,()=>{AK(l,()=>{const w=l.children.length;if(_.length<w){for(let C=w-1;C>_.length-1;C--)De.removeNodes(l,{at:[C]});y=!0}_.forEach((C,S)=>{const T=l.children[S];if(T&&!Br(C,T)&&b){const I=[m[S]],D=hF(I,s,i);D.valid?(T._key===C._key?(Xs.enabled&&Xs("Updating block",T,C),Nvn(l,C,T,S)):(Xs.enabled&&Xs("Replacing block",T,C),Fvn(l,C,S)),y=!0):(o.next({type:"invalidValue",resolution:D.resolution,value:m}),b=!1)}if(!T&&b){const I=[m[S]],D=hF(I,s,i);Xs.enabled&&Xs("Validating and inserting new block in the end of the value",C),D.valid?jx(l,()=>{De.insertNodes(l,C,{at:[S]})}):(Xs("Invalid",D),o.next({type:"invalidValue",resolution:D.resolution,value:m}),b=!1)}})})})})})}if(!b){Xs("Invalid value, returning");return}if(y){Xs("Server value changed, syncing editor");try{l.onChange()}catch(_){console.error(_),o.next({type:"invalidValue",resolution:null,value:m});return}x&&!l.selection&&(De.select(l,{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0}}),l.onChange()),o.next({type:"value",value:m})}else Xs("Server value and editor value is equal, no need to sync.");a.current=m};return c.current=h,h},[o,i,e,r,s,l,f])}function Fvn(n,e,r){const i=n.selection,o=i&&i.focus.path[0]===r;o&&De.deselect(n),De.removeNodes(n,{at:[r]}),jx(n,()=>{De.insertNodes(n,e,{at:[r]})}),o&&De.select(n,i)}function Nvn(n,e,r,i){if(De.setNodes(n,e,{at:[i]}),n.isTextBlock(e)&&n.isTextBlock(r)){const o=r.children.length;e.children.length<o&&Array.from(Array(o-e.children.length)).forEach((s,a)=>{const l=o-1-a;l>0&&(Xs("Removing child"),De.removeNodes(n,{at:[i,l]}))}),e.children.forEach((s,a)=>{const l=r.children[a],c=!Br(s,l),u=!Br(s.text,l==null?void 0:l.text),f=[i,a];if(c)if(s._key===(l==null?void 0:l._key)){Xs("Updating changed child",s,l),De.setNodes(n,s,{at:f});const h=wt.isText(s)&&s._type==="span"&&wt.isText(l)&&l._type==="span";h&&u?(De.delete(n,{at:{focus:{path:f,offset:0},anchor:{path:f,offset:l.text.length}}}),De.insertText(n,s.text,{at:f}),n.onChange()):h||(Xs("Updating changed inline object child",s),De.setNodes(n,{_key:Tqe},{at:[...f,0],voids:!0}))}else l?(Xs("Replacing child",s),De.removeNodes(n,{at:[i,a]}),jx(n,()=>{De.insertNodes(n,s,{at:[i,a]})}),n.onChange()):l||(Xs("Inserting new child",s),jx(n,()=>{De.insertNodes(n,s,{at:[i,a]}),n.onChange()}))})}}const zm=Rs("component:PortableTextEditor:Synchronizer"),b0e=zm.enabled&&!1,Bvn=1e3;function Uvn(n){const{change$:e,portableTextEditor:r,onChange:i,keyGenerator:o,readOnly:s,value:a}=n,[l,c]=p.useState(null),u=p.useRef([]),f=Mvn({keyGenerator:o,onChange:i,portableTextEditor:r,readOnly:s}),h=Z6();p.useEffect(()=>{LL.set(h,!1)},[h]);const m=p.useCallback(()=>{if(u.current.length>0){zm("Flushing pending patches"),b0e&&zm(`Patches:
`.concat(JSON.stringify(u.current,null,2)));const x=ut.getValue(r);e.next({type:"mutation",patches:u.current,snapshot:x}),u.current=[]}LL.set(h,!1)},[h,r,e]),g=p.useMemo(()=>$I(()=>{if(Z.isNormalizing(h)){m();return}g()},Bvn,{leading:!1,trailing:!0}),[m,h]);p.useEffect(()=>()=>{m()},[m]),p.useEffect(()=>{zm("Subscribing to editor changes$");const x=e.subscribe(_=>{switch(_.type){case"patch":LL.set(h,!0),u.current.push(_.patch),g(),i(_);break;case"selection":p.startTransition(()=>{b0e&&zm("Setting selection"),c(_.selection)}),i(_);break;default:i(_)}});return()=>{zm("Unsubscribing to changes$"),x.unsubscribe()}},[e,i,g,h]);const v=p.useCallback(()=>{zm("Editor is online, syncing from props.value"),e.next({type:"connection",value:"online"}),f(a)},[e,f,a]),y=p.useCallback(()=>{zm("Editor is offline"),e.next({type:"connection",value:"offline"})},[e]);p.useEffect(()=>(r.props.patches$&&(window.addEventListener("online",v),window.addEventListener("offline",y)),()=>{r.props.patches$&&(window.removeEventListener("online",v),window.removeEventListener("offline",y))}));const b=p.useRef(!0);return p.useEffect(()=>{zm("Value from props changed, syncing new value"),f(a),b.current&&(e.next({type:"loading",isLoading:!1}),e.next({type:"ready"}),b.current=!1)},[e,f,a]),d.jsx(kqe.Provider,{value:o,children:d.jsx(Aqe.Provider,{value:r,children:d.jsx(Lvn.Provider,{value:a,children:d.jsx(qqe.Provider,{value:s,children:d.jsx(Gqe.Provider,{value:l,children:n.children})})})})})}const nv=Rs("component:PortableTextEditor");class ut extends p.Component{constructor(e){if(super(e),this.change$=new ho,this.setEditable=r=>{this.editable={...this.editable,...r}},!e.schemaType)throw new Error('PortableTextEditor: missing "type" property');e.incomingPatches$&&console.warn("The prop 'incomingPatches$' is deprecated and renamed to 'patches$'"),this.change$.next({type:"loading",isLoading:!0}),this.schemaTypes=Zve(e.schemaType.hasOwnProperty("jsonType")?e.schemaType:Xve(e.schemaType))}componentDidUpdate(e){this.props.schemaType!==e.schemaType&&(this.schemaTypes=Zve(this.props.schemaType.hasOwnProperty("jsonType")?this.props.schemaType:Xve(this.props.schemaType))),this.props.editorRef!==e.editorRef&&this.props.editorRef&&(this.props.editorRef.current=this)}render(){const{onChange:e,value:r,children:i,patches$:o,incomingPatches$:s}=this.props,{change$:a}=this,l=s||o,c=typeof this.props.maxBlocks>"u"?void 0:parseInt(this.props.maxBlocks.toString(),10)||void 0,u=!!this.props.readOnly,f=this.props.keyGenerator||$5;return d.jsx(jvn,{keyGenerator:f,maxBlocks:c,patches$:l,portableTextEditor:this,readOnly:u,children:d.jsx(Uvn,{change$:a,keyGenerator:f,onChange:e,portableTextEditor:this,readOnly:u,value:r,children:i})})}}ut.activeAnnotations=n=>n&&n.editable?n.editable.activeAnnotations():[];ut.addAnnotation=(n,e,r)=>{var i;return(i=n.editable)==null?void 0:i.addAnnotation(e,r)};ut.blur=n=>{var e;nv("Host blurred"),(e=n.editable)==null||e.blur()};ut.delete=(n,e,r)=>{var i;return(i=n.editable)==null?void 0:i.delete(e,r)};ut.findDOMNode=(n,e)=>{var r;return(r=n.editable)==null?void 0:r.findDOMNode(e)};ut.findByPath=(n,e)=>{var r;return((r=n.editable)==null?void 0:r.findByPath(e))||[]};ut.focus=n=>{var e;nv("Host requesting focus"),(e=n.editable)==null||e.focus()};ut.focusBlock=n=>{var e;return(e=n.editable)==null?void 0:e.focusBlock()};ut.focusChild=n=>{var e;return(e=n.editable)==null?void 0:e.focusChild()};ut.getSelection=n=>n.editable?n.editable.getSelection():null;ut.getValue=n=>{var e;return(e=n.editable)==null?void 0:e.getValue()};ut.hasBlockStyle=(n,e)=>{var r;return(r=n.editable)==null?void 0:r.hasBlockStyle(e)};ut.hasListStyle=(n,e)=>{var r;return(r=n.editable)==null?void 0:r.hasListStyle(e)};ut.isCollapsedSelection=n=>{var e;return(e=n.editable)==null?void 0:e.isCollapsedSelection()};ut.isExpandedSelection=n=>{var e;return(e=n.editable)==null?void 0:e.isExpandedSelection()};ut.isMarkActive=(n,e)=>{var r;return(r=n.editable)==null?void 0:r.isMarkActive(e)};ut.insertChild=(n,e,r)=>{var i;return nv("Host inserting child"),(i=n.editable)==null?void 0:i.insertChild(e,r)};ut.insertBlock=(n,e,r)=>{var i;return(i=n.editable)==null?void 0:i.insertBlock(e,r)};ut.insertBreak=n=>{var e;return(e=n.editable)==null?void 0:e.insertBreak()};ut.isVoid=(n,e)=>{var r;return(r=n.editable)==null?void 0:r.isVoid(e)};ut.isObjectPath=(n,e)=>{if(!e||!Array.isArray(e))return!1;const r=e.length>3&&e[1]==="children";return e.length>1&&e[1]!=="children"||r};ut.marks=n=>{var e;return(e=n.editable)==null?void 0:e.marks()};ut.select=(n,e)=>{var r;nv("Host setting selection",e),(r=n.editable)==null||r.select(e)};ut.removeAnnotation=(n,e)=>{var r;return(r=n.editable)==null?void 0:r.removeAnnotation(e)};ut.toggleBlockStyle=(n,e)=>{var r;return nv("Host is toggling block style"),(r=n.editable)==null?void 0:r.toggleBlockStyle(e)};ut.toggleList=(n,e)=>{var r;return(r=n.editable)==null?void 0:r.toggleList(e)};ut.toggleMark=(n,e)=>{var r;nv("Host toggling mark",e),(r=n.editable)==null||r.toggleMark(e)};ut.getFragment=n=>{var e;return nv("Host getting fragment"),(e=n.editable)==null?void 0:e.getFragment()};ut.undo=n=>{var e;nv("Host undoing"),(e=n.editable)==null||e.undo()};ut.redo=n=>{var e;nv("Host redoing"),(e=n.editable)==null||e.redo()};ut.isSelectionsOverlapping=(n,e,r)=>{var i;return(i=n.editable)==null?void 0:i.isSelectionsOverlapping(e,r)};const zvn=Rs("components:Leaf"),x0e=[],Vvn=n=>{const{attributes:e,children:r,leaf:i,schemaTypes:o,renderChild:s,renderDecorator:a,renderAnnotation:l}=n,c=p.useRef(null),u=fa(),f=dqe(),[h,m]=p.useState(!1),[g,v]=p.useState(!1),y=r.props.parent,b=p.useMemo(()=>y?[{_key:y==null?void 0:y._key},"children",{_key:i._key}]:[],[y,i._key]),x=p.useMemo(()=>o.decorators.map(I=>I.value),[o.decorators]),_=p.useMemo(()=>la((i.marks||x0e).filter(I=>x.includes(I))),[x,i.marks]),w=Array.isArray(i.marks)?i.marks:x0e,C=p.useMemo(()=>w.map(I=>{var D;return!x.includes(I)&&((D=y==null?void 0:y.markDefs)==null?void 0:D.find(R=>R._key===I))}).filter(Boolean),[w,y,x]),S=C.length>0&&f;p.useEffect(()=>{if(!S){m(!1);return}const I=ut.getSelection(u);I&&Br(I.focus.path,b)&&ut.isCollapsedSelection(u)&&p.startTransition(()=>{m(!0)})},[S,b,u]);const T=p.useCallback(()=>{if(!S)return;zvn("Setting selection and focus from range");const I=window.getSelection();if(!I){v(!1);return}if(I&&I.rangeCount>0){const D=I.getRangeAt(0);c.current&&D.intersectsNode(c.current)?v(!0):v(!1)}else v(!1)},[S]);p.useEffect(()=>{if(!S)return;const I=u.change$.subscribe(D=>{if(D.type==="blur"){m(!1),v(!1);return}if(D.type==="focus"){const R=ut.getSelection(u);R&&Br(R.focus.path,b)&&ut.isCollapsedSelection(u)&&m(!0),T();return}D.type==="selection"&&(D.selection&&Br(D.selection.focus.path,b)&&ut.isCollapsedSelection(u)?m(!0):m(!1),T())});return()=>{I.unsubscribe()}},[b,u,T,S]),p.useEffect(()=>T(),[T]);const A=p.useMemo(()=>{let I=r;if(wt.isText(i)&&i._type===o.span.name&&(_.forEach(D=>{const R=o.decorators.find(P=>P.value===D);if(R&&a){const P=Object.defineProperty({children:I,editorElementRef:c,focused:h,path:b,selected:g,schemaType:R,value:D},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),R}});I=a(P)}}),y&&C.length>0&&C.forEach(D=>{const R=o.annotations.find(P=>P.name===D._type);if(R)if(l){const P=Object.defineProperty({block:y,children:I,editorElementRef:c,focused:h,path:b,selected:g,schemaType:R,value:D},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),R}});I=d.jsx("span",{ref:c,children:l(P)})}else I=d.jsx(cgn,{annotation:D,children:d.jsx("span",{ref:c,children:I})})}),y&&s)){const D=y.children.find(R=>R._key===i._key);if(D){const R=d.jsx(d.Fragment,{children:I}),P=Object.defineProperty({annotations:C,children:R,editorElementRef:c,focused:h,path:b,schemaType:o.span,selected:g,value:D},"type",{enumerable:!1,get(){return console.warn("Property 'type' is deprecated, use 'schemaType' instead."),o.span}});I=s(P)}}return I},[C,y,r,h,i,_,b,l,s,a,o.annotations,o.decorators,o.span,g]);return p.useMemo(()=>d.jsx("span",{...e,ref:c,children:A},i._key),[i,e,A])},Hvn=typeof window>"u"?p.useEffect:p.useLayoutEffect;function Wvn(n){const e=p.useRef(null);return Hvn(()=>{n&&(typeof n=="function"?n(e.current):n.current=e.current)}),e}const Lm=Rs("component:Editable"),Gvn={position:"absolute",userSelect:"none",pointerEvents:"none",left:0,right:0},Gz=[],Kqe=p.forwardRef(function(e,r){const{hotkeys:i,onBlur:o,onFocus:s,onBeforeInput:a,onPaste:l,onCopy:c,rangeDecorations:u,renderAnnotation:f,renderBlock:h,renderChild:m,renderDecorator:g,renderListItem:v,renderPlaceholder:y,renderStyle:b,selection:x,scrollSelectionIntoView:_,spellCheck:w,...C}=e,S=fa(),T=$vn(),A=qmn(),I=Wvn(r),[D,R]=p.useState(null),[P,O]=p.useState(!1),[$,L]=p.useState(Gz),{change$:M,schemaTypes:N}=S,z=Z6(),B=N.block.name,H=p.useMemo(()=>Dvn(M,N,A),[M,A,N]),X=p.useMemo(()=>Ivn(N,A,S,i),[i,A,S,N]);p.useMemo(()=>T?(Lm("Editable is in read only mode"),H(z)):(Lm("Editable is in edit mode"),H(X(z))),[T,z,X,H]);const G=p.useCallback(pe=>d.jsx(lgn,{...pe,readOnly:T,renderBlock:h,renderChild:m,renderListItem:v,renderStyle:b,schemaTypes:N,spellCheck:w}),[N,w,T,h,m,v,b]),ne=p.useCallback(pe=>{if(pe.leaf._type==="span"){let Pe=d.jsx(Vvn,{...pe,schemaTypes:N,renderAnnotation:f,renderChild:m,renderDecorator:g,readOnly:T});if(y&&pe.leaf.placeholder&&pe.text.text==="")return d.jsxs(d.Fragment,{children:[d.jsx("span",{style:Gvn,contentEditable:!1,children:y()}),Pe]});const Re=pe.leaf.rangeDecoration;return Re&&(Pe=Re.component({children:Pe})),Pe}return pe.children},[T,f,m,g,y,N]),le=p.useCallback(()=>{if(x){Lm("Selection from props ".concat(JSON.stringify(x)));const pe=Gmn(x,Bo(z.children,B));if(pe!==null){Lm("Normalized selection from props ".concat(JSON.stringify(pe)));const Pe=fb(pe,z);Pe&&(De.select(z,Pe),z.operations.some(Re=>Re.type==="set_selection")||M.next({type:"selection",selection:pe}),z.onChange())}}},[x,z,B,M]),K=p.useCallback(pe=>{if(u&&u.length>0){const Pe=[];if(u.forEach(Re=>{const Fe=fb(Re.selection,z);if(!Ne.isRange(Fe)){Re.onMoved&&Re.onMoved({newSelection:null,rangeDecoration:Re,origin:"local"});return}let Ye;if(pe&&(Ye=Wmn(Fe,pe),Ye&&Ye!==Fe||Ye===null&&Fe)){const He=ut.getValue(S),lt=I0(He,Ye,N);Re.onMoved&&Re.onMoved({newSelection:lt,rangeDecoration:Re,origin:"local"}),Re.selection=lt}Ye!==null&&Pe.push({...Ye||Fe,rangeDecoration:Re})}),Pe.length>0){L(Pe);return}}L(Gz)},[S,u,N,z]);p.useEffect(()=>{const pe=M.subscribe(Pe=>{switch(Pe.type){case"ready":le();break;case"invalidValue":O(!0);break;case"value":O(!1);break}});return()=>{pe.unsubscribe()}},[M,le,K]),p.useEffect(()=>{x&&!P&&le()},[P,x,le]);const Q=p.useMemo(()=>z.apply,[z]);p.useEffect(()=>{K()},[u,K]),p.useEffect(()=>(z.apply=pe=>{Q(pe),pe.type!=="set_selection"&&K(pe)},()=>{z.apply=Q}),[Q,z,K]);const re=p.useCallback(pe=>{c&&c(pe)!==void 0&&pe.preventDefault()},[c]),se=p.useCallback(pe=>{if(pe.preventDefault(),!!z.selection){if(!l){Lm("Pasting normally"),z.insertData(pe.clipboardData);return}new Promise(Pe=>{const Re=ut.getValue(S),Fe=I0(Re,z.selection,N),Ye=(Fe==null?void 0:Fe.focus.path)||[];Pe(l({event:pe,value:Re,path:Ye,schemaTypes:N}))}).then(Pe=>{if(Lm("Custom paste function from client resolved",Pe),M.next({type:"loading",isLoading:!0}),!Pe||!Pe.insert){Lm("No result from custom paste handler, pasting normally"),z.insertData(pe.clipboardData);return}if(Pe&&Pe.insert){z.insertFragment(Lp(Pe.insert,{schemaTypes:N})),M.next({type:"loading",isLoading:!1});return}console.warn("Your onPaste function returned something unexpected:",Pe)}).catch(Pe=>(M.next({type:"loading",isLoading:!1}),console.error(Pe),Pe))}},[M,l,S,N,z]),de=p.useCallback(pe=>{if(s&&s(pe),!pe.isDefaultPrevented()){const Pe=ut.getSelection(S);Pe===null&&(De.select(z,Z.start(z,[])),z.onChange()),M.next({type:"focus",event:pe});const Re=ut.getSelection(S);Pe===Re&&M.next({type:"selection",selection:Pe})}},[s,S,M,z]),fe=p.useCallback(pe=>{o&&o(pe),pe.isPropagationStopped()||M.next({type:"blur",event:pe})},[M,o]),we=p.useCallback(pe=>{a&&a(pe)},[a]),ye=p.useCallback(()=>{if(!z.selection)return;const pe=qe.findDocumentOrShadowRoot(z),{activeElement:Pe}=pe;if(I.current!==Pe)return;const Fe=qe.getWindow(z).getSelection();if(!Fe||Fe.rangeCount===0)return;const Ye=Fe.getRangeAt(0);try{const He=qe.toDOMRange(z,z.selection);(He.startOffset!==Ye.startOffset||He.endOffset!==Ye.endOffset)&&(Lm("DOM range out of sync, validating selection"),Fe==null||Fe.removeAllRanges(),Fe.addRange(He))}catch{Lm("Could not resolve selection, selecting top document"),De.deselect(z),z.children.length>0&&De.select(z,[0,0]),z.onChange()}},[I,z]);p.useEffect(()=>{if(D){const pe=new MutationObserver(ye);return pe.observe(D,{attributeOldValue:!1,attributes:!1,characterData:!1,childList:!0,subtree:!0}),()=>{pe.disconnect()}}},[ye,D]);const ve=p.useCallback(pe=>{e.onKeyDown&&e.onKeyDown(pe),pe.isDefaultPrevented()||z.pteWithHotKeys(pe)},[e,z]),_e=p.useMemo(()=>{if(_!==void 0)return _===null?aWe:(pe,Pe)=>{_(S,Pe)}},[S,_]),ge=p.useCallback(pe=>{let[,Pe]=pe;if(M5(z.children,N))return[{anchor:{path:[0,0],offset:0},focus:{path:[0,0],offset:0},placeholder:!0}];const Re=$.filter(Fe=>Ne.includes(Fe,Pe));return Re.length>0?Re:Gz},[z,N,$]);return p.useEffect(()=>{I.current=qe.toDOMNode(z,z),R(I.current)},[z,I]),S?P?null:d.jsx(ipn,{...C,autoFocus:!1,className:C.className||"pt-editable",decorate:ge,onBlur:fe,onCopy:re,onDOMBeforeInput:we,onFocus:de,onKeyDown:ve,onPaste:se,readOnly:T,renderPlaceholder:void 0,renderElement:G,renderLeaf:ne,scrollSelectionIntoView:_e}):null});function qvn(n){const e=n.charCodeAt(0);return e>=55296&&e<=56319}function IK(n){const e=n.charCodeAt(0);return e>=56320&&e<=57343}function CD(n){const[e,r]=n;return[e,r]}function w0e(n,e){let r=n,i=e;const o=r.length,s=i.length;if(o===0||s===0)return 0;o>s?r=r.substring(o-s):o<s&&(i=i.substring(0,o));const a=Math.min(o,s);if(r===i)return a;let l=0,c=1;for(let u=0;u!==-1;){const f=r.substring(a-c);if(u=i.indexOf(f),u===-1)return l;c+=u,(u===0||r.substring(a-c)===i.substring(0,c))&&(l=c,c++)}return l}function Wne(n,e){if(!n||!e||n[0]!==e[0])return 0;let r=0,i=Math.min(n.length,e.length),o=i,s=0;for(;r<o;)n.substring(s,o)===e.substring(s,o)?(r=o,s=r):i=o,o=Math.floor((i-r)/2+r);return o}function tN(n,e){if(!n||!e||n[n.length-1]!==e[e.length-1])return 0;let r=0,i=Math.min(n.length,e.length),o=i,s=0;for(;r<o;)n.substring(n.length-o,n.length-s)===e.substring(e.length-o,e.length-s)?(r=o,s=r):i=o,o=Math.floor((i-r)/2+r);return o}function Gne(n){let e=n.map(h=>CD(h)),r=!1;const i=[];let o=0,s=null,a=0,l=0,c=0,u=0,f=0;for(;a<e.length;)e[a][0]===ar?(i[o++]=a,l=u,c=f,u=0,f=0,s=e[a][1]):(e[a][0]===po?u+=e[a][1].length:f+=e[a][1].length,s&&s.length<=Math.max(l,c)&&s.length<=Math.max(u,f)&&(e.splice(i[o-1],0,[zi,s]),e[i[o-1]+1][0]=po,o--,o--,a=o>0?i[o-1]:-1,l=0,c=0,u=0,f=0,s=null,r=!0)),a++;for(r&&(e=nN(e)),e=Yqe(e),a=1;a<e.length;){if(e[a-1][0]===zi&&e[a][0]===po){const h=e[a-1][1],m=e[a][1],g=w0e(h,m),v=w0e(m,h);g>=v?(g>=h.length/2||g>=m.length/2)&&(e.splice(a,0,[ar,m.substring(0,g)]),e[a-1][1]=h.substring(0,h.length-g),e[a+1][1]=m.substring(g),a++):(v>=h.length/2||v>=m.length/2)&&(e.splice(a,0,[ar,h.substring(0,v)]),e[a-1][0]=po,e[a-1][1]=m.substring(0,m.length-v),e[a+1][0]=zi,e[a+1][1]=h.substring(v),a++),a++}a++}return e}const _0e=/[^a-zA-Z0-9]/,E0e=/\s/,C0e=/[\r\n]/,Kvn=/\n\r?\n$/,Yvn=/^\r?\n\r?\n/;function Yqe(n){const e=n.map(o=>CD(o));function r(o,s){if(!o||!s)return 6;const a=o.charAt(o.length-1),l=s.charAt(0),c=a.match(_0e),u=l.match(_0e),f=c&&a.match(E0e),h=u&&l.match(E0e),m=f&&a.match(C0e),g=h&&l.match(C0e),v=m&&o.match(Kvn),y=g&&s.match(Yvn);return v||y?5:m||g?4:c&&!f&&h?3:f||h?2:c||u?1:0}let i=1;for(;i<e.length-1;){if(e[i-1][0]===ar&&e[i+1][0]===ar){let o=e[i-1][1],s=e[i][1],a=e[i+1][1];const l=tN(o,s);if(l){const m=s.substring(s.length-l);o=o.substring(0,o.length-l),s=m+s.substring(0,s.length-l),a=m+a}let c=o,u=s,f=a,h=r(o,s)+r(s,a);for(;s.charAt(0)===a.charAt(0);){o+=s.charAt(0),s=s.substring(1)+a.charAt(0),a=a.substring(1);const m=r(o,s)+r(s,a);m>=h&&(h=m,c=o,u=s,f=a)}e[i-1][1]!==c&&(c?e[i-1][1]=c:(e.splice(i-1,1),i--),e[i][1]=u,f?e[i+1][1]=f:(e.splice(i+1,1),i--))}i++}return e}function nN(n){let e=n.map(u=>CD(u));e.push([ar,""]);let r=0,i=0,o=0,s="",a="",l;for(;r<e.length;)switch(e[r][0]){case po:o++,a+=e[r][1],r++;break;case zi:i++,s+=e[r][1],r++;break;case ar:i+o>1?(i!==0&&o!==0&&(l=Wne(a,s),l!==0&&(r-i-o>0&&e[r-i-o-1][0]===ar?e[r-i-o-1][1]+=a.substring(0,l):(e.splice(0,0,[ar,a.substring(0,l)]),r++),a=a.substring(l),s=s.substring(l)),l=tN(a,s),l!==0&&(e[r][1]=a.substring(a.length-l)+e[r][1],a=a.substring(0,a.length-l),s=s.substring(0,s.length-l))),r-=i+o,e.splice(r,i+o),s.length&&(e.splice(r,0,[zi,s]),r++),a.length&&(e.splice(r,0,[po,a]),r++),r++):r!==0&&e[r-1][0]===ar?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,o=0,i=0,s="",a="";break;default:throw new Error("Unknown diff operation")}e[e.length-1][1]===""&&e.pop();let c=!1;for(r=1;r<e.length-1;)e[r-1][0]===ar&&e[r+1][0]===ar&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)===e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),c=!0):e[r][1].substring(0,e[r+1][1].length)===e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),c=!0)),r++;return c&&(e=nN(e)),e}function Zvn(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return e.reduce((i,o)=>i+(o?1:0),0)}function rN(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,r=n.map(m=>CD(m)),i=!1;const o=[];let s=0,a=null,l=0,c=!1,u=!1,f=!1,h=!1;for(;l<r.length;)r[l][0]===ar?(r[l][1].length<e&&(f||h)?(o[s++]=l,c=f,u=h,a=r[l][1]):(s=0,a=null),f=!1,h=!1):(r[l][0]===zi?h=!0:f=!0,a&&(c&&u&&f&&h||a.length<e/2&&Zvn(c,u,f,h)===3)&&(r.splice(o[s-1],0,[zi,a]),r[o[s-1]+1][0]=po,s--,a=null,c&&u?(f=!0,h=!0,s=0):(s--,l=s>0?o[s-1]:-1,f=!1,h=!1),i=!0)),l++;return i&&(r=nN(r)),r}function Xvn(n,e,r){const i=n.length,o=e.length,s=Math.ceil((i+o)/2),a=s,l=2*s,c=new Array(l),u=new Array(l);for(let b=0;b<l;b++)c[b]=-1,u[b]=-1;c[a+1]=0,u[a+1]=0;const f=i-o,h=f%2!==0;let m=0,g=0,v=0,y=0;for(let b=0;b<s&&!(Date.now()>r);b++){for(let x=-b+m;x<=b-g;x+=2){const _=a+x;let w;x===-b||x!==b&&c[_-1]<c[_+1]?w=c[_+1]:w=c[_-1]+1;let C=w-x;for(;w<i&&C<o&&n.charAt(w)===e.charAt(C);)w++,C++;if(c[_]=w,w>i)g+=2;else if(C>o)m+=2;else if(h){const S=a+f-x;if(S>=0&&S<l&&u[S]!==-1){const T=i-u[S];if(w>=T)return S0e(n,e,w,C,r)}}}for(let x=-b+v;x<=b-y;x+=2){const _=a+x;let w;x===-b||x!==b&&u[_-1]<u[_+1]?w=u[_+1]:w=u[_-1]+1;let C=w-x;for(;w<i&&C<o&&n.charAt(i-w-1)===e.charAt(o-C-1);)w++,C++;if(u[_]=w,w>i)y+=2;else if(C>o)v+=2;else if(!h){const S=a+f-x;if(S>=0&&S<l&&c[S]!==-1){const T=c[S],A=a+T-S;if(w=i-w,T>=w)return S0e(n,e,T,A,r)}}}}return[[zi,n],[po,e]]}function S0e(n,e,r,i,o){const s=n.substring(0,r),a=e.substring(0,i),l=n.substring(r),c=e.substring(i),u=Lx(s,a,{checkLines:!1,deadline:o}),f=Lx(l,c,{checkLines:!1,deadline:o});return u.concat(f)}function Qvn(n,e){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:1)<=0)return null;const i=n.length>e.length?n:e,o=n.length>e.length?e:n;if(i.length<4||o.length*2<i.length)return null;const s=k0e(i,o,Math.ceil(i.length/4)),a=k0e(i,o,Math.ceil(i.length/2));let l;if(s&&a)l=s[4].length>a[4].length?s:a;else{if(!s&&!a)return null;a?s||(l=a):l=s}if(!l)throw new Error("Unable to find a half match.");let c,u,f,h;n.length>e.length?(c=l[0],u=l[1],f=l[2],h=l[3]):(f=l[0],h=l[1],c=l[2],u=l[3]);const m=l[4];return[c,u,f,h,m]}function k0e(n,e,r){const i=n.slice(r,r+Math.floor(n.length/4));let o=-1,s="",a,l,c,u;for(;(o=e.indexOf(i,o+1))!==-1;){const f=Wne(n.slice(r),e.slice(o)),h=tN(n.slice(0,r),e.slice(0,o));s.length<h+f&&(s=e.slice(o-h,o)+e.slice(o,o+f),a=n.slice(0,r-h),l=n.slice(r+f),c=e.slice(0,o-h),u=e.slice(o+f))}return s.length*2>=n.length?[a||"",l||"",c||"",u||"",s||""]:null}function Jvn(n,e){for(let r=0;r<n.length;r++){const i=n[r][1],o=[];for(let s=0;s<i.length;s++)o[s]=e[i.charCodeAt(s)];n[r][1]=o.join("")}}function e0n(n,e){const r=[],i={};r[0]="";function o(c){let u="",f=0,h=-1,m=r.length;for(;h<c.length-1;){h=c.indexOf(`
`,f),h===-1&&(h=c.length-1);let g=c.slice(f,h+1);(i.hasOwnProperty?i.hasOwnProperty(g):i[g]!==void 0)?u+=String.fromCharCode(i[g]):(m===s&&(g=c.slice(f),h=c.length),u+=String.fromCharCode(m),i[g]=m,r[m++]=g),f=h+1}return u}let s=4e4;const a=o(n);s=65535;const l=o(e);return{chars1:a,chars2:l,lineArray:r}}function t0n(n,e,r){let i=n,o=e;const s=e0n(i,o);i=s.chars1,o=s.chars2;const a=s.lineArray;let l=Lx(i,o,{checkLines:!1,deadline:r.deadline});Jvn(l,a),l=Gne(l),l.push([ar,""]);let c=0,u=0,f=0,h="",m="";for(;c<l.length;){switch(l[c][0]){case po:f++,m+=l[c][1];break;case zi:u++,h+=l[c][1];break;case ar:if(u>=1&&f>=1){l.splice(c-u-f,u+f),c=c-u-f;const g=Lx(h,m,{checkLines:!1,deadline:r.deadline});for(let v=g.length-1;v>=0;v--)l.splice(c,0,g[v]);c+=g.length}f=0,u=0,h="",m="";break;default:throw new Error("Unknown diff operation.")}c++}return l.pop(),l}function n0n(n,e,r){let i;if(!n)return[[po,e]];if(!e)return[[zi,n]];const o=n.length>e.length?n:e,s=n.length>e.length?e:n,a=o.indexOf(s);if(a!==-1)return i=[[po,o.substring(0,a)],[ar,s],[po,o.substring(a+s.length)]],n.length>e.length&&(i[0][0]=zi,i[2][0]=zi),i;if(s.length===1)return[[zi,n],[po,e]];const l=Qvn(n,e);if(l){const c=l[0],u=l[1],f=l[2],h=l[3],m=l[4],g=Lx(c,f,r),v=Lx(u,h,r);return g.concat([[ar,m]],v)}return r.checkLines&&n.length>100&&e.length>100?t0n(n,e,r):Xvn(n,e,r.deadline)}const zi=-1,po=1,ar=0;function NS(n,e,r){if(n===null||e===null)throw new Error("Null input. (diff)");const i=Lx(n,e,i0n(r||{}));return s0n(i),i}function Lx(n,e,r){let i=n,o=e;if(i===o)return i?[[ar,i]]:[];let s=Wne(i,o);const a=i.substring(0,s);i=i.substring(s),o=o.substring(s),s=tN(i,o);const l=i.substring(i.length-s);i=i.substring(0,i.length-s),o=o.substring(0,o.length-s);let c=n0n(i,o,r);return a&&c.unshift([ar,a]),l&&c.push([ar,l]),c=nN(c),c}function r0n(n){let e=1;return typeof n<"u"&&(e=n<=0?Number.MAX_VALUE:n),Date.now()+e*1e3}function i0n(n){return{checkLines:!0,deadline:r0n(n.timeout||1),...n}}function gP(n,e,r){return r===1?n+e:e+n}function vP(n,e){return e===1?[n.substring(0,n.length-1),n[n.length-1]]:[n.substring(1),n[0]]}function o0n(n,e,r,i){return i===1?n[e][1][n[e][1].length-1]===n[r][1][n[r][1].length-1]:n[e][1][0]===n[r][1][0]}function T0e(n,e,r){const i=r===1?-1:1;let o=null,s=null,a=e+r;for(;a>=0&&a<n.length&&(o===null||s===null);a+=r){const[u,f]=n[a];if(f.length!==0){if(u===po){o===null&&(o=a);continue}else if(u===zi){s===null&&(s=a);continue}else if(u===ar){if(o===null&&s===null){const[h,m]=vP(n[e][1],r);n[e][1]=h,n[a][1]=gP(n[a][1],m,i);return}break}}}if(o!==null&&s!==null&&o0n(n,o,s,r)){const[u,f]=vP(n[o][1],i),[h]=vP(n[s][1],i);n[o][1]=u,n[s][1]=h,n[e][1]=gP(n[e][1],f,r);return}const[l,c]=vP(n[e][1],r);n[e][1]=l,o===null?(n.splice(a,0,[po,c]),s!==null&&s>=a&&s++):n[o][1]=gP(n[o][1],c,i),s===null?n.splice(a,0,[zi,c]):n[s][1]=gP(n[s][1],c,i)}function s0n(n){for(let e=0;e<n.length;e++){const[r,i]=n[e];if(i.length===0)continue;const o=i[0],s=i[i.length-1];qvn(s)&&r===ar&&T0e(n,e,1),IK(o)&&r===ar&&T0e(n,e,-1)}for(let e=0;e<n.length;e++)n[e][1].length===0&&n.splice(e,1)}const a0n={threshold:.5,distance:1e3};function l0n(n){return{...a0n,...n}}const c0n=32;function u0n(n,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(e.length>c0n)throw new Error("Pattern too long for this browser.");const o=l0n(i),s=d0n(e);function a(v,y){const b=v/e.length,x=Math.abs(r-y);return o.distance?b+x/o.distance:x?1:b}let l=o.threshold,c=n.indexOf(e,r);c!==-1&&(l=Math.min(a(0,c),l),c=n.lastIndexOf(e,r+e.length),c!==-1&&(l=Math.min(a(0,c),l)));const u=1<<e.length-1;c=-1;let f,h,m=e.length+n.length,g=[];for(let v=0;v<e.length;v++){for(f=0,h=m;f<h;)a(v,r+h)<=l?f=h:m=h,h=Math.floor((m-f)/2+f);m=h;let y=Math.max(1,r-h+1);const b=Math.min(r+h,n.length)+e.length,x=new Array(b+2);x[b+1]=(1<<v)-1;for(let _=b;_>=y;_--){const w=s[n.charAt(_-1)];if(v===0?x[_]=(x[_+1]<<1|1)&w:x[_]=(x[_+1]<<1|1)&w|((g[_+1]|g[_])<<1|1)|g[_+1],x[_]&u){const C=a(v,_-1);if(C<=l)if(l=C,c=_-1,c>r)y=Math.max(1,2*r-c);else break}}if(a(v+1,r)>l)break;g=x}return c}function d0n(n){const e={};for(let r=0;r<n.length;r++)e[n.charAt(r)]=0;for(let r=0;r<n.length;r++)e[n.charAt(r)]|=1<<n.length-r-1;return e}function qz(n,e,r){if(n===null||e===null||r===null)throw new Error("Null input. (match())");const i=Math.max(0,Math.min(r,n.length));if(n===e)return 0;if(n.length){if(n.substring(i,i+e.length)===e)return i}else return-1;return u0n(n,e,i)}function pF(n,e){return{diffs:[],start1:n,start2:e,utf8Start1:n,utf8Start2:e,length1:0,length2:0,utf8Length1:0,utf8Length2:0}}function qne(n){const e=[];for(let r=0;r<n.length;r++)n[r][0]!==po&&(e[r]=n[r][1]);return e.join("")}function Zqe(n){const e=[];for(let r=0;r<n.length;r++)n[r][0]!==zi&&(e[r]=n[r][1]);return e.join("")}function R0(n){let e=0;for(let r=0;r<n.length;r++){const i=n.codePointAt(r);if(typeof i>"u")throw new Error("Failed to get codepoint");e+=Xqe(i)}return e}function f0n(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=0,o=0;function s(l){for(;i<l;){const c=e.codePointAt(o);if(typeof c>"u")return o;i+=Xqe(c),c>65535?o+=2:o+=1}if(!r.allowExceedingIndices&&i!==l)throw new Error("Failed to determine byte offset");return o}const a=[];for(const l of n)a.push({diffs:l.diffs.map(c=>CD(c)),start1:s(l.start1),start2:s(l.start2),utf8Start1:l.utf8Start1,utf8Start2:l.utf8Start2,length1:l.length1,length2:l.length2,utf8Length1:l.utf8Length1,utf8Length2:l.utf8Length2});return a}function Xqe(n){return n<=127?1:n<=2047?2:n<=65535?3:4}const s0=32,Kne=4,h0n={margin:4};function Kz(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{...h0n,...n}}function Yne(n,e,r){if(typeof n=="string"&&typeof e=="string"){let i=NS(n,e,{checkLines:!0});return i.length>2&&(i=Gne(i),i=rN(i)),Yz(n,i,Kz(r))}if(n&&Array.isArray(n)&&typeof e>"u")return Yz(qne(n),n,Kz(r));if(typeof n=="string"&&e&&Array.isArray(e))return Yz(n,e,Kz(r));throw new Error("Unknown call format to make()")}function Yz(n,e,r){if(e.length===0)return[];const i=[];let o=pF(0,0),s=0,a=0,l=0,c=0,u=0,f=n,h=n;for(let m=0;m<e.length;m++){const g=e[m],[v,y]=g,b=y.length,x=R0(y);switch(!s&&v!==ar&&(o.start1=a,o.start2=l,o.utf8Start1=c,o.utf8Start2=u),v){case po:o.diffs[s++]=g,o.length2+=b,o.utf8Length2+=x,h=h.substring(0,l)+y+h.substring(l);break;case zi:o.length1+=b,o.utf8Length1+=x,o.diffs[s++]=g,h=h.substring(0,l)+h.substring(l+b);break;case ar:b<=2*r.margin&&s&&e.length!==m+1?(o.diffs[s++]=g,o.length1+=b,o.length2+=b,o.utf8Length1+=x,o.utf8Length2+=x):b>=2*r.margin&&s&&(A0e(o,f,r),i.push(o),o=pF(-1,-1),s=0,f=h,a=l,c=u);break;default:throw new Error("Unknown diff type")}v!==po&&(a+=b,c+=x),v!==zi&&(l+=b,u+=x)}return s&&(A0e(o,f,r),i.push(o)),i}function A0e(n,e,r){if(e.length===0)return;let i=e.substring(n.start2,n.start2+n.length1),o=0;for(;e.indexOf(i)!==e.lastIndexOf(i)&&i.length<s0-r.margin-r.margin;)o+=r.margin,i=e.substring(n.start2-o,n.start2+n.length1+o);o+=r.margin;let s=n.start2-o;s>=1&&IK(e[s])&&s--;const a=e.substring(s,n.start2);a&&n.diffs.unshift([ar,a]);const l=a.length,c=R0(a);let u=n.start2+n.length1+o;u<e.length&&IK(e[u])&&u++;const f=e.substring(n.start2+n.length1,u);f&&n.diffs.push([ar,f]);const h=f.length,m=R0(f);n.start1-=l,n.start2-=l,n.utf8Start1-=c,n.utf8Start2-=c,n.length1+=l+h,n.length2+=l+h,n.utf8Length1+=c+m,n.utf8Length2+=c+m}function p0n(n){let e=0,r=0,i=0;for(let o=0;o<n.length;o++){const s=n[o][0],a=n[o][1];switch(s){case po:r+=a.length;break;case zi:i+=a.length;break;case ar:e+=Math.max(r,i),r=0,i=0;break;default:throw new Error("Unknown diff operation.")}}return e+=Math.max(r,i),e}function I0e(n,e){let r=0,i=0,o=0,s=0,a;for(a=0;a<n.length&&(n[a][0]!==po&&(r+=n[a][1].length),n[a][0]!==zi&&(i+=n[a][1].length),!(r>e));a++)o=r,s=i;return n.length!==a&&n[a][0]===zi?s:s+(e-o)}function m0n(n){const r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kne;let i="";for(let a=1;a<=r;a++)i+=String.fromCharCode(a);for(const a of n)a.start1+=r,a.start2+=r,a.utf8Start1+=r,a.utf8Start2+=r;let o=n[0],s=o.diffs;if(s.length===0||s[0][0]!==ar)s.unshift([ar,i]),o.start1-=r,o.start2-=r,o.utf8Start1-=r,o.utf8Start2-=r,o.length1+=r,o.length2+=r,o.utf8Length1+=r,o.utf8Length2+=r;else if(r>s[0][1].length){const a=s[0][1].length,l=r-a;s[0][1]=i.substring(a)+s[0][1],o.start1-=l,o.start2-=l,o.utf8Start1-=l,o.utf8Start2-=l,o.length1+=l,o.length2+=l,o.utf8Length1+=l,o.utf8Length2+=l}if(o=n[n.length-1],s=o.diffs,s.length===0||s[s.length-1][0]!==ar)s.push([ar,i]),o.length1+=r,o.length2+=r,o.utf8Length1+=r,o.utf8Length2+=r;else if(r>s[s.length-1][1].length){const a=r-s[s.length-1][1].length;s[s.length-1][1]+=i.substring(0,a),o.length1+=a,o.length2+=a,o.utf8Length1+=a,o.utf8Length2+=a}return i}function g0n(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Kne;const r=s0;for(let i=0;i<n.length;i++){if(n[i].length1<=r)continue;const o=n[i];n.splice(i--,1);let s=o.start1,a=o.start2,l="";for(;o.diffs.length!==0;){const c=pF(s-l.length,a-l.length);let u=!0;if(l!==""){const m=R0(l);c.length1=l.length,c.utf8Length1=m,c.length2=l.length,c.utf8Length2=m,c.diffs.push([ar,l])}for(;o.diffs.length!==0&&c.length1<r-e;){const m=o.diffs[0][0];let g=o.diffs[0][1],v=R0(g);if(m===po){c.length2+=g.length,c.utf8Length2+=v,a+=g.length;const y=o.diffs.shift();y&&c.diffs.push(y),u=!1}else m===zi&&c.diffs.length===1&&c.diffs[0][0]===ar&&g.length>2*r?(c.length1+=g.length,c.utf8Length1+=v,s+=g.length,u=!1,c.diffs.push([m,g]),o.diffs.shift()):(g=g.substring(0,r-c.length1-e),v=R0(g),c.length1+=g.length,c.utf8Length1+=v,s+=g.length,m===ar?(c.length2+=g.length,c.utf8Length2+=v,a+=g.length):u=!1,c.diffs.push([m,g]),g===o.diffs[0][1]?o.diffs.shift():o.diffs[0][1]=o.diffs[0][1].substring(g.length))}l=Zqe(c.diffs),l=l.substring(l.length-e);const f=qne(o.diffs).substring(0,e),h=R0(f);f!==""&&(c.length1+=f.length,c.length2+=f.length,c.utf8Length1+=h,c.utf8Length2+=h,c.diffs.length!==0&&c.diffs[c.diffs.length-1][0]===ar?c.diffs[c.diffs.length-1][1]+=f:c.diffs.push([ar,f])),u||n.splice(++i,0,c)}}}function Zne(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof n=="string")throw new Error("Patches must be an array - pass the patch to `parsePatch()` first");let i=e;if(n.length===0)return[i,[]];const o=f0n(n,i,{allowExceedingIndices:r.allowExceedingIndices}),s=r.margin||Kne,a=r.deleteThreshold||.4,l=m0n(o,s);i=l+i+l,g0n(o,s);let c=0;const u=[];for(let f=0;f<o.length;f++){const h=o[f].start2+c,m=qne(o[f].diffs);let g,v=-1;if(m.length>s0?(g=qz(i,m.substring(0,s0),h),g!==-1&&(v=qz(i,m.substring(m.length-s0),h+m.length-s0),(v===-1||g>=v)&&(g=-1))):g=qz(i,m,h),g===-1)u[f]=!1,c-=o[f].length2-o[f].length1;else{u[f]=!0,c=g-h;let y;if(v===-1?y=i.substring(g,g+m.length):y=i.substring(g,v+s0),m===y)i=i.substring(0,g)+Zqe(o[f].diffs)+i.substring(g+m.length);else{let b=NS(m,y,{checkLines:!1});if(m.length>s0&&p0n(b)/m.length>a)u[f]=!1;else{b=Yqe(b);let x=0,_=0;for(let w=0;w<o[f].diffs.length;w++){const C=o[f].diffs[w];C[0]!==ar&&(_=I0e(b,x)),C[0]===po?i=i.substring(0,g+_)+C[1]+i.substring(g+_):C[0]===zi&&(i=i.substring(0,g+_)+i.substring(g+I0e(b,x+C[1].length))),C[0]!==zi&&(x+=C[1].length)}}}}}return i=i.substring(l.length,i.length-l.length),[i,u]}function Qqe(n){return n.map(v0n).join("")}function v0n(n){const{utf8Length1:e,utf8Length2:r,utf8Start1:i,utf8Start2:o,diffs:s}=n;let a;e===0?a="".concat(i,",0"):e===1?a="".concat(i+1):a="".concat(i+1,",").concat(e);let l;r===0?l="".concat(o,",0"):r===1?l="".concat(o+1):l="".concat(o+1,",").concat(r);const c=["@@ -".concat(a," +").concat(l,` @@
`)];let u;for(let f=0;f<s.length;f++){switch(s[f][0]){case po:u="+";break;case zi:u="-";break;case ar:u=" ";break;default:throw new Error("Unknown patch operation.")}c[f+1]="".concat(u+encodeURI(s[f][1]),`
`)}return c.join("").replace(/%20/g," ")}const y0n=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;function Jqe(n){if(!n)return[];const e=[],r=n.split(`
`);let i=0;for(;i<r.length;){const o=r[i].match(y0n);if(!o)throw new Error("Invalid patch string: ".concat(r[i]));const s=pF(yP(o[1]),yP(o[3]));for(e.push(s),o[2]===""?(s.start1--,s.utf8Start1--,s.length1=1,s.utf8Length1=1):o[2]==="0"?(s.length1=0,s.utf8Length1=0):(s.start1--,s.utf8Start1--,s.utf8Length1=yP(o[2]),s.length1=s.utf8Length1),o[4]===""?(s.start2--,s.utf8Start2--,s.length2=1,s.utf8Length2=1):o[4]==="0"?(s.length2=0,s.utf8Length2=0):(s.start2--,s.utf8Start2--,s.utf8Length2=yP(o[4]),s.length2=s.utf8Length2),i++;i<r.length;){const a=r[i],l=a.charAt(0);if(l==="@")break;if(l===""){i++;continue}let c;try{c=decodeURI(a.slice(1))}catch{throw new Error("Illegal escape in parse: ".concat(a))}const u=R0(c)-c.length;if(l==="-")s.diffs.push([zi,c]),s.length1-=u;else if(l==="+")s.diffs.push([po,c]),s.length2-=u;else if(l===" ")s.diffs.push([ar,c]),s.length1-=u,s.length2-=u;else throw new Error('Invalid patch mode "'.concat(l,'" in: ').concat(c));i++}}return e}function yP(n){return parseInt(n,10)}var b0n=IGe,D0e=Gs;function x0n(n,e,r,i){return n==null?[]:(D0e(e)||(e=e==null?[]:[e]),r=i?void 0:r,D0e(r)||(r=r==null?[]:[r]),b0n(n,e,r))}var w0n=x0n;const BS=Tt(w0n);function _0n(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,N5(n,e)}function DK(n){return DK=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},DK(n)}function N5(n,e){return N5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,o){return i.__proto__=o,i},N5(n,e)}function E0n(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $L(n,e,r){return E0n()?$L=Reflect.construct.bind():$L=function(o,s,a){var l=[null];l.push.apply(l,s);var c=Function.bind.apply(o,l),u=new c;return a&&N5(u,a.prototype),u},$L.apply(null,arguments)}function C0n(n){return Function.toString.call(n).indexOf("[native code]")!==-1}function RK(n){var e=typeof Map=="function"?new Map:void 0;return RK=function(i){if(i===null||!C0n(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,o)}function o(){return $L(i,arguments,DK(this).constructor)}return o.prototype=Object.create(i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),N5(o,i)},RK(n)}var bP=Object.freeze({left:0,top:0,bottom:0,right:0}),xP=Object.freeze({x:.5,y:.5,height:1,width:1}),S0n=function(e){var r=e.top,i=e.bottom,o=e.left,s=e.right,a=bP.top,l=bP.bottom,c=bP.left,u=bP.right;return r===a&&i===l&&o===c&&s===u},k0n=function(e){var r=e.x,i=e.y,o=e.width,s=e.height,a=xP.x,l=xP.y,c=xP.width,u=xP.height;return r===a&&i===l&&o===c&&s===u},Xne=function(n){_0n(e,n);function e(r,i){var o;return i===void 0&&(i="Failed to resolve asset ID from source"),o=n.call(this,i)||this,o.unresolvable=!0,o.input=r,o}return e}(RK(Error));function T0n(n){var e=n;return!!(e.unresolvable&&"input"in e)}function A0n(n){return function(){try{return n.apply(void 0,arguments)}catch(e){if(T0n(e))return;throw e}}}var p0="https://cdn.sanity.io",I0n=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+\.[a-z0-9]+$/,D0n=/^([a-zA-Z0-9_]{24,40}|[a-f0-9]{40})-\d+x\d+\.[a-z0-9]+$/,eKe=/^(images|files)\/([a-z0-9]+)\/([a-z0-9][-\w]*)\//,tKe=/^(?:image-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-\d+x\d+-[a-z0-9]+|file-(?:[a-zA-Z0-9_]{24,40}|[a-f0-9]{40})+-[a-z0-9]+)$/;function R0n(n){return SD(n)&&typeof n._ref=="string"}function O0n(n){return SD(n)&&typeof n._id=="string"}function P0n(n){return SD(n)&&typeof n.path=="string"}function j0n(n){return SD(n)&&typeof n.url=="string"}function L0n(n){var e=n;return SD(e)&&e.asset&&typeof e.asset=="object"}function SD(n){return n!==null&&!Array.isArray(n)&&typeof n=="object"}function $0n(n){if(eKe.test(n))return n;if(!n.startsWith(p0+"/"))throw new Xne('Failed to resolve path from URL "'+n+'"');var e=n.indexOf("?"),r=e===-1?void 0:e;return n.slice(p0.length+1,r)}var M0n="image-027401f31c3ac1e6d78c5d539ccd1beff72b9b11-2000x3000-jpg";function F0n(n){var e=n.split("-"),r=e[1],i=e[2],o=e[3],s=(i||"").split("x").map(Number),a=s[0],l=s[1];if(!r||!i||!o||!(a>0)||!(l>0))throw new Error("Malformed asset ID '"+n+`'. Expected an id like "`+M0n+'".');return{type:"image",assetId:r,width:a,height:l,extension:o}}function N0n(n){var e=nKe(n),r=F0n(e),i=r.width,o=r.height,s=i/o;return{width:i,height:o,aspectRatio:s}}function nKe(n){var e=L0n(n)?n.asset:n,r="";typeof e=="string"?r=B0n(e):R0n(e)?r=e._ref:O0n(e)?r=e._id:P0n(e)?r=AE(p0+"/"+e.path):j0n(e)&&(r=AE(e.url));var i=r&&tKe.test(r);if(!i)throw new Xne(n);return r}var rKe=A0n(nKe);function B0n(n){if(tKe.test(n))return n;if(n.indexOf(p0+"/images")===0||n.indexOf(p0+"/files")===0)return AE(n);if(eKe.test(n))return AE(p0+"/"+n);if(z0n(n))return AE(p0+"/files/a/b/"+n);if(U0n(n))return AE(p0+"/images/a/b/"+n);throw new Xne(n)}function AE(n){var e=$0n(n),r=e.split("/"),i=r[0],o=r[3],s=i.replace(/s$/,"");return s+"-"+o.replace(/\./g,"-")}function U0n(n){return D0n.test(n)}function z0n(n){return I0n.test(n)}function R0e(n){var e=rKe(n);return e?e.startsWith("file-"):!1}function tC(n){var e=rKe(n);return e?e.startsWith("image-"):!1}var iKe={exports:{}};(function(n,e){(function(r,i){n.exports=i()})(_a,function(){function r(){return r=Object.assign||function(P){for(var O=1;O<arguments.length;O++){var $=arguments[O];for(var L in $)Object.prototype.hasOwnProperty.call($,L)&&(P[L]=$[L])}return P},r.apply(this,arguments)}function i(P,O){if(P){if(typeof P=="string")return o(P,O);var $=Object.prototype.toString.call(P).slice(8,-1);if($==="Object"&&P.constructor&&($=P.constructor.name),$==="Map"||$==="Set")return Array.from(P);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return o(P,O)}}function o(P,O){(O==null||O>P.length)&&(O=P.length);for(var $=0,L=new Array(O);$<O;$++)L[$]=P[$];return L}function s(P,O){var $=typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if($)return($=$.call(P)).next.bind($);if(Array.isArray(P)||($=i(P))||O&&P&&typeof P.length=="number"){$&&(P=$);var L=0;return function(){return L>=P.length?{done:!0}:{done:!1,value:P[L++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a="image-Tb9Ew8CXIwaY6R1kjMvI0uRR-2000x3000-jpg";function l(P){var O=P.split("-"),$=O[1],L=O[2],M=O[3];if(!$||!L||!M)throw new Error("Malformed asset _ref '"+P+`'. Expected an id like "`+a+'".');var N=L.split("x"),z=N[0],B=N[1],H=+z,X=+B,G=isFinite(H)&&isFinite(X);if(!G)throw new Error("Malformed asset _ref '"+P+`'. Expected an id like "`+a+'".');return{id:$,width:H,height:X,format:M}}var c=function(O){var $=O;return $?typeof $._ref=="string":!1},u=function(O){var $=O;return $?typeof $._id=="string":!1},f=function(O){var $=O;return $&&$.asset?typeof $.asset.url=="string":!1};function h(P){if(!P)return null;var O;if(typeof P=="string"&&m(P))O={asset:{_ref:g(P)}};else if(typeof P=="string")O={asset:{_ref:P}};else if(c(P))O={asset:P};else if(u(P))O={asset:{_ref:P._id||""}};else if(f(P))O={asset:{_ref:g(P.asset.url)}};else if(typeof P.asset=="object")O=r({},P);else return null;var $=P;return $.crop&&(O.crop=$.crop),$.hotspot&&(O.hotspot=$.hotspot),v(O)}function m(P){return/^https?:\/\//.test(""+P)}function g(P){var O=P.split("/").slice(-1);return("image-"+O[0]).replace(/\.([a-z]+)$/,"-$1")}function v(P){if(P.crop&&P.hotspot)return P;var O=r({},P);return O.crop||(O.crop={left:0,top:0,bottom:0,right:0}),O.hotspot||(O.hotspot={x:.5,y:.5,height:1,width:1}),O}var y=[["width","w"],["height","h"],["format","fm"],["download","dl"],["blur","blur"],["sharpen","sharp"],["invert","invert"],["orientation","or"],["minHeight","min-h"],["maxHeight","max-h"],["minWidth","min-w"],["maxWidth","max-w"],["quality","q"],["fit","fit"],["crop","crop"],["saturation","sat"],["auto","auto"],["dpr","dpr"],["pad","pad"]];function b(P){var O=r({},P||{}),$=O.source;delete O.source;var L=h($);if(!L)throw new Error("Unable to resolve image URL from source ("+JSON.stringify($)+")");var M=L.asset._ref||L.asset._id||"",N=l(M),z=Math.round(L.crop.left*N.width),B=Math.round(L.crop.top*N.height),H={left:z,top:B,width:Math.round(N.width-L.crop.right*N.width-z),height:Math.round(N.height-L.crop.bottom*N.height-B)},X=L.hotspot.height*N.height/2,G=L.hotspot.width*N.width/2,ne=L.hotspot.x*N.width,le=L.hotspot.y*N.height,K={left:ne-G,top:le-X,right:ne+G,bottom:le+X};return O.rect||O.focalPoint||O.ignoreImageParams||O.crop||(O=r({},O,_({crop:H,hotspot:K},O))),x(r({},O,{asset:N}))}function x(P){var O=(P.baseUrl||"https://cdn.sanity.io").replace(/\/+$/,""),$=P.asset.id+"-"+P.asset.width+"x"+P.asset.height+"."+P.asset.format,L=O+"/images/"+P.projectId+"/"+P.dataset+"/"+$,M=[];if(P.rect){var N=P.rect,z=N.left,B=N.top,H=N.width,X=N.height,G=z!==0||B!==0||X!==P.asset.height||H!==P.asset.width;G&&M.push("rect="+z+","+B+","+H+","+X)}P.bg&&M.push("bg="+P.bg),P.focalPoint&&(M.push("fp-x="+P.focalPoint.x),M.push("fp-y="+P.focalPoint.y));var ne=[P.flipHorizontal&&"h",P.flipVertical&&"v"].filter(Boolean).join("");return ne&&M.push("flip="+ne),y.forEach(function(le){var K=le[0],Q=le[1];typeof P[K]<"u"?M.push(Q+"="+encodeURIComponent(P[K])):typeof P[Q]<"u"&&M.push(Q+"="+encodeURIComponent(P[Q]))}),M.length===0?L:L+"?"+M.join("&")}function _(P,O){var $,L=O.width,M=O.height;if(!(L&&M))return{width:L,height:M,rect:P.crop};var N=P.crop,z=P.hotspot,B=L/M,H=N.width/N.height;if(H>B){var X=Math.round(N.height),G=Math.round(X*B),ne=Math.max(0,Math.round(N.top)),le=Math.round((z.right-z.left)/2+z.left),K=Math.max(0,Math.round(le-G/2));K<N.left?K=N.left:K+G>N.left+N.width&&(K=N.left+N.width-G),$={left:K,top:ne,width:G,height:X}}else{var Q=N.width,re=Math.round(Q/B),se=Math.max(0,Math.round(N.left)),de=Math.round((z.bottom-z.top)/2+z.top),fe=Math.max(0,Math.round(de-re/2));fe<N.top?fe=N.top:fe+re>N.top+N.height&&(fe=N.top+N.height-re),$={left:se,top:fe,width:Q,height:re}}return{width:L,height:M,rect:$}}var w=["clip","crop","fill","fillmax","max","scale","min"],C=["top","bottom","left","right","center","focalpoint","entropy"],S=["format"];function T(P){return P&&"config"in P?typeof P.config=="function":!1}function A(P){return P&&"clientConfig"in P?typeof P.clientConfig=="object":!1}function I(P){for(var O=y,$=s(O),L;!(L=$()).done;){var M=L.value,N=M[0],z=M[1];if(P===N||P===z)return N}return P}function D(P){if(T(P)){var O=P.config(),$=O.apiHost,L=O.projectId,M=O.dataset,N=$||"https://api.sanity.io";return new R(null,{baseUrl:N.replace(/^https:\/\/api\./,"https://cdn."),projectId:L,dataset:M})}var z=P;if(A(z)){var B=z.clientConfig,H=B.apiHost,X=B.projectId,G=B.dataset,ne=H||"https://api.sanity.io";return new R(null,{baseUrl:ne.replace(/^https:\/\/api\./,"https://cdn."),projectId:X,dataset:G})}return new R(null,P)}var R=function(){function P($,L){this.options=void 0,this.options=$?r({},$.options||{},L||{}):r({},L||{})}var O=P.prototype;return O.withOptions=function(L){var M=L.baseUrl||this.options.baseUrl,N={baseUrl:M};for(var z in L)if(L.hasOwnProperty(z)){var B=I(z);N[B]=L[z]}return new P(this,r({baseUrl:M},N))},O.image=function(L){return this.withOptions({source:L})},O.dataset=function(L){return this.withOptions({dataset:L})},O.projectId=function(L){return this.withOptions({projectId:L})},O.bg=function(L){return this.withOptions({bg:L})},O.dpr=function(L){return this.withOptions(L&&L!==1?{dpr:L}:{})},O.width=function(L){return this.withOptions({width:L})},O.height=function(L){return this.withOptions({height:L})},O.focalPoint=function(L,M){return this.withOptions({focalPoint:{x:L,y:M}})},O.maxWidth=function(L){return this.withOptions({maxWidth:L})},O.minWidth=function(L){return this.withOptions({minWidth:L})},O.maxHeight=function(L){return this.withOptions({maxHeight:L})},O.minHeight=function(L){return this.withOptions({minHeight:L})},O.size=function(L,M){return this.withOptions({width:L,height:M})},O.blur=function(L){return this.withOptions({blur:L})},O.sharpen=function(L){return this.withOptions({sharpen:L})},O.rect=function(L,M,N,z){return this.withOptions({rect:{left:L,top:M,width:N,height:z}})},O.format=function(L){return this.withOptions({format:L})},O.invert=function(L){return this.withOptions({invert:L})},O.orientation=function(L){return this.withOptions({orientation:L})},O.quality=function(L){return this.withOptions({quality:L})},O.forceDownload=function(L){return this.withOptions({download:L})},O.flipHorizontal=function(){return this.withOptions({flipHorizontal:!0})},O.flipVertical=function(){return this.withOptions({flipVertical:!0})},O.ignoreImageParams=function(){return this.withOptions({ignoreImageParams:!0})},O.fit=function(L){if(w.indexOf(L)===-1)throw new Error('Invalid fit mode "'+L+'"');return this.withOptions({fit:L})},O.crop=function(L){if(C.indexOf(L)===-1)throw new Error('Invalid crop mode "'+L+'"');return this.withOptions({crop:L})},O.saturation=function(L){return this.withOptions({saturation:L})},O.auto=function(L){if(S.indexOf(L)===-1)throw new Error('Invalid auto mode "'+L+'"');return this.withOptions({auto:L})},O.pad=function(L){return this.withOptions({pad:L})},O.url=function(){return b(this.options)},O.toString=function(){return this.url()},P}();return D})})(iKe);var V0n=iKe.exports;const kD=Tt(V0n);var oKe={exports:{}},sKe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TD=p;function H0n(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var W0n=typeof Object.is=="function"?Object.is:H0n,G0n=TD.useSyncExternalStore,q0n=TD.useRef,K0n=TD.useEffect,Y0n=TD.useMemo,Z0n=TD.useDebugValue;sKe.useSyncExternalStoreWithSelector=function(n,e,r,i,o){var s=q0n(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=Y0n(function(){function c(g){if(!u){if(u=!0,f=g,g=i(g),o!==void 0&&a.hasValue){var v=a.value;if(o(v,g))return h=v}return h=g}if(v=h,W0n(f,g))return v;var y=i(g);return o!==void 0&&o(v,y)?v:(f=g,h=y)}var u=!1,f,h,m=r===void 0?null:r;return[function(){return c(e())},m===null?void 0:function(){return c(m())}]},[e,r,i,o]);var l=G0n(n,s[0],s[1]);return K0n(function(){a.hasValue=!0,a.value=l},[l]),Z0n(l),l};oKe.exports=sKe;var Qne=oKe.exports,X0n=_f,aKe=/[\\^$.*+?()[\]{}|]/g,Q0n=RegExp(aKe.source);function J0n(n){return n=X0n(n),n&&Q0n.test(n)?n.replace(aKe,"\\$&"):n}var eyn=J0n;const Jne=Tt(eyn);function tyn(n,e){if(n==null)return{};var r={},i=Object.keys(n),o,s;for(s=0;s<i.length;s++)o=i[s],!(e.indexOf(o)>=0)&&(r[o]=n[o]);return r}var OK="data-focus-lock",lKe="data-focus-lock-disabled",nyn="data-no-focus-lock",ryn="data-autofocus-inside",iyn="data-no-autofocus";function Zz(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function oyn(n,e){var r=p.useState(function(){return{value:n,callback:e,facade:{get current(){return r.value},set current(i){var o=r.value;o!==i&&(r.value=i,r.callback(i,o))}}}})[0];return r.callback=e,r.facade}var O0e=new WeakMap;function syn(n,e){var r=oyn(e||null,function(i){return n.forEach(function(o){return Zz(o,i)})});return p.useLayoutEffect(function(){var i=O0e.get(r);if(i){var o=new Set(i),s=new Set(n),a=r.current;o.forEach(function(l){s.has(l)||Zz(l,null)}),s.forEach(function(l){o.has(l)||Zz(l,a)})}O0e.set(r,n)},[n]),r}var Xz={width:"1px",height:"0px",padding:0,overflow:"hidden",position:"fixed",top:"1px",left:"1px"};function cKe(n){return n}function uKe(n,e){e===void 0&&(e=cKe);var r=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:n},useMedium:function(s){var a=e(s,i);return r.push(a),function(){r=r.filter(function(l){return l!==a})}},assignSyncMedium:function(s){for(i=!0;r.length;){var a=r;r=[],a.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){i=!0;var a=[];if(r.length){var l=r;r=[],l.forEach(s),a=r}var c=function(){var f=a;a=[],f.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){a.push(f),u()},filter:function(f){return a=a.filter(f),r}}}};return o}function ere(n,e){return e===void 0&&(e=cKe),uKe(n,e)}function ayn(n){n===void 0&&(n={});var e=uKe(null);return e.options=jW({async:!0,ssr:!1},n),e}var dKe=ere({},function(n){var e=n.target,r=n.currentTarget;return{target:e,currentTarget:r}}),fKe=ere(),lyn=ere(),cyn=ayn({async:!0,ssr:typeof document<"u"}),uyn=p.createContext(void 0),dyn=[],hKe=p.forwardRef(function(e,r){var i,o=p.useState(),s=o[0],a=o[1],l=p.useRef(),c=p.useRef(!1),u=p.useRef(null),f=p.useState({}),h=f[1],m=e.children,g=e.disabled,v=g===void 0?!1:g,y=e.noFocusGuards,b=y===void 0?!1:y,x=e.persistentFocus,_=x===void 0?!1:x,w=e.crossFrame,C=w===void 0?!0:w,S=e.autoFocus,T=S===void 0?!0:S;e.allowTextSelection;var A=e.group,I=e.className,D=e.whiteList,R=e.hasPositiveIndices,P=e.shards,O=P===void 0?dyn:P,$=e.as,L=$===void 0?"div":$,M=e.lockProps,N=M===void 0?{}:M,z=e.sideCar,B=e.returnFocus,H=B===void 0?!1:B,X=e.focusOptions,G=e.onActivation,ne=e.onDeactivation,le=p.useState({}),K=le[0],Q=p.useCallback(function(Pe){var Re=Pe.captureFocusRestore;if(!u.current){var Fe,Ye=(Fe=document)==null?void 0:Fe.activeElement;u.current=Ye,Ye!==document.body&&(u.current=Re(Ye))}l.current&&G&&G(l.current),c.current=!0,h()},[G]),re=p.useCallback(function(){c.current=!1,ne&&ne(l.current),h()},[ne]),se=p.useCallback(function(Pe){var Re=u.current;if(Re){var Fe=(typeof Re=="function"?Re():Re)||document.body,Ye=typeof H=="function"?H(Fe):H;if(Ye){var He=typeof Ye=="object"?Ye:void 0;u.current=null,Pe?Promise.resolve().then(function(){return Fe.focus(He)}):Fe.focus(He)}}},[H]),de=p.useCallback(function(Pe){c.current&&dKe.useMedium(Pe)},[]),fe=fKe.useMedium,we=p.useCallback(function(Pe){l.current!==Pe&&(l.current=Pe,a(Pe))},[]),ye=Rg((i={},i[lKe]=v&&"disabled",i[OK]=A,i),N),ve=b!==!0,_e=ve&&b!=="tail",ge=syn([r,we]),pe=p.useMemo(function(){return{observed:l,shards:O,enabled:!v,active:c.current}},[v,c.current,O,s]);return p.createElement(p.Fragment,null,ve&&[p.createElement("div",{key:"guard-first","data-focus-guard":!0,tabIndex:v?-1:0,style:Xz}),R?p.createElement("div",{key:"guard-nearest","data-focus-guard":!0,tabIndex:v?-1:1,style:Xz}):null],!v&&p.createElement(z,{id:K,sideCar:cyn,observed:s,disabled:v,persistentFocus:_,crossFrame:C,autoFocus:T,whiteList:D,shards:O,onActivation:Q,onDeactivation:re,returnFocus:se,focusOptions:X}),p.createElement(L,Rg({ref:ge},ye,{className:I,onBlur:fe,onFocus:de}),p.createElement(uyn.Provider,{value:pe},m)),_e&&p.createElement("div",{"data-focus-guard":!0,tabIndex:v?-1:0,style:Xz}))});hKe.propTypes={};const pKe=hKe;function fyn(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,P3(n,e)}function hyn(n,e){function r(i){return i.displayName||i.name||"Component"}return function(o){var s=[],a;function l(){a=n(s.map(function(u){return u.props})),e(a)}var c=function(u){fyn(f,u);function f(){return u.apply(this,arguments)||this}f.peek=function(){return a};var h=f.prototype;return h.componentDidMount=function(){s.push(this),l()},h.componentDidUpdate=function(){l()},h.componentWillUnmount=function(){var g=s.indexOf(this);s.splice(g,1),l()},h.render=function(){return _t.createElement(o,this.props)},f}(p.PureComponent);return Ht(c,"displayName","SideEffect("+r(o)+")"),c}}var nm=function(n){for(var e=Array(n.length),r=0;r<n.length;++r)e[r]=n[r];return e},$x=function(n){return Array.isArray(n)?n:[n]},mKe=function(n){return Array.isArray(n)?n[0]:n},pyn=function(n){if(n.nodeType!==Node.ELEMENT_NODE)return!1;var e=window.getComputedStyle(n,null);return!e||!e.getPropertyValue?!1:e.getPropertyValue("display")==="none"||e.getPropertyValue("visibility")==="hidden"},gKe=function(n){return n.parentNode&&n.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE?n.parentNode.host:n.parentNode},vKe=function(n){return n===document||n&&n.nodeType===Node.DOCUMENT_NODE},myn=function(n){return n.hasAttribute("inert")},gyn=function(n,e){return!n||vKe(n)||!pyn(n)&&!myn(n)&&e(gKe(n))},yKe=function(n,e){var r=n.get(e);if(r!==void 0)return r;var i=gyn(e,yKe.bind(void 0,n));return n.set(e,i),i},vyn=function(n,e){return n&&!vKe(n)?xyn(n)?e(gKe(n)):!1:!0},bKe=function(n,e){var r=n.get(e);if(r!==void 0)return r;var i=vyn(e,bKe.bind(void 0,n));return n.set(e,i),i},xKe=function(n){return n.dataset},yyn=function(n){return n.tagName==="BUTTON"},wKe=function(n){return n.tagName==="INPUT"},_Ke=function(n){return wKe(n)&&n.type==="radio"},byn=function(n){return!((wKe(n)||yyn(n))&&(n.type==="hidden"||n.disabled))},xyn=function(n){var e=n.getAttribute(iyn);return![!0,"true",""].includes(e)},tre=function(n){var e;return!!(n&&(!((e=xKe(n))===null||e===void 0)&&e.focusGuard))},PK=function(n){return!tre(n)},wyn=function(n){return!!n},_yn=function(n,e){var r=Math.max(0,n.tabIndex),i=Math.max(0,e.tabIndex),o=r-i,s=n.index-e.index;if(o){if(!r)return 1;if(!i)return-1}return o||s},Eyn=function(n){return n.tabIndex<0&&!n.hasAttribute("tabindex")?0:n.tabIndex},nre=function(n,e,r){return nm(n).map(function(i,o){var s=Eyn(i);return{node:i,index:o,tabIndex:r&&s===-1?(i.dataset||{}).focusGuard?0:-1:s}}).filter(function(i){return!e||i.tabIndex>=0}).sort(_yn)},Cyn=["button:enabled","select:enabled","textarea:enabled","input:enabled","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[tabindex]","[contenteditable]","[autofocus]"],rre=Cyn.join(","),Syn="".concat(rre,", [data-focus-guard]"),EKe=function(n,e){return nm((n.shadowRoot||n).children).reduce(function(r,i){return r.concat(i.matches(e?Syn:rre)?[i]:[],EKe(i))},[])},kyn=function(n,e){var r;return n instanceof HTMLIFrameElement&&(!((r=n.contentDocument)===null||r===void 0)&&r.body)?XC([n.contentDocument.body],e):[n]},XC=function(n,e){return n.reduce(function(r,i){var o,s=EKe(i,e),a=(o=[]).concat.apply(o,s.map(function(l){return kyn(l,e)}));return r.concat(a,i.parentNode?nm(i.parentNode.querySelectorAll(rre)).filter(function(l){return l===i}):[])},[])},Tyn=function(n){var e=n.querySelectorAll("[".concat(ryn,"]"));return nm(e).map(function(r){return XC([r])}).reduce(function(r,i){return r.concat(i)},[])},ire=function(n,e){return nm(n).filter(function(r){return yKe(e,r)}).filter(function(r){return byn(r)})},P0e=function(n,e){return e===void 0&&(e=new Map),nm(n).filter(function(r){return bKe(e,r)})},ore=function(n,e,r){return nre(ire(XC(n,r),e),!0,r)},mF=function(n,e){return nre(ire(XC(n),e),!1)},Ayn=function(n,e){return ire(Tyn(n),e)},Jb=function(n,e){return n.shadowRoot?Jb(n.shadowRoot,e):Object.getPrototypeOf(n).contains!==void 0&&Object.getPrototypeOf(n).contains.call(n,e)?!0:nm(n.children).some(function(r){var i;if(r instanceof HTMLIFrameElement){var o=(i=r.contentDocument)===null||i===void 0?void 0:i.body;return o?Jb(o,e):!1}return Jb(r,e)})},Iyn=function(n){for(var e=new Set,r=n.length,i=0;i<r;i+=1)for(var o=i+1;o<r;o+=1){var s=n[i].compareDocumentPosition(n[o]);(s&Node.DOCUMENT_POSITION_CONTAINED_BY)>0&&e.add(o),(s&Node.DOCUMENT_POSITION_CONTAINS)>0&&e.add(i)}return n.filter(function(a,l){return!e.has(l)})},CKe=function(n){return n.parentNode?CKe(n.parentNode):n},sre=function(n){var e=$x(n);return e.filter(Boolean).reduce(function(r,i){var o=i.getAttribute(OK);return r.push.apply(r,o?Iyn(nm(CKe(i).querySelectorAll("[".concat(OK,'="').concat(o,'"]:not([').concat(lKe,'="disabled"])')))):[i]),r},[])},Dyn=function(n){try{return n()}catch{return}},B5=function(n){if(n===void 0&&(n=document),!(!n||!n.activeElement)){var e=n.activeElement;return e.shadowRoot?B5(e.shadowRoot):e instanceof HTMLIFrameElement&&Dyn(function(){return e.contentWindow.document})?B5(e.contentWindow.document):e}},Ryn=function(n,e){return n===e},Oyn=function(n,e){return!!nm(n.querySelectorAll("iframe")).some(function(r){return Ryn(r,e)})},SKe=function(n,e){return e===void 0&&(e=B5(mKe(n).ownerDocument)),!e||e.dataset&&e.dataset.focusGuard?!1:sre(n).some(function(r){return Jb(r,e)||Oyn(r,e)})},Pyn=function(n){n===void 0&&(n=document);var e=B5(n);return e?nm(n.querySelectorAll("[".concat(nyn,"]"))).some(function(r){return Jb(r,e)}):!1},jyn=function(n,e){return e.filter(_Ke).filter(function(r){return r.name===n.name}).filter(function(r){return r.checked})[0]||n},are=function(n,e){return _Ke(n)&&n.name?jyn(n,e):n},Lyn=function(n){var e=new Set;return n.forEach(function(r){return e.add(are(r,n))}),n.filter(function(r){return e.has(r)})},j0e=function(n){return n[0]&&n.length>1?are(n[0],n):n[0]},L0e=function(n,e){return n.indexOf(are(e,n))},jK="NEW_FOCUS",$yn=function(n,e,r,i,o){var s=n.length,a=n[0],l=n[s-1],c=tre(i);if(!(i&&n.indexOf(i)>=0)){var u=i!==void 0?r.indexOf(i):-1,f=o?r.indexOf(o):u,h=o?n.indexOf(o):-1;if(u===-1)return h!==-1?h:jK;if(h===-1)return jK;var m=u-f,g=r.indexOf(a),v=r.indexOf(l),y=Lyn(r),b=i!==void 0?y.indexOf(i):-1,x=b-(o?y.indexOf(o):u);if(!m&&h>=0||e.length===0)return h;var _=L0e(n,e[0]),w=L0e(n,e[e.length-1]);if(u<=g&&c&&Math.abs(m)>1)return w;if(u>=v&&c&&Math.abs(m)>1)return _;if(m&&Math.abs(x)>1)return h;if(u<=g)return w;if(u>v)return _;if(m)return Math.abs(m)>1?h:(s+h+m)%s}},Myn=function(n){return function(e){var r,i=(r=xKe(e))===null||r===void 0?void 0:r.autofocus;return e.autofocus||i!==void 0&&i!=="false"||n.indexOf(e)>=0}},$0e=function(n,e,r){var i=n.map(function(s){var a=s.node;return a}),o=P0e(i.filter(Myn(r)));return o&&o.length?j0e(o):j0e(P0e(e))},LK=function(n,e){return e===void 0&&(e=[]),e.push(n),n.parentNode&&LK(n.parentNode.host||n.parentNode,e),e},Qz=function(n,e){for(var r=LK(n),i=LK(e),o=0;o<r.length;o+=1){var s=r[o];if(i.indexOf(s)>=0)return s}return!1},kKe=function(n,e,r){var i=$x(n),o=$x(e),s=i[0],a=!1;return o.filter(Boolean).forEach(function(l){a=Qz(a||l,l)||a,r.filter(Boolean).forEach(function(c){var u=Qz(s,c);u&&(!a||Jb(u,a)?a=u:a=Qz(u,a))})}),a},M0e=function(n,e){return n.reduce(function(r,i){return r.concat(Ayn(i,e))},[])},Fyn=function(n,e){var r=new Map;return e.forEach(function(i){return r.set(i.node,i)}),n.map(function(i){return r.get(i)}).filter(wyn)},Nyn=function(n,e){var r=B5($x(n).length>0?document:mKe(n).ownerDocument),i=sre(n).filter(PK),o=kKe(r||n,n,i),s=new Map,a=mF(i,s),l=a.filter(function(v){var y=v.node;return PK(y)});if(l[0]){var c=mF([o],s).map(function(v){var y=v.node;return y}),u=Fyn(c,l),f=u.map(function(v){var y=v.node;return y}),h=u.filter(function(v){var y=v.tabIndex;return y>=0}).map(function(v){var y=v.node;return y}),m=$yn(f,h,c,r,e);if(m===jK){var g=$0e(a,h,M0e(i,s))||$0e(a,f,M0e(i,s));if(g)return{node:g};console.warn("focus-lock: cannot find any node to move focus into");return}return m===void 0?m:u[m]}},Byn=function(n){var e=sre(n).filter(PK),r=kKe(n,n,e),i=nre(XC([r],!0),!0,!0),o=XC(e,!1);return i.map(function(s){var a=s.node,l=s.index;return{node:a,index:l,lockItem:o.indexOf(a)>=0,guard:tre(a)}})},lre=function(n,e){n&&("focus"in n&&n.focus(e),"contentWindow"in n&&n.contentWindow&&n.contentWindow.focus())},Jz=0,eV=!1,TKe=function(n,e,r){r===void 0&&(r={});var i=Nyn(n,e);if(!eV&&i){if(Jz>2){console.error("FocusLock: focus-fighting detected. Only one focus management system could be active. See https://github.com/theKashey/focus-lock/#focus-fighting"),eV=!0,setTimeout(function(){eV=!1},1);return}Jz++,lre(i.node,r.focusOptions),Jz--}};function Ek(n){if(!n)return null;var e=n?new WeakRef(n):null;return function(){return(e==null?void 0:e.deref())||null}}var Uyn=function(n){if(!n)return null;for(var e=[],r=n;r&&r!==document.body;)e.push({current:Ek(r),parent:Ek(r.parentElement),left:Ek(r.previousElementSibling),right:Ek(r.nextElementSibling)}),r=r.parentElement;return{element:Ek(n),stack:e,ownerDocument:n.ownerDocument}},zyn=function(n){var e,r,i,o,s;if(n)for(var a=n.stack,l=n.ownerDocument,c=new Map,u=0,f=a;u<f.length;u++){var h=f[u],m=(e=h.parent)===null||e===void 0?void 0:e.call(h);if(m&&l.contains(m)){for(var g=(r=h.left)===null||r===void 0?void 0:r.call(h),v=h.current(),y=m.contains(v)?v:void 0,b=(i=h.right)===null||i===void 0?void 0:i.call(h),x=ore([m],c),_=(s=(o=y??(g==null?void 0:g.nextElementSibling))!==null&&o!==void 0?o:b)!==null&&s!==void 0?s:g;_;){for(var w=0,C=x;w<C.length;w++){var S=C[w];if(_!=null&&_.contains(S.node))return S.node}_=_.nextElementSibling}if(x.length)return x[0].node}}},Vyn=function(n){var e=Uyn(n);return function(){return zyn(e)}},Hyn=function(n,e,r){if(!n||!e)return console.error("no element or scope given"),{};var i=$x(e);if(i.every(function(a){return!Jb(a,n)}))return console.error("Active element is not contained in the scope"),{};var o=r?ore(i,new Map):mF(i,new Map),s=o.findIndex(function(a){var l=a.node;return l===n});if(s!==-1)return{prev:o[s-1],next:o[s+1],first:o[0],last:o[o.length-1]}},Wyn=function(n,e){var r=e?ore($x(n),new Map):mF($x(n),new Map);return{first:r[0],last:r[r.length-1]}},Gyn=function(n){return Object.assign({scope:document.body,cycle:!0,onlyTabbable:!0},n)},AKe=function(n,e,r){e===void 0&&(e={});var i=Gyn(e),o=Hyn(n,i.scope,i.onlyTabbable);if(o){var s=r(o,i.cycle);s&&lre(s.node,i.focusOptions)}},qyn=function(n,e){e===void 0&&(e={}),AKe(n,e,function(r,i){var o=r.next,s=r.first;return o||i&&s})},Kyn=function(n,e){e===void 0&&(e={}),AKe(n,e,function(r,i){var o=r.prev,s=r.last;return o||i&&s})},IKe=function(n,e,r){var i,o=Wyn(n,(i=e.onlyTabbable)!==null&&i!==void 0?i:!0),s=o[r];s&&lre(s.node,e.focusOptions)},Yyn=function(n,e){e===void 0&&(e={}),IKe(n,e,"first")},Zyn=function(n,e){e===void 0&&(e={}),IKe(n,e,"last")};function cre(n){setTimeout(n,1)}var Xyn=function(e){return e&&"current"in e?e.current:e},Qyn=function(){return document&&document.activeElement===document.body},Jyn=function(){return Qyn()||Pyn()},nC=null,IE=null,rC=null,U5=!1,e1n=function(){return!0},t1n=function(e){return(nC.whiteList||e1n)(e)},n1n=function(e,r){rC={observerNode:e,portaledElement:r}},r1n=function(e){return rC&&rC.portaledElement===e};function F0e(n,e,r,i){var o=null,s=n;do{var a=i[s];if(a.guard)a.node.dataset.focusAutoGuard&&(o=a);else if(a.lockItem){if(s!==n)return;o=null}else break}while((s+=r)!==e);o&&(o.node.tabIndex=0)}var i1n=function(e){return e?!!U5:U5==="meanwhile"},o1n=function n(e,r,i){return r&&(r.host===e&&(!r.activeElement||i.contains(r.activeElement))||r.parentNode&&n(e,r.parentNode,i))},s1n=function(e,r){return r.some(function(i){return o1n(e,i,i)})},gF=function(){var e=!1;if(nC){var r=nC,i=r.observed,o=r.persistentFocus,s=r.autoFocus,a=r.shards,l=r.crossFrame,c=r.focusOptions,u=i||rC&&rC.portaledElement,f=document&&document.activeElement;if(u){var h=[u].concat(a.map(Xyn).filter(Boolean));if((!f||t1n(f))&&(o||i1n(l)||!Jyn()||!IE&&s)&&(u&&!(SKe(h)||f&&s1n(f,h)||r1n(f))&&(document&&!IE&&f&&!s?(f.blur&&f.blur(),document.body.focus()):(e=TKe(h,IE,{focusOptions:c}),rC={})),U5=!1,IE=document&&document.activeElement),document&&f!==document.activeElement&&document.querySelector("[data-focus-auto-guard]")){var m=document&&document.activeElement,g=Byn(h),v=g.map(function(y){var b=y.node;return b}).indexOf(m);v>-1&&(g.filter(function(y){var b=y.guard,x=y.node;return b&&x.dataset.focusAutoGuard}).forEach(function(y){var b=y.node;return b.removeAttribute("tabIndex")}),F0e(v,g.length,1,g),F0e(v,-1,-1,g))}}}return e},DKe=function(e){gF()&&e&&(e.stopPropagation(),e.preventDefault())},ure=function(){return cre(gF)},a1n=function(e){var r=e.target,i=e.currentTarget;i.contains(r)||n1n(i,r)},l1n=function(){return null},RKe=function(){U5="just",cre(function(){U5="meanwhile"})},c1n=function(){document.addEventListener("focusin",DKe),document.addEventListener("focusout",ure),window.addEventListener("blur",RKe)},u1n=function(){document.removeEventListener("focusin",DKe),document.removeEventListener("focusout",ure),window.removeEventListener("blur",RKe)};function d1n(n){return n.filter(function(e){var r=e.disabled;return!r})}var OKe={moveFocusInside:TKe,focusInside:SKe,focusNextElement:qyn,focusPrevElement:Kyn,focusFirstElement:Yyn,focusLastElement:Zyn,captureFocusRestore:Vyn};function f1n(n){var e=n.slice(-1)[0];e&&!nC&&c1n();var r=nC,i=r&&e&&e.id===r.id;nC=e,r&&!i&&(r.onDeactivation(),n.filter(function(o){var s=o.id;return s===r.id}).length||r.returnFocus(!e)),e?(IE=null,(!i||r.observed!==e.observed)&&e.onActivation(OKe),gF(),cre(gF)):(u1n(),IE=null)}dKe.assignSyncMedium(a1n);fKe.assignMedium(ure);lyn.assignMedium(function(n){return n(OKe)});const h1n=hyn(d1n,f1n)(l1n);var PKe=p.forwardRef(function(e,r){return p.createElement(pKe,Rg({sideCar:h1n,ref:r},e))}),jKe=pKe.propTypes||{};jKe.sideCar;tyn(jKe,["sideCar"]);PKe.propTypes={};const rv=PKe;var p1n=xWe,m1n=pS,N0e=T6;function g1n(n,e,r){var i=n.length;if(i<2)return i?N0e(n[0]):[];for(var o=-1,s=Array(i);++o<i;)for(var a=n[o],l=-1;++l<i;)l!=o&&(s[o]=p1n(s[o]||a,n[l],e,r));return N0e(m1n(s,1),e,r)}var v1n=g1n,y1n=F8e,b1n=ow,x1n=v1n,w1n=D6,_1n=b1n(function(n){return x1n(y1n(n,w1n))}),E1n=_1n;const C1n=Tt(E1n);function LKe(n){return n.reduce((e,r,i)=>{if(Array.isArray(r))return"".concat(e,"[").concat(r.join(":"),"]");if(S1n(r))return"".concat(e,'[_key=="').concat(r._key,'"]');if(typeof r=="number")return"".concat(e,"[").concat(r,"]");if(typeof r=="string"&&/^\d+$/.test(r))return"".concat(e,'["').concat(r,'"]');if(typeof r=="string"){const o=i===0?"":".";return"".concat(e).concat(o).concat(r)}throw new Error('Unsupported path segment "'.concat(r,'"'))},"")}function S1n(n){return typeof n=="object"&&typeof n._key=="string"}class bT extends Error{constructor(e,r,i){const o=LKe(r);super("".concat(e," (at '").concat(o,"')")),this.path=r,this.serializedPath=o,this.value=i}}const k1n=/^[a-z0-9][a-z0-9_.-]+$/i,T1n=/^[a-zA-Z_][a-zA-Z0-9_]*$/,A1n=/^[a-z_]/i;function B0e(n,e,r){if(!A1n.test(n))throw new bT("Keys must start with a letter (a-z)",r.concat(n),e);if(!T1n.test(n))throw new bT("Keys can only contain letters, numbers and underscores",r.concat(n),e);if(n==="_key"||n==="_ref"||n==="_type"){if(typeof e!="string")throw new bT("Keys must be strings",r.concat(n),e);if(!k1n.test(e))throw new bT("Invalid key - use less exotic characters",r.concat(n),e)}return n}const I1n=["_id","_type","_createdAt","_updatedAt","_rev"],$K={hideWarnings:!1,diffMatchPatch:{enabled:!0,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function D1n(n){return{...$K,...n,diffMatchPatch:{...$K.diffMatchPatch,...n.diffMatchPatch||{}}}}function iN(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$K,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[];if(n===e)return o;const s=Array.isArray(n)?"array":typeof n,a=Array.isArray(e)?"array":typeof e,l=s==="undefined",c=a==="undefined";if(l&&!c)return o.push({op:"set",path:i,value:e}),o;if(!l&&c)return o.push({op:"unset",path:i}),o;const u=D1n(r),f=l?a:s;return f==="object"||f==="array"?s!==a?(o.push({op:"set",path:i,value:e}),o):f==="array"?O1n(n,e,u,i,o):R1n(n,e,u,i,o):L1n(n,e,u,i,o)}function R1n(n,e,r,i,o){const s=i.length===0,a=Object.keys(n).filter(s?U0e:V0e).map(f=>B0e(f,n[f],i)),l=a.length,c=Object.keys(e).filter(s?U0e:V0e).map(f=>B0e(f,e[f],i)),u=c.length;for(let f=0;f<l;f++){const h=a[f];h in e||o.push({op:"unset",path:i.concat(h)})}for(let f=0;f<u;f++){const h=c[f];iN(n[h],e[h],r,i.concat([h]),o)}return o}function O1n(n,e,r,i,o){if(e.length>n.length&&o.push({op:"insert",after:i.concat([-1]),items:e.slice(n.length).map((c,u)=>dre(c,i,u,r))}),e.length<n.length){const c=n.length-e.length===1,u=n.slice(e.length);F1n(r)||!tV(u)?o.push({op:"unset",path:i.concat([c?e.length:[e.length,""]])}):o.push(...u.map(f=>({op:"unset",path:i.concat({_key:f._key})})))}for(let c=0;c<e.length;c++)if(Array.isArray(e[c]))throw new bT("Multi-dimensional arrays not supported",i.concat(c),e[c]);const s=Math.min(n.length,e.length),a=n.slice(0,s),l=e.slice(0,s);return tV(a)&&tV(l)?P1n(a,l,r,i,o):$Ke(a,l,r,i,o)}function $Ke(n,e,r,i,o){for(let s=0;s<n.length;s++)iN(n[s],dre(e[s],i,s,r),r,i.concat(s),o);return o}function P1n(n,e,r,i,o){const s=z0e(n),a=z0e(e);if(!M1n(s.keys,a.keys))return $Ke(n,e,r,i,o);for(let l=0;l<a.keys.length;l++){const c=a.keys[l],u=s.index[c],f=dre(a.index[c],i,l,r);iN(u,f,r,i.concat({_key:c}),o)}return o}function j1n(n,e,r,i){const{enabled:o,lengthThresholdRelative:s,lengthThresholdAbsolute:a}=r.diffMatchPatch,l=i[i.length-1];if(!o||typeof n!="string"||typeof e!="string"||typeof l=="string"&&l[0]==="_"||e.length<a)return;let c="";try{const u=NS(n,e),f=rN(u);c=Qqe(Yne(f))}catch{return}return c.length>e.length*s?void 0:{op:"diffMatchPatch",path:i,value:c}}function L1n(n,e,r,i,o){const s=j1n(n,e,r,i);return o.push(s||{op:"set",path:i,value:e}),o}function U0e(n){return I1n.indexOf(n)===-1}function tV(n){const e=[];for(let r=0;r<n.length;r++){const i=$1n(n[r]);if(!i||e.indexOf(i)!==-1)return!1;e.push(i)}return!0}function $1n(n){return typeof n=="object"&&n!==null&&n._key}function z0e(n){return n.reduce((e,r)=>(e.keys.push(r._key),e.index[r._key]=r,e),{keys:[],index:{}})}function M1n(n,e){return n.length===e.length&&n.every((r,i)=>e[i]===r)}function dre(n,e,r,i){if(typeof n<"u")return n;if(!i.hideWarnings){const o=LKe(e.concat(r));console.warn("undefined value in array converted to null (at '".concat(o,"')"))}return null}function F1n(n){return!!n.ifRevisionID}function V0e(n){return!0}var N1n=B1n;function B1n(n,e,r){var i=n===null,o=e===null;if(i!==o)return!1;var s=Array.isArray(n),a=Array.isArray(e);if(s!==a)return!1;var l=typeof n,c=typeof e;return l!==c?!1:V1n(l)?r?r(n,e):n===e:s?U1n(n,e,r):z1n(n,e,r)}function U1n(n,e,r){var i=n.length;if(i!==e.length)return!1;if(r){for(var o=0;o<i;o++)if(!r(n[o],e[o]))return!1}else for(var o=0;o<i;o++)if(n[o]!==e[o])return!1;return!0}function z1n(n,e,r){var i=0,o=0;if(r)for(var s in n){if(n.hasOwnProperty(s)&&!r(n[s],e[s]))return!1;i++}else for(var s in n){if(n.hasOwnProperty(s)&&n[s]!==e[s])return!1;i++}for(var s in e)e.hasOwnProperty(s)&&o++;return i===o}function V1n(n){return n!=="function"&&n!=="object"}const Lg=Tt(N1n);var H1n=e8,W1n=Fte,G1n=Nte,q1n=Qp,K1n=bS,H0e=t8,Y1n=Math.min;function Z1n(n,e,r){for(var i=r?G1n:W1n,o=n[0].length,s=n.length,a=s,l=Array(s),c=1/0,u=[];a--;){var f=n[a];a&&e&&(f=q1n(f,K1n(e))),c=Y1n(f.length,c),l[a]=!r&&(e||o>=120&&f.length>=120)?new H1n(a&&f):void 0}f=n[0];var h=-1,m=l[0];e:for(;++h<o&&u.length<c;){var g=f[h],v=e?e(g):g;if(g=r||g!==0?g:0,!(m?H0e(m,v):i(u,v,r))){for(a=s;--a;){var y=l[a];if(!(y?H0e(y,v):i(n[a],v,r)))continue e}m&&m.push(v),u.push(g)}}return u}var X1n=Z1n,Q1n=D6;function J1n(n){return Q1n(n)?n:[]}var ebn=J1n,tbn=Qp,nbn=X1n,rbn=ow,ibn=ebn,obn=rbn(function(n){var e=tbn(n,ibn);return e.length&&e[0]===n[0]?nbn(e):[]}),sbn=obn;const vF=Tt(sbn),fre=p.createContext(null);function md(){const n=p.useContext(fre);if(!n)throw new Error("Router: missing context value");return n}function abn(n){return n.button===0}function lbn(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function hre(n){const{onClick:e,href:r,target:i,replace:o=!1}=n,{navigateUrl:s}=md();return{onClick:p.useCallback(l=>{l.isDefaultPrevented()||r&&(e&&e(l),!(lbn(l)||!abn(l))&&(i||(l.preventDefault(),s({path:r,replace:o}))))},[r,s,e,o,i])}}function AD(n){const{intent:e,onClick:r,params:i,replace:o,target:s}=n,{resolveIntentLink:a}=md(),l=p.useMemo(()=>a(e,i),[e,i,a]),{onClick:c}=hre({href:l,onClick:r,replace:o,target:s});return{onClick:c,href:l}}const Sf=p.forwardRef(function(e,r){const{intent:i,params:o,target:s,...a}=e,{onClick:l,href:c}=AD({intent:i,params:o,target:s,onClick:e.onClick});return d.jsx("a",{...a,href:c,onClick:l,ref:r,target:s})});p.forwardRef(function(e,r){const{onClick:i,href:o,target:s,replace:a,...l}=e,{onClick:c}=hre({onClick:i,href:o,target:s,replace:a});return d.jsx("a",{...l,onClick:c,href:o,target:s,ref:r})});const cbn=/^[a-zA-Z0-9_-]+$/;function ubn(n){if(!n)return null;if(n.startsWith(":")){const e=n.substring(1);if(!cbn.test(e)){const r=n.includes("*")?" Splats are not supported. Consider using child routes instead":"";console.error(new Error('Warning: Param segments "'.concat(n,'" includes invalid characters.').concat(r)))}return{type:"param",name:e}}return{type:"dir",name:n}}function dbn(n){const[e]=n.split("?"),r=e.split("/").map(ubn).filter(Boolean);return{raw:n,segments:r}}function MKe(n){return Array.isArray(n)?n:n?[n]:[]}function W0e(n){return io(n)}function nV(n,e,r){return{type:"error",node:n,missingKeys:e,unmappableStateKeys:r}}function rV(n,e,r,i){return{type:"ok",node:n,matchedState:e,searchParams:r,child:i}}function FKe(n,e){if(!e)return rV(n,{},[]);const r=n.scope?e[n.scope]:e,{_searchParams:i=[],...o}=r||{},s=n.route.segments.filter(b=>b.type==="param").map(b=>b.name),a=W0e(o)?Object.keys(o):[],l=vF(a,s),c=Ax(s,l),u=Ax(a,l);if(c.length>0)return nV(n,c,[]);const f=i.map(b=>{let[x,_]=b;return[[x],_]}),h=lr(o,l);if(u.length===0)return rV(n,h,f);const m=MKe((typeof n.children=="function"?n.children(W0e(o)?o:{}):n.children)||[]);if(u.length>0&&m.length===0)return nV(n,[],u);const g=lr(o,u),y=m.map(b=>FKe(b,g)).find(b=>b.type==="ok");return y?rV(n,h,f,y):nV(n,[],u)}function NKe(n,e){const r=[...String(n)];let i="";for(let o=0;o<r.length;o++){const s=r[o];e.includes(s)?i+=s:i+=encodeURIComponent(s)}return i}const MK=rg("state-router");function fbn(n,e){MK("Resolving path from state %o",e);const r=FKe(n,e);if(r.type==="error"){const a=r.unmappableStateKeys;if(a.length>0)throw new Error("Unable to find matching route for state. Could not map the following state key".concat(a.length==1?"":"s"," to a valid url: ").concat(a.map(G0e).join(", ")));const l=r.missingKeys;throw new Error("Unable to find matching route for state. State object is missing the following key".concat(l.length==1?"":"s"," defined in route: ").concat(l.map(G0e).join(", ")))}const{path:i,searchParams:o}=BKe(r),s=o.length>0?pbn(o):"";return"/".concat(i.join("/")).concat(s?"?".concat(s):"")}function hbn(n){return"[".concat(n,"]")}function pbn(n){return n.flatMap(e=>{let[r,i]=e;return i===void 0?[]:[vbn(mbn(r)),gbn(i)].join("=")}).join("&")}function mbn(n){const[e,...r]=n;return r.length>0?[e,...r.map(hbn)].join(""):e}function gbn(n){return NKe(n,"/")}function vbn(n){return NKe(n,"[]")}function BKe(n){const e=n.matchedState,r=n.node.route.segments.map(s=>{if(s.type==="dir")return s.name;const a=n.node.transform&&n.node.transform[s.name];return a?a.toPath(e[s.name]):e[s.name]}),i=n.child?BKe(n.child):void 0,o=i!=null&&i.searchParams?[...n.searchParams,...i.searchParams]:n.searchParams;return{searchParams:ybn(n.node,o),path:[...r||[],...(i==null?void 0:i.path)||[]]}}function ybn(n,e){const r=n.scope;return r&&!n.__unsafe_disableScopedSearchParams?e.map(i=>{let[o,s]=i;return[[r,...o],s]}):e}function G0e(n){return'"'.concat(n,'"')}function bbn(n){return n.map(e=>{let[r,i]=e;return[xbn(r),i]})}const iV=1,q0e=0;function xbn(n){const e=[];let r=0,i=q0e;for(;r<n.length;){const o=n.indexOf("[",r);if(o===-1){e.push(n.slice(r,n.length));break}if(i===iV)throw new Error("Nested brackets not supported");i=iV,o>r&&(e.push(n.slice(r,o)),r=o);const s=n.indexOf("]",o);if(s===-1){if(i===iV)throw new Error("Unclosed bracket");break}i=q0e,e.push(n.slice(r+1,s)),r=s+1}return e}function UKe(n,e,r){const i=e.split("/").filter(Boolean),o=n.route.segments.length;if(i.length<o)return null;const s={};if(!n.route.segments.every((g,v)=>{if(g.type==="dir")return g.name===i[v];const y=n.transform&&n.transform[g.name];return s[g.name]=y?y.toState(i[v]):i[v],!0}))return null;const l=i.slice(o);let c=null;const u=typeof n.children=="function"?MKe(n.children(s)):n.children,f=_bn(n.scope,r);if(u.some(g=>{if(g){const v=g.scope?f.filter(y=>{let[b]=y;return g.scope===b[0]}):f;return c=UKe(g,l.join("/"),v),c}}),l.length>0&&!c)return null;const h=f.flatMap(g=>{let[v,y]=g;return v.length===1?[[v[0],y]]:[]}),m={...s,...c||{},...h.length>0?{_searchParams:h}:{}};return n.scope?{[n.scope]:m}:m}function wbn(n,e){MK("resolving state from path %s",e);const[r,i]=e.split("?"),o=Array.from(new URLSearchParams(i).entries()),s=UKe(n,r,bbn(o));return MK("resolved: %o",s||null),s||null}function _bn(n,e){return n?e.map(r=>{let[i,o]=r;return[i[0]===n?i.slice(1):i,o]}):e}function Ebn(n){return kbn(n).replace(/\//g,"_").replace(/\+/g,"-").replace(/[=]+$/,"")}function Cbn(n){return Abn(n.replace(/-/g,"+").replace(/_/g,"/"))}function Sbn(n){return String.fromCharCode(parseInt(n.slice(1),16))}function kbn(n){return btoa(encodeURIComponent(n).replace(/%[0-9A-F]{2}/g,Sbn))}function Tbn(n){return"%".concat("00".concat(n.charCodeAt(0).toString(16)).slice(-2))}function Abn(n){return decodeURIComponent(Array.from(atob(n),Tbn).join(""))}function zKe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const e=decodeURIComponent(n);if(!e)return{};try{return JSON.parse(Cbn(e))}catch{}try{return JSON.parse(atob(e))}catch{}try{return JSON.parse(e)}catch{console.warn("Failed to parse JSON parameters")}return{}}function VKe(n){return n?Ebn(JSON.stringify(n)):""}function Ibn(n){return n.split(";").reduce((e,r)=>{const[i,o]=r.split("=");return e[decodeURIComponent(i)]=decodeURIComponent(o),e},{})}function Dbn(n){return Object.entries(n).filter(e=>{let[,r]=e;return r!=null}).map(e=>{let[r,i]=e;return"".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(i))}).join(";")}const Vl={create:(n,e,r)=>X0e(Y0e(n,e,r)),intents:n=>{const e=Obn(n).join("/");return Vl.create("".concat(e,"/:intent"),[Vl.create(":params",{transform:{params:{toState:Ibn,toPath:Dbn}}},[Vl.create(":payload",{transform:{payload:{toState:zKe,toPath:VKe}}})])])},scope(n,e,r,i){const o=Y0e(e,r,i);return X0e({...o,scope:n})}};function K0e(n){return Array.isArray(n)||typeof n=="function"?n:n?[n]:[]}function Rbn(n){return n&&"_isRoute"in n}function Y0e(n,e,r){return typeof n=="object"?n:Array.isArray(e)||typeof e=="function"||Rbn(e)?{path:n,children:K0e(e)}:r?{path:n,...e,children:K0e(r)}:{path:n,...e}}function Obn(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return e.reduce((i,o)=>i.concat(o.split("/")),[]).filter(Boolean)}const Pbn={};function Z0e(n){return n.split("/").every(e=>!e)}function X0e(n){const{path:e,scope:r,transform:i,children:o,__unsafe_disableScopedSearchParams:s}=n;if(!e)throw new TypeError("Missing path");const a=dbn(e);return{_isRoute:!0,scope:r,__unsafe_disableScopedSearchParams:s,route:a,children:o||[],transform:i,encode(l){return fbn(this,l)},decode(l){return wbn(this,l)},isRoot:Z0e,isNotFound(l){return this.decode(l)===null},getBasePath(){return this.encode(Pbn)},getRedirectBase(l){if(Z0e(l)){const c=this.getBasePath();if(l!==c)return c}return null}}}function jbn(n){const{onNavigate:e,router:r,state:i}=n,o=p.useCallback((u,f)=>{const[h,m]=Array.isArray(f)?f:[f];return r.encode({intent:u,params:h,payload:m})},[r]),s=p.useCallback(u=>r.encode(u),[r]),a=p.useCallback(function(u){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};e({path:s(u),replace:f.replace})},[e,s]),l=p.useCallback(function(u,f){let h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};e({path:o(u,f),replace:h.replace})},[e,o]),c=p.useMemo(()=>({navigate:a,navigateIntent:l,navigateUrl:e,resolveIntentLink:o,resolvePathFromState:s,state:i}),[a,l,e,o,s,i]);return d.jsx(fre.Provider,{value:c,children:n.children})}function Lbn(n,e,r){return r&&{...n,[e]:r}}function $bn(n){const{children:e,scope:r,__unsafe_disableScopedSearchParams:i}=n,o=md(),{resolvePathFromState:s,navigate:a}=o,l=p.useRef(o.state);l.current=o.state;const c=p.useCallback(m=>{const{_searchParams:g,...v}=m,y=Lbn(l.current,r,v);return i?y._searchParams=g:y[r]._searchParams=g,y},[r,i]),u=p.useCallback(m=>s(c(m)),[s,c]),f=p.useCallback(m=>a(c(m)),[a,c]),h=p.useMemo(()=>{const m=o.state,g={...m[r]||{}};return i&&(g._searchParams=m._searchParams),{...o,navigate:f,resolvePathFromState:u,state:g}},[r,o,f,u,i]);return d.jsx(fre.Provider,{value:h,children:e})}const Q0e={};function HKe(n){const{onClick:e,replace:r,state:i,target:o,toIndex:s=!1}=n;if(i&&s)throw new Error("Passing both `state` and `toIndex={true}` as props to StateLink is invalid");!i&&!s&&console.error(new Error("No state passed to StateLink. If you want to link to an empty state, its better to use the the `toIndex` property"));const{resolvePathFromState:a}=md(),l=p.useMemo(()=>a(s?Q0e:i||Q0e),[a,i,s]),{onClick:c}=hre({href:l,onClick:e,replace:r,target:o});return{onClick:c,href:l}}const oN=p.forwardRef(function(e,r){const{onClick:i,replace:o,state:s,target:a,toIndex:l=!1,...c}=e,{onClick:u,href:f}=HKe({onClick:i,replace:o,state:s,target:a,toIndex:l});return d.jsx("a",{...c,href:f,onClick:u,ref:r})});function sN(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:KHe;const{state:e}=md();return p.useMemo(()=>n(e),[n,e])}function Mbn(n){function e(r){const i=md();return d.jsx(n,{...r,router:i})}return e.displayName="withRouter(".concat(n.displayName||n.name,")"),e}Mbn(n=>n.children(n.router));function zy(n){const{defaultDpr:e=1,maxDpr:r=3,round:i=!0}=n||{},s=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:e;return Math.min(Math.max(1,i?Math.floor(s):s),r)}var WKe={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function r(){for(var s="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(s=o(s,i(l)))}return s}function i(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var l in s)e.call(s,l)&&s[l]&&(a=o(a,l));return a}function o(s,a){return a?s?s+" "+a:s+a:s}n.exports?(r.default=r,n.exports=r):window.classNames=r})()})(WKe);var Fbn=WKe.exports;const Nbn=Tt(Fbn);var Bbn=S6,Ubn=Vte,zbn=Object.prototype,Vbn=zbn.hasOwnProperty,Hbn=Ubn(function(n,e,r){Vbn.call(n,r)?n[r].push(e):Bbn(n,r,[e])}),Wbn=Hbn;const pre=Tt(Wbn);function Gbn(n){for(var e=-1,r=n==null?0:n.length,i=0,o=[];++e<r;){var s=n[e];s&&(o[i++]=s)}return o}var qbn=Gbn;const aN=Tt(qbn);var Kbn=S6,Ybn=Vte,Zbn=Ybn(function(n,e,r){Kbn(n,r,e)}),Xbn=Zbn;const mre=Tt(Xbn);var Qbn=_f;function Jbn(n){return Qbn(n).toLowerCase()}var exn=Jbn;const iC=Tt(exn);var txn=pS,nxn=ow,rxn=T6,ixn=D6,oxn=nxn(function(n){return rxn(txn(n,1,ixn,!0))}),sxn=oxn;const GKe=Tt(sxn);function axn(){}var gre=axn,lxn=Ote,cxn=gre;function yF(n,e){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}yF.prototype=lxn(cxn.prototype);yF.prototype.constructor=yF;var vre=yF,J0e=W8e,uxn=J0e&&new J0e,dxn=uxn,eye=dxn,fxn=Bte,hxn=eye?function(n){return eye.get(n)}:fxn,qKe=hxn,pxn={},mxn=pxn,tye=mxn,gxn=Object.prototype,vxn=gxn.hasOwnProperty;function yxn(n){for(var e=n.name+"",r=tye[e],i=vxn.call(tye,e)?r.length:0;i--;){var o=r[i],s=o.func;if(s==null||s==n)return o.name}return e}var KKe=yxn,bxn=Ote,xxn=gre,wxn=4294967295;function bF(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=wxn,this.__views__=[]}bF.prototype=bxn(xxn.prototype);bF.prototype.constructor=bF;var yre=bF,_xn=yre,Exn=vre,Cxn=Ite;function Sxn(n){if(n instanceof _xn)return n.clone();var e=new Exn(n.__wrapped__,n.__chain__);return e.__actions__=Cxn(n.__actions__),e.__index__=n.__index__,e.__values__=n.__values__,e}var kxn=Sxn,Txn=yre,nye=vre,Axn=gre,Ixn=Gs,Dxn=ud,Rxn=kxn,Oxn=Object.prototype,Pxn=Oxn.hasOwnProperty;function xF(n){if(Dxn(n)&&!Ixn(n)&&!(n instanceof Txn)){if(n instanceof nye)return n;if(Pxn.call(n,"__wrapped__"))return Rxn(n)}return new nye(n)}xF.prototype=Axn.prototype;xF.prototype.constructor=xF;var jxn=xF,Lxn=yre,$xn=qKe,Mxn=KKe,Fxn=jxn;function Nxn(n){var e=Mxn(n),r=Fxn[e];if(typeof r!="function"||!(e in Lxn.prototype))return!1;if(n===r)return!0;var i=$xn(r);return!!i&&n===i[0]}var Bxn=Nxn,rye=vre,Uxn=$te,zxn=qKe,oV=KKe,Vxn=Gs,iye=Bxn,Hxn="Expected a function",Wxn=8,Gxn=32,qxn=128,Kxn=256;function Yxn(n){return Uxn(function(e){var r=e.length,i=r,o=rye.prototype.thru;for(n&&e.reverse();i--;){var s=e[i];if(typeof s!="function")throw new TypeError(Hxn);if(o&&!a&&oV(s)=="wrapper")var a=new rye([],!0)}for(i=a?i:r;++i<r;){s=e[i];var l=oV(s),c=l=="wrapper"?zxn(s):void 0;c&&iye(c[0])&&c[1]==(qxn|Wxn|Gxn|Kxn)&&!c[4].length&&c[9]==1?a=a[oV(c[0])].apply(a,c[3]):a=s.length==1&&iye(s)?a[l]():a.thru(s)}return function(){var u=arguments,f=u[0];if(a&&u.length==1&&Vxn(f))return a.plant(f).value();for(var h=0,m=r?e[h].apply(this,u):f;++h<r;)m=e[h].call(this,m);return m}})}var Zxn=Yxn,Xxn=Zxn,Qxn=Xxn(),Jxn=Qxn;const ewn=Tt(Jxn);var twn=Mte;function nwn(n,e){for(var r=n.length;r--&&twn(e,n[r],0)>-1;);return r}var rwn=nwn,iwn=Mte;function own(n,e){for(var r=-1,i=n.length;++r<i&&iwn(e,n[r],0)>-1;);return r}var swn=own,awn=SVe,lwn=t6e,cwn=VVe,uwn=rwn,dwn=swn,oye=XVe,fwn=_f;function hwn(n,e,r){if(n=fwn(n),n&&(r||e===void 0))return lwn(n);if(!n||!(e=awn(e)))return n;var i=oye(n),o=oye(e),s=dwn(i,o),a=uwn(i,o)+1;return cwn(i,s,a).join("")}var pwn=hwn;const mwn=Tt(pwn);var wP,gwn=new Uint8Array(16);function vwn(){if(!wP&&(wP=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!wP))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wP(gwn)}const ywn=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function bwn(n){return typeof n=="string"&&ywn.test(n)}var el=[];for(var sV=0;sV<256;++sV)el.push((sV+256).toString(16).substr(1));function xwn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(el[n[e+0]]+el[n[e+1]]+el[n[e+2]]+el[n[e+3]]+"-"+el[n[e+4]]+el[n[e+5]]+"-"+el[n[e+6]]+el[n[e+7]]+"-"+el[n[e+8]]+el[n[e+9]]+"-"+el[n[e+10]]+el[n[e+11]]+el[n[e+12]]+el[n[e+13]]+el[n[e+14]]+el[n[e+15]]).toLowerCase();if(!bwn(r))throw TypeError("Stringified UUID is invalid");return r}function Ia(n,e,r){n=n||{};var i=n.random||(n.rng||vwn)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,e){r=r||0;for(var o=0;o<16;++o)e[r+o]=i[o];return e}return xwn(i)}var wwn=Hx;function _wn(n,e,r){for(var i=-1,o=n.length;++i<o;){var s=n[i],a=e(s);if(a!=null&&(l===void 0?a===a&&!wwn(a):r(a,l)))var l=a,c=s}return c}var YKe=_wn;function Ewn(n,e){return n>e}var Cwn=Ewn,Swn=YKe,kwn=Cwn,Twn=rw;function Awn(n){return n&&n.length?Swn(n,Twn,kwn):void 0}var Iwn=Awn;const Dwn=Tt(Iwn);function Rwn(n,e){return n<e}var Own=Rwn,Pwn=YKe,jwn=Own,Lwn=rw;function $wn(n){return n&&n.length?Pwn(n,Lwn,jwn):void 0}var Mwn=$wn;const Fwn=Tt(Mwn),Lr=rg("mutator-document");class sp{constructor(e,r){this._value=e,this.path=r||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}get(){return this._value}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(e){return Array.isArray(this._value)?e>=this.length()?null:new sp(this._value[e],this.path.concat(e)):!1}hasAttribute(e){return Ck(this._value)?this._value.hasOwnProperty(e):!1}attributeKeys(){return Ck(this._value)?Object.keys(this._value):[]}getAttribute(e){if(!Ck(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(e)?new sp(this._value[e],this.path.concat(e)):null}set(e){return e===this._value?this:new sp(e,this.path)}setIndex(e,r){if(!Array.isArray(this._value))throw new Error("setIndex only applies to arrays");if(Object.is(r,this._value[e]))return this;const i=this._value.slice();return i[e]=r,new sp(i,this.path)}setIndexAccessor(e,r){return this.setIndex(e,r.get())}unsetIndices(e){if(!Array.isArray(this._value))throw new Error("unsetIndices only applies to arrays");const r=this._value.length,i=[];for(let o=0;o<r;o++)e.indexOf(o)===-1&&i.push(this._value[o]);return new sp(i,this.path)}insertItemsAt(e,r){if(!Array.isArray(this._value))throw new Error("insertItemsAt only applies to arrays");let i;return this._value.length===0&&e===0?i=r:i=this._value.slice(0,e).concat(r).concat(this._value.slice(e)),new sp(i,this.path)}setAttribute(e,r){if(!Ck(this._value))throw new Error("Unable to set attribute of non-object container");if(Object.is(r,this._value[e]))return this;const i=Object.assign({},this._value,{[e]:r});return new sp(i,this.path)}setAttributeAccessor(e,r){return this.setAttribute(e,r.get())}unsetAttribute(e){if(!Ck(this._value))throw new Error("Unable to unset attribute of non-object container");const r=Object.assign({},this._value);return delete r[e],new sp(r,this.path)}}function Ck(n){return n!==null&&typeof n=="object"}function ML(n){return n!==null&&typeof n=="object"}const Nwn=/^[a-z_$]+/;function ZKe(n){let e="";return n.forEach((r,i)=>{e+=Bwn(r,i===0)}),e}function Bwn(n,e){if(typeof n=="number")return"[".concat(n,"]");if(ML(n)){const r=n;return Object.keys(n).map(i=>Uwn(r[i])?"[".concat(i,'=="').concat(r[i],'"]'):"").join("")}return typeof n=="string"&&Nwn.test(n)?e?n:".".concat(n):"['".concat(n,"']")}function Uwn(n){switch(typeof n){case"number":case"string":case"boolean":return!0;default:return!1}}function zwn(n){const[e,r]=XKe(n);if(!e)throw new Error("Head cannot be null");return Hwn(e,r)}function XKe(n){if(n.type!=="path")return[n,null];const e=n.nodes;return e.length===0?[null,null]:e.length===1?[e[0],null]:[e[0],{type:"path",nodes:e.slice(1)}]}function Vwn(n,e){if(!n&&!e)return null;const r=n?n.nodes:[],i=e?e.nodes:[];return{type:"path",nodes:r.concat(i)}}function Hwn(n,e){return n.type!=="union"?[[n,e]]:n.nodes.map(r=>{if(r.type==="path"){const[i,o]=XKe(r);return[i,Vwn(o,e)]}return[r,e]})}const Wwn=/[0-9]/,Gwn=/^[a-zA-Z0-9_]$/,qwn=/^[a-zA-Z_]$/,QKe={operator:["..",".",",",":","?"],comparator:[">=","<=","<",">","==","!="],keyword:["$","@"],boolean:["true","false"],paren:["[","]"]},Kwn=Object.keys(QKe);class Ywn{constructor(e){this.source=e,this.length=e.length,this.i=0,this.tokenizers=[this.tokenizeSymbol,this.tokenizeIdentifier,this.tokenizeNumber,this.tokenizeQuoted].map(r=>r.bind(this))}tokenize(){const e=[];for(;!this.EOF();){this.chompWhitespace();let r=null;if(!this.tokenizers.some(o=>(r=o(),!!r))||!r)throw new Error("Invalid tokens in jsonpath '".concat(this.source,"' @ ").concat(this.i));e.push(r)}return e}takeWhile(e){const r=this.i;let i="";for(;!this.EOF();){const o=e(this.source[this.i]);if(o===null)break;i+=o,this.i++}return this.i===r?null:i}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.source[this.i]}consume(e){if(this.i+e.length>this.length)throw new Error("Expected ".concat(e," at end of jsonpath"));if(e===this.source.slice(this.i,this.i+e.length))this.i+=e.length;else throw new Error('Expected "'.concat(e,'", but source contained "').concat(this.source.slice()))}tryConsume(e){return this.i+e.length>this.length?null:e===this.source.slice(this.i,this.i+e.length)?(this.i+=e.length,e):null}chompWhitespace(){this.takeWhile(e=>e===" "?"":null)}tokenizeQuoted(){const e=this.peek();if(e==="'"||e==='"'){this.consume(e);let r=!1;const i=this.takeWhile(o=>r?(r=!1,o):o==="\\"?(r=!0,""):o!=e?o:null);return this.consume(e),{type:"quoted",value:i,quote:e==='"'?"double":"single"}}return null}tokenizeIdentifier(){let e=!0;const r=this.takeWhile(i=>e?(e=!1,i.match(qwn)?i:null):i.match(Gwn)?i:null);return r!==null?{type:"identifier",name:r}:null}tokenizeNumber(){const e=this.i;let r=!1,i=!1,o=!1;this.peek()==="-"&&(o=!0,this.consume("-"));const s=this.takeWhile(a=>a==="."&&!r&&i?(r=!0,a):(i=!0,a.match(Wwn)?a:null));return s!==null?{type:"number",value:o?-s:+s,raw:o?"-".concat(s):s}:(this.i=e,null)}tokenizeSymbol(){for(const e of Kwn){const i=QKe[e].find(o=>this.tryConsume(o));if(i)return{type:e,symbol:i}}return null}}function Zwn(n){return new Ywn(n).tokenize()}class Xwn{constructor(e){this.tokens=Zwn(e),this.length=this.tokens.length,this.i=0}parse(){return this.parsePath()}EOF(){return this.i>=this.length}peek(){return this.EOF()?null:this.tokens[this.i]}consume(){const e=this.peek();return this.i+=1,e}probe(e){const r=this.peek();if(!r)return null;const i=r;return Object.keys(e).every(s=>s in r&&e[s]===i[s])?r:null}match(e){return this.probe(e)?this.consume():null}parseAttribute(){const e=this.match({type:"identifier"});if(e&&e.type==="identifier")return{type:"attribute",name:e.name};const r=this.match({type:"quoted",quote:"single"});return r&&r.type==="quoted"?{type:"attribute",name:r.value||""}:null}parseAlias(){return this.match({type:"keyword",symbol:"@"})||this.match({type:"keyword",symbol:"$"})?{type:"alias",target:"self"}:null}parseNumber(){const e=this.match({type:"number"});return e&&e.type==="number"?{type:"number",value:e.value}:null}parseNumberValue(){const e=this.parseNumber();return e?e.value:null}parseSliceSelector(){const e=this.i,r=this.parseNumberValue();if(!this.match({type:"operator",symbol:":"}))return r===null?(this.i=e,null):{type:"index",value:r};const o={type:"range",start:r,end:this.parseNumberValue()};return this.match({type:"operator",symbol:":"})&&(o.step=this.parseNumberValue()),o.start===null&&o.end===null?(this.i=e,null):o}parseValueReference(){return this.parseAttribute()||this.parseSliceSelector()}parseLiteralValue(){const e=this.match({type:"quoted",quote:"double"});if(e&&e.type==="quoted")return{type:"string",value:e.value||""};const r=this.match({type:"boolean"});return r&&r.type==="boolean"?{type:"boolean",value:r.symbol==="true"}:this.parseNumber()}parseFilterExpression(){const e=this.i,r=this.parseAttribute()||this.parseAlias();if(!r)return null;if(this.match({type:"operator",symbol:"?"}))return{type:"constraint",operator:"?",lhs:r};const i=this.match({type:"comparator"});if(!i||i.type!=="comparator")return this.i=e,null;const o=r,s=this.parseLiteralValue();if(!s)throw new Error("Operator ".concat(i.symbol," needs a literal value at the right hand side"));return{type:"constraint",operator:i.symbol,lhs:o,rhs:s}}parseExpression(){return this.parseFilterExpression()||this.parseValueReference()}parseUnion(){if(!this.match({type:"paren",symbol:"["}))return null;const e=[];let r=this.parseFilterExpression()||this.parsePath()||this.parseValueReference();for(;r&&(e.push(r),!this.match({type:"paren",symbol:"]"}));){if(!this.match({type:"operator",symbol:","}))throw new Error("Expected ]");if(r=this.parseFilterExpression()||this.parsePath()||this.parseValueReference(),!r)throw new Error("Expected expression following ','")}return{type:"union",nodes:e}}parseRecursive(){if(!this.match({type:"operator",symbol:".."}))return null;const e=this.parsePath();if(!e)throw new Error("Expected path following '..' operator");return{type:"recursive",term:e}}parsePath(){const e=[],r=this.parseAttribute()||this.parseUnion()||this.parseRecursive();if(!r)return null;for(e.push(r);!this.EOF();)if(this.match({type:"operator",symbol:"."})){const i=this.parseAttribute();if(!i)throw new Error("Expected attribute name following '.");e.push(i);continue}else if(this.probe({type:"paren",symbol:"["})){const i=this.parseUnion();if(!i)throw new Error("Expected union following '['");e.push(i)}else{const i=this.parseRecursive();i&&e.push(i);break}return e.length===1?e[0]:{type:"path",nodes:e}}}function JKe(n){const e=new Xwn(n).parse();if(!e)throw new Error('Failed to parse JSON path "'.concat(n,'"'));return e}function eYe(n){return A_(n,!1)}function A_(n,e){switch(n.type){case"attribute":return n.name;case"alias":return n.target==="self"?"@":"$";case"number":return"".concat(n.value);case"range":{const r=[];return e||r.push("["),n.start&&r.push("".concat(n.start)),r.push(":"),n.end&&r.push("".concat(n.end)),n.step&&r.push(":".concat(n.step)),e||r.push("]"),r.join("")}case"index":return e?"".concat(n.value):"[".concat(n.value,"]");case"constraint":{const r=n.rhs?" ".concat(A_(n.rhs,!1)):"",i="".concat(A_(n.lhs,!1)," ").concat(n.operator).concat(r);return e?i:"[".concat(i,"]")}case"string":return JSON.stringify(n.value);case"path":{const r=[],i=n.nodes.slice();for(;i.length>0;){const o=i.shift();o&&r.push(eYe(o));const s=i[0];s&&A_(s,!1)[0]!=="["&&r.push(".")}return r.join("")}case"union":return"[".concat(n.nodes.map(r=>A_(r,!0)).join(","),"]");default:throw new Error("Unknown node type ".concat(n.type));case"recursive":return"..".concat(A_(n.term,!1))}}class Yu{constructor(e){if(!e)throw new Error("Attempted to create Expression from null-value");if("expr"in e?this.expr=e.expr:this.expr=e,!("type"in this.expr))throw new Error("Attempt to create Expression for expression with no type")}isPath(){return this.expr.type==="path"}isUnion(){return this.expr.type==="union"}isCollection(){return this.isPath()||this.isUnion()}isConstraint(){return this.expr.type==="constraint"}isRecursive(){return this.expr.type==="recursive"}isExistenceConstraint(){return this.expr.type==="constraint"&&this.expr.operator==="?"}isIndex(){return this.expr.type==="index"}isRange(){return this.expr.type==="range"}expandRange(e){const r=()=>{if(!e)throw new Error("expandRange() required a probe that was not passed");return e.length()};let i="start"in this.expr&&this.expr.start||0;i=aV(i,e);let o="end"in this.expr&&this.expr.end||r();o=aV(o,e);const s="step"in this.expr&&this.expr.step||1;return{start:i,end:o,step:s}}isAttributeReference(){return this.expr.type==="attribute"}isIndexReference(){return this.isIndex()||this.isRange()}name(){return"name"in this.expr?this.expr.name:""}isSelfReference(){return this.expr.type==="alias"&&this.expr.target==="self"}constraintTargetIsSelf(){return this.expr.type==="constraint"&&this.expr.lhs.type==="alias"&&this.expr.lhs.target==="self"}constraintTargetIsAttribute(){return this.expr.type==="constraint"&&this.expr.lhs.type==="attribute"}testConstraint(e){const r=this.expr;if(r.type==="constraint"&&r.lhs.type==="alias"&&r.lhs.target==="self"){if(e.containerType()!=="primitive")return!1;if(r.type==="constraint"&&r.operator==="?")return!0;const a=e.get(),l=r.rhs&&"value"in r.rhs?r.rhs.value:void 0;return sye(a,r.operator,l)}if(r.type!=="constraint")return!1;const i=r.lhs;if(!i)throw new Error("No LHS of expression");if(i.type!=="attribute")throw new Error("Constraint target ".concat(i.type," not supported"));if(e.containerType()!=="object")return!1;const o=e.getAttribute(i.name);if(o==null||o.containerType()!=="primitive")return!1;if(this.isExistenceConstraint())return!0;const s=r.rhs&&"value"in r.rhs?r.rhs.value:void 0;return sye(o.get(),r.operator,s)}pathNodes(){return this.expr.type==="path"?this.expr.nodes:[this.expr]}prepend(e){return e?new Yu({type:"path",nodes:e.pathNodes().concat(this.pathNodes())}):this}concat(e){return e?e.prepend(this):this}descend(){return zwn(this.expr).map(e=>{const[r,i]=e;return{head:r?new Yu(r):null,tail:i?new Yu(i):null}})}unwrapRecursive(){if(this.expr.type!=="recursive")throw new Error("Attempt to unwrap recursive on type ".concat(this.expr.type));return new Yu(this.expr.term)}toIndicies(e){if(this.expr.type!=="index"&&this.expr.type!=="range")throw new Error("Node cannot be converted to indexes");if(this.expr.type==="index")return[aV(this.expr.value,e)];const r=[],i=this.expandRange(e);let{start:o,end:s}=i;i.step<0&&([o,s]=[s,o]);for(let a=o;a<s;a++)r.push(a);return r}toFieldReferences(){if(this.isIndexReference())return this.toIndicies();if(this.expr.type==="attribute")return[this.expr.name];throw new Error("Can't convert ".concat(this.expr.type," to field references"))}toString(){return eYe(this.expr)}static fromPath(e){const r=JKe(e);if(!r)throw new Error('Failed to parse path "'.concat(e,'"'));return new Yu(r)}static attributeReference(e){return new Yu({type:"attribute",name:e})}static indexReference(e){return new Yu({type:"index",value:e})}}function sye(n,e,r){switch(e){case">":return n>r;case">=":return n>=r;case"<":return n<r;case"<=":return n<=r;case"==":return n===r;case"!=":return n!==r;default:throw new Error("Unsupported binary operator ".concat(e))}}function aV(n,e){if(n>=0)return n;if(!e)throw new Error("interpretNegativeIndex() must have a probe when < 0");return n+e.length()}class DE{constructor(e,r){this.head=e,this.tail=r}iterate(e){let r=[this];if(this.head&&this.head.isConstraint()){let i=!0;for(;i;)r=Ji(r.map(o=>o.iterateConstraints(e))),i=r.some(o=>o.head&&o.head.isConstraint())}return r}isRecursive(){return!!(this.head&&this.head.isRecursive())}hasArrived(){return this.head===null&&this.tail===null}extractRecursives(){if(this.head&&this.head.isRecursive()){const e=this.head.unwrapRecursive();return new DE(null,e.concat(this.tail)).descend()}return[]}iterateConstraints(e){const r=this.head;if(r===null||!r.isConstraint())return[this];const i=[];if(e.containerType()==="primitive"&&r.constraintTargetIsSelf())return r.testConstraint(e)&&i.push(...this.descend()),i;if(e.containerType()==="array"){const o=e.length();for(let s=0;s<o;s++){const a=e.getIndex(s);a&&r.testConstraint(a)&&i.push(new DE(new Yu({type:"index",value:s}),this.tail))}return i}return e.containerType()==="object"?r.constraintTargetIsSelf()?[]:r.testConstraint(e)?this.descend():i:i}descend(){return this.tail?this.tail.descend().map(e=>new DE(e.head,e.tail)):[new DE(null,null)]}toString(){const e=["<"];return this.head&&e.push(this.head.toString()),e.push("|"),this.tail&&e.push(this.tail.toString()),e.push(">"),e.join("")}}class Ib{constructor(e,r){this.active=e||[],r?(this.recursives=r.recursives,this.payload=r.payload):this.recursives=[],this.extractRecursives()}setPayload(e){return this.payload=e,this}extractRecursives(){this.active=this.active.filter(e=>e.isRecursive()?(this.recursives.push(...e.extractRecursives()),!1):!0)}activeRecursives(e){return this.recursives.filter(r=>{const i=r.head;return i?i.isConstraint()||e.containerType()==="array"&&i.isIndexReference()?!0:e.containerType()==="object"?i.isAttributeReference()&&e.hasAttribute(i.name()):!1:!1})}match(e){return this.iterate(e).extractMatches(e)}iterate(e){const r=[];return this.active.concat(this.activeRecursives(e)).forEach(i=>{r.push(...i.iterate(e))}),new Ib(r,this)}isDestination(){return this.active.some(e=>e.hasArrived())}hasRecursives(){return this.recursives.length>0}extractMatches(e){const r=[],i=[];if(this.active.forEach(o=>{if(o.hasArrived()){i.push(new Yu({type:"alias",target:"self"}));return}const s=o.head;if(s&&!(e.containerType()==="array"&&!s.isIndexReference())&&!(e.containerType()==="object"&&!s.isAttributeReference()))if(o.tail){const a=new Ib(o.descend(),this);s.toFieldReferences().forEach(()=>{r.push({target:s,matcher:a})})}else i.push(s)}),this.hasRecursives()){const o=new Ib([],this);if(e.containerType()==="array"){const s=e.length();for(let a=0;a<s;a++)r.push({target:Yu.indexReference(a),matcher:o})}else e.containerType()==="object"&&e.attributeKeys().forEach(s=>{r.push({target:Yu.attributeReference(s),matcher:o})})}return i.length>0?{leads:r,delivery:{targets:i,payload:this.payload}}:{leads:r}}static fromPath(e){const r=JKe(e);if(!r)throw new Error('Failed to parse path from "'.concat(e,'"'));const i=new DE(null,new Yu(r));return new Ib(i.descend())}}class wF{constructor(e,r){this._value=e,this.path=r||[]}containerType(){return Array.isArray(this._value)?"array":this._value!==null&&typeof this._value=="object"?"object":"primitive"}length(){if(!Array.isArray(this._value))throw new Error("Won't return length of non-indexable _value");return this._value.length}getIndex(e){return Array.isArray(this._value)?e>=this.length()?null:new wF(this._value[e],this.path.concat(e)):!1}hasAttribute(e){return ML(this._value)?this._value.hasOwnProperty(e):!1}attributeKeys(){return ML(this._value)?Object.keys(this._value):[]}getAttribute(e){if(!ML(this._value))throw new Error("getAttribute only applies to plain objects");return this.hasAttribute(e)?new wF(this._value[e],this.path.concat(e)):null}get(){return this._value}}function Qwn(n,e){const r=[],i=Ib.fromPath(n).setPayload(function(a){r.push(...a)}),o=new wF(e);return tYe(i,o),r}function tYe(n,e){const{leads:r,delivery:i}=n.match(e);r.forEach(o=>{aye(o.target,e).forEach(s=>{tYe(o.matcher,s)})}),i&&i.targets.forEach(o=>{typeof i.payload=="function"&&i.payload(aye(o,e))})}function aye(n,e){const r=[];if(n.isIndexReference())n.toIndicies(e).forEach(i=>{r.push(e.getIndex(i))});else if(n.isAttributeReference())r.push(e.getAttribute(n.name()));else if(n.isSelfReference())r.push(e);else throw new Error("Unable to derive accessor for target ".concat(n.toString()));return aN(r)}function Jwn(n,e){return Qwn(n,e).map(i=>({path:i.path,value:i.get()}))}function lye(n,e){if(typeof e!="string")return e;const[r]=Zne(n,e,{allowExceedingIndices:!0});return r}class e_n{constructor(e,r,i){this.id=e,this.path=r,this.dmpPatch=Jqe(i)}apply(e,r){let i=r;if(i.containerType()==="primitive")return i;for(const o of e){if(o.isIndexReference()){for(const s of o.toIndicies(r)){const a=i.getIndex(s);if(!a)continue;const l=a.get(),c=lye(this.dmpPatch,l);i=i.setIndex(s,c)}continue}if(o.isAttributeReference()&&i.hasAttribute(o.name())){const s=i.getAttribute(o.name());if(!s)continue;const a=s.get(),l=lye(this.dmpPatch,a);i=i.setAttribute(o.name(),l);continue}throw new Error("Unable to apply diffMatchPatch to target ".concat(o.toString()))}return i}}function cye(n,e){return typeof n!="number"||!Number.isFinite(n)?n:n+e}class uye{constructor(e,r,i){this.path=r,this.value=i,this.id=e}apply(e,r){let i=r;if(i.containerType()==="primitive")return i;for(const o of e){if(o.isIndexReference()){for(const s of o.toIndicies(r)){const a=i.getIndex(s);if(!a)continue;const l=a.get();i=i.setIndex(s,cye(l,this.value))}continue}if(o.isAttributeReference()){const s=i.getAttribute(o.name());if(!s)continue;const a=s.get();i=i.setAttribute(o.name(),cye(a,this.value));continue}throw new Error("Unable to apply to target ".concat(o.toString()))}return i}}function lN(n,e){const r=[];return n.forEach(i=>{i.isIndexReference()&&r.push(...i.toIndicies(e))}),r.sort()}class t_n{constructor(e,r,i,o){this.id=e,this.location=r,this.path=i,this.items=o}apply(e,r){let i=r;if(r.containerType()!=="array")throw new Error("Attempt to apply insert patch to non-array value");switch(this.location){case"before":{const o=n_n(e,r);i=i.insertItemsAt(o,this.items);break}case"after":{const o=r_n(e,r);i=i.insertItemsAt(o+1,this.items);break}case"replace":{const o=lN(e,r);i=i.unsetIndices(o),i=i.insertItemsAt(o[0],this.items);break}default:throw new Error("Unsupported location atm: ".concat(this.location))}return i}}function n_n(n,e){let r=Fwn(lN(n,e))||0;return n.forEach(i=>{if(i.isRange()){const{start:o}=i.expandRange();o<r&&(r=o)}}),r}function r_n(n,e){let r=Dwn(lN(n,e))||0;return n.forEach(i=>{if(i.isRange()){const{end:o}=i.expandRange();o>r&&(r=o)}}),r}class nYe{constructor(e,r,i){this.id=e,this.path=r,this.value=i}apply(e,r){let i=r;return e.forEach(o=>{if(!o.isIndexReference())if(o.isAttributeReference())i.containerType()==="primitive"?i=i.set({[o.name()]:this.value}):i.hasAttribute(o.name())||(i=r.setAttribute(o.name(),this.value));else throw new Error("Unable to apply to target ".concat(o.toString()))}),i}}class rYe{constructor(e,r,i){this.id=e,this.path=r,this.value=i}apply(e,r){let i=r;return e.forEach(o=>{if(o.isSelfReference())i=i.set(this.value);else if(o.isIndexReference())o.toIndicies(r).forEach(s=>{i=i.setIndex(s,this.value)});else if(o.isAttributeReference())i.containerType()==="primitive"?i=i.set({[o.name()]:this.value}):i=i.setAttribute(o.name(),this.value);else throw new Error("Unable to apply to target ".concat(o.toString()))}),i}}class i_n{constructor(e,r){this.id=e,this.path=r}apply(e,r){let i=r;switch(r.containerType()){case"array":i=i.unsetIndices(lN(e,r));break;case"object":e.forEach(o=>{i=i.unsetAttribute(o.name())});break;default:throw new Error("Target value is neither indexable or an object. This error should potentially just be silently ignored?")}return i}}function iYe(n){const e=[];if(Array.isArray(n))return n.reduce((u,f)=>u.concat(iYe(f)),e);const{set:r,setIfMissing:i,unset:o,diffMatchPatch:s,inc:a,dec:l,insert:c}=n;if(i&&Object.keys(i).forEach(u=>{e.push(new nYe(n.id,u,i[u]))}),r&&Object.keys(r).forEach(u=>{e.push(new rYe(n.id,u,r[u]))}),o&&o.forEach(u=>{e.push(new i_n(n.id,u))}),s&&Object.keys(s).forEach(u=>{e.push(new e_n(n.id,u,s[u]))}),a&&Object.keys(a).forEach(u=>{e.push(new uye(n.id,u,a[u]))}),l&&Object.keys(l).forEach(u=>{e.push(new uye(n.id,u,-l[u]))}),c){let u,f;const h=c;if("before"in h)u="before",f=h.before;else if("after"in h)u="after",f=h.after;else if("replace"in h)u="replace",f=h.replace;else throw new Error("Invalid insert patch");e.push(new t_n(n.id,u,f,h.items))}return e}let o_n=class{constructor(e){this.patches=iYe(e)}apply(e){const r=new sp(e);return this.applyViaAccessor(r).get()}applyViaAccessor(e){let r=e;const i=e.getAttribute("_id");if(!i)throw new Error("Cannot apply patch to document with no _id");const o=i.get();for(const s of this.patches){if(s.id!==o)continue;const a=Ib.fromPath(s.path).setPayload(s);r=FK(a,r)}return r}};function FK(n,e){const r=n.payload instanceof rYe||n.payload instanceof nYe;let i=e;const{leads:o,delivery:s}=n.match(e);return o.forEach(a=>{if(a.target.isIndexReference())a.target.toIndicies().forEach(l=>{const c=i.getIndex(l);if(!c)throw new Error("Index out of bounds");i=i.setIndexAccessor(l,FK(a.matcher,c))});else if(a.target.isAttributeReference()){r&&i.containerType()==="primitive"&&(i=i.set({}));let l=i.getAttribute(a.target.name());if(!l&&r&&(i=i.setAttribute(a.target.name(),{}),l=i.getAttribute(a.target.name())),!l)return;const c=FK(a.matcher,l);l!==c&&(i=i.setAttributeAccessor(a.target.name(),c))}else throw new Error("Unable to handle target ".concat(a.target.toString()))}),s&&s_n(s.payload)&&(i=s.payload.apply(s.targets,i)),i}function s_n(n){return!!(n&&typeof n=="object"&&n!==null&&"apply"in n&&typeof n.apply=="function")}const a_n=Ia;class $p{constructor(e){this.params=e}get transactionId(){return this.params.transactionId}get transition(){return this.params.transition}get identity(){return this.params.identity}get previousRev(){return this.params.previousRev}get resultRev(){return this.params.resultRev}get mutations(){return this.params.mutations}get timestamp(){if(typeof this.params.timestamp=="string")return new Date(this.params.timestamp)}get effects(){return this.params.effects}assignRandomTransactionId(){this.params.transactionId=a_n(),this.params.resultRev=this.params.transactionId}appliesToMissingDocument(){if(typeof this._appliesToMissingDocument<"u")return this._appliesToMissingDocument;const e=this.mutations[0];return e?this._appliesToMissingDocument=!!(e.create||e.createIfNotExists||e.createOrReplace):this._appliesToMissingDocument=!0,this._appliesToMissingDocument}compile(){const e=[];this.mutations.forEach(o=>{if(o.create){const s=o.create||{};e.push(a=>a||Object.assign(s,{_createdAt:s._createdAt||this.params.timestamp}));return}if(o.createIfNotExists){const s=o.createIfNotExists||{};e.push(a=>a===null?Object.assign(s,{_createdAt:s._createdAt||this.params.timestamp}):a);return}if(o.createOrReplace){const s=o.createOrReplace||{};e.push(()=>Object.assign(s,{_createdAt:s._createdAt||this.params.timestamp}));return}if(o.delete){e.push(()=>null);return}if(o.patch){if("query"in o.patch)return;const s=new o_n(o.patch);e.push(a=>s.apply(a));return}throw new Error("Unsupported mutation ".concat(JSON.stringify(o,null,2)))}),typeof this.params.timestamp=="string"&&e.push(o=>o?Object.assign(o,{_updatedAt:this.params.timestamp}):null);const r=this.previousRev,i=this.resultRev||this.transactionId;this.compiled=o=>{if(r&&o&&r!==o._rev)throw new Error("Previous revision for this mutation was ".concat(r,", but the document revision is ").concat(o._rev));let s=o;for(const a of e)s=a(s);return s&&i&&(s===o&&(s=Object.assign({},o)),s._rev=i),s}}apply(e){Lr("Applying mutation %O to document %O",this.mutations,e),this.compiled||this.compile();const r=this.compiled(e);return Lr("  => %O",r),r}static applyAll(e,r){return r.reduce((i,o)=>o.apply(i),e)}static squash(e,r){const i=r.reduce((o,s)=>o.concat(...s.mutations),[]);return new $p({mutations:i})}}let l_n=class{constructor(e){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.lastStagedAt=null,this.reset(e),this.HEAD=e,this.EDGE=e}reset(e){this.incoming=[],this.submitted=[],this.pending=[],this.inconsistentAt=null,this.HEAD=e,this.EDGE=e,this.considerIncoming(),this.updateConsistencyFlag()}arrive(e){this.incoming.push(e),this.considerIncoming(),this.updateConsistencyFlag()}stage(e,r){if(!e.transactionId)throw new Error("Mutations _must_ have transactionId when submitted");this.lastStagedAt=new Date,Lr("Staging mutation %s (pushed to pending)",e.transactionId),this.pending.push(e),this.EDGE=e.apply(this.EDGE),this.onMutation&&!r&&this.onMutation({mutation:e,document:this.EDGE,remote:!1});const i=e.transactionId;return this.updateConsistencyFlag(),{success:()=>{this.pendingSuccessfullySubmitted(i),this.updateConsistencyFlag()},failure:()=>{this.pendingFailed(i),this.updateConsistencyFlag()}}}isConsistent(){return!this.inconsistentAt}considerIncoming(){let e=!1,r;const i=[];if(this.HEAD&&this.HEAD._updatedAt){const s=new Date(this.HEAD._updatedAt);this.incoming.find(a=>a.timestamp&&a.timestamp<s)&&(this.incoming=this.incoming.filter(a=>a.timestamp&&a.timestamp<s))}let o=0;do{if(this.HEAD){const s=this.HEAD;r=s._rev?this.incoming.find(a=>a.previousRev===s._rev):void 0}else r=this.incoming.find(s=>s.appliesToMissingDocument());if(r){const s=this.applyIncoming(r);if(e=e||s,e&&i.push(r),o++>10)throw new Error("Mutator stuck flushing incoming mutations. Probably stuck here: ".concat(JSON.stringify(r)))}}while(r);this.incoming.length>0&&Lr.enabled&&Lr("Unable to apply mutations %s",this.incoming.map(s=>s.transactionId).join(", ")),e&&this.rebase(i)}updateConsistencyFlag(){const e=this.isConsistent(),r=this.pending.length===0&&this.submitted.length===0&&this.incoming.length===0;r?this.inconsistentAt=null:this.inconsistentAt||(this.inconsistentAt=new Date),e!=r&&this.onConsistencyChanged&&(Lr(r?"Buffered document is inconsistent":"Buffered document is consistent"),this.onConsistencyChanged(r))}applyIncoming(e){if(!e)return!1;if(!e.transactionId)throw new Error("Received incoming mutation without a transaction ID");if(Lr("Applying mutation %s -> %s to rev %s",e.previousRev,e.resultRev,this.HEAD&&this.HEAD._rev),this.HEAD=e.apply(this.HEAD),this.onRemoteMutation&&this.onRemoteMutation(e),this.incoming=this.incoming.filter(r=>r.transactionId!==e.transactionId),this.hasUnresolvedMutations()){const r=this.consumeUnresolved(e.transactionId);return Lr.enabled&&(Lr("Incoming mutation ".concat(e.transactionId," appeared while there were pending or submitted local mutations")),Lr("Submitted txnIds: ".concat(this.submitted.map(i=>i.transactionId).join(", "))),Lr("Pending txnIds: ".concat(this.pending.map(i=>i.transactionId).join(", "))),Lr("needRebase === %s",r)),r}return Lr("Remote mutation %s arrived w/o any pending or submitted local mutations",e.transactionId),this.EDGE=this.HEAD,this.onMutation&&this.onMutation({mutation:e,document:this.EDGE,remote:!0}),!1}hasUnresolvedMutations(){return this.submitted.length>0||this.pending.length>0}consumeUnresolved(e){if(this.submitted.length===0&&this.pending.length===0)return!1;if(this.submitted.length!==0){if(this.submitted[0].transactionId===e)return Lr("Remote mutation %s matches upcoming submitted mutation, consumed from 'submitted' buffer",e),this.submitted.shift(),!1}else if(this.pending.length>0&&this.pending[0].transactionId===e)return Lr("Remote mutation %s matches upcoming pending mutation, consumed from 'pending' buffer",e),this.pending.shift(),!1;return Lr("The mutation was not the upcoming mutation, scrubbing. Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),this.submitted=this.submitted.filter(r=>r.transactionId!==e),this.pending=this.pending.filter(r=>r.transactionId!==e),Lr("After scrubbing: Pending: %d, Submitted: %d",this.pending.length,this.submitted.length),!0}pendingSuccessfullySubmitted(e){if(this.pending.length===0)return;const r=this.pending[0];if(r.transactionId===e){this.pending.shift(),this.submitted.push(r);return}let i;const o=[];this.pending.forEach(s=>{if(s.transactionId===e){i=s;return}o.push(s)}),i&&this.submitted.push(i),this.pending=o,this.rebase([])}pendingFailed(e){this.pending=this.pending.filter(r=>r.transactionId!==e),this.rebase([])}rebase(e){const r=this.EDGE;this.EDGE=$p.applyAll(this.HEAD,this.submitted.concat(this.pending)),r!==null&&this.EDGE!==null&&(r._rev=this.EDGE._rev),!Br(this.EDGE,r)&&this.onRebase&&this.onRebase(this.EDGE,e,this.pending)}};class _P{constructor(e){this.out=[],e?Lr("Reset mutation buffer to rev %s",e._rev):Lr("Reset mutation buffer state to document being deleted"),this.staged=[],this.setOperations={},this.documentPresent=!1,this.BASIS=e,this.PRESTAGE=e}add(e){e.mutations.forEach(r=>this.addOperation(r))}hasChanges(){return this.out.length>0||Object.keys(this.setOperations).length>0}purge(e){this.stashStagedOperations();let r=null;return this.out.length>0&&(Lr("Purged mutation buffer"),r=new $p({mutations:this.out,resultRev:e,transactionId:e})),this.out=[],this.documentPresent=!1,r}addOperation(e){var r;if(e.patch&&e.patch.set&&"id"in e.patch&&e.patch.id===((r=this.PRESTAGE)==null?void 0:r._id)&&Object.keys(e.patch).length===2){const i=e.patch.set,o={};for(const s of Object.keys(i))i.hasOwnProperty(s)&&(this.optimiseSetOperation(s,i[s])||(o[s]=i[s]));Object.keys(o).length>0&&(Lr("Unoptimizable set-operation detected, purging optimization buffer"),this.staged.push({patch:{id:this.PRESTAGE._id,set:o}}),this.stashStagedOperations());return}if(e.createIfNotExists&&this.PRESTAGE&&e.createIfNotExists._id===this.PRESTAGE._id){this.documentPresent||(this.staged.push(e),this.documentPresent=!0,this.stashStagedOperations());return}Lr("Unoptimizable mutation detected, purging optimization buffer"),this.staged.push(e),this.stashStagedOperations()}optimiseSetOperation(e,r){if(typeof r=="object")return!1;const i=Jwn(e,this.PRESTAGE);if(i.length!==1)return!1;const o=i[0];if(typeof o.value=="object"||!this.PRESTAGE)return!1;let s=null;if(o.value===r)s=null;else if(typeof o.value=="string"&&typeof r=="string")try{const l=Qqe(Yne(o.value,r));s={patch:{id:this.PRESTAGE._id,diffMatchPatch:{[e]:l}}}}catch{return!1}else s={patch:{id:this.PRESTAGE._id,set:{[e]:r}}};const a=ZKe(o.path);return s?this.setOperations[a]=s:delete this.setOperations[a],!0}stashStagedOperations(){const e=[];Object.keys(this.setOperations).forEach(r=>{const i=this.setOperations[r];i&&e.push(i)}),e.push(...this.staged),e.length>0&&(this.PRESTAGE=new $p({mutations:e}).apply(this.PRESTAGE),this.staged=[],this.setOperations={}),this.out.push(...e)}rebase(e){return this.stashStagedOperations(),e===null?(this.out=[],this.BASIS=e,this.PRESTAGE=e,this.documentPresent=!1):(this.BASIS=e,this.out?this.PRESTAGE=new $p({mutations:this.out}).apply(this.BASIS):this.PRESTAGE=this.BASIS),this.PRESTAGE}}const c_n=1e3*60;class u_n{constructor(e,r){let{resolve:i,reject:o}=r;this.mutations=e,this.tries=0,this.resolve=i,this.reject=o}apply(e){return $p.applyAll(e,this.mutations)}squash(e){const r=$p.squash(e,this.mutations);return r.assignRandomTransactionId(),r}}const dye=(n,e)=>n.concat(e.mutations);class d_n{constructor(e){this.committerRunning=!1,this.buffer=new _P(e),this.document=new l_n(e),this.document.onMutation=r=>this.handleDocMutation(r),this.document.onRemoteMutation=r=>this.onRemoteMutation&&this.onRemoteMutation(r),this.document.onRebase=(r,i,o)=>this.handleDocRebase(r,i,o),this.document.onConsistencyChanged=r=>this.handleDocConsistencyChanged(r),this.LOCAL=e,this.mutations=[],this.commits=[]}reset(e){e?Lr("Document state reset to revision %s",e._rev):Lr("Document state reset to being deleted"),this.document.reset(e),this.rebase([],[]),this.handleDocConsistencyChanged(this.document.isConsistent())}add(e){this.onConsistencyChanged&&this.onConsistencyChanged(!1),Lr("Staged local mutation"),this.buffer.add(e);const r=this.LOCAL;this.LOCAL=e.apply(this.LOCAL),this.onMutation&&r!==this.LOCAL&&(Lr("onMutation fired"),this.onMutation({mutation:e,document:this.LOCAL,remote:!1}),this.LOCAL===null&&this.onDelete&&this.onDelete(this.LOCAL))}arrive(e){if(Lr("Remote mutation arrived %s -> %s",e.previousRev,e.resultRev),e.previousRev===e.resultRev)throw new Error("Mutation ".concat(e.transactionId," has previousRev === resultRev (").concat(e.previousRev,")"));return this.document.arrive(e)}commit(){return new Promise((e,r)=>{if(!this.buffer.hasChanges()){e();return}Lr("Committing local changes");const i=this.buffer.purge();this.commits.push(new u_n(i?[i]:[],{resolve:e,reject:r})),this.buffer=new _P(this.LOCAL),this.performCommits()})}performCommits(){if(!this.commitHandler)throw new Error("No commitHandler configured for this BufferedDocument");this.committerRunning||this._cycleCommitter()}_cycleCommitter(){const e=this.commits.shift();if(!e){this.committerRunning=!1;return}this.committerRunning=!0;const r=e.squash(this.LOCAL),i=this.document.stage(r,!0),o={success:()=>{Lr("Commit succeeded"),i.success(),e.resolve(),this._cycleCommitter()},failure:()=>{Lr("Commit failed"),e.tries+=1,this.LOCAL!==null&&this.commits.unshift(e),i.failure(),e.tries<200&&setTimeout(()=>this._cycleCommitter(),Math.min(e.tries*1e3,c_n))},cancel:s=>{this.commits.forEach(a=>a.reject(s)),this.commits=[],this.reset(this.document.HEAD),this.buffer=new _P(this.LOCAL),this.committerRunning=!1}};Lr("Posting commit"),this.commitHandler&&this.commitHandler({mutation:r,success:o.success,failure:o.failure,cancel:o.cancel})}handleDocRebase(e,r,i){this.rebase(r,i)}handleDocumentDeleted(){Lr("Document deleted"),this.LOCAL!==null&&this.onDelete&&this.onDelete(this.LOCAL),this.commits=[],this.mutations=[]}handleDocMutation(e){if(this.commits.length===0&&!this.buffer.hasChanges()){Lr("Document mutated from remote with no local changes"),this.LOCAL=this.document.EDGE,this.buffer=new _P(this.LOCAL),this.onMutation&&this.onMutation(e);return}Lr("Document mutated from remote with local changes"),this.document.EDGE===null&&this.handleDocumentDeleted(),this.rebase([e.mutation],[])}rebase(e,r){Lr("Rebasing document"),this.document.EDGE===null&&this.handleDocumentDeleted();const i=this.LOCAL;this.LOCAL=this.commits.reduce((s,a)=>a.apply(s),this.document.EDGE),this.LOCAL=this.buffer.rebase(this.LOCAL),i!==null&&this.LOCAL!==null&&(i._rev=this.LOCAL._rev),!Br(this.LOCAL,i)&&this.onRebase&&this.onRebase(this.LOCAL,e.reduce(dye,[]),r.reduce(dye,[]))}handleDocConsistencyChanged(e){if(!this.onConsistencyChanged)return;const r=this.commits.length>0||this.buffer.hasChanges();e&&!r&&this.onConsistencyChanged(!0),e||this.onConsistencyChanged(!1)}}var Mx={};Object.defineProperty(Mx,"__esModule",{value:!0});Mx.SKIP=sYe;var oYe=Mx.reduce=aYe;Mx.withCustomPathSegment=Mx.SKIP_MARKER=void 0;function bre(n,e){return p_n(n)||h_n(n,e)||f_n()}function f_n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function h_n(n,e){var r=[],i=!0,o=!1,s=void 0;try{for(var a=n[Symbol.iterator](),l;!(i=(l=a.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(c){o=!0,s=c}finally{try{!i&&a.return!=null&&a.return()}finally{if(o)throw s}}return r}function p_n(n){if(Array.isArray(n))return n}function FL(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?FL=function(r){return typeof r}:FL=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},FL(n)}function cN(n,e,r){return e}function m_n(n){return Array.isArray(n)?"array":n===null?"null":FL(n)}var xre={_:"SKIP_MARKER"};Mx.SKIP_MARKER=xre;function sYe(n){return[xre,n]}function wre(n,e,r,i){var o=e(n,r,i);return o===sYe?[!0,n]:Array.isArray(o)&&o[0]===xre?[!0,o[1]]:[!1,o]}function g_n(n,e,r,i){var o=wre(n,e,r,i),s=bre(o,2),a=s[1];return a}function v_n(n,e,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:cN,s=wre(n,e,r,i),a=bre(s,2),l=a[0],c=a[1];return l?c:Object.keys(r).reduce(function(u,f){return _re(u,e,r[f],i.concat(o(r[f],f,r)),o)},c)}function y_n(n,e,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:cN,s=wre(n,e,r,i),a=bre(s,2),l=a[0],c=a[1];return l?c:r.reduce(function(u,f,h){return _re(u,e,f,i.concat(o(f,h,r)),o)},c)}function _re(n,e,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:cN,s=m_n(r);return s==="object"?v_n(n,e,r,i,o):s==="array"?y_n(n,e,r,i,o):g_n(n,e,r,i)}function aYe(n,e,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:cN;return _re(r,e,n,[],i)}var b_n=function(e){return function(r,i,o){return aYe(r,i,o,e)}};Mx.withCustomPathSegment=b_n;function Ere(n){return e=>ms(()=>{const r=new ho;return e.pipe(jQ(()=>r,{leading:!0,trailing:!0}),C8e((i,o)=>d8e(n(i,o),ph).pipe(S8e(()=>{r.next()}))))})}var US={};/**
 * @license React
 * react-dom-server-legacy.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lYe=p;function ur(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var nu=Object.prototype.hasOwnProperty,x_n=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fye={},hye={};function cYe(n){return nu.call(hye,n)?!0:nu.call(fye,n)?!1:x_n.test(n)?hye[n]=!0:(fye[n]=!0,!1)}function Lc(n,e,r,i,o,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var bl={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){bl[n]=new Lc(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];bl[e]=new Lc(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){bl[n]=new Lc(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){bl[n]=new Lc(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){bl[n]=new Lc(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){bl[n]=new Lc(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){bl[n]=new Lc(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){bl[n]=new Lc(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){bl[n]=new Lc(n,5,!1,n.toLowerCase(),null,!1,!1)});var Cre=/[\-:]([a-z])/g;function Sre(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Cre,Sre);bl[e]=new Lc(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Cre,Sre);bl[e]=new Lc(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Cre,Sre);bl[e]=new Lc(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){bl[n]=new Lc(n,1,!1,n.toLowerCase(),null,!1,!1)});bl.xlinkHref=new Lc("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){bl[n]=new Lc(n,1,!1,n.toLowerCase(),null,!0,!0)});var NL={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},w_n=["Webkit","ms","Moz","O"];Object.keys(NL).forEach(function(n){w_n.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),NL[e]=NL[n]})});var __n=/["'&<>]/;function yc(n){if(typeof n=="boolean"||typeof n=="number")return""+n;n=""+n;var e=__n.exec(n);if(e){var r="",i,o=0;for(i=e.index;i<n.length;i++){switch(n.charCodeAt(i)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}o!==i&&(r+=n.substring(o,i)),o=i+1,r+=e}n=o!==i?r+n.substring(o,i):r}return n}var E_n=/([A-Z])/g,C_n=/^ms-/,NK=Array.isArray;function $m(n,e){return{insertionMode:n,selectedValue:e}}function S_n(n,e,r){switch(e){case"select":return $m(1,r.value!=null?r.value:r.defaultValue);case"svg":return $m(2,null);case"math":return $m(3,null);case"foreignObject":return $m(1,null);case"table":return $m(4,null);case"thead":case"tbody":case"tfoot":return $m(5,null);case"colgroup":return $m(7,null);case"tr":return $m(6,null)}return 4<=n.insertionMode||n.insertionMode===0?$m(1,null):n}var pye=new Map;function uYe(n,e,r){if(typeof r!="object")throw Error(ur(62));e=!0;for(var i in r)if(nu.call(r,i)){var o=r[i];if(o!=null&&typeof o!="boolean"&&o!==""){if(i.indexOf("--")===0){var s=yc(i);o=yc((""+o).trim())}else{s=i;var a=pye.get(s);a!==void 0||(a=yc(s.replace(E_n,"-$1").toLowerCase().replace(C_n,"-ms-")),pye.set(s,a)),s=a,o=typeof o=="number"?o===0||nu.call(NL,i)?""+o:o+"px":yc((""+o).trim())}e?(e=!1,n.push(' style="',s,":",o)):n.push(";",s,":",o)}}e||n.push('"')}function Fu(n,e,r,i){switch(r){case"style":uYe(n,e,i);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N"){if(e=bl.hasOwnProperty(r)?bl[r]:null,e!==null){switch(typeof i){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(r=e.attributeName,e.type){case 3:i&&n.push(" ",r,'=""');break;case 4:i===!0?n.push(" ",r,'=""'):i!==!1&&n.push(" ",r,'="',yc(i),'"');break;case 5:isNaN(i)||n.push(" ",r,'="',yc(i),'"');break;case 6:!isNaN(i)&&1<=i&&n.push(" ",r,'="',yc(i),'"');break;default:e.sanitizeURL&&(i=""+i),n.push(" ",r,'="',yc(i),'"')}}else if(cYe(r)){switch(typeof i){case"function":case"symbol":return;case"boolean":if(e=r.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}n.push(" ",r,'="',yc(i),'"')}}}function BL(n,e,r){if(e!=null){if(r!=null)throw Error(ur(60));if(typeof e!="object"||!("__html"in e))throw Error(ur(61));e=e.__html,e!=null&&n.push(""+e)}}function k_n(n){var e="";return lYe.Children.forEach(n,function(r){r!=null&&(e+=r)}),e}function lV(n,e,r,i){n.push(Gh(r));var o=r=null,s;for(s in e)if(nu.call(e,s)){var a=e[s];if(a!=null)switch(s){case"children":r=a;break;case"dangerouslySetInnerHTML":o=a;break;default:Fu(n,i,s,a)}}return n.push(">"),BL(n,o,r),typeof r=="string"?(n.push(yc(r)),null):r}var T_n=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,mye=new Map;function Gh(n){var e=mye.get(n);if(e===void 0){if(!T_n.test(n))throw Error(ur(65,n));e="<"+n,mye.set(n,e)}return e}function A_n(n,e,r,i,o){switch(e){case"select":n.push(Gh("select"));var s=null,a=null;for(f in r)if(nu.call(r,f)){var l=r[f];if(l!=null)switch(f){case"children":s=l;break;case"dangerouslySetInnerHTML":a=l;break;case"defaultValue":case"value":break;default:Fu(n,i,f,l)}}return n.push(">"),BL(n,a,s),s;case"option":a=o.selectedValue,n.push(Gh("option"));var c=l=null,u=null,f=null;for(s in r)if(nu.call(r,s)){var h=r[s];if(h!=null)switch(s){case"children":l=h;break;case"selected":u=h;break;case"dangerouslySetInnerHTML":f=h;break;case"value":c=h;default:Fu(n,i,s,h)}}if(a!=null)if(r=c!==null?""+c:k_n(l),NK(a)){for(i=0;i<a.length;i++)if(""+a[i]===r){n.push(' selected=""');break}}else""+a===r&&n.push(' selected=""');else u&&n.push(' selected=""');return n.push(">"),BL(n,f,l),l;case"textarea":n.push(Gh("textarea")),f=a=s=null;for(l in r)if(nu.call(r,l)&&(c=r[l],c!=null))switch(l){case"children":f=c;break;case"value":s=c;break;case"defaultValue":a=c;break;case"dangerouslySetInnerHTML":throw Error(ur(91));default:Fu(n,i,l,c)}if(s===null&&a!==null&&(s=a),n.push(">"),f!=null){if(s!=null)throw Error(ur(92));if(NK(f)&&1<f.length)throw Error(ur(93));s=""+f}return typeof s=="string"&&s[0]===`
`&&n.push(`
`),s!==null&&n.push(yc(""+s)),null;case"input":n.push(Gh("input")),c=f=l=s=null;for(a in r)if(nu.call(r,a)&&(u=r[a],u!=null))switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(ur(399,"input"));case"defaultChecked":c=u;break;case"defaultValue":l=u;break;case"checked":f=u;break;case"value":s=u;break;default:Fu(n,i,a,u)}return f!==null?Fu(n,i,"checked",f):c!==null&&Fu(n,i,"checked",c),s!==null?Fu(n,i,"value",s):l!==null&&Fu(n,i,"value",l),n.push("/>"),null;case"menuitem":n.push(Gh("menuitem"));for(var m in r)if(nu.call(r,m)&&(s=r[m],s!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(ur(400));default:Fu(n,i,m,s)}return n.push(">"),null;case"title":n.push(Gh("title")),s=null;for(h in r)if(nu.call(r,h)&&(a=r[h],a!=null))switch(h){case"children":s=a;break;case"dangerouslySetInnerHTML":throw Error(ur(434));default:Fu(n,i,h,a)}return n.push(">"),s;case"listing":case"pre":n.push(Gh(e)),a=s=null;for(c in r)if(nu.call(r,c)&&(l=r[c],l!=null))switch(c){case"children":s=l;break;case"dangerouslySetInnerHTML":a=l;break;default:Fu(n,i,c,l)}if(n.push(">"),a!=null){if(s!=null)throw Error(ur(60));if(typeof a!="object"||!("__html"in a))throw Error(ur(61));r=a.__html,r!=null&&(typeof r=="string"&&0<r.length&&r[0]===`
`?n.push(`
`,r):n.push(""+r))}return typeof s=="string"&&s[0]===`
`&&n.push(`
`),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":n.push(Gh(e));for(var g in r)if(nu.call(r,g)&&(s=r[g],s!=null))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(ur(399,e));default:Fu(n,i,g,s)}return n.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return lV(n,r,e,i);case"html":return o.insertionMode===0&&n.push("<!DOCTYPE html>"),lV(n,r,e,i);default:if(e.indexOf("-")===-1&&typeof r.is!="string")return lV(n,r,e,i);n.push(Gh(e)),a=s=null;for(u in r)if(nu.call(r,u)&&(l=r[u],l!=null))switch(u){case"children":s=l;break;case"dangerouslySetInnerHTML":a=l;break;case"style":uYe(n,i,l);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:cYe(u)&&typeof l!="function"&&typeof l!="symbol"&&n.push(" ",u,'="',yc(l),'"')}return n.push(">"),BL(n,a,s),s}}function gye(n,e,r){if(n.push('<!--$?--><template id="'),r===null)throw Error(ur(395));return n.push(r),n.push('"></template>')}function I_n(n,e,r,i){switch(r.insertionMode){case 0:case 1:return n.push('<div hidden id="'),n.push(e.segmentPrefix),e=i.toString(16),n.push(e),n.push('">');case 2:return n.push('<svg aria-hidden="true" style="display:none" id="'),n.push(e.segmentPrefix),e=i.toString(16),n.push(e),n.push('">');case 3:return n.push('<math aria-hidden="true" style="display:none" id="'),n.push(e.segmentPrefix),e=i.toString(16),n.push(e),n.push('">');case 4:return n.push('<table hidden id="'),n.push(e.segmentPrefix),e=i.toString(16),n.push(e),n.push('">');case 5:return n.push('<table hidden><tbody id="'),n.push(e.segmentPrefix),e=i.toString(16),n.push(e),n.push('">');case 6:return n.push('<table hidden><tr id="'),n.push(e.segmentPrefix),e=i.toString(16),n.push(e),n.push('">');case 7:return n.push('<table hidden><colgroup id="'),n.push(e.segmentPrefix),e=i.toString(16),n.push(e),n.push('">');default:throw Error(ur(397))}}function D_n(n,e){switch(e.insertionMode){case 0:case 1:return n.push("</div>");case 2:return n.push("</svg>");case 3:return n.push("</math>");case 4:return n.push("</table>");case 5:return n.push("</tbody></table>");case 6:return n.push("</tr></table>");case 7:return n.push("</colgroup></table>");default:throw Error(ur(397))}}var R_n=/[<\u2028\u2029]/g;function cV(n){return JSON.stringify(n).replace(R_n,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function O_n(n,e){return e=e===void 0?"":e,{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:e+"P:",segmentPrefix:e+"S:",boundaryPrefix:e+"B:",idPrefix:e,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:n}}function vye(n,e,r,i){return r.generateStaticMarkup?(n.push(yc(e)),!1):(e===""?n=i:(i&&n.push("<!-- -->"),n.push(yc(e)),n=!0),n)}var jA=Object.assign,P_n=Symbol.for("react.element"),dYe=Symbol.for("react.portal"),fYe=Symbol.for("react.fragment"),hYe=Symbol.for("react.strict_mode"),pYe=Symbol.for("react.profiler"),mYe=Symbol.for("react.provider"),gYe=Symbol.for("react.context"),vYe=Symbol.for("react.forward_ref"),yYe=Symbol.for("react.suspense"),bYe=Symbol.for("react.suspense_list"),xYe=Symbol.for("react.memo"),kre=Symbol.for("react.lazy"),j_n=Symbol.for("react.scope"),L_n=Symbol.for("react.debug_trace_mode"),$_n=Symbol.for("react.legacy_hidden"),M_n=Symbol.for("react.default_value"),yye=Symbol.iterator;function BK(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case fYe:return"Fragment";case dYe:return"Portal";case pYe:return"Profiler";case hYe:return"StrictMode";case yYe:return"Suspense";case bYe:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case gYe:return(n.displayName||"Context")+".Consumer";case mYe:return(n._context.displayName||"Context")+".Provider";case vYe:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case xYe:return e=n.displayName||null,e!==null?e:BK(n.type)||"Memo";case kre:e=n._payload,n=n._init;try{return BK(n(e))}catch{}}return null}var wYe={};function bye(n,e){if(n=n.contextTypes,!n)return wYe;var r={},i;for(i in n)r[i]=e[i];return r}var Db=null;function uN(n,e){if(n!==e){n.context._currentValue2=n.parentValue,n=n.parent;var r=e.parent;if(n===null){if(r!==null)throw Error(ur(401))}else{if(r===null)throw Error(ur(401));uN(n,r)}e.context._currentValue2=e.value}}function _Ye(n){n.context._currentValue2=n.parentValue,n=n.parent,n!==null&&_Ye(n)}function EYe(n){var e=n.parent;e!==null&&EYe(e),n.context._currentValue2=n.value}function CYe(n,e){if(n.context._currentValue2=n.parentValue,n=n.parent,n===null)throw Error(ur(402));n.depth===e.depth?uN(n,e):CYe(n,e)}function SYe(n,e){var r=e.parent;if(r===null)throw Error(ur(402));n.depth===r.depth?uN(n,r):SYe(n,r),e.context._currentValue2=e.value}function _F(n){var e=Db;e!==n&&(e===null?EYe(n):n===null?_Ye(e):e.depth===n.depth?uN(e,n):e.depth>n.depth?CYe(e,n):SYe(e,n),Db=n)}var xye={isMounted:function(){return!1},enqueueSetState:function(n,e){n=n._reactInternals,n.queue!==null&&n.queue.push(e)},enqueueReplaceState:function(n,e){n=n._reactInternals,n.replace=!0,n.queue=[e]},enqueueForceUpdate:function(){}};function wye(n,e,r,i){var o=n.state!==void 0?n.state:null;n.updater=xye,n.props=r,n.state=o;var s={queue:[],replace:!1};n._reactInternals=s;var a=e.contextType;if(n.context=typeof a=="object"&&a!==null?a._currentValue2:i,a=e.getDerivedStateFromProps,typeof a=="function"&&(a=a(r,o),o=a==null?o:jA({},o,a),n.state=o),typeof e.getDerivedStateFromProps!="function"&&typeof n.getSnapshotBeforeUpdate!="function"&&(typeof n.UNSAFE_componentWillMount=="function"||typeof n.componentWillMount=="function"))if(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&xye.enqueueReplaceState(n,n.state,null),s.queue!==null&&0<s.queue.length)if(e=s.queue,a=s.replace,s.queue=null,s.replace=!1,a&&e.length===1)n.state=e[0];else{for(s=a?e[0]:n.state,o=!0,a=a?1:0;a<e.length;a++){var l=e[a];l=typeof l=="function"?l.call(n,s,r,i):l,l!=null&&(o?(o=!1,s=jA({},s,l)):jA(s,l))}n.state=s}else s.queue=null}var F_n={id:1,overflow:""};function UK(n,e,r){var i=n.id;n=n.overflow;var o=32-UL(i)-1;i&=~(1<<o),r+=1;var s=32-UL(e)+o;if(30<s){var a=o-o%5;return s=(i&(1<<a)-1).toString(32),i>>=a,o-=a,{id:1<<32-UL(e)+o|r<<o|i,overflow:s+n}}return{id:1<<s|r<<o|i,overflow:n}}var UL=Math.clz32?Math.clz32:U_n,N_n=Math.log,B_n=Math.LN2;function U_n(n){return n>>>=0,n===0?32:31-(N_n(n)/B_n|0)|0}function z_n(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var V_n=typeof Object.is=="function"?Object.is:z_n,$g=null,Tre=null,zL=null,Co=null,xT=!1,EF=!1,z5=0,O0=null,dN=0;function hb(){if($g===null)throw Error(ur(321));return $g}function _ye(){if(0<dN)throw Error(ur(312));return{memoizedState:null,queue:null,next:null}}function Are(){return Co===null?zL===null?(xT=!1,zL=Co=_ye()):(xT=!0,Co=zL):Co.next===null?(xT=!1,Co=Co.next=_ye()):(xT=!0,Co=Co.next),Co}function Ire(){Tre=$g=null,EF=!1,zL=null,dN=0,Co=O0=null}function kYe(n,e){return typeof e=="function"?e(n):e}function Eye(n,e,r){if($g=hb(),Co=Are(),xT){var i=Co.queue;if(e=i.dispatch,O0!==null&&(r=O0.get(i),r!==void 0)){O0.delete(i),i=Co.memoizedState;do i=n(i,r.action),r=r.next;while(r!==null);return Co.memoizedState=i,[i,e]}return[Co.memoizedState,e]}return n=n===kYe?typeof e=="function"?e():e:r!==void 0?r(e):e,Co.memoizedState=n,n=Co.queue={last:null,dispatch:null},n=n.dispatch=H_n.bind(null,$g,n),[Co.memoizedState,n]}function Cye(n,e){if($g=hb(),Co=Are(),e=e===void 0?null:e,Co!==null){var r=Co.memoizedState;if(r!==null&&e!==null){var i=r[1];e:if(i===null)i=!1;else{for(var o=0;o<i.length&&o<e.length;o++)if(!V_n(e[o],i[o])){i=!1;break e}i=!0}if(i)return r[0]}}return n=n(),Co.memoizedState=[n,e],n}function H_n(n,e,r){if(25<=dN)throw Error(ur(301));if(n===$g)if(EF=!0,n={action:r,next:null},O0===null&&(O0=new Map),r=O0.get(e),r===void 0)O0.set(e,n);else{for(e=r;e.next!==null;)e=e.next;e.next=n}}function W_n(){throw Error(ur(394))}function EP(){}var Sye={readContext:function(n){return n._currentValue2},useContext:function(n){return hb(),n._currentValue2},useMemo:Cye,useReducer:Eye,useRef:function(n){$g=hb(),Co=Are();var e=Co.memoizedState;return e===null?(n={current:n},Co.memoizedState=n):e},useState:function(n){return Eye(kYe,n)},useInsertionEffect:EP,useLayoutEffect:function(){},useCallback:function(n,e){return Cye(function(){return n},e)},useImperativeHandle:EP,useEffect:EP,useDebugValue:EP,useDeferredValue:function(n){return hb(),n},useTransition:function(){return hb(),[!1,W_n]},useId:function(){var n=Tre.treeContext,e=n.overflow;n=n.id,n=(n&~(1<<32-UL(n)-1)).toString(32)+e;var r=VL;if(r===null)throw Error(ur(404));return e=z5++,n=":"+r.idPrefix+"R"+n,0<e&&(n+="H"+e.toString(32)),n+":"},useMutableSource:function(n,e){return hb(),e(n._source)},useSyncExternalStore:function(n,e,r){if(r===void 0)throw Error(ur(407));return r()}},VL=null,uV=lYe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function G_n(n){return console.error(n),null}function wT(){}function q_n(n,e,r,i,o,s,a,l,c){var u=[],f=new Set;return e={destination:null,responseState:e,progressiveChunkSize:i===void 0?12800:i,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:f,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?G_n:o,onAllReady:s===void 0?wT:s,onShellReady:a===void 0?wT:a,onShellError:l===void 0?wT:l,onFatalError:c===void 0?wT:c},r=CF(e,0,null,r,!1,!1),r.parentFlushed=!0,n=Dre(e,n,null,r,f,wYe,null,F_n),u.push(n),e}function Dre(n,e,r,i,o,s,a,l){n.allPendingTasks++,r===null?n.pendingRootTasks++:r.pendingTasks++;var c={node:e,ping:function(){var u=n.pingedTasks;u.push(c),u.length===1&&IYe(n)},blockedBoundary:r,blockedSegment:i,abortSet:o,legacyContext:s,context:a,treeContext:l};return o.add(c),c}function CF(n,e,r,i,o,s){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:i,boundary:r,lastPushedText:o,textEmbedded:s}}function V5(n,e){if(n=n.onError(e),n!=null&&typeof n!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof n+'" instead');return n}function SF(n,e){var r=n.onShellError;r(e),r=n.onFatalError,r(e),n.destination!==null?(n.status=2,n.destination.destroy(e)):(n.status=1,n.fatalError=e)}function kye(n,e,r,i,o){for($g={},Tre=e,z5=0,n=r(i,o);EF;)EF=!1,z5=0,dN+=1,Co=null,n=r(i,o);return Ire(),n}function Tye(n,e,r,i){var o=r.render(),s=i.childContextTypes;if(s!=null){var a=e.legacyContext;if(typeof r.getChildContext!="function")i=a;else{r=r.getChildContext();for(var l in r)if(!(l in s))throw Error(ur(108,BK(i)||"Unknown",l));i=jA({},a,r)}e.legacyContext=i,Wu(n,e,o),e.legacyContext=a}else Wu(n,e,o)}function Aye(n,e){if(n&&n.defaultProps){e=jA({},e),n=n.defaultProps;for(var r in n)e[r]===void 0&&(e[r]=n[r]);return e}return e}function zK(n,e,r,i,o){if(typeof r=="function")if(r.prototype&&r.prototype.isReactComponent){o=bye(r,e.legacyContext);var s=r.contextType;s=new r(i,typeof s=="object"&&s!==null?s._currentValue2:o),wye(s,r,i,o),Tye(n,e,s,r)}else{s=bye(r,e.legacyContext),o=kye(n,e,r,i,s);var a=z5!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)wye(o,r,i,s),Tye(n,e,o,r);else if(a){i=e.treeContext,e.treeContext=UK(i,1,0);try{Wu(n,e,o)}finally{e.treeContext=i}}else Wu(n,e,o)}else if(typeof r=="string"){switch(o=e.blockedSegment,s=A_n(o.chunks,r,i,n.responseState,o.formatContext),o.lastPushedText=!1,a=o.formatContext,o.formatContext=S_n(a,r,i),VK(n,e,s),o.formatContext=a,r){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push("</",r,">")}o.lastPushedText=!1}else{switch(r){case $_n:case L_n:case hYe:case pYe:case fYe:Wu(n,e,i.children);return;case bYe:Wu(n,e,i.children);return;case j_n:throw Error(ur(343));case yYe:e:{r=e.blockedBoundary,o=e.blockedSegment,s=i.fallback,i=i.children,a=new Set;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a,errorDigest:null},c=CF(n,o.chunks.length,l,o.formatContext,!1,!1);o.children.push(c),o.lastPushedText=!1;var u=CF(n,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,e.blockedBoundary=l,e.blockedSegment=u;try{if(VK(n,e,i),n.responseState.generateStaticMarkup||u.lastPushedText&&u.textEmbedded&&u.chunks.push("<!-- -->"),u.status=1,kF(l,u),l.pendingTasks===0)break e}catch(f){u.status=4,l.forceClientRender=!0,l.errorDigest=V5(n,f)}finally{e.blockedBoundary=r,e.blockedSegment=o}e=Dre(n,s,r,c,a,e.legacyContext,e.context,e.treeContext),n.pingedTasks.push(e)}return}if(typeof r=="object"&&r!==null)switch(r.$$typeof){case vYe:if(i=kye(n,e,r.render,i,o),z5!==0){r=e.treeContext,e.treeContext=UK(r,1,0);try{Wu(n,e,i)}finally{e.treeContext=r}}else Wu(n,e,i);return;case xYe:r=r.type,i=Aye(r,i),zK(n,e,r,i,o);return;case mYe:if(o=i.children,r=r._context,i=i.value,s=r._currentValue2,r._currentValue2=i,a=Db,Db=i={parent:a,depth:a===null?0:a.depth+1,context:r,parentValue:s,value:i},e.context=i,Wu(n,e,o),n=Db,n===null)throw Error(ur(403));i=n.parentValue,n.context._currentValue2=i===M_n?n.context._defaultValue:i,n=Db=n.parent,e.context=n;return;case gYe:i=i.children,i=i(r._currentValue2),Wu(n,e,i);return;case kre:o=r._init,r=o(r._payload),i=Aye(r,i),zK(n,e,r,i,void 0);return}throw Error(ur(130,r==null?r:typeof r,""))}}function Wu(n,e,r){if(e.node=r,typeof r=="object"&&r!==null){switch(r.$$typeof){case P_n:zK(n,e,r.type,r.props,r.ref);return;case dYe:throw Error(ur(257));case kre:var i=r._init;r=i(r._payload),Wu(n,e,r);return}if(NK(r)){Iye(n,e,r);return}if(r===null||typeof r!="object"?i=null:(i=yye&&r[yye]||r["@@iterator"],i=typeof i=="function"?i:null),i&&(i=i.call(r))){if(r=i.next(),!r.done){var o=[];do o.push(r.value),r=i.next();while(!r.done);Iye(n,e,o)}return}throw n=Object.prototype.toString.call(r),Error(ur(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}typeof r=="string"?(i=e.blockedSegment,i.lastPushedText=vye(e.blockedSegment.chunks,r,n.responseState,i.lastPushedText)):typeof r=="number"&&(i=e.blockedSegment,i.lastPushedText=vye(e.blockedSegment.chunks,""+r,n.responseState,i.lastPushedText))}function Iye(n,e,r){for(var i=r.length,o=0;o<i;o++){var s=e.treeContext;e.treeContext=UK(s,i,o);try{VK(n,e,r[o])}finally{e.treeContext=s}}}function VK(n,e,r){var i=e.blockedSegment.formatContext,o=e.legacyContext,s=e.context;try{return Wu(n,e,r)}catch(c){if(Ire(),typeof c=="object"&&c!==null&&typeof c.then=="function"){r=c;var a=e.blockedSegment,l=CF(n,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(l),a.lastPushedText=!1,n=Dre(n,e.node,e.blockedBoundary,l,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,r.then(n,n),e.blockedSegment.formatContext=i,e.legacyContext=o,e.context=s,_F(s)}else throw e.blockedSegment.formatContext=i,e.legacyContext=o,e.context=s,_F(s),c}}function K_n(n){var e=n.blockedBoundary;n=n.blockedSegment,n.status=3,AYe(this,e,n)}function TYe(n,e,r){var i=n.blockedBoundary;n.blockedSegment.status=3,i===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.push(null))):(i.pendingTasks--,i.forceClientRender||(i.forceClientRender=!0,n=r===void 0?Error(ur(432)):r,i.errorDigest=e.onError(n),i.parentFlushed&&e.clientRenderedBoundaries.push(i)),i.fallbackAbortableTasks.forEach(function(o){return TYe(o,e,r)}),i.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(i=e.onAllReady,i()))}function kF(n,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var r=e.children[0];r.id=e.id,r.parentFlushed=!0,r.status===1&&kF(n,r)}else n.completedSegments.push(e)}function AYe(n,e,r){if(e===null){if(r.parentFlushed){if(n.completedRootSegment!==null)throw Error(ur(389));n.completedRootSegment=r}n.pendingRootTasks--,n.pendingRootTasks===0&&(n.onShellError=wT,e=n.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(r.parentFlushed&&r.status===1&&kF(e,r),e.parentFlushed&&n.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(K_n,n),e.fallbackAbortableTasks.clear()):r.parentFlushed&&r.status===1&&(kF(e,r),e.completedSegments.length===1&&e.parentFlushed&&n.partialBoundaries.push(e)));n.allPendingTasks--,n.allPendingTasks===0&&(n=n.onAllReady,n())}function IYe(n){if(n.status!==2){var e=Db,r=uV.current;uV.current=Sye;var i=VL;VL=n.responseState;try{var o=n.pingedTasks,s;for(s=0;s<o.length;s++){var a=o[s],l=n,c=a.blockedSegment;if(c.status===0){_F(a.context);try{Wu(l,a,a.node),l.responseState.generateStaticMarkup||c.lastPushedText&&c.textEmbedded&&c.chunks.push("<!-- -->"),a.abortSet.delete(a),c.status=1,AYe(l,a.blockedBoundary,c)}catch(v){if(Ire(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=a.ping;v.then(u,u)}else{a.abortSet.delete(a),c.status=4;var f=a.blockedBoundary,h=v,m=V5(l,h);if(f===null?SF(l,h):(f.pendingTasks--,f.forceClientRender||(f.forceClientRender=!0,f.errorDigest=m,f.parentFlushed&&l.clientRenderedBoundaries.push(f))),l.allPendingTasks--,l.allPendingTasks===0){var g=l.onAllReady;g()}}}finally{}}}o.splice(0,s),n.destination!==null&&Rre(n,n.destination)}catch(v){V5(n,v),SF(n,v)}finally{VL=i,uV.current=r,r===Sye&&_F(e)}}}function CP(n,e,r){switch(r.parentFlushed=!0,r.status){case 0:var i=r.id=n.nextSegmentId++;return r.lastPushedText=!1,r.textEmbedded=!1,n=n.responseState,e.push('<template id="'),e.push(n.placeholderPrefix),n=i.toString(16),e.push(n),e.push('"></template>');case 1:r.status=2;var o=!0;i=r.chunks;var s=0;r=r.children;for(var a=0;a<r.length;a++){for(o=r[a];s<o.index;s++)e.push(i[s]);o=fN(n,e,o)}for(;s<i.length-1;s++)e.push(i[s]);return s<i.length&&(o=e.push(i[s])),o;default:throw Error(ur(390))}}function fN(n,e,r){var i=r.boundary;if(i===null)return CP(n,e,r);if(i.parentFlushed=!0,i.forceClientRender)return n.responseState.generateStaticMarkup||(i=i.errorDigest,e.push("<!--$!-->"),e.push("<template"),i&&(e.push(' data-dgst="'),i=yc(i),e.push(i),e.push('"')),e.push("></template>")),CP(n,e,r),n=n.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),n;if(0<i.pendingTasks){i.rootSegmentID=n.nextSegmentId++,0<i.completedSegments.length&&n.partialBoundaries.push(i);var o=n.responseState,s=o.nextSuspenseID++;return o=o.boundaryPrefix+s.toString(16),i=i.id=o,gye(e,n.responseState,i),CP(n,e,r),e.push("<!--/$-->")}if(i.byteSize>n.progressiveChunkSize)return i.rootSegmentID=n.nextSegmentId++,n.completedBoundaries.push(i),gye(e,n.responseState,i.id),CP(n,e,r),e.push("<!--/$-->");if(n.responseState.generateStaticMarkup||e.push("<!--$-->"),r=i.completedSegments,r.length!==1)throw Error(ur(391));return fN(n,e,r[0]),n=n.responseState.generateStaticMarkup?!0:e.push("<!--/$-->"),n}function Dye(n,e,r){return I_n(e,n.responseState,r.formatContext,r.id),fN(n,e,r),D_n(e,r.formatContext)}function Rye(n,e,r){for(var i=r.completedSegments,o=0;o<i.length;o++)DYe(n,e,r,i[o]);if(i.length=0,n=n.responseState,i=r.id,r=r.rootSegmentID,e.push(n.startInlineScript),n.sentCompleteBoundaryFunction?e.push('$RC("'):(n.sentCompleteBoundaryFunction=!0,e.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),i===null)throw Error(ur(395));return r=r.toString(16),e.push(i),e.push('","'),e.push(n.segmentPrefix),e.push(r),e.push('")<\/script>')}function DYe(n,e,r,i){if(i.status===2)return!0;var o=i.id;if(o===-1){if((i.id=r.rootSegmentID)===-1)throw Error(ur(392));return Dye(n,e,i)}return Dye(n,e,i),n=n.responseState,e.push(n.startInlineScript),n.sentCompleteSegmentFunction?e.push('$RS("'):(n.sentCompleteSegmentFunction=!0,e.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),e.push(n.segmentPrefix),o=o.toString(16),e.push(o),e.push('","'),e.push(n.placeholderPrefix),e.push(o),e.push('")<\/script>')}function Rre(n,e){try{var r=n.completedRootSegment;if(r!==null&&n.pendingRootTasks===0){fN(n,e,r),n.completedRootSegment=null;var i=n.responseState.bootstrapChunks;for(r=0;r<i.length-1;r++)e.push(i[r]);r<i.length&&e.push(i[r])}var o=n.clientRenderedBoundaries,s;for(s=0;s<o.length;s++){var a=o[s];i=e;var l=n.responseState,c=a.id,u=a.errorDigest,f=a.errorMessage,h=a.errorComponentStack;if(i.push(l.startInlineScript),l.sentClientRenderFunction?i.push('$RX("'):(l.sentClientRenderFunction=!0,i.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),c===null)throw Error(ur(395));if(i.push(c),i.push('"'),u||f||h){i.push(",");var m=cV(u||"");i.push(m)}if(f||h){i.push(",");var g=cV(f||"");i.push(g)}if(h){i.push(",");var v=cV(h);i.push(v)}if(!i.push(")<\/script>")){n.destination=null,s++,o.splice(0,s);return}}o.splice(0,s);var y=n.completedBoundaries;for(s=0;s<y.length;s++)if(!Rye(n,e,y[s])){n.destination=null,s++,y.splice(0,s);return}y.splice(0,s);var b=n.partialBoundaries;for(s=0;s<b.length;s++){var x=b[s];e:{o=n,a=e;var _=x.completedSegments;for(l=0;l<_.length;l++)if(!DYe(o,a,x,_[l])){l++,_.splice(0,l);var w=!1;break e}_.splice(0,l),w=!0}if(!w){n.destination=null,s++,b.splice(0,s);return}}b.splice(0,s);var C=n.completedBoundaries;for(s=0;s<C.length;s++)if(!Rye(n,e,C[s])){n.destination=null,s++,C.splice(0,s);return}C.splice(0,s)}finally{n.allPendingTasks===0&&n.pingedTasks.length===0&&n.clientRenderedBoundaries.length===0&&n.completedBoundaries.length===0&&e.push(null)}}function Y_n(n,e){try{var r=n.abortableTasks;r.forEach(function(i){return TYe(i,n,e)}),r.clear(),n.destination!==null&&Rre(n,n.destination)}catch(i){V5(n,i),SF(n,i)}}function Z_n(){}function RYe(n,e,r,i){var o=!1,s=null,a="",l={push:function(u){return u!==null&&(a+=u),!0},destroy:function(u){o=!0,s=u}},c=!1;if(n=q_n(n,O_n(r,e?e.identifierPrefix:void 0),{insertionMode:1,selectedValue:null},1/0,Z_n,void 0,function(){c=!0},void 0,void 0),IYe(n),Y_n(n,i),n.status===1)n.status=2,l.destroy(n.fatalError);else if(n.status!==2&&n.destination===null){n.destination=l;try{Rre(n,l)}catch(u){V5(n,u),SF(n,u)}}if(o)throw s;if(!c)throw Error(ur(426));return a}US.renderToNodeStream=function(){throw Error(ur(207))};US.renderToStaticMarkup=function(n,e){return RYe(n,e,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};US.renderToStaticNodeStream=function(){throw Error(ur(208))};US.renderToString=function(n,e){return RYe(n,e,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToReadableStream" which supports Suspense on the server')};US.version="18.2.0";var Ore={};/**
 * @license React
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OYe=p;function wr(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gu=null,qu=0;function pn(n,e){if(e.length!==0)if(512<e.length)0<qu&&(n.enqueue(new Uint8Array(Gu.buffer,0,qu)),Gu=new Uint8Array(512),qu=0),n.enqueue(e);else{var r=Gu.length-qu;r<e.length&&(r===0?n.enqueue(Gu):(Gu.set(e.subarray(0,r),qu),n.enqueue(Gu),e=e.subarray(r)),Gu=new Uint8Array(512),qu=0),Gu.set(e,qu),qu+=e.length}}function zo(n,e){return pn(n,e),!0}function Oye(n){Gu&&0<qu&&(n.enqueue(new Uint8Array(Gu.buffer,0,qu)),Gu=null,qu=0)}var PYe=new TextEncoder;function Sr(n){return PYe.encode(n)}function Vt(n){return PYe.encode(n)}function jYe(n,e){typeof n.error=="function"?n.error(e):n.close()}var ru=Object.prototype.hasOwnProperty,X_n=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Pye={},jye={};function LYe(n){return ru.call(jye,n)?!0:ru.call(Pye,n)?!1:X_n.test(n)?jye[n]=!0:(Pye[n]=!0,!1)}function $c(n,e,r,i,o,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var xl={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){xl[n]=new $c(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];xl[e]=new $c(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){xl[n]=new $c(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){xl[n]=new $c(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){xl[n]=new $c(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){xl[n]=new $c(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){xl[n]=new $c(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){xl[n]=new $c(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){xl[n]=new $c(n,5,!1,n.toLowerCase(),null,!1,!1)});var Pre=/[\-:]([a-z])/g;function jre(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Pre,jre);xl[e]=new $c(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Pre,jre);xl[e]=new $c(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Pre,jre);xl[e]=new $c(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){xl[n]=new $c(n,1,!1,n.toLowerCase(),null,!1,!1)});xl.xlinkHref=new $c("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){xl[n]=new $c(n,1,!1,n.toLowerCase(),null,!0,!0)});var HL={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Q_n=["Webkit","ms","Moz","O"];Object.keys(HL).forEach(function(n){Q_n.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),HL[e]=HL[n]})});var J_n=/["'&<>]/;function dl(n){if(typeof n=="boolean"||typeof n=="number")return""+n;n=""+n;var e=J_n.exec(n);if(e){var r="",i,o=0;for(i=e.index;i<n.length;i++){switch(n.charCodeAt(i)){case 34:e="&quot;";break;case 38:e="&amp;";break;case 39:e="&#x27;";break;case 60:e="&lt;";break;case 62:e="&gt;";break;default:continue}o!==i&&(r+=n.substring(o,i)),o=i+1,r+=e}n=o!==i?r+n.substring(o,i):r}return n}var eEn=/([A-Z])/g,tEn=/^ms-/,HK=Array.isArray,nEn=Vt("<script>"),rEn=Vt("<\/script>"),iEn=Vt('<script src="'),oEn=Vt('<script type="module" src="'),Lye=Vt('" async=""><\/script>'),sEn=/(<\/|<)(s)(cript)/gi;function aEn(n,e,r,i){return""+e+(r==="s"?"\\u0073":"\\u0053")+i}function lEn(n,e,r,i,o){n=n===void 0?"":n,e=e===void 0?nEn:Vt('<script nonce="'+dl(e)+'">');var s=[];if(r!==void 0&&s.push(e,Sr((""+r).replace(sEn,aEn)),rEn),i!==void 0)for(r=0;r<i.length;r++)s.push(iEn,Sr(dl(i[r])),Lye);if(o!==void 0)for(i=0;i<o.length;i++)s.push(oEn,Sr(dl(o[i])),Lye);return{bootstrapChunks:s,startInlineScript:e,placeholderPrefix:Vt(n+"P:"),segmentPrefix:Vt(n+"S:"),boundaryPrefix:n+"B:",idPrefix:n,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1}}function qh(n,e){return{insertionMode:n,selectedValue:e}}function cEn(n){return qh(n==="http://www.w3.org/2000/svg"?2:n==="http://www.w3.org/1998/Math/MathML"?3:0,null)}function uEn(n,e,r){switch(e){case"select":return qh(1,r.value!=null?r.value:r.defaultValue);case"svg":return qh(2,null);case"math":return qh(3,null);case"foreignObject":return qh(1,null);case"table":return qh(4,null);case"thead":case"tbody":case"tfoot":return qh(5,null);case"colgroup":return qh(7,null);case"tr":return qh(6,null)}return 4<=n.insertionMode||n.insertionMode===0?qh(1,null):n}var Lre=Vt("<!-- -->");function $ye(n,e,r,i){return e===""?i:(i&&n.push(Lre),n.push(Sr(dl(e))),!0)}var Mye=new Map,dEn=Vt(' style="'),Fye=Vt(":"),fEn=Vt(";");function $Ye(n,e,r){if(typeof r!="object")throw Error(wr(62));e=!0;for(var i in r)if(ru.call(r,i)){var o=r[i];if(o!=null&&typeof o!="boolean"&&o!==""){if(i.indexOf("--")===0){var s=Sr(dl(i));o=Sr(dl((""+o).trim()))}else{s=i;var a=Mye.get(s);a!==void 0||(a=Vt(dl(s.replace(eEn,"-$1").toLowerCase().replace(tEn,"-ms-"))),Mye.set(s,a)),s=a,o=typeof o=="number"?o===0||ru.call(HL,i)?Sr(""+o):Sr(o+"px"):Sr(dl((""+o).trim()))}e?(e=!1,n.push(dEn,s,Fye,o)):n.push(fEn,s,Fye,o)}}e||n.push(pb)}var Vv=Vt(" "),I_=Vt('="'),pb=Vt('"'),Nye=Vt('=""');function Nu(n,e,r,i){switch(r){case"style":$Ye(n,e,i);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N"){if(e=xl.hasOwnProperty(r)?xl[r]:null,e!==null){switch(typeof i){case"function":case"symbol":return;case"boolean":if(!e.acceptsBooleans)return}switch(r=Sr(e.attributeName),e.type){case 3:i&&n.push(Vv,r,Nye);break;case 4:i===!0?n.push(Vv,r,Nye):i!==!1&&n.push(Vv,r,I_,Sr(dl(i)),pb);break;case 5:isNaN(i)||n.push(Vv,r,I_,Sr(dl(i)),pb);break;case 6:!isNaN(i)&&1<=i&&n.push(Vv,r,I_,Sr(dl(i)),pb);break;default:e.sanitizeURL&&(i=""+i),n.push(Vv,r,I_,Sr(dl(i)),pb)}}else if(LYe(r)){switch(typeof i){case"function":case"symbol":return;case"boolean":if(e=r.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-")return}n.push(Vv,Sr(r),I_,Sr(dl(i)),pb)}}}var Hv=Vt(">"),Bye=Vt("/>");function WL(n,e,r){if(e!=null){if(r!=null)throw Error(wr(60));if(typeof e!="object"||!("__html"in e))throw Error(wr(61));e=e.__html,e!=null&&n.push(Sr(""+e))}}function hEn(n){var e="";return OYe.Children.forEach(n,function(r){r!=null&&(e+=r)}),e}var dV=Vt(' selected=""');function fV(n,e,r,i){n.push(Kh(r));var o=r=null,s;for(s in e)if(ru.call(e,s)){var a=e[s];if(a!=null)switch(s){case"children":r=a;break;case"dangerouslySetInnerHTML":o=a;break;default:Nu(n,i,s,a)}}return n.push(Hv),WL(n,o,r),typeof r=="string"?(n.push(Sr(dl(r))),null):r}var hV=Vt(`
`),pEn=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,Uye=new Map;function Kh(n){var e=Uye.get(n);if(e===void 0){if(!pEn.test(n))throw Error(wr(65,n));e=Vt("<"+n),Uye.set(n,e)}return e}var mEn=Vt("<!DOCTYPE html>");function gEn(n,e,r,i,o){switch(e){case"select":n.push(Kh("select"));var s=null,a=null;for(f in r)if(ru.call(r,f)){var l=r[f];if(l!=null)switch(f){case"children":s=l;break;case"dangerouslySetInnerHTML":a=l;break;case"defaultValue":case"value":break;default:Nu(n,i,f,l)}}return n.push(Hv),WL(n,a,s),s;case"option":a=o.selectedValue,n.push(Kh("option"));var c=l=null,u=null,f=null;for(s in r)if(ru.call(r,s)){var h=r[s];if(h!=null)switch(s){case"children":l=h;break;case"selected":u=h;break;case"dangerouslySetInnerHTML":f=h;break;case"value":c=h;default:Nu(n,i,s,h)}}if(a!=null)if(r=c!==null?""+c:hEn(l),HK(a)){for(i=0;i<a.length;i++)if(""+a[i]===r){n.push(dV);break}}else""+a===r&&n.push(dV);else u&&n.push(dV);return n.push(Hv),WL(n,f,l),l;case"textarea":n.push(Kh("textarea")),f=a=s=null;for(l in r)if(ru.call(r,l)&&(c=r[l],c!=null))switch(l){case"children":f=c;break;case"value":s=c;break;case"defaultValue":a=c;break;case"dangerouslySetInnerHTML":throw Error(wr(91));default:Nu(n,i,l,c)}if(s===null&&a!==null&&(s=a),n.push(Hv),f!=null){if(s!=null)throw Error(wr(92));if(HK(f)&&1<f.length)throw Error(wr(93));s=""+f}return typeof s=="string"&&s[0]===`
`&&n.push(hV),s!==null&&n.push(Sr(dl(""+s))),null;case"input":n.push(Kh("input")),c=f=l=s=null;for(a in r)if(ru.call(r,a)&&(u=r[a],u!=null))switch(a){case"children":case"dangerouslySetInnerHTML":throw Error(wr(399,"input"));case"defaultChecked":c=u;break;case"defaultValue":l=u;break;case"checked":f=u;break;case"value":s=u;break;default:Nu(n,i,a,u)}return f!==null?Nu(n,i,"checked",f):c!==null&&Nu(n,i,"checked",c),s!==null?Nu(n,i,"value",s):l!==null&&Nu(n,i,"value",l),n.push(Bye),null;case"menuitem":n.push(Kh("menuitem"));for(var m in r)if(ru.call(r,m)&&(s=r[m],s!=null))switch(m){case"children":case"dangerouslySetInnerHTML":throw Error(wr(400));default:Nu(n,i,m,s)}return n.push(Hv),null;case"title":n.push(Kh("title")),s=null;for(h in r)if(ru.call(r,h)&&(a=r[h],a!=null))switch(h){case"children":s=a;break;case"dangerouslySetInnerHTML":throw Error(wr(434));default:Nu(n,i,h,a)}return n.push(Hv),s;case"listing":case"pre":n.push(Kh(e)),a=s=null;for(c in r)if(ru.call(r,c)&&(l=r[c],l!=null))switch(c){case"children":s=l;break;case"dangerouslySetInnerHTML":a=l;break;default:Nu(n,i,c,l)}if(n.push(Hv),a!=null){if(s!=null)throw Error(wr(60));if(typeof a!="object"||!("__html"in a))throw Error(wr(61));r=a.__html,r!=null&&(typeof r=="string"&&0<r.length&&r[0]===`
`?n.push(hV,Sr(r)):n.push(Sr(""+r)))}return typeof s=="string"&&s[0]===`
`&&n.push(hV),s;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":n.push(Kh(e));for(var g in r)if(ru.call(r,g)&&(s=r[g],s!=null))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error(wr(399,e));default:Nu(n,i,g,s)}return n.push(Bye),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return fV(n,r,e,i);case"html":return o.insertionMode===0&&n.push(mEn),fV(n,r,e,i);default:if(e.indexOf("-")===-1&&typeof r.is!="string")return fV(n,r,e,i);n.push(Kh(e)),a=s=null;for(u in r)if(ru.call(r,u)&&(l=r[u],l!=null))switch(u){case"children":s=l;break;case"dangerouslySetInnerHTML":a=l;break;case"style":$Ye(n,i,l);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:LYe(u)&&typeof l!="function"&&typeof l!="symbol"&&n.push(Vv,Sr(u),I_,Sr(dl(l)),pb)}return n.push(Hv),WL(n,a,s),s}}var vEn=Vt("</"),yEn=Vt(">"),bEn=Vt('<template id="'),xEn=Vt('"></template>'),wEn=Vt("<!--$-->"),_En=Vt('<!--$?--><template id="'),EEn=Vt('"></template>'),CEn=Vt("<!--$!-->"),SEn=Vt("<!--/$-->"),kEn=Vt("<template"),TEn=Vt('"'),AEn=Vt(' data-dgst="');Vt(' data-msg="');Vt(' data-stck="');var IEn=Vt("></template>");function zye(n,e,r){if(pn(n,_En),r===null)throw Error(wr(395));return pn(n,r),zo(n,EEn)}var DEn=Vt('<div hidden id="'),REn=Vt('">'),OEn=Vt("</div>"),PEn=Vt('<svg aria-hidden="true" style="display:none" id="'),jEn=Vt('">'),LEn=Vt("</svg>"),$En=Vt('<math aria-hidden="true" style="display:none" id="'),MEn=Vt('">'),FEn=Vt("</math>"),NEn=Vt('<table hidden id="'),BEn=Vt('">'),UEn=Vt("</table>"),zEn=Vt('<table hidden><tbody id="'),VEn=Vt('">'),HEn=Vt("</tbody></table>"),WEn=Vt('<table hidden><tr id="'),GEn=Vt('">'),qEn=Vt("</tr></table>"),KEn=Vt('<table hidden><colgroup id="'),YEn=Vt('">'),ZEn=Vt("</colgroup></table>");function XEn(n,e,r,i){switch(r.insertionMode){case 0:case 1:return pn(n,DEn),pn(n,e.segmentPrefix),pn(n,Sr(i.toString(16))),zo(n,REn);case 2:return pn(n,PEn),pn(n,e.segmentPrefix),pn(n,Sr(i.toString(16))),zo(n,jEn);case 3:return pn(n,$En),pn(n,e.segmentPrefix),pn(n,Sr(i.toString(16))),zo(n,MEn);case 4:return pn(n,NEn),pn(n,e.segmentPrefix),pn(n,Sr(i.toString(16))),zo(n,BEn);case 5:return pn(n,zEn),pn(n,e.segmentPrefix),pn(n,Sr(i.toString(16))),zo(n,VEn);case 6:return pn(n,WEn),pn(n,e.segmentPrefix),pn(n,Sr(i.toString(16))),zo(n,GEn);case 7:return pn(n,KEn),pn(n,e.segmentPrefix),pn(n,Sr(i.toString(16))),zo(n,YEn);default:throw Error(wr(397))}}function QEn(n,e){switch(e.insertionMode){case 0:case 1:return zo(n,OEn);case 2:return zo(n,LEn);case 3:return zo(n,FEn);case 4:return zo(n,UEn);case 5:return zo(n,HEn);case 6:return zo(n,qEn);case 7:return zo(n,ZEn);default:throw Error(wr(397))}}var JEn=Vt('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),eCn=Vt('$RS("'),tCn=Vt('","'),nCn=Vt('")<\/script>'),rCn=Vt('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),iCn=Vt('$RC("'),oCn=Vt('","'),sCn=Vt('")<\/script>'),aCn=Vt('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),lCn=Vt('$RX("'),cCn=Vt('"'),uCn=Vt(")<\/script>"),pV=Vt(","),dCn=/[<\u2028\u2029]/g;function mV(n){return JSON.stringify(n).replace(dCn,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var LA=Object.assign,fCn=Symbol.for("react.element"),MYe=Symbol.for("react.portal"),FYe=Symbol.for("react.fragment"),NYe=Symbol.for("react.strict_mode"),BYe=Symbol.for("react.profiler"),UYe=Symbol.for("react.provider"),zYe=Symbol.for("react.context"),VYe=Symbol.for("react.forward_ref"),HYe=Symbol.for("react.suspense"),WYe=Symbol.for("react.suspense_list"),GYe=Symbol.for("react.memo"),$re=Symbol.for("react.lazy"),hCn=Symbol.for("react.scope"),pCn=Symbol.for("react.debug_trace_mode"),mCn=Symbol.for("react.legacy_hidden"),gCn=Symbol.for("react.default_value"),Vye=Symbol.iterator;function WK(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case FYe:return"Fragment";case MYe:return"Portal";case BYe:return"Profiler";case NYe:return"StrictMode";case HYe:return"Suspense";case WYe:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case zYe:return(n.displayName||"Context")+".Consumer";case UYe:return(n._context.displayName||"Context")+".Provider";case VYe:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case GYe:return e=n.displayName||null,e!==null?e:WK(n.type)||"Memo";case $re:e=n._payload,n=n._init;try{return WK(n(e))}catch{}}return null}var qYe={};function Hye(n,e){if(n=n.contextTypes,!n)return qYe;var r={},i;for(i in n)r[i]=e[i];return r}var Rb=null;function hN(n,e){if(n!==e){n.context._currentValue=n.parentValue,n=n.parent;var r=e.parent;if(n===null){if(r!==null)throw Error(wr(401))}else{if(r===null)throw Error(wr(401));hN(n,r)}e.context._currentValue=e.value}}function KYe(n){n.context._currentValue=n.parentValue,n=n.parent,n!==null&&KYe(n)}function YYe(n){var e=n.parent;e!==null&&YYe(e),n.context._currentValue=n.value}function ZYe(n,e){if(n.context._currentValue=n.parentValue,n=n.parent,n===null)throw Error(wr(402));n.depth===e.depth?hN(n,e):ZYe(n,e)}function XYe(n,e){var r=e.parent;if(r===null)throw Error(wr(402));n.depth===r.depth?hN(n,r):XYe(n,r),e.context._currentValue=e.value}function TF(n){var e=Rb;e!==n&&(e===null?YYe(n):n===null?KYe(e):e.depth===n.depth?hN(e,n):e.depth>n.depth?ZYe(e,n):XYe(e,n),Rb=n)}var Wye={isMounted:function(){return!1},enqueueSetState:function(n,e){n=n._reactInternals,n.queue!==null&&n.queue.push(e)},enqueueReplaceState:function(n,e){n=n._reactInternals,n.replace=!0,n.queue=[e]},enqueueForceUpdate:function(){}};function Gye(n,e,r,i){var o=n.state!==void 0?n.state:null;n.updater=Wye,n.props=r,n.state=o;var s={queue:[],replace:!1};n._reactInternals=s;var a=e.contextType;if(n.context=typeof a=="object"&&a!==null?a._currentValue:i,a=e.getDerivedStateFromProps,typeof a=="function"&&(a=a(r,o),o=a==null?o:LA({},o,a),n.state=o),typeof e.getDerivedStateFromProps!="function"&&typeof n.getSnapshotBeforeUpdate!="function"&&(typeof n.UNSAFE_componentWillMount=="function"||typeof n.componentWillMount=="function"))if(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&Wye.enqueueReplaceState(n,n.state,null),s.queue!==null&&0<s.queue.length)if(e=s.queue,a=s.replace,s.queue=null,s.replace=!1,a&&e.length===1)n.state=e[0];else{for(s=a?e[0]:n.state,o=!0,a=a?1:0;a<e.length;a++){var l=e[a];l=typeof l=="function"?l.call(n,s,r,i):l,l!=null&&(o?(o=!1,s=LA({},s,l)):LA(s,l))}n.state=s}else s.queue=null}var vCn={id:1,overflow:""};function GK(n,e,r){var i=n.id;n=n.overflow;var o=32-GL(i)-1;i&=~(1<<o),r+=1;var s=32-GL(e)+o;if(30<s){var a=o-o%5;return s=(i&(1<<a)-1).toString(32),i>>=a,o-=a,{id:1<<32-GL(e)+o|r<<o|i,overflow:s+n}}return{id:1<<s|r<<o|i,overflow:n}}var GL=Math.clz32?Math.clz32:xCn,yCn=Math.log,bCn=Math.LN2;function xCn(n){return n>>>=0,n===0?32:31-(yCn(n)/bCn|0)|0}function wCn(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var _Cn=typeof Object.is=="function"?Object.is:wCn,Mg=null,Mre=null,qL=null,So=null,_T=!1,AF=!1,H5=0,P0=null,pN=0;function mb(){if(Mg===null)throw Error(wr(321));return Mg}function qye(){if(0<pN)throw Error(wr(312));return{memoizedState:null,queue:null,next:null}}function Fre(){return So===null?qL===null?(_T=!1,qL=So=qye()):(_T=!0,So=qL):So.next===null?(_T=!1,So=So.next=qye()):(_T=!0,So=So.next),So}function Nre(){Mre=Mg=null,AF=!1,qL=null,pN=0,So=P0=null}function QYe(n,e){return typeof e=="function"?e(n):e}function Kye(n,e,r){if(Mg=mb(),So=Fre(),_T){var i=So.queue;if(e=i.dispatch,P0!==null&&(r=P0.get(i),r!==void 0)){P0.delete(i),i=So.memoizedState;do i=n(i,r.action),r=r.next;while(r!==null);return So.memoizedState=i,[i,e]}return[So.memoizedState,e]}return n=n===QYe?typeof e=="function"?e():e:r!==void 0?r(e):e,So.memoizedState=n,n=So.queue={last:null,dispatch:null},n=n.dispatch=ECn.bind(null,Mg,n),[So.memoizedState,n]}function Yye(n,e){if(Mg=mb(),So=Fre(),e=e===void 0?null:e,So!==null){var r=So.memoizedState;if(r!==null&&e!==null){var i=r[1];e:if(i===null)i=!1;else{for(var o=0;o<i.length&&o<e.length;o++)if(!_Cn(e[o],i[o])){i=!1;break e}i=!0}if(i)return r[0]}}return n=n(),So.memoizedState=[n,e],n}function ECn(n,e,r){if(25<=pN)throw Error(wr(301));if(n===Mg)if(AF=!0,n={action:r,next:null},P0===null&&(P0=new Map),r=P0.get(e),r===void 0)P0.set(e,n);else{for(e=r;e.next!==null;)e=e.next;e.next=n}}function CCn(){throw Error(wr(394))}function SP(){}var Zye={readContext:function(n){return n._currentValue},useContext:function(n){return mb(),n._currentValue},useMemo:Yye,useReducer:Kye,useRef:function(n){Mg=mb(),So=Fre();var e=So.memoizedState;return e===null?(n={current:n},So.memoizedState=n):e},useState:function(n){return Kye(QYe,n)},useInsertionEffect:SP,useLayoutEffect:function(){},useCallback:function(n,e){return Yye(function(){return n},e)},useImperativeHandle:SP,useEffect:SP,useDebugValue:SP,useDeferredValue:function(n){return mb(),n},useTransition:function(){return mb(),[!1,CCn]},useId:function(){var n=Mre.treeContext,e=n.overflow;n=n.id,n=(n&~(1<<32-GL(n)-1)).toString(32)+e;var r=KL;if(r===null)throw Error(wr(404));return e=H5++,n=":"+r.idPrefix+"R"+n,0<e&&(n+="H"+e.toString(32)),n+":"},useMutableSource:function(n,e){return mb(),e(n._source)},useSyncExternalStore:function(n,e,r){if(r===void 0)throw Error(wr(407));return r()}},KL=null,gV=OYe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function SCn(n){return console.error(n),null}function ET(){}function kCn(n,e,r,i,o,s,a,l,c){var u=[],f=new Set;return e={destination:null,responseState:e,progressiveChunkSize:i===void 0?12800:i,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:f,pingedTasks:u,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:o===void 0?SCn:o,onAllReady:s===void 0?ET:s,onShellReady:a===void 0?ET:a,onShellError:l===void 0?ET:l,onFatalError:c===void 0?ET:c},r=IF(e,0,null,r,!1,!1),r.parentFlushed=!0,n=Bre(e,n,null,r,f,qYe,null,vCn),u.push(n),e}function Bre(n,e,r,i,o,s,a,l){n.allPendingTasks++,r===null?n.pendingRootTasks++:r.pendingTasks++;var c={node:e,ping:function(){var u=n.pingedTasks;u.push(c),u.length===1&&tZe(n)},blockedBoundary:r,blockedSegment:i,abortSet:o,legacyContext:s,context:a,treeContext:l};return o.add(c),c}function IF(n,e,r,i,o,s){return{status:0,id:-1,index:e,parentFlushed:!1,chunks:[],children:[],formatContext:i,boundary:r,lastPushedText:o,textEmbedded:s}}function W5(n,e){if(n=n.onError(e),n!=null&&typeof n!="string")throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof n+'" instead');return n}function DF(n,e){var r=n.onShellError;r(e),r=n.onFatalError,r(e),n.destination!==null?(n.status=2,jYe(n.destination,e)):(n.status=1,n.fatalError=e)}function Xye(n,e,r,i,o){for(Mg={},Mre=e,H5=0,n=r(i,o);AF;)AF=!1,H5=0,pN+=1,So=null,n=r(i,o);return Nre(),n}function Qye(n,e,r,i){var o=r.render(),s=i.childContextTypes;if(s!=null){var a=e.legacyContext;if(typeof r.getChildContext!="function")i=a;else{r=r.getChildContext();for(var l in r)if(!(l in s))throw Error(wr(108,WK(i)||"Unknown",l));i=LA({},a,r)}e.legacyContext=i,Ku(n,e,o),e.legacyContext=a}else Ku(n,e,o)}function Jye(n,e){if(n&&n.defaultProps){e=LA({},e),n=n.defaultProps;for(var r in n)e[r]===void 0&&(e[r]=n[r]);return e}return e}function qK(n,e,r,i,o){if(typeof r=="function")if(r.prototype&&r.prototype.isReactComponent){o=Hye(r,e.legacyContext);var s=r.contextType;s=new r(i,typeof s=="object"&&s!==null?s._currentValue:o),Gye(s,r,i,o),Qye(n,e,s,r)}else{s=Hye(r,e.legacyContext),o=Xye(n,e,r,i,s);var a=H5!==0;if(typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0)Gye(o,r,i,s),Qye(n,e,o,r);else if(a){i=e.treeContext,e.treeContext=GK(i,1,0);try{Ku(n,e,o)}finally{e.treeContext=i}}else Ku(n,e,o)}else if(typeof r=="string"){switch(o=e.blockedSegment,s=gEn(o.chunks,r,i,n.responseState,o.formatContext),o.lastPushedText=!1,a=o.formatContext,o.formatContext=uEn(a,r,i),KK(n,e,s),o.formatContext=a,r){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push(vEn,Sr(r),yEn)}o.lastPushedText=!1}else{switch(r){case mCn:case pCn:case NYe:case BYe:case FYe:Ku(n,e,i.children);return;case WYe:Ku(n,e,i.children);return;case hCn:throw Error(wr(343));case HYe:e:{r=e.blockedBoundary,o=e.blockedSegment,s=i.fallback,i=i.children,a=new Set;var l={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a,errorDigest:null},c=IF(n,o.chunks.length,l,o.formatContext,!1,!1);o.children.push(c),o.lastPushedText=!1;var u=IF(n,0,null,o.formatContext,!1,!1);u.parentFlushed=!0,e.blockedBoundary=l,e.blockedSegment=u;try{if(KK(n,e,i),u.lastPushedText&&u.textEmbedded&&u.chunks.push(Lre),u.status=1,RF(l,u),l.pendingTasks===0)break e}catch(f){u.status=4,l.forceClientRender=!0,l.errorDigest=W5(n,f)}finally{e.blockedBoundary=r,e.blockedSegment=o}e=Bre(n,s,r,c,a,e.legacyContext,e.context,e.treeContext),n.pingedTasks.push(e)}return}if(typeof r=="object"&&r!==null)switch(r.$$typeof){case VYe:if(i=Xye(n,e,r.render,i,o),H5!==0){r=e.treeContext,e.treeContext=GK(r,1,0);try{Ku(n,e,i)}finally{e.treeContext=r}}else Ku(n,e,i);return;case GYe:r=r.type,i=Jye(r,i),qK(n,e,r,i,o);return;case UYe:if(o=i.children,r=r._context,i=i.value,s=r._currentValue,r._currentValue=i,a=Rb,Rb=i={parent:a,depth:a===null?0:a.depth+1,context:r,parentValue:s,value:i},e.context=i,Ku(n,e,o),n=Rb,n===null)throw Error(wr(403));i=n.parentValue,n.context._currentValue=i===gCn?n.context._defaultValue:i,n=Rb=n.parent,e.context=n;return;case zYe:i=i.children,i=i(r._currentValue),Ku(n,e,i);return;case $re:o=r._init,r=o(r._payload),i=Jye(r,i),qK(n,e,r,i,void 0);return}throw Error(wr(130,r==null?r:typeof r,""))}}function Ku(n,e,r){if(e.node=r,typeof r=="object"&&r!==null){switch(r.$$typeof){case fCn:qK(n,e,r.type,r.props,r.ref);return;case MYe:throw Error(wr(257));case $re:var i=r._init;r=i(r._payload),Ku(n,e,r);return}if(HK(r)){e1e(n,e,r);return}if(r===null||typeof r!="object"?i=null:(i=Vye&&r[Vye]||r["@@iterator"],i=typeof i=="function"?i:null),i&&(i=i.call(r))){if(r=i.next(),!r.done){var o=[];do o.push(r.value),r=i.next();while(!r.done);e1e(n,e,o)}return}throw n=Object.prototype.toString.call(r),Error(wr(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}typeof r=="string"?(i=e.blockedSegment,i.lastPushedText=$ye(e.blockedSegment.chunks,r,n.responseState,i.lastPushedText)):typeof r=="number"&&(i=e.blockedSegment,i.lastPushedText=$ye(e.blockedSegment.chunks,""+r,n.responseState,i.lastPushedText))}function e1e(n,e,r){for(var i=r.length,o=0;o<i;o++){var s=e.treeContext;e.treeContext=GK(s,i,o);try{KK(n,e,r[o])}finally{e.treeContext=s}}}function KK(n,e,r){var i=e.blockedSegment.formatContext,o=e.legacyContext,s=e.context;try{return Ku(n,e,r)}catch(c){if(Nre(),typeof c=="object"&&c!==null&&typeof c.then=="function"){r=c;var a=e.blockedSegment,l=IF(n,a.chunks.length,null,a.formatContext,a.lastPushedText,!0);a.children.push(l),a.lastPushedText=!1,n=Bre(n,e.node,e.blockedBoundary,l,e.abortSet,e.legacyContext,e.context,e.treeContext).ping,r.then(n,n),e.blockedSegment.formatContext=i,e.legacyContext=o,e.context=s,TF(s)}else throw e.blockedSegment.formatContext=i,e.legacyContext=o,e.context=s,TF(s),c}}function TCn(n){var e=n.blockedBoundary;n=n.blockedSegment,n.status=3,eZe(this,e,n)}function JYe(n,e,r){var i=n.blockedBoundary;n.blockedSegment.status=3,i===null?(e.allPendingTasks--,e.status!==2&&(e.status=2,e.destination!==null&&e.destination.close())):(i.pendingTasks--,i.forceClientRender||(i.forceClientRender=!0,n=r===void 0?Error(wr(432)):r,i.errorDigest=e.onError(n),i.parentFlushed&&e.clientRenderedBoundaries.push(i)),i.fallbackAbortableTasks.forEach(function(o){return JYe(o,e,r)}),i.fallbackAbortableTasks.clear(),e.allPendingTasks--,e.allPendingTasks===0&&(i=e.onAllReady,i()))}function RF(n,e){if(e.chunks.length===0&&e.children.length===1&&e.children[0].boundary===null){var r=e.children[0];r.id=e.id,r.parentFlushed=!0,r.status===1&&RF(n,r)}else n.completedSegments.push(e)}function eZe(n,e,r){if(e===null){if(r.parentFlushed){if(n.completedRootSegment!==null)throw Error(wr(389));n.completedRootSegment=r}n.pendingRootTasks--,n.pendingRootTasks===0&&(n.onShellError=ET,e=n.onShellReady,e())}else e.pendingTasks--,e.forceClientRender||(e.pendingTasks===0?(r.parentFlushed&&r.status===1&&RF(e,r),e.parentFlushed&&n.completedBoundaries.push(e),e.fallbackAbortableTasks.forEach(TCn,n),e.fallbackAbortableTasks.clear()):r.parentFlushed&&r.status===1&&(RF(e,r),e.completedSegments.length===1&&e.parentFlushed&&n.partialBoundaries.push(e)));n.allPendingTasks--,n.allPendingTasks===0&&(n=n.onAllReady,n())}function tZe(n){if(n.status!==2){var e=Rb,r=gV.current;gV.current=Zye;var i=KL;KL=n.responseState;try{var o=n.pingedTasks,s;for(s=0;s<o.length;s++){var a=o[s],l=n,c=a.blockedSegment;if(c.status===0){TF(a.context);try{Ku(l,a,a.node),c.lastPushedText&&c.textEmbedded&&c.chunks.push(Lre),a.abortSet.delete(a),c.status=1,eZe(l,a.blockedBoundary,c)}catch(v){if(Nre(),typeof v=="object"&&v!==null&&typeof v.then=="function"){var u=a.ping;v.then(u,u)}else{a.abortSet.delete(a),c.status=4;var f=a.blockedBoundary,h=v,m=W5(l,h);if(f===null?DF(l,h):(f.pendingTasks--,f.forceClientRender||(f.forceClientRender=!0,f.errorDigest=m,f.parentFlushed&&l.clientRenderedBoundaries.push(f))),l.allPendingTasks--,l.allPendingTasks===0){var g=l.onAllReady;g()}}}finally{}}}o.splice(0,s),n.destination!==null&&Ure(n,n.destination)}catch(v){W5(n,v),DF(n,v)}finally{KL=i,gV.current=r,r===Zye&&TF(e)}}}function kP(n,e,r){switch(r.parentFlushed=!0,r.status){case 0:var i=r.id=n.nextSegmentId++;return r.lastPushedText=!1,r.textEmbedded=!1,n=n.responseState,pn(e,bEn),pn(e,n.placeholderPrefix),n=Sr(i.toString(16)),pn(e,n),zo(e,xEn);case 1:r.status=2;var o=!0;i=r.chunks;var s=0;r=r.children;for(var a=0;a<r.length;a++){for(o=r[a];s<o.index;s++)pn(e,i[s]);o=mN(n,e,o)}for(;s<i.length-1;s++)pn(e,i[s]);return s<i.length&&(o=zo(e,i[s])),o;default:throw Error(wr(390))}}function mN(n,e,r){var i=r.boundary;if(i===null)return kP(n,e,r);if(i.parentFlushed=!0,i.forceClientRender)i=i.errorDigest,zo(e,CEn),pn(e,kEn),i&&(pn(e,AEn),pn(e,Sr(dl(i))),pn(e,TEn)),zo(e,IEn),kP(n,e,r);else if(0<i.pendingTasks){i.rootSegmentID=n.nextSegmentId++,0<i.completedSegments.length&&n.partialBoundaries.push(i);var o=n.responseState,s=o.nextSuspenseID++;o=Vt(o.boundaryPrefix+s.toString(16)),i=i.id=o,zye(e,n.responseState,i),kP(n,e,r)}else if(i.byteSize>n.progressiveChunkSize)i.rootSegmentID=n.nextSegmentId++,n.completedBoundaries.push(i),zye(e,n.responseState,i.id),kP(n,e,r);else{if(zo(e,wEn),r=i.completedSegments,r.length!==1)throw Error(wr(391));mN(n,e,r[0])}return zo(e,SEn)}function t1e(n,e,r){return XEn(e,n.responseState,r.formatContext,r.id),mN(n,e,r),QEn(e,r.formatContext)}function n1e(n,e,r){for(var i=r.completedSegments,o=0;o<i.length;o++)nZe(n,e,r,i[o]);if(i.length=0,n=n.responseState,i=r.id,r=r.rootSegmentID,pn(e,n.startInlineScript),n.sentCompleteBoundaryFunction?pn(e,iCn):(n.sentCompleteBoundaryFunction=!0,pn(e,rCn)),i===null)throw Error(wr(395));return r=Sr(r.toString(16)),pn(e,i),pn(e,oCn),pn(e,n.segmentPrefix),pn(e,r),zo(e,sCn)}function nZe(n,e,r,i){if(i.status===2)return!0;var o=i.id;if(o===-1){if((i.id=r.rootSegmentID)===-1)throw Error(wr(392));return t1e(n,e,i)}return t1e(n,e,i),n=n.responseState,pn(e,n.startInlineScript),n.sentCompleteSegmentFunction?pn(e,eCn):(n.sentCompleteSegmentFunction=!0,pn(e,JEn)),pn(e,n.segmentPrefix),o=Sr(o.toString(16)),pn(e,o),pn(e,tCn),pn(e,n.placeholderPrefix),pn(e,o),zo(e,nCn)}function Ure(n,e){Gu=new Uint8Array(512),qu=0;try{var r=n.completedRootSegment;if(r!==null&&n.pendingRootTasks===0){mN(n,e,r),n.completedRootSegment=null;var i=n.responseState.bootstrapChunks;for(r=0;r<i.length-1;r++)pn(e,i[r]);r<i.length&&zo(e,i[r])}var o=n.clientRenderedBoundaries,s;for(s=0;s<o.length;s++){var a=o[s];i=e;var l=n.responseState,c=a.id,u=a.errorDigest,f=a.errorMessage,h=a.errorComponentStack;if(pn(i,l.startInlineScript),l.sentClientRenderFunction?pn(i,lCn):(l.sentClientRenderFunction=!0,pn(i,aCn)),c===null)throw Error(wr(395));pn(i,c),pn(i,cCn),(u||f||h)&&(pn(i,pV),pn(i,Sr(mV(u||"")))),(f||h)&&(pn(i,pV),pn(i,Sr(mV(f||"")))),h&&(pn(i,pV),pn(i,Sr(mV(h)))),zo(i,uCn)}o.splice(0,s);var m=n.completedBoundaries;for(s=0;s<m.length;s++)n1e(n,e,m[s]);m.splice(0,s),Oye(e),Gu=new Uint8Array(512),qu=0;var g=n.partialBoundaries;for(s=0;s<g.length;s++){var v=g[s];e:{o=n,a=e;var y=v.completedSegments;for(l=0;l<y.length;l++)if(!nZe(o,a,v,y[l])){l++,y.splice(0,l);var b=!1;break e}y.splice(0,l),b=!0}if(!b){n.destination=null,s++,g.splice(0,s);return}}g.splice(0,s);var x=n.completedBoundaries;for(s=0;s<x.length;s++)n1e(n,e,x[s]);x.splice(0,s)}finally{Oye(e),n.allPendingTasks===0&&n.pingedTasks.length===0&&n.clientRenderedBoundaries.length===0&&n.completedBoundaries.length===0&&e.close()}}function r1e(n,e){try{var r=n.abortableTasks;r.forEach(function(i){return JYe(i,n,e)}),r.clear(),n.destination!==null&&Ure(n,n.destination)}catch(i){W5(n,i),DF(n,i)}}Ore.renderToReadableStream=function(n,e){return new Promise(function(r,i){var o,s,a=new Promise(function(f,h){s=f,o=h}),l=kCn(n,lEn(e?e.identifierPrefix:void 0,e?e.nonce:void 0,e?e.bootstrapScriptContent:void 0,e?e.bootstrapScripts:void 0,e?e.bootstrapModules:void 0),cEn(e?e.namespaceURI:void 0),e?e.progressiveChunkSize:void 0,e?e.onError:void 0,s,function(){var f=new ReadableStream({type:"bytes",pull:function(h){if(l.status===1)l.status=2,jYe(h,l.fatalError);else if(l.status!==2&&l.destination===null){l.destination=h;try{Ure(l,h)}catch(m){W5(l,m),DF(l,m)}}},cancel:function(){r1e(l)}},{highWaterMark:0});f.allReady=a,r(f)},function(f){a.catch(function(){}),i(f)},o);if(e&&e.signal){var c=e.signal,u=function(){r1e(l,c.reason),c.removeEventListener("abort",u)};c.addEventListener("abort",u)}tZe(l)})};Ore.version="18.2.0";var zS,rZe;zS=US,rZe=Ore;zS.version;var ACn=zS.renderToString;zS.renderToStaticMarkup;zS.renderToNodeStream;zS.renderToStaticNodeStream;rZe.renderToReadableStream;var ICn=z8e,DCn=jI,RCn=U4,OCn=Gs,PCn=Ty,jCn=n8,LCn=i8,$Cn=zQ,MCn="[object Map]",FCn="[object Set]",NCn=Object.prototype,BCn=NCn.hasOwnProperty;function UCn(n){if(n==null)return!0;if(PCn(n)&&(OCn(n)||typeof n=="string"||typeof n.splice=="function"||jCn(n)||$Cn(n)||RCn(n)))return!n.length;var e=DCn(n);if(e==MCn||e==FCn)return!n.size;if(LCn(n))return!ICn(n).length;for(var r in n)if(BCn.call(n,r))return!1;return!0}var zCn=UCn;const VCn=Tt(zCn);function HCn(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return p.useMemo(()=>i=>{e.forEach(o=>o(i))},e)}const gN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function VS(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function zre(n){return"nodeType"in n}function Su(n){var e,r;return n?VS(n)?n:zre(n)&&(e=(r=n.ownerDocument)==null?void 0:r.defaultView)!=null?e:window:window}function Vre(n){const{Document:e}=Su(n);return n instanceof e}function ID(n){return VS(n)?!1:n instanceof Su(n).HTMLElement}function iZe(n){return n instanceof Su(n).SVGElement}function HS(n){return n?VS(n)?n.document:zre(n)?Vre(n)?n:ID(n)||iZe(n)?n.ownerDocument:document:document:document}const _h=gN?p.useLayoutEffect:p.useEffect;function Hre(n){const e=p.useRef(n);return _h(()=>{e.current=n}),p.useCallback(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return e.current==null?void 0:e.current(...i)},[])}function WCn(){const n=p.useRef(null),e=p.useCallback((i,o)=>{n.current=setInterval(i,o)},[]),r=p.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,r]}function G5(n,e){e===void 0&&(e=[n]);const r=p.useRef(n);return _h(()=>{r.current!==n&&(r.current=n)},e),r}function DD(n,e){const r=p.useRef();return p.useMemo(()=>{const i=n(r.current);return r.current=i,i},[...e])}function OF(n){const e=Hre(n),r=p.useRef(null),i=p.useCallback(o=>{o!==r.current&&(e==null||e(o,r.current)),r.current=o},[]);return[r,i]}function YK(n){const e=p.useRef();return p.useEffect(()=>{e.current=n},[n]),e.current}let vV={};function RD(n,e){return p.useMemo(()=>{if(e)return e;const r=vV[n]==null?0:vV[n]+1;return vV[n]=r,n+"-"+r},[n,e])}function oZe(n){return function(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.reduce((s,a)=>{const l=Object.entries(a);for(const[c,u]of l){const f=s[c];f!=null&&(s[c]=f+n*u)}return s},{...e})}}const oC=oZe(1),q5=oZe(-1);function GCn(n){return"clientX"in n&&"clientY"in n}function Wre(n){if(!n)return!1;const{KeyboardEvent:e}=Su(n.target);return e&&n instanceof e}function qCn(n){if(!n)return!1;const{TouchEvent:e}=Su(n.target);return e&&n instanceof e}function ZK(n){if(qCn(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:r}=n.touches[0];return{x:e,y:r}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:r}=n.changedTouches[0];return{x:e,y:r}}}return GCn(n)?{x:n.clientX,y:n.clientY}:null}const K5=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:r}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:r}=n;return"scaleX("+e+") scaleY("+r+")"}},Transform:{toString(n){if(n)return[K5.Translate.toString(n),K5.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:r,easing:i}=n;return e+" "+r+"ms "+i}}}),i1e="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function KCn(n){return n.matches(i1e)?n:n.querySelector(i1e)}const YCn={display:"none"};function ZCn(n){let{id:e,value:r}=n;return _t.createElement("div",{id:e,style:YCn},r)}function XCn(n){let{id:e,announcement:r,ariaLiveType:i="assertive"}=n;const o={position:"fixed",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return _t.createElement("div",{id:e,style:o,role:"status","aria-live":i,"aria-atomic":!0},r)}function QCn(){const[n,e]=p.useState("");return{announce:p.useCallback(i=>{i!=null&&e(i)},[]),announcement:n}}const sZe=p.createContext(null);function JCn(n){const e=p.useContext(sZe);p.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function eSn(){const[n]=p.useState(()=>new Set),e=p.useCallback(i=>(n.add(i),()=>n.delete(i)),[n]);return[p.useCallback(i=>{let{type:o,event:s}=i;n.forEach(a=>{var l;return(l=a[o])==null?void 0:l.call(a,s)})},[n]),e]}const tSn={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},nSn={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:r}=n;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:r}=n;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function rSn(n){let{announcements:e=nSn,container:r,hiddenTextDescribedById:i,screenReaderInstructions:o=tSn}=n;const{announce:s,announcement:a}=QCn(),l=RD("DndLiveRegion"),[c,u]=p.useState(!1);if(p.useEffect(()=>{u(!0)},[]),JCn(p.useMemo(()=>({onDragStart(h){let{active:m}=h;s(e.onDragStart({active:m}))},onDragMove(h){let{active:m,over:g}=h;e.onDragMove&&s(e.onDragMove({active:m,over:g}))},onDragOver(h){let{active:m,over:g}=h;s(e.onDragOver({active:m,over:g}))},onDragEnd(h){let{active:m,over:g}=h;s(e.onDragEnd({active:m,over:g}))},onDragCancel(h){let{active:m,over:g}=h;s(e.onDragCancel({active:m,over:g}))}}),[s,e])),!c)return null;const f=_t.createElement(_t.Fragment,null,_t.createElement(ZCn,{id:i,value:o.draggable}),_t.createElement(XCn,{id:l,announcement:a}));return r?Kd.createPortal(f,r):f}var xa;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(xa||(xa={}));function PF(){}function o1e(n,e){return p.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function iSn(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return p.useMemo(()=>[...e].filter(i=>i!=null),[...e])}const Eh=Object.freeze({x:0,y:0});function aZe(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function lZe(n,e){let{data:{value:r}}=n,{data:{value:i}}=e;return r-i}function oSn(n,e){let{data:{value:r}}=n,{data:{value:i}}=e;return i-r}function s1e(n){let{left:e,top:r,height:i,width:o}=n;return[{x:e,y:r},{x:e+o,y:r},{x:e,y:r+i},{x:e+o,y:r+i}]}function cZe(n,e){if(!n||n.length===0)return null;const[r]=n;return e?r[e]:r}function a1e(n,e,r){return e===void 0&&(e=n.left),r===void 0&&(r=n.top),{x:e+n.width*.5,y:r+n.height*.5}}const sSn=n=>{let{collisionRect:e,droppableRects:r,droppableContainers:i}=n;const o=a1e(e,e.left,e.top),s=[];for(const a of i){const{id:l}=a,c=r.get(l);if(c){const u=aZe(a1e(c),o);s.push({id:l,data:{droppableContainer:a,value:u}})}}return s.sort(lZe)},aSn=n=>{let{collisionRect:e,droppableRects:r,droppableContainers:i}=n;const o=s1e(e),s=[];for(const a of i){const{id:l}=a,c=r.get(l);if(c){const u=s1e(c),f=o.reduce((m,g,v)=>m+aZe(u[v],g),0),h=Number((f/4).toFixed(4));s.push({id:l,data:{droppableContainer:a,value:h}})}}return s.sort(lZe)};function lSn(n,e){const r=Math.max(e.top,n.top),i=Math.max(e.left,n.left),o=Math.min(e.left+e.width,n.left+n.width),s=Math.min(e.top+e.height,n.top+n.height),a=o-i,l=s-r;if(i<o&&r<s){const c=e.width*e.height,u=n.width*n.height,f=a*l,h=f/(c+u-f);return Number(h.toFixed(4))}return 0}const cSn=n=>{let{collisionRect:e,droppableRects:r,droppableContainers:i}=n;const o=[];for(const s of i){const{id:a}=s,l=r.get(a);if(l){const c=lSn(l,e);c>0&&o.push({id:a,data:{droppableContainer:s,value:c}})}}return o.sort(oSn)};function uSn(n,e,r){return{...n,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function uZe(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:Eh}function dSn(n){return function(r){for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return o.reduce((a,l)=>({...a,top:a.top+n*l.y,bottom:a.bottom+n*l.y,left:a.left+n*l.x,right:a.right+n*l.x}),{...r})}}const fSn=dSn(1);function hSn(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function pSn(n,e,r){const i=hSn(e);if(!i)return n;const{scaleX:o,scaleY:s,x:a,y:l}=i,c=n.left-a-(1-o)*parseFloat(r),u=n.top-l-(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),f=o?n.width/o:n.width,h=s?n.height/s:n.height;return{width:f,height:h,top:u,right:c+f,bottom:u+h,left:c}}const mSn={ignoreTransform:!1};function WS(n,e){e===void 0&&(e=mSn);let r=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:f}=Su(n).getComputedStyle(n);u&&(r=pSn(r,u,f))}const{top:i,left:o,width:s,height:a,bottom:l,right:c}=r;return{top:i,left:o,width:s,height:a,bottom:l,right:c}}function l1e(n){return WS(n,{ignoreTransform:!0})}function gSn(n){const e=n.innerWidth,r=n.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function vSn(n,e){return e===void 0&&(e=Su(n).getComputedStyle(n)),e.position==="fixed"}function ySn(n,e){e===void 0&&(e=Su(n).getComputedStyle(n));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const s=e[o];return typeof s=="string"?r.test(s):!1})}function vN(n,e){const r=[];function i(o){if(e!=null&&r.length>=e||!o)return r;if(Vre(o)&&o.scrollingElement!=null&&!r.includes(o.scrollingElement))return r.push(o.scrollingElement),r;if(!ID(o)||iZe(o)||r.includes(o))return r;const s=Su(n).getComputedStyle(o);return o!==n&&ySn(o,s)&&r.push(o),vSn(o,s)?r:i(o.parentNode)}return n?i(n):r}function dZe(n){const[e]=vN(n,1);return e??null}function yV(n){return!gN||!n?null:VS(n)?n:zre(n)?Vre(n)||n===HS(n).scrollingElement?window:ID(n)?n:null:null}function fZe(n){return VS(n)?n.scrollX:n.scrollLeft}function hZe(n){return VS(n)?n.scrollY:n.scrollTop}function XK(n){return{x:fZe(n),y:hZe(n)}}var Va;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(Va||(Va={}));function pZe(n){return!gN||!n?!1:n===document.scrollingElement}function mZe(n){const e={x:0,y:0},r=pZe(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},i={x:n.scrollWidth-r.width,y:n.scrollHeight-r.height},o=n.scrollTop<=e.y,s=n.scrollLeft<=e.x,a=n.scrollTop>=i.y,l=n.scrollLeft>=i.x;return{isTop:o,isLeft:s,isBottom:a,isRight:l,maxScroll:i,minScroll:e}}const bSn={x:.2,y:.2};function xSn(n,e,r,i,o){let{top:s,left:a,right:l,bottom:c}=r;i===void 0&&(i=10),o===void 0&&(o=bSn);const{isTop:u,isBottom:f,isLeft:h,isRight:m}=mZe(n),g={x:0,y:0},v={x:0,y:0},y={height:e.height*o.y,width:e.width*o.x};return!u&&s<=e.top+y.height?(g.y=Va.Backward,v.y=i*Math.abs((e.top+y.height-s)/y.height)):!f&&c>=e.bottom-y.height&&(g.y=Va.Forward,v.y=i*Math.abs((e.bottom-y.height-c)/y.height)),!m&&l>=e.right-y.width?(g.x=Va.Forward,v.x=i*Math.abs((e.right-y.width-l)/y.width)):!h&&a<=e.left+y.width&&(g.x=Va.Backward,v.x=i*Math.abs((e.left+y.width-a)/y.width)),{direction:g,speed:v}}function wSn(n){if(n===document.scrollingElement){const{innerWidth:s,innerHeight:a}=window;return{top:0,left:0,right:s,bottom:a,width:s,height:a}}const{top:e,left:r,right:i,bottom:o}=n.getBoundingClientRect();return{top:e,left:r,right:i,bottom:o,width:n.clientWidth,height:n.clientHeight}}function gZe(n){return n.reduce((e,r)=>oC(e,XK(r)),Eh)}function _Sn(n){return n.reduce((e,r)=>e+fZe(r),0)}function ESn(n){return n.reduce((e,r)=>e+hZe(r),0)}function CSn(n,e){if(e===void 0&&(e=WS),!n)return;const{top:r,left:i,bottom:o,right:s}=e(n);dZe(n)&&(o<=0||s<=0||r>=window.innerHeight||i>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const SSn=[["x",["left","right"],_Sn],["y",["top","bottom"],ESn]];let Gre=class{constructor(e,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const i=vN(r),o=gZe(i);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,a,l]of SSn)for(const c of a)Object.defineProperty(this,c,{get:()=>{const u=l(i),f=o[s]-u;return this.rect[c]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}};class $A{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var i;return(i=this.target)==null?void 0:i.removeEventListener(...r)})},this.target=e}add(e,r,i){var o;(o=this.target)==null||o.addEventListener(e,r,i),this.listeners.push([e,r,i])}}function kSn(n){const{EventTarget:e}=Su(n);return n instanceof e?n:HS(n)}function bV(n,e){const r=Math.abs(n.x),i=Math.abs(n.y);return typeof e=="number"?Math.sqrt(r**2+i**2)>e:"x"in e&&"y"in e?r>e.x&&i>e.y:"x"in e?r>e.x:"y"in e?i>e.y:!1}var zd;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(zd||(zd={}));function c1e(n){n.preventDefault()}function TSn(n){n.stopPropagation()}var Kr;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter"})(Kr||(Kr={}));const vZe={start:[Kr.Space,Kr.Enter],cancel:[Kr.Esc],end:[Kr.Space,Kr.Enter]},ASn=(n,e)=>{let{currentCoordinates:r}=e;switch(n.code){case Kr.Right:return{...r,x:r.x+25};case Kr.Left:return{...r,x:r.x-25};case Kr.Down:return{...r,y:r.y+25};case Kr.Up:return{...r,y:r.y-25}}};class qre{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:r}}=e;this.props=e,this.listeners=new $A(HS(r)),this.windowListeners=new $A(Su(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(zd.Resize,this.handleCancel),this.windowListeners.add(zd.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(zd.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:r}=this.props,i=e.node.current;i&&CSn(i),r(Eh)}handleKeyDown(e){if(Wre(e)){const{active:r,context:i,options:o}=this.props,{keyboardCodes:s=vZe,coordinateGetter:a=ASn,scrollBehavior:l="smooth"}=o,{code:c}=e;if(s.end.includes(c)){this.handleEnd(e);return}if(s.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:u}=i.current,f=u?{x:u.left,y:u.top}:Eh;this.referenceCoordinates||(this.referenceCoordinates=f);const h=a(e,{active:r,context:i.current,currentCoordinates:f});if(h){const m=q5(h,f),g={x:0,y:0},{scrollableAncestors:v}=i.current;for(const y of v){const b=e.code,{isTop:x,isRight:_,isLeft:w,isBottom:C,maxScroll:S,minScroll:T}=mZe(y),A=wSn(y),I={x:Math.min(b===Kr.Right?A.right-A.width/2:A.right,Math.max(b===Kr.Right?A.left:A.left+A.width/2,h.x)),y:Math.min(b===Kr.Down?A.bottom-A.height/2:A.bottom,Math.max(b===Kr.Down?A.top:A.top+A.height/2,h.y))},D=b===Kr.Right&&!_||b===Kr.Left&&!w,R=b===Kr.Down&&!C||b===Kr.Up&&!x;if(D&&I.x!==h.x){const P=y.scrollLeft+m.x,O=b===Kr.Right&&P<=S.x||b===Kr.Left&&P>=T.x;if(O&&!m.y){y.scrollTo({left:P,behavior:l});return}O?g.x=y.scrollLeft-P:g.x=b===Kr.Right?y.scrollLeft-S.x:y.scrollLeft-T.x,g.x&&y.scrollBy({left:-g.x,behavior:l});break}else if(R&&I.y!==h.y){const P=y.scrollTop+m.y,O=b===Kr.Down&&P<=S.y||b===Kr.Up&&P>=T.y;if(O&&!m.x){y.scrollTo({top:P,behavior:l});return}O?g.y=y.scrollTop-P:g.y=b===Kr.Down?y.scrollTop-S.y:y.scrollTop-T.y,g.y&&y.scrollBy({top:-g.y,behavior:l});break}}this.handleMove(e,oC(q5(h,this.referenceCoordinates),g))}}}handleMove(e,r){const{onMove:i}=this.props;e.preventDefault(),i(r)}handleEnd(e){const{onEnd:r}=this.props;e.preventDefault(),this.detach(),r()}handleCancel(e){const{onCancel:r}=this.props;e.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}qre.activators=[{eventName:"onKeyDown",handler:(n,e,r)=>{let{keyboardCodes:i=vZe,onActivation:o}=e,{active:s}=r;const{code:a}=n.nativeEvent;if(i.start.includes(a)){const l=s.activatorNode.current;return l&&n.target!==l?!1:(n.preventDefault(),o==null||o({event:n.nativeEvent}),!0)}return!1}}];function u1e(n){return!!(n&&"distance"in n)}function d1e(n){return!!(n&&"delay"in n)}class Kre{constructor(e,r,i){var o;i===void 0&&(i=kSn(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=r;const{event:s}=e,{target:a}=s;this.props=e,this.events=r,this.document=HS(a),this.documentListeners=new $A(this.document),this.listeners=new $A(i),this.windowListeners=new $A(Su(a)),this.initialCoordinates=(o=ZK(s))!=null?o:Eh,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:r,bypassActivationConstraint:i}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(zd.Resize,this.handleCancel),this.windowListeners.add(zd.DragStart,c1e),this.windowListeners.add(zd.VisibilityChange,this.handleCancel),this.windowListeners.add(zd.ContextMenu,c1e),this.documentListeners.add(zd.Keydown,this.handleKeydown),r){if(i!=null&&i({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(d1e(r)){this.timeoutId=setTimeout(this.handleStart,r.delay);return}if(u1e(r))return}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:r}=this.props;e&&(this.activated=!0,this.documentListeners.add(zd.Click,TSn,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(zd.SelectionChange,this.removeTextSelection),r(e))}handleMove(e){var r;const{activated:i,initialCoordinates:o,props:s}=this,{onMove:a,options:{activationConstraint:l}}=s;if(!o)return;const c=(r=ZK(e))!=null?r:Eh,u=q5(o,c);if(!i&&l){if(u1e(l)){if(l.tolerance!=null&&bV(u,l.tolerance))return this.handleCancel();if(bV(u,l.distance))return this.handleStart()}return d1e(l)&&bV(u,l.tolerance)?this.handleCancel():void 0}e.cancelable&&e.preventDefault(),a(c)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===Kr.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const ISn={move:{name:"pointermove"},end:{name:"pointerup"}};class Yre extends Kre{constructor(e){const{event:r}=e,i=HS(r.target);super(e,ISn,i)}}Yre.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:r}=n,{onActivation:i}=e;return!r.isPrimary||r.button!==0?!1:(i==null||i({event:r}),!0)}}];const DSn={move:{name:"mousemove"},end:{name:"mouseup"}};var QK;(function(n){n[n.RightClick=2]="RightClick"})(QK||(QK={}));class RSn extends Kre{constructor(e){super(e,DSn,HS(e.event.target))}}RSn.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:r}=n,{onActivation:i}=e;return r.button===QK.RightClick?!1:(i==null||i({event:r}),!0)}}];const xV={move:{name:"touchmove"},end:{name:"touchend"}};class OSn extends Kre{constructor(e){super(e,xV)}static setup(){return window.addEventListener(xV.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(xV.move.name,e)};function e(){}}}OSn.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:r}=n,{onActivation:i}=e;const{touches:o}=r;return o.length>1?!1:(i==null||i({event:r}),!0)}}];var MA;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(MA||(MA={}));var jF;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(jF||(jF={}));function PSn(n){let{acceleration:e,activator:r=MA.Pointer,canScroll:i,draggingRect:o,enabled:s,interval:a=5,order:l=jF.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:f,delta:h,threshold:m}=n;const g=LSn({delta:h,disabled:!s}),[v,y]=WCn(),b=p.useRef({x:0,y:0}),x=p.useRef({x:0,y:0}),_=p.useMemo(()=>{switch(r){case MA.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case MA.DraggableRect:return o}},[r,o,c]),w=p.useRef(null),C=p.useCallback(()=>{const T=w.current;if(!T)return;const A=b.current.x*x.current.x,I=b.current.y*x.current.y;T.scrollBy(A,I)},[]),S=p.useMemo(()=>l===jF.TreeOrder?[...u].reverse():u,[l,u]);p.useEffect(()=>{if(!s||!u.length||!_){y();return}for(const T of S){if((i==null?void 0:i(T))===!1)continue;const A=u.indexOf(T),I=f[A];if(!I)continue;const{direction:D,speed:R}=xSn(T,I,_,e,m);for(const P of["x","y"])g[P][D[P]]||(R[P]=0,D[P]=0);if(R.x>0||R.y>0){y(),w.current=T,v(C,a),b.current=R,x.current=D;return}}b.current={x:0,y:0},x.current={x:0,y:0},y()},[e,C,i,y,s,a,JSON.stringify(_),JSON.stringify(g),v,u,S,f,JSON.stringify(m)])}const jSn={x:{[Va.Backward]:!1,[Va.Forward]:!1},y:{[Va.Backward]:!1,[Va.Forward]:!1}};function LSn(n){let{delta:e,disabled:r}=n;const i=YK(e);return DD(o=>{if(r||!i||!o)return jSn;const s={x:Math.sign(e.x-i.x),y:Math.sign(e.y-i.y)};return{x:{[Va.Backward]:o.x[Va.Backward]||s.x===-1,[Va.Forward]:o.x[Va.Forward]||s.x===1},y:{[Va.Backward]:o.y[Va.Backward]||s.y===-1,[Va.Forward]:o.y[Va.Forward]||s.y===1}}},[r,e,i])}function $Sn(n,e){const r=e!==null?n.get(e):void 0,i=r?r.node.current:null;return DD(o=>{var s;return e===null?null:(s=i??o)!=null?s:null},[i,e])}function MSn(n,e){return p.useMemo(()=>n.reduce((r,i)=>{const{sensor:o}=i,s=o.activators.map(a=>({eventName:a.eventName,handler:e(a.handler,i)}));return[...r,...s]},[]),[n,e])}var Y5;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(Y5||(Y5={}));var JK;(function(n){n.Optimized="optimized"})(JK||(JK={}));const f1e=new Map;function FSn(n,e){let{dragging:r,dependencies:i,config:o}=e;const[s,a]=p.useState(null),{frequency:l,measure:c,strategy:u}=o,f=p.useRef(n),h=b(),m=G5(h),g=p.useCallback(function(x){x===void 0&&(x=[]),!m.current&&a(_=>_===null?x:_.concat(x.filter(w=>!_.includes(w))))},[m]),v=p.useRef(null),y=DD(x=>{if(h&&!r)return f1e;if(!x||x===f1e||f.current!==n||s!=null){const _=new Map;for(let w of n){if(!w)continue;if(s&&s.length>0&&!s.includes(w.id)&&w.rect.current){_.set(w.id,w.rect.current);continue}const C=w.node.current,S=C?new Gre(c(C),C):null;w.rect.current=S,S&&_.set(w.id,S)}return _}return x},[n,s,r,h,c]);return p.useEffect(()=>{f.current=n},[n]),p.useEffect(()=>{h||g()},[r,h]),p.useEffect(()=>{s&&s.length>0&&a(null)},[JSON.stringify(s)]),p.useEffect(()=>{h||typeof l!="number"||v.current!==null||(v.current=setTimeout(()=>{g(),v.current=null},l))},[l,h,g,...i]),{droppableRects:y,measureDroppableContainers:g,measuringScheduled:s!=null};function b(){switch(u){case Y5.Always:return!1;case Y5.BeforeDragging:return r;default:return!r}}}function yZe(n,e){return DD(r=>n?r||(typeof e=="function"?e(n):n):null,[e,n])}function NSn(n,e){return yZe(n,e)}function BSn(n){let{callback:e,disabled:r}=n;const i=Hre(e),o=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(i)},[i,r]);return p.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function yN(n){let{callback:e,disabled:r}=n;const i=Hre(e),o=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(i)},[r]);return p.useEffect(()=>()=>o==null?void 0:o.disconnect(),[o]),o}function USn(n){return new Gre(WS(n),n)}function h1e(n,e,r){e===void 0&&(e=USn);const[i,o]=p.useReducer(l,null),s=BSn({callback(c){if(n)for(const u of c){const{type:f,target:h}=u;if(f==="childList"&&h instanceof HTMLElement&&h.contains(n)){o();break}}}}),a=yN({callback:o});return _h(()=>{o(),n?(a==null||a.observe(n),s==null||s.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),s==null||s.disconnect())},[n]),i;function l(c){if(!n)return null;if(n.isConnected===!1){var u;return(u=c??r)!=null?u:null}const f=e(n);return JSON.stringify(c)===JSON.stringify(f)?c:f}}function zSn(n){const e=yZe(n);return uZe(n,e)}const p1e=[];function VSn(n){const e=p.useRef(n),r=DD(i=>n?i&&i!==p1e&&n&&e.current&&n.parentNode===e.current.parentNode?i:vN(n):p1e,[n]);return p.useEffect(()=>{e.current=n},[n]),r}function HSn(n){const[e,r]=p.useState(null),i=p.useRef(n),o=p.useCallback(s=>{const a=yV(s.target);a&&r(l=>l?(l.set(a,XK(a)),new Map(l)):null)},[]);return p.useEffect(()=>{const s=i.current;if(n!==s){a(s);const l=n.map(c=>{const u=yV(c);return u?(u.addEventListener("scroll",o,{passive:!0}),[u,XK(u)]):null}).filter(c=>c!=null);r(l.length?new Map(l):null),i.current=n}return()=>{a(n),a(s)};function a(l){l.forEach(c=>{const u=yV(c);u==null||u.removeEventListener("scroll",o)})}},[o,n]),p.useMemo(()=>n.length?e?Array.from(e.values()).reduce((s,a)=>oC(s,a),Eh):gZe(n):Eh,[n,e])}function m1e(n,e){e===void 0&&(e=[]);const r=p.useRef(null);return p.useEffect(()=>{r.current=null},e),p.useEffect(()=>{const i=n!==Eh;i&&!r.current&&(r.current=n),!i&&r.current&&(r.current=null)},[n]),r.current?q5(n,r.current):Eh}function WSn(n){p.useEffect(()=>{if(!gN)return;const e=n.map(r=>{let{sensor:i}=r;return i.setup==null?void 0:i.setup()});return()=>{for(const r of e)r==null||r()}},n.map(e=>{let{sensor:r}=e;return r}))}function GSn(n,e){return p.useMemo(()=>n.reduce((r,i)=>{let{eventName:o,handler:s}=i;return r[o]=a=>{s(a,e)},r},{}),[n,e])}function bZe(n){return p.useMemo(()=>n?gSn(n):null,[n])}const wV=[];function qSn(n,e){e===void 0&&(e=WS);const[r]=n,i=bZe(r?Su(r):null),[o,s]=p.useReducer(l,wV),a=yN({callback:s});return n.length>0&&o===wV&&s(),_h(()=>{n.length?n.forEach(c=>a==null?void 0:a.observe(c)):(a==null||a.disconnect(),s())},[n]),o;function l(){return n.length?n.map(c=>pZe(c)?i:new Gre(e(c),c)):wV}}function KSn(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return ID(e)?e:n}function YSn(n){let{measure:e}=n;const[r,i]=p.useState(null),o=p.useCallback(u=>{for(const{target:f}of u)if(ID(f)){i(h=>{const m=e(f);return h?{...h,width:m.width,height:m.height}:m});break}},[e]),s=yN({callback:o}),a=p.useCallback(u=>{const f=KSn(u);s==null||s.disconnect(),f&&(s==null||s.observe(f)),i(f?e(f):null)},[e,s]),[l,c]=OF(a);return p.useMemo(()=>({nodeRef:l,rect:r,setRef:c}),[r,l,c])}const ZSn=[{sensor:Yre,options:{}},{sensor:qre,options:{}}],XSn={current:{}},YL={draggable:{measure:l1e},droppable:{measure:l1e,strategy:Y5.WhileDragging,frequency:JK.Optimized},dragOverlay:{measure:WS}};class FA extends Map{get(e){var r;return e!=null&&(r=super.get(e))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:r}=e;return!r})}getNodeFor(e){var r,i;return(r=(i=this.get(e))==null?void 0:i.node.current)!=null?r:void 0}}const QSn={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new FA,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:PF},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:YL,measureDroppableContainers:PF,windowRect:null,measuringScheduled:!1},JSn={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:PF,draggableNodes:new Map,over:null,measureDroppableContainers:PF},bN=p.createContext(JSn),xZe=p.createContext(QSn);function e2n(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new FA}}}function t2n(n,e){switch(e.type){case xa.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case xa.DragMove:return n.draggable.active?{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}}:n;case xa.DragEnd:case xa.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case xa.RegisterDroppable:{const{element:r}=e,{id:i}=r,o=new FA(n.droppable.containers);return o.set(i,r),{...n,droppable:{...n.droppable,containers:o}}}case xa.SetDroppableDisabled:{const{id:r,key:i,disabled:o}=e,s=n.droppable.containers.get(r);if(!s||i!==s.key)return n;const a=new FA(n.droppable.containers);return a.set(r,{...s,disabled:o}),{...n,droppable:{...n.droppable,containers:a}}}case xa.UnregisterDroppable:{const{id:r,key:i}=e,o=n.droppable.containers.get(r);if(!o||i!==o.key)return n;const s=new FA(n.droppable.containers);return s.delete(r),{...n,droppable:{...n.droppable,containers:s}}}default:return n}}function n2n(n){let{disabled:e}=n;const{active:r,activatorEvent:i,draggableNodes:o}=p.useContext(bN),s=YK(i),a=YK(r==null?void 0:r.id);return p.useEffect(()=>{if(!e&&!i&&s&&a!=null){if(!Wre(s)||document.activeElement===s.target)return;const l=o.get(a);if(!l)return;const{activatorNode:c,node:u}=l;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const f of[c.current,u.current]){if(!f)continue;const h=KCn(f);if(h){h.focus();break}}})}},[i,e,o,a,s]),null}function r2n(n,e){let{transform:r,...i}=e;return n!=null&&n.length?n.reduce((o,s)=>s({transform:o,...i}),r):r}function i2n(n){return p.useMemo(()=>({draggable:{...YL.draggable,...n==null?void 0:n.draggable},droppable:{...YL.droppable,...n==null?void 0:n.droppable},dragOverlay:{...YL.dragOverlay,...n==null?void 0:n.dragOverlay}}),[n==null?void 0:n.draggable,n==null?void 0:n.droppable,n==null?void 0:n.dragOverlay])}function o2n(n){let{activeNode:e,measure:r,initialRect:i,config:o=!0}=n;const s=p.useRef(!1),{x:a,y:l}=typeof o=="boolean"?{x:o,y:o}:o;_h(()=>{if(!a&&!l||!e){s.current=!1;return}if(s.current||!i)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const f=r(u),h=uZe(f,i);if(a||(h.x=0),l||(h.y=0),s.current=!0,Math.abs(h.x)>0||Math.abs(h.y)>0){const m=dZe(u);m&&m.scrollBy({top:h.y,left:h.x})}},[e,a,l,i,r])}const wZe=p.createContext({...Eh,scaleX:1,scaleY:1});var a0;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(a0||(a0={}));const s2n=p.memo(function(e){var r,i,o,s;let{id:a,accessibility:l,autoScroll:c=!0,children:u,sensors:f=ZSn,collisionDetection:h=cSn,measuring:m,modifiers:g,...v}=e;const y=p.useReducer(t2n,void 0,e2n),[b,x]=y,[_,w]=eSn(),[C,S]=p.useState(a0.Uninitialized),T=C===a0.Initialized,{draggable:{active:A,nodes:I,translate:D},droppable:{containers:R}}=b,P=A?I.get(A):null,O=p.useRef({initial:null,translated:null}),$=p.useMemo(()=>{var pr;return A!=null?{id:A,data:(pr=P==null?void 0:P.data)!=null?pr:XSn,rect:O}:null},[A,P]),L=p.useRef(null),[M,N]=p.useState(null),[z,B]=p.useState(null),H=G5(v,Object.values(v)),X=RD("DndDescribedBy",a),G=p.useMemo(()=>R.getEnabled(),[R]),ne=i2n(m),{droppableRects:le,measureDroppableContainers:K,measuringScheduled:Q}=FSn(G,{dragging:T,dependencies:[D.x,D.y],config:ne.droppable}),re=$Sn(I,A),se=p.useMemo(()=>z?ZK(z):null,[z]),de=wi(),fe=NSn(re,ne.draggable.measure);o2n({activeNode:A?I.get(A):null,config:de.layoutShiftCompensation,initialRect:fe,measure:ne.draggable.measure});const we=h1e(re,ne.draggable.measure,fe),ye=h1e(re?re.parentElement:null),ve=p.useRef({activatorEvent:null,active:null,activeNode:re,collisionRect:null,collisions:null,droppableRects:le,draggableNodes:I,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),_e=R.getNodeFor((r=ve.current.over)==null?void 0:r.id),ge=YSn({measure:ne.dragOverlay.measure}),pe=(i=ge.nodeRef.current)!=null?i:re,Pe=T?(o=ge.rect)!=null?o:we:null,Re=!!(ge.nodeRef.current&&ge.rect),Fe=zSn(Re?null:we),Ye=bZe(pe?Su(pe):null),He=VSn(T?_e??re:null),lt=qSn(He),Xe=r2n(g,{transform:{x:D.x-Fe.x,y:D.y-Fe.y,scaleX:1,scaleY:1},activatorEvent:z,active:$,activeNodeRect:we,containerNodeRect:ye,draggingNodeRect:Pe,over:ve.current.over,overlayNodeRect:ge.rect,scrollableAncestors:He,scrollableAncestorRects:lt,windowRect:Ye}),st=se?oC(se,D):null,kt=HSn(He),Ge=m1e(kt),gt=m1e(kt,[we]),At=oC(Xe,Ge),Dt=Pe?fSn(Pe,Xe):null,at=$&&Dt?h({active:$,collisionRect:Dt,droppableRects:le,droppableContainers:G,pointerCoordinates:st}):null,tt=cZe(at,"id"),[it,jt]=p.useState(null),$t=Re?Xe:oC(Xe,gt),yt=uSn($t,(s=it==null?void 0:it.rect)!=null?s:null,we),Gt=p.useCallback((pr,fn)=>{let{sensor:Ct,options:ht}=fn;if(L.current==null)return;const en=I.get(L.current);if(!en)return;const Hn=pr.nativeEvent,rr=new Ct({active:L.current,activeNode:en,event:Hn,options:ht,context:ve,onStart(Li){const vo=L.current;if(vo==null)return;const jo=I.get(vo);if(!jo)return;const{onDragStart:Cl}=H.current,Sl={active:{id:vo,data:jo.data,rect:O}};Kd.unstable_batchedUpdates(()=>{Cl==null||Cl(Sl),S(a0.Initializing),x({type:xa.DragStart,initialCoordinates:Li,active:vo}),_({type:"onDragStart",event:Sl})})},onMove(Li){x({type:xa.DragMove,coordinates:Li})},onEnd:_i(xa.DragEnd),onCancel:_i(xa.DragCancel)});Kd.unstable_batchedUpdates(()=>{N(rr),B(pr.nativeEvent)});function _i(Li){return async function(){const{active:jo,collisions:Cl,over:Sl,scrollAdjustedTranslate:um}=ve.current;let gd=null;if(jo&&um){const{cancelDrop:vd}=H.current;gd={activatorEvent:Hn,active:jo,collisions:Cl,delta:um,over:Sl},Li===xa.DragEnd&&typeof vd=="function"&&await Promise.resolve(vd(gd))&&(Li=xa.DragCancel)}L.current=null,Kd.unstable_batchedUpdates(()=>{x({type:Li}),S(a0.Uninitialized),jt(null),N(null),B(null);const vd=Li===xa.DragEnd?"onDragEnd":"onDragCancel";if(gd){const Dh=H.current[vd];Dh==null||Dh(gd),_({type:vd,event:gd})}})}}},[I]),Lt=p.useCallback((pr,fn)=>(Ct,ht)=>{const en=Ct.nativeEvent,Hn=I.get(ht);if(L.current!==null||!Hn||en.dndKit||en.defaultPrevented)return;const rr={active:Hn};pr(Ct,fn.options,rr)===!0&&(en.dndKit={capturedBy:fn.sensor},L.current=ht,Gt(Ct,fn))},[I,Gt]),Vn=MSn(f,Lt);WSn(f),_h(()=>{we&&C===a0.Initializing&&S(a0.Initialized)},[we,C]),p.useEffect(()=>{const{onDragMove:pr}=H.current,{active:fn,activatorEvent:Ct,collisions:ht,over:en}=ve.current;if(!fn||!Ct)return;const Hn={active:fn,activatorEvent:Ct,collisions:ht,delta:{x:At.x,y:At.y},over:en};Kd.unstable_batchedUpdates(()=>{pr==null||pr(Hn),_({type:"onDragMove",event:Hn})})},[At.x,At.y]),p.useEffect(()=>{const{active:pr,activatorEvent:fn,collisions:Ct,droppableContainers:ht,scrollAdjustedTranslate:en}=ve.current;if(!pr||L.current==null||!fn||!en)return;const{onDragOver:Hn}=H.current,rr=ht.get(tt),_i=rr&&rr.rect.current?{id:rr.id,rect:rr.rect.current,data:rr.data,disabled:rr.disabled}:null,Li={active:pr,activatorEvent:fn,collisions:Ct,delta:{x:en.x,y:en.y},over:_i};Kd.unstable_batchedUpdates(()=>{jt(_i),Hn==null||Hn(Li),_({type:"onDragOver",event:Li})})},[tt]),_h(()=>{ve.current={activatorEvent:z,active:$,activeNode:re,collisionRect:Dt,collisions:at,droppableRects:le,draggableNodes:I,draggingNode:pe,draggingNodeRect:Pe,droppableContainers:R,over:it,scrollableAncestors:He,scrollAdjustedTranslate:At},O.current={initial:Pe,translated:Dt}},[$,re,at,Dt,I,pe,Pe,le,R,it,He,At]),PSn({...de,delta:D,draggingRect:Dt,pointerCoordinates:st,scrollableAncestors:He,scrollableAncestorRects:lt});const Oo=p.useMemo(()=>({active:$,activeNode:re,activeNodeRect:we,activatorEvent:z,collisions:at,containerNodeRect:ye,dragOverlay:ge,draggableNodes:I,droppableContainers:R,droppableRects:le,over:it,measureDroppableContainers:K,scrollableAncestors:He,scrollableAncestorRects:lt,measuringConfiguration:ne,measuringScheduled:Q,windowRect:Ye}),[$,re,we,z,at,ye,ge,I,R,le,it,K,He,lt,ne,Q,Ye]),Po=p.useMemo(()=>({activatorEvent:z,activators:Vn,active:$,activeNodeRect:we,ariaDescribedById:{draggable:X},dispatch:x,draggableNodes:I,over:it,measureDroppableContainers:K}),[z,Vn,$,we,x,X,I,it,K]);return _t.createElement(sZe.Provider,{value:w},_t.createElement(bN.Provider,{value:Po},_t.createElement(xZe.Provider,{value:Oo},_t.createElement(wZe.Provider,{value:yt},u)),_t.createElement(n2n,{disabled:(l==null?void 0:l.restoreFocus)===!1})),_t.createElement(rSn,{...l,hiddenTextDescribedById:X}));function wi(){const pr=(M==null?void 0:M.autoScrollEnabled)===!1,fn=typeof c=="object"?c.enabled===!1:c===!1,Ct=T&&!pr&&!fn;return typeof c=="object"?{...c,enabled:Ct}:{enabled:Ct}}}),a2n=p.createContext(null),g1e="button",l2n="Droppable";function c2n(n){let{id:e,data:r,disabled:i=!1,attributes:o}=n;const s=RD(l2n),{activators:a,activatorEvent:l,active:c,activeNodeRect:u,ariaDescribedById:f,draggableNodes:h,over:m}=p.useContext(bN),{role:g=g1e,roleDescription:v="draggable",tabIndex:y=0}=o??{},b=(c==null?void 0:c.id)===e,x=p.useContext(b?wZe:a2n),[_,w]=OF(),[C,S]=OF(),T=GSn(a,e),A=G5(r);_h(()=>(h.set(e,{id:e,key:s,node:_,activatorNode:C,data:A}),()=>{const D=h.get(e);D&&D.key===s&&h.delete(e)}),[h,e]);const I=p.useMemo(()=>({role:g,tabIndex:y,"aria-disabled":i,"aria-pressed":b&&g===g1e?!0:void 0,"aria-roledescription":v,"aria-describedby":f.draggable}),[i,g,y,b,v,f.draggable]);return{active:c,activatorEvent:l,activeNodeRect:u,attributes:I,isDragging:b,listeners:i?void 0:T,node:_,over:m,setNodeRef:w,setActivatorNodeRef:S,transform:x}}function u2n(){return p.useContext(xZe)}const d2n="Droppable",f2n={timeout:25};function h2n(n){let{data:e,disabled:r=!1,id:i,resizeObserverConfig:o}=n;const s=RD(d2n),{active:a,dispatch:l,over:c,measureDroppableContainers:u}=p.useContext(bN),f=p.useRef({disabled:r}),h=p.useRef(!1),m=p.useRef(null),g=p.useRef(null),{disabled:v,updateMeasurementsFor:y,timeout:b}={...f2n,...o},x=G5(y??i),_=p.useCallback(()=>{if(!h.current){h.current=!0;return}g.current!=null&&clearTimeout(g.current),g.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),g.current=null},b)},[b]),w=yN({callback:_,disabled:v||!a}),C=p.useCallback((I,D)=>{w&&(D&&(w.unobserve(D),h.current=!1),I&&w.observe(I))},[w]),[S,T]=OF(C),A=G5(e);return p.useEffect(()=>{!w||!S.current||(w.disconnect(),h.current=!1,w.observe(S.current))},[S,w]),_h(()=>(l({type:xa.RegisterDroppable,element:{id:i,key:s,disabled:r,node:S,rect:m,data:A}}),()=>l({type:xa.UnregisterDroppable,key:s,id:i})),[i]),p.useEffect(()=>{r!==f.current.disabled&&(l({type:xa.SetDroppableDisabled,id:i,key:s,disabled:r}),f.current.disabled=r)},[i,s,r,l]),{active:a,rect:m,isOver:(c==null?void 0:c.id)===i,node:S,over:c,setNodeRef:T}}const p2n=n=>{let{transform:e}=n;return{...e,y:0}},m2n=n=>{let{transform:e}=n;return{...e,x:0}};function _Ze(n,e,r){const i=n.slice();return i.splice(r<0?i.length+r:r,0,i.splice(e,1)[0]),i}function g2n(n,e){return n.reduce((r,i,o)=>{const s=e.get(i);return s&&(r[o]=s),r},Array(n.length))}function TP(n){return n!==null&&n>=0}function v2n(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++)if(n[r]!==e[r])return!1;return!0}function y2n(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const AP={scaleX:1,scaleY:1},b2n=n=>{var e;let{rects:r,activeNodeRect:i,activeIndex:o,overIndex:s,index:a}=n;const l=(e=r[o])!=null?e:i;if(!l)return null;const c=x2n(r,a,o);if(a===o){const u=r[s];return u?{x:o<s?u.left+u.width-(l.left+l.width):u.left-l.left,y:0,...AP}:null}return a>o&&a<=s?{x:-l.width-c,y:0,...AP}:a<o&&a>=s?{x:l.width+c,y:0,...AP}:{x:0,y:0,...AP}};function x2n(n,e,r){const i=n[e],o=n[e-1],s=n[e+1];return!i||!o&&!s?0:r<e?o?i.left-(o.left+o.width):s.left-(i.left+i.width):s?s.left-(i.left+i.width):i.left-(o.left+o.width)}const EZe=n=>{let{rects:e,activeIndex:r,overIndex:i,index:o}=n;const s=_Ze(e,i,r),a=e[o],l=s[o];return!l||!a?null:{x:l.left-a.left,y:l.top-a.top,scaleX:l.width/a.width,scaleY:l.height/a.height}},IP={scaleX:1,scaleY:1},w2n=n=>{var e;let{activeIndex:r,activeNodeRect:i,index:o,rects:s,overIndex:a}=n;const l=(e=s[r])!=null?e:i;if(!l)return null;if(o===r){const u=s[a];return u?{x:0,y:r<a?u.top+u.height-(l.top+l.height):u.top-l.top,...IP}:null}const c=_2n(s,o,r);return o>r&&o<=a?{x:0,y:-l.height-c,...IP}:o<r&&o>=a?{x:0,y:l.height+c,...IP}:{x:0,y:0,...IP}};function _2n(n,e,r){const i=n[e],o=n[e-1],s=n[e+1];return i?r<e?o?i.top-(o.top+o.height):s?s.top-(i.top+i.height):0:s?s.top-(i.top+i.height):o?i.top-(o.top+o.height):0:0}const CZe="Sortable",SZe=_t.createContext({activeIndex:-1,containerId:CZe,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:EZe,disabled:{draggable:!1,droppable:!1}});function E2n(n){let{children:e,id:r,items:i,strategy:o=EZe,disabled:s=!1}=n;const{active:a,dragOverlay:l,droppableRects:c,over:u,measureDroppableContainers:f}=u2n(),h=RD(CZe,r),m=l.rect!==null,g=p.useMemo(()=>i.map(T=>typeof T=="object"&&"id"in T?T.id:T),[i]),v=a!=null,y=a?g.indexOf(a.id):-1,b=u?g.indexOf(u.id):-1,x=p.useRef(g),_=!v2n(g,x.current),w=b!==-1&&y===-1||_,C=y2n(s);_h(()=>{_&&v&&f(g)},[_,g,v,f]),p.useEffect(()=>{x.current=g},[g]);const S=p.useMemo(()=>({activeIndex:y,containerId:h,disabled:C,disableTransforms:w,items:g,overIndex:b,useDragOverlay:m,sortedRects:g2n(g,c),strategy:o}),[y,h,C.draggable,C.droppable,w,g,b,c,m,o]);return _t.createElement(SZe.Provider,{value:S},e)}const C2n=n=>{let{id:e,items:r,activeIndex:i,overIndex:o}=n;return _Ze(r,i,o).indexOf(e)},S2n=n=>{let{containerId:e,isSorting:r,wasDragging:i,index:o,items:s,newIndex:a,previousItems:l,previousContainerId:c,transition:u}=n;return!u||!i||l!==s&&o===a?!1:r?!0:a!==o&&e===c},k2n={duration:200,easing:"ease"},kZe="transform",T2n=K5.Transition.toString({property:kZe,duration:0,easing:"linear"}),A2n={roleDescription:"sortable"};function I2n(n){let{disabled:e,index:r,node:i,rect:o}=n;const[s,a]=p.useState(null),l=p.useRef(r);return _h(()=>{if(!e&&r!==l.current&&i.current){const c=o.current;if(c){const u=WS(i.current,{ignoreTransform:!0}),f={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(f.x||f.y)&&a(f)}}r!==l.current&&(l.current=r)},[e,r,i,o]),p.useEffect(()=>{s&&a(null)},[s]),s}function TZe(n){let{animateLayoutChanges:e=S2n,attributes:r,disabled:i,data:o,getNewIndex:s=C2n,id:a,strategy:l,resizeObserverConfig:c,transition:u=k2n}=n;const{items:f,containerId:h,activeIndex:m,disabled:g,disableTransforms:v,sortedRects:y,overIndex:b,useDragOverlay:x,strategy:_}=p.useContext(SZe),w=D2n(i,g),C=f.indexOf(a),S=p.useMemo(()=>({sortable:{containerId:h,index:C,items:f},...o}),[h,o,C,f]),T=p.useMemo(()=>f.slice(f.indexOf(a)),[f,a]),{rect:A,node:I,isOver:D,setNodeRef:R}=h2n({id:a,data:S,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:T,...c}}),{active:P,activatorEvent:O,activeNodeRect:$,attributes:L,setNodeRef:M,listeners:N,isDragging:z,over:B,setActivatorNodeRef:H,transform:X}=c2n({id:a,data:S,attributes:{...A2n,...r},disabled:w.draggable}),G=HCn(R,M),ne=!!P,le=ne&&!v&&TP(m)&&TP(b),K=!x&&z,Q=K&&le?X:null,se=le?Q??(l??_)({rects:y,activeNodeRect:$,activeIndex:m,overIndex:b,index:C}):null,de=TP(m)&&TP(b)?s({id:a,items:f,activeIndex:m,overIndex:b}):C,fe=P==null?void 0:P.id,we=p.useRef({activeId:fe,items:f,newIndex:de,containerId:h}),ye=f!==we.current.items,ve=e({active:P,containerId:h,isDragging:z,isSorting:ne,id:a,index:C,items:f,newIndex:we.current.newIndex,previousItems:we.current.items,previousContainerId:we.current.containerId,transition:u,wasDragging:we.current.activeId!=null}),_e=I2n({disabled:!ve,index:C,node:I,rect:A});return p.useEffect(()=>{ne&&we.current.newIndex!==de&&(we.current.newIndex=de),h!==we.current.containerId&&(we.current.containerId=h),f!==we.current.items&&(we.current.items=f)},[ne,de,h,f]),p.useEffect(()=>{if(fe===we.current.activeId)return;if(fe&&!we.current.activeId){we.current.activeId=fe;return}const pe=setTimeout(()=>{we.current.activeId=fe},50);return()=>clearTimeout(pe)},[fe]),{active:P,activeIndex:m,attributes:L,data:S,rect:A,index:C,newIndex:de,items:f,isOver:D,isSorting:ne,isDragging:z,listeners:N,node:I,overIndex:b,over:B,setNodeRef:G,setActivatorNodeRef:H,setDroppableNodeRef:R,setDraggableNodeRef:M,transform:_e??se,transition:ge()};function ge(){if(_e||ye&&we.current.newIndex===C)return T2n;if(!(K&&!Wre(O)||!u)&&(ne||ve))return K5.Transition.toString({...u,property:kZe})}}function D2n(n,e){var r,i;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(r=n==null?void 0:n.draggable)!=null?r:e.draggable,droppable:(i=n==null?void 0:n.droppable)!=null?i:e.droppable}}function LF(n){if(!n)return!1;const e=n.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const R2n=[Kr.Down,Kr.Right,Kr.Up,Kr.Left],O2n=(n,e)=>{let{context:{active:r,collisionRect:i,droppableRects:o,droppableContainers:s,over:a,scrollableAncestors:l}}=e;if(R2n.includes(n.code)){if(n.preventDefault(),!r||!i)return;const c=[];s.getEnabled().forEach(h=>{if(!h||h!=null&&h.disabled)return;const m=o.get(h.id);if(m)switch(n.code){case Kr.Down:i.top<m.top&&c.push(h);break;case Kr.Up:i.top>m.top&&c.push(h);break;case Kr.Left:i.left>m.left&&c.push(h);break;case Kr.Right:i.left<m.left&&c.push(h);break}});const u=aSn({active:r,collisionRect:i,droppableRects:o,droppableContainers:c,pointerCoordinates:null});let f=cZe(u,"id");if(f===(a==null?void 0:a.id)&&u.length>1&&(f=u[1].id),f!=null){const h=s.get(r.id),m=s.get(f),g=m?o.get(m.id):null,v=m==null?void 0:m.node.current;if(v&&g&&h&&m){const b=vN(v).some((T,A)=>l[A]!==T),x=AZe(h,m),_=P2n(h,m),w=b||!x?{x:0,y:0}:{x:_?i.width-g.width:0,y:_?i.height-g.height:0},C={x:g.left,y:g.top};return w.x&&w.y?C:q5(C,w)}}}};function AZe(n,e){return!LF(n)||!LF(e)?!1:n.data.current.sortable.containerId===e.data.current.sortable.containerId}function P2n(n,e){return!LF(n)||!LF(e)||!AZe(n,e)?!1:n.data.current.sortable.index<e.data.current.sortable.index}var IZe={exports:{}};(function(n){(function(e){var r={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"Ae",Å:"A",Æ:"AE",Ç:"C",È:"E",É:"E",Ê:"E",Ë:"E",Ì:"I",Í:"I",Î:"I",Ï:"I",Ð:"D",Ñ:"N",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"Oe",Ő:"O",Ø:"O",Ù:"U",Ú:"U",Û:"U",Ü:"Ue",Ű:"U",Ý:"Y",Þ:"TH",ß:"ss",à:"a",á:"a",â:"a",ã:"a",ä:"ae",å:"a",æ:"ae",ç:"c",è:"e",é:"e",ê:"e",ë:"e",ì:"i",í:"i",î:"i",ï:"i",ð:"d",ñ:"n",ò:"o",ó:"o",ô:"o",õ:"o",ö:"oe",ő:"o",ø:"o",ù:"u",ú:"u",û:"u",ü:"ue",ű:"u",ý:"y",þ:"th",ÿ:"y","ẞ":"SS",ا:"a",أ:"a",إ:"i",آ:"aa",ؤ:"u",ئ:"e",ء:"a",ب:"b",ت:"t",ث:"th",ج:"j",ح:"h",خ:"kh",د:"d",ذ:"th",ر:"r",ز:"z",س:"s",ش:"sh",ص:"s",ض:"dh",ط:"t",ظ:"z",ع:"a",غ:"gh",ف:"f",ق:"q",ك:"k",ل:"l",م:"m",ن:"n",ه:"h",و:"w",ي:"y",ى:"a",ة:"h",ﻻ:"la",ﻷ:"laa",ﻹ:"lai",ﻵ:"laa",گ:"g",چ:"ch",پ:"p",ژ:"zh",ک:"k",ی:"y","َ":"a","ً":"an","ِ":"e","ٍ":"en","ُ":"u","ٌ":"on","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9",က:"k",ခ:"kh",ဂ:"g",ဃ:"ga",င:"ng",စ:"s",ဆ:"sa",ဇ:"z","စျ":"za",ည:"ny",ဋ:"t",ဌ:"ta",ဍ:"d",ဎ:"da",ဏ:"na",တ:"t",ထ:"ta",ဒ:"d",ဓ:"da",န:"n",ပ:"p",ဖ:"pa",ဗ:"b",ဘ:"ba",မ:"m",ယ:"y",ရ:"ya",လ:"l",ဝ:"w",သ:"th",ဟ:"h",ဠ:"la",အ:"a","ြ":"y","ျ":"ya","ွ":"w","ြွ":"yw","ျွ":"ywa","ှ":"h",ဧ:"e","၏":"-e",ဣ:"i",ဤ:"-i",ဉ:"u",ဦ:"-u",ဩ:"aw","သြော":"aw",ဪ:"aw","၀":"0","၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","္":"","့":"","း":"",č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z",ހ:"h",ށ:"sh",ނ:"n",ރ:"r",ބ:"b",ޅ:"lh",ކ:"k",އ:"a",ވ:"v",މ:"m",ފ:"f",ދ:"dh",ތ:"th",ލ:"l",ގ:"g",ޏ:"gn",ސ:"s",ޑ:"d",ޒ:"z",ޓ:"t",ޔ:"y",ޕ:"p",ޖ:"j",ޗ:"ch",ޘ:"tt",ޙ:"hh",ޚ:"kh",ޛ:"th",ޜ:"z",ޝ:"sh",ޞ:"s",ޟ:"d",ޠ:"t",ޡ:"z",ޢ:"a",ޣ:"gh",ޤ:"q",ޥ:"w","ަ":"a","ާ":"aa","ި":"i","ީ":"ee","ު":"u","ޫ":"oo","ެ":"e","ޭ":"ey","ޮ":"o","ޯ":"oa","ް":"",ა:"a",ბ:"b",გ:"g",დ:"d",ე:"e",ვ:"v",ზ:"z",თ:"t",ი:"i",კ:"k",ლ:"l",მ:"m",ნ:"n",ო:"o",პ:"p",ჟ:"zh",რ:"r",ს:"s",ტ:"t",უ:"u",ფ:"p",ქ:"k",ღ:"gh",ყ:"q",შ:"sh",ჩ:"ch",ც:"ts",ძ:"dz",წ:"ts",ჭ:"ch",ხ:"kh",ჯ:"j",ჰ:"h",α:"a",β:"v",γ:"g",δ:"d",ε:"e",ζ:"z",η:"i",θ:"th",ι:"i",κ:"k",λ:"l",μ:"m",ν:"n",ξ:"ks",ο:"o",π:"p",ρ:"r",σ:"s",τ:"t",υ:"y",φ:"f",χ:"x",ψ:"ps",ω:"o",ά:"a",έ:"e",ί:"i",ό:"o",ύ:"y",ή:"i",ώ:"o",ς:"s",ϊ:"i",ΰ:"y",ϋ:"y",ΐ:"i",Α:"A",Β:"B",Γ:"G",Δ:"D",Ε:"E",Ζ:"Z",Η:"I",Θ:"TH",Ι:"I",Κ:"K",Λ:"L",Μ:"M",Ν:"N",Ξ:"KS",Ο:"O",Π:"P",Ρ:"R",Σ:"S",Τ:"T",Υ:"Y",Φ:"F",Χ:"X",Ψ:"PS",Ω:"O",Ά:"A",Έ:"E",Ί:"I",Ό:"O",Ύ:"Y",Ή:"I",Ώ:"O",Ϊ:"I",Ϋ:"Y",ā:"a",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",ū:"u",Ā:"A",Ē:"E",Ģ:"G",Ī:"I",Ķ:"k",Ļ:"L",Ņ:"N",Ū:"U",Ќ:"Kj",ќ:"kj",Љ:"Lj",љ:"lj",Њ:"Nj",њ:"nj",Тс:"Ts",тс:"ts",ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"E",Ł:"L",Ń:"N",Ś:"S",Ź:"Z",Ż:"Z",Є:"Ye",І:"I",Ї:"Yi",Ґ:"G",є:"ye",і:"i",ї:"yi",ґ:"g",ă:"a",Ă:"A",ș:"s",Ș:"S",ț:"t",Ț:"T",ţ:"t",Ţ:"T",а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"yo",ж:"zh",з:"z",и:"i",й:"i",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"c",ч:"ch",ш:"sh",щ:"sh",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya",А:"A",Б:"B",В:"V",Г:"G",Д:"D",Е:"E",Ё:"Yo",Ж:"Zh",З:"Z",И:"I",Й:"I",К:"K",Л:"L",М:"M",Н:"N",О:"O",П:"P",Р:"R",С:"S",Т:"T",У:"U",Ф:"F",Х:"Kh",Ц:"C",Ч:"Ch",Ш:"Sh",Щ:"Sh",Ъ:"",Ы:"Y",Ь:"",Э:"E",Ю:"Yu",Я:"Ya",ђ:"dj",ј:"j",ћ:"c",џ:"dz",Ђ:"Dj",Ј:"j",Ћ:"C",Џ:"Dz",ľ:"l",ĺ:"l",ŕ:"r",Ľ:"L",Ĺ:"L",Ŕ:"R",ş:"s",Ş:"S",ı:"i",İ:"I",ğ:"g",Ğ:"G",ả:"a",Ả:"A",ẳ:"a",Ẳ:"A",ẩ:"a",Ẩ:"A",đ:"d",Đ:"D",ẹ:"e",Ẹ:"E",ẽ:"e",Ẽ:"E",ẻ:"e",Ẻ:"E",ế:"e",Ế:"E",ề:"e",Ề:"E",ệ:"e",Ệ:"E",ễ:"e",Ễ:"E",ể:"e",Ể:"E",ỏ:"o",ọ:"o",Ọ:"o",ố:"o",Ố:"O",ồ:"o",Ồ:"O",ổ:"o",Ổ:"O",ộ:"o",Ộ:"O",ỗ:"o",Ỗ:"O",ơ:"o",Ơ:"O",ớ:"o",Ớ:"O",ờ:"o",Ờ:"O",ợ:"o",Ợ:"O",ỡ:"o",Ỡ:"O",Ở:"o",ở:"o",ị:"i",Ị:"I",ĩ:"i",Ĩ:"I",ỉ:"i",Ỉ:"i",ủ:"u",Ủ:"U",ụ:"u",Ụ:"U",ũ:"u",Ũ:"U",ư:"u",Ư:"U",ứ:"u",Ứ:"U",ừ:"u",Ừ:"U",ự:"u",Ự:"U",ữ:"u",Ữ:"U",ử:"u",Ử:"ư",ỷ:"y",Ỷ:"y",ỳ:"y",Ỳ:"Y",ỵ:"y",Ỵ:"Y",ỹ:"y",Ỹ:"Y",ạ:"a",Ạ:"A",ấ:"a",Ấ:"A",ầ:"a",Ầ:"A",ậ:"a",Ậ:"A",ẫ:"a",Ẫ:"A",ắ:"a",Ắ:"A",ằ:"a",Ằ:"A",ặ:"a",Ặ:"A",ẵ:"a",Ẵ:"A","⓪":"0","①":"1","②":"2","③":"3","④":"4","⑤":"5","⑥":"6","⑦":"7","⑧":"8","⑨":"9","⑩":"10","⑪":"11","⑫":"12","⑬":"13","⑭":"14","⑮":"15","⑯":"16","⑰":"17","⑱":"18","⑲":"18","⑳":"18","⓵":"1","⓶":"2","⓷":"3","⓸":"4","⓹":"5","⓺":"6","⓻":"7","⓼":"8","⓽":"9","⓾":"10","⓿":"0","⓫":"11","⓬":"12","⓭":"13","⓮":"14","⓯":"15","⓰":"16","⓱":"17","⓲":"18","⓳":"19","⓴":"20","Ⓐ":"A","Ⓑ":"B","Ⓒ":"C","Ⓓ":"D","Ⓔ":"E","Ⓕ":"F","Ⓖ":"G","Ⓗ":"H","Ⓘ":"I","Ⓙ":"J","Ⓚ":"K","Ⓛ":"L","Ⓜ":"M","Ⓝ":"N","Ⓞ":"O","Ⓟ":"P","Ⓠ":"Q","Ⓡ":"R","Ⓢ":"S","Ⓣ":"T","Ⓤ":"U","Ⓥ":"V","Ⓦ":"W","Ⓧ":"X","Ⓨ":"Y","Ⓩ":"Z","ⓐ":"a","ⓑ":"b","ⓒ":"c","ⓓ":"d","ⓔ":"e","ⓕ":"f","ⓖ":"g","ⓗ":"h","ⓘ":"i","ⓙ":"j","ⓚ":"k","ⓛ":"l","ⓜ":"m","ⓝ":"n","ⓞ":"o","ⓟ":"p","ⓠ":"q","ⓡ":"r","ⓢ":"s","ⓣ":"t","ⓤ":"u","ⓦ":"v","ⓥ":"w","ⓧ":"x","ⓨ":"y","ⓩ":"z","“":'"',"”":'"',"‘":"'","’":"'","∂":"d",ƒ:"f","™":"(TM)","©":"(C)",œ:"oe",Œ:"OE","®":"(R)","†":"+","℠":"(SM)","…":"...","˚":"o",º:"o",ª:"a","•":"*","၊":",","။":".",$:"USD","€":"EUR","₢":"BRN","₣":"FRF","£":"GBP","₤":"ITL","₦":"NGN","₧":"ESP","₩":"KRW","₪":"ILS","₫":"VND","₭":"LAK","₮":"MNT","₯":"GRD","₱":"ARS","₲":"PYG","₳":"ARA","₴":"UAH","₵":"GHS","¢":"cent","¥":"CNY",元:"CNY",円:"YEN","﷼":"IRR","₠":"EWE","฿":"THB","₨":"INR","₹":"INR","₰":"PF","₺":"TRY","؋":"AFN","₼":"AZN",лв:"BGN","៛":"KHR","₡":"CRC","₸":"KZT",ден:"MKD",zł:"PLN","₽":"RUB","₾":"GEL"},i=["်","ް"],o={"ာ":"a","ါ":"a","ေ":"e","ဲ":"e","ိ":"i","ီ":"i","ို":"o","ု":"u","ူ":"u","ေါင်":"aung","ော":"aw","ော်":"aw","ေါ":"aw","ေါ်":"aw","်":"်","က်":"et","ိုက်":"aik","ောက်":"auk","င်":"in","ိုင်":"aing","ောင်":"aung","စ်":"it","ည်":"i","တ်":"at","ိတ်":"eik","ုတ်":"ok","ွတ်":"ut","ေတ်":"it","ဒ်":"d","ိုဒ်":"ok","ုဒ်":"ait","န်":"an","ာန်":"an","ိန်":"ein","ုန်":"on","ွန်":"un","ပ်":"at","ိပ်":"eik","ုပ်":"ok","ွပ်":"ut","န်ုပ်":"nub","မ်":"an","ိမ်":"ein","ုမ်":"on","ွမ်":"un","ယ်":"e","ိုလ်":"ol","ဉ်":"in","ံ":"an","ိံ":"ein","ုံ":"on","ައް":"ah","ަށް":"ah"},s={en:{},az:{ç:"c",ə:"e",ğ:"g",ı:"i",ö:"o",ş:"s",ü:"u",Ç:"C",Ə:"E",Ğ:"G",İ:"I",Ö:"O",Ş:"S",Ü:"U"},cs:{č:"c",ď:"d",ě:"e",ň:"n",ř:"r",š:"s",ť:"t",ů:"u",ž:"z",Č:"C",Ď:"D",Ě:"E",Ň:"N",Ř:"R",Š:"S",Ť:"T",Ů:"U",Ž:"Z"},fi:{ä:"a",Ä:"A",ö:"o",Ö:"O"},hu:{ä:"a",Ä:"A",ö:"o",Ö:"O",ü:"u",Ü:"U",ű:"u",Ű:"U"},lt:{ą:"a",č:"c",ę:"e",ė:"e",į:"i",š:"s",ų:"u",ū:"u",ž:"z",Ą:"A",Č:"C",Ę:"E",Ė:"E",Į:"I",Š:"S",Ų:"U",Ū:"U"},lv:{ā:"a",č:"c",ē:"e",ģ:"g",ī:"i",ķ:"k",ļ:"l",ņ:"n",š:"s",ū:"u",ž:"z",Ā:"A",Č:"C",Ē:"E",Ģ:"G",Ī:"i",Ķ:"k",Ļ:"L",Ņ:"N",Š:"S",Ū:"u",Ž:"Z"},pl:{ą:"a",ć:"c",ę:"e",ł:"l",ń:"n",ó:"o",ś:"s",ź:"z",ż:"z",Ą:"A",Ć:"C",Ę:"e",Ł:"L",Ń:"N",Ó:"O",Ś:"S",Ź:"Z",Ż:"Z"},sv:{ä:"a",Ä:"A",ö:"o",Ö:"O"},sk:{ä:"a",Ä:"A"},sr:{љ:"lj",њ:"nj",Љ:"Lj",Њ:"Nj",đ:"dj",Đ:"Dj"},tr:{Ü:"U",Ö:"O",ü:"u",ö:"o"}},a={ar:{"∆":"delta","∞":"la-nihaya","♥":"hob","&":"wa","|":"aw","<":"aqal-men",">":"akbar-men","∑":"majmou","¤":"omla"},az:{},ca:{"∆":"delta","∞":"infinit","♥":"amor","&":"i","|":"o","<":"menys que",">":"mes que","∑":"suma dels","¤":"moneda"},cs:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"nebo","<":"mensi nez",">":"vetsi nez","∑":"soucet","¤":"mena"},de:{"∆":"delta","∞":"unendlich","♥":"Liebe","&":"und","|":"oder","<":"kleiner als",">":"groesser als","∑":"Summe von","¤":"Waehrung"},dv:{"∆":"delta","∞":"kolunulaa","♥":"loabi","&":"aai","|":"noonee","<":"ah vure kuda",">":"ah vure bodu","∑":"jumula","¤":"faisaa"},en:{"∆":"delta","∞":"infinity","♥":"love","&":"and","|":"or","<":"less than",">":"greater than","∑":"sum","¤":"currency"},es:{"∆":"delta","∞":"infinito","♥":"amor","&":"y","|":"u","<":"menos que",">":"mas que","∑":"suma de los","¤":"moneda"},fa:{"∆":"delta","∞":"bi-nahayat","♥":"eshgh","&":"va","|":"ya","<":"kamtar-az",">":"bishtar-az","∑":"majmooe","¤":"vahed"},fi:{"∆":"delta","∞":"aarettomyys","♥":"rakkaus","&":"ja","|":"tai","<":"pienempi kuin",">":"suurempi kuin","∑":"summa","¤":"valuutta"},fr:{"∆":"delta","∞":"infiniment","♥":"Amour","&":"et","|":"ou","<":"moins que",">":"superieure a","∑":"somme des","¤":"monnaie"},ge:{"∆":"delta","∞":"usasruloba","♥":"siqvaruli","&":"da","|":"an","<":"naklebi",">":"meti","∑":"jami","¤":"valuta"},gr:{},hu:{"∆":"delta","∞":"vegtelen","♥":"szerelem","&":"es","|":"vagy","<":"kisebb mint",">":"nagyobb mint","∑":"szumma","¤":"penznem"},it:{"∆":"delta","∞":"infinito","♥":"amore","&":"e","|":"o","<":"minore di",">":"maggiore di","∑":"somma","¤":"moneta"},lt:{"∆":"delta","∞":"begalybe","♥":"meile","&":"ir","|":"ar","<":"maziau nei",">":"daugiau nei","∑":"suma","¤":"valiuta"},lv:{"∆":"delta","∞":"bezgaliba","♥":"milestiba","&":"un","|":"vai","<":"mazak neka",">":"lielaks neka","∑":"summa","¤":"valuta"},my:{"∆":"kwahkhyaet","∞":"asaonasme","♥":"akhyait","&":"nhin","|":"tho","<":"ngethaw",">":"kyithaw","∑":"paungld","¤":"ngwekye"},mk:{},nl:{"∆":"delta","∞":"oneindig","♥":"liefde","&":"en","|":"of","<":"kleiner dan",">":"groter dan","∑":"som","¤":"valuta"},pl:{"∆":"delta","∞":"nieskonczonosc","♥":"milosc","&":"i","|":"lub","<":"mniejsze niz",">":"wieksze niz","∑":"suma","¤":"waluta"},pt:{"∆":"delta","∞":"infinito","♥":"amor","&":"e","|":"ou","<":"menor que",">":"maior que","∑":"soma","¤":"moeda"},ro:{"∆":"delta","∞":"infinit","♥":"dragoste","&":"si","|":"sau","<":"mai mic ca",">":"mai mare ca","∑":"suma","¤":"valuta"},ru:{"∆":"delta","∞":"beskonechno","♥":"lubov","&":"i","|":"ili","<":"menshe",">":"bolshe","∑":"summa","¤":"valjuta"},sk:{"∆":"delta","∞":"nekonecno","♥":"laska","&":"a","|":"alebo","<":"menej ako",">":"viac ako","∑":"sucet","¤":"mena"},sr:{},tr:{"∆":"delta","∞":"sonsuzluk","♥":"ask","&":"ve","|":"veya","<":"kucuktur",">":"buyuktur","∑":"toplam","¤":"para birimi"},uk:{"∆":"delta","∞":"bezkinechnist","♥":"lubov","&":"i","|":"abo","<":"menshe",">":"bilshe","∑":"suma","¤":"valjuta"},vn:{"∆":"delta","∞":"vo cuc","♥":"yeu","&":"va","|":"hoac","<":"nho hon",">":"lon hon","∑":"tong","¤":"tien te"}},l=[";","?",":","@","&","=","+","$",",","/"].join(""),c=[";","?",":","@","&","=","+","$",","].join(""),u=[".","!","~","*","'","(",")"].join(""),f=function(y,b){var x="-",_="",w="",C=!0,S={},T,A,I,D,R,P,O,$,L,M,N,z,B,H,X="";if(typeof y!="string")return"";if(typeof b=="string"&&(x=b),O=a.en,$=s.en,typeof b=="object"){T=b.maintainCase||!1,S=b.custom&&typeof b.custom=="object"?b.custom:S,I=+b.truncate>1&&b.truncate||!1,D=b.uric||!1,R=b.uricNoSlash||!1,P=b.mark||!1,C=!(b.symbols===!1||b.lang===!1),x=b.separator||x,D&&(X+=l),R&&(X+=c),P&&(X+=u),O=b.lang&&a[b.lang]&&C?a[b.lang]:C?a.en:{},$=b.lang&&s[b.lang]?s[b.lang]:b.lang===!1||b.lang===!0?{}:s.en,b.titleCase&&typeof b.titleCase.length=="number"&&Array.prototype.toString.call(b.titleCase)?(b.titleCase.forEach(function(G){S[G+""]=G+""}),A=!0):A=!!b.titleCase,b.custom&&typeof b.custom.length=="number"&&Array.prototype.toString.call(b.custom)&&b.custom.forEach(function(G){S[G+""]=G+""}),Object.keys(S).forEach(function(G){var ne;G.length>1?ne=new RegExp("\\b"+m(G)+"\\b","gi"):ne=new RegExp(m(G),"gi"),y=y.replace(ne,S[G])});for(N in S)X+=N}for(X+=x,X=m(X),y=y.replace(/(^\s+|\s+$)/g,""),B=!1,H=!1,M=0,z=y.length;M<z;M++)N=y[M],g(N,S)?B=!1:$[N]?(N=B&&$[N].match(/[A-Za-z0-9]/)?" "+$[N]:$[N],B=!1):N in r?(M+1<z&&i.indexOf(y[M+1])>=0?(w+=N,N=""):H===!0?(N=o[w]+r[N],w=""):N=B&&r[N].match(/[A-Za-z0-9]/)?" "+r[N]:r[N],B=!1,H=!1):N in o?(w+=N,N="",M===z-1&&(N=o[w]),H=!0):O[N]&&!(D&&l.indexOf(N)!==-1)&&!(R&&c.indexOf(N)!==-1)?(N=B||_.substr(-1).match(/[A-Za-z0-9]/)?x+O[N]:O[N],N+=y[M+1]!==void 0&&y[M+1].match(/[A-Za-z0-9]/)?x:"",B=!0):(H===!0?(N=o[w]+N,w="",H=!1):B&&(/[A-Za-z0-9]/.test(N)||_.substr(-1).match(/A-Za-z0-9]/))&&(N=" "+N),B=!1),_+=N.replace(new RegExp("[^\\w\\s"+X+"_-]","g"),x);return A&&(_=_.replace(/(\w)(\S*)/g,function(G,ne,le){var K=ne.toUpperCase()+(le!==null?le:"");return Object.keys(S).indexOf(K.toLowerCase())<0?K:K.toLowerCase()})),_=_.replace(/\s+/g,x).replace(new RegExp("\\"+x+"+","g"),x).replace(new RegExp("(^\\"+x+"+|\\"+x+"+$)","g"),""),I&&_.length>I&&(L=_.charAt(I)===x,_=_.slice(0,I),L||(_=_.slice(0,_.lastIndexOf(x)))),!T&&!A&&(_=_.toLowerCase()),_},h=function(y){return function(x){return f(x,y)}},m=function(y){return y.replace(/[-\\^$*+?.()|[\]{}\/]/g,"\\$&")},g=function(v,y){for(var b in y)if(y[b]===v)return!0};if(n.exports)n.exports=f,n.exports.createSlug=h;else try{if(e.getSlug||e.createSlug)throw"speakingurl: globals exists /(getSlug|createSlug)/";e.getSlug=f,e.createSlug=h}catch{}})(_a)})(IZe);var j2n=IZe.exports,L2n=j2n;const DZe=Tt(L2n),v1e={capture:!0};function ZL(n,e,r){return n.addEventListener(e,r,v1e),()=>n.removeEventListener(e,r,v1e)}function $2n(n){if("onpagehide"in window)return ZL(window,"pagehide",n);const e=ZL(window,"unload",n),r=ZL(window,"unload",n);return()=>{e(),r()}}function M2n(n){return ZL(document,"visibilitychange",()=>{document.visibilityState==="hidden"&&n()})}function F2n(){const n={updateUserProperties(){},trace:e,log:r};function e(i){return{start(){},log(o){},complete(){},newContext(o){return n},error(o){},await:o=>o}}function r(i,o){}return n}const N2n=F2n();function B2n(n){p.useEffect(()=>M2n(n.flush),[n.flush]),p.useEffect(()=>$2n(n.endWithBeacon),[n.endWithBeacon])}const RZe=p.createContext(N2n);function U2n(n){let{children:e,store:r}=n;return B2n(r),d.jsx(RZe.Provider,{value:r.logger,children:e})}function GS(){return p.useContext(RZe)}var wo="0123456789abcdefghjkmnpqrstvwxyz",on=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,10,11,12,13,14,15,16,17,255,18,19,255,20,21,255,22,23,24,25,26,255,27,28,29,30,31,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255]);function _V(n){const e=new Array(26).fill("");if(n.length!==16)throw new Error("Invalid length");return e[0]=wo[(n[0]&224)>>5],e[1]=wo[n[0]&31],e[2]=wo[(n[1]&248)>>3],e[3]=wo[(n[1]&7)<<2|(n[2]&192)>>6],e[4]=wo[(n[2]&62)>>1],e[5]=wo[(n[2]&1)<<4|(n[3]&240)>>4],e[6]=wo[(n[3]&15)<<1|(n[4]&128)>>7],e[7]=wo[(n[4]&124)>>2],e[8]=wo[(n[4]&3)<<3|(n[5]&224)>>5],e[9]=wo[n[5]&31],e[10]=wo[(n[6]&248)>>3],e[11]=wo[(n[6]&7)<<2|(n[7]&192)>>6],e[12]=wo[(n[7]&62)>>1],e[13]=wo[(n[7]&1)<<4|(n[8]&240)>>4],e[14]=wo[(n[8]&15)<<1|(n[9]&128)>>7],e[15]=wo[(n[9]&124)>>2],e[16]=wo[(n[9]&3)<<3|(n[10]&224)>>5],e[17]=wo[n[10]&31],e[18]=wo[(n[11]&248)>>3],e[19]=wo[(n[11]&7)<<2|(n[12]&192)>>6],e[20]=wo[(n[12]&62)>>1],e[21]=wo[(n[12]&1)<<4|(n[13]&240)>>4],e[22]=wo[(n[13]&15)<<1|(n[14]&128)>>7],e[23]=wo[(n[14]&124)>>2],e[24]=wo[(n[14]&3)<<3|(n[15]&224)>>5],e[25]=wo[n[15]&31],e.join("")}function y1e(n){if(n.length!==26)throw new Error("Invalid length");const r=new TextEncoder().encode(n);if(on[r[0]]===255||on[r[1]]===255||on[r[2]]===255||on[r[3]]===255||on[r[4]]===255||on[r[5]]===255||on[r[6]]===255||on[r[7]]===255||on[r[8]]===255||on[r[9]]===255||on[r[10]]===255||on[r[11]]===255||on[r[12]]===255||on[r[13]]===255||on[r[14]]===255||on[r[15]]===255||on[r[16]]===255||on[r[17]]===255||on[r[18]]===255||on[r[19]]===255||on[r[20]]===255||on[r[21]]===255||on[r[22]]===255||on[r[23]]===255||on[r[24]]===255||on[r[25]]===255)throw new Error("Invalid base32 character");const i=new Uint8Array(16);return i[0]=on[r[0]]<<5|on[r[1]],i[1]=on[r[2]]<<3|on[r[3]]>>2,i[2]=(on[r[3]]&3)<<6|on[r[4]]<<1|on[r[5]]>>4,i[3]=(on[r[5]]&15)<<4|on[r[6]]>>1,i[4]=(on[r[6]]&1)<<7|on[r[7]]<<2|on[r[8]]>>3,i[5]=(on[r[8]]&7)<<5|on[r[9]],i[6]=on[r[10]]<<3|on[r[11]]>>2,i[7]=(on[r[11]]&3)<<6|on[r[12]]<<1|on[r[13]]>>4,i[8]=(on[r[13]]&15)<<4|on[r[14]]>>1,i[9]=(on[r[14]]&1)<<7|on[r[15]]<<2|on[r[16]]>>3,i[10]=(on[r[16]]&7)<<5|on[r[17]],i[11]=on[r[18]]<<3|on[r[19]]>>2,i[12]=(on[r[19]]&3)<<6|on[r[20]]<<1|on[r[21]]>>4,i[13]=(on[r[21]]&15)<<4|on[r[22]]>>1,i[14]=(on[r[22]]&1)<<7|on[r[23]]<<2|on[r[24]]>>3,i[15]=(on[r[24]]&7)<<5|on[r[25]],i}function z2n(n){let e;const r=new Uint8Array(16);return r[0]=(e=parseInt(n.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(n.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(n.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(n.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(n.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var gb=Math.pow,b1e="0123456789abcdef",$F=class{constructor(n){if(this.bytes=n,n.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(n,e,r,i){if(!Number.isInteger(n)||!Number.isInteger(e)||!Number.isInteger(r)||!Number.isInteger(i)||n<0||e<0||r<0||i<0||n>0xffffffffffff||e>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");const o=new Uint8Array(16);return o[0]=n/gb(2,40),o[1]=n/gb(2,32),o[2]=n/gb(2,24),o[3]=n/gb(2,16),o[4]=n/gb(2,8),o[5]=n,o[6]=112|e>>>8,o[7]=e,o[8]=128|r>>>24,o[9]=r>>>16,o[10]=r>>>8,o[11]=r,o[12]=i>>>24,o[13]=i>>>16,o[14]=i>>>8,o[15]=i,new $F(o)}toString(){let n="";for(let e=0;e<this.bytes.length;e++)n+=b1e.charAt(this.bytes[e]>>>4),n+=b1e.charAt(this.bytes[e]&15),(e===3||e===5||e===7||e===9)&&(n+="-");return n}clone(){return new $F(this.bytes.slice(0))}equals(n){return this.compareTo(n)===0}compareTo(n){for(let e=0;e<16;e++){const r=this.bytes[e]-n.bytes[e];if(r!==0)return Math.sign(r)}return 0}},V2n=class{constructor(){this.timestamp=0,this.counter=0,this.random=new H2n}generate(){const n=this.generateOrAbort();return n!==void 0?n:(this.timestamp=0,this.generateOrAbort())}generateOrAbort(){const r=Date.now();if(r>this.timestamp)this.timestamp=r,this.resetCounter();else if(r+1e4>this.timestamp)this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter());else return;return $F.fromFieldsV7(this.timestamp,Math.trunc(this.counter/gb(2,30)),this.counter&gb(2,30)-1,this.random.nextUint32())}resetCounter(){this.counter=this.random.nextUint32()*1024+(this.random.nextUint32()&1023)}},OZe=n=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(let e=0;e<n.length;e++)n[e]=Math.trunc(Math.random()*65536)*65536+Math.trunc(Math.random()*65536);return n};typeof crypto<"u"&&crypto.getRandomValues&&(OZe=n=>crypto.getRandomValues(n));var H2n=class{constructor(){this.buffer=new Uint32Array(8),this.cursor=99}nextUint32(){return this.cursor>=this.buffer.length&&(OZe(this.buffer),this.cursor=0),this.buffer[this.cursor++]}},x1e,W2n=()=>(x1e||(x1e=new V2n)).generate();function G2n(n){if(n.length>63)return!1;let e,r,i;for(r=0,i=n.length;r<i;r+=1)if(e=n.charCodeAt(r),!(e>96&&e<123))return!1;return!0}var CT=class{constructor(n,e=""){if(this.prefix=n,this.suffix=e,!G2n(n))throw new Error("Invalid prefix. Must be at most 63 ascii letters [a-z]");if(this.prefix=n,e)this.suffix=e;else{const r=W2n();this.suffix=_V(r.bytes)}if(this.suffix.length!==26)throw new Error(`Invalid length. Suffix should have 26 characters, got ${e.length}`);if(this.suffix[0]>"7")throw new Error("Invalid suffix. First character must be in the range [0-7]");y1e(this.suffix)}getType(){return this.prefix}getSuffix(){return this.suffix}asType(n){const e=this;if(e.prefix!==n)throw new Error(`Cannot convert TypeID of type ${e.prefix} to type ${n}`);return e}toUUIDBytes(){return y1e(this.suffix)}toUUID(){return new $F(this.toUUIDBytes()).toString()}toString(){return this.prefix===""?this.suffix:`${this.prefix}_${this.suffix}`}static fromString(n){const e=n.split("_");if(e.length===1)return new CT("",e[0]);if(e.length===2){if(e[0]==="")throw new Error(`Invalid TypeID. Prefix cannot be empty when there's a separator: ${n}`);return new CT(e[0],e[1])}throw new Error(`Invalid TypeID string: ${n}`)}static fromUUIDBytes(n,e){const r=_V(e);return new CT(n,r)}static fromUUID(n,e){const r=_V(z2n(e));return new CT(n,r)}};function PZe(n="",e=""){return new CT(n,e)}/*! Bundled license information:

uuidv7/dist/index.js:
  (**
   * uuidv7: An experimental implementation of the proposed UUID Version 7
   *
   * @license Apache-2.0
   * @copyright 2021-2023 LiosK
   * @packageDocumentation
   *)
*/function q2n(){return PZe("session").toString()}function K2n(){return PZe("trace").toString()}function Y2n(n,e){return e<1?[n,""]:[n.substring(0,e),n.substring(e)]}const w1e=1024;function Z2n(n){const e=n.indexOf(`
`),r=e===-1?w1e:Math.min(e,w1e),[i,o]=Y2n(n,r);return i+(o?"… (+".concat(o.length,")"):"")}function X2n(n){const e=new ho;function r(c,u,f,h){e.next({sessionId:n,type:"trace.error",traceId:c,name:u.name,version:u.version,data:{message:Z2n(f.message)},context:h,createdAt:new Date().toISOString()})}function i(c,u,f,h,m){e.next({sessionId:n,type:c,traceId:u,name:f.name,version:f.version,data:h,context:m,createdAt:new Date().toISOString()})}function o(c,u,f){e.next({sessionId:n,type:c,version:u.version,name:u.name,data:f,createdAt:new Date().toISOString()})}function s(c){e.next({sessionId:n,type:"userProperties",properties:c,createdAt:new Date().toISOString()})}function a(c,u,f){return{start(){i("trace.start",c,u,void 0,f)},newContext(h){return{trace(m){return a("".concat(c,".").concat(h),m,f)},updateUserProperties(){},log:l}},log(h){i("trace.log",c,u,h,f)},complete(){i("trace.complete",c,u,void 0,f)},error(h){r(c,u,h,f)},await(h,m){return this.start(),h.then(g=>(this.log(m||g),this.complete(),g),g=>{throw this.error(g),g}),h}}}function l(c,u){o("log",c,u)}return{events$:e.asObservable(),logger:{updateUserProperties(c){s(c)},trace:(c,u)=>{const f=K2n();return a(f,c,u)},log:l}}}const Q2n=n=>new Un(e=>{const r=setTimeout(()=>{e.next(),e.complete()},n);return typeof r.unref=="function"&&r.unref(),()=>clearTimeout(r)});function J2n(n,e){var r;const i=X2n(n);function o(){return e.resolveConsent().catch(v=>({status:"undetermined"}))}const s=[];function a(){const v=s.slice();return s.length=0,v}function l(){const v=a();return v.length===0?Vi:Da([Ke(v),o()]).pipe(On(y=>{let[b,x]=y;return b.length===0||x.status!=="granted"?Vi:Gi(e.sendEvents(b)).pipe(vi(_=>(s.unshift(...b),Vi)))}))}const c=(r=e.flushInterval)!=null?r:3e4,u=i.events$.pipe(Si(v=>s.push(v)),Me(()=>{}),jQ(()=>Q2n(c),{leading:!1,trailing:!0}),gM(()=>l()));function f(){return Js(l(),{defaultValue:void 0}).then(()=>{})}const h=u.subscribe();function m(){if(!e.sendBeacon)return g(),!0;const v=a();return h.unsubscribe(),v.length>0?e.sendBeacon(v):!0}function g(){return f().then(()=>{},()=>{}).finally(()=>{h.unsubscribe()})}return{end:g,endWithBeacon:m,flush:f,logger:i.logger}}function kf(n){return{type:"log",name:n.name,version:n.version,description:n.description,schema:void 0}}var ekn=Fy,tkn=Ty,nkn=Gg;function rkn(n){return function(e,r,i){var o=Object(e);if(!tkn(e)){var s=ekn(r);e=nkn(e),r=function(l){return s(o[l],l,o)}}var a=n(e,r,i);return a>-1?o[s?e[a]:a]:void 0}}var ikn=rkn,okn=ikn,skn=vqe,akn=okn(skn),lkn=akn;const jZe=Tt(lkn);var ckn=Qp;function ukn(n,e){return ckn(e,function(r){return n[r]})}var LZe=ukn,dkn=LZe,fkn=Gg;function hkn(n){return n==null?[]:dkn(n,fkn(n))}var $Ze=hkn;const pkn=Tt($Ze);var mkn=ow,gkn=_6;function vkn(n){return mkn(function(e,r){var i=-1,o=r.length,s=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(s=n.length>3&&typeof s=="function"?(o--,s):void 0,a&&gkn(r[0],r[1],a)&&(s=o<3?void 0:s,o=1),e=Object(e);++i<o;){var l=r[i];l&&n(e,l,i,s)}return e})}var MZe=vkn,ykn=tw,bkn=MZe,xkn=Gg,wkn=bkn(function(n,e,r,i){ykn(e,xkn(e),n,i)}),_kn=wkn;const Ekn=Tt(_kn);var FZe={};(function(n){(function(){(n!==null?n:this).ExifReader=function(){e.prototype._MIN_DATA_BUFFER_LENGTH=2,e.prototype._JPEG_ID_SIZE=2,e.prototype._JPEG_ID=65496,e.prototype._APP_MARKER_SIZE=2,e.prototype._APP0_MARKER=65504,e.prototype._APP1_MARKER=65505,e.prototype._APP15_MARKER=65519,e.prototype._APP_ID_OFFSET=4,e.prototype._BYTES_Exif=1165519206,e.prototype._TIFF_HEADER_OFFSET=10,e.prototype._BYTE_ORDER_BIG_ENDIAN=18761,e.prototype._BYTE_ORDER_LITTLE_ENDIAN=19789;function e(){var r=this;this._getTagValueAt={1:function(i){return r._getByteAt(i)},2:function(i){return r._getAsciiAt(i)},3:function(i){return r._getShortAt(i)},4:function(i){return r._getLongAt(i)},5:function(i){return r._getRationalAt(i)},7:function(i){return r._getUndefinedAt(i)},9:function(i){return r._getSlongAt(i)},10:function(i){return r._getSrationalAt(i)}},this._tiffHeaderOffset=0}return e.prototype.load=function(r){return this.loadView(new DataView(r))},e.prototype.loadView=function(r){return this._dataView=r,this._tags={},this._checkImageHeader(),this._readTags()},e.prototype._checkImageHeader=function(){var r;if(r=this._dataView,r.byteLength<this._MIN_DATA_BUFFER_LENGTH||r.getUint16(0,!1)!==this._JPEG_ID)throw new Error("Invalid image format");if(this._parseAppMarkers(r),!this._hasExifData())throw new Error("No Exif data")},e.prototype._parseAppMarkers=function(r){var i,o,s;for(i=this._JPEG_ID_SIZE,s=[];!(r.byteLength<i+this._APP_ID_OFFSET+5);){if(this._isApp1ExifMarker(r,i))o=r.getUint16(i+this._APP_MARKER_SIZE,!1),this._tiffHeaderOffset=i+this._TIFF_HEADER_OFFSET;else if(this._isAppMarker(r,i))o=r.getUint16(i+this._APP_MARKER_SIZE,!1);else break;s.push(i+=this._APP_MARKER_SIZE+o)}return s},e.prototype._isApp1ExifMarker=function(r,i){return r.getUint16(i,!1)===this._APP1_MARKER&&r.getUint32(i+this._APP_ID_OFFSET,!1)===this._BYTES_Exif&&r.getUint8(i+this._APP_ID_OFFSET+4,!1)===0},e.prototype._isAppMarker=function(r,i){var o;return o=r.getUint16(i,!1),o>=this._APP0_MARKER&&o<=this._APP15_MARKER},e.prototype._hasExifData=function(){return this._tiffHeaderOffset!==0},e.prototype._readTags=function(){return this._setByteOrder(),this._read0thIfd(),this._readExifIfd(),this._readGpsIfd(),this._readInteroperabilityIfd()},e.prototype._setByteOrder=function(){if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_BIG_ENDIAN)return this._littleEndian=!0;if(this._dataView.getUint16(this._tiffHeaderOffset)===this._BYTE_ORDER_LITTLE_ENDIAN)return this._littleEndian=!1;throw new Error("Illegal byte order value. Faulty image.")},e.prototype._read0thIfd=function(){var r;return r=this._getIfdOffset(),this._readIfd("0th",r)},e.prototype._getIfdOffset=function(){return this._tiffHeaderOffset+this._getLongAt(this._tiffHeaderOffset+4)},e.prototype._readExifIfd=function(){var r;if(this._tags["Exif IFD Pointer"]!=null)return r=this._tiffHeaderOffset+this._tags["Exif IFD Pointer"].value,this._readIfd("exif",r)},e.prototype._readGpsIfd=function(){var r;if(this._tags["GPS Info IFD Pointer"]!=null)return r=this._tiffHeaderOffset+this._tags["GPS Info IFD Pointer"].value,this._readIfd("gps",r)},e.prototype._readInteroperabilityIfd=function(){var r;if(this._tags["Interoperability IFD Pointer"]!=null)return r=this._tiffHeaderOffset+this._tags["Interoperability IFD Pointer"].value,this._readIfd("interoperability",r)},e.prototype._readIfd=function(r,i){var o,s,a,l;for(o=this._getShortAt(i),i+=2,l=[],a=0;0<=o?a<o:a>o;0<=o?++a:--a)s=this._readTag(r,i),this._tags[s.name]={value:s.value,description:s.description},l.push(i+=12);return l},e.prototype._readTag=function(r,i){var o,s,a,l,c,u,f;return o=this._getShortAt(i),c=this._getShortAt(i+2),s=this._getLongAt(i+4),this._typeSizes[c]*s<=4?u=this._getTagValue(i+8,c,s):(f=this._getLongAt(i+8),u=this._getTagValue(this._tiffHeaderOffset+f,c,s)),c===this._tagTypes.ASCII&&(u=this._splitNullSeparatedAsciiString(u)),this._tagNames[r][o]!=null?(this._tagNames[r][o].name!=null&&this._tagNames[r][o].description!=null?(l=this._tagNames[r][o].name,a=this._tagNames[r][o].description(u)):(l=this._tagNames[r][o],u instanceof Array?a=u.join(", "):a=u),{name:l,value:u,description:a}):{name:"undefined-"+o,value:u,description:u}},e.prototype._getTagValue=function(r,i,o){var s,a;return a=(function(){var l,c;for(c=[],l=0;0<=o?l<o:l>o;0<=o?++l:--l)s=this._getTagValueAt[i](r),r+=this._typeSizes[i],c.push(s);return c}).call(this),a.length===1?a=a[0]:i===this._tagTypes.ASCII&&(a=this._getAsciiValue(a)),a},e.prototype._getAsciiValue=function(r){var i;return function(){var o,s,a;for(a=[],o=0,s=r.length;o<s;o++)i=r[o],a.push(String.fromCharCode(i));return a}()},e.prototype._getByteAt=function(r){return this._dataView.getUint8(r)},e.prototype._getAsciiAt=function(r){return this._dataView.getUint8(r)},e.prototype._getShortAt=function(r){return this._dataView.getUint16(r,this._littleEndian)},e.prototype._getLongAt=function(r){return this._dataView.getUint32(r,this._littleEndian)},e.prototype._getRationalAt=function(r){return this._getLongAt(r)/this._getLongAt(r+4)},e.prototype._getUndefinedAt=function(r){return this._getByteAt(r)},e.prototype._getSlongAt=function(r){return this._dataView.getInt32(r,this._littleEndian)},e.prototype._getSrationalAt=function(r){return this._getSlongAt(r)/this._getSlongAt(r+4)},e.prototype._splitNullSeparatedAsciiString=function(r){var i,o,s,a,l;for(s=[],o=0,a=0,l=r.length;a<l;a++){if(i=r[a],i==="\0"){o++;continue}s[o]==null&&(s[o]=""),s[o]+=i}return s},e.prototype._typeSizes={1:1,2:1,3:2,4:4,5:8,7:1,9:4,10:8},e.prototype._tagTypes={BYTE:1,ASCII:2,SHORT:3,LONG:4,RATIONAL:5,UNDEFINED:7,SLONG:9,SRATIONAL:10},e.prototype._tagNames={"0th":{256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:{name:"Orientation",description:function(r){switch(r){case 1:return"top-left";case 2:return"top-right";case 3:return"bottom-right";case 4:return"bottom-left";case 5:return"left-top";case 6:return"right-top";case 7:return"right-bottom";case 8:return"left-bottom";default:return"Undefined"}}},277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",296:{name:"ResolutionUnit",description:function(r){switch(r){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},301:"TransferFunction",305:"Software",306:"DateTime",315:"Artist",318:"WhitePoint",319:"PrimaryChromaticities",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:{name:"YCbCrPositioning",description:function(r){switch(r){case 1:return"centered";case 2:return"co-sited";default:return"undefied "+r}}},532:"ReferenceBlackWhite",33432:{name:"Copyright",description:function(r){return r.join("; ")}},34665:"Exif IFD Pointer",34853:"GPS Info IFD Pointer"},exif:{33434:"ExposureTime",33437:"FNumber",34850:{name:"ExposureProgram",description:function(r){switch(r){case 0:return"Undefined";case 1:return"Manual";case 2:return"Normal program";case 3:return"Aperture priority";case 4:return"Shutter priority";case 5:return"Creative program";case 6:return"Action program";case 7:return"Portrait mode";case 8:return"Landscape mode";default:return"Unknown"}}},34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:{name:"OECF",description:function(r){return"[Raw OECF table data]"}},36864:{name:"ExifVersion",description:function(r){var i,o,s,a;for(o="",s=0,a=r.length;s<a;s++)i=r[s],o+=String.fromCharCode(i);return o}},36867:"DateTimeOriginal",36868:"DateTimeDigitized",37121:{name:"ComponentsConfiguration",description:function(r){var i,o,s,a;for(o="",s=0,a=r.length;s<a;s++)switch(i=r[s],i){case 49:o+="Y";break;case 50:o+="Cb";break;case 51:o+="Cr";break;case 52:o+="R";break;case 53:o+="G";break;case 54:o+="B"}return o}},37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBiasValue",37381:"MaxApertureValue",37382:"SubjectDistance",37383:{name:"MeteringMode",description:function(r){switch(r){case 1:return"Average";case 2:return"CenterWeightedAverage";case 3:return"Spot";case 4:return"MultiSpot";case 5:return"Pattern";case 6:return"Partial";case 255:return"Other";default:return"Unknown"}}},37384:{name:"LightSource",description:function(r){switch(r){case 1:return"Daylight";case 2:return"Fluorescent";case 3:return"Tungsten (incandescent light)";case 4:return"Flash";case 9:return"Fine weather";case 10:return"Cloudy weather";case 11:return"Shade";case 12:return"Daylight fluorescent (D 5700 – 7100K)";case 13:return"Day white fluorescent (N 4600 – 5400K)";case 14:return"Cool white fluorescent (W 3900 – 4500K)";case 15:return"White fluorescent (WW 3200 – 3700K)";case 17:return"Standard light A";case 18:return"Standard light B";case 19:return"Standard light C";case 20:return"D55";case 21:return"D65";case 22:return"D75";case 23:return"D50";case 24:return"ISO studio tungsten";case 255:return"Other light source";default:return"Unknown"}}},37385:{name:"Flash",description:function(r){switch(r){case 0:return"Flash did not fire";case 1:return"Flash fired";case 5:return"Strobe return light not detected";case 7:return"Strobe return light detected";case 9:return"Flash fired, compulsory flash mode";case 13:return"Flash fired, compulsory flash mode, return light not detected";case 15:return"Flash fired, compulsory flash mode, return light detected";case 16:return"Flash did not fire, compulsory flash mode";case 24:return"Flash did not fire, auto mode";case 25:return"Flash fired, auto mode";case 29:return"Flash fired, auto mode, return light not detected";case 31:return"Flash fired, auto mode, return light detected";case 32:return"No flash function";case 65:return"Flash fired, red-eye reduction mode";case 69:return"Flash fired, red-eye reduction mode, return light not detected";case 71:return"Flash fired, red-eye reduction mode, return light detected";case 73:return"Flash fired, compulsory flash mode, red-eye reduction mode";case 77:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected";case 79:return"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected";case 89:return"Flash fired, auto mode, red-eye reduction mode";case 93:return"Flash fired, auto mode, return light not detected, red-eye reduction mode";case 95:return"Flash fired, auto mode, return light detected, red-eye reduction mode";default:return"Unknown"}}},37386:"FocalLength",37396:{name:"SubjectArea",description:function(r){switch(r.length){case 2:return"Location; X: "+r[0]+", Y: "+r[1];case 3:return"Circle; X: "+r[0]+", Y: "+r[1]+", diameter: "+r[2];case 4:return"Rectangle; X: "+r[0]+", Y: "+r[1]+", width: "+r[2]+", height: "+r[3];default:return"Unknown"}}},37500:{name:"MakerNote",description:function(r){return"[Raw maker note data]"}},37510:{name:"UserComment",description:function(r){switch(r.slice(0,8).map(function(i){return String.fromCharCode(i)}).join("")){case"ASCII\0\0\0":return r.slice(8,r.length).map(function(i){return String.fromCharCode(i)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",40960:{name:"FlashpixVersion",description:function(r){var i,o,s,a;for(o="",s=0,a=r.length;s<a;s++)i=r[s],o+=String.fromCharCode(i);return o}},40961:{name:"ColorSpace",description:function(r){switch(r){case 1:return"sRGB";case 65535:return"Uncalibrated";default:return"Unknown"}}},40962:"PixelXDimension",40963:"PixelYDimension",40964:"RelatedSoundFile",40965:"Interoperability IFD Pointer",41483:"FlashEnergy",41484:{name:"SpatialFrequencyResponse",description:function(r){return"[Raw SFR table data]"}},41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:{name:"FocalPlaneResolutionUnit",description:function(r){switch(r){case 2:return"inches";case 3:return"centimeters";default:return"Unknown"}}},41492:{name:"SubjectLocation",description:function(r){return"X: "+r[0]+", Y: "+r[1]}},41493:"ExposureIndex",41495:{name:"SensingMethod",description:function(r){switch(r){case 1:return"Undefined";case 2:return"One-chip color area sensor";case 3:return"Two-chip color area sensor";case 4:return"Three-chip color area sensor";case 5:return"Color sequential area sensor";case 7:return"Trilinear sensor";case 8:return"Color sequential linear sensor";default:return"Unknown"}}},41728:{name:"FileSource",description:function(r){switch(r){case 3:return"DSC";default:return"Unknown"}}},41729:{name:"SceneType",description:function(r){switch(r){case 1:return"A directly photographed image";default:return"Unknown"}}},41730:{name:"CFAPattern",description:function(r){return"[Raw CFA pattern table data]"}},41985:{name:"CustomRendered",description:function(r){switch(r){case 0:return"Normal process";case 1:return"Custom process";default:return"Unknown"}}},41986:{name:"ExposureMode",description:function(r){switch(r){case 0:return"Auto exposure";case 1:return"Manual exposure";case 2:return"Auto bracket";default:return"Unknown"}}},41987:{name:"WhiteBalance",description:function(r){switch(r){case 0:return"Auto white balance";case 1:return"Manual white balance";default:return"Unknown"}}},41988:{name:"DigitalZoomRatio",description:function(r){switch(r){case 0:return"Digital zoom was not used";default:return r}}},41989:{name:"FocalLengthIn35mmFilm",description:function(r){switch(r){case 0:return"Unknown";default:return r}}},41990:{name:"SceneCaptureType",description:function(r){switch(r){case 0:return"Standard";case 1:return"Landscape";case 2:return"Portrait";case 3:return"Night scene";default:return"Unknown"}}},41991:{name:"GainControl",description:function(r){switch(r){case 0:return"None";case 1:return"Low gain up";case 2:return"High gain up";case 3:return"Low gain down";case 4:return"High gain down";default:return"Unknown"}}},41992:{name:"Contrast",description:function(r){switch(r){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41993:{name:"Saturation",description:function(r){switch(r){case 0:return"Normal";case 1:return"Low saturation";case 2:return"High saturation";default:return"Unknown"}}},41994:{name:"Sharpness",description:function(r){switch(r){case 0:return"Normal";case 1:return"Soft";case 2:return"Hard";default:return"Unknown"}}},41995:{name:"DeviceSettingDescription",description:function(r){return"[Raw device settings table data]"}},41996:{name:"SubjectDistanceRange",description:function(r){switch(r){case 1:return"Macro";case 2:return"Close view";case 3:return"Distant view";default:return"Unknown"}}},42016:"ImageUniqueID"},gps:{0:{name:"GPSVersionID",description:function(r){var i,o;return r[0]===(i=r[1])&&i===2&&r[2]===(o=r[3])&&o===0?"Version 2.2":"Unknown"}},1:{name:"GPSLatitudeRef",description:function(r){switch(r.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},2:{name:"GPSLatitude",description:function(r){return r[0]+r[1]/60+r[2]/3600}},3:{name:"GPSLongitudeRef",description:function(r){switch(r.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},4:{name:"GPSLongitude",description:function(r){return r[0]+r[1]/60+r[2]/3600}},5:{name:"GPSAltitudeRef",description:function(r){switch(r){case 0:return"Sea level";case 1:return"Sea level reference (negative value)";default:return"Unknown"}}},6:{name:"GPSAltitude",description:function(r){return r+" m"}},7:{name:"GPSTimeStamp",description:function(r){var i;return i=function(o){return function(){var s,a,l;for(l=[],s=0,a=2-(""+Math.floor(o)).length;0<=a?s<a:s>a;0<=a?++s:--s)l.push("0");return l}()+o},r.map(i).join(":")}},8:"GPSSatellites",9:{name:"GPSStatus",description:function(r){switch(r.join("")){case"A":return"Measurement in progress";case"V":return"Measurement Interoperability";default:return"Unknown"}}},10:{name:"GPSMeasureMode",description:function(r){switch(r.join("")){case"2":return"2-dimensional measurement";case"3":return"3-dimensional measurement";default:return"Unknown"}}},11:"GPSDOP",12:{name:"GPSSpeedRef",description:function(r){switch(r.join("")){case"K":return"Kilometers per hour";case"M":return"Miles per hour";case"N":return"Knots";default:return"Unknown"}}},13:"GPSSpeed",14:{name:"GPSTrackRef",description:function(r){switch(r.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},15:"GPSTrack",16:{name:"GPSImgDirectionRef",description:function(r){switch(r.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},17:"GPSImgDirection",18:"GPSMapDatum",19:{name:"GPSDestLatitudeRef",description:function(r){switch(r.join("")){case"N":return"North latitude";case"S":return"South latitude";default:return"Unknown"}}},20:{name:"GPSDestLatitude",description:function(r){return r[0]+r[1]/60+r[2]/3600}},21:{name:"GPSDestLongitudeRef",description:function(r){switch(r.join("")){case"E":return"East longitude";case"W":return"West longitude";default:return"Unknown"}}},22:{name:"GPSDestLongitude",description:function(r){return r[0]+r[1]/60+r[2]/3600}},23:{name:"GPSDestBearingRef",description:function(r){switch(r.join("")){case"T":return"True direction";case"M":return"Magnetic direction";default:return"Unknown"}}},24:"GPSDestBearing",25:{name:"GPSDestDistanceRef",description:function(r){switch(r.join("")){case"K":return"Kilometers";case"M":return"Miles";case"N":return"Knots";default:return"Unknown"}}},26:"GPSDestDistance",27:{name:"GPSProcessingMethod",description:function(r){switch(r.slice(0,8).map(function(i){return String.fromCharCode(i)}).join("")){case"ASCII\0\0\0":return r.slice(8,r.length).map(function(i){return String.fromCharCode(i)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},28:{name:"GPSAreaInformation",description:function(r){switch(r.slice(0,8).map(function(i){return String.fromCharCode(i)}).join("")){case"ASCII\0\0\0":return r.slice(8,r.length).map(function(i){return String.fromCharCode(i)}).join("");case"JIS\0\0\0\0\0":return"[JIS encoded text]";case"UNICODE\0":return"[Unicode encoded text]";case"\0\0\0\0\0\0\0\0":return"[Undefined encoding]"}}},29:"GPSDateStamp",30:{name:"GPSDifferential",description:function(r){switch(r){case 0:return"Measurement without differential correction";case 1:return"Differential correction applied";default:return"Unknown"}}}},interoperability:{1:"InteroperabilityIndex",2:"UnknownInteroperabilityTag0x0002",4097:"UnknownInteroperabilityTag0x1001",4098:"UnknownInteroperabilityTag0x1002"}},e.prototype.getTagValue=function(r){if(this._tags[r]!=null)return this._tags[r].value},e.prototype.getTagDescription=function(r){if(this._tags[r]!=null)return this._tags[r].description},e.prototype.getAllTags=function(){return this._tags},e}()}).call(_a)})(FZe);var Ckn=FZe.ExifReader,Skn=function(n){var e=new Ckn;e.load(n);var r=e.getAllTags(),i={};for(var o in r)i[kkn(o)]=r[o].description;return i};function kkn(n){return n.replace(/([A-Z][a-z])|([a-z][A-Z])|([A-Z])/g,function(e){return e.length==1?e.toLowerCase():e[0]==e[0].toUpperCase()?" "+e.toLowerCase():e[0]+" "+e[1].toLowerCase()}).replace(/^\s+|\s+$/g,"")}const Tkn=Tt(Skn);var Akn=Object.defineProperty,Ikn=(n,e,r)=>e in n?Akn(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,_1e=(n,e,r)=>(Ikn(n,typeof e!="symbol"?e+"":e,r),r);function Dkn(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Rkn(n){const e=[];for(const r of n.split("."))r==="*"?e.push("[^.]+"):r==="**"?e.push(".*"):e.push(Dkn(r));return new RegExp(`^${e.join(".")}$`)}class NZe{constructor(e){_1e(this,"pattern"),_1e(this,"patternRe"),this.pattern=e,this.patternRe=Rkn(e)}matches(e){return this.patternRe.test(e)}toJSON(){return this.pattern}}var Okn=Object.defineProperty,Pkn=(n,e,r)=>e in n?Okn(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,Sk=(n,e,r)=>(Pkn(n,typeof e!="symbol"?e+"":e,r),r);class j0{constructor(e){Sk(this,"type","stream"),Sk(this,"generator"),Sk(this,"ticker"),Sk(this,"isDone"),Sk(this,"data"),this.generator=e,this.ticker=null,this.isDone=!1,this.data=[]}isArray(){return!0}async get(){const e=[];for await(const r of this)e.push(await r.get());return e}async*[Symbol.asyncIterator](){let e=0;for(;;){for(;e<this.data.length;e++)yield this.data[e];if(this.isDone)return;await this._nextTick()}}_nextTick(){if(this.ticker)return this.ticker;let e;const r=()=>{this.ticker=new Promise(s=>{e=s})},i=()=>{e(),r()},o=async()=>{for await(const s of this.generator())this.data.push(s),i();this.isDone=!0,i()};return r(),o(),this.ticker}}const jkn=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(Z|([-+]\d{2}:\d{2}))$/;function Lkn(n){return jkn.test(n)?new Date(n):null}function $kn(n){const e=y1(n.getUTCFullYear(),4),r=y1(n.getUTCMonth()+1,2),i=y1(n.getUTCDate(),2),o=y1(n.getUTCHours(),2),s=y1(n.getUTCMinutes(),2),a=y1(n.getUTCSeconds(),2);let l="";const c=n.getMilliseconds();return c!=0&&(l=`.${y1(c,3)}`),`${e}-${r}-${i}T${o}:${s}:${a}${l}Z`}function y1(n,e){let r=n.toString();for(;r.length<e;)r=`0${r}`;return r}var Mkn=Object.defineProperty,Fkn=(n,e,r)=>e in n?Mkn(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,eY=(n,e,r)=>(Fkn(n,typeof e!="symbol"?e+"":e,r),r);class iv{constructor(e,r){eY(this,"data"),eY(this,"type"),this.data=e,this.type=r}isArray(){return this.type==="array"}async get(){return this.data}[Symbol.asyncIterator](){if(Array.isArray(this.data))return function*(e){for(const r of e)yield Vo(r)}(this.data);throw new Error(`Cannot iterate over: ${this.type}`)}}const Ut=new iv(null,"null"),sl=new iv(!0,"boolean"),Ba=new iv(!1,"boolean");class QC{constructor(e){eY(this,"date"),this.date=e}static parseToValue(e){const r=Lkn(e);return r?new iv(new QC(r),"datetime"):Ut}equals(e){return this.date.getTime()==e.date.getTime()}add(e){const r=new Date(this.date.getTime());return r.setTime(r.getTime()+e*1e3),new QC(r)}difference(e){return(this.date.getTime()-e.date.getTime())/1e3}compareTo(e){return this.date.getTime()-e.date.getTime()}toString(){return $kn(this.date)}toJSON(){return this.toString()}}function sf(n){return Number.isFinite(n)?new iv(n,"number"):Ut}function af(n){return new iv(n,"string")}function tY(n){return new iv(n,"datetime")}function Nkn(n){return new iv(n,"path")}function Bkn(n){return n&&typeof n.next=="function"}function Vo(n){return Bkn(n)?new j0(async function*(){for await(const e of n)yield Vo(e)}):n==null?Ut:new iv(n,JC(n))}function JC(n){return n===null||typeof n>"u"?"null":Array.isArray(n)?"array":n instanceof NZe?"path":n instanceof QC?"datetime":typeof n}function EV(n,e){return n.type==="string"&&e.type==="string"||n.type==="boolean"&&e.type==="boolean"||n.type==="null"&&e.type==="null"||n.type==="number"&&e.type==="number"?n.data===e.data:n.type==="datetime"&&e.type==="datetime"?n.data.equals(e.data):!1}const Ukn=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,zkn=/([^!@#$%^&(),\\/?";:{}|[\]+<>\s-])+/g,BZe=/(\b\.+|\.+\b)/g,Vkn=1024;function Hkn(n,e){return n.length===0||e.length===0?!1:e.every(r=>r(n))}function UZe(n){return n.replace(BZe,"").match(Ukn)||[]}function Wkn(n){return zZe(n).map(e=>r=>r.some(i=>e.test(i)))}function zZe(n){return(n.replace(BZe,"").match(zkn)||[]).map(e=>new RegExp(`^${e.slice(0,Vkn).replace(/\*/g,".*")}$`,"i"))}async function MF(n,e){if(n.type==="string")return e(n.data),!0;if(n.isArray()){let r=!0;for await(const i of n)i.type==="string"?e(i.data):r=!1;return r}return!1}const E1e={datetime:1,number:2,string:3,boolean:4};function Ob(n,e){const r=JC(n),i=JC(e);if(r!==i)return null;switch(r){case"number":case"boolean":return n-e;case"string":return n<e?-1:n>e?1:0;case"datetime":return n.compareTo(e);default:return null}}function Gkn(n,e){const r=JC(n),i=JC(e),o=E1e[r]||100,s=E1e[i]||100;if(o!==s)return o-s;let a=Ob(n,e);return a===null&&(a=0),a}const qkn={"==":function(n,e){return EV(n,e)?sl:Ba},"!=":function(n,e){return EV(n,e)?Ba:sl},">":function(n,e){if(n.type==="stream"||e.type==="stream")return Ut;const r=Ob(n.data,e.data);return r===null?Ut:r>0?sl:Ba},">=":function(n,e){if(n.type==="stream"||e.type==="stream")return Ut;const r=Ob(n.data,e.data);return r===null?Ut:r>=0?sl:Ba},"<":function(n,e){if(n.type==="stream"||e.type==="stream")return Ut;const r=Ob(n.data,e.data);return r===null?Ut:r<0?sl:Ba},"<=":function(n,e){if(n.type==="stream"||e.type==="stream")return Ut;const r=Ob(n.data,e.data);return r===null?Ut:r<=0?sl:Ba},in:async function(n,e){if(e.type==="path")return n.type!=="string"?Ut:e.data.matches(n.data)?sl:Ba;if(e.isArray()){for await(const r of e)if(EV(n,r))return sl;return Ba}return Ut},match:async function(n,e){let r=[],i=[];return await MF(n,o=>{r=r.concat(UZe(o))}),await MF(e,o=>{i=i.concat(Wkn(o))})&&Hkn(r,i)?sl:Ba},"+":function(n,e){return n.type==="datetime"&&e.type==="number"?tY(n.data.add(e.data)):n.type==="number"&&e.type==="number"?sf(n.data+e.data):n.type==="string"&&e.type==="string"?af(n.data+e.data):n.type==="object"&&e.type==="object"?Vo({...n.data,...e.data}):n.type==="array"&&e.type==="array"?Vo(n.data.concat(e.data)):n.isArray()&&e.isArray()?new j0(async function*(){for await(const r of n)yield r;for await(const r of e)yield r}):Ut},"-":function(n,e){return n.type==="datetime"&&e.type==="number"?tY(n.data.add(-e.data)):n.type==="datetime"&&e.type==="datetime"?sf(n.data.difference(e.data)):n.type==="number"&&e.type==="number"?sf(n.data-e.data):Ut},"*":DP((n,e)=>n*e),"/":DP((n,e)=>n/e),"%":DP((n,e)=>n%e),"**":DP((n,e)=>Math.pow(n,e))};function DP(n){return function(e,r){if(e.type==="number"&&r.type==="number"){const i=n(e.data,r.data);return sf(i)}return Ut}}var Kkn=Object.defineProperty,Ykn=(n,e,r)=>e in n?Kkn(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,n_=(n,e,r)=>(Ykn(n,typeof e!="symbol"?e+"":e,r),r);class Z5{constructor(e,r,i,o,s){n_(this,"params"),n_(this,"source"),n_(this,"value"),n_(this,"parent"),n_(this,"context"),n_(this,"isHidden",!1),this.params=e,this.source=r,this.value=i,this.context=o,this.parent=s}createNested(e){return this.isHidden?new Z5(this.params,this.source,e,this.context,this.parent):new Z5(this.params,this.source,e,this.context,this)}createHidden(e){const r=this.createNested(e);return r.isHidden=!0,r}}function Zre(n,e,r=Zre){const i=Zkn[n.type];return i(n,e,r)}function C1e(n,e){return"then"in n?n.then(e):e(n)}const Zkn={This(n,e){return e.value},Selector(){throw new Error("Selectors can not be evaluated")},Everything(n,e){return e.source},Parameter({name:n},e){return Vo(e.params[n])},Context({key:n},e){if(n==="before"||n==="after")return e.context[n]||Ut;throw new Error(`unknown context key: ${n}`)},Parent({n},e){let r=e;for(let i=0;i<n;i++){if(!r.parent)return Ut;r=r.parent}return r.value},OpCall({op:n,left:e,right:r},i,o){const s=qkn[n];if(!s)throw new Error(`Unknown operator: ${n}`);const a=o(e,i),l=o(r,i);return"then"in a||"then"in l?(async()=>s(await a,await l))():s(a,l)},async Select({alternatives:n,fallback:e},r,i){for(const o of n){const s=await i(o.condition,r);if(s.type==="boolean"&&s.data===!0)return i(o.value,r)}return e?i(e,r):Ut},async InRange({base:n,left:e,right:r,isInclusive:i},o,s){const a=await s(n,o),l=await s(e,o),c=await s(r,o),u=Ob(await a.get(),await l.get());if(u===null)return Ut;const f=Ob(await a.get(),await c.get());return f===null?Ut:i?u>=0&&f<=0?sl:Ba:u>=0&&f<0?sl:Ba},async Filter({base:n,expr:e},r,i){const o=await i(n,r);return o.isArray()?new j0(async function*(){for await(const s of o){const a=r.createNested(s),l=await i(e,a);l.type==="boolean"&&l.data===!0&&(yield s)}}):Ut},async Projection({base:n,expr:e},r,i){const o=await i(n,r);if(o.type!=="object")return Ut;const s=r.createNested(o);return i(e,s)},FuncCall({func:n,args:e},r,i){return n(e,r,i)},async PipeFuncCall({func:n,base:e,args:r},i,o){const s=await o(e,i);return n(s,r,i,o)},async AccessAttribute({base:n,name:e},r,i){let o=r.value;return n&&(o=await i(n,r)),o.type==="object"&&o.data.hasOwnProperty(e)?Vo(o.data[e]):Ut},async AccessElement({base:n,index:e},r,i){const o=await i(n,r);if(!o.isArray())return Ut;const s=await o.get(),a=e<0?e+s.length:e;return Vo(s[a])},async Slice({base:n,left:e,right:r,isInclusive:i},o,s){const a=await s(n,o);if(!a.isArray())return Ut;const l=await a.get();let c=e,u=r;return c<0&&(c=l.length+c),u<0&&(u=l.length+u),i&&u++,c<0&&(c=0),u<0&&(u=0),Vo(l.slice(c,u))},async Deref({base:n},e,r){const i=await r(n,e);if(!e.source.isArray()||i.type!=="object")return Ut;const o=i.data._ref;if(typeof o!="string")return Ut;if(e.context.dereference)return Vo(await e.context.dereference({_ref:o}));for await(const s of e.source)if(s.type==="object"&&o===s.data._id)return s;return Ut},Value({value:n}){return Vo(n)},Group({base:n},e,r){return r(n,e)},async Object({attributes:n},e,r){const i={};for(const o of n){const s=o.type;switch(o.type){case"ObjectAttributeValue":{const a=await r(o.value,e);i[o.name]=await a.get();break}case"ObjectConditionalSplat":{const a=await r(o.condition,e);if(a.type!=="boolean"||a.data===!1)continue;const l=await r(o.value,e);l.type==="object"&&Object.assign(i,l.data);break}case"ObjectSplat":{const a=await r(o.value,e);a.type==="object"&&Object.assign(i,a.data);break}default:throw new Error(`Unknown node type: ${s}`)}}return Vo(i)},Array({elements:n},e,r){return new j0(async function*(){for(const i of n){const o=await r(i.value,e);if(i.isSplat){if(o.isArray())for await(const s of o)yield s}else yield o}})},Tuple(){throw new Error("tuples can not be evaluated")},async Or({left:n,right:e},r,i){const o=await i(n,r),s=await i(e,r);return o.type==="boolean"&&o.data===!0||s.type==="boolean"&&s.data===!0?sl:o.type!=="boolean"||s.type!=="boolean"?Ut:Ba},async And({left:n,right:e},r,i){const o=await i(n,r),s=await i(e,r);return o.type==="boolean"&&o.data===!1||s.type==="boolean"&&s.data===!1?Ba:o.type!=="boolean"||s.type!=="boolean"?Ut:sl},async Not({base:n},e,r){const i=await r(n,e);return i.type!=="boolean"?Ut:i.data?Ba:sl},Neg({base:n},e,r){return C1e(r(n,e),i=>i.type!=="number"?Ut:sf(-i.data))},Pos({base:n},e,r){return C1e(r(n,e),i=>i.type!=="number"?Ut:sf(i.data))},Asc(){return Ut},Desc(){return Ut},async ArrayCoerce({base:n},e,r){const i=await r(n,e);return i.isArray()?i:Ut},async Map({base:n,expr:e},r,i){const o=await i(n,r);return o.isArray()?new j0(async function*(){for await(const s of o){const a=r.createHidden(s);yield await i(e,a)}}):Ut},async FlatMap({base:n,expr:e},r,i){const o=await i(n,r);return o.isArray()?new j0(async function*(){for await(const s of o){const a=r.createHidden(s),l=await i(e,a);if(l.isArray())for await(const c of l)yield c;else yield l}}):Ut}};function Xkn(n,e={}){const r=Vo(e.root),i=Vo(e.dataset),o={...e.params},s=new Z5(o,i,r,{timestamp:e.timestamp||new Date,identity:e.identity===void 0?"me":e.identity,sanity:e.sanity,after:e.after?Vo(e.after):null,before:e.before?Vo(e.before):null,dereference:e.dereference},null);return Zre(n,s)}function ST(n){switch(n.type){case"Group":return ST(n.base);case"Value":case"Parameter":return!0;case"Pos":case"Neg":return ST(n.base);case"OpCall":switch(n.op){case"+":case"-":case"*":case"/":case"%":case"**":return ST(n.left)&&ST(n.right);default:return!1}default:return!1}}const Qkn=new Z5({},Ut,Ut,{timestamp:new Date(0),identity:"me",before:null,after:null},null);function CV(n){return ST(n)?VZe(n):null}function VZe(n){const e=Zre(n,Qkn,VZe);if("then"in e)throw new Error("BUG: constant evaluate should never return a promise");return e}async function Jkn(n){if(n.type==="object")return WZe(n.data);if(n.isArray()){const e=await HZe(n);if(e.length>0)return e.join(`

`)}return null}async function HZe(n,e=[]){for await(const r of n)if(r.type==="object"){const i=WZe(r.data);i!==null&&e.push(i)}else r.isArray()&&await HZe(r,e);return e}function WZe(n){if(typeof n._type!="string")return null;const e=n.children;if(!Array.isArray(e))return null;let r="";for(const i of e)i&&typeof i=="object"&&typeof i._type=="string"&&i._type==="span"&&typeof i.text=="string"&&(r+=i.text);return r}const S1e=1.2;async function D_(n,e,r){if(n.type==="OpCall"&&n.op==="match")return eTn(n.left,n.right,e,r);if(n.type==="FuncCall"&&n.name==="boost"){const i=await D_(n.args[0],e,r),o=await r(n.args[1],e);return o.type==="number"&&i>0?i+o.data:0}switch(n.type){case"Or":{const i=await D_(n.left,e,r),o=await D_(n.right,e,r);return i+o}case"And":{const i=await D_(n.left,e,r),o=await D_(n.right,e,r);return i===0||o===0?0:i+o}default:{const i=await r(n,e);return i.type==="boolean"&&i.data===!0?1:0}}}async function eTn(n,e,r,i){const o=await i(n,r),s=await i(e,r);let a=[],l=[];if(await MF(o,u=>{a=a.concat(UZe(u))}),!await MF(s,u=>{l=l.concat(zZe(u))})||a.length===0||l.length===0)return 0;let c=0;for(const u of l){const f=a.reduce((h,m)=>h+(u.test(m)?1:0),0);c+=f*(S1e+1)/(f+S1e)}return c}function nY(n,e){switch(JC(n)){case"array":for(const r of n)if(nY(r,e))return!0;break;case"object":if(n._ref)return e.has(n._ref);for(const r of Object.values(n))if(nY(r,e))return!0;break}return!1}function tTn(n){let e=0;for(let r=0;r<n.length;r++){const i=n.charCodeAt(r);i>=55296&&i<=56319||e++}return e}const so={};so.anywhere=async function(){throw new Error("not implemented")};so.anywhere.arity=1;so.coalesce=async function(n,e,r){for(const i of n){const o=await r(i,e);if(o.type!=="null")return o}return Ut};so.count=async function(n,e,r){const i=await r(n[0],e);if(!i.isArray())return Ut;let o=0;for await(const s of i)o++;return sf(o)};so.count.arity=1;so.dateTime=async function(n,e,r){const i=await r(n[0],e);return i.type==="datetime"?i:i.type!=="string"?Ut:QC.parseToValue(i.data)};so.dateTime.arity=1;so.defined=async function(n,e,r){return(await r(n[0],e)).type==="null"?Ba:sl};so.defined.arity=1;so.identity=async function(n,e){return af(e.context.identity)};so.identity.arity=0;so.length=async function(n,e,r){const i=await r(n[0],e);if(i.type==="string")return sf(tTn(i.data));if(i.isArray()){let o=0;for await(const s of i)o++;return sf(o)}return Ut};so.length.arity=1;so.path=async function(n,e,r){const i=await r(n[0],e);return i.type!=="string"?Ut:Nkn(new NZe(i.data))};so.path.arity=1;so.string=async function(n,e,r){const i=await r(n[0],e);switch(i.type){case"number":case"string":case"boolean":case"datetime":return af(`${i.data}`);default:return Ut}};so.string.arity=1;so.references=async function(n,e,r){const i=new Set;for(const s of n){const a=await r(s,e);if(a.type==="string")i.add(a.data);else if(a.isArray())for await(const l of a)l.type==="string"&&i.add(l.data)}if(i.size===0)return Ba;const o=await e.value.get();return nY(o,i)?sl:Ba};so.references.arity=n=>n>=1;so.round=async function(n,e,r){const i=await r(n[0],e);if(i.type!=="number")return Ut;const o=i.data;let s=0;if(n.length===2){const a=await r(n[1],e);if(a.type!=="number"||a.data<0||!Number.isInteger(a.data))return Ut;s=a.data}return s===0?o<0?sf(-Math.round(-o)):sf(Math.round(o)):sf(Number(o.toFixed(s)))};so.round.arity=n=>n>=1&&n<=2;so.now=async function(n,e){return af(e.context.timestamp.toISOString())};so.now.arity=0;so.boost=async function(){throw new Error("unexpected boost call")};so.boost.arity=2;const Th={};Th.lower=async function(n,e,r){const i=await r(n[0],e);return i.type!=="string"?Ut:af(i.data.toLowerCase())};Th.lower.arity=1;Th.upper=async function(n,e,r){const i=await r(n[0],e);return i.type!=="string"?Ut:af(i.data.toUpperCase())};Th.upper.arity=1;Th.split=async function(n,e,r){const i=await r(n[0],e);if(i.type!=="string")return Ut;const o=await r(n[1],e);return o.type!=="string"?Ut:i.data.length===0?Vo([]):o.data.length===0?Vo(Array.from(i.data)):Vo(i.data.split(o.data))};Th.split.arity=2;so.lower=Th.lower;so.upper=Th.upper;Th.startsWith=async function(n,e,r){const i=await r(n[0],e);if(i.type!=="string")return Ut;const o=await r(n[1],e);return o.type!=="string"?Ut:i.data.startsWith(o.data)?sl:Ba};Th.startsWith.arity=2;const uw={};uw.join=async function(n,e,r){const i=await r(n[0],e);if(!i.isArray())return Ut;const o=await r(n[1],e);if(o.type!=="string")return Ut;let s="",a=!1;for await(const l of i){switch(a&&(s+=o.data),l.type){case"number":case"string":case"boolean":case"datetime":s+=`${l.data}`;break;default:return Ut}a=!0}return Vo(s)};uw.join.arity=2;uw.compact=async function(n,e,r){const i=await r(n[0],e);return i.isArray()?new j0(async function*(){for await(const o of i)o.type!=="null"&&(yield o)}):Ut};uw.compact.arity=1;uw.unique=async function(n,e,r){const i=await r(n[0],e);return i.isArray()?new j0(async function*(){const o=new Set;for await(const s of i)switch(s.type){case"number":case"string":case"boolean":case"datetime":o.has(s.data)||(o.add(s.data),yield s);break;default:yield s}}):Ut};uw.unique.arity=1;const Xre={};Xre.text=async function(n,e,r){const i=await r(n[0],e),o=await Jkn(i);return o===null?Ut:af(o)};Xre.text.arity=1;const Qre={};Qre.projectId=async function(n,e){return e.context.sanity?af(e.context.sanity.projectId):Ut};Qre.dataset=async function(n,e){return e.context.sanity?af(e.context.sanity.dataset):Ut};const OD={};OD.order=async function(n,e,r,i){if(await!0,!n.isArray())return Ut;const o=[],s=[];let a=0;for(let u of e){let f="asc";u.type==="Desc"?(f="desc",u=u.base):u.type==="Asc"&&(u=u.base),o.push(u),s.push(f),a++}const l=[];let c=0;for await(const u of n){const f=r.createNested(u),h=[await u.get(),c];for(let m=0;m<a;m++){const g=await i(o[m],f);h.push(await g.get())}l.push(h),c++}return l.sort((u,f)=>{for(let h=0;h<a;h++){let m=Gkn(u[h+2],f[h+2]);if(s[h]==="desc"&&(m=-m),m!==0)return m}return u[1]-f[1]}),Vo(l.map(u=>u[0]))};OD.order.arity=n=>n>=1;OD.score=async function(n,e,r,i){if(!n.isArray())return Ut;const o=[],s=[];for await(const a of n){if(a.type!=="object"){o.push(await a.get());continue}const l=r.createNested(a);let c=typeof a.data._score=="number"?a.data._score:0;for(const f of e)c+=await D_(f,l,i);const u=Object.assign({},a.data,{_score:c});s.push(u)}return s.sort((a,l)=>l._score-a._score),Vo(s)};OD.score.arity=n=>n>=1;const Vy={};Vy.operation=async function(n,e){const r=e.context.before!==null,i=e.context.after!==null;return r&&i?af("update"):i?af("create"):r?af("delete"):Ut};Vy.changedAny=()=>{throw new Error("not implemented")};Vy.changedAny.arity=1;Vy.changedAny.mode="delta";Vy.changedOnly=()=>{throw new Error("not implemented")};Vy.changedOnly.arity=1;Vy.changedOnly.mode="delta";const PD={};PD.changedAny=()=>{throw new Error("not implemented")};PD.changedAny.arity=3;PD.changedOnly=()=>{throw new Error("not implemented")};PD.changedOnly.arity=3;const ov={};ov.min=async function(n,e,r){const i=await r(n[0],e);if(!i.isArray())return Ut;let o;for await(const s of i)if(s.type!=="null"){if(s.type!=="number")return Ut;(o===void 0||s.data<o)&&(o=s.data)}return Vo(o)};ov.min.arity=1;ov.max=async function(n,e,r){const i=await r(n[0],e);if(!i.isArray())return Ut;let o;for await(const s of i)if(s.type!=="null"){if(s.type!=="number")return Ut;(o===void 0||s.data>o)&&(o=s.data)}return Vo(o)};ov.max.arity=1;ov.sum=async function(n,e,r){const i=await r(n[0],e);if(!i.isArray())return Ut;let o=0;for await(const s of i)if(s.type!=="null"){if(s.type!=="number")return Ut;o+=s.data}return Vo(o)};ov.sum.arity=1;ov.avg=async function(n,e,r){const i=await r(n[0],e);if(!i.isArray())return Ut;let o=0,s=0;for await(const a of i)if(a.type!=="null"){if(a.type!=="number")return Ut;o+=a.data,s++}return s===0?Ut:Vo(o/s)};ov.avg.arity=1;const Jre={};Jre.now=async function(n,e,r){return tY(new QC(e.context.timestamp))};Jre.now.arity=0;const nTn={global:so,string:Th,array:uw,pt:Xre,delta:Vy,diff:PD,sanity:Qre,math:ov,dateTime:Jre};var rTn=Object.defineProperty,iTn=(n,e,r)=>e in n?rTn(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,kk=(n,e,r)=>(iTn(n,typeof e!="symbol"?e+"":e,r),r);class oTn{constructor(e,r,i){kk(this,"string"),kk(this,"marks"),kk(this,"index"),kk(this,"parseOptions"),kk(this,"allowBoost",!1),this.string=e,this.marks=r,this.index=0,this.parseOptions=i}hasMark(e=0){return this.index+e<this.marks.length}getMark(e=0){return this.marks[this.index+e]}shift(){this.index+=1}process(e){const r=this.marks[this.index];this.shift();const i=e[r.name];if(!i)throw new Error(`Unknown handler: ${r.name}`);return i.call(e,this,r)}processString(){return this.shift(),this.processStringEnd()}processStringEnd(){const e=this.marks[this.index-1],r=this.marks[this.index];return this.shift(),this.string.slice(e.position,r.position)}slice(e){const r=this.marks[this.index].position;return this.string.slice(r,r+e)}}const sTn=/^([\t\n\v\f\r \u0085\u00A0]|(\/\/[^\n]*\n))+/,SV=/^\d+/,Pb=/^[a-zA-Z_][a-zA-Z_0-9]*/;function aTn(n){let e=0;e=_n(n,e);let r=Zi(n,e,0);return r.type==="error"?r:(e=_n(n,r.position),e!==n.length?(r.failPosition&&(e=r.failPosition-1),{type:"error",position:e}):(delete r.position,delete r.failPosition,r))}function Zi(n,e,r){let i=e,o=n[e],s;switch(o){case"+":{let u=Zi(n,_n(n,e+1),10);if(u.type==="error")return u;s=[{name:"pos",position:i}].concat(u.marks),e=u.position;break}case"-":{let u=Zi(n,_n(n,e+1),8);if(u.type==="error")return u;s=[{name:"neg",position:i}].concat(u.marks),e=u.position;break}case"(":{let u=Zi(n,_n(n,e+1),0);if(u.type==="error")return u;switch(e=_n(n,u.position),n[e]){case",":{for(s=[{name:"tuple",position:i}].concat(u.marks),e=_n(n,e+1);;){if(u=Zi(n,e,0),u.type==="error")return u;if(e=_n(n,u.position),n[e]!==",")break;e=_n(n,e+1)}if(n[e]!==")")return{type:"error",position:e};e++,s.push({name:"tuple_end",position:e});break}case")":{e++,s=[{name:"group",position:i}].concat(u.marks);break}default:return{type:"error",position:e}}break}case"!":{let u=Zi(n,_n(n,e+1),10);if(u.type==="error")return u;s=[{name:"not",position:i}].concat(u.marks),e=u.position;break}case"{":{let u=rY(n,e);if(u.type==="error")return u;s=u.marks,e=u.position;break}case"[":if(s=[{name:"array",position:e}],e=_n(n,e+1),n[e]!=="]")for(;;){n.slice(e,e+3)==="..."&&(s.push({name:"array_splat",position:e}),e=_n(n,e+3));let u=Zi(n,e,0);if(u.type==="error")return u;if(s=s.concat(u.marks),e=u.position,e=_n(n,e),n[e]!==","||(e=_n(n,e+1),n[e]==="]"))break}if(n[e]==="]")e++,s.push({name:"array_end",position:e});else return{type:"error",position:e};break;case"'":case'"':{let u=lTn(n,e);if(u.type==="error")return u;s=u.marks,e=u.position;break}case"^":{for(e++,s=[];n[e]==="."&&n[e+1]==="^";)s.push({name:"dblparent",position:i}),e+=2;s.push({name:"parent",position:i});break}case"@":s=[{name:"this",position:i}],e++;break;case"*":s=[{name:"everything",position:i}],e++;break;case"$":{let u=hp(n,e+1,Pb);u&&(e+=1+u,s=[{name:"param",position:i},{name:"ident",position:i+1},{name:"ident_end",position:e}]);break}default:{let u=hp(n,e,SV);if(u){e+=u;let h="integer";if(n[e]==="."){let m=hp(n,e+1,SV);m&&(h="float",e+=1+m)}if(n[e]==="e"||n[e]==="E"){h="sci",e++,(n[e]==="+"||n[e]==="-")&&e++;let m=hp(n,e,SV);if(!m)return{type:"error",position:e};e+=m}s=[{name:h,position:i},{name:h+"_end",position:e}];break}let f=hp(n,e,Pb);if(f){switch(e+=f,n[e]){case":":case"(":{let h=T1e(n,i,e);if(h.type==="error")return h;s=h.marks,e=h.position;break}default:s=[{name:"this_attr",position:i},{name:"ident",position:i},{name:"ident_end",position:e}]}break}}}if(!s)return{type:"error",position:e};let a=12,l;e:for(;;){let u=_n(n,e);if(u===n.length){e=u;break}if(l=k1e(n,u),l.type==="success"){for(s.unshift({name:"traverse",position:i});l.type==="success";)s=s.concat(l.marks),e=l.position,l=k1e(n,_n(n,e));s.push({name:"traversal_end",position:e});continue}switch(n[u]){case"=":{switch(n[u+1]){case">":{if(r>1||a<=1)break e;let f=Zi(n,_n(n,u+2),1);if(f.type==="error")return f;s=s.concat(f.marks),s.unshift({name:"pair",position:i}),e=f.position,a=1;break}case"=":{if(r>4||a<=4)break e;let f=Zi(n,_n(n,u+2),5);if(f.type==="error")return f;s.unshift({name:"comp",position:i}),s.push({name:"op",position:u},{name:"op_end",position:u+2}),s=s.concat(f.marks),e=f.position,a=4;break}default:break e}break}case"+":{if(r>6||a<6)break e;let f=Zi(n,_n(n,u+1),7);if(f.type==="error")return f;s=s.concat(f.marks),s.unshift({name:"add",position:i}),e=f.position,a=6;break}case"-":{if(r>6||a<6)break e;let f=Zi(n,_n(n,u+1),7);if(f.type==="error")return f;s=s.concat(f.marks),s.unshift({name:"sub",position:i}),e=f.position,a=6;break}case"*":{if(n[u+1]==="*"){if(r>8||a<=8)break e;let h=Zi(n,_n(n,u+2),8);if(h.type==="error")return h;s=s.concat(h.marks),s.unshift({name:"pow",position:i}),e=h.position,a=8;break}if(r>7||a<7)break e;let f=Zi(n,_n(n,u+1),8);if(f.type==="error")return f;s=s.concat(f.marks),s.unshift({name:"mul",position:i}),e=f.position,a=7;break}case"/":{if(r>7||a<7)break e;let f=Zi(n,_n(n,u+1),8);if(f.type==="error")return f;s=s.concat(f.marks),s.unshift({name:"div",position:i}),e=f.position,a=7;break}case"%":{if(r>7||a<7)break e;let f=Zi(n,_n(n,u+1),8);if(f.type==="error")return f;s=s.concat(f.marks),s.unshift({name:"mod",position:i}),e=f.position,a=7;break}case"<":case">":{if(r>4||a<=4)break e;let f=u+1;n[f]==="="&&f++;let h=Zi(n,_n(n,f),5);if(h.type==="error")return h;s.unshift({name:"comp",position:i}),s.push({name:"op",position:u},{name:"op_end",position:f}),s=s.concat(h.marks),e=h.position,a=4;break}case"|":{if(n[u+1]==="|"){if(r>2||a<2)break e;let f=Zi(n,_n(n,u+2),3);if(f.type==="error")return f;s=s.concat(f.marks),s.unshift({name:"or",position:i}),e=f.position,a=2}else{if(r>11||a<11)break e;let f=_n(n,u+1),h=hp(n,f,Pb);if(!h)return{type:"error",position:f};if(e=f+h,n[e]==="("||n[e]===":"){let m=T1e(n,f,e);if(m.type==="error")return m;s=s.concat(m.marks),s.unshift({name:"pipecall",position:i}),e=m.position,a=11}}break}case"&":{if(n[u+1]!="&"||r>3||a<3)break e;let f=Zi(n,_n(n,u+2),4);if(f.type==="error")return f;s=s.concat(f.marks),s.unshift({name:"and",position:i}),e=f.position,a=3;break}case"!":{if(n[u+1]!=="="||r>4||a<=4)break e;let f=Zi(n,_n(n,u+2),5);if(f.type==="error")return f;s.unshift({name:"comp",position:i}),s.push({name:"op",position:u},{name:"op_end",position:u+2}),s=s.concat(f.marks),e=f.position,a=4;break}case"d":{if(n.slice(u,u+4)!=="desc"||r>4||a<4)break e;s.unshift({name:"desc",position:i}),e=u+4,a=4;break}case"a":{if(n.slice(u,u+3)!=="asc"||r>4||a<4)break e;s.unshift({name:"asc",position:i}),e=u+3,a=4;break}default:switch(cTn(n,u,Pb)){case"in":{if(r>4||a<=4)break e;e=_n(n,u+2);let f=!1;n[e]==="("&&(f=!0,e=_n(n,e+1));let h=e,m=Zi(n,e,5);if(m.type==="error")return m;if(e=_n(n,m.position),n[e]==="."&&n[e+1]==="."){let g="inc_range";n[e+2]==="."?(g="exc_range",e=_n(n,e+3)):e=_n(n,e+2);let v=Zi(n,e,5);if(v.type==="error")return v;s.unshift({name:"in_range",position:i}),s=s.concat({name:g,position:h},m.marks,v.marks),e=v.position}else s.unshift({name:"comp",position:i}),s.push({name:"op",position:u},{name:"op_end",position:u+2}),s=s.concat(m.marks);if(f){if(e=_n(n,e),n[e]!==")")return{type:"error",position:e};e++}a=4;break}case"match":{if(r>4||a<=4)break e;let f=Zi(n,_n(n,u+5),5);if(f.type==="error")return f;s.unshift({name:"comp",position:i}),s.push({name:"op",position:u},{name:"op_end",position:u+5}),s=s.concat(f.marks),e=f.position,a=4;break}default:break e}}}let c=(l==null?void 0:l.type)==="error"&&l.position;return{type:"success",marks:s,position:e,failPosition:c}}function k1e(n,e){let r=e;switch(n[e]){case".":{e=_n(n,e+1);let a=e,l=hp(n,e,Pb);return l?(e+=l,{type:"success",marks:[{name:"attr_access",position:r},{name:"ident",position:a},{name:"ident_end",position:e}],position:e}):{type:"error",position:e}}case"-":if(n[e+1]!==">")return{type:"error",position:e};let i=[{name:"deref",position:r}];e+=2;let o=_n(n,e),s=hp(n,o,Pb);return s&&(e=o+s,i.push({name:"deref_attr",position:o},{name:"ident",position:o},{name:"ident_end",position:e})),{type:"success",marks:i,position:e};case"[":{if(e=_n(n,e+1),n[e]==="]")return{type:"success",marks:[{name:"array_postfix",position:r}],position:e+1};let a=e,l=Zi(n,e,0);if(l.type==="error")return l;if(e=_n(n,l.position),n[e]==="."&&n[e+1]==="."){let c="inc_range";n[e+2]==="."?(c="exc_range",e+=3):e+=2,e=_n(n,e);let u=Zi(n,e,0);return u.type==="error"?u:(e=_n(n,u.position),n[e]!=="]"?{type:"error",position:e}:{type:"success",marks:[{name:"slice",position:r},{name:c,position:a}].concat(l.marks,u.marks),position:e+1})}return n[e]!=="]"?{type:"error",position:e}:{type:"success",marks:[{name:"square_bracket",position:r}].concat(l.marks),position:e+1}}case"|":{if(e=_n(n,e+1),n[e]==="{"){let a=rY(n,e);return a.type==="error"||a.marks.unshift({name:"projection",position:r}),a}break}case"{":{let a=rY(n,e);return a.type==="error"||a.marks.unshift({name:"projection",position:r}),a}}return{type:"error",position:e}}function T1e(n,e,r){let i=[];if(i.push({name:"func_call",position:e}),n[r]===":"&&n[r+1]===":"){i.push({name:"namespace",position:e}),i.push({name:"ident",position:e},{name:"ident_end",position:r}),r=_n(n,r+2);let s=hp(n,r,Pb);if(!s)return{type:"error",position:r};if(i.push({name:"ident",position:r},{name:"ident_end",position:r+s}),r=_n(n,r+s),n[r]!=="(")return{type:"error",position:r};r++,r=_n(n,r)}else i.push({name:"ident",position:e},{name:"ident_end",position:r}),r=_n(n,r+1);let o=r;if(n[r]!==")")for(;;){let s=Zi(n,r,0);if(s.type==="error")return s;if(i=i.concat(s.marks),o=s.position,r=_n(n,s.position),n[r]!==","||(r=_n(n,r+1),n[r]===")"))break}return n[r]!==")"?{type:"error",position:r}:(i.push({name:"func_args_end",position:o}),{type:"success",marks:i,position:r+1})}function rY(n,e){let r=[{name:"object",position:e}];for(e=_n(n,e+1);n[e]!=="}";){let i=e;if(n.slice(e,e+3)==="...")if(e=_n(n,e+3),n[e]!=="}"&&n[e]!==","){let o=Zi(n,e,0);if(o.type==="error")return o;r.push({name:"object_splat",position:i}),r=r.concat(o.marks),e=o.position}else r.push({name:"object_splat_this",position:i});else{let o=Zi(n,e,0);if(o.type==="error")return o;let s=_n(n,o.position);if(o.marks[0].name==="str"&&n[s]===":"){let a=Zi(n,_n(n,s+1),0);if(a.type==="error")return a;r.push({name:"object_pair",position:i}),r=r.concat(o.marks,a.marks),e=a.position}else r=r.concat({name:"object_expr",position:e},o.marks),e=o.position}if(e=_n(n,e),n[e]!==",")break;e=_n(n,e+1)}return n[e]!=="}"?{type:"error",position:e}:(e++,r.push({name:"object_end",position:e}),{type:"success",marks:r,position:e})}function lTn(n,e){let r=n[e];e=e+1;const i=[{name:"str",position:e}];e:for(;;e++){if(e>n.length)return{type:"error",position:e};switch(n[e]){case r:{i.push({name:"str_end",position:e}),e++;break e}case"\\":i.push({name:"str_pause",position:e}),n[e+1]==="u"?n[e+2]==="{"?(i.push({name:"unicode_hex",position:e+3}),e=n.indexOf("}",e+3),i.push({name:"unicode_hex_end",position:e})):(i.push({name:"unicode_hex",position:e+2}),i.push({name:"unicode_hex_end",position:e+6}),e+=5):(i.push({name:"single_escape",position:e+1}),e+=1),i.push({name:"str_start",position:e+1})}}return{type:"success",marks:i,position:e}}function _n(n,e){return e+hp(n,e,sTn)}function hp(n,e,r){let i=r.exec(n.slice(e));return i?i[0].length:0}function cTn(n,e,r){let i=r.exec(n.slice(e));return i?i[0]:null}function Jd(n,e){return r=>e(n(r))}function iY(n){return e=>({type:"Map",base:e,expr:n({type:"This"})})}function uTn(n){return e=>({type:"FlatMap",base:e,expr:n({type:"This"})})}function XL(n,e){if(!e)return{type:"a-a",build:n};switch(e.type){case"a-a":return{type:"a-a",build:Jd(n,e.build)};case"a-b":return{type:"a-b",build:Jd(n,e.build)};case"b-b":return{type:"a-a",build:Jd(n,iY(e.build))};case"b-a":return{type:"a-a",build:Jd(n,uTn(e.build))};default:throw new Error(`unknown type: ${e.type}`)}}function kV(n,e){if(!e)return{type:"b-b",build:n};switch(e.type){case"a-a":case"b-a":return{type:"b-a",build:Jd(n,e.build)};case"a-b":case"b-b":return{type:"b-b",build:Jd(n,e.build)};default:throw new Error(`unknown type: ${e.type}`)}}function dTn(n,e){if(!e)return{type:"a-b",build:n};switch(e.type){case"a-a":case"b-a":return{type:"a-a",build:Jd(n,e.build)};case"a-b":case"b-b":return{type:"a-b",build:Jd(n,e.build)};default:throw new Error(`unknown type: ${e.type}`)}}function fTn(n,e){if(!e)return{type:"b-b",build:n};switch(e.type){case"a-a":return{type:"a-a",build:Jd(iY(n),e.build)};case"a-b":return{type:"a-b",build:Jd(iY(n),e.build)};case"b-a":return{type:"b-a",build:Jd(n,e.build)};case"b-b":return{type:"b-b",build:Jd(n,e.build)};default:throw new Error(`unknown type: ${e.type}`)}}var hTn=Object.defineProperty,pTn=(n,e,r)=>e in n?hTn(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,oY=(n,e,r)=>(pTn(n,typeof e!="symbol"?e+"":e,r),r);const mTn={"'":"'",'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function gTn(n){const e=parseInt(n,16);return String.fromCharCode(e)}class mc extends Error{constructor(){super(...arguments),oY(this,"name","GroqQueryError")}}const Fn={group(n){return{type:"Group",base:n.process(Fn)}},everything(){return{type:"Everything"}},this(){return{type:"This"}},parent(){return{type:"Parent",n:1}},dblparent(n){return{type:"Parent",n:n.process(Fn).n+1}},traverse(n){const e=n.process(Fn),r=[];for(;n.getMark().name!=="traversal_end";)r.push(n.process(GZe));n.shift();let i=null;for(let o=r.length-1;o>=0;o--)i=r[o](i);if((e.type==="Everything"||e.type==="Array"||e.type==="PipeFuncCall")&&(i=XL(o=>o,i)),i===null)throw new Error("BUG: unexpected empty traversal");return i.build(e)},this_attr(n){const e=n.processString();return e==="null"?{type:"Value",value:null}:e==="true"?{type:"Value",value:!0}:e==="false"?{type:"Value",value:!1}:{type:"AccessAttribute",name:e}},neg(n){return{type:"Neg",base:n.process(Fn)}},pos(n){return{type:"Pos",base:n.process(Fn)}},add(n){const e=n.process(Fn),r=n.process(Fn);return{type:"OpCall",op:"+",left:e,right:r}},sub(n){const e=n.process(Fn),r=n.process(Fn);return{type:"OpCall",op:"-",left:e,right:r}},mul(n){const e=n.process(Fn),r=n.process(Fn);return{type:"OpCall",op:"*",left:e,right:r}},div(n){const e=n.process(Fn),r=n.process(Fn);return{type:"OpCall",op:"/",left:e,right:r}},mod(n){const e=n.process(Fn),r=n.process(Fn);return{type:"OpCall",op:"%",left:e,right:r}},pow(n){const e=n.process(Fn),r=n.process(Fn);return{type:"OpCall",op:"**",left:e,right:r}},comp(n){const e=n.process(Fn),r=n.processString(),i=n.process(Fn);return{type:"OpCall",op:r,left:e,right:i}},in_range(n){const e=n.process(Fn),r=n.getMark().name==="inc_range";n.shift();const i=n.process(Fn),o=n.process(Fn);return{type:"InRange",base:e,left:i,right:o,isInclusive:r}},str(n){let e="";e:for(;n.hasMark();){const r=n.getMark();switch(r.name){case"str_end":e+=n.processStringEnd();break e;case"str_pause":e+=n.processStringEnd();break;case"str_start":n.shift();break;case"single_escape":{const i=n.slice(1);n.shift(),e+=mTn[i];break}case"unicode_hex":n.shift(),e+=gTn(n.processStringEnd());break;default:throw new Error(`unexpected mark: ${r.name}`)}}return{type:"Value",value:e}},integer(n){const e=n.processStringEnd();return{type:"Value",value:Number(e)}},float(n){const e=n.processStringEnd();return{type:"Value",value:Number(e)}},sci(n){const e=n.processStringEnd();return{type:"Value",value:Number(e)}},object(n){const e=[];for(;n.getMark().name!=="object_end";)e.push(n.process(vTn));return n.shift(),{type:"Object",attributes:e}},array(n){const e=[];for(;n.getMark().name!=="array_end";){let r=!1;n.getMark().name==="array_splat"&&(r=!0,n.shift());const i=n.process(Fn);e.push({type:"ArrayElement",value:i,isSplat:r})}return n.shift(),{type:"Array",elements:e}},tuple(n){const e=[];for(;n.getMark().name!=="tuple_end";)e.push(n.process(Fn));return n.shift(),{type:"Tuple",members:e}},func_call(n){let e="global";n.getMark().name==="namespace"&&(n.shift(),e=n.processString());const r=n.processString();if(e==="global"&&r==="select"){const a={type:"Select",alternatives:[]};for(;n.getMark().name!=="func_args_end";)if(n.getMark().name==="pair"){if(a.fallback)throw new mc("unexpected argument to select()");n.shift();const l=n.process(Fn),c=n.process(Fn);a.alternatives.push({type:"SelectAlternative",condition:l,value:c})}else{if(a.fallback)throw new mc("unexpected argument to select()");const l=n.process(Fn);a.fallback=l}return n.shift(),a}const i=[];for(;n.getMark().name!=="func_args_end";)yTn(e,r,i.length)?(n.process(sY),i.push({type:"Selector"})):i.push(n.process(Fn));if(n.shift(),e==="global"&&(r==="before"||r==="after")&&n.parseOptions.mode==="delta")return{type:"Context",key:r};if(e==="global"&&r==="boost"&&!n.allowBoost)throw new mc("unexpected boost");const o=nTn[e];if(!o)throw new mc(`Undefined namespace: ${e}`);const s=o[r];if(!s)throw new mc(`Undefined function: ${r}`);if(s.arity!==void 0&&A1e(r,s.arity,i.length),s.mode!==void 0&&s.mode!==n.parseOptions.mode)throw new mc(`Undefined function: ${r}`);return{type:"FuncCall",func:s,namespace:e,name:r,args:i}},pipecall(n){const e=n.process(Fn);n.shift();let r="global";if(n.getMark().name==="namespace"&&(n.shift(),r=n.processString()),r!=="global")throw new mc(`Undefined namespace: ${r}`);const i=n.processString(),o=[],s=n.allowBoost;for(i==="score"&&(n.allowBoost=!0);;){const l=n.getMark().name;if(l==="func_args_end")break;if(i==="order"){if(l==="asc"){n.shift(),o.push({type:"Asc",base:n.process(Fn)});continue}else if(l==="desc"){n.shift(),o.push({type:"Desc",base:n.process(Fn)});continue}}o.push(n.process(Fn))}n.shift(),n.allowBoost=s;const a=OD[i];if(!a)throw new mc(`Undefined pipe function: ${i}`);return a.arity&&A1e(i,a.arity,o.length),{type:"PipeFuncCall",func:a,base:e,name:i,args:o}},pair(n){throw new mc("unexpected =>")},and(n){const e=n.process(Fn),r=n.process(Fn);return{type:"And",left:e,right:r}},or(n){const e=n.process(Fn),r=n.process(Fn);return{type:"Or",left:e,right:r}},not(n){return{type:"Not",base:n.process(Fn)}},asc(n){throw new mc("unexpected asc")},desc(n){throw new mc("unexpected desc")},param(n){const e=n.processString();return n.parseOptions.params&&n.parseOptions.params.hasOwnProperty(e)?{type:"Value",value:n.parseOptions.params[e]}:{type:"Parameter",name:e}}},vTn={object_expr(n){if(n.getMark().name==="pair"){n.shift();const r=n.process(Fn),i=n.process(Fn);return{type:"ObjectConditionalSplat",condition:r,value:i}}const e=n.process(Fn);return{type:"ObjectAttributeValue",name:qZe(e),value:e}},object_pair(n){const e=n.process(Fn);if(e.type!=="Value")throw new Error("name must be string");const r=n.process(Fn);return{type:"ObjectAttributeValue",name:e.value,value:r}},object_splat(n){return{type:"ObjectSplat",value:n.process(Fn)}},object_splat_this(){return{type:"ObjectSplat",value:{type:"This"}}}},GZe={square_bracket(n){const e=n.process(Fn),r=CV(e);return r&&r.type==="number"?i=>dTn(o=>({type:"AccessElement",base:o,index:r.data}),i):r&&r.type==="string"?i=>kV(o=>({type:"AccessAttribute",base:o,name:r.data}),i):i=>XL(o=>({type:"Filter",base:o,expr:e}),i)},slice(n){const e=n.getMark().name==="inc_range";n.shift();const r=n.process(Fn),i=n.process(Fn),o=CV(r),s=CV(i);if(!o||!s||o.type!=="number"||s.type!=="number")throw new mc("slicing must use constant numbers");return a=>XL(l=>({type:"Slice",base:l,left:o.data,right:s.data,isInclusive:e}),a)},projection(n){const e=n.process(Fn);return r=>fTn(i=>({type:"Projection",base:i,expr:e}),r)},attr_access(n){const e=n.processString();return r=>kV(i=>({type:"AccessAttribute",base:i,name:e}),r)},deref(n){let e=null;n.getMark().name==="deref_attr"&&(n.shift(),e=n.processString());const r=i=>e?{type:"AccessAttribute",base:i,name:e}:i;return i=>kV(o=>r({type:"Deref",base:o}),i)},array_postfix(n){return e=>XL(r=>({type:"ArrayCoerce",base:r}),e)}},sY={group(n){return n.process(sY),null},everything(){throw new Error("Invalid selector syntax")},this(){throw new Error("Invalid selector syntax")},parent(){throw new Error("Invalid selector syntax")},dblparent(n){throw new Error("Invalid selector syntax")},traverse(n){for(n.process(sY);n.getMark().name!=="traversal_end";)n.process(GZe);return n.shift(),null},this_attr(n){return n.processString(),null},neg(n){throw new Error("Invalid selector syntax")},pos(n){throw new Error("Invalid selector syntax")},add(n){throw new Error("Invalid selector syntax")},sub(n){throw new Error("Invalid selector syntax")},mul(n){throw new Error("Invalid selector syntax")},div(n){throw new Error("Invalid selector syntax")},mod(n){throw new Error("Invalid selector syntax")},pow(n){throw new Error("Invalid selector syntax")},comp(n){throw new Error("Invalid selector syntax")},in_range(n){throw new Error("Invalid selector syntax")},str(n){throw new Error("Invalid selector syntax")},integer(n){throw new Error("Invalid selector syntax")},float(n){throw new Error("Invalid selector syntax")},sci(n){throw new Error("Invalid selector syntax")},object(n){throw new Error("Invalid selector syntax")},array(n){throw new Error("Invalid selector syntax")},tuple(n){throw new Error("Invalid selector syntax")},func_call(n,e){const r=Fn.func_call(n,e);if(r.name==="anywhere"&&r.args.length===1)return null;throw new Error("Invalid selector syntax")},pipecall(n){throw new Error("Invalid selector syntax")},pair(n){throw new Error("Invalid selector syntax")},and(n){throw new Error("Invalid selector syntax")},or(n){throw new Error("Invalid selector syntax")},not(n){throw new Error("Invalid selector syntax")},asc(n){throw new Error("Invalid selector syntax")},desc(n){throw new Error("Invalid selector syntax")},param(n){throw new Error("Invalid selector syntax")}};function qZe(n){if(n.type==="AccessAttribute"&&!n.base)return n.name;if(n.type==="Deref"||n.type==="Map"||n.type==="Projection"||n.type==="Slice"||n.type==="Filter"||n.type==="AccessElement"||n.type==="ArrayCoerce")return qZe(n.base);throw new mc(`Cannot determine property key for type: ${n.type}`)}function A1e(n,e,r){if(typeof e=="number"){if(r!==e)throw new mc(`Incorrect number of arguments to function ${n}(). Expected ${e}, got ${r}.`)}else if(e&&!e(r))throw new mc(`Incorrect number of arguments to function ${n}().`)}function yTn(n,e,r){const i=["changedAny","changedOnly"];return n=="diff"&&r==2&&i.includes(e)}class bTn extends Error{constructor(e){super(`Syntax error in GROQ query at position ${e}`),oY(this,"position"),oY(this,"name","GroqSyntaxError"),this.position=e}}function xTn(n,e={}){const r=aTn(n);if(r.type==="error")throw new bTn(r.position);return new oTn(n,r.marks,e).process(Fn)}function wTn(n,e=eyt){return r=>{const i=r;let o=null,s=null;const a=new ho,l=a.pipe(rd((c,u)=>c+u,0),gn(c=>c===0?Za(n,e).pipe(Si(()=>{o&&(o.unsubscribe(),o=null),s&&(s.unsubscribe(),s=null)})):!o&&c>0?Za(0,e).pipe(Si(()=>{o||(o=i.connect())})):DQ));return Uyt(()=>(s||(s=l.subscribe()),a.next(1),{unsubscribe:()=>a.next(-1)}),()=>r)}}const _Tn=["Value","Copy","Blank","ReturnIntoArray","ReturnIntoObject","ReturnIntoObjectSameKey","PushField","PushElement","PushParent","Pop","PushFieldCopy","PushFieldBlank","PushElementCopy","PushElementBlank","ReturnIntoObjectPop","ReturnIntoObjectSameKeyPop","ReturnIntoArrayPop","ObjectSetFieldValue","ObjectCopyField","ObjectDeleteField","ArrayAppendValue","ArrayAppendSlice","StringAppendString","StringAppendSlice"];class KZe{constructor(e,r,i){this.model=e,this.root=r,this.patch=i,this.i=0,this.inputStack=[],this.outputStack=[]}read(){return this.patch[this.i++]}process(){for(this.inputStack.push({value:this.root}),this.outputStack.push({value:this.root});this.i<this.patch.length;){let r=this.read(),i=_Tn[r];if(!i)throw new Error(`Unknown opcode: ${r}`);let o=`process${i}`;this[o].apply(this)}let e=this.outputStack.pop();return this.finalizeOutput(e)}inputEntry(){return this.inputStack[this.inputStack.length-1]}inputKey(e,r){return e.keys||(e.keys=this.model.objectGetKeys(e.value).sort()),e.keys[r]}outputEntry(){return this.outputStack[this.outputStack.length-1]}outputArray(){let e=this.outputEntry();return e.writeValue||(e.writeValue=this.model.copyArray(e.value)),e.writeValue}outputObject(){let e=this.outputEntry();return e.writeValue||(e.writeValue=this.model.copyObject(e.value)),e.writeValue}outputString(){let e=this.outputEntry();return e.writeValue||(e.writeValue=this.model.copyString(e.value)),e.writeValue}finalizeOutput(e){return e.writeValue?this.model.finalize(e.writeValue):e.value}processValue(){let e=this.model.wrap(this.read());this.outputStack.push({value:e})}processCopy(){let e=this.inputEntry();this.outputStack.push({value:e.value})}processBlank(){this.outputStack.push({value:null})}processReturnIntoArray(){let e=this.outputStack.pop(),r=this.finalizeOutput(e),i=this.outputArray();this.model.arrayAppendValue(i,r)}processReturnIntoObject(){let e=this.read(),r=this.outputStack.pop(),i=this.finalizeOutput(r);i=this.model.markChanged(i);let o=this.outputObject();this.model.objectSetField(o,e,i)}processReturnIntoObjectSameKey(){let e=this.inputEntry(),r=this.outputStack.pop(),i=this.finalizeOutput(r),o=this.outputObject();this.model.objectSetField(o,e.key,i)}processPushField(){let e=this.read(),r=this.inputEntry(),i=this.inputKey(r,e),o=this.model.objectGetField(r.value,i);this.inputStack.push({value:o,key:i})}processPushElement(){let e=this.read(),r=this.inputEntry(),i=this.model.arrayGetElement(r.value,e);this.inputStack.push({value:i})}processPop(){this.inputStack.pop()}processPushFieldCopy(){this.processPushField(),this.processCopy()}processPushFieldBlank(){this.processPushField(),this.processBlank()}processPushElementCopy(){this.processPushElement(),this.processCopy()}processPushElementBlank(){this.processPushElement(),this.processBlank()}processReturnIntoObjectPop(){this.processReturnIntoObject(),this.processPop()}processReturnIntoObjectSameKeyPop(){this.processReturnIntoObjectSameKey(),this.processPop()}processReturnIntoArrayPop(){this.processReturnIntoArray(),this.processPop()}processObjectSetFieldValue(){this.processValue(),this.processReturnIntoObject()}processObjectCopyField(){this.processPushField(),this.processCopy(),this.processReturnIntoObjectSameKey(),this.processPop()}processObjectDeleteField(){let e=this.read(),r=this.inputEntry(),i=this.inputKey(r,e),o=this.outputObject();this.model.objectDeleteField(o,i)}processArrayAppendValue(){let e=this.model.wrap(this.read()),r=this.outputArray();this.model.arrayAppendValue(r,e)}processArrayAppendSlice(){let e=this.read(),r=this.read(),i=this.outputArray(),o=this.inputEntry().value;this.model.arrayAppendSlice(i,o,e,r)}processStringAppendString(){let e=this.model.wrap(this.read()),r=this.outputString();this.model.stringAppendValue(r,e)}processStringAppendSlice(){let e=this.read(),r=this.read(),i=this.outputString(),o=this.inputEntry().value;this.model.stringAppendSlice(i,o,e,r)}}function jD(n){return n>>16?4:n>>11?3:n>>7?2:1}function aY(n){let e=0;for(let r=0;r<n.length;r++){let i=n.codePointAt(r),o=jD(i);o==4&&r++,e+=o}return e}function I1e(n,e,r=0){let i=r,o=0;for(o=r;i<e;o++){let s=n.codePointAt(o),a=jD(s);a===4&&o++,i+=a}return o}function ETn(n,e){let r=Math.min(n.length,e.length),i=0;for(let o=0;o<r;){let s=n.codePointAt(o),a=e.codePointAt(o);if(s!==a)return i;let l=jD(s);i+=l,o+=l===4?2:1}return i}function CTn(n,e,r=0){let i=Math.min(n.length,e.length)-r,o=0;for(let s=0;s<i;){let a=n.codePointAt(n.length-1-s),l=e.codePointAt(e.length-1-s);if(a!==l)return o;let c=jD(a);o+=c,s+=c===4?2:1}return o}class lY{constructor(e){this.meta=e}wrap(e){return this.wrapWithMeta(e,this.meta,this.meta)}wrapWithMeta(e,r,i=this.meta){return{data:e,startMeta:r,endMeta:i}}asObject(e){if(!e.content){let r={};for(let[i,o]of Object.entries(e.data))r[i]=this.wrapWithMeta(o,e.startMeta);e.content={type:"object",fields:r}}return e.content}asArray(e){if(!e.content){let r=e.data.map(o=>this.wrapWithMeta(o,e.startMeta)),i=r.map(()=>this.meta);e.content={type:"array",elements:r,metas:i}}return e.content}asString(e){if(!e.content){let r=e.data,i={value:r,utf8size:aY(r),uses:[],startMeta:e.startMeta,endMeta:e.endMeta};e.content=this.stringFromParts([i])}return e.content}stringFromParts(e){let r={type:"string",parts:e};for(let i of e)i.uses.push(r);return r}objectGetKeys(e){return e.content?Object.keys(e.content.fields):Object.keys(e.data)}objectGetField(e,r){return this.asObject(e).fields[r]}arrayGetElement(e,r){return this.asArray(e).elements[r]}finalize(e){return this.updateEndMeta(e),{content:e,startMeta:this.meta,endMeta:this.meta}}markChanged(e){return this.wrap(eg(e))}updateEndMeta(e){if(e.type=="string")for(let r of e.parts)r.endMeta=this.meta;else if(e.type==="array")for(let r of e.elements)r.content&&r.endMeta!==this.meta&&this.updateEndMeta(r.content),r.endMeta=this.meta;else for(let r of Object.values(e.fields))r.content&&r.endMeta!==this.meta&&this.updateEndMeta(r.content),r.endMeta=this.meta}copyString(e){if(e){let r=this.asString(e);return this.stringFromParts(r.parts.slice())}else return{type:"string",parts:[]}}copyObject(e){let r={type:"object",fields:{}};if(e){let i=this.asObject(e);Object.assign(r.fields,i.fields)}return r}copyArray(e){let r=e?this.asArray(e):null,i=r?r.elements:[],o=r?r.metas:[];return{type:"array",elements:i,metas:o}}objectSetField(e,r,i){e.fields[r]=i}objectDeleteField(e,r){delete e.fields[r]}arrayAppendValue(e,r){e.elements.push(r),e.metas.push(this.meta)}arrayAppendSlice(e,r,i,o){let s=this.asArray(r),a=s.elements.length===i;if(e.elements.push(...s.elements.slice(i,o)),a)e.metas.push(...s.metas.slice(i,o));else for(let l=i;l<o;l++)e.metas.push(this.meta)}stringAppendValue(e,r){let i=this.asString(r);for(let o of i.parts)this.stringAppendPart(e,o)}stringAppendPart(e,r){e.parts.push(r),r.uses.push(e)}resolveStringPart(e,r,i){if(i===0)return r;for(let o=r;o<e.parts.length;o++){let s=e.parts[o];if(i===s.utf8size)return o+1;if(i<s.utf8size)return this.splitString(s,i),o+1;i-=s.utf8size}throw new Error("splitting string out of bounds")}splitString(e,r){let i,o,s=r,a=e.utf8size-s;if(e.utf8size!==e.value.length){let c=0;for(r=0;c<s;r++){let u=e.value.codePointAt(r),f=jD(u);f===4&&r++,c+=f}}i=e.value.slice(0,r),o=e.value.slice(r);let l={value:o,utf8size:a,uses:e.uses.slice(),startMeta:e.startMeta,endMeta:e.endMeta};e.value=i,e.utf8size=s;for(let c of e.uses){let u=c.parts.indexOf(e);if(u===-1)throw new Error("bug: mismatch between string parts and use.");c.parts.splice(u+1,0,l)}}stringAppendSlice(e,r,i,o){let s=this.asString(r),a=this.resolveStringPart(s,0,i),l=this.resolveStringPart(s,a,o-i);for(let c=a;c<l;c++){let u=s.parts[c];this.stringAppendPart(e,u)}}}function STn(n,e){return{data:n,startMeta:e,endMeta:e}}function eg(n){if(typeof n.data<"u")return n.data;let e,r=n.content;switch(r.type){case"string":e=r.parts.map(i=>i.value).join("");break;case"array":e=r.elements.map(i=>eg(i));break;case"object":{e={};for(let[i,o]of Object.entries(r.fields))e[i]=eg(o)}}return n.data=e,e}function cY(n){return n.content?n.content.type:Array.isArray(n.data)?"array":n.data===null?"null":typeof n.data}function uY(n,e){let r=cY(n),i=cY(e);if(r!==i)return e;let o=new lY(n.endMeta),s=new lY(e.endMeta);switch(r){case"object":{let a=o.asObject(n),l=s.asObject(e),c=0,u=Object.keys(a.fields).length,f=Object.keys(l.fields).length;for(let[h,m]of Object.entries(l.fields)){let g=a.fields[h];g&&(l.fields[h]=uY(g,m),l.fields[h]===g&&c++)}return u===f&&u===c?n:e}case"array":{let a=o.asArray(n),l=s.asArray(e);if(a.elements.length!==l.elements.length)break;let c=0;for(let u=0;u<l.elements.length;u++)l.elements[u]=uY(a.elements[u],l.elements[u]),l.elements[u]!==a.elements[u]&&c++;return c===0?n:e}case"null":case"boolean":case"number":{if(eg(n)===eg(e))return n;break}case"string":{let a=eg(n),l=eg(e);if(a===l)return n;let c=s.copyString(null),u=ETn(a,l),f=CTn(a,l,u),h=aY(l),m=aY(a);0<u&&s.stringAppendSlice(c,n,0,u),u<h-f&&s.stringAppendSlice(c,e,u,h-f),m-f<m&&s.stringAppendSlice(c,n,m-f,m);let g=s.finalize(c);if(eg(g)!==l)throw new Error("incorrect string rebase");return g}}return e}function kTn(n,e,r){let i=new lY(r);return new KZe(i,n,e).process()}var Mf=Object.freeze({__proto__:null,applyPatch:kTn,getType:cY,rebaseValue:uY,unwrap:eg,wrap:STn});class TTn{wrap(e){return e}finalize(e){return Array.isArray(e)?e:e.data}markChanged(e){return e}objectGetKeys(e){return Object.keys(e)}objectGetField(e,r){return e[r]}arrayGetElement(e,r){return e[r]}copyObject(e){let r={type:"object",data:{}};if(e!==null)for(let[i,o]of Object.entries(e))r.data[i]=o;return r}copyArray(e){return e===null?[]:e.slice()}copyString(e){return{type:"string",data:e===null?"":e}}objectSetField(e,r,i){e.data[r]=i}objectDeleteField(e,r){delete e.data[r]}arrayAppendValue(e,r){e.push(r)}arrayAppendSlice(e,r,i,o){e.push(...r.slice(i,o))}stringAppendSlice(e,r,i,o){const s=r,a=I1e(s,i),l=I1e(s,o,a);e.data+=s.slice(a,l)}stringAppendValue(e,r){e.data+=r}}function FF(n,e){let r=n;return new KZe(new TTn,r,e).process()}function Hy(n,e,r){return delete n[e],n[e]=r,r}function ATn(n,e){const r=ITn(n,e);return DTn(r,n,e)}function ITn(n,e){const r=n.length,i=e.length;let o=0,s=0;const a=new Array(r+1);for(o=0;o<r+1;o++)for(a[o]=[i+1],s=0;s<i+1;s++)a[o][s]=0;for(o=1;o<r+1;o++)for(s=1;s<i+1;s++)n[o-1]===e[s-1]?a[o][s]=a[o-1][s-1]+1:a[o][s]=Math.max(a[o-1][s],a[o][s-1]);return a}function DTn(n,e,r){let i=e.length,o=r.length;const s={sequence:[],prevIndices:[],nextIndices:[]};for(;i!==0&&o!==0;)if(e[i-1]===r[o-1])s.sequence.unshift(e[i-1]),s.prevIndices.unshift(i-1),s.nextIndices.unshift(o-1),--i,--o;else{const l=n[i][o-1],c=n[i-1][o];l>c?--o:--i}return s}function RTn(n,e,r){if(n===e){const a=n.value,l=e.value;return{type:"array",action:"unchanged",isChanged:!1,fromValue:a,toValue:l,get items(){const c=D1e(n,e);if(!c)throw new Error("invariant broken: equivalent input, but diff detected");return Hy(this,"items",c)}}}const i=O1e(n),o=O1e(e);if(i&&o)return PTn(n,i,e,o);const s=D1e(n,e);return s?eie(n,e,s,!1):OTn(n,e)}function eie(n,e,r,i){const o=n.value,s=e.value;return i?{type:"array",action:"changed",isChanged:!0,fromValue:o,toValue:s,items:r,annotation:e.annotation}:{type:"array",action:"unchanged",isChanged:!1,fromValue:o,toValue:s,items:r}}function D1e(n,e,r){if(n.length!==e.length)return;const i=[];for(let o=0;o<n.length;o++){const s=xN(n.at(o),e.at(o));if(s.isChanged)return;i.push({fromIndex:o,toIndex:o,hasMoved:!1,diff:s,annotation:e.annotationAt(o)})}return i}function OTn(n,e,r){const i=[];for(let o=0;o<e.length;o++){const s=e.at(o);i.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:fw(s,void 0),annotation:s.annotation})}for(let o=0;o<n.length;o++){const s=n.at(o);i.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:dw(s,void 0),annotation:s.annotation})}return eie(n,e,i,!0)}function PTn(n,e,r,i,o){const s=[];let a=!1;function l(u,f,h,m){R1e(e.index,u,f),R1e(i.index,u,h);const g=n.at(f),v=r.at(h),y=xN(g,v);s.push({fromIndex:f,toIndex:h,hasMoved:m,diff:y,annotation:r.annotationAt(h)}),(y.isChanged||f!==h)&&(a=!0)}const c=ATn(e.keys,i.keys);for(let u=0;u<e.keys.length;u++){const f=e.keys[u],h=c.prevIndices.indexOf(u);if(h!==-1){l(f,u,c.nextIndices[h],!1);continue}const m=i.index.get(f),g=m&&m.find(y=>!c.nextIndices.includes(y));if(g!==void 0){l(f,u,g,!0);continue}const v=n.at(u);s.push({fromIndex:u,toIndex:void 0,hasMoved:!1,diff:dw(v,void 0),annotation:n.annotationAt(u)}),a=!0}for(const u of i.index.values()){for(const f of u){const h=r.at(f);s.push({fromIndex:void 0,toIndex:f,hasMoved:!1,diff:fw(h,void 0),annotation:r.annotationAt(f)})}a=!0}return s.sort(jTn),eie(n,r,s,a)}function jTn(n,e){if(n.toIndex!==void 0&&e.toIndex!==void 0)return n.toIndex-e.toIndex;if(n.fromIndex!==void 0&&e.fromIndex!==void 0)return n.fromIndex-e.fromIndex;if(n.fromIndex!==void 0&&e.toIndex!==void 0)return-1;if(n.toIndex!==void 0&&e.fromIndex!==void 0)return 1;throw new Error("invalid item diff comparison")}function R1e(n,e,r){const i=n.get(e);LTn(i,r),i.length===0&&n.delete(e)}function LTn(n,e){const r=n.indexOf(e);if(r===-1)throw new Error("value not found");n.splice(r,1)}function O1e(n){const e=new Map,r=[],i=n.length;for(let o=0;o<i;o++){const s=n.at(o);let a=null;switch(s.type){case"string":a="s".concat(s.value);break;case"number":a=s.value;break;case"boolean":a=s.value;break;case"null":a="n";break;case"object":{const c=s.get("_key");if(c&&c.type==="string"&&(a="k".concat(c.value),e.has(a)))return}break}if(a===null)return;r.push(a);let l=e.get(a);l||(l=[],e.set(a,l)),l.push(o)}return{keys:r,index:e}}function $Tn(n,e,r){return{type:"array",action:"removed",isChanged:!0,fromValue:n.value,toValue:e,annotation:n.annotation,get items(){const i=[];for(let o=0;o<n.length;o++){const s=n.at(o);i.push({fromIndex:o,toIndex:void 0,hasMoved:!1,diff:dw(s,void 0),annotation:n.annotationAt(o)})}return Hy(this,"items",i)}}}function MTn(n,e,r){return{type:"array",action:"added",isChanged:!0,fromValue:e,toValue:n.value,annotation:n.annotation,get items(){const i=[];for(let o=0;o<n.length;o++){const s=n.at(o);i.push({fromIndex:void 0,toIndex:o,hasMoved:!1,diff:fw(s,void 0),annotation:n.annotationAt(o)})}return Hy(this,"items",i)}}}const P1e=new Set(["_id","_type","_createdAt","_updatedAt","_rev","_weak"]);function FTn(n,e,r){const i={};let o=!1;for(const l of n.keys){if(P1e.has(l))continue;const c=n.get(l),u=e.get(l);if(u){const f=xN(c,u);i[l]=f,f.isChanged&&(o=!0)}else i[l]=dw(c,void 0),o=!0}for(const l of e.keys){if(P1e.has(l)||n.get(l))continue;const c=e.get(l);i[l]=fw(c,void 0),o=!0}const s=n.value,a=e.value;return o?{type:"object",action:"changed",isChanged:!0,fromValue:s,toValue:a,fields:i,annotation:e.annotation}:{type:"object",action:"unchanged",isChanged:!1,fromValue:s,toValue:a,fields:i}}function NTn(n,e,r){return{type:"object",action:"removed",isChanged:!0,fromValue:n.value,toValue:e,annotation:n.annotation,get fields(){const i={};for(const o of n.keys){const s=n.get(o);i[o]=dw(s,void 0)}return Hy(this,"fields",i)}}}function BTn(n,e,r){return{type:"object",action:"added",isChanged:!0,fromValue:e,toValue:n.value,annotation:n.annotation,get fields(){const i={};for(const o of n.keys){const s=n.get(o);i[o]=fw(s,void 0)}return Hy(this,"fields",i)}}}function UTn(n,e,r){const i=n.value,o=e.value,s=n.type;return i===o?{type:s,action:"unchanged",fromValue:i,toValue:o,isChanged:!1}:{type:n.type,action:"changed",isChanged:!0,fromValue:i,toValue:o,annotation:e.annotation}}function zTn(n,e,r){const i=n.value,o=e.value,s=n.type;return i===o?{type:s,action:"unchanged",fromValue:i,toValue:o,isChanged:!1}:{type:n.type,action:"changed",isChanged:!0,fromValue:i,toValue:o,annotation:e.annotation}}function VTn(n,e,r){const i=n.value,o=e.value;return i===o?{type:"string",action:"unchanged",isChanged:!1,fromValue:i,toValue:o,segments:[{type:"stringSegment",action:"unchanged",text:i}]}:{type:"string",action:"changed",isChanged:!0,fromValue:i,toValue:o,annotation:e.annotation,get segments(){const s=HTn(n,e);return Hy(this,"segments",s)}}}function HTn(n,e){const r=[],i=Gne(NS(n.value,e.value));let o=0,s=0;for(const[a,l]of i)switch(a){case ar:r.push({type:"stringSegment",action:"unchanged",text:l}),o+=l.length,s+=l.length;break;case zi:for(const c of n.sliceAnnotation(o,o+l.length))r.push({type:"stringSegment",action:"removed",text:c.text,annotation:c.annotation});o+=l.length;break;case po:for(const c of e.sliceAnnotation(s,s+l.length))r.push({type:"stringSegment",action:"added",text:c.text,annotation:c.annotation});s+=l.length;break;default:throw new Error('Unhandled diff-match-patch operation "'.concat(a,'"'))}return r}function WTn(n,e,r){return{type:"string",action:"removed",isChanged:!0,fromValue:n.value,toValue:e,annotation:n.annotation,get segments(){const i=n.sliceAnnotation(0,n.value.length).map(o=>({type:"stringSegment",action:"removed",...o}));return Hy(this,"segments",i)}}}function GTn(n,e,r){return{type:"string",action:"added",isChanged:!0,fromValue:e,toValue:n.value,annotation:n.annotation,get segments(){const i=n.sliceAnnotation(0,n.value.length).map(o=>({type:"stringSegment",action:"added",...o}));return Hy(this,"segments",i)}}}function qTn(n,e,r){return{type:"typeChange",action:"changed",isChanged:!0,fromType:n.type,fromValue:n.value,fromDiff:dw(n,void 0),toType:e.type,toValue:e.value,toDiff:fw(e,void 0),annotation:e.annotation}}function xN(n,e){return n.type!==e.type?n.type==="null"?fw(e,null):e.type==="null"?dw(n,null):qTn(n,e):KTn(n.type,n,e)}function KTn(n,e,r,i){switch(n){case"null":return{type:"null",action:"unchanged",isChanged:!1,toValue:null,fromValue:null};case"boolean":return zTn(e,r);case"number":return UTn(e,r);case"string":return VTn(e,r);case"array":return RTn(e,r);case"object":return FTn(e,r);default:throw new Error('Unhandled diff type "'.concat(n,'"'))}}function dw(n,e,r){switch(n.type){case"null":return{type:"null",action:"removed",isChanged:!0,fromValue:null,toValue:e,annotation:n.annotation};case"boolean":return{type:"boolean",action:"removed",isChanged:!0,fromValue:n.value,toValue:e,annotation:n.annotation};case"number":return{type:"number",action:"removed",isChanged:!0,fromValue:n.value,toValue:e,annotation:n.annotation};case"string":return WTn(n,e);case"array":return $Tn(n,e);case"object":return NTn(n,e);default:throw new Error("Unhandled diff type")}}function fw(n,e,r){switch(n.type){case"null":return{type:"null",action:"added",isChanged:!0,fromValue:e,toValue:null,annotation:n.annotation};case"boolean":return{type:"boolean",action:"added",isChanged:!0,fromValue:e,toValue:n.value,annotation:n.annotation};case"number":return{type:"number",action:"added",isChanged:!0,fromValue:e,toValue:n.value,annotation:n.annotation};case"string":return GTn(n,e);case"array":return MTn(n,e);case"object":return BTn(n,e);default:throw new Error("Unhandled diff type")}}class YTn{constructor(e,r){this.type="array",this.elements=[],this.annotation=r,this.value=e,this.length=e.length}at(e){if(e>=this.length)throw new Error("out of bounds");const r=this.elements[e];return r||(this.elements[e]=tie(this.value[e],this.annotation))}annotationAt(){return this.annotation}}class TV{constructor(e,r,i){this.type=e,this.value=r,this.annotation=i}}class ZTn{constructor(e,r){this.type="object",this.fields={},this.value=e,this.annotation=r,this.keys=Object.keys(e)}get(e){const r=this.fields[e];if(r)return r;if(!this.value.hasOwnProperty(e))return;const i=this.value[e];return this.fields[e]=tie(i,this.annotation)}}let XTn=class{constructor(e,r){this.type="string",this.value=e,this.annotation=r}sliceAnnotation(e,r){return[{text:this.value.slice(e,r),annotation:this.annotation}]}};function tie(n,e){if(Array.isArray(n))return new YTn(n,e);if(n===null)return new TV("null",n,e);const r=typeof n;switch(r){case"number":return new TV(r,n,e);case"boolean":return new TV(r,n,e);case"object":return new ZTn(n,e);case"string":return new XTn(n,e);default:throw new Error("cannot wrap value of type: ".concat(r))}}var QTn=Math.floor,JTn=Math.random;function eAn(n,e){return n+QTn(JTn()*(e-n+1))}var tAn=eAn,nAn=tAn;function rAn(n){var e=n.length;return e?n[nAn(0,e-1)]:void 0}var YZe=rAn,iAn=YZe,oAn=$Ze;function sAn(n){return iAn(oAn(n))}var aAn=sAn,lAn=YZe,cAn=aAn,uAn=Gs;function dAn(n){var e=uAn(n)?lAn:cAn;return e(n)}var fAn=dAn;const hAn=Tt(fAn);var wN={exports:{}},kT={exports:{}};(function(){var n,e,r,i,o,s;typeof performance<"u"&&performance!==null&&performance.now?kT.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(kT.exports=function(){return(n()-o)/1e6},e=process.hrtime,n=function(){var a;return a=e(),a[0]*1e9+a[1]},i=n(),s=process.uptime()*1e9,o=i-s):Date.now?(kT.exports=function(){return Date.now()-r},r=Date.now()):(kT.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(_a);var pAn=kT.exports,mAn=pAn,wg=typeof window>"u"?_a:window,RP=["moz","webkit"],sC="AnimationFrame",eS=wg["request"+sC],X5=wg["cancel"+sC]||wg["cancelRequest"+sC];for(var Tk=0;!eS&&Tk<RP.length;Tk++)eS=wg[RP[Tk]+"Request"+sC],X5=wg[RP[Tk]+"Cancel"+sC]||wg[RP[Tk]+"CancelRequest"+sC];if(!eS||!X5){var AV=0,j1e=0,b1=[],gAn=1e3/60;eS=function(n){if(b1.length===0){var e=mAn(),r=Math.max(0,gAn-(e-AV));AV=r+e,setTimeout(function(){var i=b1.slice(0);b1.length=0;for(var o=0;o<i.length;o++)if(!i[o].cancelled)try{i[o].callback(AV)}catch(s){setTimeout(function(){throw s},0)}},Math.round(r))}return b1.push({handle:++j1e,callback:n,cancelled:!1}),j1e},X5=function(n){for(var e=0;e<b1.length;e++)b1[e].handle===n&&(b1[e].cancelled=!0)}}wN.exports=function(n){return eS.call(wg,n)};wN.exports.cancel=function(){X5.apply(wg,arguments)};wN.exports.polyfill=function(n){n||(n=wg),n.requestAnimationFrame=eS,n.cancelAnimationFrame=X5};var vAn=wN.exports;const yAn=Tt(vAn);function NA(n,e,r){return Math.min(Math.max(n,r),e)}class bAn extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var TT=bAn;function ZZe(n){if(typeof n!="string")throw new TT(n);if(n.trim().toLowerCase()==="transparent")return[0,0,0,0];let e=n.trim();e=TAn.test(n)?_An(n):n;const r=EAn.exec(e);if(r){const a=Array.from(r).slice(1);return[...a.slice(0,3).map(l=>parseInt(Q5(l,2),16)),parseInt(Q5(a[3]||"f",2),16)/255]}const i=CAn.exec(e);if(i){const a=Array.from(i).slice(1);return[...a.slice(0,3).map(l=>parseInt(l,16)),parseInt(a[3]||"ff",16)/255]}const o=SAn.exec(e);if(o){const a=Array.from(o).slice(1);return[...a.slice(0,3).map(l=>parseInt(l,10)),parseFloat(a[3]||"1")]}const s=kAn.exec(e);if(s){const[a,l,c,u]=Array.from(s).slice(1).map(parseFloat);if(NA(0,100,l)!==l)throw new TT(n);if(NA(0,100,c)!==c)throw new TT(n);return[...AAn(a,l,c),Number.isNaN(u)?1:u]}throw new TT(n)}function xAn(n){let e=5381,r=n.length;for(;r;)e=e*33^n.charCodeAt(--r);return(e>>>0)%2341}const L1e=n=>parseInt(n.replace(/_/g,""),36),wAn="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((n,e)=>{const r=L1e(e.substring(0,3)),i=L1e(e.substring(3)).toString(16);let o="";for(let s=0;s<6-i.length;s++)o+="0";return n[r]=`${o}${i}`,n},{});function _An(n){const e=n.toLowerCase().trim(),r=wAn[xAn(e)];if(!r)throw new TT(n);return`#${r}`}const Q5=(n,e)=>Array.from(Array(e)).map(()=>n).join(""),EAn=new RegExp(`^#${Q5("([a-f0-9])",3)}([a-f0-9])?$`,"i"),CAn=new RegExp(`^#${Q5("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),SAn=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Q5(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),kAn=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,TAn=/^[a-z]+$/i,$1e=n=>Math.round(n*255),AAn=(n,e,r)=>{let i=r/100;if(e===0)return[i,i,i].map($1e);const o=(n%360+360)%360/60,s=(1-Math.abs(2*i-1))*(e/100),a=s*(1-Math.abs(o%2-1));let l=0,c=0,u=0;o>=0&&o<1?(l=s,c=a):o>=1&&o<2?(l=a,c=s):o>=2&&o<3?(c=s,u=a):o>=3&&o<4?(c=a,u=s):o>=4&&o<5?(l=a,u=s):o>=5&&o<6&&(l=s,u=a);const f=i-s/2,h=l+f,m=c+f,g=u+f;return[h,m,g].map($1e)};function IAn(n){const[e,r,i,o]=ZZe(n).map((h,m)=>m===3?h:h/255),s=Math.max(e,r,i),a=Math.min(e,r,i),l=(s+a)/2;if(s===a)return[0,0,l,o];const c=s-a,u=l>.5?c/(2-s-a):c/(s+a);return[60*(e===s?(r-i)/c+(r<i?6:0):r===s?(i-e)/c+2:(e-r)/c+4),u,l,o]}function DAn(n,e,r,i){return`hsla(${(n%360).toFixed()}, ${NA(0,100,e*100).toFixed()}%, ${NA(0,100,r*100).toFixed()}%, ${parseFloat(NA(0,1,i).toFixed(3))})`}function XZe(n,e){const[r,i,o,s]=IAn(n);return DAn(r,i,o-e,s)}function dY(n){if(n==="transparent")return 0;function e(s){const a=s/255;return a<=.04045?a/12.92:Math.pow((a+.055)/1.055,2.4)}const[r,i,o]=ZZe(n);return .2126*e(r)+.7152*e(i)+.0722*e(o)}function RAn(n,e){const r=dY(n),i=dY(e);return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const OAn={decorative:1.5,readable:3,aa:4.5,aaa:7};function M1e(n,e="aa",r="#fff"){return RAn(n,r)<OAn[e]}function PAn(n,e){return XZe(n,-e)}function jAn(n){return dY(n)>.179}function LAn(n){return jAn(n)?"#000":"#fff"}var QZe,F1e=Kd;QZe=F1e.createRoot,F1e.hydrateRoot;var $An=nie;nie.displayName="bash";nie.aliases=["shell"];function nie(n){(function(e){var r="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",i={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},o={bash:i,environment:{pattern:RegExp("\\$"+r),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+r),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+r),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:o},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:i}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:o},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:o.entity}}],environment:{pattern:RegExp("\\$?"+r),alias:"constant"},variable:o.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},i.inside=e.languages.bash;for(var s=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],a=o.variable[1].inside,l=0;l<s.length;l++)a[s[l]]=e.languages.bash[s[l]];e.languages.shell=e.languages.bash})(n)}const MAn=Tt($An);var FAn=rie;rie.displayName="json";rie.aliases=["webmanifest"];function rie(n){n.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},n.languages.webmanifest=n.languages.json}const NAn=Tt(FAn);var BAn=iie;iie.displayName="jsx";iie.aliases=[];function iie(n){(function(e){var r=e.util.clone(e.languages.javascript),i=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,o=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,s=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function a(u,f){return u=u.replace(/<S>/g,function(){return i}).replace(/<BRACES>/g,function(){return o}).replace(/<SPREAD>/g,function(){return s}),RegExp(u,f)}s=a(s).source,e.languages.jsx=e.languages.extend("markup",r),e.languages.jsx.tag.pattern=a(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),e.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,e.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,e.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,e.languages.jsx.tag.inside.comment=r.comment,e.languages.insertBefore("inside","attr-name",{spread:{pattern:a(/<SPREAD>/.source),inside:e.languages.jsx}},e.languages.jsx.tag),e.languages.insertBefore("inside","special-attr",{script:{pattern:a(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:e.languages.jsx}}},e.languages.jsx.tag);var l=function(u){return u?typeof u=="string"?u:typeof u.content=="string"?u.content:u.content.map(l).join(""):""},c=function(u){for(var f=[],h=0;h<u.length;h++){var m=u[h],g=!1;if(typeof m!="string"&&(m.type==="tag"&&m.content[0]&&m.content[0].type==="tag"?m.content[0].content[0].content==="</"?f.length>0&&f[f.length-1].tagName===l(m.content[0].content[1])&&f.pop():m.content[m.content.length-1].content==="/>"||f.push({tagName:l(m.content[0].content[1]),openedBraces:0}):f.length>0&&m.type==="punctuation"&&m.content==="{"?f[f.length-1].openedBraces++:f.length>0&&f[f.length-1].openedBraces>0&&m.type==="punctuation"&&m.content==="}"?f[f.length-1].openedBraces--:g=!0),(g||typeof m=="string")&&f.length>0&&f[f.length-1].openedBraces===0){var v=l(m);h<u.length-1&&(typeof u[h+1]=="string"||u[h+1].type==="plain-text")&&(v+=l(u[h+1]),u.splice(h+1,1)),h>0&&(typeof u[h-1]=="string"||u[h-1].type==="plain-text")&&(v=l(u[h-1])+v,u.splice(h-1,1),h--),u[h]=new e.Token("plain-text",v,null,v)}m.content&&typeof m.content!="string"&&c(m.content)}};e.hooks.add("after-tokenize",function(u){u.language!=="jsx"&&u.language!=="tsx"||c(u.tokens)})})(n)}const UAn=Tt(BAn);var zAn=oie;oie.displayName="typescript";oie.aliases=["ts"];function oie(n){(function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"];var r=e.languages.extend("typescript",{});delete r["class-name"],e.languages.typescript["class-name"].inside=r,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:r}}}}),e.languages.ts=e.languages.typescript})(n)}const VAn=Tt(zAn);function N1e(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function B1e(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N1e(Object(r),!0).forEach(function(i){HAn(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):N1e(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function HAn(n,e,r){return e=WAn(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function WAn(n){var e=GAn(n,"string");return typeof e=="symbol"?e:String(e)}function GAn(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function J5(n){return n._type==="span"&&"text"in n&&typeof n.text=="string"&&(typeof n.marks>"u"||Array.isArray(n.marks)&&n.marks.every(e=>typeof e=="string"))}function sie(n){return typeof n._type=="string"&&n._type[0]!=="@"&&(!("markDefs"in n)||!n.markDefs||Array.isArray(n.markDefs)&&n.markDefs.every(e=>typeof e._key=="string"))&&"children"in n&&Array.isArray(n.children)&&n.children.every(e=>typeof e=="object"&&"_type"in e)}function JZe(n){return sie(n)&&"listItem"in n&&typeof n.listItem=="string"&&(typeof n.level>"u"||typeof n.level=="number")}function eXe(n){return n._type==="@list"}function tXe(n){return n._type==="@span"}function nXe(n){return n._type==="@text"}const U1e=["strong","em","code","underline","strike-through"];function qAn(n,e,r){if(!J5(n)||!n.marks)return[];if(!n.marks.length)return[];const i=n.marks.slice(),o={};return i.forEach(s=>{o[s]=1;for(let a=e+1;a<r.length;a++){const l=r[a];if(l&&J5(l)&&Array.isArray(l.marks)&&l.marks.indexOf(s)!==-1)o[s]++;else break}}),i.sort((s,a)=>KAn(o,s,a))}function KAn(n,e,r){const i=n[e],o=n[r];if(i!==o)return o-i;const s=U1e.indexOf(e),a=U1e.indexOf(r);return s!==a?s-a:e.localeCompare(r)}function YAn(n){var e;const{children:r,markDefs:i=[]}=n;if(!r||!r.length)return[];const o=r.map(qAn),s={_type:"@span",children:[],markType:"<unknown>"};let a=[s];for(let l=0;l<r.length;l++){const c=r[l];if(!c)continue;const u=o[l]||[];let f=1;if(a.length>1)for(f;f<a.length;f++){const m=((e=a[f])==null?void 0:e.markKey)||"",g=u.indexOf(m);if(g===-1)break;u.splice(g,1)}a=a.slice(0,f);let h=a[a.length-1];if(h){for(const m of u){const g=i.find(b=>b._key===m),v=g?g._type:m,y={_type:"@span",_key:c._key,children:[],markDef:g,markType:v,markKey:m};h.children.push(y),a.push(y),h=y}if(J5(c)){const m=c.text.split(`
`);for(let g=m.length;g-- >1;)m.splice(g,0,`
`);h.children=h.children.concat(m.map(g=>({_type:"@text",text:g})))}else h.children=h.children.concat(c)}}return s.children}function ZAn(n,e){const r=[];let i;for(let o=0;o<n.length;o++){const s=n[o];if(s){if(!JZe(s)){r.push(s),i=void 0;continue}if(!i){i=OP(s,o,e),r.push(i);continue}if(XAn(s,i)){i.children.push(s);continue}if((s.level||1)>i.level){const a=OP(s,o,e);if(e==="html"){const l=i.children[i.children.length-1],c=B1e(B1e({},l),{},{children:[...l.children,a]});i.children[i.children.length-1]=c}else i.children.push(a);i=a;continue}if((s.level||1)<i.level){const a=r[r.length-1],l=a&&fY(a,s);if(l){i=l,i.children.push(s);continue}i=OP(s,o,e),r.push(i);continue}if(s.listItem!==i.listItem){const a=r[r.length-1],l=a&&fY(a,{level:s.level||1});if(l&&l.listItem===s.listItem){i=l,i.children.push(s);continue}else{i=OP(s,o,e),r.push(i);continue}}console.warn("Unknown state encountered for block",s),r.push(s)}}return r}function XAn(n,e){return(n.level||1)===e.level&&n.listItem===e.listItem}function OP(n,e,r){return{_type:"@list",_key:`${n._key||`${e}`}-parent`,mode:r,level:n.level||1,listItem:n.listItem,children:[n]}}function fY(n,e){const r=e.level||1,i=e.listItem||"normal",o=typeof e.listItem=="string";if(eXe(n)&&(n.level||1)===r&&o&&(n.listItem||"normal")===i)return n;if(!("children"in n))return;const s=n.children[n.children.length-1];return s&&!J5(s)?fY(s,e):void 0}function rXe(n){let e="";return n.children.forEach(r=>{nXe(r)?e+=r.text:tXe(r)&&(e+=rXe(r))}),e}const QAn=/^\s/,JAn=/^\s/;function iXe(n){const e=Array.isArray(n)?n:[n];let r="";return e.forEach((i,o)=>{if(!sie(i))return;let s=!1;i.children.forEach(a=>{J5(a)?(r+=s&&r&&!JAn.test(r)&&!QAn.test(a.text)?" ":"",r+=a.text,s=!1):s=!0}),o!==e.length-1&&(r+=`

`)}),r}const e5n="html",t5n=["block","list","listItem","marks","types"],n5n=["listItem"],r5n=["_key"];function z1e(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function pp(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z1e(Object(r),!0).forEach(function(i){i5n(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):z1e(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function i5n(n,e,r){return e=o5n(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function o5n(n){var e=s5n(n,"string");return typeof e=="symbol"?e:String(e)}function s5n(n,e){if(typeof n!="object"||!n)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function hY(n,e){if(n==null)return{};var r=a5n(n,e),i,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)i=s[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}function a5n(n,e){if(n==null)return{};var r={},i=Object.keys(n),o,s;for(s=0;s<i.length;s++)o=i[s],!(e.indexOf(o)>=0)&&(r[o]=n[o]);return r}const l5n={number:({children:n})=>d.jsx("ol",{children:n}),bullet:({children:n})=>d.jsx("ul",{children:n})},c5n=({children:n})=>d.jsx("li",{children:n}),u5n=({children:n,value:e})=>d.jsx("a",{href:e==null?void 0:e.href,children:n}),d5n={textDecoration:"underline"},f5n={em:({children:n})=>d.jsx("em",{children:n}),strong:({children:n})=>d.jsx("strong",{children:n}),code:({children:n})=>d.jsx("code",{children:n}),underline:({children:n})=>d.jsx("span",{style:d5n,children:n}),"strike-through":({children:n})=>d.jsx("del",{children:n}),link:u5n},LD=(n,e)=>`[@portabletext/react] Unknown ${n}, specify a component for it in the \`components.${e}\` prop`,oXe=n=>LD(`block type "${n}"`,"types"),h5n=n=>LD(`mark type "${n}"`,"marks"),p5n=n=>LD(`block style "${n}"`,"block"),m5n=n=>LD(`list style "${n}"`,"list"),g5n=n=>LD(`list item style "${n}"`,"listItem");function v5n(n){console.warn(n)}const V1e={display:"none"},y5n=({value:n,isInline:e})=>{const r=oXe(n._type);return e?d.jsx("span",{style:V1e,children:r}):d.jsx("div",{style:V1e,children:r})},b5n=({markType:n,children:e})=>d.jsx("span",{className:`unknown__pt__mark__${n}`,children:e}),x5n=({children:n})=>d.jsx("p",{children:n}),w5n=({children:n})=>d.jsx("ul",{children:n}),_5n=({children:n})=>d.jsx("li",{children:n}),E5n=()=>d.jsx("br",{}),C5n={normal:({children:n})=>d.jsx("p",{children:n}),blockquote:({children:n})=>d.jsx("blockquote",{children:n}),h1:({children:n})=>d.jsx("h1",{children:n}),h2:({children:n})=>d.jsx("h2",{children:n}),h3:({children:n})=>d.jsx("h3",{children:n}),h4:({children:n})=>d.jsx("h4",{children:n}),h5:({children:n})=>d.jsx("h5",{children:n}),h6:({children:n})=>d.jsx("h6",{children:n})},H1e={types:{},block:C5n,marks:f5n,list:l5n,listItem:c5n,hardBreak:E5n,unknownType:y5n,unknownMark:b5n,unknownList:w5n,unknownListItem:_5n,unknownBlockStyle:x5n};function S5n(n,e){const r=hY(e,t5n);return pp(pp({},n),{},{block:Ak(n,e,"block"),list:Ak(n,e,"list"),listItem:Ak(n,e,"listItem"),marks:Ak(n,e,"marks"),types:Ak(n,e,"types")},r)}function Ak(n,e,r){const i=e[r],o=n[r];return typeof i=="function"||i&&typeof o=="function"?i:i?pp(pp({},o),i):o}function sXe({value:n,components:e,listNestingMode:r,onMissingComponent:i=v5n}){const o=i||T5n,s=Array.isArray(n)?n:[n],a=ZAn(s,r||e5n),l=p.useMemo(()=>e?S5n(H1e,e):H1e,[e]),c=p.useMemo(()=>k5n(l,o),[l,o]),u=a.map((f,h)=>c({node:f,index:h,isInline:!1,renderNode:c}));return d.jsx(d.Fragment,{children:u})}const k5n=(n,e)=>{function r(h){const{node:m,index:g,isInline:v}=h,y=m._key||`node-${g}`;return eXe(m)?s(m,g,y):JZe(m)?o(m,g,y):tXe(m)?a(m,g,y):i(m)?f(m,g,y,v):sie(m)?l(m,g,y,v):nXe(m)?c(m,y):u(m,g,y,v)}function i(h){return h._type in n.types}function o(h,m,g){const v=W1e({node:h,index:m,isInline:!1,renderNode:r}),y=n.listItem,b=(typeof y=="function"?y:y[h.listItem])||n.unknownListItem;if(b===n.unknownListItem){const _=h.listItem||"bullet";e(g5n(_),{type:_,nodeType:"listItemStyle"})}let x=v.children;if(h.style&&h.style!=="normal"){const _=hY(h,n5n);x=r({node:_,index:m,isInline:!1,renderNode:r})}return d.jsx(b,{value:h,index:m,isInline:!1,renderNode:r,children:x},g)}function s(h,m,g){const v=h.children.map((x,_)=>r({node:x._key?x:pp(pp({},x),{},{_key:`li-${m}-${_}`}),index:_,isInline:!1,renderNode:r})),y=n.list,b=(typeof y=="function"?y:y[h.listItem])||n.unknownList;if(b===n.unknownList){const x=h.listItem||"bullet";e(m5n(x),{nodeType:"listStyle",type:x})}return d.jsx(b,{value:h,index:m,isInline:!1,renderNode:r,children:v},g)}function a(h,m,g){const{markDef:v,markType:y,markKey:b}=h,x=n.marks[y]||n.unknownMark,_=h.children.map((w,C)=>r({node:w,index:C,isInline:!0,renderNode:r}));return x===n.unknownMark&&e(h5n(y),{nodeType:"mark",type:y}),d.jsx(x,{text:rXe(h),value:v,markType:y,markKey:b,renderNode:r,children:_},g)}function l(h,m,g,v){const y=W1e({node:h,index:m,isInline:v,renderNode:r}),b=hY(y,r5n),x=b.node.style||"normal",_=(typeof n.block=="function"?n.block:n.block[x])||n.unknownBlockStyle;return _===n.unknownBlockStyle&&e(p5n(x),{nodeType:"blockStyle",type:x}),d.jsx(_,pp(pp({},b),{},{value:b.node,renderNode:r}),g)}function c(h,m){if(h.text===`
`){const g=n.hardBreak;return g?d.jsx(g,{},m):`
`}return h.text}function u(h,m,g,v){const y={value:h,isInline:v,index:m,renderNode:r};e(oXe(h._type),{nodeType:"block",type:h._type});const b=n.unknownType;return d.jsx(b,pp({},y),g)}function f(h,m,g,v){const y={value:h,isInline:v,index:m,renderNode:r},b=n.types[h._type];return b?d.jsx(b,pp({},y),g):null}return r};function W1e(n){const{node:e,index:r,isInline:i,renderNode:o}=n,s=YAn(e).map((a,l)=>o({node:a,isInline:!0,index:l,renderNode:o}));return{_key:e._key||`block-${r}`,children:s,index:r,isInline:i,node:e}}function T5n(){}p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"groq-logo",height:"1em",viewBox:"0 0 304 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,ref:e,children:[d.jsx("path",{d:"M32 0L0 32H32V0Z",fill:Kt.magenta[400].hex}),d.jsx("path",{d:"M32 32H0L32 64V32Z",fill:Kt.green[300].hex}),d.jsx("path",{d:"M64 32H32V64L64 32Z",fill:Kt.purple[300].hex}),d.jsx("path",{d:"M112 0L80 32H112V0Z",fill:Kt.green[300].hex}),d.jsx("path",{d:"M112 0H80V32L112 0Z",fill:Kt.purple[300].hex}),d.jsx("path",{d:"M112 32H80L112 64V32Z",fill:Kt.yellow[200].hex}),d.jsx("path",{d:"M144 64L112 32V64H144Z",fill:Kt.blue[300].hex}),d.jsx("path",{d:"M80 32V64H112L80 32Z",fill:Kt.orange[400].hex}),d.jsx("path",{d:"M112 0V32H144L112 0Z",fill:Kt.magenta[400].hex}),d.jsx("path",{d:"M192 0L160 32H192V0Z",fill:Kt.yellow[200].hex}),d.jsx("path",{d:"M192 32H160L192 64V32Z",fill:Kt.orange[400].hex}),d.jsx("path",{d:"M224 32H192V64L224 32Z",fill:Kt.green[300].hex}),d.jsx("path",{d:"M192 0V32H224L192 0Z",fill:Kt.blue[300].hex}),d.jsx("path",{d:"M272 0L240 32H272V0Z",fill:Kt.purple[300].hex}),d.jsx("path",{d:"M304 32L272 64H304V32Z",fill:Kt.magenta[400].hex}),d.jsx("path",{d:"M272 32H240L272 64V32Z",fill:Kt.blue[300].hex}),d.jsx("path",{d:"M304 32H272V64L304 32Z",fill:Kt.yellow[200].hex}),d.jsx("path",{d:"M272 0V32H304L272 0Z",fill:Kt.green[300].hex})]})});p.forwardRef(function(n,e){return d.jsxs("svg",{"data-sanity-icon":"groq-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,ref:e,children:[d.jsx("rect",{width:"128",height:"128",rx:"8",fill:Kt.green[950].hex}),d.jsx("rect",{y:"32",width:"64",height:"64",fill:Kt.green[800].hex}),d.jsx("path",{d:"M64 32L32 64H64V32Z",fill:Kt.magenta[400].hex}),d.jsx("path",{d:"M64 64H32L64 96V64Z",fill:Kt.green[300].hex}),d.jsx("path",{d:"M96 64H64V96L96 64Z",fill:Kt.purple[300].hex})]})});const A5n={light:[Kt.red[200].hex,Kt.red[300].hex,Kt.red[500].hex],dark:[Kt.gray[500].hex,Kt.gray[300].hex,hg.hex]},I5n=p.forwardRef(function(n,e){const{dark:r,...i}=n,o=A5n[r?"dark":"light"];return d.jsxs("svg",{"data-sanity-icon":"sanity-logo",height:"1em",viewBox:"0 0 352 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i,ref:e,children:[d.jsx("path",{d:"M311.14 57.234V80.0016H298.499V57.234",fill:o[1]}),d.jsx("path",{d:"M298.499 57.2341L319.889 20.0017H333.316L311.14 57.2341H298.499Z",fill:o[2]}),d.jsx("path",{d:"M298.499 57.2341L276.515 20.0017H290.345L305.239 45.5161L298.499 57.2341Z",fill:o[1]}),d.jsx("path",{d:"M253.839 40.9625V80.0017H241.007V47.6275L253.839 40.9625Z",fill:o[1]}),d.jsx("path",{d:"M241.007 47.5944L273.538 30.9469L268.042 21.6519L241.007 34.8633V47.5944Z",fill:o[0]}),d.jsx("path",{d:"M241.007 30.9469H221.404V20.0017H267.064L273.538 30.9469H253.839H241.007Z",fill:o[2]}),d.jsx("path",{d:"M214.047 20.0017H201.311V80.0121H214.047V20.0017Z",fill:o[2]}),d.jsx("path",{d:"M149.39 37.8712V80.0017H137.153V20.0017L149.39 37.8712Z",fill:o[1]}),d.jsx("path",{d:"M151.282 20.0017L178.231 60.9939V80.0017L137.153 20.0017H151.282Z",fill:o[2]}),d.jsx("path",{d:"M178.231 57.9129V20.0017H190.467V80.0017H178.231V57.9129Z",fill:o[1]}),d.jsx("path",{d:"M82.1168 80.9834L112.102 65.3053L108.405 55.7303L88.6644 64.9362L82.1168 80.9834Z",fill:o[0]}),d.jsx("path",{d:"M100.657 35.5422L82.1167 80.9834L72.5807 72.7745L94.6719 20.0017L100.657 35.5422Z",fill:o[1]}),d.jsx("path",{d:"M94.672 20.0017H107.312L130.69 80.0017H117.752L94.672 20.0017Z",fill:o[2]}),d.jsx("path",{d:"M25.1347 26.926C25.1347 35.2811 30.3864 40.2524 40.9004 42.8738L52.0417 45.4117C61.9923 47.6571 68.0519 53.2341 68.0519 62.3203C68.1293 66.2787 66.8194 70.1429 64.3417 73.2654C64.3417 64.2002 59.5684 59.302 48.0551 56.3568L37.1158 53.913C28.3559 51.9495 21.5946 47.3647 21.5946 37.4952C21.5485 33.6839 22.7939 29.9658 25.1347 26.926",fill:o[2]}),d.jsx("path",{d:"M57.4954 60.0957C62.2475 63.0827 64.3311 67.2602 64.3311 73.255C60.3977 78.2054 53.4875 80.9834 45.3655 80.9834C31.6941 80.9834 22.1262 74.3725 20 62.8842H33.1292C34.8196 68.1584 39.2952 70.6022 45.2698 70.6022C52.5626 70.6022 57.4104 66.7798 57.506 60.0748",fill:o[1]}),d.jsx("path",{d:"M31.9598 39.3124C29.7898 38.0455 28.0095 36.225 26.8079 34.0442C25.6062 31.8634 25.028 29.4036 25.1347 26.926C28.93 22.0174 35.5318 19.02 43.5794 19.02C57.506 19.02 65.5643 26.2472 67.5523 36.4195H54.9227C53.53 32.409 50.0431 29.2863 43.6858 29.2863C36.8926 29.2863 32.2575 33.1715 31.9917 39.3124",fill:o[1]})]})}),D5n={bg1:Kt.red[500].hex,bg2:Kt.red[200].hex,fg:hg.hex},R5n=p.forwardRef(function(n,e){const{color:r=D5n,...i}=n;return d.jsxs("svg",{"data-sanity-icon":"sanity-monogram",width:"1em",height:"1em",viewBox:"0 0 128 128",fill:"none",xmlns:"http://www.w3.org/2000/svg",...i,ref:e,children:[d.jsx("rect",{width:"128",height:"128",rx:"8",fill:r.bg1}),d.jsx("path",{d:"M39.423 33.163C39.423 44.1615 46.3363 50.7056 60.1768 54.1564L74.843 57.4972C87.9418 60.453 95.9186 67.7945 95.9186 79.7554C96.0205 84.9662 94.2961 90.0531 91.0345 94.1635C91.0345 82.2301 84.751 75.7822 69.595 71.9052L55.1948 68.6882C43.6633 66.1035 34.7629 60.0681 34.7629 47.0761C34.7022 42.0589 36.3416 37.1644 39.423 33.163",fill:r.fg}),d.jsx("path",{d:"M82.0221 76.827C88.2776 80.759 91.0206 86.2582 91.0206 94.1497C85.8426 100.666 76.7462 104.323 66.0545 104.323C48.0576 104.323 35.4626 95.6207 32.6637 80.4977H49.9468C52.172 87.4406 58.0636 90.6576 65.9285 90.6576C75.5287 90.6576 81.9102 85.6258 82.0361 76.7995",fill:r.bg2}),d.jsx("path",{d:"M48.4075 49.4682C45.551 47.8004 43.2074 45.404 41.6256 42.5332C40.0437 39.6624 39.2826 36.4244 39.4231 33.1629C44.4191 26.7013 53.1096 22.7556 63.7034 22.7556C82.0362 22.7556 92.6439 32.2693 95.2609 45.66H78.6355C76.8022 40.3807 72.2121 36.27 63.8434 36.27C54.9009 36.27 48.7993 41.3843 48.4495 49.4682",fill:r.bg2})]})});var O5n=(()=>{try{return typeof import.meta<"u"}catch{return!1}})(),P5n=()=>{try{return!!(O5n&&import.meta.webpackHot)}catch{return!1}};function j5n(n){if(P5n)return typeof import.meta.webpackHot>"u"?$5n(n):L5n(n)}function L5n(n){p.useEffect(()=>{if(import.meta.webpackHot){const e=r=>r==="idle"?n():void 0;return import.meta.webpackHot.addStatusHandler(e),()=>{var r;return(r=import.meta.webpackHot)==null?void 0:r.removeStatusHandler(e)}}},[n])}function $5n(n){p.useEffect(()=>{},[n])}const hw=p.createContext({isReviewChangesOpen:!1,onOpenReviewChanges:()=>{},onSetFocus:()=>{}});function M5n(){const n=new Map,{publish:e,subscribe:r}=WQ(),i=LI(e,10,{trailing:!0}),o=()=>Array.from(n.entries());function s(c,u){n.has(c),n.set(c,u),i(o())}function a(c,u){n.has(c),n.set(c,u),i(o())}function l(c){n.has(c),n.delete(c),i(o())}return{add:s,remove:l,update:a,read:o,subscribe:r}}function F5n(n){return typeof n=="function"}function G1e(n){return F5n(n)?n():n}const N5n=()=>{};function B5n(n){return function(r,i){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Object.is;const{add:s,update:a,remove:l}=p.useContext(n),c=p.useRef();p.useLayoutEffect(()=>{if(r===null)return N5n;const u=G1e(i);return s(r,u),c.current=u,()=>{l(r)}},[s,r,l,i]),p.useLayoutEffect(()=>{const u=G1e(i);typeof c.current<"u"&&!o(c.current,u)&&r!==null&&a(r,u),c.current=u})}}let tS=!1;const IV=n=>{tS||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReporter('.concat(n,', ...)", is wrapped in a <Tracker> element'))),tS=!0};function U5n(){return tS||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),tS=!0,[]}const z5n=()=>(tS||console.warn(new Error('No context provided for reporter. Make sure that the component calling "useReportedValues()", is wrapped inside a <Tracker> element')),tS=!0,()=>{}),V5n={add:IV,update:IV,remove:IV,subscribe:z5n,read:U5n};let H5n=0;const W5n=()=>++H5n;function aXe(){const n=p.createContext(V5n);function e(){const o=p.useContext(n),[s,a]=p.useState(o.read());return p.useLayoutEffect(()=>(a(o.read()),o.subscribe(a)),[o]),s}function r(o){const s=p.useMemo(()=>M5n(),[]);return d.jsx(n.Provider,{value:s,children:o.children})}const i=B5n(n);return{Tracker:r,useReportedValues:e,useReporter:i,useAutoIdReporter:function(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object.is;return i("element-".concat(p.useRef(W5n()).current),o,s)}}}const ju=4,G5n=16,q1e=8,Kn=8,Gd=2,PP=4,Gl=12,r_=1,q5n=!1,K5n=!1,aie=aXe(),Y5n=aie.Tracker,lie=aie.useReportedValues,lXe=aie.useReporter;function Ga(n){const e=p.useRef(n);return Br(e.current,n)||(e.current=n),e.current}function rm(n,e){const r=[e,!0],i={type:"tuple",tuple:r};return function(s){const a=Ga(s),l=bs(()=>Ke(a).pipe(gn(c=>Go(Ke({type:"loading"}),n(c).pipe(Me(u=>({type:"value",value:u}))))),rd((c,u)=>{let[f]=c;return u.type==="loading"?[f,!0]:[u.value,!1]},r),Ro((c,u)=>{let[f,h]=c,[m,g]=u;return!(f!==m||h!==g)}),Me(c=>({type:"tuple",tuple:c})),vi(c=>Ke({type:"error",error:c}))),[a],i);if(l.type==="error")throw l.error;return l.tuple}}function Ws(n){return n!=null}const Z5n="drafts",cie="".concat(Z5n,".");function uie(n){return n.startsWith(cie)}function cXe(n){return{draftId:wl(n),publishedId:di(n)}}function wl(n){return uie(n)?n:cie+n}function di(n){return uie(n)?n.slice(cie.length):n}function qS(n){const e=n.reduce((r,i)=>{const o=di(i._id);let s=r.get(o);return s||(s={id:o,type:i._type,published:void 0,draft:void 0},r.set(o,s)),s[o===i._id?"published":"draft"]=i,r},new Map);return Array.from(e.values())}function uXe(n){return qS(n).map(e=>e.draft||e.published).filter(Ws)}const X5n=Object.freeze({}),ri=Object.freeze([]);function Q5n(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const J5n=Q5n();function $n(n){return!!n&&typeof n=="object"&&!Array.isArray(n)}function ex(n){return typeof n=="string"}const eIn=typeof document=="object"&&typeof window=="object"&&window.ResizeObserver?window.ResizeObserver:e6e,tIn=()=>{const n=WQ(),e=new eIn(r=>n.publish(r));return{observe:(r,i,o)=>{const s=n.subscribe(a=>{const l=a.find(c=>c.target===r);l&&i(l)});return e.observe(r,o),()=>{s(),e.unobserve(r)}},unobserve:r=>e.unobserve(r)}},pY=tIn(),nIn=["match","in","asc","desc","true","false","null"],rIn=/^[a-zA-Z_][a-zA-Z0-9_]*$/,iIn=n=>!rIn.test(n)||nIn.includes(n),oIn=n=>'["'.concat(n,'"]'),$D=sIn();function sIn(){return typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}const K1e=typeof Intl=="object"&&"Segmenter"in Intl?new Intl.Segmenter:void 0;function aIn(n,e,r){if(r<e)throw new Error("End must be greater than start, use `String.prototype.slice()` for negative values");if(!K1e)return n.slice(e,r);let i=0,o="";for(const s of K1e.segment(n)){if(i===r)return o;o+=s.segment,i++}return o}function Y1e(n,e){const r=aIn(n,0,e);return r===n?r:"".concat(r,"…")}const lIn={isLoading:!0,value:void 0,error:null};function dXe(n,e){return bs(()=>n.pipe(cIn()),[n],typeof e>"u"?lIn:{isLoading:!1,value:e,error:null})}function cIn(){return n=>n.pipe(Me(e=>({isLoading:!1,value:e,error:null})),vi(e=>Ke({isLoading:!1,value:void 0,error:e})))}function fXe(n,e){return n!==null&&n.roles.some(r=>r.name===e)}var Z1e;const QL=typeof process>"u"?!1:(Z1e=process==null?void 0:process.env)==null?void 0:Z1e.SANITY_STUDIO_DEBUG_I18N,uIn=!!QL,dIn={reverse:n=>"‮".concat(n),triangles:n=>"◤ ".concat(n," ◢")};function hXe(n){const e=QL==="reverse"||QL==="triangles"?dIn[QL]:null;return e?function(){return e(n(...arguments))}:n}const X1e={bindI18n:!1};function me(n,e){const{t:r}=Sh(n,e?{keyPrefix:e.keyPrefix,lng:e.lng,...X1e}:X1e);return{t:hXe(r)}}var Q1e=Object.freeze,fIn=Object.defineProperty,Ep=(n,e)=>Q1e(fIn(n,"raw",{value:Q1e(e||n.slice())})),J1e,ebe,tbe,nbe,rbe,ibe,obe,sbe,abe,lbe;const hIn=250,pIn=F.div(n=>{let{$changed:e,$disabled:r,$hasFocus:i,$isReviewChangeOpen:o}=n;return r?Ae(J1e||(J1e=Ep([`
        `,`:after {
          display: none;
        }
      `])),R_):Ae(rbe||(rbe=Ep([`
      --change-bar-offset: 4px;

      display: flex;
      position: relative;

      `,`:after {
        opacity: 0.5;
      }

      @media (hover: hover) {
        &:hover {
          z-index: 10;
          `,`:after {
            opacity: 1;
          }
        }
      }

      /* hide when field is not changed */
      `,`

      /* hide when field is not changed */
      `,`

      /* hide hover effect when review changes is open */
      `,`
    `])),R_,R_,i&&Ae(ebe||(ebe=Ep([`
        `,`:after {
          opacity: 1;
        }
      `])),R_),!e&&Ae(tbe||(tbe=Ep([`
        `,`:after {
          opacity: 0;
          pointer-events: none;
        }
      `])),R_),o&&Ae(nbe||(nbe=Ep([`
        `,` {
          opacity: 0;
        }
      `])),pXe))}),mIn=F.div(ibe||(ibe=Ep([`
  flex-grow: 1;
  min-width: 0;
`]))),gIn=F.div(obe||(obe=Ep([`
  position: relative;
  opacity: 1;
  transition: opacity 100ms;
  z-index: `,`;
`])),n=>{let{$zIndex:e}=n;return e}),R_=F.div(n=>{const{media:e}=mt(n.theme);return Ae(sbe||(sbe=Ep([`
    position: absolute;
    top: -1px;
    left: var(--change-bar-offset);
    width: 1px;
    bottom: -1px;
    background-color: var(--card-bg-color);

    @media (min-width: `,`px) {
      display: unset;
    }

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 1px;
      left: 0;
      width: 1px;
      bottom: 1px;
      background-color: var(--card-badge-caution-dot-color);
      border-radius: 0.5px;
    }
  `])),e[0])}),pXe=F.button(n=>{const{$withHoverEffect:e}=n;return Ae(lbe||(lbe=Ep([`
    appearance: none;
    border: 0;
    outline: 0;
    display: block;
    padding: 0;
    background: transparent;
    opacity: 0;
    position: absolute;
    height: 100%;
    cursor: pointer;
    pointer-events: all;
    left: calc(-0.25rem + var(--change-bar-offset));
    width: calc(1rem - 1px);
    transition: opacity `,`ms;

    &:focus {
      border: 0;
      outline: 0;
    }

    &:focus {
      border: 0;
      outline: 0;
    }

    `,`
  `])),hIn,e&&Ae(abe||(abe=Ep([`
      @media (hover: hover) {
        &:hover {
          opacity: 0.2;
        }
      }
    `]))))});function vIn(n){const{children:e,disabled:r,hasFocus:i,isChanged:o,withHoverEffect:s=!0}=n,{onOpenReviewChanges:a,isReviewChangesOpen:l}=p.useContext(hw),{zIndex:c}=Eu(),{t:u}=me(),f=p.useMemo(()=>r||!o?null:d.jsxs(gIn,{"data-testid":"change-bar",$zIndex:c,children:[d.jsx(R_,{"data-testid":"change-bar__marker"}),d.jsx(zn,{content:u("changes.change-bar.aria-label"),portal:!0,children:d.jsx(pXe,{"aria-label":u("changes.change-bar.aria-label"),"data-testid":"change-bar__button",onClick:l?void 0:a,tabIndex:-1,type:"button",$withHoverEffect:s})})]}),[r,o,l,a,u,s,c]);return d.jsxs(pIn,{"data-testid":"change-bar-wrapper",$changed:o,$disabled:r,$hasFocus:i,$isReviewChangeOpen:l,children:[d.jsx(mIn,{"data-testid":"change-bar__field-wrapper",children:e}),f]})}const yIn=p.memo(function(e){const{children:r,disabled:i,hasFocus:o,isChanged:s,onMouseEnter:a,onMouseLeave:l,path:c=ri,withHoverEffect:u,...f}=e,h=Eu(),[m,g]=p.useState(!1),v=p.useCallback(x=>{a==null||a(x),g(!0)},[a]),y=p.useCallback(x=>{l==null||l(x),g(!1)},[l]),b=p.useRef(null);return lXe(i?null:"field-".concat(ns(c)),()=>({element:b.current,path:c,isChanged:s,hasFocus:o,hasHover:m,zIndex:h.zIndex}),B4),d.jsx("div",{...f,ref:b,onMouseEnter:v,onMouseLeave:y,children:d.jsx(vIn,{hasFocus:o,isChanged:s,disabled:i,withHoverEffect:u,children:r})})});function _l(n){const{children:e,hasFocus:r,isChanged:i,path:o,withHoverEffect:s,...a}=n;return d.jsx(yIn,{...a,path:o,hasFocus:r,isChanged:i,withHoverEffect:s,children:e})}p.createContext({path:[],fullPath:[],focusPath:[],isChanged:!1});const mY=p.createContext(null),cbe=()=>{},_N=p.forwardRef(function(e,r){const{as:i="div",onScroll:o,...s}=e,a=Ko(r),l=p.useContext(mY),c=p.useMemo(()=>WQ(),[]);return p.useEffect(()=>o?c.subscribe(o):cbe,[c,o]),p.useEffect(()=>l?c.subscribe(l.publish):cbe,[l,c]),p.useEffect(()=>{const u=h=>{c.publish(h)},f=a.current;if(f)return f.addEventListener("scroll",u,{passive:!0,capture:!0}),()=>{f.removeEventListener("scroll",u)}},[c,a]),d.jsx(mY.Provider,{value:c,children:p.createElement(i,{ref:a,"data-testid":"scroll-container",...s})})});function bIn(n){const{bounds:e,...r}=n,i=Math.max(e.left,n.left),o=Math.max(n.top,e.top),s=Math.max(0,n.height-(o-n.top)),a=Math.max(0,n.width-(i-n.left));return d.jsx("rect",{...r,x:i,y:o,height:s,width:a})}var ube=Object.freeze,xIn=Object.defineProperty,EN=(n,e)=>ube(xIn(n,"raw",{value:ube(e||n.slice())})),dbe,fbe,hbe,pbe;F.rect(dbe||(dbe=EN([`
  stroke: #ccc;
  fill: none;
  pointer-events: none;
  stroke-linecap: round;
`])));const Ik=F.path(fbe||(fbe=EN([`
  fill: none;
  pointer-events: none;
  stroke-linejoin: round;
  stroke: var(--card-badge-caution-dot-color);
`]))),wIn=F.path(hbe||(hbe=EN([`
  fill: none;
  pointer-events: stroke;
  stroke: transparent;
  cursor: pointer;
  stroke-linecap: round;
  stroke-linejoin: round;
  opacity: 0;

  &:hover {
    opacity: 0.2;
  }
`]))),_In=F(bIn)(pbe||(pbe=EN([`
  stroke: none;
  pointer-events: none;
  fill: var(--card-badge-caution-dot-color);
`])));function jP(n,e,r){return["M ".concat(n-PP," ").concat(e-PP*r," "),"L ".concat(n," ").concat(e),"L ".concat(n+PP," ").concat(e-PP*r)].join("")}function DV(n,e){return"M".concat(n," ").concat(e)}function Ys(n,e){return"L".concat(n," ").concat(e)}function EIn(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return n.join(e)}function qc(n,e,r,i){return"Q".concat(n," ").concat(e," ").concat(r," ").concat(i)}function CIn(n){const{from:e,to:r}=n,{left:i,top:o}=e,{left:s,top:a}=r,l=[],c=Math.min(ju,Math.abs(o-a)/2);return e.isAbove?l.push(DV(i+Kn,o-Gl+Gd),Ys(i+Kn,o-ju),qc(i+Kn,o,i+Kn+ju,o)):e.isBelow?l.push(DV(i+Kn,o+Gl-Gd),Ys(i+Kn,o+ju),qc(i+Kn,o,i+Kn+ju,o)):l.push(DV(i,o)),r.isAbove?o<r.bounds.top?l.push(Ys(r.bounds.left-8-c,o),qc(r.bounds.left-8,o,r.bounds.left-8,o+c),Ys(r.bounds.left-8,a-c),qc(r.bounds.left-8,a,r.bounds.left-8+c,a),Ys(r.bounds.left+Kn-ju,a),qc(r.bounds.left+Kn,a,r.bounds.left+Kn,a-ju),Ys(r.bounds.left+Kn,a-Gl+Gd)):l.push(Ys(r.bounds.left+Kn-ju,o),qc(r.bounds.left+Kn,o,r.bounds.left+Kn,o-ju),Ys(r.bounds.left+Kn,a-Gl+Gd)):r.isBelow?o>r.bounds.top+r.bounds.height?l.push(Ys(r.bounds.left-Kn-c,o),qc(r.bounds.left-Kn,o,r.bounds.left-Kn,o-c),Ys(r.bounds.left-Kn,a+c),qc(r.bounds.left-Kn,a,r.bounds.left-Kn+c,a),Ys(r.bounds.left+Kn-ju,a),qc(r.bounds.left+Kn,a,r.bounds.left+Kn,a+ju),Ys(r.bounds.left+Kn,a+Gl-Gd)):l.push(Ys(r.bounds.left+Kn-ju,o),qc(r.bounds.left+Kn,o,r.bounds.left+Kn,o+ju),Ys(r.bounds.left+Kn,a+Gl-Gd)):o<a?l.push(Ys(r.bounds.left+Kn-c,o),qc(r.bounds.left+Kn,o,r.bounds.left+Kn,o+c),Ys(r.bounds.left+Kn,a-c),qc(r.bounds.left+Kn,a,r.bounds.left+Kn+c,a),Ys(s,a)):l.push(Ys(r.bounds.left+Kn-c,o),qc(r.bounds.left+Kn,o,r.bounds.left+Kn,o-c),Ys(r.bounds.left+Kn,a+c),qc(r.bounds.left+Kn,a,r.bounds.left+Kn+c,a),Ys(s,a)),EIn(l)}function mbe(n,e){const r=n.top+n.height/2,i=n.top+n.height<e.top+Gd,o=n.top>e.top+e.height-Gd;return{bounds:e,left:n.left,top:r,centerY:r,startY:n.top+q1e,endY:n.top+n.height-q1e,isAbove:i,isBelow:o,outOfBounds:i||o}}function SIn(n){const e={top:n.from.bounds.top+Gl,bottom:n.from.bounds.top+n.from.bounds.height-Gl,left:n.from.bounds.left,right:n.from.bounds.left+n.from.bounds.width,width:n.from.bounds.width,height:n.from.bounds.height-Gl*2},r=mbe(n.from.rect,e);r.left=n.from.rect.left+n.from.rect.width+1;const i={top:n.to.bounds.top+Gl,bottom:n.to.bounds.top+n.to.bounds.height-Gl,left:n.to.bounds.left,right:n.to.bounds.left+n.to.bounds.width,width:n.to.bounds.width,height:n.to.bounds.height-Gl*2},o=mbe(n.to.rect,i),s=Math.max(o.startY,r.startY);return r.top=Math.min(s,r.endY),r.top<i.top?r.top=Math.min(i.top,r.endY):r.top>i.bottom&&(r.top=Math.max(i.bottom,r.startY)),o.top=Math.min(s,o.endY),o.top<e.top?o.top=Math.min(e.top,o.endY):o.top>e.bottom&&(o.top=Math.max(e.bottom,o.startY)),r.top=Math.min(Math.max(r.top,e.top),e.bottom),o.top=Math.min(Math.max(o.top,i.top),i.bottom),{from:r,to:o}}const kIn=p.memo(function(e){let{from:r,to:i}=e;const o=SIn({from:r,to:i});if(o.from.outOfBounds&&o.to.outOfBounds)return null;const s=CIn(o);return d.jsxs(d.Fragment,{children:[d.jsx(wIn,{d:s,strokeWidth:G5n}),d.jsx(Ik,{d:s,strokeWidth:r_}),d.jsx(_In,{top:i.rect.top,left:i.rect.left-.5,height:i.rect.height,width:r_,bounds:i.bounds}),o.from.isAbove&&d.jsx(Ik,{d:jP(o.from.left+Kn,o.from.bounds.top-Gl+Gd,-1),strokeWidth:r_}),o.from.isBelow&&d.jsx(Ik,{d:jP(o.from.left+Kn,o.from.bounds.top+o.from.bounds.height+Gl-Gd,1),strokeWidth:r_}),o.to.isAbove&&d.jsx(Ik,{d:jP(o.to.bounds.left+Kn,o.to.bounds.top-Gl+Gd,-1),strokeWidth:r_}),o.to.isBelow&&d.jsx(Ik,{d:jP(o.to.bounds.left+Kn,o.to.bounds.top+o.to.bounds.height+Gl-Gd,1),strokeWidth:r_}),q5n]})});var gbe=Object.freeze,TIn=Object.defineProperty,AIn=(n,e)=>gbe(TIn(n,"raw",{value:gbe(e||n.slice())})),vbe;const IIn=F.svg(vbe||(vbe=AIn([`
  pointer-events: none;
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  width: 100%;
  height: 100%;
`])));var ybe=Object.freeze,DIn=Object.defineProperty,RIn=(n,e)=>ybe(DIn(n,"raw",{value:ybe(e||n.slice())})),bbe;function OIn(n){return"inset 0 0 0 ".concat(n.width,"px ").concat(n.color)}const PIn=F(eo)(bbe||(bbe=RIn([`
  align-items: flex-end;
`])));function die(n){const{base:e,border:r,focusRing:i}=n,o=i.offset+i.width,s=0-i.offset,a=e?e.bg:"var(--card-bg-color)";return[s>0&&"inset 0 0 0 ".concat(s,"px var(--card-focus-ring-color)"),r&&OIn(r),s<0&&"0 0 0 ".concat(0-s,"px ").concat(a),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var xbe=Object.freeze,jIn=Object.defineProperty,CN=(n,e)=>xbe(jIn(n,"raw",{value:xbe(e||n.slice())})),wbe,_be,Ebe,Cbe;const LIn="data-active",RV="a,button",$In=F.div(n=>{let{theme:e,offset:r}=n;return Ae(wbe||(wbe=CN([`
    bottom: `,`px;
    border-radius: `,`;
    left: `,`px;
    pointer-events: none;
    position: absolute;
    right: `,`px;
    top: `,`px;
    z-index: 2;

    `,`:focus-visible & {
      box-shadow: `,`;
    }
  `])),-r,Je(e.sanity.radius[1]),-r,-r,-r,mXe,die({base:e.sanity.color.base,focusRing:e.sanity.focusRing}))}),MIn=F.div(_be||(_be=CN([`
  bottom: 0;
  display: none;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
  z-index: 1;

  @media (hover: hover) {
    &[data-enabled='true'] {
      display: block;
    }
  }
`]))),mXe=F(te)(Ebe||(Ebe=CN([`
  height: 100%;
  outline: none;
  overflow-x: hidden;
  overflow-y: auto;
  overscroll-behavior: contain;
  width: 100%;
`]))),FIn=F(te).attrs(n=>{let{$height:e}=n;return{style:{height:"".concat(e,"px")}}})(Cbe||(Cbe=CN([`
  position: relative;
  width: 100%;
`]))),Wy=p.forwardRef(function(e,r){let{activeItemDataAttr:i=LIn,ariaLabel:o,ariaMultiselectable:s=!1,autoFocus:a,canReceiveFocus:l,fixedHeight:c,focusRingOffset:u=0,getItemDisabled:f,getItemKey:h,getItemSelected:m,initialIndex:g,initialScrollAlign:v="start",inputElement:y,itemHeight:b,items:x,onEndReached:_,onEndReachedIndexOffset:w=0,onlyShowSelectionWhenActive:C,overscan:S,renderItem:T,wrapAround:A=!0,...I}=e;const D=p.useRef(!1),R=p.useRef(p.useId()),P=p.useRef(g??0),[O,$]=p.useState(null),[L,M]=p.useState(!1),[N,z]=p.useState(null),[B,H]=p.useState(null),X=p.useCallback(Ge=>{if(!_)return;const[gt]=[...Ge.getVirtualItems()].reverse();if(!gt)return;gt.index>=x.length-w-1&&D.current&&_()},[_,x.length,w]),G=PGe({count:x.length,getItemKey:h,getScrollElement:()=>B,estimateSize:()=>b,onChange:X,overscan:S}),ne=p.useMemo(()=>{let Ge=-1;return x.reduce((gt,At,Dt)=>{var at,tt;const it=(at=f==null?void 0:f(Dt))!=null?at:!1,jt=(tt=m==null?void 0:m(Dt))!=null?tt:!1;return it||(Ge+=1),gt[Dt]={activeIndex:it?null:Ge,disabled:it,selected:jt},gt},[])},[f,m,x]),le=p.useMemo(()=>ne.filter(Ge=>!Ge.disabled).length,[ne]),K=p.useCallback(Ge=>N==null?void 0:N.setAttribute("data-enabled",(!Ge).toString()),[N]),Q=p.useCallback(Ge=>"".concat(R.current,"-item-").concat(Ge),[]),re=p.useCallback(()=>"".concat(R.current,"-children"),[]),se=p.useCallback(()=>{const Ge=[y,B].some(At=>document.activeElement===At);if(C&&!Ge&&!L)return;const gt=Array.from((O==null?void 0:O.children)||[]);gt==null||gt.forEach(At=>{var Dt,at,tt;const it=Number((Dt=At.dataset)==null?void 0:Dt.index),jt=(at=ne[it])==null?void 0:at.activeIndex;(tt=At.querySelector(RV))==null||tt.toggleAttribute(i,jt===P.current)})},[i,O==null?void 0:O.children,L,y,ne,C,B]),de=p.useCallback(()=>{const Ge=Array.from((O==null?void 0:O.children)||[]);Ge==null||Ge.forEach(gt=>{var At;(At=gt.querySelector(RV))==null||At.toggleAttribute(i,!1)})},[i,O==null?void 0:O.children]),fe=p.useMemo(()=>$I(se,200),[se]),we=p.useCallback(()=>{const Ge=P==null?void 0:P.current;x.length>0?(y==null||y.setAttribute("aria-activedescendant",Q(Ge)),B==null||B.setAttribute("aria-activedescendant",Q(Ge))):(y==null||y.removeAttribute("aria-activedescendant"),B==null||B.removeAttribute("aria-activedescendant"))},[Q,y,x.length,B]),ye=p.useCallback(()=>{var Ge,gt;const At=O==null?void 0:O.parentElement;if(O&&At){const Dt=At.getBoundingClientRect().top-O.getBoundingClientRect().top;return(gt=(Ge=G.getVirtualItemForOffset(Dt))==null?void 0:Ge.index)!=null?gt:-1}return-1},[O,G]),ve=p.useCallback(Ge=>{let{index:gt,scrollAlign:At,scrollIntoView:Dt=!0}=Ge;if(P.current=gt,we(),se(),Dt){const at=ne.findIndex(tt=>tt.activeIndex===gt);at>-1&&G.scrollToIndex(at,At?{align:At}:{})}},[we,ne,se,G]),_e=p.useCallback(Ge=>{let gt=-1;const At=le-1;if(Ge==="next"){const Dt=A?0:At;gt=P.current<le-1?P.current+1:Dt}if(Ge==="previous"){const Dt=A?At:0;gt=P.current>0?P.current-1:Dt}ve({index:gt,scrollIntoView:!0}),K(!1)},[le,K,ve,A]),ge=p.useCallback(Ge=>{switch(Ge){case"input":y==null||y.focus();break;case"list":B==null||B.focus();break}},[y,B]),pe=p.useCallback(()=>{y==null||y.focus()},[y]),Pe=p.useCallback(()=>{B==null||B.focus()},[B]),Re=p.useCallback(Ge=>()=>{ve({index:Ge,scrollIntoView:!1})},[ve]),Fe=p.useCallback(()=>{se()},[se]),Ye=p.useCallback(Ge=>gt=>{const At=Array.from((O==null?void 0:O.children)||[]);if(At.length&&(gt.key==="ArrowDown"&&(gt.preventDefault(),ge(Ge),_e("next")),gt.key==="ArrowUp"&&(gt.preventDefault(),ge(Ge),_e("previous")),gt.key==="Enter")){gt.preventDefault(),ge(Ge);const Dt=At.find(at=>Number(at.dataset.index)===ne.findIndex(tt=>tt.activeIndex===P.current));if(Dt){const at=Dt==null?void 0:Dt.querySelector(RV);at==null||at.click()}}},[O==null?void 0:O.children,ge,ne,_e]),He=p.useCallback(Ge=>Ye("input")(Ge),[Ye]),lt=p.useCallback(Ge=>Ye("list")(Ge),[Ye]),Xe=p.useCallback(()=>{C&&(se(),M(!0))},[C,se]),st=p.useCallback(()=>{C&&(de(),M(!1))},[de,C]);p.useImperativeHandle(r,()=>({focusInputElement(){pe()},focusListElement(){Pe()},getTopIndex(){return ye()},scrollToIndex(Ge){ve({index:Ge}),K(!0)}}),[K,pe,Pe,ye,ve]),p.useEffect(()=>{typeof g<"u"&&!D.current&&ve({index:g,scrollAlign:v,scrollIntoView:!0}),D.current=!0},[g,v,C,ve]),p.useEffect(()=>{function Ge(){K(!0)}return B==null||B.addEventListener("mousemove",Ge),B==null||B.addEventListener("wheel",Ge,{passive:!0}),()=>{B==null||B.removeEventListener("mousemove",Ge),B==null||B.removeEventListener("wheel",Ge)}},[K,B]),p.useEffect(()=>(y==null||y.addEventListener("focus",Fe),y==null||y.addEventListener("keydown",He),B==null||B.addEventListener("focus",Fe),B==null||B.addEventListener("keydown",lt),()=>{y==null||y.removeEventListener("focus",Fe),y==null||y.removeEventListener("keydown",He),B==null||B.removeEventListener("focus",Fe),B==null||B.removeEventListener("keydown",lt)}),[l,Fe,Ye,He,lt,de,y,se,B]),p.useEffect(()=>{we()},[we,x]),p.useEffect(()=>{const Ge=new MutationObserver(fe);return O&&Ge.observe(O,{childList:!0,subtree:!0}),()=>{Ge.disconnect()}},[O,fe]),p.useEffect(()=>{y==null||y.setAttribute("aria-autocomplete","list"),y==null||y.setAttribute("aria-expanded","true"),y==null||y.setAttribute("aria-controls",re()),y==null||y.setAttribute("role","combobox")},[re,y]),p.useEffect(()=>{a&&ge(a)},[a,l,Pe,pe,ge]);const kt=l?0:-1;return d.jsxs(mXe,{id:re(),onMouseEnter:Xe,onMouseLeave:st,ref:H,sizing:"border",tabIndex:kt,...I,children:[l&&d.jsx($In,{offset:u}),d.jsx(MIn,{"aria-hidden":"true","data-enabled":!0,ref:z}),G&&d.jsx(FIn,{forwardedAs:"ul",$height:G.getTotalSize(),"aria-label":o,"aria-multiselectable":s,flex:1,ref:$,role:"listbox",children:G.getVirtualItems().map(Ge=>{const gt=Ge.index,{activeIndex:At,disabled:Dt,selected:at}=ne[gt],tt=T(x[gt],{activeIndex:At,disabled:Dt,selected:at,virtualIndex:gt}),it=p.cloneElement(tt,{tabIndex:-1}),jt=typeof At=="number"&&!Dt?{"aria-posinset":At+1,...s?{"aria-selected":at.toString()}:{},"aria-setsize":le,id:Q(At),role:"option",onMouseEnter:Re(At)}:{};return d.jsx(Se,{as:"li","data-index":gt,ref:c?void 0:G.measureElement,style:{flex:1,...c?{height:"".concat(Ge.size,"px")}:{},left:0,position:"absolute",top:0,transform:"translateY(".concat(Ge.start,"px)"),width:"100%"},tabIndex:-1,...jt,children:it},Ge.key)})})]})}),ha=p.forwardRef(function(e,r){const{mode:i="bleed",tooltipProps:o,tone:s,...a}=e,{t:l}=me();return d.jsx(ze,{...a,icon:I8,mode:i,ref:r,tone:s,tooltipProps:{...o,content:(o==null?void 0:o.content)||l("common.context-menu-button.tooltip")}})});function AT(n,e){let{name:r,title:i}=n;return typeof r=="string"&&r.trim().length>0?r:gY(i,e)}function gY(n,e){const r=typeof n=="string"&&n.trim().length>0?' (titled "'.concat(n,'")'):"";return"at index ".concat(e).concat(r)}const gXe=p.createContext(null);function MD(){const n=p.useContext(gXe);if(!n)throw new Error("Could not find `workspaces` context");return n}class Ap extends Error{constructor(e,r){super(e),this.index=r==null?void 0:r.index,this.identifier=(r==null?void 0:r.workspace)&&AT(r.workspace,r.index)}}function NIn(n){let{workspaces:e}=n;if(e.length===0)throw new Ap("At least one workspace is required.");BIn(e),UIn(e)}function BIn(n){const e=n.length===1,r=new Map;n.forEach((i,o)=>{const{name:s,title:a}=i,l=gY(a,o);if(!s&&!e)throw new Ap("All workspaces must have a `name`, unless only a single workspace is defined. "+"Workspace ".concat(l," did not define a `name`."),{workspace:i,index:o});const c=e&&typeof s>"u"?"default":s;if(typeof c!="string")throw new Ap("Workspace at index ".concat(o," defined an invalid `name` - must be a string."),{workspace:i,index:o});const u=c.toLowerCase(),f=r.get(u);if(f){const h=gY(f.workspace.title,f.index);throw new Ap("`name`s must be unique. Workspace ".concat(h," and ")+"workspace ".concat(l," both have the `name` `").concat(c,"`"),{workspace:i,index:o})}if(r.set(u,{index:o,workspace:i}),!/^[a-z0-9][a-z0-9_-]*$/i.test(c))throw new Ap("All workspace `name`s must consist of only a-z, 0-9, underscore and dashes, and cannot begin with an underscore or dash. "+"Workspace ".concat(l," has the invalid name `").concat(c,"`"),{workspace:i,index:o})})}function UIn(n){n.length>1&&n.every(zIn),n.every(VIn);const[e,...r]=n,i=(e.basePath||"/").substring(1).split("/").filter(Boolean).length;r.forEach((s,a)=>{const l=(s.basePath||"/").substring(1).split("/").length;if(i!==l)throw new Ap("All workspace `basePath`s must have the same amount of segments. Workspace `".concat(AT(e,a),"` had ").concat(i," segment").concat(i===1?"":"s"," `").concat(e.basePath,"` but workspace `").concat(AT(s,a),"` had ").concat(l," segment").concat(l===1?"":"s"," `").concat(s.basePath,"`"),{workspace:s,index:a})});const o=new Map;n.forEach((s,a)=>{const l=(s.basePath||"").toLowerCase(),c=o.get(l);if(c)throw new Ap("`basePath`s must be unique. Workspaces `".concat(c,"` and ")+"`".concat(AT(s,a),"` both have the `basePath` `").concat(l,"`"),{workspace:s,index:a});o.set(l,AT(s,a))})}function zIn(n,e){const{name:r,basePath:i}=n;if(i&&typeof i=="string")return!0;throw typeof i>"u"?new Ap("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(r,"` is missing a `basePath`"),{workspace:n,index:e}):new Ap("If more than one workspace is defined, every workspace must have a `basePath` defined. "+"Workspace `".concat(r,"` has an invalid `basePath` (must be a non-empty string)"),{workspace:n,index:e})}function VIn(n,e){const{name:r,basePath:i}=n;if(!(!i||i==="/")&&!/^\/[a-z0-9/_-]*[a-z0-9_-]+$/i.test(i))throw new Ap("All workspace `basePath`s must start with a leading `/`, consist of only URL safe characters, and cannot end with a trailing `/`. "+"Workspace `".concat(r,"`'s basePath is `").concat(i,"`"),{workspace:n,index:e})}const HIn=()=>p.createElement(p.Fragment);function WIn(n,e){return r=>{let i=o=>p.createElement(n,o);for(const o of e){const s=i;i=a=>p.createElement(o,{...a,renderDefault:s})}return i({...r,renderDefault:HIn})}}function Tf(n){const{options:e}=xi().__internal,{defaultComponent:r,pick:i}=n;return p.useMemo(()=>{const o=[...KS(e,[])];o.reverse();const a=o.map(l=>{let{config:c}=l;return i(c)}).filter(Boolean);return WIn(r,a)},[r,e,i])}class Sbe extends Error{constructor(e){let{propertyName:r,path:i,cause:o}=e;const s=$n(o)&&typeof(o==null?void 0:o.message)=="string"?": ".concat(o.message):"";super("An error occurred while resolving `".concat(r,"` from ").concat(i.join(" > ")).concat(s)),this.propertyName=r,this.cause=o,this.path=i}}class ef extends Error{constructor(e){let{causes:r,name:i,type:o}=e;const s=r.filter(Boolean).map(a=>$n(a)&&typeof(a==null?void 0:a.message)=="string"?a.message:String(a));super("Could not resolve ".concat(o).concat(i?" `".concat(i,"`"):"",`:
`).concat(s.map(a=>"	- ".concat(a)).join(`
`),`

`)),this.name=i,this.causes=r,this.type=o}}const GIn=(n,e,r)=>{let{document:i}=e;const o=i==null?void 0:i.unstable_fieldActions;if(!o)return n;if(typeof o=="function")return o(n,r);if(Array.isArray(o))return[...n,...o];throw new Error("Expected `document.unstable_fieldActions` to be an array or a function, but received ".concat(typeof o))},qIn=[],KS=(n,e)=>{let{plugins:r=[],...i}=n;const o={config:i,path:[...e,i.name]};return[...r.flatMap(l=>KS(l,[...e,i.name])),o]};var kbe=Object.freeze,KIn=Object.defineProperty,BA=(n,e)=>kbe(KIn(n,"raw",{value:kbe(e||n.slice())})),Tbe,Abe,Ibe,Dbe,Rbe;const YIn=!1,Obe=750,vY=2e3,ZIn=F(ke)(n=>{let{$fill:e}=n;return Ae(Ibe||(Ibe=BA([`
    align-items: center;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    justify-content: center;

    `,`

    `,`

    > * {
      position: absolute;
    }
  `])),Ae(e?Tbe||(Tbe=BA([`
          bottom: 0;
          height: 100%;
          left: 0;
          position: absolute;
          right: 0;
          top: 0;
          width: 100%;
        `])):Abe||(Abe=BA([`
          min-height: 75px;
          height: stretch;
          height: -webkit-fill-available;
          width: stretch;
          width: -webkit-fill-available;
        `]))),YIn)}),XIn=F(Qx)(n=>{let{$animatePosition:e=!0}=n;return Ae(Dbe||(Dbe=BA([`
    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }
    @keyframes slideUp {
      from {
        transform: translateY(0);
      }
      to {
        transform: translateY(-15px);
      }
    }
    animation: `,`;
  `])),e?"500ms ease-out ".concat(Obe,"ms 1 normal both running fadeIn, 750ms ease-out ").concat(vY,"ms 1 normal both running slideUp"):"500ms ease-out ".concat(Obe,"ms 1 normal both running fadeIn"))}),QIn=F(J)(Rbe||(Rbe=BA([`
  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }
  @keyframes slideDown {
    from {
      transform: translateY(0);
    }
    to {
      transform: translateY(15px);
    }
  }
  animation:
    1500ms ease-out `,`ms 1 normal both running fadeIn,
    750ms ease-out `,`ms 1 normal both running slideDown;
`])),vY,vY);function Zr(n){let{fill:e,showText:r,title:i}=n;return d.jsxs(ZIn,{$fill:e,as:e?Cu:"div",children:[d.jsx(XIn,{$animatePosition:!!r,muted:!0}),r&&d.jsx(JIn,{title:i})]})}function JIn(n){let{title:e}=n;const{t:r}=me();return d.jsx(QIn,{muted:!0,size:1,children:e||r("common.loading")})}function eDn(n){return!("then"in n.resources&&typeof n.resources.then=="function")}function vXe(n,e){return e}const eI="studio",tDn="validation",nDn=vXe("studio",{"asset-source.asset-list.menu.delete":"Delete","asset-source.asset-list.menu.show-usage":"Show usage","asset-source.asset-usage-dialog.header_file":"Documents using file","asset-source.asset-usage-dialog.header_image":"Documents using image","asset-source.asset-usage-dialog.loading":"Loading…","asset-source.delete-dialog.action.cancel":"Cancel","asset-source.delete-dialog.action.delete":"Delete","asset-source.delete-dialog.header_file":"Delete file","asset-source.delete-dialog.header_image":"Delete image","asset-source.delete-dialog.loading":"Loading…","asset-source.delete-dialog.usage-list.confirm-delete-file_named":"You are about to delete the file <strong>{{filename}}}</strong> and its metadata. Are you sure?","asset-source.delete-dialog.usage-list.confirm-delete-file_unnamed":"You are about to delete the file and its metadata. Are you sure?","asset-source.delete-dialog.usage-list.confirm-delete-image_named":"You are about to delete the image <strong>{{filename}}</strong> and its metadata. Are you sure?","asset-source.delete-dialog.usage-list.confirm-delete-image_unnamed":"You are about to delete the image and its metadata. Are you sure?","asset-source.delete-dialog.usage-list.image-preview-alt":"Preview of image","asset-source.delete-dialog.usage-list.warning-file-is-in-use_named":"{{filename}} cannot be deleted because it's being used. In order to delete this file, you first need to remove all uses of it.","asset-source.delete-dialog.usage-list.warning-file-is-in-use_unnamed":"This file cannot be deleted because it's being used. In order to delete it, you first need to remove all uses of it.","asset-source.delete-dialog.usage-list.warning-image-is-in-use_named":"{{filename}} cannot be deleted because it's being used. In order to delete this image, you first need to remove all uses of it.","asset-source.delete-dialog.usage-list.warning-image-is-in-use_unnamed":"This image cannot be deleted because it's being used. In order to delete it, you first need to remove all uses of it.","asset-source.dialog.accept-message":"Only showing assets of accepted types: <strong>{{acceptTypes}}</strong>","asset-source.dialog.default-title_file":"Select file","asset-source.dialog.default-title_image":"Select image","asset-source.dialog.load-more":"Load more","asset-source.dialog.no-assets_file":"No files","asset-source.dialog.no-assets_image":"No images","asset-source.file.asset-list.action.delete.disabled-cannot-delete-current-file":"Cannot delete currently selected file","asset-source.file.asset-list.action.delete.text":"Delete","asset-source.file.asset-list.action.delete.title":"Delete file","asset-source.file.asset-list.action.select-file.title":"Select the file {{filename}}","asset-source.file.asset-list.action.show-usage.title":"Show usage","asset-source.file.asset-list.delete-failed":"File could not be deleted","asset-source.file.asset-list.delete-successful":"File was deleted","asset-source.file.asset-list.header.date-added":"Date added","asset-source.file.asset-list.header.filename":"Filename","asset-source.file.asset-list.header.size":"Size","asset-source.file.asset-list.header.type":"Type","asset-source.file.title":"Uploaded files","asset-source.image.asset-list.delete-failed":"Image could not be deleted","asset-source.image.asset-list.delete-successful":"Image was deleted","asset-source.image.title":"Uploaded images","asset-source.usage-list.documents-using-file_named_one":"One document is using file <code>{{filename}}</code>","asset-source.usage-list.documents-using-file_named_other":"{{count}} documents are using file <code>{{filename}}</code>","asset-source.usage-list.documents-using-file_named_zero":"No documents are using file <code>{{filename}}</code>","asset-source.usage-list.documents-using-file_unnamed_one":"One document is using this file","asset-source.usage-list.documents-using-file_unnamed_other":"{{count}} documents are using this file","asset-source.usage-list.documents-using-file_unnamed_zero":"No documents are using this file","asset-source.usage-list.documents-using-image_named_one":"One document is using image <code>{{filename}}</code>","asset-source.usage-list.documents-using-image_named_other":"{{count}} documents are using image <code>{{filename}}</code>","asset-source.usage-list.documents-using-image_named_zero":"No documents are using image <code>{{filename}}</code>","asset-source.usage-list.documents-using-image_unnamed_one":"One document is using this image","asset-source.usage-list.documents-using-image_unnamed_other":"{{count}} documents are using this image","asset-source.usage-list.documents-using-image_unnamed_zero":"No documents are using this image","calendar.action.go-to-next-month":"Go to next month","calendar.action.go-to-next-year":"Go to next year","calendar.action.go-to-previous-month":"Go to previous month","calendar.action.go-to-previous-year":"Go to previous year","calendar.action.go-to-today":"Today","calendar.action.go-to-today-aria-label":"Go to today","calendar.action.go-to-tomorrow":"Tomorrow","calendar.action.go-to-yesterday":"Yesterday","calendar.action.include-time-label":"Include time","calendar.action.select-hour":"Select hour","calendar.action.select-minute":"Select minute","calendar.action.set-to-current-time":"Set to current time","calendar.action.set-to-time-preset":"{{time}} on {{date, datetime}}","calendar.error.must-be-in-format":"Must be in the format: {{exampleDate}}","calendar.month-names.april":"April","calendar.month-names.august":"August","calendar.month-names.december":"December","calendar.month-names.february":"February","calendar.month-names.january":"January","calendar.month-names.july":"July","calendar.month-names.june":"June","calendar.month-names.march":"March","calendar.month-names.may":"May","calendar.month-names.november":"November","calendar.month-names.october":"October","calendar.month-names.september":"September","calendar.weekday-names.short.friday":"Fri","calendar.weekday-names.short.monday":"Mon","calendar.weekday-names.short.saturday":"Sat","calendar.weekday-names.short.sunday":"Sun","calendar.weekday-names.short.thursday":"Thu","calendar.weekday-names.short.tuesday":"Tue","calendar.weekday-names.short.wednesday":"Wed","changes.action.close-label":"Close review changes","changes.action.revert-all-cancel":"Cancel","changes.action.revert-all-confirm":"Revert all","changes.action.revert-all-description":"Are you sure you want to revert all {{count}} changes?","changes.action.revert-changes-confirm-change_one":"Revert change","changes.action.revert-changes-confirm-change_other":"Revert changes","changes.action.revert-changes-description":"Are you sure you want to revert the changes?","changes.action.revert-changes-description_one":"Are you sure you want to revert the change?","changes.added-label":"Added","changes.array.item-added-in-position":"Added in position {{position}}","changes.array.item-moved_down_one":"Moved {{count}} position down","changes.array.item-moved_down_other":"Moved {{count}} positions down","changes.array.item-moved_up_one":"Moved {{count}} position up","changes.array.item-moved_up_other":"Moved {{count}} positions up","changes.array.item-removed-from-position":"Removed from position {{position}}","changes.change-bar.aria-label":"Review changes","changes.changed-label":"Changed","changes.changes-by-author":"Changes by","changes.error-boundary.developer-info":"Check the developer console for more information","changes.error-boundary.title":"Rendering the changes to this field caused an error","changes.error.incorrect-type-message":'Value error: Value is of type "<code>{{actualType}}</code>", expected "<code>{{expectedType}}</code>"',"changes.file.meta-info-fallback-title":"Untitled","changes.image.crop-changed":"Crop changed","changes.image.deleted":"Image deleted","changes.image.error-loading-image":"Error loading image","changes.image.hotspot-changed":"Hotspot changed","changes.image.meta-info-fallback-title":"Untitled","changes.image.no-asset-set":"Image not set","changes.image.no-image-placeholder":"(no image)","changes.inspector.from-label":"From","changes.inspector.meta-label":"Meta","changes.inspector.to-label":"To","changes.loading-author":"Loading…","changes.loading-changes":"Loading changes…","changes.no-changes-description":"Edit the document or select an older version in the timeline to see a list of changes appear in this panel.","changes.no-changes-title":"There are no changes","changes.portable-text.annotation_added":"Added annotation","changes.portable-text.annotation_changed":"Changed annotation","changes.portable-text.annotation_removed":"Removed annotation","changes.portable-text.annotation_unchanged":"Unchanged annotation","changes.portable-text.block-style-changed":'Changed block style from "{{fromStyle}}" to "{{toStyle}}"',"changes.portable-text.changed-formatting":"Changed formatting","changes.portable-text.empty-inline-object":"Empty {{inlineObjectType}}","changes.portable-text.empty-object-annotation":"Empty {{annotationType}}","changes.portable-text.empty-text_added":"Added empty text","changes.portable-text.empty-text_changed":"Changed empty text","changes.portable-text.empty-text_removed":"Removed empty text","changes.portable-text.inline-object_added":"Added inline object","changes.portable-text.inline-object_changed":"Changed inline object","changes.portable-text.inline-object_removed":"Removed inline object","changes.portable-text.inline-object_unchanged":"Unchanged inline object","changes.portable-text.text_added":"Added text","changes.portable-text.text_removed":"Removed text","changes.portable-text.unknown-annotation-schema-type":"Unknown schema type","changes.portable-text.unknown-inline-object-schema-type":"Unknown schema type","changes.removed-label":"Removed","changes.title":"Review changes","common.context-menu-button.tooltip":"Show more","common.dialog.cancel-button.text":"Cancel","common.dialog.confirm-button.text":"Confirm","common.loading":"Loading","configuration-issues.button.tooltip":"Found configuration issues","default-menu-item.fallback-title":"Sort by {{title}}","default-orderings.caption":"Sort by Caption","default-orderings.description":"Sort by Description","default-orderings.header":"Sort by Header","default-orderings.heading":"Sort by Heading","default-orderings.label":"Sort by Label","default-orderings.name":"Sort by Name","default-orderings.title":"Sort by Title","document-status.edited":"Edited {{date}}","document-status.not-published":"Not published","document-status.published":"Published {{date}}","form.error.duplicate-keys-alert.details.additional-description":"The value of the <code>_key</code> property must be a unique string.","form.error.duplicate-keys-alert.details.description":"This usually happens when items are created using an API client, and the <code>_key</code> property of each elements has been generated non-uniquely.","form.error.duplicate-keys-alert.details.title":"Developer info","form.error.duplicate-keys-alert.generate-button.text":"Generate unique keys","form.error.duplicate-keys-alert.summary":"Several items in this list share the same identifier (key). Every item must have an unique identifier.","form.error.duplicate-keys-alert.title":"Non-unique keys","form.error.field-not-found":'Field "{{fieldName}}" not found among members – verify that it is defined in the schema and that it has not been conditionally hidden.',"form.error.missing-keys-alert.add-button.text":"Add missing keys","form.error.missing-keys-alert.details.additional-description":"The value of the <code>_key</code> property must be a unique string.","form.error.missing-keys-alert.details.description":"This usually happens when items are created using an API client, and the <code>_key</code> property has not been included.","form.error.missing-keys-alert.details.title":"Developer info","form.error.missing-keys-alert.summary":"Some items in the list are missing their keys. This must be fixed in order to edit the list.","form.error.missing-keys-alert.title":"Missing keys","form.error.mixed-array-alert.details.description":"This usually happens when items are created using an API client, or when a custom input component has added invalid data to the list.","form.error.mixed-array-alert.details.title":"Developer info","form.error.mixed-array-alert.remove-button.text":"Remove non-object values","form.error.mixed-array-alert.summary":"Some items in this list are not objects. This must be fixed in order to edit the list.","form.error.mixed-array-alert.title":"Invalid list values","form.error.no-array-item-at-index":"No array item at index <code>{{index}}</code> found at path <code>{{path}}</code>","form.error.no-array-item-at-key":'No array item with `_key` <code>"{{key}}"</code> found at path <code>{{path}}</code>',"form.field.deprecated-label":"deprecated","form.field.untitled-field-label":"Untitled","form.field.untitled-fieldset-label":"Untitled","form.validation.has-error-aria-label":"Has error","form.validation.has-info-aria-label":"Has information","form.validation.has-warning-aria-label":"Has warning","form.validation.summary.errors-count_one":"{{count}} error","form.validation.summary.errors-count_other":"{{count}} errors","form.validation.summary.warnings-count_one":"{{count}} warning","form.validation.summary.warnings-count_other":"{{count}} warnings","free-trial.tooltip.days-count_one":"{{count}} day left in trial","free-trial.tooltip.days-count_other":"{{count}} days left in trial","free-trial.tooltip.trial-finished":"Upgrade your project","help-resources.action.contact-sales":"Contact sales","help-resources.action.help-and-support":"Help and support","help-resources.action.join-our-community":"Join our community","help-resources.latest-sanity-version":"Latest version is {{latestVersion}}","help-resources.studio-version":"Sanity Studio version {{studioVersion}}","help-resources.title":"Help and resources","input.files.common.cancel-upload":"Cancel","input.files.common.upload-placeholder.file-input-button.text":"Upload","input.files.common.upload-progress":"Uploading <FileName/>","input.reference.document-cannot-be-opened.failed-to-resolve-url":"This document cannot be opened (unable to resolve URL to Studio)","inputs.array.action.add-after":"Add item after","inputs.array.action.add-before":"Add item before","inputs.array.action.add-item":"Add item","inputs.array.action.add-item-select-type":"Add item...","inputs.array.action.drag.tooltip":"Drag to re-order","inputs.array.action.duplicate":"Duplicate","inputs.array.action.edit":"Edit {{itemTypeTitle}}","inputs.array.action.remove":"Remove","inputs.array.action.remove-invalid-item":"Remove","inputs.array.action.view":"View {{itemTypeTitle}}","inputs.array.error.can-delete-but-no-edit-description":"You can still move or delete this item, but it cannot be edited since the schema definition for its type is nowhere to be found.","inputs.array.error.cannot-resolve-initial-value-title":"Unable to resolve initial value for type: {{schemaTypeTitle}}: {{errorMessage}}.","inputs.array.error.cannot-upload-unable-to-convert_one":"The following item can't be uploaded because there's no known conversion from content type to array item:","inputs.array.error.cannot-upload-unable-to-convert_other":"The following items can't be uploaded because there's no known conversion from content types to array item:","inputs.array.error.current-schema-not-declare-description":"The current schema does not declare items of type <code>{{typeName}}</code> as valid for this list. This could mean that the type has been removed as a valid item type, or that someone else has added it to their own local schema that is not yet deployed.","inputs.array.error.json-representation-description":"JSON representation of this item:","inputs.array.error.type-is-incompatible-prompt":"Item of type <code>{{typeName}}</code> not valid for this list","inputs.array.error.type-is-incompatible-title":"Why is this happening?","inputs.array.error.unexpected-error":"Unexpected Error: {{error}}","inputs.array.no-items-label":"No items","inputs.array.read-only-label":"This field is read-only","inputs.array.resolving-initial-value":"Resolving initial value…","inputs.datetime.placeholder":"e.g. {{example}}","inputs.file.actions-menu.file-options.aria-label":"Open file options menu","inputs.file.browse-button.text":"Browse","inputs.file.dialog.title":"Select file","inputs.file.error.unknown-member-kind":"Unknown member kind: {{kind}}","inputs.file.invalid-file-warning.description":"The value of this field is not a valid file. Resetting this field will let you choose a new file.","inputs.file.invalid-file-warning.reset-button.text":"Reset value","inputs.file.invalid-file-warning.title":"Invalid file value","inputs.file.multi-browse-button.text":"Select","inputs.file.upload-failed.description":"The upload could not be completed at this time.","inputs.file.upload-failed.title":"Upload failed","inputs.files.common.actions-menu.clear-field.label":"Clear field","inputs.files.common.actions-menu.copy-url.label":"Copy URL","inputs.files.common.actions-menu.download.label":"Download","inputs.files.common.actions-menu.notification.url-copied":"The URL is copied to the clipboard","inputs.files.common.actions-menu.replace.label":"Replace","inputs.files.common.actions-menu.upload.label":"Upload","inputs.files.common.drop-message.drop-to-upload":"Drop to upload","inputs.files.common.drop-message.drop-to-upload-multi_one":"Drop to upload {{count}} file","inputs.files.common.drop-message.drop-to-upload-multi_other":"Drop to upload {{count}} files","inputs.files.common.drop-message.drop-to-upload.no-accepted-file-message_one":"Can't upload this file here","inputs.files.common.drop-message.drop-to-upload.no-accepted-file-message_other":"Can't upload any of these files here","inputs.files.common.drop-message.drop-to-upload.rejected-file-message_one":"{{count}} file can't be uploaded here","inputs.files.common.drop-message.drop-to-upload.rejected-file-message_other":"{{count}} files can't be uploaded here","inputs.files.common.placeholder.cannot-upload-some-files_one":"Cannot upload file","inputs.files.common.placeholder.cannot-upload-some-files_other":"Cannot upload {{count}} files","inputs.files.common.placeholder.drag-or-paste-to-upload_file":"Drag or paste file here","inputs.files.common.placeholder.drag-or-paste-to-upload_image":"Drag or paste image here","inputs.files.common.placeholder.drop-to-upload_file":"Drop to upload file","inputs.files.common.placeholder.drop-to-upload_image":"Drop to upload image","inputs.files.common.placeholder.read-only":"Read only","inputs.files.common.placeholder.upload-not-supported":"Can't upload files here","inputs.files.common.stale-upload-warning.clear":"Clear upload","inputs.files.common.stale-upload-warning.description":"An upload has made no progress for at least {{staleThresholdMinutes}} minutes and likely got interrupted. You can safely clear the incomplete upload and try uploading again.","inputs.files.common.stale-upload-warning.title":"Incomplete upload","inputs.image.actions-menu.crop-image-tooltip":"Crop image","inputs.image.actions-menu.edit-details.aria-label":"Open image edit dialog","inputs.image.actions-menu.options.aria-label":"Open image options menu","inputs.image.browse-menu.text":"Select","inputs.image.drag-overlay.cannot-upload-here":"Cannot upload this file here","inputs.image.drag-overlay.drop-to-upload-image":"Drop image to upload","inputs.image.drag-overlay.this-field-is-read-only":"This field is read only","inputs.image.error.unknown-member-kind":"Unknown member kind: {{kind}}","inputs.image.hotspot-dialog.title":"Edit hotspot and crop","inputs.image.invalid-image-warning.description":"The value of this field is not a valid image. Resetting this field will let you choose a new image.","inputs.image.invalid-image-warning.reset-button.text":"Reset value","inputs.image.invalid-image-warning.title":"Invalid image value","inputs.image.preview-uploaded-image":"Preview of uploaded image","inputs.image.upload-error.description":"The upload could not be completed at this time.","inputs.image.upload-error.title":"Upload failed","inputs.imagetool.description":"Adjust the rectangle to crop image. Adjust the circle to specify the area that should always be visible.","inputs.imagetool.load-error":"Error: {{errorMessage}}","inputs.imagetool.title":"Hotspot & Crop","inputs.invalid-value.convert-button.text":"Convert to {{targetType}}","inputs.invalid-value.current-type":"The current value (<code>{{actualType}}</code>)","inputs.invalid-value.description":"The property value is stored as a value type that does not match the expected type.","inputs.invalid-value.details.description":"The value of this property must be of type <code>{{validType}}</code> according to the schema.","inputs.invalid-value.details.multi-type-description":"Only the following types are valid here according to schema:","inputs.invalid-value.details.possible-reason":"Mismatching value types typically occur when the schema has recently been changed.","inputs.invalid-value.details.title":"Developer info","inputs.invalid-value.reset-button.text":"Reset value","inputs.invalid-value.title":"Invalid property value","inputs.object.field-group-tabs.aria-label":"Field groups","inputs.object.unknown-fields.read-only.description":"This field is <strong>read only</strong> according to the document’s schema and cannot be unset. If you want to be able to unset this in Studio, make sure you remove the <code>readOnly</code> field from the enclosing type in the schema.","inputs.object.unknown-fields.remove-field-button.text":"Remove field","inputs.object.unknown-fields.warning.description_one":"Encountered a field that is not defined in the schema.","inputs.object.unknown-fields.warning.description_other":"Encountered {{count}} fields that are not defined in the schema.","inputs.object.unknown-fields.warning.details.description_one":"This field is not defined in the schema, which could mean that the field definition has been removed or that someone else has added it to their own local project and have not deployed their changes yet.","inputs.object.unknown-fields.warning.details.description_other":"These fields are not defined in the document’s schema, which could mean that the field definitions have been removed or that someone else has added them to their own local project and have not deployed their changes yet.","inputs.object.unknown-fields.warning.details.title":"Developer info","inputs.object.unknown-fields.warning.title_one":"Unknown field found","inputs.object.unknown-fields.warning.title_other":"Unknown fields found","inputs.portable-text.action.collapse-editor":"Collapse editor","inputs.portable-text.action.edit-annotation-aria-label":"Edit annotation","inputs.portable-text.action.expand-editor":"Expand editor","inputs.portable-text.action.insert-block":"Insert {{typeName}}","inputs.portable-text.action.insert-block-aria-label":"Insert {{typeName}} (block)","inputs.portable-text.action.insert-inline-object":"Insert {{typeName}}","inputs.portable-text.action.insert-inline-object-aria-label":"Insert {{typeName}} (inline)","inputs.portable-text.action.remove-annotation-aria-label":"Remove annotation","inputs.portable-text.activate-on-focus-message_click":"Click to activate","inputs.portable-text.activate-on-focus-message_click-focused":"Click or press space to activate","inputs.portable-text.activate-on-focus-message_tap":"Tap to activate","inputs.portable-text.annotation-aria-label":"Annotation object","inputs.portable-text.annotation-editor.title":"Edit {{schemaType}}","inputs.portable-text.annotation.link":"Link","inputs.portable-text.block.aria-label":"Block object","inputs.portable-text.block.edit":"Edit","inputs.portable-text.block.open-menu-aria-label":"Open menu","inputs.portable-text.block.open-reference":"Open reference","inputs.portable-text.block.remove":"Remove","inputs.portable-text.block.view":"View","inputs.portable-text.decorator.code":"Code","inputs.portable-text.decorator.emphasis":"Italic","inputs.portable-text.decorator.strike-through":"Strike","inputs.portable-text.decorator.strong":"Strong","inputs.portable-text.decorator.underline":"Underline","inputs.portable-text.empty-placeholder":"Empty","inputs.portable-text.inline-block.aria-label":"Inline object","inputs.portable-text.inline-object.edit":"Edit object","inputs.portable-text.inline-object.edit-aria-label":"Edit object","inputs.portable-text.inline-object.remove":"Remove object","inputs.portable-text.inline-object.remove-aria-label":"Remove object","inputs.portable-text.invalid-value.action-disclaimer":"NOTE: It’s generally safe to perform the action above, but if you are in doubt, get in touch with those responsible for configuring your studio.","inputs.portable-text.invalid-value.disallowed-child-type.action":"Remove the object","inputs.portable-text.invalid-value.disallowed-child-type.description":"Child with key {{childKey}} of block with key <code>{{key}}</code> is of type <code>{{childType}}</code>, which is not allowed by the schema.","inputs.portable-text.invalid-value.disallowed-type.action":"Remove the block","inputs.portable-text.invalid-value.disallowed-type.description":"Block with key <code>{{key}}</code> is of type <code>{{typeName}}</code>, which is not allowed by the schema.","inputs.portable-text.invalid-value.empty-children.action":"Insert empty text span","inputs.portable-text.invalid-value.empty-children.description":"Text block with key <code>{{key}}</code> has no text spans.","inputs.portable-text.invalid-value.ignore-button.text":"Ignore","inputs.portable-text.invalid-value.incorrect-block-type.action":"Use type <code>{{expectedTypeName}}</code>","inputs.portable-text.invalid-value.incorrect-block-type.description":"Block with key <code>{{key}}</code> has an invalid type name. According to the schema, it should be <code>{{expectedTypeName}}</code>.","inputs.portable-text.invalid-value.invalid-span-text.action":"Set empty text value","inputs.portable-text.invalid-value.invalid-span-text.description":"Span with key {{childKey}} of block with key <code>{{key}}</code> has a missing or invalid <code>text</code> property.","inputs.portable-text.invalid-value.missing-block-type.action":"Use type <code>{{expectedTypeName}}</code>","inputs.portable-text.invalid-value.missing-block-type.description":"Block with key <code>{{key}}</code> is missing a type name. According to the schema, it should be <code>{{expectedTypeName}}</code>.","inputs.portable-text.invalid-value.missing-child-key.action":"Assign random key","inputs.portable-text.invalid-value.missing-child-key.description":"Child at index <code>{{index}}</code> of block with key <code>{{key}}</code> is missing <code>_key</code> property.","inputs.portable-text.invalid-value.missing-child-type.action":"Remove the object","inputs.portable-text.invalid-value.missing-child-type.description":"Child with key {{childKey}} of block with key <code>{{key}}</code> is missing <code>_type</code> property.","inputs.portable-text.invalid-value.missing-key.action":"Assign random key","inputs.portable-text.invalid-value.missing-key.description":"Block at index <code>{{index}}</code> is missing required <code>_key</code> property.","inputs.portable-text.invalid-value.missing-or-invalid-children.action":"Remove the block","inputs.portable-text.invalid-value.missing-or-invalid-children.description":"Text block with key <code>{{key}}</code> has an invalid or missing `children` property.","inputs.portable-text.invalid-value.missing-or-invalid-markdefs.action":"Add property","inputs.portable-text.invalid-value.missing-or-invalid-markdefs.description":"Text block with key <code>{{key}}</code> has an invalid or missing `markDefs` property.","inputs.portable-text.invalid-value.missing-type.action":"Remove the block","inputs.portable-text.invalid-value.missing-type.description":"Block with key <code>{{key}}</code> is missing a type name.","inputs.portable-text.invalid-value.non-object-child.action":"Remove the item","inputs.portable-text.invalid-value.non-object-child.description":"Child at index <code>{{index}}</code> of block with key <code>{{key}}</code> is not an object.","inputs.portable-text.invalid-value.not-an-array.action":"Unset the value","inputs.portable-text.invalid-value.not-an-array.description":"Value must be an array of Portable Text blocks, or undefined.","inputs.portable-text.invalid-value.not-an-object.action":"Remove item","inputs.portable-text.invalid-value.not-an-object.description":"Item at <code>{{index}}</code> is not an object,.","inputs.portable-text.invalid-value.orphaned-marks.action":"Remove disallowed marks","inputs.portable-text.invalid-value.orphaned-marks.description":"Text block with key <code>{{key}}</code> contains marks <code>({{orphanedMarks, list}})</code> that are not allowed by the schema.","inputs.portable-text.invalid-value.title":"Invalid Portable Text value","inputs.portable-text.list-type.bullet":"Bulleted list","inputs.portable-text.list-type.number":"Numbered list","inputs.portable-text.style.h1":"Heading 1","inputs.portable-text.style.h2":"Heading 2","inputs.portable-text.style.h3":"Heading 3","inputs.portable-text.style.h4":"Heading 4","inputs.portable-text.style.h5":"Heading 5","inputs.portable-text.style.h6":"Heading 6","inputs.portable-text.style.multiple":"Multiple","inputs.portable-text.style.none":"No style","inputs.portable-text.style.normal":"Normal","inputs.portable-text.style.quote":"Quote","inputs.reference.action.clear":"Clear","inputs.reference.action.create-new-document":"Create","inputs.reference.action.create-new-document-select":"Create…","inputs.reference.action.duplicate":"Duplicate","inputs.reference.action.open-in-new-tab":"Open in new tab","inputs.reference.action.remove":"Remove","inputs.reference.action.replace":"Replace","inputs.reference.action.replace-cancel":"Cancel replace","inputs.reference.cross-dataset.feature-disabled-actions":"You can still clear this field's existing reference, but it cannot be changed to a different document as long as the feature is disabled.","inputs.reference.cross-dataset.feature-disabled-description":"This feature has been disabled. Read how to enable it in <DocumentationLink>the documentation</DocumentationLink>.","inputs.reference.cross-dataset.feature-unavailable-title":"Unavailable feature: Cross dataset reference","inputs.reference.cross-dataset.invalid-type":"The referenced document is of invalid type ({{typeName}}) <JsonValue/>","inputs.reference.document-opens-in-new-tab":"This document opens in a new tab","inputs.reference.error.document-unavailable-title":"Document unavailable","inputs.reference.error.failed-to-load-document-title":"Failed to load referenced document","inputs.reference.error.invalid-search-result-type-title":`Search returned a type that's not valid for this reference: "{{returnedType}}"`,"inputs.reference.error.invalid-type-description":"Referenced document (<code>{{documentId}}</code>) is of type <code>{{actualType}}</code>. According to the schema, referenced documents can only be of type <AllowedTypes />.","inputs.reference.error.invalid-type-title":"Document of invalid type","inputs.reference.error.missing-read-permissions-description":"The referenced document could not be accessed due to insufficient permissions","inputs.reference.error.missing-read-permissions-title":"Insufficient permissions","inputs.reference.error.nonexistent-document-description":"The referenced document does not exist (ID: <code>{{documentId}}</code>). You can either remove the reference or replace it with another document.","inputs.reference.error.nonexistent-document-title":"Not found","inputs.reference.error.nonexistent-document.clear-button-label":"Clear","inputs.reference.error.search-failed-title":"Reference search failed","inputs.reference.image-preview-alt-text":"Image preview of referenced document","inputs.reference.incomplete-reference.finalize-action-description":"<strong>{{referencedDocument}}</strong> is published and this reference should now be finalized.","inputs.reference.incomplete-reference.finalize-action-title":"Finalize reference","inputs.reference.incomplete-reference.strengthen-action-description":"<strong>{{referencedDocument}}</strong> is published and this reference should now be converted to a strong reference.","inputs.reference.incomplete-reference.strengthen-action-title":"Convert to strong reference","inputs.reference.incomplete-reference.strengthen-button-label":"Convert to strong reference","inputs.reference.metadata-error.retry-button-label":"Retry","inputs.reference.metadata-error.title":"Unable to load reference metadata","inputs.reference.no-results-for-query":"No results for <strong>“{{searchTerm}}”</strong>","inputs.reference.preview.edited-at-time":"Edited <RelativeTime/>","inputs.reference.preview.has-no-unpublished-changes-aria-label":"No unpublished edits","inputs.reference.preview.has-unpublished-changes-aria-label":"Edited","inputs.reference.preview.is-not-published-aria-label":"Not published","inputs.reference.preview.is-published-aria-label":"Published","inputs.reference.preview.no-unpublished-edits":"No unpublished edits","inputs.reference.preview.not-published":"Not published","inputs.reference.preview.published-at-time":"Published <RelativeTime/>","inputs.reference.referenced-document-does-not-exist":"The referenced document no longer exist and might have been deleted (document ID: <code>{{documentId}}</code>).","inputs.reference.referenced-document-insufficient-permissions":"The referenced document could not be accessed due to insufficient permissions","inputs.reference.resolving-initial-value":"Resolving initial value…","inputs.reference.search-placeholder":"Type to search","inputs.reference.strength-mismatch.is-strong-consquences":"It will not be possible to delete the reference document without first removing this reference or converting it to weak.","inputs.reference.strength-mismatch.is-strong-description":"This reference is <em>strong</em>, but according to the current schema it should be <em>weak</em>.","inputs.reference.strength-mismatch.is-weak-consquences":"This makes it possible to delete the referenced document without first deleting this reference, leaving this field referencing a nonexisting document.","inputs.reference.strength-mismatch.is-weak-description":"This reference is <em>weak</em>, but according to the current schema it should be <em>strong</em>.","inputs.reference.strength-mismatch.strengthen-button-label":"Convert to strong reference","inputs.reference.strength-mismatch.title":"Reference strength mismatch","inputs.reference.strength-mismatch.weaken-button-label":"Convert to weak reference","inputs.slug.action.generate":"Generate","inputs.slug.action.generating":"Generating…","inputs.slug.error.missing-source":"Source is missing. Check source on type {{schemaType}} in schema","inputs.tags.placeholder":"Enter tag and press ENTER…","inputs.tags.placeholder_touch":"Enter tag…","inputs.untyped-value.convert-button.text":"Convert to {{targetType}}","inputs.untyped-value.description":"Encountered an object value without a <code>_type</code> property.","inputs.untyped-value.details.description":"Either remove the <code>name</code> property of the object declaration, or set <code>_type</code> property on items.","inputs.untyped-value.details.json-dump-prefix":"Current value (<code>object</code>):","inputs.untyped-value.details.multi-type-description":"The following types are valid here according to schema:","inputs.untyped-value.details.title":"Developer info","inputs.untyped-value.title":"Property value missing <code>_type</code>","inputs.untyped-value.unset-item-button.text":"Unset value","insufficient-permissions-message.not-authorized-explanation":"You do not have permission to access this feature.","insufficient-permissions-message.not-authorized-explanation_create-any-document":"You do not have permission to create a document.","insufficient-permissions-message.not-authorized-explanation_create-document":"You do not have permission to create this document.","insufficient-permissions-message.not-authorized-explanation_create-document-type":"You do not have permission to create this kind of document.","insufficient-permissions-message.not-authorized-explanation_create-new-reference":"You do not have permission to create a new reference.","insufficient-permissions-message.not-authorized-explanation_delete-document":"You do not have permission to delete this document.","insufficient-permissions-message.not-authorized-explanation_discard-changes":"You do not have permission to discard changes in this document.","insufficient-permissions-message.not-authorized-explanation_duplicate-document":"You do not have permission to duplicate this document.","insufficient-permissions-message.not-authorized-explanation_publish-document":"You do not have permission to publish this document.","insufficient-permissions-message.not-authorized-explanation_unpublish-document":"You do not have permission to unpublish this document.","insufficient-permissions-message.roles":"Your roles: <Roles/>","insufficient-permissions-message.title":"Insufficient permissions","member-field-error.unexpected-error":"Unexpected error: {{error}}","new-document.button":"Create","new-document.create-new-document-label":"New document…","new-document.filter-placeholder":"Search document types","new-document.loading":"Loading…","new-document.new-document-aria-label":"New document","new-document.no-document-types-found":"No document types found","new-document.no-document-types-label":"No document types","new-document.no-results":"No results for <strong>{{searchQuery}}</strong>","new-document.open-dialog-aria-label":"Create new document","new-document.title":"Create new document","presence.action.manage-members":"Manage members","presence.aria-label":"Global presence","presence.no-one-else-description":"Invite people to the project to see their online status.","presence.no-one-else-title":"No one else is here","presence.not-in-a-document":"Not in a document","presence.tooltip-content":"Who is here","preview.default.title-fallback":"Untitled","preview.fallback.no-value":"(no value)","preview.image.file-is-being-uploaded.alt-text":"The image currently being uploaded","relative-time.just-now":"just now","search.action-open-aria-label":"Open search","search.action.add-filter":"Add filter","search.action.clear-filters":"Clear filters","search.action.clear-recent-searches":"Clear recent searches","search.action.clear-type-filters-aria-label":"Clear checked filters","search.action.clear-type-filters-label":"Clear","search.action.close-search-aria-label":"Close search","search.action.filter-by-document-type-aria-label":"Filter by document type","search.action.remove-filter-aria-label":"Remove filter","search.action.search-all-types":"Search all documents","search.action.search-specific-types":"Search for {{types, list}}","search.action.search-specific-types-truncated":"Search for {{types, list}} +{{count}} more","search.action.select-asset":"Select asset","search.action.select-asset_file":"Select file","search.action.select-asset_image":"Select image","search.action.toggle-filters-aria-label_hide":"Hide filters","search.action.toggle-filters-aria-label_show":"Show filters","search.action.toggle-filters-label_hide":"Hide filters","search.action.toggle-filters-label_show":"Show filters","search.button.tooltip":"Search","search.document-type-list":"{{types, list}}","search.document-type-list-all-types":"All types","search.document-type-list-truncated":"{{types, list}} +{{count}} more","search.document-types-aria-label":"Document types","search.document-types-no-matches-found":"No matches for {{filter}}","search.error.display-filter-description":"This may indicate invalid options defined in your schema.","search.error.display-filter-title":"An error occurred whilst displaying this filter.","search.error.no-valid-asset-source-check-config-description":"Please ensure it's enabled in your studio configuration file.","search.error.no-valid-asset-source-only-default-description":"Currently, only the default asset source is supported.","search.error.no-valid-asset-source-title":"No valid asset sources found.","search.error.unspecified-error-help-description":"Please try again or check your connection","search.error.unspecified-error-title":"Something went wrong while searching","search.filter-all-fields-header":"All fields","search.filter-asset-change_file":"Change file","search.filter-asset-change_image":"Change image","search.filter-asset-clear":"Clear","search.filter-asset-select_file":"Select file","search.filter-asset-select_image":"Select image","search.filter-boolean-false":"False","search.filter-boolean-true":"True","search.filter-by-title-aria-label":"Filter by title","search.filter-date-aria-label":"Date","search.filter-date-range-end-date-aria-label":"End date","search.filter-date-range-start-date-aria-label":"Start date","search.filter-date-unit-aria-label":"Select unit","search.filter-date-unit_days":"Days","search.filter-date-unit_months":"Months","search.filter-date-unit_years":"Years","search.filter-date-value-aria-label":"Unit value","search.filter-field-tooltip-description":"Field description","search.filter-field-tooltip-name":"Field name","search.filter-field-tooltip-used-in-document-types":"Used in document types","search.filter-no-matches-found":"No matches for {{filter}}","search.filter-number-max-value-placeholder":"Max value","search.filter-number-min-value-placeholder":"Min value","search.filter-number-value-placeholder":"Value","search.filter-placeholder":"Filter","search.filter-reference-clear":"Clear","search.filter-shared-fields-header":"Shared fields","search.filter-string-value-placeholder":"Value","search.filter-string-value-select-predefined-value":"Select…","search.filters-aria-label_one":"Filter","search.filters-aria-label_other":"Filters","search.instructions":"Use <ControlsIcon/> to refine your search","search.no-results-help-description":"Try another keyword or adjust your filters","search.no-results-title":"No results found","search.operator.array-count-equal.description_one":"<Field/> <Operator>has</Operator> <Value>{{count}} item</Value>","search.operator.array-count-equal.description_other":"<Field/> <Operator>has</Operator> <Value>{{count}} items</Value>","search.operator.array-count-equal.name":"quantity is","search.operator.array-count-gt.description_one":"<Field/> <Operator>has ></Operator> <Value>{{count}} item</Value>","search.operator.array-count-gt.description_other":"<Field/> <Operator>has ></Operator> <Value>{{count}} items</Value>","search.operator.array-count-gt.name":"quantity greater than","search.operator.array-count-gte.description_one":"<Field/> <Operator>has ≥</Operator> <Value>{{count}} item</Value>","search.operator.array-count-gte.description_other":"<Field/> <Operator>has ≥</Operator> <Value>{{count}} items</Value>","search.operator.array-count-gte.name":"quantity greater than or equal to","search.operator.array-count-lt.description_one":"<Field/> <Operator>has <</Operator> <Value>{{count}} item</Value>","search.operator.array-count-lt.description_other":"<Field/> <Operator>has <</Operator> <Value>{{count}} items</Value>","search.operator.array-count-lt.name":"quantity less than","search.operator.array-count-lte.description_one":"<Field/> <Operator>has ≤</Operator> <Value>{{count}} item</Value>","search.operator.array-count-lte.description_other":"<Field/> <Operator>has ≤</Operator> <Value>{{count}} items</Value>","search.operator.array-count-lte.name":"quantity less than or equal to","search.operator.array-count-not-equal.description_one":"<Field/> <Operator>does not have</Operator> <Value>{{count}} item</Value>","search.operator.array-count-not-equal.description_other":"<Field/> <Operator>does not have</Operator> <Value>{{count}} items</Value>","search.operator.array-count-not-equal.name":"quantity is not","search.operator.array-count-range.description":"<Field/> <Operator>has between</Operator> <Value>{{from}} → {{to}} items</Value>","search.operator.array-count-range.name":"quantity is between","search.operator.array-list-includes.description":"<Field/> <Operator>includes</Operator> <Value>{{value}}</Value>","search.operator.array-list-includes.name":"includes","search.operator.array-list-not-includes.description":"<Field/> <Operator>does not include</Operator> <Value>{{value}}</Value>","search.operator.array-list-not-includes.name":"does not include","search.operator.array-reference-includes.description":"<Field/> <Operator>includes</Operator> <Value>{{value}}</Value>","search.operator.array-reference-includes.name":"includes","search.operator.array-reference-not-includes.description":"<Field/> <Operator>does not include</Operator> <Value>{{value}}</Value>","search.operator.array-reference-not-includes.name":"does not include","search.operator.asset-file-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.asset-file-equal.name":"is","search.operator.asset-file-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.asset-file-not-equal.name":"is not","search.operator.asset-image-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.asset-image-equal.name":"is","search.operator.asset-image-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.asset-image-not-equal.name":"is not","search.operator.boolean-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.boolean-equal.name":"is","search.operator.date-after.description":"<Field/> <Operator>is after</Operator> <Value>{{value}}</Value>","search.operator.date-after.name":"after","search.operator.date-before.description":"<Field/> <Operator>is before</Operator> <Value>{{value}}</Value>","search.operator.date-before.name":"before","search.operator.date-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.date-equal.name":"is","search.operator.date-last.description":"<Field/> <Operator>is in the last</Operator> <Value>{{value}}</Value>","search.operator.date-last.name":"last","search.operator.date-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.date-not-equal.name":"is not","search.operator.date-range.description":"<Field/> <Operator>is between</Operator> <Value/>","search.operator.date-range.name":"is between","search.operator.date-time-after.description":"<Field/> <Operator>is after</Operator> <Value>{{value}}</Value>","search.operator.date-time-after.name":"after","search.operator.date-time-before.description":"<Field/> <Operator>is before</Operator> <Value>{{value}}</Value>","search.operator.date-time-before.name":"before","search.operator.date-time-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.date-time-equal.name":"is","search.operator.date-time-last.description":"<Field/> <Operator>is in the last</Operator> <Value>{{value}}</Value>","search.operator.date-time-last.name":"last","search.operator.date-time-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.date-time-not-equal.name":"is not","search.operator.date-time-range.description":"<Field/> <Operator>is between</Operator> <Value/>","search.operator.date-time-range.name":"is between","search.operator.defined.description":"<Field/> <Operator>is</Operator> <Value>not empty</Value>","search.operator.defined.name":"not empty","search.operator.not-defined.description":"<Field/> <Operator>is</Operator> <Value>empty</Value>","search.operator.not-defined.name":"empty","search.operator.number-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.number-equal.name":"is","search.operator.number-gt.description":"<Field/> <Operator>></Operator> <Value>{{value}}</Value>","search.operator.number-gt.name":"greater than","search.operator.number-gte.description":"<Field/> <Operator>≥</Operator> <Value>{{value}}</Value>","search.operator.number-gte.name":"greater than or equal to","search.operator.number-lt.description":"<Field/> <Operator><</Operator> <Value>{{value}}</Value>","search.operator.number-lt.name":"less than","search.operator.number-lte.description":"<Field/> <Operator>≤</Operator> <Value>{{value}}</Value>","search.operator.number-lte.name":"less than or equal to","search.operator.number-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.number-not-equal.name":"is not","search.operator.number-range.description":"<Field/> <Operator>is between</Operator> <Value>{{from}} → {{to}}</Value>","search.operator.number-range.name":"is between","search.operator.portable-text-contains.description":"<Field/> <Operator>contains</Operator> <Value>{{value}}</Value>","search.operator.portable-text-contains.name":"contains","search.operator.portable-text-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.portable-text-equal.name":"is","search.operator.portable-text-not-contains.description":"<Field/> <Operator>does not contain</Operator> <Value>{{value}}</Value>","search.operator.portable-text-not-contains.name":"does not contain","search.operator.portable-text-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.portable-text-not-equal.name":"is not","search.operator.reference-asset-file.description":"<Field/> <Operator>→</Operator> <Value>{{value}}</Value>","search.operator.reference-asset-file.name":"file","search.operator.reference-asset-image.description":"<Field/> <Operator>→</Operator> <Value>{{value}}</Value>","search.operator.reference-asset-image.name":"image","search.operator.reference-document.description":"<Field/> <Operator>→</Operator> <Value>{{value}}</Value>","search.operator.reference-document.name":"document","search.operator.reference-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.reference-equal.name":"is","search.operator.reference-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.reference-not-equal.name":"is not","search.operator.slug-contains.description":"<Field/> <Operator>contains</Operator> <Value>{{value}}</Value>","search.operator.slug-contains.name":"contains","search.operator.slug-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.slug-equal.name":"is","search.operator.slug-not-contains.description":"<Field/> <Operator>does not contain</Operator> <Value>{{value}}</Value>","search.operator.slug-not-contains.name":"does not contain","search.operator.slug-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.slug-not-equal.name":"is not","search.operator.string-contains.description":"<Field/> <Operator>contains</Operator> <Value>{{value}}</Value>","search.operator.string-contains.name":"contains","search.operator.string-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.string-equal.name":"is","search.operator.string-list-equal.description":"<Field/> <Operator>is</Operator> <Value>{{value}}</Value>","search.operator.string-list-equal.name":"is","search.operator.string-list-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.string-list-not-equal.name":"is not","search.operator.string-not-contains.description":"<Field/> <Operator>does not contain</Operator> <Value>{{value}}</Value>","search.operator.string-not-contains.name":"does not contain","search.operator.string-not-equal.description":"<Field/> <Operator>is not</Operator> <Value>{{value}}</Value>","search.operator.string-not-equal.name":"is not","search.ordering.best-match-label":"Best match","search.ordering.created-ascending-label":"Created: Oldest first","search.ordering.created-descending-label":"Created: Newest first","search.ordering.updated-ascending-label":"Updated: Oldest first","search.ordering.updated-descending-label":"Updated: Newest first","search.placeholder":"Search","search.recent-searches-aria-label":"Recent searches","search.recent-searches-label":"Recent searches","search.search-results-aria-label":"Search results","status-button.aria-label":"Configuration status","timeline.error.load-document-changes-description":"Document history transactions have not been affected.","timeline.error.load-document-changes-title":"An error occurred whilst retrieving document changes.","timeline.error.no-document-history-description":"When changing the content of the document, the document versions will appear in this menu.","timeline.error.no-document-history-title":"No document history","timeline.error.unable-to-load-revision":"Unable to load revision","timeline.latest":"Latest","timeline.latest-version":"Latest version","timeline.list.aria-label":"Document revisions","timeline.loading-history":"Loading history…","timeline.operation.created":"Created","timeline.operation.created-initial":"Created","timeline.operation.created-initial_timestamp":"Created: {{timestamp, datetime}}","timeline.operation.created_timestamp":"Created: {{timestamp, datetime}}","timeline.operation.deleted":"Deleted","timeline.operation.deleted_timestamp":"Deleted: {{timestamp, datetime}}","timeline.operation.draft-discarded":"Discarded draft","timeline.operation.draft-discarded_timestamp":"Discarded draft: {{timestamp, datetime}}","timeline.operation.edited-draft":"Edited","timeline.operation.edited-draft_timestamp":"Edited: {{timestamp, datetime}}","timeline.operation.edited-live":"Live edited","timeline.operation.edited-live_timestamp":"Live edited: {{timestamp, datetime}}","timeline.operation.published":"Published","timeline.operation.published_timestamp":"Published: {{timestamp, datetime}}","timeline.operation.unpublished":"Unpublished","timeline.operation.unpublished_timestamp":"Unpublished: {{timestamp, datetime}}","timeline.since":"Since: {{timestamp, datetime}}","timeline.since-version-missing":"Since: unknown version","toolbar.portable-text.action-button-aria-label":"{{action}}","user-menu.action.free-trial-finished":"Upgrade from free","user-menu.action.free-trial_one":"{{count}} day left in trial","user-menu.action.free-trial_other":"{{count}} days left in trial","user-menu.action.invite-members":"Invite members","user-menu.action.invite-members-aria-label":"Invite members","user-menu.action.manage-project":"Manage project","user-menu.action.manage-project-aria-label":"Manage project","user-menu.action.portable-text.annotation-disabled_empty-block":"Cannot apply {{name}} to empty block","user-menu.action.portable-text.annotation-disabled_multiple-blocks":"Cannot apply {{name}} to multiple blocks","user-menu.action.sign-out":"Sign out","user-menu.appearance-title":"Appearance","user-menu.close-menu":"Close menu","user-menu.color-scheme.dark-description":"Use dark appearance","user-menu.color-scheme.dark-title":"Dark","user-menu.color-scheme.light-description":"Use light appearance","user-menu.color-scheme.light-title":"Light","user-menu.color-scheme.system-description":"Use system appearance","user-menu.color-scheme.system-title":"System","user-menu.locale-title":"Language","user-menu.login-provider":"Signed in with {{providerTitle}}","user-menu.open-menu":"Open menu","workspaces.action.add-workspace":"Add workspace","workspaces.action.choose-another-workspace":"Choose another workspace","workspaces.choose-your-workspace-label":"Choose your workspace","workspaces.select-workspace-aria-label":"Select workspace","workspaces.select-workspace-label":"Select workspace","workspaces.select-workspace-tooltip":"Select workspace","workspaces.title":"Workspaces"}),rDn={locale:"en-US",namespace:eI,resources:nDn},iDn=vXe("validation",{"array.exact-length":"Must have exactly {{wantedLength}} items","array.exact-length_blocks":"Must have exactly {{wantedLength}} blocks","array.item-duplicate":"Can't be a duplicate","array.maximum-length":"Must have at most {{maxLength}} items","array.maximum-length_blocks":"Must have at most {{maxLength}} blocks","array.minimum-length":"Must have at least {{minLength}} items","array.minimum-length_blocks":"Must have at least {{minLength}} blocks","date.invalid-format":"Must be a valid ISO-8601 formatted date string","date.maximum":"Must be at or before {{maxDate}}","date.minimum":"Must be at or after {{minDate}}","generic.incorrect-type":'Expected type "{{expectedType}}", got "{{actualType}}"',"generic.not-allowed":"Value did not match any allowed values","generic.not-allowed_hint":'Value "{{hint}}" did not match any allowed values',"generic.required":"Required","number.greater-than":"Must be greater than {{threshold}}","number.less-than":"Must be less than {{threshold}}","number.maximum":"Must be lower than or equal to {{maxNumber}}","number.maximum-precision":"Max precision is {{limit}}","number.minimum":"Must be greater than or equal to {{minNumber}}","number.non-integer":"Must be an integer","object.asset-required":"Asset is required","object.asset-required_file":"File is required","object.asset-required_image":"Image is required","object.not-reference":"Must be a reference to a document","object.reference-not-published":"Referenced document must be published","panel.close-button-aria-label":"Close validation","panel.no-errors-message":"No validation errors","panel.title":"Validation","slug.missing-current":"Slug must have a value","slug.not-object":"Slug must be an object","slug.not-unique":"Slug is already in use","string.email":"Must be a valid email address","string.exact-length":"Must be exactly {{wantedLength}} characters long","string.lowercase":"Must be all lowercase characters","string.maximum-length":"Must be at most {{maxLength}} characters long","string.minimum-length":"Must be at least {{minLength}} characters long","string.regex-does-not-match":'Does not match "{{name}}"-pattern',"string.regex-match":'Should not match "{{name}}"-pattern',"string.uppercase":"Must be all uppercase characters","string.url.disallowed-scheme":"Does not match allowed protocols/schemes","string.url.includes-credentials":"Username/password not allowed","string.url.invalid":"Not a valid URL","string.url.not-absolute":"Relative URLs are not allowed","string.url.not-relative":"Only relative URLs are allowed"}),oDn={locale:"en-US",namespace:tDn,resources:iDn},yXe={id:"en-US",title:"English (US)",bundles:[rDn,oDn],weekInfo:{firstDay:7,weekend:[6,7],minimalDays:1}},Zd=yXe,FD=(()=>{const n="__tmp_supports_local_storage";try{return typeof localStorage>"u"?!1:(localStorage.setItem(n,"---"),localStorage.removeItem(n),!0)}catch{return!1}})(),sDn="sanity-locale";function aDn(n,e){if(!FD)return;const r=localStorage.getItem(bXe(n,e));return r??void 0}function lDn(n,e,r){FD&&localStorage.setItem(bXe(n,e),r)}function bXe(n,e){return[sDn,n,e].join(":")}function cDn(n){const{projectId:e,name:r,i18n:{locales:i},__internal:{i18next:o}}=xi();return d.jsx(uDn,{...n,projectId:e,sourceId:r,locales:i,i18next:o})}function uDn(n){let{projectId:e,sourceId:r,locales:i,i18next:o,children:s}=n;const a=p.useCallback(u=>(o.on("languageChanged",u),()=>o.off("languageChanged",u)),[o]),l=p.useSyncExternalStore(a,()=>i.find(u=>o.language===u.id)||Zd),c=p.useMemo(()=>({locales:i,currentLocale:l,__internal:{i18next:o},changeLocale:async u=>{lDn(e,r,u),await o.changeLanguage(u)}}),[l,o,i,e,r]);return d.jsx(p.Suspense,{fallback:d.jsx(Zr,{}),children:d.jsx(_Gt,{i18n:o,children:d.jsx(IHe.Provider,{value:c,children:s},l.id)})})}function SN(n){const e=Array.isArray(n)?n:[n],r=JSON.stringify(e.flatMap(s=>s!=null&&s.i18n?Object.values(s.i18n).map(a=>{let{ns:l}=a;return l}):[]).filter(Ws).sort()),i=p.useMemo(()=>JSON.parse(r),[r]),{t:o}=me(i);return p.useCallback(function(a){const{i18n:l}=a;return l?new Proxy(a,{get:(c,u)=>{const f=c[u];if(typeof u=="string"&&u in l){const{key:h,ns:m}=l[u];return o(h,{ns:m,...typeof f=="string"&&{defaultValue:f}})}return f}}):a},[o])}function sv(n){const e=p.useMemo(()=>n.i18n?Array.from(new Set(Object.values(n.i18n).map(i=>{let{ns:o}=i;return o}))).sort():[],[n.i18n]),{t:r}=me(e);return p.useMemo(()=>{const{i18n:i}=n;return i?new Proxy(n,{get:(o,s)=>{const a=o[s];if(typeof s=="string"&&s in i){const{key:l,ns:c}=i[s];return r(l,{ns:c,...typeof a=="string"&&{defaultValue:a}})}return a}}):n},[n,r])}const dDn=/^<(?<tag>[^\s\d<][^/?><]+)\/?>/,fDn=/<\/(?<tag>[^>]+)>/,hDn=/<[^>]+\/>/,pDn=/^[A-Z][A-Za-z0-9]+$/,mDn=/^[a-z]+$/,gDn=/{{\s*?([^}]+)\s*?}}/g;function vDn(n){const e=[];let r="",i="",o=n;for(;o.length>0;)if(!i&&o[0]==="<"){const s=xDn(o);if(s){const a=s.groups.tag;_Dn(a),r&&(e.push(...OV(r)),r=""),bDn(s[0])?e.push({type:"tagOpen",selfClosing:!0,name:a}):(e.push({type:"tagOpen",name:a}),i=a),o=o.substring(s[0].length)}else r+=o[0],o=o.substring(1)}else if(i&&o[0]==="<"&&o[1]!=="<"){const s=wDn(o);if(s){const a=s.groups.tag;if(o[1]!=="/")throw new Error("Expected closing tag for <".concat(i,">, but found new opening tag <").concat(a,">. Nested tags is not supported."));if(a!==i)throw new Error("Expected closing tag for <".concat(i,">, but found closing tag </").concat(a,"> instead. Make sure each opening tag has a matching closing tag."));r&&(e.push(...OV(r)),r=""),e.push({type:"tagClose",name:a}),i="",o=o.substring(s[0].length)}else r+=o[0],o=o.substring(1)}else r+=o[0],o=o.substring(1);if(i)throw new Error("No matching closing tag for <".concat(i,'> found. Either make it self closing (e.g. "<').concat(i,'/>") or close it (e.g "<').concat(i,">...</").concat(i,'>").'));return r&&e.push(...OV(r)),e}function OV(n){const e=[],r=n.matchAll(gDn);let i=0;for(const o of r){if(typeof o.index>"u")continue;const s=n.slice(i,o.index);s.length>0&&e.push({type:"text",text:s}),e.push(yDn(o[0])),i+=s.length+o[0].length}return i<n.length&&e.push({type:"text",text:n.slice(i)}),e}function yDn(n){const e=n.replace(/^\{\{|\}\}$/g,"").trim();if(e.includes(","))throw new Error('Interpolations with formatters are not supported when using <Translate>. Found "'.concat(e,'". Utilize "useTranslation" instead, or format the values passed to <Translate> ahead of time.'));return{type:"interpolation",variable:e}}function bDn(n){return hDn.test(n)}function xDn(n){return n.match(dDn)}function wDn(n){return n.match(fDn)}function _Dn(n){if(!(pDn.test(n)||mDn.test(n)))throw new Error(n.trim()===n?'Invalid tag "<'.concat(n,'>". Tag names must be lowercase HTML tags or start with an uppercase letter and can only include letters and numbers.'):'Invalid tag "<'.concat(n,'>". No whitespace allowed in tags.'))}const EDn=/^[A-Z]/,CDn=["abbr","address","cite","code","del","em","ins","kbd","q","samp","strong","sub","sup"];function bn(n){const e=n.t(n.i18nKey,{context:n.context,skipInterpolation:!0,count:n.values&&"count"in n.values&&typeof n.values.count=="number"?n.values.count:void 0}),r=p.useMemo(()=>vDn(e),[e]);return d.jsx(d.Fragment,{children:Wv(r,n.values,n.components||{})})}function Wv(n,e,r){const[i,...o]=n;if(!i)return null;if(i.type==="interpolation")return d.jsxs(d.Fragment,{children:[!e||typeof e[i.variable]>"u"?"{{".concat(i.variable,"}}"):e[i.variable],Wv(o,e,r)]});if(i.type==="text")return d.jsxs(d.Fragment,{children:[i.text,Wv(o,e,r)]});if(i.type==="tagOpen"&&i.selfClosing){const s=r[i.name];if(!s)throw new Error("Component not found: ".concat(i.name));return d.jsxs(d.Fragment,{children:[d.jsx(s,{}),Wv(o,e,r)]})}if(i.type==="tagOpen"&&!i.selfClosing){const s=o.findIndex(f=>f.type==="tagClose"),a=o[s];if(a&&i.name!==a.name)throw new Error("Nested tags is not allowed");const l=r[i.name];if(!l&&EDn.test(i.name))throw new Error("Component not defined: ".concat(i.name));if(!l&&!CDn.includes(i.name))throw new Error('HTML tag "'.concat(i.name,'" is not allowed'));const c=o.slice(0,s),u=o.slice(s+1);return l?d.jsxs(d.Fragment,{children:[d.jsx(l,{children:Wv(c,e,r)}),Wv(u,e,r)]}):d.jsxs(d.Fragment,{children:[p.createElement(i.name,{},Wv(c,e,r)),Wv(u,e,r)]})}return null}const Dr={apiVersion:"2024-03-12"};function SDn(n,e){if(!n||!e)return 0;const r=e-n;return Math.round(r/n*100)}function yY(n,e){return n<1e3?e(n,"byte"):n<1e3*1e3?e(n/1e3,"kilobyte"):n<1e3*1e3*1e3?e(n/(1e3*1e3),"megabyte"):n<1e3*1e3*1e3*1e3?e(n/(1e3*1e3*1e3),"gigabyte"):e(n/(1e3*1e3*1e3*1e3),"terabyte")}function kDn(n){let{client:e}=n;const r=e.withConfig(Dr),i=new AGe(async c=>{const f=(await r.request({uri:"/users/me/keyvalue/".concat(c.join(",")),withCredentials:!0}).catch(m=>(console.error("Error fetching data:",m),Array(c.length).fill(null)))).reduce((m,g)=>(g!=null&&g.key&&(m[g.key]=g.value),m),{});return c.map(m=>f[m]||null)}),o=c=>Gi(i.loadMany(c)),s=c=>Gi(r.request({method:"PUT",uri:"/users/me/keyvalue",body:c,withCredentials:!0})).pipe(Me(u=>u.map(f=>(i.clear(f.key),i.prime(f.key,f.value),f.value))),vi(u=>(console.error("Error setting data:",u),Ke(Array(c.length).fill(null)))));return{getKey:c=>o([c]).pipe(Me(u=>u[0])),setKey:(c,u)=>s([{key:c,value:u}]).pipe(Me(f=>f[0])),getKeys:o,setKeys:s}}function TDn(n){let{client:e}=n;const r=kDn({client:e}),i=new ho,o=i.pipe(gn(l=>r.setKey(l.key,l.value).pipe(Me(c=>({key:l.key,value:c})))),Hs(1));return{getKey:l=>ai(r.getKey(l),o.pipe(Bn(c=>c.key===l),Me(c=>c.value))),setKey:(l,c)=>(i.next({key:l,value:c}),o.pipe(Bn(u=>u.key===l),Me(u=>u.value),ul(1)))}}class fie extends Error{constructor(e){let{projectId:r}=e;super("CorsOriginError"),this.projectId=r}}const hie={};function xXe(n,e){FD?localStorage[n]=e:hie[n]=e}function ADn(n){return FD?localStorage[n]:hie[n]}function wXe(n){FD?localStorage.removeItem(n):delete hie[n]}function IDn(n){const e=typeof window>"u"?Ke():Jl(window,"storage"),r="__studio_local_storage_messaging_".concat(n),i=new ho,o=ai(i,e.pipe(Bn(a=>a.key===r),Me(a=>a.newValue),Bn(Ws),Me(a=>JSON.parse(a)))).pipe(Hs(1));function s(a){try{xXe(r,JSON.stringify(a)),wXe(r),i.next(a)}catch{}}return{messages:o,broadcast:s}}var Pbe=Object.freeze,DDn=Object.defineProperty,_Xe=(n,e)=>Pbe(DDn(n,"raw",{value:Pbe(e||n.slice())})),jbe,Lbe;const RDn=F.svg(n=>{let{theme:e}=n;const{fg:r}=e.sanity.color.base;return Ae(jbe||(jbe=_Xe([`
    fill: `,`;
  `])),r)}),ODn=F.img(Lbe||(Lbe=_Xe([`
  height: 19px;
  width: 19px;
  object-fit: contain;
`]))),PDn=()=>d.jsx(RDn,{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 438.55 438.55",children:d.jsx("path",{d:"M409.13 114.57a218.32 218.32 0 0 0-79.8-79.8Q278.94 5.36 219.27 5.36T109.21 34.77a218.29 218.29 0 0 0-79.8 79.8Q0 165 0 224.63q0 71.67 41.83 128.91t108.06 79.23q7.71 1.43 11.42-2a11.17 11.17 0 0 0 3.69-8.57q0-.86-.14-15.42t-.14-25.41l-6.57 1.14a83.77 83.77 0 0 1-15.85 1 120.73 120.73 0 0 1-19.84-2 44.34 44.34 0 0 1-19.11-8.51 36.23 36.23 0 0 1-12.56-17.6l-2.86-6.57a71.34 71.34 0 0 0-9-14.56q-6.14-8-12.42-10.85l-2-1.43a21 21 0 0 1-3.71-3.43 15.66 15.66 0 0 1-2.57-4q-.86-2 1.43-3.29C61.2 310.42 64 310 68 310l5.71.85q5.71 1.14 14.13 6.85a46.08 46.08 0 0 1 13.85 14.84q6.57 11.71 15.85 17.85t18.7 6.14a81.19 81.19 0 0 0 16.27-1.42 56.78 56.78 0 0 0 12.85-4.29q2.57-19.14 14-29.41a195.49 195.49 0 0 1-29.36-5.13 116.52 116.52 0 0 1-26.83-11.14 76.86 76.86 0 0 1-23-19.13q-9.14-11.42-15-30t-5.8-42.81q0-34.55 22.56-58.82-10.57-26 2-58.24 8.28-2.57 24.55 3.85t23.84 11q7.57 4.56 12.13 7.71a206.2 206.2 0 0 1 109.64 0l10.85-6.85a153.65 153.65 0 0 1 26.26-12.56q15.13-5.71 23.13-3.14 12.84 32.26 2.28 58.24 22.55 24.27 22.56 58.82 0 24.27-5.85 43t-15.12 30a79.82 79.82 0 0 1-23.13 19 116.74 116.74 0 0 1-26.84 11.14 195.29 195.29 0 0 1-29.23 5.07q14.8 12.84 14.81 40.58v60.2a11.37 11.37 0 0 0 3.57 8.56q3.57 3.42 11.28 2 66.24-22 108.07-79.23t41.83-128.91q-.03-59.62-29.43-110.05z"})}),jDn=()=>d.jsxs("svg",{width:"1em",height:"1em",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[d.jsx("path",{d:"M11 24a13 13 0 0 1 .66-4.08l-7.4-5.66a22.18 22.18 0 0 0 0 19.49l7.4-5.67A13 13 0 0 1 11 24z",fill:"#fbbc05"}),d.jsx("path",{d:"M24 11a12.72 12.72 0 0 1 8.1 2.9l6.4-6.4a22 22 0 0 0-34.24 6.75l7.4 5.66A13 13 0 0 1 24 11z",fill:"#ea4335"}),d.jsx("path",{d:"M24 37a13 13 0 0 1-12.34-8.92l-7.4 5.66A21.93 21.93 0 0 0 24 46a21 21 0 0 0 14.33-5.48l-7-5.44A13.59 13.59 0 0 1 24 37zm-12.35-8.93l-7.4 5.67 7.4-5.66z",fill:"#34a853"}),d.jsx("path",{d:"M44.5 20H24v8.5h11.8a9.91 9.91 0 0 1-4.49 6.58l7 5.44C42.37 36.76 45 31.17 45 24a18.25 18.25 0 0 0-.5-4z",fill:"#4285f4"})]});function LDn(n){const{provider:e}=n;return e.logo?d.jsx(ODn,{src:e.logo,alt:"Logo for ".concat(e.name)}):void 0}const $Dn={google:jDn,github:PDn};async function MDn(n){let{client:e,mode:r,providers:i=[]}=n;if(r==="replace"&&Array.isArray(i))return i;const{providers:o}=await e.request({uri:"/auth/providers"});return typeof i=="function"?i(o):i.length===0?o:r==="replace"?i:o.filter(s=>i.some(a=>a.url!==s.url)).concat(i)}function $be(n){let{loginMethod:e="dual",projectId:r,url:i,redirectPath:o}=n;const s=new URLSearchParams;return s.set("origin","".concat(window.location.origin).concat(o)),s.set("projectId",r),e==="token"?s.set("withSid","true"):s.set("type",e),"".concat(i,"?").concat(s)}function FDn(n){let{getClient:e,loginMethod:r,redirectOnSingle:i,...o}=n;const s=rm(e);function a(l){let{projectId:c,...u}=l;const f=u.redirectPath||u.basePath||"/",[h,m]=p.useState(null),[g,v]=p.useState(null);if(g)throw g;const[y]=s();p.useEffect(()=>{y&&MDn({client:y,...o}).then(m).catch(v)},[y]);const b=i&&(h==null?void 0:h.length)===1&&(h==null?void 0:h[0])&&$be({loginMethod:r,projectId:c,url:h[0].url,redirectPath:f}),x=!h||b;return p.useEffect(()=>{b&&(window.location.href=b)},[b]),x?d.jsx(Zr,{showText:!0}):d.jsxs(Se,{space:4,children:[d.jsx(Pa,{align:"center",size:1,children:"Choose login provider"}),d.jsx(Se,{space:2,children:h.map((_,w)=>d.jsx(ze,{as:"a",icon:$Dn[_.name]||d.jsx(LDn,{provider:_}),href:$be({loginMethod:r,projectId:c,url:_.url,redirectPath:f}),mode:"ghost",size:"large",text:_.title},"".concat(_.url,"_").concat(w)))})]})}return a}const Mbe=/sid=([^&]{20,})&?/;function NDn(){if(typeof window>"u"||typeof window.location!="object")return null;const n=window.location.hash,[,e]=n.match(Mbe)||[];if(!e)return null;const r=n.replace(Mbe,""),i=new URL(window.location.href);return i.hash=r.length>1?r:"",history.replaceState(null,"",i),e}let Fbe=NDn();const BDn=()=>{const n=Fbe;return n&&(Fbe=null),n};function UDn(n){return $n(n)&&"state"in n&&$n(n.state)&&"subscribe"in n.state&&typeof n.state.subscribe=="function"}function zDn(n){return["dual","token"].includes(n)}const pie=n=>{if(!n)throw new Error("Invalid project id");return"__studio_auth_token_".concat(n)},PV=n=>{try{const e=ADn(pie(n));if(e){const{token:r}=JSON.parse(e);if(r&&typeof r=="string")return r}}catch(e){console.error(e)}return null},EXe=n=>{try{wXe(pie(n))}catch(e){console.error(e)}},VDn=n=>{let{token:e,projectId:r}=n;try{xXe(pie(r),JSON.stringify({token:e,time:new Date().toISOString()}))}catch(i){console.error(i)}},Nbe=async(n,e)=>{var r;try{const i=await n.request({uri:"/users/me",withCredentials:!0,tag:"users.get-current"});return typeof(i==null?void 0:i.id)=="string"?i:null}catch(i){if(i.statusCode===401)return EXe(n.config().projectId||""),e(null),null;if(await n.request({uri:"/ping",withCredentials:!1,tag:"cors-check"}).then(()=>!0,()=>!1))throw new fie({projectId:(r=n.config())==null?void 0:r.projectId});if(i.isNetworkError&&!i.message&&i.request&&i.request.url){const s=new URL(i.request.url).host;throw new Error("Unknown network error attempting to reach ".concat(s))}throw i}};function HDn(n){let{clientFactory:e,projectId:r,dataset:i,apiHost:o,loginMethod:s="dual",...a}=n;const{broadcast:l,messages:c}=IDn("dual_mode_auth_".concat(r)),u=e??X6e,f=c.pipe(ca(zDn(s)?PV(r):null)),h={};o&&(h.apiHost=o);const m=f.pipe(Me(x=>u({projectId:r,dataset:i,apiVersion:"2021-06-07",useCdn:!1,...x&&{token:x},withCredentials:!0,requestTagPrefix:"sanity.studio",ignoreBrowserTokenWarning:!0,allowReconfigure:!1,...h})),gn(x=>ms(async()=>{const _=await Nbe(x,l);return{currentUser:_,client:x,authenticated:!!_}})),Ro((x,_)=>Br(x.currentUser,_.currentUser)),Hs(1));async function g(){const x=BDn();if(!x){l(s==="cookie"?null:PV(r));return}const _=u({projectId:r,dataset:i,useCdn:!0,withCredentials:!0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...h});let w;if((s==="dual"||s==="cookie")&&(w=await Nbe(_,l)),w||s==="cookie"){l(null);return}const C=await v(_,x);l(C??null)}async function v(x,_){const{token:w}=await x.request({method:"GET",uri:"/auth/fetch",query:{sid:_},tag:"auth.fetch-token"});return VDn({token:w,projectId:r}),w}async function y(){var x;const _=u({projectId:r,dataset:i,useCdn:!0,withCredentials:!0,token:(x=PV(r))!=null?x:void 0,apiVersion:"2021-06-07",requestTagPrefix:"sanity.studio",...h});EXe(r),await _.request({uri:"/auth/logout",method:"POST"}),l(null)}const b=FDn({...a,getClient:()=>m.pipe(Me(x=>x.client)),loginMethod:s});return{handleCallbackUrl:g,token:f,state:m,LoginComponent:b,logout:y}}function CXe(n){return typeof n!="object"||n===null?"".concat(n):JSON.stringify(Object.fromEntries(Object.entries(n).sort((e,r)=>{let[i]=e,[o]=r;return i.localeCompare(o,"en")}).map(e=>{let[r,i]=e;return[r,CXe(i)]})))}const WDn=hD(HDn,CXe);function SXe(n){if(n==="google")return"Google";if(n==="github")return"GitHub";if(n==="sanity")return"Sanity";if(n!=null&&n.startsWith("saml-"))return"SAML/SSO"}function GDn(n){return e=>{let r=[];const i=vi((o,s)=>(r.push(o),n(o,r.length,s).pipe(i)));return e.pipe(Si(()=>{r=[]}),i)}}const Bbe=typeof window>"u"?Ke({}):Jl(window,"online"),qDn=typeof window>"u"?Ke({}):Jl(window,"offline"),KDn=n=>Math.pow(2,n)*100,YDn={type:"connecting"},kXe=O8e(),ZDn=kXe[0];kXe[1];const XDn=n=>{let{error:e,isOffline:r,attemptNo:i,retryAt:o}=n;return{type:"error",error:e,attemptNo:i,isOffline:r,retryAt:o}};function QDn(n){let{bifur:e}=n;return{connectionStatus$:ai(e.heartbeats,qDn.pipe(iy(Zl(new Error("The browser went offline"))))).pipe(Me(i=>({type:"connected",lastHeartbeat:i})),GDn((i,o,s)=>{const a=Math.min(24e4,KDn(o)),l=new Date(new Date().getTime()+a),c=Za(l),u=!navigator.onLine,f=XDn({error:i,retryAt:l,isOffline:u,attemptNo:o}),h=DQ.pipe(q4(u?Bbe:ai(c,Bbe,ZDn)));return Go(Ke(f),h.pipe(ul(1)),s)}),ca(YDn))}}function kN(n){return n.type?kN(n.type):n.name==="block"}function JDn(n){return n.kind==="field"&&n.field.schemaType.jsonType==="array"}const eRn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tRn=/_key\s*==\s*['"](.*)['"]/;function Oi(n){if(!Array.isArray(n))throw new Error("Path is not an array");return n.reduce((e,r,i)=>{if(Qu(r))return"".concat(e,"[").concat(r,"]");if(ji(r)&&r._key)return"".concat(e,'[_key=="').concat(r._key,'"]');if(ny(r)){const[o,s]=r;return"".concat(e,"[").concat(o,":").concat(s,"]")}if(typeof r=="string"){const o=i===0?"":".";return"".concat(e).concat(o).concat(r)}throw new Error("Unsupported path segment `".concat(JSON.stringify(r),"`"))},"")}function lf(n,e){const r=e[0];if(!r)return n;const i=e.slice(1);if(Qu(r))return lf(Array.isArray(n)?n[r]:void 0,i);if(ji(r))return lf(Array.isArray(n)?n.find(o=>o._key===r._key):void 0,i);if(typeof r=="string")return lf($n(n)?n[r]:void 0,i);throw new Error("Unknown segment type ".concat(JSON.stringify(r)))}function nRn(n,e){return typeof e!="number"&&!ji(e)?-1:typeof e=="number"?e:n.findIndex(r=>fh(r)&&r._key===e._key)}function rRn(n){const e=n.match(eRn);if(!e)throw new Error("Invalid path string");return e.map(iRn)}function iRn(n){return Qu(n)?oRn(n):ji(n)?sRn(n):ny(n)?aRn(n):n}function oRn(n){return Number(n.replace(/[^\d]/g,""))}function sRn(n){const e=n.match(tRn);if(!e)throw new Error("Invalid key segment");return{_key:e[1]}}function aRn(n){const[e,r]=n.split(":").map(i=>i===""?i:Number(i));return[e,r]}function TXe(n,e){return n.length!==e.length?!1:n.every((r,i)=>{const o=e[i];return ji(r)&&ji(o)?r._key===o._key:Qu(r)?Number(r)===Number(o):ny(r)&&ny(o)?r[0]===o[0]&&r[1]===o[1]:r===o})}function AXe(n){return fh(n)?n._key:void 0}function bY(n){const e=AXe(n);return e?{_key:e}:void 0}function lRn(n){return typeof n=="object"&&n!==null&&Object.keys(n).length<=0}function IXe(n,e){return n.get((e==null?void 0:e.author)||null)}function ND(n,e){const r=Array.isArray(e)?e:rRn(e);return cRn(n,r)}function cRn(n,e){const r=xY(n,e);if(r&&r.action!=="unchanged")return r.annotation||void 0}function xY(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(e.length===0)return n;const i=e[0],o=e.slice(1);if(ny(i))throw new Error("Index tuples are not supported in diff paths");if(Qu(i)||ji(i)){const a=Qu(i)?"at index ".concat(i):"with key ".concat(i._key);if(n.type!=="array"){"Failed to get item ".concat(a," at path ").concat(Oi(r)," (not an array)");return}const l=n.items.find(Qu(i)?c=>c.toIndex===i:c=>uRn(c,i));if(!l){"Failed to get item ".concat(a," at path ").concat(Oi(r)," (item missing)");return}return xY(l.diff,o,r.concat(i))}if(n.type!=="object"){"Failed to get property ".concat(i," at path ").concat(Oi(r)," (not an object)");return}const s=n.fields[i];if(typeof s>"u"){"Failed to get property ".concat(i," at path ").concat(Oi(r)," (field did not exist)");return}return xY(s,o,r.concat(i))}function uRn(n,e){const r=n.diff;return r.type!=="object"||!r.toValue?!1:r.toValue._key===e}function TN(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(e(n,r)){if(n.type==="array"){dRn(n,e,r);return}if(n.type==="object"){fRn(n,e,r);return}n.type==="string"&&hRn(n,e,r)}}function dRn(n,e,r){n.action!=="unchanged"&&n.items.forEach(i=>{var o;const s=i.diff.type==="object"&&((o=i.diff.toValue)==null?void 0:o._key),a=s?{_key:s}:pRn(i);TN(i.diff,e,r.concat(a))})}function fRn(n,e,r){n.action!=="unchanged"&&Object.keys(n.fields).forEach(i=>{const o=n.fields[i];TN(o,e,r.concat(i))})}function hRn(n,e,r){n.action!=="unchanged"&&n.segments.forEach(i=>{TN(i,e,r)})}function pRn(n){return typeof n.toIndex>"u"?n.fromIndex||0:n.toIndex}const DXe=p.createContext(null);function mie(){const n=p.useContext(DXe);if(!n)throw new Error("UserColorManager: missing context value");return n}function mRn(n){const e=mie();return bs(n?e.listen(n):nyt(),[n],e.get(null))}const gRn="purple",vRn=["green","red","gray"],yRn=XQ.filter(n=>!vRn.includes(n)),RXe=n=>{const e=n==="dark";return{background:e?"900":"100",border:e?"700":"300",text:e?"200":"700"}},bRn=n=>{const{background:e,border:r,text:i}=RXe(n);return yRn.reduce((o,s)=>(o[s]={name:s,background:Kt[s][e].hex,border:Kt[s][r].hex,text:Kt[s][i].hex,tints:Kt[s]},o),{})},xRn=n=>{const{background:e,border:r,text:i}=RXe(n);return{name:"gray",background:Kt.gray[e].hex,border:Kt.gray[r].hex,text:Kt.gray[i].hex,tints:Kt.gray}};function wRn(n){const{anonymousColor:e,colors:r,currentUserColor:i,scheme:o}=n,s=r||bRn(o),a=e||xRn(o),l=i||gRn;if(!s.hasOwnProperty(l))throw new Error("'colors' must contain 'currentUserColor' (".concat(l,")"));const c=Object.keys(s),u=new Map,f=new Map,h=c.reduce((D,R)=>(D[R]=0,D),{}),m=new Map;let g;return n!=null&&n.userStore&&n.userStore.me.subscribe(D=>A(D?D.id:null)),{get:v,listen:b};function v(D){return D?s[y(D)]:a}function y(D){if(D===g)return l;const R=m.get(D);if(R)return R;const P=f.get(D);if(P&&(h[P]===0||!C()))return x(D,P);const O=I(D);return h[O]===0?x(D,O):x(D,S(P))}function b(D){let R=u.get(D);if(R)return R;const P=y(D);return R=T(D,P),u.set(D,R),R}function x(D,R){return m.set(D,R),f.set(D,R),h[R]++,R}function _(D,R){m.delete(D),h[R]--}function w(){return c.find(D=>h[D]===0)}function C(){return!!w()}function S(D){let R=1/0,P=[];return c.forEach(O=>{const $=h[O];$===R?P.push(O):$<R&&(R=$,P=[O])}),D&&P.includes(D)?D:P[0]}function T(D,R){return new Un(P=>{const O=s[R];return P.next(O),()=>{u.delete(D),_(D,R)}}).pipe(Hs({refCount:!0}))}function A(D){g=D,h[l]+=D?1:-1}function I(D){let R=0;for(let P=0;P<D.length;P++)R=(R<<5)-R+D.charCodeAt(P)|0;return c[Math.abs(R)%c.length]}}function _Rn(n){let{children:e,manager:r}=n;const{scheme:i}=o2(),o=p.useMemo(()=>r||wRn({scheme:i}),[r,i]);return d.jsx(DXe.Provider,{value:o,children:e})}function OXe(n){const e=mie();return IXe(e,n)}function nS(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const r=mie(),i=p.useMemo(()=>ND(n,e),[n,e]);return p.useMemo(()=>IXe(r,i),[i,r])}function wc(n){if(!("diff"in n))return d.jsx(Ube,{...n});const{diff:e,path:r=[],...i}=n,o=ND(e,r);return d.jsx(Ube,{...i,annotations:o?[o]:[]})}function Ube(n){const{annotations:e,children:r,description:i,...o}=n,{t:s}=me();if(!e)return r;const a=d.jsxs(Se,{space:2,children:[d.jsx(J,{muted:!0,size:1,weight:"medium",children:i||s("changes.changed-label")}),d.jsx(Se,{space:2,children:e.map((l,c)=>d.jsx(ERn,{annotation:l},c))})]});return d.jsx(Vg,{zOffset:"paneFooter",children:d.jsx(zn,{content:a,portal:!0,...o,children:r})})}function ERn(n){let{annotation:e}=n;const{author:r,timestamp:i}=e,[o]=lm(r),s=OXe(e),a=wy(i,{minimal:!0}),{t:l}=me();return d.jsxs(to,{space:2,children:[d.jsxs(oe,{align:"center",paddingRight:3,style:{backgroundColor:s.background,color:s.text,borderRadius:"calc(23px / 2)"},children:[d.jsx(gf,{user:r}),d.jsx(to,{paddingLeft:2,children:d.jsx(J,{muted:!0,size:1,style:{color:s.text},children:o?o.displayName:l("changes.loading-author")})})]}),d.jsx(J,{as:"time",muted:!0,size:1,dateTime:i,children:a})]})}var zbe=Object.freeze,CRn=Object.defineProperty,SRn=(n,e)=>zbe(CRn(n,"raw",{value:zbe(e||n.slice())})),Vbe;const kRn=F(ke)(Vbe||(Vbe=SRn([`
  --diff-card-radius: `,`;
  --diff-card-bg-color: `,`;

  max-width: 100%;
  position: relative;
  border-radius: var(--diff-card-radius);

  &:not(del) {
    text-decoration: none;
  }

  &[data-hover] {
    &::after {
      content: '';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
    }

    &:hover {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }

    [data-from-to-layout]:hover & {
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;

      &::after {
        bottom: -3px;
        border-top: 1px solid var(---diff-card-bg-color);
        border-bottom: 2px solid currentColor;
        border-bottom-left-radius: var(--diff-card-radius);
        border-bottom-right-radius: var(--diff-card-radius);
      }
    }
  }
`])),n=>{let{theme:e}=n;return Je(e.sanity.radius[2])},n=>{let{theme:e}=n;return e.sanity.color.card.enabled.bg}),TRn=[],Ql=p.forwardRef(function(e,r){const{annotation:i,as:o="div",children:s,className:a,diff:l,disableHoverEffect:c,path:u=TRn,style:f={},tooltip:h,...m}=e,g=p.useMemo(()=>i||ND(l,u),[i,l,u]),v=OXe(g),y=d.jsx(kRn,{...m,as:o,className:a,"data-hover":c||!g?void 0:"",ref:r,radius:1,style:{...f,backgroundColor:v.background,color:v.text},children:s});return h&&g?d.jsx(wc,{annotations:[g],description:h&&typeof h=="object"&&h.description,children:y}):y});var Hbe=Object.freeze,ARn=Object.defineProperty,PXe=(n,e)=>Hbe(ARn(n,"raw",{value:Hbe(e||n.slice())})),Wbe,Gbe;const gie=F.div(Wbe||(Wbe=PXe([`
  border-radius: `,`;
  padding: `,`;
`])),n=>{let{theme:e}=n;return Je(e.sanity.radius[2])},n=>{let{theme:e}=n;return Je(e.sanity.space[1])}),NF=F(J)(Gbe||(Gbe=PXe([`
  &:not([hidden]) {
    color: inherit;
  }
`])));function IRn(n){const{change:e,segment:r}=n;if(typeof r=="string")return d.jsx(te,{children:d.jsx(J,{title:r,size:1,weight:"medium",textOverflow:"ellipsis",children:r})});const{hasMoved:i,fromIndex:o,toIndex:s,annotation:a}=r,l=typeof o>"u",c=typeof s>"u";if(l)return d.jsx(DRn,{annotation:a,change:e,toIndex:s});if(c)return d.jsx(RRn,{annotation:a,fromIndex:o});if(i&&typeof s<"u"&&typeof o<"u")return d.jsx(ORn,{annotation:a,fromIndex:o,toIndex:s});const u=(s||0)+1;return d.jsx(te,{padding:1,children:d.jsxs(J,{size:1,weight:"medium",children:["#",u]})})}function DRn(n){const{annotation:e,change:r,toIndex:i=0}=n,{t:o}=me(),s=i+1,a=o("changes.array.item-added-in-position",{position:s}),l=d.jsxs(d.Fragment,{children:["#",s]}),u=(r!=null&&r.diff?ND(r.diff,[]):void 0)||e;return u?d.jsx(Ql,{annotation:u,tooltip:{description:a},as:gie,children:d.jsx(NF,{size:1,weight:"medium",forwardedAs:"ins",style:{textDecoration:"none"},children:l})}):d.jsx(J,{size:1,weight:"medium",children:l})}function RRn(n){const{annotation:e,fromIndex:r=0}=n,{t:i}=me(),o=r+1,s=i("changes.array.item-removed-from-position",{position:o});return d.jsx(Ql,{annotation:e||null,as:gie,tooltip:{description:s},children:d.jsxs(NF,{size:1,weight:"medium",forwardedAs:"del",children:["#",o]})})}function ORn(n){const{annotation:e,fromIndex:r,toIndex:i}=n,{t:o}=me(),s=i-r,a=s<0?"↑":"↓",l=Math.abs(s),c=s<0?"up":"down",u=o("changes.array.item-moved",{count:l,context:c});return d.jsxs(d.Fragment,{children:[d.jsx(te,{padding:1,children:d.jsxs(NF,{size:1,weight:"medium",children:["#",i+1]})}),d.jsx(Ql,{annotation:e,as:gie,tooltip:{description:u},children:d.jsxs(NF,{size:1,weight:"medium",children:[a,Math.abs(s)]})})]})}function jXe(n){const{change:e,titlePath:r}=n;return d.jsx(mVe,{maxLength:4,separator:d.jsx(J,{muted:!0,size:1,children:d.jsx(Ch,{})}),children:r.map((i,o)=>typeof i=="string"||!e||e.showIndex?d.jsx(IRn,{change:e,segment:i},o):null)})}function PRn(n){return $n(n)&&typeof(n==null?void 0:n.then)=="function"}function jRn(n,e,r){const{currentUser:i,document:o,parent:s,value:a}=r,l=p.useRef(!1);return p.useMemo(()=>{let c=!1;if(typeof n=="boolean"||n===void 0)return n||!1;try{c=n({document:o,parent:s,value:a,currentUser:i})}catch(u){return console.error("An error occurred while running the callback from `".concat(e,"`: ").concat(u.message)),!1}return PRn(c)&&!l.current?(console.warn("The `".concat(e,"` option is either a promise or a promise returning function. Async callbacks for `").concat(e,"` option is not currently supported.")),!1):(typeof c>"u"&&console.warn("The `".concat(e,"` option is or returned `undefined`. `").concat(e,"` should return a boolean.")),c)},[n,o,s,a,i,e])}const wY=n=>{const{checkProperty:e=!1,checkPropertyKey:r,document:i,parent:o,value:s}=n,a=Ga(s),l=ao();return jRn(e,r,{currentUser:l,document:i,parent:o,value:a})};function LRn(n){return vQ(n)?n._type:MRn(n)}function $Rn(n,e){return n.action==="added"?{toType:Dk(e,n.toValue)}:n.action==="changed"?{fromType:Dk(e,n.fromValue),toType:Dk(e,n.toValue)}:n.action==="removed"?{fromType:Dk(e,n.fromValue)}:{toType:Dk(e,n.toValue)}}function Dk(n,e){const r=LRn(e),i=n.of.find(o=>o.name===r);return i||(n.of.length===1?n.of[0]:void 0)}function MRn(n){return Array.isArray(n)?"array":n===null?"null":typeof n}const YS=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],AN="",ZS=[["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""]],FRn="↲",BF=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],NRn=" ",LXe="⁠";function BRn(n){return n.of.some(MXe)}const URn=ZS.map(n=>n[0]).concat(YS.map(n=>n[0])),zRn=ZS.map(n=>n[1]).concat(YS.map(n=>n[1])),$Xe=URn.concat(zRn).concat(BF).concat(AN).concat(LXe),qbe=new RegExp("".concat($Xe.join("|")),"g"),VRn=new RegExp("".concat($Xe.join("|"),`|
`),"g");function MXe(n){return n.jsonType==="object"&&n.name==="block"}function HRn(n){return ka(n)&&!!n.style&&["h1","h2","h3","h4","h5","h6"].includes(n.style)}function Kbe(n,e){return n.fields.children.items.filter(i=>i.diff.isChanged&&(i.diff.toValue===e||i.diff.fromValue===e)).map(i=>i.diff).map(i=>i)[0]}function _Y(n,e){const r=n.find(o=>o.name==="children");return r&&r.type&&r.type.jsonType==="array"&&r.type.of.find(o=>o.name===e._type)||void 0}function vie(n){return n.decorators?BS(n.decorators,["value"],["asc"]):[]}function FXe(n,e){return vie(e).some(r=>r.value===n)}function Ybe(n,e,r,i,o){return e?e.children.map(s=>{var a;let l=Yl(s)?(a=s.text)==null?void 0:a.replace(qbe,""):"";if(Yl(s)){const c=yie(n,s),u=c==null?void 0:c.fields.text;u&&u.toValue===s.text&&u.type==="string"&&u.action!=="unchanged"&&(l=u.segments.filter(f=>f.action!=="removed").map(f=>f.text.replace(qbe,"")).join(LXe)),s.marks&&s.marks.forEach(f=>{!!r[f]?l="".concat(r[f][0]).concat(l).concat(r[f][1]):i[f]&&(l="".concat(i[f][0]).concat(l).concat(i[f][1]))})}else l=o[s._key];return"".concat(AN).concat(l)}).join(""):""}function WRn(n,e){const r=n.action==="removed"?n.fromValue:n.toValue,i={...n,origin:n,displayValue:r};if(r){const o={},s={},a={},l=_Y(e.fields,{_key:"bogus",_type:"span"});l&&vie(l).forEach((y,b)=>{s[y.value]=ZS[b]}),UXe(i.origin).forEach((y,b)=>{o[y._key]=YS[b]}),NXe(i.origin).forEach((y,b)=>{a[y._key]=BF[b]});const f=Ybe(i.origin,i.fromValue,s,o,a),h=Ybe(i.origin,i.toValue,s,o,a),m={...r,children:[{_type:"span",_key:"pseudoSpanKey",text:h,marks:[]}]},g={displayValue:r,children:[{_type:"span",_key:"pseudoSpanKey",text:f,marks:[]}]};return{origin:n,action:"changed",type:"object",displayValue:m,fromValue:g,toValue:m,isChanged:!0,fields:{children:{action:"changed",type:"array",isChanged:!0,items:[{diff:{action:"changed",type:"object",isChanged:!0,fields:{text:{type:"string",action:"changed",isChanged:!0,fromValue:f,toValue:h,segments:GRn(f,h).map(y=>({...y,...i.action!=="unchanged"&&i.annotation?{annotation:i.annotation}:{}}))}},fromValue:g.children[0],toValue:m.children[0]},annotation:null,fromIndex:0,toIndex:0,hasMoved:!1}],fromValue:g.children,toValue:m.children}}}}throw new Error("Can not display this diff")}function GRn(n,e){const r=[],i=rN(NS(n,e));let o=0,s=0;for(const[a,l]of i)switch(a){case ar:r.push({type:"stringSegment",action:"unchanged",text:l}),o+=l.length,s+=l.length;break;case zi:r.push({type:"stringSegment",action:"removed",text:n.substring(o,o+l.length),annotation:null}),o+=l.length;break;case po:r.push({type:"stringSegment",action:"added",text:e.substring(s,s+l.length),annotation:null}),s+=l.length;break}return Ji(r.map(a=>{const l=[];if(a.text.length>1){const c=[...a.text.matchAll(VRn)];let u=-1;c.forEach(f=>{const h=f.index||0;h>u&&(l.push({...a,text:a.text.substring(u+1,h)}),l.push({...a,text:f[0]})),f===c[c.length-1]&&l.push({...a,text:a.text.substring(h+1)}),u=h}),c.length===0&&l.push(a)}else l.push(a);return l}))}function NXe(n){const e=[...n.toValue?n.toValue.children.filter(i=>i._type!=="span"):[]];return(n.fromValue?n.fromValue.children.filter(i=>i._type!=="span"):[]).forEach(i=>{e.some(o=>i._key===o._key)||e.push(i)}),BS(e,["_key"],["asc"])}function yie(n,e){const r=n.fields.children&&n.fields.children.action!=="unchanged"&&n.fields.children.type==="array"&&n.fields.children.items.find(i=>i.diff&&i.diff.type==="object"&&(i.diff.action==="removed"?i.diff.fromValue&&i.diff.fromValue._key===e._key:(i.diff.toValue&&i.diff.toValue._key)===e._key));if(r)return r.diff}function qRn(n,e){var r;return n.fields.markDefs&&n.fields.markDefs.isChanged&&n.fields.markDefs.type==="array"&&((r=n.fields.markDefs.items.find(i=>i.diff&&i.diff.type==="object"&&(i.diff.toValue&&i.diff.toValue._key&&i.diff.toValue._key===e||i.diff.fromValue&&i.diff.fromValue._key&&i.diff.fromValue._key===e)))==null?void 0:r.diff)||void 0}function BXe(n){return n&&Br(Object.keys(n),["_key","_type"])||!1}function KRn(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function UXe(n){const e=[...n.toValue&&n.toValue.markDefs?n.toValue.markDefs:[]];return(n.fromValue&&n.fromValue.markDefs?n.fromValue.markDefs:[]).forEach(i=>{e.some(o=>i._key===o._key)||e.push(i)}),BS(e,["_key"],["asc"])}function Mc(n){const e=typeof n;if(e==="object"){if(n===null)return"null";if(Array.isArray(n))return"array";if(n instanceof Object&&n.constructor.name!=="Object")return n.constructor.name}return e}function EY(n,e){const{jsonType:r}=e,i=Array.isArray(n)?"array":typeof n;if(!(n===null||i==="undefined")){if(i!==r)return{messageKey:"changes.error.incorrect-type-message",value:n,expectedType:r,actualType:Mc(n)};if(YRn(e)&&ZRn(n))for(const o of e.fields){const s=EY(n[o.name],o.type);if(s)return s}}}function YRn(n){return n.jsonType==="object"}function ZRn(n){return n!==null&&!Array.isArray(n)&&typeof n=="object"}function zXe(n){return n.type==="field"}const XRn=[];function QRn(n){let{checked:e,color:r}=n;return d.jsxs("svg",{width:"17",height:"17",viewBox:"0 0 17 17",xmlns:"http://www.w3.org/2000/svg",fill:r==null?void 0:r.background,children:[d.jsx("rect",{x:"0",y:"0",width:"17",height:"17",rx:"2.5"}),typeof e>"u"&&d.jsx("path",{d:"M4.07996 8.5H12.92",stroke:r==null?void 0:r.text,strokeWidth:"2"}),e&&d.jsx("path",{d:"M3.5 8L7 11.5L13.5 5",stroke:r==null?void 0:r.text,strokeWidth:"2"})]})}function JRn(n){let{checked:e,color:r}=n;return d.jsxs("svg",{width:"38",height:"22",viewBox:"0 0 38 22",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("rect",{width:"38",height:"22",rx:"11",fill:e?r==null?void 0:r.border:r==null?void 0:r.background}),typeof e>"u"&&d.jsx("rect",{x:"11",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),e&&d.jsx("rect",{x:"18",y:"3",width:"16",height:"16",rx:"8",fill:"white"}),typeof e=="boolean"&&!e&&d.jsx("rect",{x:"4",y:"3",width:"16",height:"16",rx:"8",fill:"white"})]})}const eOn=n=>{let{diff:e,schemaType:r}=n;const{fromValue:i,toValue:o}=e,{title:s,options:a}=r,l=(a==null?void 0:a.layout)==="checkbox"?QRn:JRn,c=nS(e,[]),u=o!=null;return d.jsxs(oe,{align:"center",children:[d.jsx(wc,{diff:e,children:d.jsxs(oe,{align:"center",children:[d.jsx(l,{checked:i,color:c}),u&&d.jsxs(d.Fragment,{children:[d.jsx(te,{marginX:2,children:d.jsx(Sie,{})}),d.jsx(l,{checked:o,color:c})]})]})}),u&&s&&d.jsx(te,{marginLeft:2,children:d.jsx(J,{size:1,weight:"medium",children:s})})]})};var Zbe=Object.freeze,tOn=Object.defineProperty,nOn=(n,e)=>Zbe(tOn(n,"raw",{value:Zbe(e||n.slice())})),Xbe;const rOn=F.div(Xbe||(Xbe=nOn([`
  display: inline-block;
  word-wrap: break-word;
`]))),iOn=function(e){let{value:r,schemaType:i}=e;return d.jsx(te,{as:rOn,paddingX:2,paddingY:1,children:oOn(r,i)})};function oOn(n,e){const{options:r,name:i}=e,o=(r==null?void 0:r.dateFormat)||Uy,s=(r==null?void 0:r.timeFormat)||bne;return MS(new Date(n),i==="date"?o:"".concat(o," ").concat(s))}const Qbe=n=>{let{diff:e,schemaType:r}=n;return d.jsx(BD,{align:"center",diff:e,layout:"grid",previewComponent:iOn,schemaType:r})},VXe=p.createContext(null);function IN(){const n=p.useContext(VXe);if(!n)throw new Error("DocumentChange: missing context value");return n}function Jbe(n){const[e,r]=p.useState(void 0),i=Jr(Dr);return p.useEffect(()=>{if(!n)return;const o=i.observable.getDocument(n).subscribe(r);return()=>{o.unsubscribe()}},[i,n]),n?e:void 0}var exe=Object.freeze,sOn=Object.defineProperty,aOn=(n,e)=>exe(sOn(n,"raw",{value:exe(e||n.slice())})),txe;const lOn=F.div(txe||(txe=aOn([`
  `,`
  &:not([hidden]) {
    display: inline-block;
  }

  [data-number='positive'] {
    color: var(--size-diff-positive);
  }

  [data-number='negative'] {
    color: var(--size-diff-negative);
  }
`])),n=>{let{theme:e}=n;return`
    --size-diff-positive: `.concat(e.sanity.color.solid.positive.enabled.bg,`;
    --size-diff-negative: `).concat(e.sanity.color.solid.critical.enabled.bg,`;
  `)}),cOn=n=>{let{diff:e,schemaType:r}=n;const{fromValue:i,toValue:o,fields:s}=e,a=i==null?void 0:i.asset,l=o==null?void 0:o.asset,{t:c}=me(),u=Jbe(a==null?void 0:a._ref),f=Jbe(l==null?void 0:l._ref),h=Aoe({unitDisplay:"short",maximumFractionDigits:2}),m=Object.entries(s).filter(T=>{let[A,I]=T;return I.isChanged&&A!=="_type"}).map(T=>{let[A]=T;return A}),g=m.includes("asset"),v=r.fields.filter(T=>T.name!=="asset"&&m.includes(T.name)).map(T=>T.name),y=SDn(u==null?void 0:u.size,f==null?void 0:f.size),b=(u==null?void 0:u.size)&&yY(u.size,h),x=(f==null?void 0:f.size)&&yY(f.size,h),_=p.useMemo(()=>({display:"block",flex:1}),[]),w=u&&d.jsx(Ql,{as:"del",diff:e,path:"asset._ref",style:_,children:d.jsx(AY,{title:u.originalFilename||c("changes.file.meta-info-fallback-title"),icon:gh,children:d.jsx(J,{size:0,style:{color:"inherit"},children:b})})}),C=f&&d.jsx(Ql,{as:"ins",diff:e,path:"asset._ref",style:_,children:d.jsx(AY,{title:f.originalFilename||c("changes.file.meta-info-fallback-title"),icon:gh,children:d.jsxs(oe,{align:"center",children:[d.jsx(J,{size:0,style:{color:"inherit"},children:x}),y!==0&&d.jsx(ke,{radius:2,padding:1,as:lOn,marginLeft:2,children:d.jsxs(J,{size:0,"data-number":y>0?"positive":"negative",children:[y>0?"+":"-",y,"%"]})})]})})}),S=d.jsxs(d.Fragment,{children:[w&&!C&&d.jsx(wc,{diff:e,path:"asset._ref",description:c("changes.removed-label"),children:w}),w&&C&&d.jsx(wc,{diff:e,path:"asset._ref",children:d.jsx(kie,{from:w,layout:"grid",to:C})}),!w&&C&&d.jsx(wc,{diff:e,path:"asset._ref",description:c("changes.added-label"),children:C})]});return d.jsxs(d.Fragment,{children:[g&&S,v.length>0&&d.jsx(te,{marginTop:g?4:3,children:d.jsx(UD,{diff:e,schemaType:r,fields:v})})]})};function nxe(n,e){const r=(/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n)||[]).slice(1).map(i=>parseInt(i,16)).concat(e);return"rgba(".concat(r.join(", "),")")}function uOn(n){let e=0;if(n.length==0)return e.toString();for(let r=0;r<n.length;r++){const i=n.charCodeAt(r);e=(e<<5)-e+i,e&=e}return e.toString()}function dOn(){const n=Math.ceil(window.devicePixelRatio||1);return Math.min(3,Math.max(1,n))}function fOn(n){const{crop:e,diff:r,hash:i,hotspot:o,width:s=100,height:a=100,...l}=n,{t:c}=me(),u=nS(r,"crop"),f=nS(r,"hotspot");return d.jsxs("svg",{...l,fill:"none",width:s,height:a,viewBox:"0 0 ".concat(s," ").concat(a),children:[d.jsx("defs",{children:e&&o&&d.jsxs("mask",{id:"mask-hotspot-".concat(i),children:[d.jsx("rect",{x:0,y:0,width:s,height:a,fill:"#fff"}),d.jsx(rxe,{hotspot:o,fill:"#000",offset:1,width:s,height:a,stroke:"#000",strokeWidth:3})]})}),e&&d.jsx(wc,{diff:r,path:"crop",description:c("changes.image.crop-changed"),children:d.jsx("g",{children:d.jsx(hOn,{crop:e,fill:nxe(u.border,.25),mask:o?"url(#mask-hotspot-".concat(i,")"):void 0,stroke:u.border,strokeWidth:1,width:s,height:a})})}),o&&d.jsx(wc,{diff:r,path:"hotspot",description:c("changes.image.crop-changed"),children:d.jsx("g",{children:d.jsx(rxe,{hotspot:o,fill:nxe(f.border,.25),stroke:f.border,strokeWidth:1,width:s,height:a})})})]})}function hOn(n){let{crop:e,width:r,height:i,...o}=n;const s={x:e.left*r,y:e.top*i,width:(1-e.right-e.left)*r,height:(1-e.bottom-e.top)*i};return d.jsx("rect",{...o,...s,style:{vectorEffect:"non-scaling-stroke"}})}function rxe(n){let{hotspot:e,offset:r=0,width:i,height:o,...s}=n;const a={cx:e.x*i,cy:e.y*o,rx:e.width/2*i+r,ry:e.height/2*o+r};return d.jsx("ellipse",{...s,...a,style:{vectorEffect:"non-scaling-stroke"}})}var ixe=Object.freeze,pOn=Object.defineProperty,bie=(n,e)=>ixe(pOn(n,"raw",{value:ixe(e||n.slice())})),oxe,sxe,axe;const mOn=["originalFilename"],lxe=()=>{const{t:n}=me();return d.jsx(ke,{flex:1,tone:"transparent",padding:4,radius:2,height:"stretch",children:d.jsx(oe,{align:"center",justify:"center",height:"fill",children:d.jsx(J,{size:1,muted:!0,children:n("changes.image.no-image-placeholder")})})})},gOn=F.div(oxe||(oxe=bie([`
  height: 100%;
  max-height: 190px;
  position: relative;

  /* Ideally the checkerboard component currently in the form builder should be made available and used here */
  background-color: `,`;
  background-image: linear-gradient(45deg, `,` 25%, transparent 25%),
    linear-gradient(-45deg, `,` 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, `,` 75%),
    linear-gradient(-45deg, transparent 75%, `,` 75%);
  background-size: 16px 16px;
  background-position:
    0 0,
    0 8px,
    8px -8px,
    -8px 0;

  &::after {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    pointer-events: none;
  }

  &[data-changed] {
    opacity: 0.45;
  }
`])),Kt.gray[100].hex,Kt.gray[50].hex,Kt.gray[50].hex,Kt.gray[50].hex,Kt.gray[50].hex),vOn=F.img(sxe||(sxe=bie([`
  display: block;
  flex: 1;
  min-height: 0;
  object-fit: contain;
  width: 100%;
  height: 100%;

  &[data-action='removed'] {
    opacity: 0.45;
  }
`]))),yOn=F.div(axe||(axe=bie([`
  svg {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
`])));function jV(n){var e,r,i,o;const{id:s,action:a,diff:l,hotspot:c,crop:u,is:f}=n,{t:h}=me(),m=Jr(Dr),[g,v]=p.useState(),{value:y}=woe(s,mOn),b=N0n(s),x=p.useMemo(()=>kD(m),[m]),_=y===null,w=y&&y.originalFilename,C=x.image(s).height(190).dpr(dOn()).fit("max"),S=((r=(e=l.fromValue)==null?void 0:e.asset)==null?void 0:r._ref)!==((o=(i=l.toValue)==null?void 0:i.asset)==null?void 0:o._ref);let T;a&&a!=="changed"&&(T=h(a==="added"?"changes.added-label":"changes.removed-label"));const A=a==="changed"?void 0:a;return d.jsxs(oe,{direction:"column",height:"fill",flex:1,children:[d.jsx(te,{flex:1,padding:2,paddingBottom:0,children:d.jsxs(oe,{as:gOn,direction:"column","data-changed":f==="from"&&S?"":void 0,"data-error":g?"":void 0,children:[!_&&!g&&d.jsx(vOn,{src:C.toString()||"",alt:w,"data-action":A,onError:v,width:b.width,height:b.height}),(_||g)&&d.jsx(te,{paddingY:5,children:d.jsx(J,{size:1,muted:!0,align:"center",children:h(_?"changes.image.deleted":"changes.image.error-loading-image")})}),d.jsx(yOn,{children:d.jsx(fOn,{crop:u&&!S0n(u)?u:void 0,diff:l,hash:uOn("".concat(C.toString()||"","-").concat(f)),hotspot:c&&!k0n(c)?c:void 0,width:b.width,height:b.height})})]})}),d.jsx(AY,{title:w||h("changes.image.meta-info-fallback-title"),icon:vh,markRemoved:S&&f==="from",children:T?d.jsx("div",{children:T}):d.jsxs("div",{children:[b.width," × ",b.height]})})]})}const bOn=["crop","hotspot"],xOn=["asset",...bOn],LV={flex:1},wOn=n=>{let{diff:e,schemaType:r}=n;var i,o;const{t:s}=me(),{fromValue:a,toValue:l,fields:c,isChanged:u}=e,f=(i=a==null?void 0:a.asset)==null?void 0:i._ref,h=(o=l==null?void 0:l.asset)==null?void 0:o._ref,m=ND(e,["asset","_ref"]),g=Object.keys(c).filter(D=>c[D].isChanged&&D!=="_type"),v=r.fields.filter(D=>!xOn.includes(D.name)&&g.includes(D.name)).map(D=>D.name);let y="changed";!f&&h?y="added":!h&&f&&(y="removed");const b=g.includes("asset"),x=g.includes("crop"),_=g.includes("hotspot"),w=x||_,C=b||w,S=w&&!b,T=a&&f?d.jsx(Ql,{annotation:m,style:LV,children:d.jsx(jV,{is:"from",id:f,diff:e,action:y,hotspot:S&&_?a.hotspot:void 0,crop:S&&x?a.crop:void 0})}):d.jsx(lxe,{}),A=l&&h?d.jsx(Ql,{annotation:m,style:LV,children:d.jsx(jV,{is:"to",id:h,diff:e,hotspot:S&&_?l.hotspot:void 0,crop:S&&x?l.crop:void 0})}):d.jsx(lxe,{});if(!T&&!A)return d.jsx(ke,{padding:4,radius:2,tone:"transparent",children:d.jsx(J,{muted:!0,size:1,align:"center",children:s("changes.image.no-asset-set")})});if(!u)return h?d.jsx(Ql,{annotation:m,style:LV,children:d.jsx(jV,{id:h,is:"to",diff:e})}):null;const I=d.jsx(kie,{align:"center",from:T,layout:"grid",to:A});return d.jsxs(d.Fragment,{children:[C&&(b?d.jsx(wc,{annotations:m?[m]:[],description:_On(y,s),children:I}):I),v.length>0&&d.jsx(te,{marginTop:C?4:3,children:d.jsx(UD,{diff:e,schemaType:r,fields:v})})]})};function _On(n,e){switch(n){case"changed":return e("changes.changed-label");case"added":return e("changes.added-label");case"removed":return e("changes.removed-label");default:return"Unknown change"}}var cxe=Object.freeze,EOn=Object.defineProperty,COn=(n,e)=>cxe(EOn(n,"raw",{value:cxe(e||n.slice())})),uxe;const SOn=F.div(uxe||(uxe=COn([`
  display: inline-block;
  word-break: break-all;
`]))),kOn=n=>{const{value:e}=n;return d.jsx(te,{as:SOn,paddingX:2,paddingY:1,children:e})},TOn=n=>{let{diff:e,schemaType:r}=n;return d.jsx(BD,{diff:e,schemaType:r,previewComponent:kOn,layout:"inline"})};var dxe=Object.freeze,AOn=Object.defineProperty,DN=(n,e)=>dxe(AOn(n,"raw",{value:dxe(e||n.slice())})),fxe,hxe,pxe,mxe;const XS=F(te)(fxe||(fxe=DN([`
  &:not([hidden]) {
    display: inline;
    align-items: center;

    &[data-changed] {
      cursor: pointer;
    }
  }
`]))),HXe=F(J)(hxe||(hxe=DN([`
  &:not([hidden]) {
    display: inline;
    color: inherit;
  }
`]))),xie=F(te)(pxe||(pxe=DN([`
  &:not([hidden]) {
    display: inline-flex;
    align-items: center;

    `,` [data-ui="Text"] {
      opacity: 0.5;
    }
  }
`])),XS),WXe=F(te)(mxe||(mxe=DN([`
  min-width: 160px;
  max-height: 40vh;
  overflow-y: auto;
`])));var gxe=Object.freeze,IOn=Object.defineProperty,DOn=(n,e)=>gxe(IOn(n,"raw",{value:gxe(e||n.slice())})),vxe;const CY=F.div(vxe||(vxe=DOn([`
  text-decoration: none;
  display: inline;
  position: relative;
  border: 0;
  padding: 0;
  border-bottom: 2px dotted currentColor;
  box-shadow: inset 0 0 0 1px var(--card-border-color);
  white-space: nowrap;
  align-items: center;
  background-color: color(var(--card-fg-color) a(10%));

  &[data-changed] {
    cursor: pointer;
  }

  &[data-removed] {
    text-decoration: line-through;
  }

  &:hover `,` {
    opacity: 1;
  }
`])),xie);function ROn(n){let{children:e,diff:r,object:i,schemaType:o,path:s,...a}=n;const{t:l}=me();return o?r&&r.action!=="unchanged"?d.jsx(OOn,{...a,diff:r,object:i,schemaType:o,path:s,children:e}):d.jsx(CY,{children:e}):d.jsx(CY,{...a,children:l("changes.portable-text.unknown-annotation-schema-type")})}function OOn(n){let{diff:e,children:r,object:i,schemaType:o,path:s,...a}=n;const{onSetFocus:l}=p.useContext(hw),{path:c}=p.useContext(Fg),[u,f]=p.useState(null),{t:h}=me(),m=nS(e,[]),g=p.useMemo(()=>m?{background:m.background,color:m.text}:{},[m]),v=e.action==="removed",[y,b]=p.useState(!1),x=i&&BXe(i),_=p.useMemo(()=>[s[0]].concat(["markDefs",{_key:i._key}]),[i._key,s]),w=p.useMemo(()=>c.slice(0,c.findIndex(L=>ji(L)&&L._key===i._key)),[c,i._key]),C=p.useMemo(()=>w.concat(s),[s,w]),S=p.useMemo(()=>w.concat(_),[_,w]),T="field-".concat(ns(S)),A=lie(),I=p.useMemo(()=>A.filter(L=>{let[M]=L;return M.startsWith(T)}).length>0,[T,A]);p.useEffect(()=>{!y&&I&&(b(!0),l(S))},[I,S,l,y]);const D=p.useCallback(L=>{L.stopPropagation(),b(!0),v||(L.preventDefault(),l(C),setTimeout(()=>l(S),10))},[C,v,S,l]),R=p.useCallback(()=>{I||b(!1)},[I]);ki(R,[u]);const P=e.action!=="unchanged"&&e.annotation||null,O=p.useMemo(()=>P?[P]:[],[P]),$=d.jsx(Fg.Provider,{value:{path:S},children:d.jsx(WXe,{padding:3,children:d.jsxs("div",{children:[x&&d.jsx(J,{muted:!0,size:1,weight:"medium",children:h("changes.portable-text.empty-object-annotation",{annotationType:o.title||o.name})}),!x&&d.jsx(UD,{diff:e,schemaType:o})]})})});return d.jsx(CY,{...a,onClick:D,style:g,"data-changed":"","data-removed":e.action==="removed"?"":void 0,children:d.jsx(Ai,{content:$,open:y,ref:f,portal:!0,children:d.jsx(xie,{paddingLeft:1,children:d.jsx(wc,{annotations:O,description:h("changes.portable-text.annotation",{context:e.action}),children:d.jsxs(XS,{style:{display:"inline-flex"},children:[d.jsx("span",{children:r}),d.jsx(oe,{align:"center",paddingX:1,children:d.jsx(HXe,{size:0,children:d.jsx(qs,{})})})]})})})})})}var yxe=Object.freeze,POn=Object.defineProperty,jOn=(n,e)=>yxe(POn(n,"raw",{value:yxe(e||n.slice())})),bxe;const LOn=F.blockquote(bxe||(bxe=jOn([`
  margin: 0;
`])));function $On(n){let{children:e}=n;return d.jsx("div",{children:d.jsx(LOn,{children:e})})}var xxe=Object.freeze,MOn=Object.defineProperty,FOn=(n,e)=>xxe(MOn(n,"raw",{value:xxe(e||n.slice())})),wxe;const NOn={h1:2,h2:1,h3:0,h4:0,h5:0,h6:0},BOn=F(Pa)(wxe||(wxe=FOn([`
  &:not([hidden]) {
    display: inline;
    text-transform: none;
    margin: 0;

    &::before,
    &::after {
      content: unset;
    }
  }
`])));function UOn(n){let{style:e,children:r}=n;return d.jsx(BOn,{size:NOn[e],children:r})}var _xe=Object.freeze,zOn=Object.defineProperty,VOn=(n,e)=>_xe(zOn(n,"raw",{value:_xe(e||n.slice())})),Exe;const HOn=F.div(Exe||(Exe=VOn([`
  text-transform: none;
  white-space: wrap;
  overflow-wrap: break-word;
  margin: 0;
`])));function WOn(n){let{children:e}=n;return d.jsx(HOn,{children:e})}const GOn=[];function qOn(n){var e,r,i;const{diff:o,block:s,children:a}=n,l=nS(o,GOn),{path:c}=p.useContext(Fg),{onSetFocus:u}=p.useContext(hw),{t:f}=me(),h=o.action==="removed";let m=a;const g=p.useCallback(y=>{y.stopPropagation(),h||u(c)},[c,h,u]);s.style==="blockquote"?m=d.jsx($On,{children:m}):s.style&&HRn(s)?m=d.jsx(UOn,{style:s.style,children:m}):m=d.jsx(WOn,{children:m});let v;if(o.origin.action==="changed"&&o.origin.fields.style&&o.origin.fields.style.action==="changed"&&o.origin.fields.style.annotation){v=(r=(e=o==null?void 0:o.origin)==null?void 0:e.fromValue)==null?void 0:r.style;const y=l?{background:l.background,color:l.text}:{};m=d.jsx(ke,{padding:3,border:!0,radius:2,style:{borderStyle:"dotted"},"diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(v||"undefined"),children:d.jsxs(Se,{space:2,children:[d.jsx(wc,{annotations:[(i=o.origin.fields.style)==null?void 0:i.annotation],diff:o.origin.fields.style,children:d.jsx(J,{size:0,children:f("changes.portable-text.block-style-changed",{fromStyle:v,toStyle:s.style})})}),d.jsx(te,{style:y,children:m})]})})}return d.jsx("div",{onClick:g,"data-diff-block-action":o.action,"data-block-note":"changed_from_style_".concat(v||"undefined"),children:m})}var Cxe=Object.freeze,KOn=Object.defineProperty,YOn=(n,e)=>Cxe(KOn(n,"raw",{value:Cxe(e||n.slice())})),Sxe;const ZOn=F.span(Sxe||(Sxe=YOn([`
  display: inline;
  `,`
`])),n=>{let{theme:e,decoration:r}=n;switch(r){case"strong":return"font-weight: bold;";case"em":return"font-style: italic;";case"underline":return"text-decoration: underline;";case"overline":return"text-decoration: overline;";case"strike-through":return"text-decoration: line-through;";case"code":return`
          font-family: `.concat(e.sanity.fonts.code.family,`;
          background: `).concat(e.sanity.color.muted.default.enabled.bg,`;
        `);default:return""}});function XOn(n){let{mark:e,children:r}=n;return d.jsx(ZOn,{decoration:e,children:r})}var kxe=Object.freeze,QOn=Object.defineProperty,JOn=(n,e)=>kxe(QOn(n,"raw",{value:kxe(e||n.slice())})),Txe;const SY=F(ke)(Txe||(Txe=JOn([`
  &:not([hidden]) {
    display: inline;
    cursor: pointer;
    white-space: nowrap;
    align-items: center;

    &[data-removed] {
      text-decoration: line-through;
    }

    `,` {
      display: inline-flex;
    }
  }
`])),XS);function ePn(n){let{diff:e,object:r,schemaType:i,...o}=n;const{t:s}=me();return i?e?d.jsx(tPn,{...o,diff:e,object:r,schemaType:i}):d.jsx(SY,{children:d.jsx(XD,{schemaType:i,value:r,layout:"inline"})}):d.jsx(SY,{...o,border:!0,radius:1,children:s("changes.portable-text.unknown-inline-object-schema-type",{schemaType:r._type})})}function tPn(n){let{diff:e,object:r,path:i,schemaType:o,...s}=n;const{path:a}=p.useContext(Fg),{onSetFocus:l}=p.useContext(hw),{t:c}=me(),u=nS(e,[]),f=p.useMemo(()=>u?{background:u.background,color:u.text}:{},[u]),[h,m]=p.useState(!1),g=r&&BXe(r),v=e.action==="removed",b=a.slice(0,a.findIndex(R=>ji(R)&&R._key===r._key)).concat(i),x="field-".concat(ns(b)),w=lie().filter(R=>{let[P]=R;return P.startsWith(x)}).length>0,C=a.slice(0,-1).concat(i).concat([j4e]);p.useEffect(()=>{w&&(m(!0),l(C))},[C,w,l]);const S=p.useCallback(R=>{if(R.stopPropagation(),m(!0),!v){l(C);return}R.preventDefault()},[C,v,l]),T=p.useCallback(()=>{m(!1)},[]),A=d.jsx(Fg.Provider,{value:{path:b},children:d.jsx(nPn,{diff:e,emptyObject:g,onClose:T,schemaType:o})}),I=e.action!=="unchanged"&&e.annotation||null,D=I?[I]:[];return d.jsx(SY,{...s,onClick:S,style:f,"data-removed":e.action==="removed"?"":void 0,border:!0,radius:2,children:d.jsx(Ai,{content:A,open:h,portal:!0,children:d.jsx(xie,{children:d.jsx(wc,{annotations:D,description:c("changes.portable-text.inline-object",{context:e.action}),children:d.jsxs(XS,{children:[d.jsx(XD,{schemaType:o,value:r,layout:"inline"}),d.jsx(oe,{align:"center",paddingX:1,children:d.jsx(HXe,{size:0,children:d.jsx(qs,{})})})]})})})})})}function nPn(n){let{diff:e,emptyObject:r,onClose:i,schemaType:o}=n;const{t:s}=me(),[a,l]=p.useState(null);return ki(i,[a]),d.jsxs(WXe,{ref:l,padding:3,children:[r&&d.jsx(J,{muted:!0,size:1,weight:"medium",children:s("changes.portable-text.empty-inline-object",{inlineObjectType:o.title||o.name})}),!r&&d.jsx(UD,{diff:e,schemaType:o})]})}function rPn(n){let{diff:e,childDiff:r,children:i,path:o,segment:s,...a}=n;const l=e||r;return l&&l.action!=="unchanged"&&s.action!=="unchanged"?d.jsx(iPn,{...a,childDiff:r,diff:e,segment:s,path:o,children:i}):d.jsx(XS,{children:i})}function iPn(n){let{diff:e,childDiff:r,children:i,path:o,segment:s,...a}=n;const{onSetFocus:l}=p.useContext(hw),{path:c}=p.useContext(Fg),u=p.useMemo(()=>o.slice(-2,1)[0],[o]),{t:f}=me(),h=e&&e.action==="removed",g=c.slice(0,c.findIndex(w=>ji(w)&&ji(u)&&w._key===u._key)).concat(o),v=p.useCallback(w=>{w.stopPropagation(),h||(w.preventDefault(),l(g))},[g,h,l]),b=e&&e.segments.find(w=>w.text===s.text)||e||r,x=b&&b.action!=="unchanged"&&b.annotation||null,_=x&&s.action!=="unchanged"?d.jsx(Ql,{annotation:x,as:s.action==="removed"?"del":"ins",tooltip:{description:f("changes.portable-text.text",{context:s.action})},children:i}):null;return d.jsx(XS,{...a,onClick:v,"data-changed":"",children:d.jsx("span",{children:d.jsx(d.Fragment,{children:_||i})})})}const wie=ZS.map(n=>n[0]),_ie=ZS.map(n=>n[1]),JL=YS.map(n=>n[0]),kY=YS.map(n=>n[1]),oPn=wie.concat(JL),GXe=_ie.concat(kY),sPn=wie.concat(_ie),aPn=new RegExp("".concat(sPn.concat(GXe).join("|")),"g");function lPn(n){const{diff:e,schemaType:r}=n,i=e.origin.toValue||e.origin.fromValue,{t:o}=me(),s=p.useMemo(()=>e.origin.toValue?NXe(e.origin):[],[e.origin]),a=p.useCallback(l=>{const c=_Y(r.fields,l);let u=[];if(c){u=vie(c);const f=e.fields.children,h=f.items[0].diff&&f.items[0].diff.type==="object"&&f.items[0].diff.fields.text.type==="string"&&f.items[0].diff.fields.text.segments||[],m=[],g={};if(dPn(i,e)&&(e.origin.action==="added"||e.origin.action==="removed")){const w=Kbe(e.origin,i.children[0])||e.origin;if(w&&w.action!=="unchanged")return d.jsx(Ql,{annotation:w.annotation,as:w.action==="removed"?"del":"ins",tooltip:{description:o("changes.portable-text.empty-text",{context:w.action})},children:d.jsx("span",{children:FRn})},"empty-block-".concat(i._key))}let v=-1,y=-1;const b=[];let x;const _=UXe(e.origin);return h.forEach(w=>{var C,S,T;y++;const A=BF.includes(w.text),I=oPn.includes(w.text),D=GXe.includes(w.text),R=w.text===AN,P=w.action==="removed";if(R)P||v++;else if(I||D){if(I&&JL.includes(w.text)){const O=_[JL.indexOf(w.text)];O&&b.push({mark:O._key,symbols:[w.text,kY[JL.indexOf(w.text)]],object:O})}D&&kY.includes(w.text)&&(x=b.pop())}else if(A){const O=BF.findIndex(M=>M===w.text),$=(C=s[O])==null?void 0:C._key,L=s[O];if($){const M=_Y(r.fields,L),N=Kbe(e.origin,L);m.push(d.jsx(ePn,{object:L,path:[{_key:i._key},"children",{_key:L._key}],diff:N,schemaType:M},"inline-object-".concat(L._key)))}}else if(w.text){const O=()=>{var z;return(z=e.origin.fromValue)==null?void 0:z.children.find(B=>B.text&&B.text.match(KRn(w.text)))},$=i.children[v]||O(),L=$&&yie(e.origin,$);if(!$)throw new Error("Could not find child");const M=(S=L==null?void 0:L.fields)!=null&&S.text?(T=L==null?void 0:L.fields)==null?void 0:T.text:void 0,N=d.jsx(rPn,{diff:M,path:[{_key:i._key},"children",{_key:$._key}],childDiff:L,segment:w,children:cPn({diff:e,child:$,decoratorTypes:u,seg:w,segIndex:y,spanSchemaType:c,t:o})},"text-".concat($._key,"-").concat(y));if(b.length>0&&b.forEach(z=>{g[z.mark]=g[z.mark]||[],g[z.mark].push(N)}),x){const z="annotation-".concat(x.object._key),B=m[m.length-1];if(B&&B.key!==z){const H=qRn(e.origin,x.mark),X=x&&c.annotations&&c.annotations.find(G=>x&&x.object&&G.name===x.object._type);m.push(d.jsx(ROn,{object:x.object,diff:H,path:[{_key:i._key},"children",{_key:$._key}],schemaType:X,children:d.jsx(d.Fragment,{children:g[x.mark]})},z))}x=void 0}b.length===0&&m.push(N)}}),p.createElement("div",{key:i._key},...m)}throw new Error("'span' schemaType not found")},[i,e,s,r,o]);return d.jsx(qOn,{block:e.displayValue,diff:e,children:d.jsx(d.Fragment,{children:(e.displayValue.children||[]).map(l=>a(l))})})}function cPn(n){let{diff:e,child:r,decoratorTypes:i,seg:o,segIndex:s,spanSchemaType:a,t:l}=n;if(o.text===`
`)return d.jsx("br",{});let c=d.jsx("span",{children:o.text.replace(/ /g,NRn)},"text-".concat(s));const u=r&&yie(e.origin,r),f=Yl(r)?r.marks||[]:[];return u&&(c=uPn({activeMarks:f,decoratorTypes:i,diff:e,children:c,seg:o,segIndex:s,spanDiff:u,spanSchemaType:a,t:l})),f&&f.length>0&&f.forEach(h=>{FXe(h,a)&&(c=d.jsx(XOn,{mark:h,children:c},"decorator-".concat(h,"-").concat(r._key,"-").concat(s)))}),c}function uPn(n){let{activeMarks:e,decoratorTypes:r,diff:i,children:o,seg:s,segIndex:a,spanDiff:l,spanSchemaType:c,t:u}=n;var f;let h=d.jsx("span",{children:o},"text-segment-".concat(a));const m=i.origin.fromValue&&i.fromValue&&i.fromValue.children[0].text||"",g=l&&l.action!=="unchanged"&&l.annotation||void 0,v=(f=l==null?void 0:l.fields)==null?void 0:f.marks,y=v&&v.action!=="unchanged"&&v.annotation||g;let b=[];const _=m.split(AN).filter(A=>!!A).join(""),w=_.substring(0,_.indexOf(s.text)+s.text.length),C=w.substring(0,w.indexOf(s.text)),S=[];return[...C.matchAll(aPn)].forEach(A=>{var I;const D=A[0],R=ZS.concat(YS).find(P=>P.indexOf(D)>-1);if(R){const P=D===R[0],O=((I=r[P?wie.indexOf(D):_ie.indexOf(D)])==null?void 0:I.value)||D;C.lastIndexOf(D)>C.lastIndexOf(R[1])&&S.push(O)}}),b=C1n(e,la(S)),y&&b.length>0&&b.some(A=>FXe(A,c))&&(h=d.jsx(Ql,{annotation:y,as:"ins",tooltip:{description:u("changes.portable-text.changed-formatting")},children:h},"diffcard-annotation-".concat(a,"-").concat(b.join("-")))),h}function dPn(n,e){return n.children.length===1&&n.children[0]._type==="span"&&typeof n.children[0].text=="string"&&n.children[0].text===""&&e.origin.action!=="unchanged"}const fPn=n=>{const{diff:e,schemaType:r}=n,i=p.useMemo(()=>WRn(e,r),[e,r]);return d.jsx("div",{"data-diff-action":e.action,children:d.jsx(lPn,{diff:i,schemaType:r})})};var Axe=Object.freeze,hPn=Object.defineProperty,pPn=(n,e)=>Axe(hPn(n,"raw",{value:Axe(e||n.slice())})),Ixe;const mPn=F.div(Ixe||(Ixe=pPn([`
  word-wrap: break-word;
`]))),gPn=n=>{let{value:e,schemaType:r}=n;return d.jsx(te,{as:mPn,padding:2,children:d.jsx(XD,{schemaType:r,value:e,layout:"default"})})},vPn=n=>{let{diff:e,schemaType:r}=n;return d.jsx(BD,{align:"center",diff:e,layout:"grid",path:"_ref",previewComponent:gPn,schemaType:r})};var Dxe=Object.freeze,yPn=Object.defineProperty,bPn=(n,e)=>Dxe(yPn(n,"raw",{value:Dxe(e||n.slice())})),Rxe;const xPn=F.div(Rxe||(Rxe=bPn([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`]))),wPn=n=>{const{value:e}=n;return d.jsx(te,{as:xPn,paddingX:2,paddingY:1,children:e})};var Oxe=Object.freeze,_Pn=Object.defineProperty,EPn=(n,e)=>Oxe(_Pn(n,"raw",{value:Oxe(e||n.slice())})),Pxe;const CPn=F.div(Pxe||(Pxe=EPn([`
  white-space: pre-wrap;
  word-wrap: break-word;
`]))),SPn=n=>{let{diff:e,schemaType:r}=n;const{options:i}=r;return i!=null&&i.list?d.jsx(BD,{diff:e,previewComponent:wPn,schemaType:r}):d.jsx(CPn,{children:d.jsx(mjn,{diff:e})})},jxe={block:fPn,boolean:{component:eOn,showHeader:!1},date:Qbe,datetime:Qbe,file:cOn,image:wOn,number:TOn,reference:vPn,string:SPn};function qXe(n,e){var r;let i=n;for(;i;){const a=((r=i==null?void 0:i.components)==null?void 0:r.diff)||kPn(i,e)||jxe[i.name];if(a)return a;i=i.type}const s=["date","datetime"].includes(n.name)?n.name:n.jsonType;return jxe[s]}function kPn(n,e){const r=XRn;let i;for(const o of r){if(typeof o!="function"){console.error("Diff component resolver is not a function: ",o);continue}if(i=o({schemaType:n,parentSchemaType:e}),i)return i}}function Eie(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(!qXe(n,o.parentSchema)){if(n.jsonType==="object"&&e.type==="object")return KXe(n,e,r,i,o);if(n.jsonType==="array"&&e.type==="array")return IPn(n,e,r,i)}return YXe(n,e,r,i,o)}function KXe(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const s=[],a={...o,parentSchema:n},l=n.fieldsets||n.fields.map(c=>({single:!0,field:c}));for(const c of l)c.single?s.push(...TPn(c.field,e,r,i,a)):s.push(...APn(c,e,r,i,a));return s.length<2?s:[{type:"group",key:Oi(r)||"root",path:r,titlePath:i,changes:Cie(s,i.length),schemaType:n}]}function TPn(n,e,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fieldFilter:s,...a}=o,l=e.fields[n.name];if(!l||!l.isChanged||s&&!s.includes(n.name))return[];const c=r.concat([n.name]),u=i.concat([n.type.title||n.name]);return Eie(n.type,l,c,u,a)}function APn(n,e,r,i){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fields:s,name:a,title:l,readOnly:c,hidden:u}=n,{fieldFilter:f,...h}=o,m=u,g=c,v=i.concat([l||a]),y=[];for(const b of s){const x=e.fields[b.name];if(!x||!x.isChanged||f&&!f.includes(b.name))continue;const _=r.concat([b.name]),w=v.concat([b.type.title||b.name]);y.push(...Eie({readOnly:g,hidden:m,...b.type},x,_,w,h))}return y.length<2?y:[{type:"group",key:Oi(r)||"root",fieldsetName:a,path:r,titlePath:v,changes:Cie(y,v.length),readOnly:g,hidden:m}]}function IPn(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];const o=e.items.filter(c=>c.hasMoved&&c.fromIndex!==c.toIndex||c.diff.action!=="unchanged");if(o.length===0)return[];const s=BRn(n),a=[],l=o.reduce((c,u)=>{const f=$Rn(u.diff,n),h=f.toType||f.fromType;if(!h)return console.warn("Could not determine schema type for item at %s",Oi(r)),c;const m=bY(u.diff.fromValue)||bY(u.diff.toValue)||e.items.indexOf(u),g=r.concat(m),v={itemDiff:u,parentDiff:e,parentSchema:n},y=i.concat({hasMoved:u.hasMoved,toIndex:u.toIndex,fromIndex:u.fromIndex,annotation:u.diff.action==="unchanged"?u.annotation:u.diff.annotation}),b=_=>(_.type==="field"&&TXe(g,_.path)&&(_.itemDiff=u),_),x=Eie(h,u.diff,g,y,v).map(b);return s&&x.filter(zXe).forEach((_,w,C)=>{_.showHeader=C.length===1,_.showIndex=u.fromIndex!==u.toIndex&&u.hasMoved}),x.length===0?c.push(...YXe(h,u.diff,g,y,v)):c.push(...x),c},a);return l.length>1?[{type:"group",key:Oi(r)||"root",path:r,titlePath:i,changes:Cie(l,i.length),schemaType:n}]:l}function YXe(n,e,r,i){let{itemDiff:o,parentDiff:s,parentSchema:a}=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};const{fromValue:l,toValue:c,type:u}=e;if(u==="array"&&Lxe(l)&&Lxe(c))return[];let f;typeof l<"u"&&(f=EY(l,n)),!f&&typeof c<"u"&&(f=EY(c,n));let h=!0,m;const g=qXe(n,a);return g&&typeof g=="function"?m=g:g&&(m=g.component,h=typeof g.showHeader>"u"?h:g.showHeader),[{type:"field",diff:e,path:r,error:f,itemDiff:o,parentDiff:s,titlePath:i,schemaType:n,showHeader:h,showIndex:!0,key:Oi(r)||"root",diffComponent:f?void 0:m,parentSchema:a}]}function Cie(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return n.map(r=>(r.titlePath=r.titlePath.slice(e),r))}function Lxe(n){return Array.isArray(n)&&n.length===0||n===null||typeof n>"u"}const $xe=n=>n.type==="field"&&n.diff.action==="added",ZXe=n=>{if(n.type!=="group")return[n];const e=[];return n.changes.forEach(r=>{e.push(...ZXe(r))}),e},XXe=(n,e)=>{if(e.length>=n.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==n[r])return!1;return!0},DPn=(n,e)=>{const r=n[e],i=AXe(r);return i?{_key:i}:Array.isArray(n)?parseInt(e,10):e},RPn={diffMatchPatch:{enabled:!1,lengthThresholdAbsolute:30,lengthThresholdRelative:1.2}};function RN(n,e,r){if(!e)return;const i=[];if(n.type==="group"){const o=ZXe(n),s=o.filter($xe);o.filter(a=>!$xe(a)).forEach(a=>RN(a,e,r)),i.push(...Mxe(e,s.map(a=>a.path).reverse()))}else n.diff.action==="added"?i.push(...Mxe(e,[n.path])):n.type==="field"&&n.itemDiff&&n.parentDiff&&n.parentDiff.type==="array"&&n.itemDiff.hasMoved?i.push(...PPn(n.itemDiff,n.parentDiff,n.path)):i.push(...jPn(n.diff,e,n.path));r.patch.execute(i)}function OPn(n,e,r){const i=n.toValue;return QXe(i,e,r)}function Mxe(n,e){const r=[];for(let i=0;i<e.length;i++)r.some(s=>XXe(e[i],s))||r.push(OPn(n,e[i],e));return[{unset:[...new Set(r.map(Oi))]}]}function QXe(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i=arguments.length>3?arguments[3]:void 0;if(e.length<=0){if(!i)throw new Error("Root has no ancestor");return i}const o=e.slice(0,-1),s=lf(n,o),a=[o,...r.filter(l=>!XXe(l,o))];return JXe(s,o,r)?QXe(n,o,a,i):e}function PPn(n,e,r){const i=r.slice(0,-1),{parentValue:o,fromIndex:s,fromValue:a}=MPn(e,n);let l;if(s===0)l={before:Oi([...i,0])};else{const c=s-1,f=bY(o[c])||c;l={after:Oi([...i,f])}}return[{unset:[Oi(r)]},{insert:{...l,items:[a]}}]}function jPn(n,e,r){const i=iN(n.toValue,n.fromValue,RPn,r),o=i.filter(f=>f.op==="insert").map(f=>{let{after:h,items:m}=f;return{insert:{after:Oi(h),items:m}}}),s=i.filter(f=>f.op==="unset").reduce((f,h)=>f.concat(Oi(h.path)),[]),a=new Set,l=[];let c=!1;const u=i.filter(f=>f.op==="set").reduce((f,h)=>(c=!0,l.push(...LPn(h.path,e,a)),f[Oi(h.path)]=h.value,f),{});return[...l,...o,...s.length>0?[{unset:s}]:[],...c?[{set:u}]:[]]}function LPn(n,e,r){const i=e.fromValue,o=e.toValue,s=[];for(let a=1;a<=n.length;a++){const l=n.slice(0,a),c=Oi(l);if(r.has(c))continue;const u=n[a],f=ji(u)||Qu(u),h=lf(i,l),m=Fxe(h);if(f&&Array.isArray(h)&&!lf(o,n.slice(0,a+1))){const g=nRn(h,u),v=h[g-1],y=lf(i,l.concat(u)),b=fh(v)?{_key:v._key}:g-1,x=Oi(l.concat(g<1?0:b));s.push({setIfMissing:{[c]:[]}}),s.push({insert:{after:x,items:[Fxe(y)]}}),a++;continue}typeof m>"u"||(r.add(c),s.push({setIfMissing:{[c]:m}}))}return s}function $Pn(n,e,r){if(!$n(n)||!Array.isArray(n))return!1;for(const i in n){if(!Object.prototype.hasOwnProperty.call(n,i)||i==="_type"||i==="_key")continue;const o=[...e,DPn(n,i)];if(!JXe(n[i],o,r))return!1}return!0}function JXe(n,e,r){const i=r==null?void 0:r.some(s=>Oi(s)===Oi(e)),o=Array.isArray(n)&&n.length<=0;return i||n===void 0||n===null||o||lRn(n)||$Pn(n,e,r)}function Fxe(n){if(Array.isArray(n))return[];if(typeof n!="object"||n===null)return;const e={};return fh(n)&&(e._key=n._key),vQ(n)&&(e._type=n._type),e}function MPn(n,e){if(n.fromValue&&typeof e.fromIndex=="number"){const r=n.fromValue[e.fromIndex];return{parentValue:n.fromValue,fromIndex:e.fromIndex,fromValue:r}}throw new Error("Failed to find item at index ".concat(e.fromIndex))}const Fg=p.createContext({path:[]});var Nxe=Object.freeze,FPn=Object.defineProperty,NPn=(n,e)=>Nxe(FPn(n,"raw",{value:Nxe(e||n.slice())})),Bxe;const BPn=F.div(Bxe||(Bxe=NPn([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),im=!1;class UPn extends p.Component{constructor(){super(...arguments),this.state={}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e){console.error("Error rendering diff component: "),console.error(e)}render(){const{t:e}=this.props,{error:r}=this.state;return r?d.jsx(ke,{padding:3,radius:2,tone:"critical",children:d.jsxs(oe,{children:[d.jsx(J,{size:1,children:d.jsx(Dc,{})}),d.jsxs(te,{paddingLeft:3,children:[d.jsx(J,{as:"h3",size:1,weight:"medium",children:e("changes.error-boundary.title")}),im]})]})}):this.props.children}}const zPn={down:FNe,right:NNe};function Sie(n){const{direction:e="right",...r}=n,i=zPn[e];return d.jsx(J,{muted:!0,size:1,...r,children:p.createElement(i)})}var Uxe=Object.freeze,VPn=Object.defineProperty,eQe=(n,e)=>Uxe(VPn(n,"raw",{value:Uxe(e||n.slice())})),zxe,Vxe;const $V=F.pre(zxe||(zxe=eQe([`
  overflow-x: auto;
  position: relative;
`]))),HPn=F.div(Vxe||(Vxe=eQe([`
  position: absolute;
  top: 0;
  right: 0;
`])));function WPn(n){const{children:e,as:r,change:i,...o}=n,s=p.useRef(!1),[a,l]=p.useState(!1),c=p.useCallback(()=>l(h=>!h),[l]),u=p.useCallback(()=>s.current=!0,[]),f=p.useCallback(()=>s.current=!1,[s]);return p.useEffect(()=>{function h(m){const{metaKey:g,key:v}=m;g&&v==="i"&&s.current&&c()}return window.addEventListener("keydown",h,!1),()=>window.removeEventListener("keydown",h,!1)},[c]),d.jsx(te,{as:r,onMouseEnter:u,onMouseLeave:f,...o,children:a?d.jsx(GPn,{change:i}):e})}const MV=n=>{let{title:e}=n;return d.jsx(te,{padding:3,display:"inline-block",as:HPn,children:d.jsx(J,{muted:!0,size:1,weight:"medium",children:e})})};function GPn(n){let{change:e}=n;var r,i,o;const{t:s}=me();return d.jsxs(Se,{space:3,children:[d.jsxs(ke,{padding:3,tone:"transparent",as:$V,radius:1,children:[d.jsx(MV,{title:s("changes.inspector.meta-label")}),d.jsx(ia,{language:"json",size:1,children:qPn({path:Oi(e.path),fromIndex:(r=e.itemDiff)==null?void 0:r.fromIndex,toIndex:(i=e.itemDiff)==null?void 0:i.toIndex,hasMoved:(o=e.itemDiff)==null?void 0:o.hasMoved,action:e.diff.action,isChanged:e.diff.isChanged})})]}),d.jsxs(ke,{as:$V,tone:"critical",padding:3,radius:1,children:[d.jsx(MV,{title:s("changes.inspector.from-label")}),d.jsx(ia,{language:"json",size:1,children:Hxe(e.diff.fromValue)})]}),d.jsx(ke,{children:d.jsx(Sie,{direction:"down",align:"center"})}),d.jsxs(ke,{as:$V,tone:"positive",padding:3,radius:1,children:[d.jsx(MV,{title:s("changes.inspector.to-label")}),d.jsx(ia,{language:"json",size:1,children:Hxe(e.diff.toValue)})]})]})}function Hxe(n){return typeof n>"u"?"undefined":JSON.stringify(n,null,2)}function qPn(n){const e=[];return Object.entries(n).forEach(r=>{let[i,o]=r;typeof o<"u"&&o!==null&&e.push("".concat(i,": ").concat(o))}),e.join(`
`)}function KPn(n){const{t:e}=me(),r=Wxe(n.fromValue),i=Wxe(n.toValue);return e(!r&&i?"changes.added-label":!i&&r?"changes.removed-label":"changes.changed-label")}function Wxe(n){return n!==null&&typeof n<"u"&&n!==""}const YPn={flexShrink:0},ZPn={alignItems:"stretch"},Gxe={top:"flex-start",center:"center",bottom:"flex-end",default:"flex-start"},kie=p.forwardRef(function(e,r){const{align:i="top",layout:o="inline",from:s,to:a,style:l,...c}=e,u=lD(),f=o==="inline"?oe:eo,h=p.useMemo(()=>({...l,...o==="inline"?{maxWidth:"100%",display:"inline-flex"}:{gridTemplateColumns:"minmax(0, 1fr) ".concat(Je(u.sanity.space[5])," minmax(0, 1fr)")}}),[o,l,u]),m=o==="inline"?YPn:ZPn;return d.jsxs(f,{...c,ref:r,style:h,"data-from-to-layout":!0,children:[s&&d.jsxs(d.Fragment,{children:[d.jsx(oe,{align:Gxe[i],style:m,children:s}),d.jsx(oe,{align:"center",justify:"center",padding:2,children:d.jsx(Sie,{})})]}),d.jsx(oe,{align:Gxe[i],style:m,children:a})]})}),FV={flex:1,minWidth:0,display:"block",whiteSpace:"break-spaces"};function BD(n){const{align:e,cardClassName:r,diff:i,layout:o,path:s,previewComponent:a,schemaType:l}=n,{action:c}=i,u=KPn(i);if(c==="unchanged")return d.jsx(Ql,{className:r,style:FV,children:p.createElement(a,{schemaType:l,value:i.toValue})});const f=i.fromValue!==void 0&&i.fromValue!==null&&d.jsx(Ql,{as:"del",className:r,diff:i,path:s,style:FV,children:p.createElement(a,{schemaType:l,value:i.fromValue})}),h=i.toValue!==void 0&&i.toValue!==null&&d.jsx(Ql,{as:"ins",className:r,diff:i,path:s,style:FV,children:p.createElement(a,{schemaType:l,value:i.toValue})});return f&&!h?d.jsx(wc,{description:u,diff:i,path:s,children:f}):!f&&h?d.jsx(wc,{description:u,diff:i,path:s,children:h}):d.jsx(wc,{description:u,diff:i,path:s,children:d.jsx(kie,{align:e,from:f,layout:o,to:h})})}const XPn=n=>{let{value:e,schemaType:r}=n;return d.jsx(te,{padding:2,children:d.jsx(XD,{schemaType:r,value:e,layout:"default"})})},QPn=n=>{const{diff:e,schemaType:r}=n;return d.jsx(BD,{diff:e,schemaType:r,previewComponent:XPn,layout:"grid"})};var qxe=Object.freeze,JPn=Object.defineProperty,tQe=(n,e)=>qxe(JPn(n,"raw",{value:qxe(e||n.slice())})),Kxe,Yxe;const ejn=F.div(Kxe||(Kxe=tQe([`
  --field-change-error: `,`;
  &[data-revert-all-changes-hover] [data-revert-all-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),n=>{let{theme:e}=n;return e.sanity.color.solid.critical.enabled.bg}),tjn=F.div(Yxe||(Yxe=tQe([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) 0 var(--diff-inspect-padding-xsmall)
    var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-field-hover]:hover::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),n=>{let{theme:e}=n;return e.sanity.color.solid.critical.enabled.bg},n=>{let{theme:e}=n;return Je(e.sanity.space[1])},n=>{let{theme:e}=n;return Je(e.sanity.space[2])});var Zxe=Object.freeze,njn=Object.defineProperty,rjn=(n,e)=>Zxe(njn(n,"raw",{value:Zxe(e||n.slice())})),Xxe;const ijn=F(ze)(Xxe||(Xxe=rjn([`
  [data-ui='Text'] {
    font-weight: normal;
  }

  div[data-ui='Box'] {
    display: none;
  }

  &:not([data-disabled='true']):hover,
  &:not([data-disabled='true']):focus {
    --card-fg-color: `,`;
    --card-bg-color: transparent;
    --card-border-color: transparent;

    div[data-ui='Box'] {
      display: block;
    }
  }
`])),n=>{let{theme:e}=n;return e.sanity.color.solid.critical.enabled.bg}),nQe=p.forwardRef(function(e,r){const{selected:i,changeCount:o,...s}=e,{t:a}=me();return d.jsx(ijn,{icon:R8,selected:i,text:a("changes.action.revert-changes-confirm-change",{count:o}),mode:"bleed",ref:r,tooltipProps:null,...s})});function ojn(n){let{error:e}=n;const{t:r}=me();return d.jsx(ke,{tone:"critical",padding:3,children:d.jsxs(oe,{align:"flex-start",children:[d.jsx(te,{children:d.jsx(J,{children:d.jsx(Dc,{})})}),d.jsx(te,{flex:1,paddingLeft:3,children:d.jsx(J,{size:1,as:"p",children:r(e.messageKey,{expectedType:e.expectedType,actualType:e.actualType})})})]})})}function sjn(n){var e;const{change:r,hidden:i,readOnly:o}=n,s=r.diffComponent||QPn,{documentId:a,schemaType:l,rootDiff:c,isComparingCurrent:u,FieldWrapper:f=p.Fragment}=IN(),h=If(a,l.name),[m,g]=p.useState(!1),[v,y]=p.useState(!1),[b,x]=p.useState(null),{t:_}=me(),[w,C]=qy({id:a,type:l.name,permission:"update"}),S=p.useCallback(()=>{RN(r,c,h)},[r,c,h]),T=p.useCallback(()=>{g(!0)},[]),A=p.useCallback(()=>{g(!1)},[]),I=p.useCallback(()=>{y(!0)},[]),D=p.useCallback(()=>{y(!1)},[]),R=p.useCallback(()=>g(!1),[]);ki(R,[b]);const O=((e=r.parentSchema)==null?void 0:e.jsonType)==="array"?r.path.slice(0,-1):r.path;return p.useMemo(()=>i?null:d.jsxs(Se,{space:1,as:ejn,children:[r.showHeader&&d.jsx(jXe,{change:r,titlePath:r.titlePath}),d.jsx(f,{path:O,hasHover:v,children:d.jsxs(WPn,{change:r,as:tjn,"data-revert-field-hover":v?"":void 0,"data-error":r.error?"":void 0,"data-revert-all-hover":!0,children:[r.error?d.jsx(ojn,{error:r.error}):d.jsx(UPn,{t:_,children:d.jsx(Fg.Provider,{value:{path:r.path},children:d.jsx(s,{diff:r.diff,schemaType:r.schemaType})})}),u&&!C&&(w==null?void 0:w.granted)&&d.jsx(Ai,{content:d.jsxs(Se,{space:3,children:[d.jsx(te,{paddingY:3,children:d.jsx(J,{size:1,children:_("changes.action.revert-changes-description",{count:1})})}),d.jsxs(oe,{gap:3,justify:"flex-end",children:[d.jsx(ze,{mode:"ghost",onClick:A,text:_("changes.action.revert-all-cancel")}),d.jsx(ze,{tone:"critical",onClick:S,text:_("changes.action.revert-changes-confirm-change",{count:1})})]})]}),open:m,padding:3,portal:!0,placement:"left",ref:x,children:d.jsx(nQe,{changeCount:1,onClick:T,onMouseEnter:I,onMouseLeave:D,selected:m,disabled:o,"data-testid":"single-change-revert-button-".concat(r==null?void 0:r.key)})})]})})]}),[r,A,m,s,O,f,I,D,S,T,i,u,C,w==null?void 0:w.granted,o,v,_])}function ajn(){const n=p.useRef(null),[e,r]=p.useState(!1);return p.useEffect(()=>{const i=n.current;if(!i)return()=>{};const o=()=>r(!0),s=()=>r(!1);return i.addEventListener("mouseover",o),i.addEventListener("mouseout",s),()=>{i.removeEventListener("mouseover",o),i.removeEventListener("mouseout",s)}},[]),[n,e]}var Qxe=Object.freeze,ljn=Object.defineProperty,rQe=(n,e)=>Qxe(ljn(n,"raw",{value:Qxe(e||n.slice())})),Jxe,ewe;const cjn=F.div(Jxe||(Jxe=rQe([`
  display: grid;
  grid-template-columns: minmax(0, 1fr);
`]))),ujn=F.div(ewe||(ewe=rQe([`
  --field-change-error: `,`;
  --diff-inspect-padding-xsmall: `,`;
  --diff-inspect-padding-small: `,`;

  position: relative;
  padding: var(--diff-inspect-padding-xsmall) var(--diff-inspect-padding-small);

  &::before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: 1px solid var(--card-border-color);
  }

  &[data-error]:hover::before,
  &[data-revert-group-hover]:hover::before,
  &[data-revert-all-groups-hover]::before {
    border-left: 2px solid var(--field-change-error);
  }
`])),n=>{let{theme:e}=n;return e.sanity.color.solid.critical.enabled.bg},n=>{let{theme:e}=n;return Je(e.sanity.space[1])},n=>{let{theme:e}=n;return Je(e.sanity.space[2])});function djn(n){const{change:e,readOnly:r,hidden:i,...o}=n,{titlePath:s,changes:a,path:l}=e,{path:c}=p.useContext(Fg),{documentId:u,schemaType:f,FieldWrapper:h,rootDiff:m,isComparingCurrent:g}=IN(),{t:v}=me(),y=a.every(L=>zXe(L)&&MXe(L.schemaType)),b=TXe(c,l),[x,_]=ajn(),w=If(u,f.name),[C,S]=p.useState(!1),[T,A]=p.useState(null),[I,D]=qy({id:u,type:f.name,permission:"update"}),R=p.useCallback(()=>RN(e,m,w),[e,m,w]),P=p.useCallback(()=>{S(!0)},[]),O=p.useCallback(()=>{S(!1)},[]);ki(()=>S(!1),[T]);const $=p.useMemo(()=>i?null:d.jsxs(Se,{space:1,as:ujn,"data-revert-group-hover":_?"":void 0,"data-portable-text":y?"":void 0,children:[d.jsx(Se,{as:cjn,space:5,children:a.map(L=>d.jsx(iQe,{change:L,readOnly:r,hidden:i},L.key))}),g&&!D&&(I==null?void 0:I.granted)&&d.jsx(Ai,{content:d.jsxs(Se,{space:3,children:[d.jsx(te,{paddingY:3,children:d.jsx(J,{size:1,children:v("changes.action.revert-changes-description",{count:a.length})})}),d.jsxs(oe,{gap:3,justify:"flex-end",children:[d.jsx(ze,{mode:"ghost",onClick:O,text:v("changes.action.revert-all-cancel")}),d.jsx(ze,{tone:"critical",onClick:R,text:v("changes.action.revert-changes-confirm-change",{count:1})})]})]}),padding:3,portal:!0,placement:"left",open:C,ref:A,children:d.jsx(te,{children:d.jsx(nQe,{changeCount:a.length,onClick:P,ref:x,selected:C,disabled:r,"data-testid":"group-change-revert-button-".concat(e.fieldsetName)})})})]}),[a,O,C,e.fieldsetName,R,P,i,g,D,y,_,I==null?void 0:I.granted,r,x,v]);return i?null:d.jsxs(Se,{space:1,...o,children:[d.jsx(jXe,{titlePath:s}),b||!h?$:d.jsx(h,{hasHover:_,path:e.path,children:$})]})}function iQe(n){var e,r;const{change:i,hidden:o,readOnly:s}=n,{value:a}=IN(),l=wY({document:a,checkProperty:o||((e=i.schemaType)==null?void 0:e.hidden),checkPropertyKey:"hidden",value:i.type==="field"?i.diff.toValue:void 0}),c=wY({document:a,checkProperty:s||((r=i.schemaType)==null?void 0:r.readOnly),checkPropertyKey:"readOnly",value:i.type==="field"?i.diff.toValue:void 0});return l?null:i.type==="field"?d.jsx(sjn,{change:i,readOnly:c}):i.type==="group"?d.jsx(djn,{change:i,"data-testid":"group-change-".concat(i.fieldsetName),readOnly:c}):d.jsxs(J,{children:["Unknown change type: ",d.jsx("code",{children:i.type||"undefined"})]})}function TY(){const{t:n}=me();return d.jsxs(Se,{space:3,children:[d.jsx(J,{size:1,weight:"medium",as:"h3",children:n("changes.no-changes-title")}),d.jsx(J,{as:"p",size:1,muted:!0,children:n("changes.no-changes-description")})]})}function UD(n){let{diff:e,fields:r,schemaType:i}=n;const{documentId:o,isComparingCurrent:s,value:a}=IN(),l=If(o,i.name),{path:c}=p.useContext(Fg),u=c.length===0,[f,h]=p.useState(!1),[m,g]=p.useState(!1),{t:v}=me(),y=wY({document:a,value:void 0,checkProperty:i.readOnly,checkPropertyKey:"readOnly"});if(i.jsonType!=="object")throw new Error("Only object schema types are allowed in ChangeList");const[b,x]=qy({id:o,type:i.name,permission:"update"}),_=p.useMemo(()=>KXe(i,e,c,[],{fieldFilter:r}),[i,r,c,e]),w=p.useMemo(()=>r&&r.length===0?[]:fjn(_),[_,r]),C=_[0],S=p.useCallback(()=>{RN(C,e,l),h(!1)},[C,e,l]),T=p.useCallback(()=>{h(!0)},[]),A=p.useCallback(()=>{g(!0)},[]),I=p.useCallback(()=>{g(!1)},[]),D=p.useCallback(()=>{h(!1)},[]),[R,P]=p.useState(null),O=p.useCallback(()=>h(!1),[]);if(ki(O,[R]),w.length===0)return u?d.jsx(TY,{}):null;const $=u&&w.length>1;return d.jsx(ke,{children:d.jsxs(Se,{space:5,children:[d.jsx(Se,{as:BPn,space:5,children:w.map(L=>d.jsx("div",{children:d.jsx(iQe,{change:L,"data-revert-all-changes-hover":m?"":void 0,readOnly:y||(L==null?void 0:L.readOnly),hidden:L==null?void 0:L.hidden},L.key)},L.key))}),$&&s&&!x&&(b==null?void 0:b.granted)&&d.jsx(Ai,{content:d.jsxs(Se,{space:3,children:[d.jsx(te,{paddingY:3,children:d.jsx(J,{size:1,children:v("changes.action.revert-all-description",{count:w.length})})}),d.jsxs(oe,{gap:3,justify:"flex-end",children:[d.jsx(ze,{mode:"ghost",text:v("changes.action.revert-all-cancel"),onClick:D}),d.jsx(ze,{tone:"critical",text:v("changes.action.revert-all-confirm"),onClick:S})]})]}),open:f,padding:3,placement:"left",portal:!0,ref:P,children:d.jsx(Se,{children:d.jsx(ze,{tone:"critical",mode:"ghost",text:v("changes.action.revert-all-confirm"),icon:R8,onClick:T,onMouseEnter:A,onMouseLeave:I,disabled:y,size:"large"})})})]})})}function fjn(n){return n.length===1&&n[0].type==="group"&&n[0].path.length===0?n[0].changes:n}var twe=Object.freeze,hjn=Object.defineProperty,oQe=(n,e)=>twe(hjn(n,"raw",{value:twe(e||n.slice())})),nwe,rwe;const iwe=F.span(nwe||(nwe=oQe([`
  border-radius: `,`;
`])),n=>{let{theme:e}=n;return Je(e.sanity.radius[1])}),owe=F(J)(rwe||(rwe=oQe([`
  &:not([hidden]) {
    display: inline;
    line-height: calc(1.25em + 2px);
  }

  &:hover {
    background-color: none !important;
    background-image: linear-gradient(
      to bottom,
      var(--card-bg-color) 0,
      var(--card-bg-color) 33.333%,
      currentColor 33.333%,
      currentColor 100%
    );
    background-size: 1px 3px;
    background-repeat: repeat-x;
    background-position-y: bottom;
    padding-bottom: 3px;
    box-shadow: 0 0 0 1px var(--card-bg-color);
    z-index: 1;
  }
`])));function pjn(n){const{segment:e}=n,{text:r}=e,{t:i}=me();return e.action==="added"?d.jsx(Ql,{annotation:e.annotation,disableHoverEffect:!0,tooltip:{description:i("changes.added-label")},as:iwe,children:d.jsx(owe,{as:"ins",style:{textDecoration:"none"},children:r})}):e.action==="removed"?d.jsx(Ql,{annotation:e.annotation,as:iwe,disableHoverEffect:!0,tooltip:{description:i("changes.removed-label")},children:d.jsx(owe,{as:"del",children:r})}):d.jsx(ke,{as:"span",radius:2,style:{display:"inline"},children:r})}function mjn(n){const{diff:e}=n;return d.jsx(d.Fragment,{children:(e.segments||[]).map((r,i)=>d.jsx(pjn,{segment:r},i))})}var swe=Object.freeze,gjn=Object.defineProperty,vjn=(n,e)=>swe(gjn(n,"raw",{value:swe(e||n.slice())})),awe;const NV=F(J)(awe||(awe=vjn([`
  color: inherit;
`])));function AY(n){const{title:e,action:r,icon:i,children:o,markRemoved:s}=n;return d.jsxs(oe,{padding:2,align:"center",children:[i&&d.jsx(te,{padding:2,children:d.jsx(NV,{size:4,forwardedAs:s?"del":"div",children:p.createElement(i)})}),d.jsxs(Se,{space:2,paddingLeft:2,children:[d.jsx(NV,{size:1,weight:"medium",forwardedAs:s?"del":"h3",textOverflow:"ellipsis",children:e}),r&&d.jsx("div",{children:r}),d.jsx(NV,{size:0,textOverflow:"ellipsis",children:o})]})]})}var lwe=Object.freeze,yjn=Object.defineProperty,bjn=(n,e)=>lwe(yjn(n,"raw",{value:lwe(e||n.slice())})),cwe;F.div(cwe||(cwe=bjn([`
  display: inline-block;
  word-break: break-all;
  white-space: pre-wrap;
`])));function Tie(n,e){return IY(n,e,new WeakSet)}function IY(n,e,r){if(n===e)return n;if(r.has(e)||n==null||e==null||typeof n!==typeof e)return e;if(Array.isArray(e)){r.add(e);let s=n.length===e.length;const a=[];for(let l=0;l<e.length;l++){const c=IY(n[l],e[l],r);c!==n[l]&&(s=!1),a[l]=c}return r.delete(e),s?n:a}if(typeof e=="object"){r.add(e);const s=Object.keys(e);let a=Object.keys(n).length===s.length;const l={};for(const c of s){const u=IY(n[c],e[c],r);u!==n[c]&&(a=!1),l[c]=u}return r.delete(e),a?n:l}return e}const sQe=p.createContext([]);function xjn(n){return d.jsx(sQe.Provider,{value:n.presence,children:n.children})}function wjn(){const n=p.useContext(sQe);if(!n)throw new Error("Form context not provided");return n}function QS(n,e){const r=wjn(),i=p.useRef(r),o=Tie(i.current,r.filter(s=>Hl(n,s.path)&&(e||!Ui(n,s.path))));return i.current=o,o}const aQe=p.createContext(null);function om(){const n=p.useContext(aQe);if(!n)throw new Error("FormBuilder: missing context value");return n}var uwe=Object.freeze,_jn=Object.defineProperty,Ejn=(n,e)=>uwe(_jn(n,"raw",{value:uwe(e||n.slice())})),dwe;const Cjn=n=>n==="error"?d.jsx(Dc,{}):n==="warning"?d.jsx(as,{}):d.jsx(Wx,{}),Sjn=F(J)(n=>{let{theme:e}=n;return Ae(dwe||(dwe=Ejn([`
    &[data-info] {
      color: `,`;
    }

    &[data-warning] {
      color: `,`;
    }

    &[data-error] {
      color: `,`;
    }
  `])),e.sanity.color.muted.primary.enabled.fg,e.sanity.color.muted.caution.enabled.fg,e.sanity.color.muted.critical.enabled.fg)});function lQe(n){const{markers:e,validation:r,renderCustomMarkers:i}=n,{CustomMarkers:o}=om().__internal.components;return e.length===0&&r.length===0?null:d.jsxs(Se,{space:1,children:[r.length>0&&r.map((s,a)=>{let{message:l,level:c}=s;return d.jsxs(oe,{children:[d.jsx(te,{marginRight:2,marginBottom:a+1===r.length?0:2,children:d.jsx(Sjn,{size:1,"data-error":c==="error"?"":void 0,"data-warning":c==="warning"?"":void 0,"data-info":c==="info"?"":void 0,children:Cjn(c)})}),d.jsx(te,{children:d.jsx(J,{size:1,children:l||"Error"})})]},"validationItem-".concat(a))}),e.length>0&&d.jsxs(te,{marginTop:r.length>0?3:0,children:[i&&i(e),!i&&d.jsx(o,{markers:e})]})]})}const cQe=p.createContext([]);function kjn(n){return d.jsx(cQe.Provider,{value:n.validation,children:n.children})}function Tjn(){const n=p.useContext(cQe);if(!n)throw new Error("Form context not provided");return n}function Aie(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=Tjn();return p.useMemo(()=>r.filter(i=>Hl(n,i.path)&&(e||!Ui(n,i.path))).map(i=>({message:i.message,level:i.level,path:i.path})),[e,n,r])}const Ajn=["@@_NONEXISTENT_PATH_@@"];function ON(n){const e=p.useRef(null),r=n!=null&&n.validation&&n.validation.length>0?n.validation:ri,i=Aie((n==null?void 0:n.path)||Ajn),o=p.useMemo(()=>n!=null&&n.schemaType&&kN(n==null?void 0:n.schemaType)?r:r.concat(i),[i,n,r]),[s,a,l]=p.useMemo(()=>[o.filter(u=>u.level==="error").length>0,o.filter(u=>u.level==="warning").length>0,o.filter(u=>u.level==="info").length>0],[o]),c=Tie(e.current,o);return e.current=c,p.useMemo(()=>({validation:c,hasError:s,hasWarning:a,hasInfo:l}),[c,s,a,l])}const uQe=p.createContext([]);function Ijn(n){return d.jsx(uQe.Provider,{value:n.markers,children:n.children})}function PN(n){const e=p.useContext(uQe);if(!e)throw new Error("Form context not provided");return p.useMemo(()=>e.filter(i=>Ui(i.path,n)),[e,n])}const Djn={placement:"right",fallbackPlacements:["top","bottom"]};function Rjn(n){const{group:e}=n,{title:r}=sv(e);return e.expanded?d.jsxs(d.Fragment,{children:[d.jsx(te,{padding:2,paddingTop:3,children:d.jsx(J,{muted:!0,size:1,weight:"medium",children:r})}),e.children.map((i,o)=>{var s;return d.jsx(DY,{action:i,isFirst:o===0,prevIsGroup:((s=e.children[o-1])==null?void 0:s.type)==="group"},o)})]}):d.jsx(Ete,{icon:e.icon,popover:Djn,text:r,tone:e.tone,children:e.children.map((i,o)=>{var s;return d.jsx(DY,{action:i,isFirst:o===0,prevIsGroup:((s=e.children[o-1])==null?void 0:s.type)==="group"},o)})})}function Ojn(n){const{action:e}=n,{title:r}=sv(e),i=p.useCallback(()=>{e.onAction()},[e]),o=typeof e.disabled=="object"&&d.jsx(J,{size:1,children:e.disabled.reason});return d.jsx(Zoe,{content:o,placement:"left",children:d.jsx(Wt,{disabled:!!e.disabled,icon:e.icon,iconRight:e.iconRight||(e.selected?ec:void 0),onClick:i,pressed:e.selected,text:r,tone:e.tone})})}function DY(n){const{action:e,isFirst:r,prevIsGroup:i}=n;return e.type==="divider"?d.jsx(Io,{}):e.type==="group"?d.jsxs(d.Fragment,{children:[!r&&d.jsx(Io,{}),d.jsx(Rjn,{group:e})]}):d.jsxs(d.Fragment,{children:[i&&d.jsx(Io,{}),d.jsx(Ojn,{action:e})]})}const dQe={placement:"top"};function fwe(n){return"renderAsButton"in n&&n.renderAsButton}const Pjn=p.memo(function(e){const{nodes:r,onMenuOpenChange:i}=e,[o,s]=p.useState(!1),a=p.useCallback(()=>{i(!0),s(!0)},[i]),l=p.useCallback(()=>{i(!1),s(!1)},[i]),c=p.useMemo(()=>r.filter(fwe),[r]),u=p.useMemo(()=>r.filter(m=>!fwe(m)),[r]),f=p.useMemo(()=>{const m=u.length;if(m===0||m>1)return u;const g=u[0];return g.type==="group"?[{...g,expanded:!0}]:u},[u]),h=p.useMemo(()=>[...f.length?[{type:"group",children:f,icon:I8,title:"Field actions"}]:[],...c],[c,f]);return d.jsx(d.Fragment,{children:h.map((m,g)=>d.jsx(jjn,{node:m,onOpen:a,onClose:l,open:o},g))})}),jjn=p.memo(function(e){const{node:r,onOpen:i,onClose:o,open:s}=e;return r.type==="divider"?d.jsx(ke,{borderLeft:!0,flex:"none"}):r.type==="action"?d.jsx(ze,{icon:r.icon,mode:"bleed",onClick:r.onAction,tooltipProps:{...dQe,content:r.title}}):d.jsx($jn,{node:r,onOpen:i,onClose:o,open:s})}),Ljn={constrainSize:!0,placement:"right",portal:!0,fallbackPlacements:["top","bottom"]};function $jn(n){const{node:e,onOpen:r,onClose:i,open:o}=n,{title:s}=sv(e);return d.jsx(Vr,{button:d.jsx(ze,{icon:e.icon,label:o?void 0:s,mode:"bleed",tooltipProps:{...dQe,content:e.title}}),id:p.useId(),menu:d.jsx(_r,{children:e.children.map((a,l)=>{var c;return d.jsx(DY,{action:a,isFirst:l===0,prevIsGroup:((c=e.children[l-1])==null?void 0:c.type)==="group"},l)})}),onOpen:r,onClose:i,popover:Ljn})}const fQe=p.createContext({hoveredStack:[],onMouseEnter:()=>{},onMouseLeave:()=>{}});function hwe(){return p.useContext(fQe)}const hQe=p.createContext({actions:[],focused:!1,hovered:!1,onMouseEnter:()=>{},onMouseLeave:()=>{}});function zD(n){const{actions:e,children:r,path:i,focused:o}=n,{onMouseEnter:s,onMouseLeave:a}=hwe(),l=hwe().hoveredStack[0],c=$D||(l?Oi(i)===l:!1),u=p.useCallback(()=>{s(i)},[s,i]),f=p.useCallback(()=>{a(i)},[a,i]),h=p.useMemo(()=>({actions:e,focused:o,hovered:c,onMouseEnter:u,onMouseLeave:f}),[e,o,u,f,c]);return d.jsx(hQe.Provider,{value:h,children:r})}function pQe(n){return n.filter(Boolean).filter(e=>"hidden"in e?e.hidden!==!0:!0).map(e=>e.type==="group"?{...e,children:pQe(e.children)}:e)}const VD=p.memo(function(e){const{actions:r,documentId:i,documentType:o,onActions:s,path:a,schemaType:l}=e,c=r.length,u=p.useRef(c),[f,h]=p.useState(()=>Array.from(new Array(c))),m=p.useRef(f),g=p.useCallback((v,y)=>{h(b=>{const x=[...b];return x[v]=y,x})},[]);return p.useEffect(()=>{m.current!==f&&(m.current=f,s(pQe(f)))},[f,s]),p.useEffect(()=>{if(u.current!==c){const v=Array.from(new Array(c));for(let y=0;y<c;y++)v[y]=m.current[y];u.current=c,h(v),m.current=v}},[c]),d.jsx(d.Fragment,{children:r.map((v,y)=>d.jsx(Mjn,{action:v,index:y,documentId:i,documentType:o,path:a,schemaType:l,setFieldAction:g},y))})}),Mjn=p.memo(function(e){const{action:r,documentId:i,documentType:o,index:s,path:a,schemaType:l,setFieldAction:c}=e,u=Ga(r.useAction({documentId:i,documentType:o,path:a,schemaType:l}));return p.useEffect(()=>{c(s,u)},[s,u,c]),null});function Iie(){return p.useContext(hQe)}const Fjn=p.createContext([]);var pwe=Object.freeze,Njn=Object.defineProperty,Bjn=(n,e)=>pwe(Njn(n,"raw",{value:pwe(e||n.slice())})),mwe;const Ujn={portal:!0},zjn=F.div(n=>{const{space:e}=mt(n.theme);return Ae(mwe||(mwe=Bjn([`
    margin: `,`px;
  `])),0-e[1])}),gwe=n=>{if(n.length===1)return"".concat(n[0].user.displayName," is editing this document");if(n.length>1)return"".concat(n.length," people are editing this document right now")};function jN(n){const{presence:e}=n,r=p.useMemo(()=>Array.from(new Set(e.map(o=>o.user.id))).map(o=>e.find(s=>s.user.id===o)).filter(Ws),[e]),i=p.useMemo(()=>gwe(r),[r]);return d.jsx(zn,{content:i,...Ujn,children:d.jsx(zjn,{children:d.jsx(p6,{maxLength:2,"aria-label":gwe(r),size:0,children:r.map(o=>d.jsx(gf,{size:0,user:o.user},o.user.id))})})})}const Vjn=/[^\p{Alpha}\p{White_Space}]/gu,Hjn=new RegExp("\\p{White_Space}+","u"),Wjn={small:0,medium:1,large:2};function Gjn(n){const e=n.replace(Vjn,"").split(Hjn);return e.length===1?"".concat(e[0].charAt(0)).toUpperCase():"".concat(e[0].charAt(0)).concat(e[e.length-1].charAt(0))}function gf(n){const{user:e,...r}=n;return $n(e)?r.withTooltip?d.jsx(qjn,{...r,user:e}):d.jsx(mQe,{...r,user:e}):d.jsx(Kjn,{...n,user:e})}function qjn(n){const{user:{displayName:e}}=n;return d.jsx(zn,{content:e,placement:"top",portal:!0,children:d.jsx("div",{style:{display:"inline-block"},children:d.jsx(mQe,{...n})})})}const mQe=p.forwardRef(function(e,r){const{user:i,animateArrowFrom:o,position:s,size:a,status:l,tone:c,...u}=e,[f,h]=p.useState(null),m=mRn(i.id),g=f||i==null?void 0:i.imageUrl;return d.jsx(rVe,{__unstable_hideInnerStroke:!0,animateArrowFrom:o,arrowPosition:s,color:m.name,"data-legacy-tone":c,initials:(i==null?void 0:i.displayName)&&Gjn(i.displayName),src:g,onImageLoadError:h,ref:r,size:typeof a=="string"?Wjn[a]:a,status:l,title:i==null?void 0:i.displayName,...u})});function Kjn(n){let{user:e,...r}=n;const[i]=lm(e);return i?d.jsx(gf,{...r,user:i}):null}const Yjn=3,gQe=3,UF=-4,rS=25,vwe=4,Zjn=[0,.25,.75,1],LP=23,Xjn=8,Qjn=8,vQe=20,yQe=20,BV=!1;var ywe=Object.freeze,Jjn=Object.defineProperty,bQe=(n,e)=>ywe(Jjn(n,"raw",{value:ywe(e||n.slice())})),bwe,xwe;const xQe=F(oe)(bwe||(bwe=bQe([`
  & > div:first-child {
    flex: 1;
    min-width: 0;
  }
`]))),eLn=F(oe)(xwe||(xwe=bQe([`
  height: `,`px;
  min-width: 23px;
  vertical-align: top;
`])),rS),{Tracker:tLn,useReporter:nLn,useReportedValues:rLn}=aXe();function iLn(n){const{children:e,items:r}=n,i=p.useMemo(()=>d.jsx(Se,{sizing:"border",children:r.map(o=>d.jsxs(oe,{align:"center",gap:2,children:[d.jsx("div",{children:d.jsx(gf,{user:o.user,status:"online"})}),d.jsx(J,{size:1,children:o.user.displayName})]},o.user.id))}),[r]);return d.jsx(zn,{content:i,placement:"top",portal:"documentScrollElement",children:e})}const oLn=(n,e)=>{const r=n.length>e?e-1:e,i=Math.max(0,n.length-r);return[n.slice(0,i),n.slice(i)]};function sLn(n){return-UF+(rS+UF)*n}const wQe=p.memo(function(e){let{presence:r,position:i="inside",animateArrowFrom:o="inside",maxAvatars:s=gQe,stack:a=!0}=e;const l=vy(r||[],m=>m.user.id),c=lw(l,m=>m.lastActiveAt),[u,f]=a?oLn(c,s):[[],c],h=[...f.reverse().map(m=>({key:m.user.id,element:d.jsx(gf,{animateArrowFrom:o,position:i,status:"online",user:m.user})})),u.length>=2?{key:"counter",element:d.jsx(bq,{count:u.length})}:null].filter(Boolean);return d.jsxs(xQe,{children:[d.jsx("div",{}),d.jsx(eLn,{direction:"row-reverse",children:h.map((m,g)=>m&&d.jsx("div",{style:{position:"absolute",transform:"translate3d(".concat(-g*(rS+UF),"px, 0px, 0px)"),transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)",zIndex:100-g},children:m.element},m.key))})]})});function aLn(n){const e=p.useContext(Fjn),{presence:r=e,maxAvatars:i=gQe}=n,o=p.useRef(null);nLn(p.useId(),()=>({presence:r,element:o.current,maxAvatars:i}));const s=p.useMemo(()=>vy(r||[],a=>a.user.id),[r]);return d.jsx(iLn,{items:s,children:d.jsx(xQe,{ref:o,style:{minHeight:rS,minWidth:rS}})})}const HD=aLn,lLn=n=>{const e=new ho,r=new IntersectionObserver(i=>{i.forEach(o=>{e.next(o)})},n);return{observe:i=>new Un(o=>{const s=e.pipe(Bn(a=>a.target===i)).subscribe(o);return r.observe(i),()=>{s.unsubscribe(),r.unobserve(i)}})}},Die=n=>{const{onIntersection:e,io:r,id:i,...o}=n,s=p.useRef(null);return p.useEffect(()=>{const a=s.current;if(!a)return;const l=r.observe(a).pipe(Si(c=>e(i,c))).subscribe();return()=>l.unsubscribe()},[r,i,e]),d.jsx("div",{ref:s,...o})};var wwe=Object.freeze,cLn=Object.defineProperty,Fx=(n,e)=>wwe(cLn(n,"raw",{value:wwe(e||n.slice())})),_we,Ewe,Cwe,Swe,kwe,Twe,Awe;const uLn=F.div(_we||(_we=Fx([`
  position: relative;
`]))),dLn=F.div(Ewe||(Ewe=Fx([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 13;
`]))),Rie=Ae(Cwe||(Cwe=Fx([`
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: absolute;
`]))),fLn=F(Die)(n=>{let{$debug:e,margins:r}=n;return Ae(Swe||(Swe=Fx([`
    `,`

    z-index: 100;
    position: sticky;
    height: 1px;
    top: `,`;
    background-color: `,`;
  `])),Rie,r?"".concat(r[0]-1,"px"):void 0,e?"red":"none")}),hLn=F(Die)(n=>{let{$debug:e}=n;return Ae(Twe||(Twe=Fx([`
    `,`

    visibility: none;

    `,`
  `])),Rie,e&&Ae(kwe||(kwe=Fx([`
      background: rgba(255, 0, 0, 0.25);
      outline: 1px solid #00b;
      visibility: visible;
    `]))))}),pLn=F(Die)(n=>{let{$debug:e}=n;return Ae(Awe||(Awe=Fx([`
    `,`

    position: sticky;
    bottom: -1px;
    height: 1px;
    background-color: `,`;
  `])),Rie,e?"blue":"transparent")}),mLn=n=>"".concat(n,"px"),gLn=n=>0-n,vLn=p.forwardRef(function(e,r){const{regions:i,render:o,children:s,margins:a}=e,l=p.useRef(null),c=p.useMemo(()=>a,[JSON.stringify(a)]),u=p.useMemo(()=>lLn({rootMargin:c.map(gLn).map(mLn).join(" "),threshold:Zjn}),[c]),[f,h]=p.useState({}),m=p.useCallback((b,x)=>{h(_=>({..._,[b]:x}))},[]),g=f["::top"],v=f["::bottom"],y=p.useMemo(()=>g&&v?i.filter(b=>{var x;return((x=b.presence)==null?void 0:x.length)>0}).map(b=>{const x=f[b.id];if(!x)return null;const{bottom:_,top:w}=x.boundingClientRect,C=x.boundingClientRect.top<g.boundingClientRect.bottom,S=x.boundingClientRect.top<v.boundingClientRect.top,T=x.isIntersecting?w-(x.intersectionRect.top-LP):C?-g.boundingClientRect.bottom:v.boundingClientRect.top,A=x.isIntersecting?-(_-(x.intersectionRect.bottom+LP)):S?v.boundingClientRect.top:-g.boundingClientRect.bottom,I=T<=Xjn?"top":A<=Qjn?"bottom":"inside";return{distanceTop:T,distanceBottom:A,region:b,position:I}}).filter(Boolean):[],[v,f,i,g]);return d.jsxs(uLn,{ref:r,children:[d.jsx(fLn,{$debug:BV,io:u,id:"::top",onIntersection:m,margins:c}),d.jsx("div",{children:s}),d.jsx(dLn,{ref:l,children:l.current&&o(y,l.current.offsetWidth)}),i.map(b=>{const x=b.rect.width===0;return d.jsx(hLn,{$debug:BV,io:u,onIntersection:m,id:b.id,style:{width:x?1:b.rect.width,left:b.rect.left-(x?1:0),top:b.rect.top-LP,height:b.rect.height+LP*2}},b.id)}),d.jsx(pLn,{$debug:BV,id:"::bottom",io:u,onIntersection:m})]})}),_Qe={transitionProperty:"transform",transitionDuration:"200ms",transitionTimingFunction:"cubic-bezier(0.85, 0, 0.15, 1)"},yLn=n=>n.top+n.height;function bLn(n){return n.map((e,r,i)=>{var o;const s=(o=i[r-1])==null?void 0:o.region.rect,a=s?yLn(s):0;return{...e,spacerHeight:e.region.rect.top-a}})}const $P=n=>BS(n,e=>e.region.rect.top),xLn=(n,e)=>n+e,Iwe=n=>n.reduce(xLn,0);function wLn(n){const e=bLn($P(n)),r={top:[],inside:[],bottom:[],...pre(e,i=>i.position)};return{top:$P(r.top).map((i,o,s)=>({...i,indent:s.slice(o+1).reduce((a,l)=>a+l.region.rect.width,0)})),inside:$P(r.inside).map(i=>({...i,indent:0})),bottom:$P(r.bottom).map((i,o,s)=>({...i,indent:s.slice(0,o).reduce((a,l)=>a+l.region.rect.width,0)}))}}const Dwe=n=>{let{height:e,...r}=n;return d.jsx("div",{style:{height:Math.max(0,e),...r==null?void 0:r.style}})},_Ln=[0,0,0,0],ELn=(n,e)=>{let r=n,i=-r.scrollTop,o=0;for(;r&&r!==e;)i+=r.offsetTop-r.scrollTop,o+=r.offsetLeft,r=r.offsetParent instanceof HTMLElement?r.offsetParent:null;return{top:i,left:o}};function CLn(n,e){return{...ELn(n,e),width:n.offsetWidth,height:n.offsetHeight}}function SLn(n,e){return n.map(r=>{let[i,o]=r;return{...o,id:i,rect:CLn(o.element,e)}})}function kLn(n){const{children:e,margins:r=_Ln}=n,i=rLn(),o=p.useRef(null),s=p.useMemo(()=>o.current?SLn(i,o.current):RY,[i]),a=p.useCallback((l,c)=>{const u=wLn(l.filter(g=>g.region.presence.length>0)),f=Iwe(u.top.map(g=>g.region.rect.height+g.spacerHeight)),h=Iwe([...u.inside,...u.bottom].map(g=>g.region.rect.height+g.spacerHeight)),m=u.inside.reduce((g,v)=>{const{distanceTop:y,distanceBottom:b}=v,x=y<=vQe,_=b<=yQe;return{nearTop:g.nearTop+(x?v.region.presence.length:0),nearBottom:g.nearBottom+(_?v.region.presence.length:0)}},{nearTop:0,nearBottom:0});return d.jsxs(d.Fragment,{children:[d.jsx(Rwe,{closeCount:m.nearTop,margins:r,position:"top",regionsWithIntersectionDetails:u.top}),d.jsx(Dwe,{height:f}),d.jsx(TLn,{containerWidth:c,regionsWithIntersectionDetails:u.inside}),d.jsx(Dwe,{height:h}),d.jsx(Rwe,{closeCount:m.nearBottom,margins:r,position:"bottom",regionsWithIntersectionDetails:u.bottom})]})},[r]);return d.jsx(vLn,{ref:o,margins:r,regions:s,render:a,children:e})}const RY=[],Rwe=p.memo(function(e){const{closeCount:r,margins:i,position:o,regionsWithIntersectionDetails:s}=e,a=o==="top"?1:-1,l=p.useMemo(()=>s.length?Ji(lw(s,y=>y.region.rect.top*a).map(y=>y.region.presence||RY)):RY,[a,s]),[c,u,f,h]=i,m=(h||0)+(l.length>0?-r*(rS+UF):0)-u,g=o==="top"?c:f,v=p.useMemo(()=>({zIndex:2,position:"sticky",display:"flex",flexDirection:"column",alignItems:"flex-end",..._Qe,transform:"translate3d(".concat(m,"px, 0px, 0px)"),top:vwe+1+g,bottom:vwe+1+g}),[m,g]);return d.jsx("div",{"data-dock":o,style:v,children:d.jsx(wQe,{position:o,maxAvatars:Yjn,presence:l})},"sticky-".concat(o))});function TLn(n){const{regionsWithIntersectionDetails:e,containerWidth:r}=n;return d.jsx(d.Fragment,{children:e.map(i=>{const o=i.region.rect.left,{distanceTop:s,distanceBottom:a}=i,l=s<=vQe,c=a<=yQe,u=r-o-i.region.rect.width,{presence:f,maxAvatars:h}=i.region;return d.jsx(p.Fragment,{children:d.jsx("div",{style:{zIndex:2,position:"absolute",..._Qe,left:o,transform:"translate3d(".concat(l||c?u:0,"px, 0px, 0px)"),height:i.region.rect.height,top:i.region.rect.top},children:d.jsx(ILn,{value:()=>"⤒".concat(s," | ").concat(a,"⤓"),children:d.jsx(wQe,{stack:!l&&!c,position:l?"top":c?"bottom":"inside",maxAvatars:h,presence:f})})})},i.region.id)})})}const ALn=n=>n.children,ILn=ALn,DLn=[0,0,0,0];function RLn(n){let{children:e,margins:r}=n;return d.jsx(tLn,{children:d.jsx(kLn,{margins:r||DLn,children:e})})}const WD=RLn;var Owe=Object.freeze,OLn=Object.defineProperty,GD=(n,e)=>Owe(OLn(n,"raw",{value:Owe(e||n.slice())})),Pwe,jwe,Lwe,$we,Mwe;const PLn=F(oe)(n=>{let{theme:e,$floatingCardWidth:r,$slotWidth:i,$floatingCardVisible:o}=n;const{space:s}=e.sanity;return Ae(Pwe||(Pwe=GD([`
    /* Prevent buttons from taking up extra vertical space */
    line-height: 1;
    width: 100%;
    /* For floating actions menu */
    position: relative;

    [data-ui='PresenceBox'] {
      position: absolute;
      bottom: 0;
      right: `,`px;
    }
    @media (hover: hover) {
      // If hover is supported, we hide the floating card by default, so only add space for it when it's visible.
      [data-ui='PresenceBox'] {
        position: absolute;
        bottom: 0;
        right: `,`px;
      }
    }
  `])),i+r+s[1],i+(o?r:0)+s[1])}),jLn=F(te)(n=>{let{theme:e,$presenceMaxWidth:r}=n;const{space:i}=e.sanity;return Ae(jwe||(jwe=GD([`
    max-width: calc(100% - `,`px);
    min-width: 75%;
  `])),r+i[1])}),LLn=F(te)(n=>{let{theme:e,$right:r,$fieldActionsVisible:i}=n;const{space:o}=e.sanity,s=i?r+o[1]:r;return Ae(Lwe||(Lwe=GD([`
    position: absolute;
    bottom: 0;
    right: `,`px;
  `])),s)}),$Ln=F(ke)($we||($we=GD([`
  align-items: center;
  bottom: 0;
  position: absolute;
  right: 0;
  transition: opacity 150ms ease;
  line-height: 1;

  @media (hover: hover) {
    // If hover is supported, we hide the floating card by default
    // and only show it when it has focus within or when the field is hovered or focused.
    opacity: 0;
    pointer-events: none;

    [data-ui='FieldActionsFlex'] {
      opacity: 0;
    }

    &[data-actions-visible='false']:not(:focus-within) {
      // Remove the shadow when the field actions are not visible
      box-shadow: none;

      // Since the field actions always will be present in the DOM (to make them focusable) –
      // they will always affect the width of the floating card, even when they are not visible.
      // Therefore, we remove the background of the floating card when the field actions are not visible.
      background: transparent;
    }

    // Remove the shadow when the field has comments but no actions
    &[data-has-comments='true']:not([data-has-actions='true']) {
      box-shadow: none;
    }

    // Show the floating card when it has focus within (ie when field actions are focused).
    &:focus-within {
      opacity: 1;
      pointer-events: auto;
      width: max-content;

      [data-ui='FieldActionsFlex'] {
        opacity: 1;
        pointer-events: auto;
        width: max-content;
      }
    }
  }

  &[data-visible='true'] {
    opacity: 1;
    pointer-events: auto;
    width: max-content;
  }

  &[data-actions-visible='true'] {
    [data-ui='FieldActionsFlex'] {
      opacity: 1;
      pointer-events: auto;
      width: max-content;
    }
  }
`]))),MLn=F(oe)(Mwe||(Mwe=GD([`
  gap: inherit;
  transition: opacity 150ms ease;
`]))),Fwe=4;function EQe(n){const{__internal_comments:e,__internal_slot:r,actions:i,content:o,fieldFocused:s,fieldHovered:a,presence:l}=n,[c,u]=p.useState(!1),[f,h]=p.useState(!1),[m,g]=p.useState(null),[v,y]=p.useState(0),[b,x]=p.useState(null),[_,w]=p.useState(0),{hasComments:C=!1,button:S=null,isAddingComment:T=!1}=e||{},A=i&&i.length>0,I=s||a||f||T,D=(e==null?void 0:e.button)||A,R=c||I||C,P=p.useCallback(()=>{if(m){const{width:M}=m.getBoundingClientRect();y(M||0)}},[m]),O=p.useCallback(()=>{P(),u(!0)},[P]),$=p.useCallback(()=>{P(),u(!1)},[P]);p.useEffect(()=>{P()},[P,I]),p.useEffect(()=>{if(b){const{width:M}=b.getBoundingClientRect();w(M||0)}},[b]);const L=p.useMemo(()=>r?d.jsx(LLn,{$fieldActionsVisible:!!I,$right:v,ref:x,children:r}):null,[v,I,r]);return d.jsxs(PLn,{align:"flex-end",justify:"space-between",$floatingCardVisible:R,$floatingCardWidth:v,$slotWidth:_,children:[d.jsx(jLn,{"data-ui":"fieldHeaderContentBox",flex:1,paddingY:2,$presenceMaxWidth:sLn(Fwe),children:o}),l&&l.length>0&&d.jsx(te,{"data-ui":"PresenceBox",flex:"none",children:d.jsx(HD,{maxAvatars:Fwe,presence:l})}),L,(D||C)&&d.jsx(xu,{children:d.jsxs($Ln,{"data-actions-visible":I?"true":"false","data-has-actions":A?"true":"false","data-has-comments":C?"true":"false","data-visible":R?"true":"false",display:"flex",onBlurCapture:$,onFocusCapture:O,ref:g,sizing:"border",children:[A&&d.jsx(MLn,{align:"center","data-ui":"FieldActionsFlex",children:d.jsx(Pjn,{nodes:i,onMenuOpenChange:h})}),S]})})]})}function Gy(n,e){if(!(!e||!n))return"desc_".concat(n)}var Nwe=Object.freeze,FLn=Object.defineProperty,NLn=(n,e)=>Nwe(FLn(n,"raw",{value:Nwe(e||n.slice())})),Bwe;const BLn=[],CQe={error:HLn,warning:WLn,info:GLn},ULn=F(Se)(Bwe||(Bwe=NLn([`
  max-width: 200px;
`]))),SQe=F(J)(n=>{let{$status:e}=n;return e==="error"?{"--card-icon-color":"var(--card-badge-critical-icon-color)"}:e==="warning"?{"--card-icon-color":"var(--card-badge-caution-icon-color)"}:e==="info"?{"--card-icon-color":"var(--card-badge-primary-icon-color)"}:{}});function JS(n){const{validation:e=BLn,__unstable_showSummary:r,fontSize:i,placement:o}=n,s=e.some(u=>u.level==="error"),a=e.some(u=>u.level==="warning"),l=s?"error":a?"warning":"info",c=CQe[l];return d.jsx(zn,{content:d.jsxs(ULn,{space:3,children:[r&&d.jsx(VLn,{validation:e}),!r&&d.jsx(d.Fragment,{children:e.map((u,f)=>d.jsx(zLn,{validation:u},f))})]}),portal:!0,placement:o,fallbackPlacements:["bottom","right","left"],children:d.jsx("div",{children:d.jsx(SQe,{$status:l,size:i,weight:"medium",children:c&&d.jsx(c,{})})})})}function zLn(n){const{validation:e}=n,r=CQe[e.level];return d.jsxs(oe,{children:[d.jsx(te,{marginRight:2,children:d.jsx(SQe,{$status:e.level,size:1,children:r&&d.jsx(r,{})})}),d.jsx(te,{flex:1,children:d.jsx(J,{size:1,children:e.message})})]})}function VLn(n){let{validation:e}=n;const{t:r}=me(),i=a2(),o=e.reduce((f,h)=>h.level==="error"?f+1:f,0),s=e.reduce((f,h)=>h.level==="warning"?f+1:f,0),a=o>0,l=s>0;if(!a&&!l)return null;const c=a&&r("form.validation.summary.errors-count",{count:o}),u=l&&r("form.validation.summary.warnings-count",{count:s});return c&&u?d.jsx(J,{size:1,children:i.format([c,u])}):d.jsx(J,{size:1,children:c||u})}function HLn(){const{t:n}=me();return d.jsx(Dc,{"data-testid":"input-validation-icon-error","aria-label":n("form.validation.has-error-aria-label"),"aria-hidden":!0,role:"presentation"})}function WLn(){const{t:n}=me();return d.jsx(as,{"data-testid":"input-validation-icon-warning","aria-label":n("form.validation.has-warning-aria-label"),"aria-hidden":!0,role:"presentation"})}function GLn(){const{t:n}=me();return d.jsx(Wx,{"data-testid":"input-validation-icon-info","aria-label":n("form.validation.has-info-aria-label"),"aria-hidden":!0,role:"presentation"})}var Uwe=Object.freeze,qLn=Object.defineProperty,KLn=(n,e)=>Uwe(qLn(n,"raw",{value:Uwe(e||n.slice())})),zwe;const YLn=F(oe)(zwe||(zwe=KLn([`
  /*
   * Prevent the block size of appended elements (such as the deprecated field badge) affecting
   * the intrinsic block size of the label.
   */
  contain: size;
`]))),ZLn=[],Oie=p.memo(function(e){const{description:r,inputId:i,title:o,deprecated:s,validation:a=ZLn}=e,{t:l}=me(),c=a.length>0,u=s||c;return d.jsxs(Se,{space:3,children:[d.jsxs(oe,{align:"center",paddingY:1,children:[d.jsx(J,{as:"label",htmlFor:i,weight:"medium",size:1,children:o||d.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:l("form.field.untitled-field-label")})}),u&&d.jsxs(YLn,{align:"center",flex:1,children:[s&&d.jsx(te,{marginLeft:2,children:d.jsx(_u,{"data-testid":"deprecated-badge-".concat(o),tone:"caution",children:l("form.field.deprecated-label")})}),c&&d.jsx(te,{marginLeft:2,children:d.jsx(JS,{fontSize:1,placement:"top",validation:a})})]})]}),s&&d.jsx(mo,{"data-testid":"deprecated-message-".concat(o),tone:"caution",size:1,children:s.reason}),r&&d.jsx(J,{muted:!0,size:1,id:Gy(i,r),children:r})]})}),Vwe=[],e2=p.memo(function(e){const{__unstable_headerActions:r=Vwe,__unstable_presence:i=Vwe,__internal_slot:o=null,__internal_comments:s,children:a,description:l,inputId:c,level:u,title:f,validation:h,deprecated:m,...g}=e,{focused:v,hovered:y,onMouseEnter:b,onMouseLeave:x}=Iie();return d.jsxs(Se,{...g,"data-level":u,onMouseEnter:b,onMouseLeave:x,space:2,children:[f&&d.jsx(EQe,{__internal_comments:s,__internal_slot:o,actions:r,fieldFocused:!!v,fieldHovered:y,presence:i,content:d.jsx(Oie,{description:l,inputId:c,title:f,validation:h,deprecated:m})}),d.jsx("div",{children:a})]})});var Hwe=Object.freeze,XLn=Object.defineProperty,Pie=(n,e)=>Hwe(XLn(n,"raw",{value:Hwe(e||n.slice())})),Wwe,Gwe,qwe;const Kwe=F.legend(Wwe||(Wwe=Pie([`
  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  padding: 0;
  display: table;
`]))),QLn=F(oe).attrs({forwardedAs:"button"})(n=>{const{theme:e}=n,{focusRing:r,radius:i}=e.sanity,{base:o}=e.sanity.color;return Ae(Gwe||(Gwe=Pie([`
    appearance: none;
    border: 0;
    background: none;
    color: inherit;
    -webkit-font-smoothing: inherit;
    font: inherit;
    outline: none;
    border-radius: `,`;
    position: relative;

    &:not([hidden]) {
      display: flex;
    }

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }

    /* Added to increase the hit area of the collapsible fieldset */
    &::after {
      content: '';
      position: absolute;
      top: -10px;
      right: -10px;
      bottom: -10px;
      left: -10px;
    }
  `])),Je(i[2]),die({base:o,focusRing:r}))}),JLn=F(te)(qwe||(qwe=Pie([`
  width: 9px;
  height: 9px;
  margin-right: 3px;

  & svg {
    transition: transform 100ms;
  }
`]))),e$n=p.memo(function(e){const{collapsed:r,collapsible:i,onClick:o,title:s}=e,{t:a}=me(),l=d.jsx(J,{weight:"medium",size:1,children:s||d.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:a("form.field.untitled-fieldset-label")})});return i?d.jsx(Kwe,{children:d.jsxs(QLn,{type:"button",onClick:o,children:[d.jsx(JLn,{children:d.jsx(J,{muted:!0,size:1,children:d.jsx(WI,{style:{transform:"rotate(".concat(r?"0":"90deg",") translate3d(0, 0, 0)")}})})}),l]})}):d.jsx(Kwe,{children:l})});var Ywe=Object.freeze,t$n=Object.defineProperty,kQe=(n,e)=>Ywe(t$n(n,"raw",{value:Ywe(e||n.slice())})),Zwe,Xwe;function n$n(n){return typeof n=="function"?n():n}const r$n=F(Se).attrs({forwardedAs:"fieldset"})(Zwe||(Zwe=kQe([`
  border: none;

  /* See: https://thatemil.com/blog/2015/01/03/reset-your-fieldset/ */
  body:not(:-moz-handler-blocked) & {
    display: table-cell;
  }
`]))),i$n=F(te)(n=>{const{$borderLeft:e,theme:r}=n,{focusRing:i}=r.sanity,{base:o}=r.sanity.color;return Ae(Xwe||(Xwe=kQe([`
    outline: none;
    border-left: `,`;

    &:focus {
      box-shadow: `,`;
    }

    &:focus:not(:focus-visible) {
      box-shadow: none;
    }
  `])),e?"1px solid var(--card-border-color)":void 0,die({base:o,focusRing:{...i,offset:2}}))}),UV=[],LN=p.forwardRef(function(e,r){const{__internal_comments:i,__internal_slot:o=null,__unstable_headerActions:s=UV,__unstable_presence:a=UV,children:l,collapsed:c,collapsible:u,columns:f,description:h,level:m=0,onCollapse:g,onExpand:v,onFocus:y,tabIndex:b,title:x,validation:_=UV,inputId:w,deprecated:C,...S}=e,{focused:T,hovered:A,onMouseEnter:I,onMouseLeave:D}=Iie(),R=_.length>0,P=Ko(r),{t:O}=me(),$=p.useCallback(N=>{P.current===N.target&&y&&y(N)},[P,y]),L=p.useCallback(()=>c?v==null?void 0:v():g==null?void 0:g(),[c,g,v]),M=p.useMemo(()=>c?null:d.jsx(PIn,{columns:f,gapX:4,gapY:5,children:n$n(l)}),[l,c,f]);return d.jsxs(r$n,{"data-level":m,...S,onMouseEnter:I,onMouseLeave:D,space:2,children:[d.jsx(EQe,{__internal_comments:i,__internal_slot:o,actions:s,fieldFocused:!!T,fieldHovered:A,presence:a,content:d.jsxs(Se,{space:3,children:[d.jsxs(oe,{align:"center",children:[d.jsx(e$n,{collapsed:!!c,collapsible:u,onClick:u?L:void 0,title:x}),C&&d.jsx(te,{marginLeft:2,children:d.jsx(_u,{"data-testid":"deprecated-badge-".concat(x),tone:"caution",children:O("form.field.deprecated-label")})}),R&&d.jsx(te,{marginLeft:2,children:d.jsx(JS,{fontSize:1,placement:"top",validation:_})})]}),C&&d.jsx(mo,{"data-testid":"deprecated-message-".concat(x),tone:"caution",size:1,children:C.reason}),h&&d.jsx(J,{muted:!0,size:1,id:Gy(w,h),children:h})]})}),d.jsx(i$n,{$borderLeft:m>0,hidden:c,paddingLeft:m===0?0:3,onFocus:typeof b=="number"&&b>-1?$:void 0,ref:P,tabIndex:b,children:!c&&M})]})});var Qwe=Object.freeze,o$n=Object.defineProperty,s$n=(n,e)=>Qwe(o$n(n,"raw",{value:Qwe(e||n.slice())})),Jwe;const a$n=F.div(Jwe||(Jwe=s$n([`
  display: flex;
  justify-content: flex-end;
  box-sizing: border-box;
  min-height: var(--avatar-height);
  width: 77px;
  margin-left: var(--small-padding);

  &[data-max-avatars='1'] {
    max-width: 23px;
  }

  &[data-position='top'] {
    align-self: flex-start;
  }

  &[data-position='bottom'] {
    align-self: flex-end;
  }
`])));function l$n(n){let{children:e,maxAvatars:r,position:i="bottom"}=n;return d.jsx(a$n,{"data-max-avatars":r,"data-position":i,children:e})}function jie(n,e){const r=p.useRef(e||null);return p.useEffect(()=>{r.current=n},[n]),r.current}function rc(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Lg;const i=jie(n);p.useEffect(()=>{r(i,n)||e(i,n)},[e,n,i,r])}const Nx=Symbol.for("sanity.patch");function pl(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:Nx,type:"setIfMissing",path:e,value:n}}function L0(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return{patchType:Nx,type:"insert",path:r,position:e,items:n}}function rn(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return{patchType:Nx,type:"set",path:e,value:n}}function un(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{patchType:Nx,type:"unset",path:n}}function c$n(n,e){return{...n,path:[e,...n.path]}}class In{static from(e){return e instanceof In?e:new In(Array.isArray(e)?Ji(e):[e])}constructor(e){this.patches=e}prepend(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return In.from([...Ji(r),...this.patches])}append(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return In.from([...this.patches,...Ji(r)])}prefixAll(e){return In.from(this.patches.map(r=>c$n(r,e)))}}const u$n=["_key","_type","_weak"];function TQe(n){return Object.keys(n).every(e=>u$n.includes(e))}const Lie=p.createContext(null),qD=p.memo(function(e){const r=p.useRef(e);r.current=e;const i=p.useCallback(m=>{var g,v,y;return(y=(v=(g=r.current)==null?void 0:g.transformPatches)==null?void 0:v.call(g,m))!=null?y:[]},[r]),o=p.useCallback(m=>{r.current.onChange(m)},[]),s=p.useCallback(m=>{r.current.onPathFocus(m)},[]),a=p.useCallback(m=>{r.current.onPathBlur(m)},[]),l=p.useCallback(m=>{r.current.onPathOpen(m)},[]),c=p.useCallback((m,g)=>{r.current.onSetPathCollapsed(m,g)},[]),u=p.useCallback((m,g)=>{r.current.onSetFieldSetCollapsed(m,g)},[]),f=p.useCallback((m,g)=>{r.current.onFieldGroupSelect(m,g)},[]),h=p.useMemo(()=>({transformPatches:i,onChange:o,onPathFocus:s,onPathBlur:a,onPathOpen:l,onSetPathCollapsed:c,onSetFieldSetCollapsed:u,onFieldGroupSelect:f}),[o,f,a,s,l,u,c,i]);return d.jsx(Lie.Provider,{value:h,children:e.children})});function Af(){const n=p.useContext(Lie);if(!n)throw new Error("Form context not provided");return n}function $ie(n){if(vf(n))return n.name==="object"?{}:{_type:n.name};if(cd(n))return[];if(n.jsonType==="string")return"";if(n.jsonType==="number")return 0;if(n.jsonType==="boolean")return!1}function d$n(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;const e=new Uint8Array(n);return jne(e),e}const f$n=(()=>{let n;return()=>{if(n)return n;n=[];for(let e=0;e<256;++e)n[e]=(e+256).toString(16).substring(1);return n}})();function tI(n){const e=f$n();return d$n(n).reduce((r,i)=>r+e[i],"").slice(0,n)}function h$n(n){return n._key!==void 0}function e$(n){return h$n(n)?n:{...n,_key:tI(12)}}const p$n=(n,e)=>{const r=vu(e);return n.of.find(i=>i.name===r)};function m$n(n,e){return Object.entries(n).map(r=>{let[i,o]=r;return rn(o,[...e,i])})}function AQe(n,e,r){return Gi(n).pipe(On(i=>{const o={_key:i._key};return Ke(p$n(e,i)).pipe(On(s=>s?Ke(s):Vi),On(s=>!TQe(i)||!r?Vi:Go(Ke({type:"patch",patches:[rn(!0,[o,"_resolvingInitialValue"])]}),ms(()=>r(s,i)).pipe(Bn(Ws),Me(a=>({type:"patch",patches:m$n(a,[o])})),vi(a=>Ke({type:"error",error:a,item:i,schemaType:s}))),Ke({type:"patch",patches:[un([o,"_resolvingInitialValue"])]}))))}))}function Mie(n){const e=p.useRef(),{member:r,renderAnnotation:i,renderBlock:o,renderField:s,renderInlineBlock:a,renderInput:l,renderItem:c,renderPreview:u}=n,{t:f}=me(),{onPathBlur:h,onPathFocus:m,onChange:g,onPathOpen:v,onSetPathCollapsed:y,onSetFieldSetCollapsed:b,onFieldGroupSelect:x}=Af(),_=Eoe();rc(r.item.focused,(se,de)=>{var fe;!se&&de&&((fe=e.current)==null||fe.focus())});const w=p.useCallback(()=>{g(In.from([un([{_key:r.key}])]))},[r.key,g]),C=p.useCallback(se=>{v(se),y(se,!1)},[v,y]),S=da(),T=p.useCallback(se=>{if(se.items.length===0)throw new Error("Insert event should include at least one item");const de=se.items.map(_e=>e$(_e));g(In.from([L0(de,se.position,[{_key:r.key}])]));const fe=de[0]._key,ye=[...r.item.path.slice(0,-1),{_key:fe}];m(ye);const ve=se.open!==!1;se.skipInitialValue?ve&&C(ye):AQe(de,r.parentSchemaType,_).pipe(Si(_e=>{_e.type==="patch"?g(In.from(_e.patches)):S.push({title:f("inputs.array.error.cannot-resolve-initial-value-title"),description:f("inputs.array.error.cannot-resolve-initial-value-description",{schemaTypeTitle:_e.schemaType.title,errorMessage:_e.error.message}),status:"error"})})).subscribe({complete:()=>{ve&&C(ye)}})},[C,r.item.path,r.key,r.parentSchemaType,g,m,_,S,f]),A=p.useCallback(()=>{h(r.item.path)},[r.item.path,h]),I=p.useCallback(()=>{m(r.item.path)},[r.item.path,m]),D=p.useCallback(se=>{m(r.item.path.concat(se))},[r.item.path,m]),R=p.useCallback(se=>{g(In.from(se).prepend(pl($ie(r.item.schemaType))).prefixAll({_key:r.key}))},[g,r.item.schemaType,r.key]),P=p.useCallback(()=>{y(r.item.path,!0)},[y,r.item.path]),O=p.useCallback(()=>{y(r.item.path,!1)},[y,r.item.path]),$=p.useCallback(se=>{y(r.item.path.concat(se),!0)},[y,r.item.path]),L=p.useCallback(se=>{y(r.item.path.concat(se),!1)},[y,r.item.path]),M=p.useCallback(()=>{v(r.item.path)},[v,r.item.path]),N=p.useCallback(se=>{v(r.item.path.concat(se))},[v,r.item.path]),z=p.useCallback(se=>{b(r.item.path.concat(se),!1)},[b,r.item.path]),B=p.useCallback(se=>{b(r.item.path.concat(se),!0)},[b,r.item.path]),H=p.useCallback(()=>{v(r.item.path)},[v,r.item.path]),X=!r.item.value||TQe(r.item.value),G=p.useCallback(()=>{X&&w();const se=r.item.path.slice(0,-1);v(se),m(se)},[X,v,r.item.path,m,w]),ne=p.useCallback(se=>{x(r.item.path,se)},[x,r.item.path]),le=p.useMemo(()=>({onBlur:A,onFocus:I,id:r.item.id,ref:e,"aria-describedby":Gy(r.item.id,r.item.schemaType.description)}),[A,I,r.item.id,r.item.schemaType.description]),K=p.useMemo(()=>({changed:r.item.changed,focusPath:r.item.focusPath,focused:r.item.focused,groups:r.item.groups,id:r.item.id,level:r.item.level,members:r.item.members,onChange:R,onFieldClose:M,onFieldCollapse:$,onFieldSetCollapse:B,onFieldExpand:L,onFieldSetExpand:z,onFieldGroupSelect:ne,onPathFocus:D,onFieldOpen:N,path:r.item.path,presence:r.item.presence,readOnly:r.item.readOnly,renderAnnotation:i,renderBlock:o,renderField:s,renderInlineBlock:a,renderInput:l,renderItem:c,renderPreview:u,schemaType:r.item.schemaType,validation:r.item.validation,value:r.item.value,elementProps:le}),[le,R,M,$,B,L,z,D,N,ne,r.item.changed,r.item.focusPath,r.item.focused,r.item.groups,r.item.id,r.item.level,r.item.members,r.item.path,r.item.presence,r.item.readOnly,r.item.schemaType,r.item.validation,r.item.value,i,o,s,a,l,c,u]),Q=p.useMemo(()=>l(K),[K,l]),re=p.useMemo(()=>({key:r.key,index:r.index,level:r.item.level,value:r.item.value,title:r.item.schemaType.title,description:r.item.schemaType.description,collapsible:r.collapsible,collapsed:r.collapsed,schemaType:r.item.schemaType,parentSchemaType:r.parentSchemaType,onInsert:T,onRemove:w,presence:r.item.presence,validation:r.item.validation,open:r.open,onOpen:H,onClose:G,onExpand:O,onCollapse:P,readOnly:r.item.readOnly,focused:r.item.focused,onFocus:I,onBlur:A,inputId:r.item.id,path:r.item.path,children:Q,changed:r.item.changed,inputProps:K}),[r.key,r.index,r.item.level,r.item.value,r.item.schemaType,r.parentSchemaType,r.item.presence,r.item.validation,r.item.readOnly,r.item.focused,r.item.id,r.item.path,r.item.changed,r.collapsible,r.collapsed,r.open,T,w,H,G,O,P,I,A,Q,K]);return d.jsx(qD,{onFieldGroupSelect:x,onChange:R,onPathOpen:v,onSetFieldSetCollapsed:b,onSetPathCollapsed:y,onPathBlur:h,onPathFocus:m,children:p.useMemo(()=>c(re),[re,c])})}var e_e=Object.freeze,g$n=Object.defineProperty,v$n=(n,e)=>e_e(g$n(n,"raw",{value:e_e(e||n.slice())})),t_e;const y$n=F(ke)(t_e||(t_e=v$n([`
  max-width: `,`px;
`])),n=>{let{theme:e}=n;return e.sanity.container[1]});function IQe(n){const{value:e,onFocus:r,vertical:i,...o}=n,[s,a]=p.useState(!1),[l,c]=p.useState(null),{t:u}=me();ki(()=>a(!1),[l]);const f=p.useCallback(g=>{(g.key==="Escape"||g.key==="Tab")&&a(!1)},[]),h=p.useCallback(()=>{a(g=>!g)},[]),m=vu(e);return d.jsx(Ai,{open:s,ref:c,onKeyDown:f,portal:!0,constrainSize:!0,tone:"default",content:d.jsx(y$n,{margin:1,padding:3,onKeyDown:f,tabIndex:0,overflow:"auto",children:d.jsxs(Se,{space:4,children:[d.jsx(J,{weight:"medium",children:d.jsx(bn,{t:u,i18nKey:"inputs.array.error.type-is-incompatible-prompt",values:{typeName:m}})}),d.jsx(J,{size:1,weight:"medium",children:u("inputs.array.error.type-is-incompatible-title")}),d.jsx(J,{size:1,children:d.jsx(bn,{t:u,i18nKey:"inputs.array.error.current-schema-not-declare-description",values:{typeName:m}})}),d.jsx(te,{children:d.jsxs(J,{size:1,children:[d.jsx(S8,{})," ",u("inputs.array.error.can-delete-but-no-edit-description")]})}),d.jsxs(Se,{space:2,children:[d.jsx(J,{size:1,weight:"medium",children:u("inputs.array.error.json-representation-description")}),d.jsx(ke,{padding:2,overflow:"auto",border:!0,children:d.jsx(ia,{size:1,as:"pre",language:"json",children:JSON.stringify(e,null,2)})})]})]})}),children:d.jsx(ke,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:r,onClick:h,onKeyDown:f,__unstable_focusRing:!0,...o,children:d.jsxs(oe,{align:"center",children:[d.jsx(te,{marginRight:3,children:d.jsx(J,{children:d.jsx(Rp,{})})}),d.jsx(te,{flex:1,children:d.jsx(J,{size:1,textOverflow:"ellipsis",children:d.jsx(bn,{t:u,i18nKey:"inputs.array.error.type-is-incompatible-prompt",values:{typeName:m}})})})]})})})}function b$n(n){const{member:e}=n,{t:r}=me();return e.error.type==="INVALID_ITEM_TYPE"?d.jsx(IQe,{value:e.error.value}):d.jsx("div",{children:r("inputs.array.error.unexpected-error",{error:e.error.type})})}function Fie(n){switch(n.jsonType){case"string":return"";case"number":return-0;case"boolean":return!1;default:throw new Error('Unable to create value from type "'.concat(n.jsonType,'"'))}}function DQe(n,e,r){return dx(n)&&typeof r=="string"&&Number(r)===e?r:String(e??"")}function x$n(n){const e=p.useRef(),{member:r,renderItem:i,renderInput:o}=n,[s,a]=p.useState(),{onPathBlur:l,onPathFocus:c,onChange:u}=Af();rc(r.item.focused,(C,S)=>{var T;!C&&S&&((T=e.current)==null||T.focus())});const f=p.useCallback(C=>{l(r.item.path)},[r.item.path,l]),h=p.useCallback(C=>{c(r.item.path)},[r.item.path,c]),m=p.useCallback(C=>{u(In.from(C).prefixAll(r.index))},[u,r.index]),g=p.useCallback(C=>{let S=C.currentTarget.value;if(dx(r.item.schemaType)){if(S=C.currentTarget.valueAsNumber,S>Number.MAX_SAFE_INTEGER||S<Number.MIN_SAFE_INTEGER)return}else DI(r.item.schemaType)&&(S=C.currentTarget.checked);const T=S===""||typeof S=="number"&&isNaN(S);dx(r.item.schemaType)&&a(T?void 0:C.currentTarget.value),m(rn(T?Fie(r.item.schemaType):S))},[m,r.item.schemaType]),v=p.useMemo(()=>({onBlur:f,onFocus:h,id:r.item.id,ref:e,onChange:g,value:w$n(r.item.schemaType,r.item.value,s),readOnly:!!r.item.readOnly,placeholder:r.item.schemaType.placeholder,"aria-describedby":Gy(r.item.id,r.item.schemaType.description)}),[f,h,g,r.item.id,r.item.readOnly,r.item.schemaType,r.item.value,s]),y=p.useMemo(()=>({changed:r.item.changed,level:r.item.level,value:r.item.value,readOnly:r.item.readOnly,schemaType:r.item.schemaType,id:r.item.id,path:r.item.path,focused:r.item.focused,onChange:m,validation:r.item.validation,presence:r.item.presence,elementProps:v}),[r.item.changed,r.item.level,r.item.value,r.item.readOnly,r.item.schemaType,r.item.id,r.item.path,r.item.focused,r.item.validation,r.item.presence,m,v]),b=p.useMemo(()=>o(y),[y,o]),x=p.useCallback(()=>{u(In.from([un([r.index])]))},[r.index,u]),_=p.useCallback(C=>{u(In.from([L0(C.items,C.position,[r.index])]))},[r.index,u]),w=p.useMemo(()=>({key:r.key,index:r.index,level:r.item.level,value:r.item.value,title:r.item.schemaType.title,description:r.item.schemaType.description,schemaType:r.item.schemaType,parentSchemaType:r.parentSchemaType,onInsert:_,onRemove:x,presence:r.item.presence,validation:r.item.validation,readOnly:r.item.readOnly,focused:r.item.focused,onFocus:h,onBlur:f,inputId:r.item.id,path:r.item.path,children:b}),[r.key,r.index,r.item.level,r.item.value,r.item.schemaType,r.item.presence,r.item.validation,r.item.readOnly,r.item.focused,r.item.id,r.item.path,r.parentSchemaType,_,x,h,f,b]);return d.jsx(d.Fragment,{children:p.useMemo(()=>i(w),[w,i])})}function w$n(n,e,r){return Object.is(e,-0)?"":DQe(n,e,r)}function t2(n){if(!vf(n))throw new Error('Invalid item type: "'.concat(n.type,'". Default array input can only contain objects (for now)'));return{...$ie(n),_key:_D(12)}}const n_e="before",r_e="after";function _$n(n,e,r){if(e!==n_e&&e!==r_e)throw new Error('Invalid position "'.concat(e,'", must be either ').concat(n_e," or ").concat(r_e));for(var i=arguments.length,o=new Array(i>3?i-3:0),s=3;s<i;s++)o[s-3]=arguments[s];const a=i_e(...o);if(n.length===0)return a;const l=n.length,c=Math.abs((l+r)%l)%l,u=e==="after"?c+1:c,f=n.slice();return f.splice(u,0,...i_e(a)),f}function i_e(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return e.reduce((i,o)=>i.concat(o),[])}const o_e=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);function E$n(n,e,r){const i=n.slice(),o=i[e];return i.splice(e,1),i.splice(r,0,o),i}function C$n(n,e){if(typeof e=="number")return e;const r=$ne(n,e);return r===-1?!1:r}function S$n(n,e){const r=n.slice();if(e.path.length===0){if(e.type==="setIfMissing"){if(!Array.isArray(e.value))throw new Error("Cannot set value of an array to a non-array");return n===void 0?e.value:n}else if(e.type==="set"){if(!Array.isArray(e.value))throw new Error("Cannot set value of an array to a non-array");return e.value}else{if(e.type==="unset")return;if(e.type==="move"){if(!e.value||!o_e(e.value,"from")||!o_e(e.value,"to"))throw new Error(`Invalid value of 'move' patch. Expected a value with "from" and "to" indexes, instead got: `.concat(JSON.stringify(e.value)));return E$n(r,e.value.from,e.value.to)}}throw new Error("Invalid array operation: ".concat(e.type))}const[i,...o]=e.path,s=C$n(n,i);if(s===!1)return r;if(o.length===0){if(e.type==="insert"){const{position:a,items:l}=e;return _$n(n,a,s,l)}else if(e.type==="unset"){if(typeof s!="number")throw new Error('Expected array index to be a number, instead got "'.concat(s,'"'));return r.splice(s,1),r}}return r[s]=Bie(r[s],{...e,path:o}),r}function k$n(n,e){const r=yqe(n);if(e.path.length===0){if(e.type==="set"){if(!X4(e.value))throw new Error("Cannot set value of an object to a non-object");return e.value}else{if(e.type==="unset")return;if(e.type==="setIfMissing")return n===void 0?e.value:n}throw new Error("Invalid object operation: ".concat(e.type))}const[i,...o]=e.path;if(typeof i!="string")throw new Error("Expected field name to be a string, instad got: ".concat(i));return o.length===0&&e.type==="unset"?Cc(r,i):(r[i]=Bie(r[i],{...e,path:o}),r)}const RQe={replace(n,e){return e},set(n,e){return e},setIfMissing(n,e){return n===void 0?e:n},unset(n,e){},inc(n,e){return n+e},dec(n,e){return n-e}},T$n=Object.keys(RQe);function A$n(n,e){if(!T$n.includes(e.type))throw new Error('Received patch of unsupported type "'.concat(e.type,'" for primitives. This is most likely a bug.'));if(e.path.length>0)throw new Error('Cannot apply deep operations on primitive values. Received patch with type "'.concat(e.type,'" and path "').concat(e.path.map(r=>JSON.stringify(r)).join("."),' that targeted the value "').concat(JSON.stringify(n),'"'));return RQe[e.type](n,e.value)}const OQe={replace(n,e){return e},set(n,e){return e},setIfMissing(n,e){return n===void 0?e:n},unset(n,e){},diffMatchPatch(n,e){const[r]=Zne(Jqe(e),n,{allowExceedingIndices:!0});return r}},I$n=Object.keys(OQe);function D$n(n,e){if(!I$n.includes(e.type))throw new Error('Received patch of unsupported type: "'.concat(JSON.stringify(e.type),'" for string. This is most likely a bug.'));if(e.path.length>0)throw new Error('Cannot apply deep operations on string values. Received patch with type "'.concat(e.type,'" and path "').concat(e.path.join("."),' that targeted the value "').concat(JSON.stringify(n),'"'));return OQe[e.type](n,e.value)}function Nie(n,e){return e.reduce(Bie,n)}function R$n(n,e){return Array.isArray(n)?S$n(n,e):o8(n)?D$n(n,e):X4(n)?k$n(n,e):A$n(n,e)}function Bie(n,e){return R$n(n,e)}const PQe=p.createContext(null);function O$n(n){const e=p.useMemo(()=>({actions:n.actions||ri}),[n.actions]);return d.jsx(PQe.Provider,{value:e,children:n.children})}function $N(){const n=p.useContext(PQe);if(!n)throw new Error("useDocumentFieldActions must be used within a DocumentFieldActionsProvider");return n.actions}function Ip(n,e){return e.name===n||!!(e.type&&Ip(n,e.type))}function OY(n,e){if(!n||!e)return!0;const r=Array.isArray(e)?e:e.split(","),i=n.name||"",o=(n.type||"").toLowerCase(),s=o.replace(/\/.*$/,"");return r.some(a=>{const l=a.trim().toLowerCase();return l.charAt(0)==="."?i?i.toLowerCase().endsWith(l):!0:l.endsWith("/*")?s===l.replace(/\/.*$/,""):o===l})}const jQe=4;function s_e(n,e){const r=n.indexOf(e);return r>-1&&n.splice(r,1),n}function P$n(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jQe;const r=j$n(e);return function(){return Gi(r(n(...arguments)))}}function j$n(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:jQe;const e=[],r=[],i=new ho;return o;function o(l){return new Un(c=>{if(e.length>=n)return s(l).pipe(On(o)).subscribe(c);const u=l.subscribe(c);return e.push(u),()=>{s_e(e,u),s_e(r,l),u.unsubscribe(),a()}})}function s(l){return r.push(l),i.asObservable().pipe(k8e(c=>c===l))}function a(){for(;r.length>0&&e.length<n;)i.next(r.shift())}}const L$n=4;function $$n(n,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=i.metadata,s=i.storeOriginalFilename,{label:a,title:l,description:c,creditLine:u,source:f}=i;return U$n(r).pipe(vi(()=>Ke(null)),On(h=>h?N$n(n,"sanity.".concat(e,"Asset"),h):Ke(null)),On(h=>h?Ke({type:"complete",id:h._id,asset:h}):n.observable.assets.upload(e,r,{tag:"asset.upload",extract:o,preserveFilename:s,label:a,title:l,description:c,creditLine:u,source:f}).pipe(Me(m=>m.type==="response"?{type:"complete",id:m.body.document._id,asset:m.body.document}:m))))}const LQe=P$n($$n,L$n),M$n=(n,e,r)=>LQe(n,"image",e,r),F$n=(n,e,r)=>LQe(n,"file",e,r);function $Qe(n,e){return n.observePaths({_type:"reference",_ref:e},["originalFilename","url","metadata","label","title","description","creditLine","source","size"])}function MQe(n,e){return $Qe(n,e)}function FQe(n,e){return $Qe(n,e)}function N$n(n,e,r){return n.observable.fetch("*[_type == $documentType && sha1hash == $hash][0]",{documentType:e,hash:r},{tag:"asset.find-duplicate"})}function B$n(n){return new Un(e=>{const r=new FileReader;return r.onload=()=>{e.next(r.result),e.complete()},r.onerror=i=>{e.error(i)},r.readAsArrayBuffer(n),()=>{r.abort()}})}function U$n(n){return!window.crypto||!window.crypto.subtle||!window.FileReader?Ke(null):B$n(n).pipe(On(e=>crypto.subtle.digest("SHA-1",e)),Me(z$n))}function z$n(n){return Array.prototype.map.call(new Uint8Array(n),e=>"00".concat(e.toString(16)).slice(-2)).join("")}const Zf="_upload",V$n=un([Zf]);function tx(){return{type:"uploadProgress",patches:arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]}}const NQe=tx([V$n]);function BQe(n){const e=new Date().toISOString(),r={progress:2,createdAt:e,updatedAt:e,file:{name:n.name,type:n.type}};return tx([rn(r,[Zf])])}function UQe(n,e,r){const i=F$n(n,e,r).pipe(Me(o=>o.type==="complete"?tx([rn({_type:"reference",_ref:o.asset._id},["asset"]),rn(100,[Zf,"progress"]),rn(new Date().toISOString(),[Zf,"updated"])]):tx([rn(o.percent,[Zf,"progress"]),rn(new Date().toISOString(),[Zf,"updated"])])));return Go(Ke(BQe(e)),i,Ke(NQe))}function a_e(n){return[5,6,7,8].indexOf(n)>-1}function H$n(n,e){const r=e.x,i=e.y,o=(e.degrees||0)*(Math.PI/180);n==null||n.translate(r,i),n==null||n.rotate(o),n==null||n.translate(-r,-i)}function l_e(n,e,r){const i=n.getContext("2d");i==null||i.translate(e?n.width:0,r?n.height:0),i==null||i.scale(e?-1:1,r?-1:1)}const W$n=[{op:"none",degrees:0},{op:"flip-x",degrees:0},{op:"none",degrees:180},{op:"flip-y",degrees:0},{op:"flip-x",degrees:90},{op:"none",degrees:90},{op:"flip-x",degrees:-90},{op:"none",degrees:-90}],G$n=["top-left","top-right","bottom-right","bottom-left","left-top","right-top","right-bottom","left-bottom"],q$n="top-left",K$n=120;function Y$n(n,e){const r=W$n[e-1],i=n.height/n.width;n.width=K$n/i,n.height=n.width*i;const o=document.createElement("canvas"),s=o.getContext("2d");if(a_e(e)?(o.height=n.width,o.width=n.height):(o.width=n.width,o.height=n.height),r.op==="flip-x"&&l_e(o,!0,!1),r.op==="flip-y"&&l_e(o,!1,!0),r.degrees&&(H$n(s,{degrees:r.degrees,x:o.width/2,y:o.height/2}),a_e(e))){const a=o.width-o.height;s==null||s.translate(a/2,-a/2)}return s==null||s.drawImage(n,0,0,n.width,n.height),o}function Z$n(n,e){return new Un(r=>{const i=G$n.indexOf(e)+1,o=Y$n(n,i);r.next(o.toDataURL("image/jpeg",.1)),r.complete()})}function X$n(n,e){return new Un(r=>{const i=new window.FileReader;return i.onerror=o=>r.error(o),i.onload=()=>{r.next(i.result),r.complete()},i.readAsArrayBuffer(e===void 0?n:n.slice(0,e)),()=>i.abort()})}const Q$n=/(invalid image format)|(No exif data)/i,J$n=128e3;function eMn(n){return Gi(X$n(n,J$n)).pipe(Me(e=>Tkn(e)),vi(e=>(Q$n.test(e.message)||console.warn("Exif read failed, continuing anyway: ".concat(e.message)),Ke({}))))}function tMn(n){return new Un(e=>{const r=new window.Image;return r.onerror=()=>{e.error(new Error('Could not load image from url "'.concat(n,'". Image may be of an unsupported format')))},r.onload=()=>{e.next(r),e.complete()},r.src=n,()=>{}})}function nMn(n,e){return tMn(window.URL.createObjectURL(n)).pipe(On(r=>Z$n(r,e)))}function rMn(n,e,r){const i=M$n(n,e,r).pipe(Bn(s=>s.stage!=="download"),Me(s=>({...s,progress:2+s.percent/100*98})),Me(s=>s.type==="complete"?tx([rn({_type:"reference",_ref:s.asset._id},["asset"]),rn(100,[Zf,"progress"]),rn(new Date().toISOString(),[Zf,"updatedAt"])]):tx([rn(s.percent,[Zf,"progress"]),rn(new Date().toISOString(),[Zf,"updatedAt"])]))),o=eMn(e).pipe(On(s=>nMn(e,s.orientation||q$n)),vi(s=>(console.warn('Image preprocessing failed for "%s" with the error: %s',e.name,s.message),Ke(null))),Bn(Boolean),Me(s=>tx([rn(s,[Zf,"previewImage"])])));return Go(Ke(BQe(e)),ai(i,o),Ke(NQe))}const iMn={type:"image",accepts:"image/*",upload:(n,e,r,i)=>rMn(n,e,i)},oMn={type:"file",accepts:"",upload:(n,e,r,i)=>UQe(n,e,i)},sMn={type:"string",accepts:"text/*",upload:(n,e,r,i)=>UQe(n,e,i).pipe(Me(o=>({type:"uploadProgress",patches:[rn(o)]})))},aMn=[iMn,sMn,oMn].map((n,e)=>({...n,priority:e}));function Uie(n,e){return aMn.find(r=>{var i;return Ip(r.type,n)&&OY(e,r.accepts)&&OY(e,((i=n.options)==null?void 0:i.accept)||"")})||null}function lMn(n){const{onPathBlur:e,onPathFocus:r,onChange:i,onSetPathCollapsed:o,onSetFieldSetCollapsed:s,onPathOpen:a,onFieldGroupSelect:l}=Af(),{member:c,renderAnnotation:u,renderBlock:f,renderField:h,renderInlineBlock:m,renderInput:g,renderItem:v,renderPreview:y}=n,b=$N(),x=p.useRef(),_=p.useRef({});rc(c.field.focused,(ye,ve)=>{var _e;!ye&&ve&&((_e=x.current)==null||_e.focus())});const w=p.useCallback(ye=>{ye.currentTarget===ye.target&&ye.currentTarget===x.current&&r(c.field.path)},[c.field.path,r]),C=p.useCallback(ye=>{ye.currentTarget===ye.target&&ye.currentTarget===x.current&&e(c.field.path)},[c.field.path,e]),S=p.useRef(c.field.value);p.useEffect(()=>{S.current=c.field.value},[c.field.value]);const T=p.useCallback(ye=>{const ve=In.from(ye).patches;if(ve.some(ge=>ge.type==="unset"&&ge.path.length===1)&&(S.current=Nie(S.current||[],ve),Array.isArray(S.current)&&!S.current.length)){i(In.from(un([c.name])));return}i(In.from(ye).prepend(pl([])).prefixAll(c.name))},[i,c.name,S]),A=Eoe(),I=da(),D=p.useCallback(()=>{o(c.field.path,!0)},[o,c.field.path]),R=p.useCallback(()=>{o(c.field.path,!1)},[o,c.field.path]),P=p.useCallback(ye=>{o(c.field.path.concat({_key:ye}),!0)},[o,c.field.path]),O=p.useCallback(ye=>{o(c.field.path.concat({_key:ye}),!1)},[o,c.field.path]),$=p.useCallback(ye=>{a(ye),o(ye,!1)},[a,o]),L=p.useCallback(()=>{a(c.field.path),o(c.field.path,!0)},[a,c.field.path,o]),M=p.useCallback(ye=>{if(ye.items.length===0)throw new Error("Insert event should include at least one item");const ve=ye.items.map(Pe=>e$(Pe));T(In.from([L0(ve,ye.position,[ye.referenceItem])]));const _e=ve[0]._key,ge=[...c.field.path,{_key:_e}];r(ge);const pe=ye.open!==!1;ye.skipInitialValue?pe&&$(ge):AQe(ve,c.field.schemaType,A).pipe(Si(Pe=>{Pe.type==="patch"?T(Pe.patches):I.push({title:"Could not resolve initial value",description:"Unable to resolve initial value for type: ".concat(Pe.schemaType.title,": ").concat(Pe.error.message,"."),status:"error"})})).subscribe({complete:()=>{pe&&$(ge)}})},[T,$,c.field.path,c.field.schemaType,r,A,I]),N=p.useCallback(ye=>{const ve=c.field.value,_e=ve==null?void 0:ve[ye.fromIndex],ge=ve==null?void 0:ve[ye.toIndex];if(ye.fromIndex!==ye.toIndex){if(!(_e!=null&&_e._key)||!(ge!=null&&ge._key)){console.error("Neither the item you are moving nor the item you are moving to have a key. Cannot continue.");return}T([un([{_key:_e._key}]),L0([_e],ye.fromIndex>ye.toIndex?"before":"after",[{_key:ge._key}])])}},[T,c.field.value]),z=p.useCallback(ye=>{T([pl([]),L0([e$(ye)],"before",[0])])},[T]),B=p.useCallback(ye=>{T([pl([]),L0([e$(ye)],"after",[-1])])},[T]),H=p.useCallback(ye=>{_.current[ye]&&(_.current[ye].unsubscribe(),delete _.current[ye]),T([un([{_key:ye}])])},[T]),X=p.useCallback(ye=>{r(c.field.path.concat(ye))},[c.field.path,r]),G=p.useMemo(()=>({onBlur:C,onFocus:w,id:c.field.id,ref:x,"aria-describedby":Gy(c.field.id,c.field.schemaType.description)}),[C,w,c.field.id,c.field.schemaType.description]),ne=Jr(Dr),le=om(),K=le.__internal.image.directUploads,Q=le.__internal.file.directUploads,re=p.useCallback((ye,ve)=>Ip("image",ye)&&!K||Ip("file",ye)&&!Q?null:Uie(ye,ve),[Q,K]),se=p.useCallback(ye=>{let{file:ve,schemaType:_e,uploader:ge}=ye;const pe=t2(_e),Pe=pe._key;M({items:[pe],position:"after",referenceItem:-1,open:!1});const Re=ge.upload(ne,ve,_e).pipe(Me(Fe=>In.from(Fe.patches||[]).prefixAll({_key:Pe})),Si(Fe=>T(Fe.patches)));_.current={..._.current,[Pe]:Re.subscribe()}},[ne,T,M]),de=p.useMemo(()=>({level:c.field.level,members:c.field.members,value:c.field.value,readOnly:c.field.readOnly,schemaType:c.field.schemaType,changed:c.field.changed,id:c.field.id,onItemExpand:O,onItemCollapse:P,onItemClose:L,onItemOpen:$,focusPath:c.field.focusPath,focused:c.field.focused,path:c.field.path,onChange:T,onInsert:M,onItemMove:N,onItemRemove:H,onItemAppend:B,onItemPrepend:z,onPathFocus:X,resolveInitialValue:A,onUpload:se,resolveUploader:re,validation:c.field.validation,presence:c.field.presence,renderAnnotation:u,renderBlock:f,renderInlineBlock:m,renderInput:g,renderField:h,renderItem:v,renderPreview:y,elementProps:G}),[c.field.level,c.field.members,c.field.value,c.field.readOnly,c.field.schemaType,c.field.changed,c.field.id,c.field.focusPath,c.field.focused,c.field.path,c.field.validation,c.field.presence,O,P,L,$,T,M,N,H,B,z,X,A,se,re,u,f,m,g,h,v,y,G]),fe=p.useMemo(()=>g(de),[de,g]),we=p.useMemo(()=>({actions:b,name:c.name,index:c.index,level:c.field.level,value:c.field.value,title:c.field.schemaType.title,description:c.field.schemaType.description,collapsible:c.collapsible,collapsed:c.collapsed,changed:c.field.changed,onCollapse:D,onExpand:R,schemaType:c.field.schemaType,inputId:c.field.id,path:c.field.path,presence:c.field.presence,validation:c.field.validation,children:fe,inputProps:de}),[b,c.name,c.index,c.field.level,c.field.value,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.presence,c.field.validation,c.collapsible,c.collapsed,D,R,fe,de]);return d.jsx(qD,{onFieldGroupSelect:l,onChange:T,onSetFieldSetCollapsed:s,onSetPathCollapsed:o,onPathOpen:a,onPathBlur:e,onPathFocus:r,children:p.useMemo(()=>h(we),[we,h])})}function cMn(n,e){return new Un(r=>{const i=new FileReader;return i.onerror=o=>r.error(o),i.onload=()=>{r.next(i.result),r.complete()},i.readAsText(n,e),()=>{i.abort()}})}function uMn(n,e,r){const i=n.slice(),o=i[e];return i.splice(e,1),i.splice(r,0,o),i}function dMn(n,e,r){const i=e.slice();return i.splice(n+1,0,...r),i}function fMn(n){return/^\d+$/.test(n)}function hMn(n,e){let r=!1,i=!1,o=!1;return e.forEach(s=>{DI(s)&&(r=!0),D4e(s)&&(o=!0),dx(s)&&(i=!0)}),r&&(n==="true"||n==="false")?n==="true":i&&fMn(n)?Number(n):o?n:void 0}function pMn(n){return{priority:0,accepts:"text/*",type:"string",upload(e,r){return cMn(r,"utf-8").pipe(Me(i=>i==null?void 0:i.split(/[\n\r]/).map(o=>hMn(o,n)).filter(o=>o!==void 0)),Bn(i=>Array.isArray(i)),Me(i=>({type:"uploadProgress",patches:[L0(i,"after",[-1])]})))}}}function mMn(n){const{onPathBlur:e,onPathFocus:r,onChange:i,onPathOpen:o,onSetPathCollapsed:s,onSetFieldSetCollapsed:a,onFieldGroupSelect:l}=Af(),{member:c,renderAnnotation:u,renderBlock:f,renderField:h,renderInlineBlock:m,renderInput:g,renderItem:v,renderPreview:y}=n,b=$N(),x=p.useRef(),_=p.useRef(),w=Jr(Dr);rc(c.field.focused,(K,Q)=>{var re;!K&&Q&&((re=x.current)==null||re.focus())});const C=p.useCallback(K=>{K.currentTarget===K.target&&K.currentTarget===x.current&&r(c.field.path)},[c.field.path,r]),S=p.useCallback(K=>{K.currentTarget===K.target&&K.currentTarget===x.current&&e(c.field.path)},[c.field.path,e]),T=p.useCallback(K=>{const Q=In.from(K).patches;if(Q.some(se=>se.type==="unset"&&se.path.length===1)){const se=Nie(c.field.value||[],Q);if(Array.isArray(se)&&!se.length){i(In.from(un([c.name])));return}}i(In.from(K).prepend(pl([])).prefixAll(c.name))},[i,c.name,c.field.value]),A=p.useCallback(K=>{s(c.field.path,K)},[s,c.field.path]),I=p.useCallback(()=>{s(c.field.path,!0)},[s,c.field.path]),D=p.useCallback(()=>{s(c.field.path,!1)},[s,c.field.path]),R=p.useCallback(K=>{T(K.length===0?un():rn(K))},[T]),P=p.useCallback(K=>{const{value:Q=[]}=c.field;K.fromIndex!==K.toIndex&&R(uMn(Q,K.fromIndex,K.toIndex))},[c.field,R]),O=p.useCallback(K=>{const{value:Q=[]}=c.field;R(Q.concat(K))},[c.field,R]),$=p.useCallback(K=>{const{value:Q=[]}=c.field;R([K].concat(Q||[]))},[c.field,R]),L=p.useCallback(K=>{const{value:Q=[]}=c.field,re=K.referenceIndex+(K.position==="before"?-1:0);R(dMn(re,Q,K.items))},[c.field,R]),M=p.useCallback(K=>{T(un([K]))},[T]),N=p.useCallback(K=>{r(c.field.path.concat([K]))},[c.field.path,r]),z=p.useMemo(()=>({onBlur:S,onFocus:C,id:c.field.id,ref:x,"aria-describedby":Gy(c.field.id,c.field.schemaType.description)}),[S,C,c.field.id,c.field.schemaType.description]),B=p.useMemo(()=>pMn(c.field.schemaType.of),[c.field.schemaType.of]),H=p.useCallback((K,Q)=>OY(Q,"text/*")?B:null,[B]),X=p.useCallback(K=>{let{file:Q,schemaType:re,uploader:se}=K;const de=se.upload(w,Q,re).pipe(Me(fe=>In.from(fe.patches||[])),Si(fe=>T(fe.patches)));_.current&&_.current.unsubscribe(),_.current=de.subscribe()},[w,T]),G=p.useMemo(()=>({level:c.field.level,members:c.field.members,value:c.field.value,readOnly:c.field.readOnly,onSetCollapsed:A,schemaType:c.field.schemaType,changed:c.field.changed,id:c.field.id,elementProps:z,path:c.field.path,focusPath:c.field.focusPath,focused:c.field.focused,onChange:T,onInsert:L,onMoveItem:P,onItemRemove:M,onItemAppend:O,onItemPrepend:$,validation:c.field.validation,presence:c.field.presence,resolveUploader:H,onUpload:X,renderAnnotation:u,renderBlock:f,renderInlineBlock:m,renderInput:g,renderItem:v,onIndexFocus:N,renderPreview:y}),[c.field.level,c.field.members,c.field.value,c.field.readOnly,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.focusPath,c.field.focused,c.field.validation,c.field.presence,A,z,T,L,P,M,O,$,H,X,u,f,m,g,v,N,y]),ne=p.useMemo(()=>g(G),[G,g]),le=p.useMemo(()=>({actions:b,name:c.name,index:c.index,level:c.field.level,value:c.field.value,title:c.field.schemaType.title,description:c.field.schemaType.description,collapsible:c.collapsible,collapsed:c.collapsed,onExpand:D,changed:c.field.changed,onCollapse:I,schemaType:c.field.schemaType,inputId:c.field.id,path:c.field.path,presence:c.field.presence,validation:c.field.validation,children:ne,inputProps:G}),[b,c.name,c.index,c.field.level,c.field.value,c.field.schemaType,c.field.changed,c.field.id,c.field.path,c.field.presence,c.field.validation,c.collapsible,c.collapsed,D,I,ne,G]);return d.jsx(qD,{onFieldGroupSelect:l,onChange:T,onPathOpen:o,onSetFieldSetCollapsed:a,onSetPathCollapsed:s,onPathBlur:e,onPathFocus:r,children:p.useMemo(()=>h(le),[le,h])})}function zQe(n){return vf(n.field.schemaType)}function gMn(n){return cd(n.field.schemaType)&&n.field.schemaType.of.every(e=>R4e(e))}function zie(n){return cd(n.field.schemaType)&&n.field.schemaType.of.every(e=>vf(e))}const vMn=function(e){const{onPathBlur:r,onPathFocus:i,onChange:o,onPathOpen:s,onSetPathCollapsed:a,onSetFieldSetCollapsed:l,onFieldGroupSelect:c}=Af(),{member:u,renderAnnotation:f,renderBlock:h,renderField:m,renderInlineBlock:g,renderInput:v,renderItem:y,renderPreview:b}=e,x=$N(),_=p.useRef(),w=p.useRef(u.field.value);p.useEffect(()=>{w.current=u.field.value},[u.field.value]),rc(u.field.focused,(le,K)=>{var Q;!le&&K&&((Q=_.current)==null||Q.focus())});const C=p.useCallback(()=>{r(u.field.path)},[u.field.path,r]),S=p.useCallback(()=>{i(u.field.path)},[u.field.path,i]),T=p.useCallback(le=>{i(u.field.path.concat(le))},[u.field.path,i]),A=p.useCallback(le=>{if(!(u.field.path.length===0)){const Q=In.from(le).patches;if(w.current=Nie(w.current||{},Q),w.current&&wpn(w.current)){o(In.from(un([u.name])));return}}o(In.from(le).prepend(pl($ie(u.field.schemaType))).prefixAll(u.name))},[o,u,w]),I=p.useCallback(()=>{a(u.field.path,!0)},[a,u.field.path]),D=p.useCallback(()=>{a(u.field.path,!1)},[a,u.field.path]),R=p.useCallback(le=>{a(u.field.path.concat(le),!0)},[a,u.field.path]),P=p.useCallback(le=>{a(u.field.path.concat(le),!1)},[a,u.field.path]),O=p.useCallback(le=>{s(u.field.path.concat(le))},[s,u.field.path]),$=p.useCallback(()=>{s(u.field.path)},[s,u.field.path]),L=p.useCallback(le=>{l(u.field.path.concat(le),!1)},[l,u.field.path]),M=p.useCallback(le=>{l(u.field.path.concat(le),!0)},[l,u.field.path]),N=p.useCallback(()=>{s(u.field.path)},[s,u.field.path]),z=p.useCallback(()=>{s(u.field.path.slice(0,-1))},[s,u.field.path]),B=p.useCallback(le=>{c(u.field.path,le)},[c,u.field.path]),H=p.useMemo(()=>({onBlur:C,onFocus:S,id:u.field.id,ref:_,"aria-describedby":Gy(u.field.id,u.field.schemaType.description)}),[C,S,u.field.id,u.field.schemaType.description]),X=p.useMemo(()=>({elementProps:H,level:u.field.level,members:u.field.members,value:u.field.value,readOnly:u.field.readOnly,validation:u.field.validation,presence:u.field.presence,schemaType:u.field.schemaType,changed:u.field.changed,id:u.field.id,onFieldGroupSelect:B,onFieldOpen:O,onFieldClose:$,onFieldCollapse:R,onFieldExpand:P,onFieldSetExpand:L,onFieldSetCollapse:M,onPathFocus:T,path:u.field.path,focusPath:u.field.focusPath,focused:u.field.focused,groups:u.field.groups,onChange:A,renderAnnotation:f,renderBlock:h,renderField:m,renderInlineBlock:g,renderInput:v,renderItem:y,renderPreview:b}),[H,u.field.level,u.field.members,u.field.value,u.field.readOnly,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.field.focusPath,u.field.focused,u.field.groups,B,O,$,R,P,L,M,T,A,f,h,m,g,v,y,b]),G=p.useMemo(()=>v(X),[X,v]),ne=p.useMemo(()=>({actions:x,name:u.name,index:u.index,level:u.field.level,value:u.field.value,validation:u.field.validation,presence:u.field.presence,title:u.field.schemaType.title,description:u.field.schemaType.description,collapsible:u.collapsible,collapsed:u.collapsed,onCollapse:I,onExpand:D,open:u.open,changed:u.field.changed,onOpen:N,onClose:z,schemaType:u.field.schemaType,inputId:u.field.id,path:u.field.path,children:G,inputProps:X}),[x,u.name,u.index,u.field.level,u.field.value,u.field.validation,u.field.presence,u.field.schemaType,u.field.changed,u.field.id,u.field.path,u.collapsible,u.collapsed,u.open,I,D,N,z,G,X]);return d.jsx(qD,{onFieldGroupSelect:c,onChange:A,onSetFieldSetCollapsed:l,onPathOpen:s,onSetPathCollapsed:a,onPathBlur:r,onPathFocus:i,children:p.useMemo(()=>m(ne),[ne,m])})};function yMn(n){const{member:e,renderInput:r,renderField:i}=n,o=$N(),s=p.useRef(),[a,l]=p.useState(),{onPathBlur:c,onPathFocus:u,onChange:f}=Af();p.useEffect(()=>{var C;e.field.focused&&((C=s.current)==null||C.focus())},[e.field.focused]);const h=p.useCallback(()=>{c(e.field.path)},[e.field.path,c]),m=p.useCallback(()=>{u(e.field.path)},[e.field.path,u]),g=p.useCallback(C=>{f(In.from(C).prefixAll(e.name))},[f,e.name]),v=p.useCallback(C=>{let S=C.currentTarget.value;if(dx(e.field.schemaType)){if(S=C.currentTarget.valueAsNumber,S>Number.MAX_SAFE_INTEGER||S<Number.MIN_SAFE_INTEGER)return}else DI(e.field.schemaType)&&(S=C.currentTarget.checked);const T=S===""||typeof S=="number"&&isNaN(S);dx(e.field.schemaType)&&l(T?void 0:C.currentTarget.value),f(In.from(T?un():rn(S)).prefixAll(e.name))},[e.name,e.field.schemaType,f]),y=p.useMemo(()=>e.field.validation.filter(C=>C.level==="error").map(C=>C.message).join(`
`),[e.field.validation])||void 0,b=p.useMemo(()=>({onBlur:h,onFocus:m,id:e.field.id,ref:s,onChange:v,value:DQe(e.field.schemaType,e.field.value,a),readOnly:!!e.field.readOnly,placeholder:e.field.schemaType.placeholder,"aria-describedby":Gy(e.field.id,e.field.schemaType.description)}),[h,m,v,e.field.id,e.field.readOnly,e.field.schemaType,e.field.value,a]),x=p.useMemo(()=>({value:e.field.value,readOnly:e.field.readOnly,schemaType:e.field.schemaType,changed:e.field.changed,id:e.field.id,path:e.field.path,focused:e.field.focused,level:e.field.level,onChange:g,validation:e.field.validation,presence:e.field.presence,validationError:y,elementProps:b}),[e.field.value,e.field.readOnly,e.field.schemaType,e.field.changed,e.field.id,e.field.path,e.field.focused,e.field.level,e.field.validation,e.field.presence,g,y,b]),_=p.useMemo(()=>r(x),[x,r]),w=p.useMemo(()=>({actions:o,changed:e.field.changed,children:_,description:e.field.schemaType.description,index:e.index,inputId:e.field.id,inputProps:x,level:e.field.level,name:e.name,path:e.field.path,presence:e.field.presence,schemaType:e.field.schemaType,title:e.field.schemaType.title,validation:e.field.validation,value:e.field.value}),[o,e.field.level,e.field.value,e.field.schemaType,e.field.id,e.field.path,e.field.validation,e.field.presence,e.field.changed,e.name,e.index,_,x]);return d.jsx(d.Fragment,{children:i(w)})}const KD=p.memo(function(e){const{member:r,renderAnnotation:i,renderBlock:o,renderField:s,renderInlineBlock:a,renderInput:l,renderItem:c,renderPreview:u}=e;return zQe(r)?d.jsx(vMn,{member:r,renderAnnotation:i,renderBlock:o,renderField:s,renderInlineBlock:a,renderInput:l,renderItem:c,renderPreview:u}):gMn(r)?d.jsx(mMn,{member:r,renderAnnotation:i,renderBlock:o,renderField:s,renderInput:l,renderInlineBlock:a,renderItem:c,renderPreview:u}):zie(r)?d.jsx(lMn,{member:r,renderAnnotation:i,renderBlock:o,renderField:s,renderInlineBlock:a,renderInput:l,renderItem:c,renderPreview:u}):d.jsx(yMn,{member:r,renderField:s,renderInput:l})});var c_e=Object.freeze,bMn=Object.defineProperty,xMn=(n,e)=>c_e(bMn(n,"raw",{value:c_e(e||n.slice())})),u_e;const wMn={warning:"caution",error:"critical"},_Mn=F(te)(u_e||(u_e=xMn([`
  border-top: 1px solid var(--card-border-color);
`])));function sm(n){const{children:e,status:r="warning",suffix:i,title:o,...s}=n;return d.jsxs(ke,{radius:2,tone:wMn[r],...s,"data-ui":"Alert",children:[d.jsxs(oe,{padding:4,children:[d.jsx(te,{children:d.jsxs(J,{size:1,children:[r==="warning"&&d.jsx(as,{}),r==="error"&&d.jsx(Dc,{})]})}),d.jsxs(te,{flex:1,marginLeft:3,children:[d.jsx(J,{size:1,weight:"medium",children:o}),e&&d.jsx(te,{marginTop:3,children:e})]})]}),i&&d.jsx(_Mn,{children:i})]})}var d_e=Object.freeze,EMn=Object.defineProperty,MN=(n,e)=>d_e(EMn(n,"raw",{value:d_e(e||n.slice())})),f_e,h_e,p_e,m_e;const CMn=F.button(f_e||(f_e=MN([`
  display: block;
  -webkit-font-smoothing: inherit;
  appearance: none;
  font: inherit;
  background: none;
  width: 100%;
  text-align: left;
  border: 0;
  margin: 0;
  padding: 0;
  outline: none;
`]))),SMn=F(WI)(h_e||(h_e=MN([`
  transform: `,`;
`])),n=>n.open?"rotate(90deg)":""),kMn=F(oe)(p_e||(p_e=MN([`
  cursor: default;
`]))),TMn=F(te)(m_e||(m_e=MN([`
  & > div > svg {
    transform: rotate(0);
    transition: transform 100ms;
  }

  &[data-open] > div > svg {
    transform: rotate(90deg);
  }
`])));function pw(n){const{children:e,open:r,icon:i,title:o="Details",...s}=n,[a,l]=p.useState(r||!1),c=p.useCallback(()=>l(u=>!u),[]);return p.useEffect(()=>l(r||!1),[r]),d.jsxs(te,{...s,children:[d.jsx(CMn,{type:"button",onClick:c,children:d.jsx(kMn,{align:"center",children:d.jsxs(to,{children:[d.jsx(TMn,{"data-open":a?"":void 0,children:d.jsx(J,{size:1,children:d.jsx(SMn,{open:a})})}),i&&d.jsx(te,{marginLeft:1,children:i}),d.jsx(te,{flex:1,marginLeft:1,children:d.jsx(J,{size:1,weight:"medium",children:o})})]})})}),d.jsx(te,{hidden:!a,marginTop:3,children:e})]})}const VQe=["yes","true","1"],HQe=["false","no","false","0","null"],AMn=VQe.concat(HQe),MP=()=>!0,IMn=n=>e=>e&&e[n],DMn=n=>e=>(e&&e._type)===n;function RMn(n){const e=new Date(n.getTime()+n.getTimezoneOffset()*60*1e3),r=n.getTimezoneOffset()/60,i=n.getHours();return e.setHours(i-r),e}function OMn(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}return null}const zV={string:{number:{test:Number,convert:Number},boolean:{test:n=>AMn.includes(n.toLowerCase()),convert:n=>VQe.includes(n.toLowerCase())||!HQe.includes(n.toLowerCase())},richDate:{test:n=>gy(n),convert:n=>({_type:"richDate",local:RMn(new Date(n)).toJSON(),utc:new Date(n).toJSON(),timezone:OMn(),offset:new Date().getTimezoneOffset()})}},date:{richDate:{test:DMn("date"),convert:n=>Object.assign({},n,{_type:"richDate"})}},richDate:{datetime:{test:IMn("utc"),convert:n=>n.utc}},number:{string:{test:MP,convert:String},boolean:{test:MP,convert:Number}},boolean:{string:{test:MP,convert:n=>n?"Yes":"No"},number:{test:MP,convert:Number}}};function PMn(n){let{value:e,targetType:r,onChange:i}=n;const o=p.useMemo(()=>({...e,_type:r}),[r,e]),s=p.useCallback(()=>i(In.from(pl(r,["_type"])),o),[o,i,r]),{t:a}=me();return d.jsx(ze,{onClick:s,text:a("inputs.untyped-value.convert-button.text",{targetType:r})})}function jMn(n){let{value:e,onChange:r,validTypes:i}=n;const o=p.useMemo(()=>({...e,_type:i[0]}),[i,e]),s=p.useCallback(()=>r(In.from(un()),o),[o,r]),{t:a}=me();return d.jsx(ze,{onClick:s,tone:"critical",text:a("inputs.untyped-value.unset-item-button.text")})}function LMn(n){let{validTypes:e,value:r,onChange:i}=n;const o=Ar(),s=e.length===1,a=o.has(e[0]),{t:l}=me();return d.jsx(sm,{status:"warning",title:d.jsx(d.Fragment,{children:d.jsx(bn,{t:l,i18nKey:"inputs.untyped-value.title"})}),children:d.jsx(pw,{open:im,title:l("inputs.untyped-value.details.title"),children:d.jsxs(Se,{space:3,children:[d.jsx(J,{as:"p",muted:!0,size:1,children:d.jsx(bn,{t:l,i18nKey:"inputs.untyped-value.description"})}),s&&!a&&d.jsx(J,{as:"p",muted:!0,size:1,children:d.jsx(bn,{t:l,i18nKey:"inputs.untyped-value.details.description"})}),!s&&d.jsx(J,{as:"p",muted:!0,size:1,children:l("inputs.untyped-value.details.multi-type-description")}),!s&&d.jsx(Se,{as:"ul",space:2,children:e.map(c=>d.jsx(J,{as:"li",muted:!0,size:1,children:d.jsx("code",{children:c})},c))}),d.jsxs(Se,{space:2,children:[d.jsx(J,{as:"h4",weight:"medium",size:1,children:l("inputs.untyped-value.details.json-dump-prefix")}),d.jsx(ke,{border:!0,overflow:"auto",padding:2,radius:2,tone:"inherit",children:d.jsx(ia,{language:"json",children:JSON.stringify(r,null,2)})})]}),d.jsxs(eo,{columns:[1,2,2],gap:1,children:[s&&d.jsx(PMn,{onChange:i,targetType:e[0],value:r}),d.jsx(jMn,{onChange:i,validTypes:e,value:r})]})]})})})}function $Mn(n,e,r){return e in zV?Object.keys(zV[e]).filter(i=>r.includes(i)).map(i=>({from:e,to:i,...zV[e][i]})).filter(i=>i.test(n)):[]}const WQe=p.forwardRef((n,e)=>{const{value:r,actualType:i,validTypes:o,onChange:s}=n;p.useImperativeHandle(e,()=>({focus:()=>{}}));const a=p.useCallback(()=>{s(In.from(un()))},[s]),l=p.useCallback(h=>{s(In.from(rn(h)))},[s]),c=p.useMemo(()=>$Mn(r,i,o),[r,i,o]),{t:u}=me();if(io(r)&&!("_type"in r))return d.jsx(LMn,{value:r,validTypes:o,onChange:s});const f=d.jsx(Se,{padding:2,children:d.jsx(ze,{onClick:a,tone:"critical",text:u("inputs.invalid-value.reset-button.text")})});return d.jsxs(sm,{status:"error",suffix:f,title:u("inputs.invalid-value.title"),children:[d.jsx(J,{as:"p",muted:!0,size:1,children:u("inputs.invalid-value.description")}),d.jsx(pw,{marginTop:4,open:im,title:u("inputs.invalid-value.details.title"),children:d.jsxs(Se,{space:3,children:[o.length===1&&d.jsx(J,{as:"p",muted:!0,size:1,children:d.jsx(bn,{t:u,i18nKey:"inputs.invalid-value.details.description",values:{validType:o[0]}})}),o.length===1&&d.jsx(J,{as:"p",muted:!0,size:1,children:u("inputs.invalid-value.details.possible-reason")}),o.length!==1&&d.jsx(J,{as:"p",muted:!0,size:1,children:u("inputs.invalid-value.details.multi-type-description")}),o.length!==1&&d.jsx(Se,{as:"ul",space:2,children:o.map(h=>d.jsx(J,{as:"li",children:d.jsx("code",{children:h})},h))}),d.jsxs(Se,{marginTop:2,space:2,children:[d.jsx(J,{size:1,weight:"medium",children:d.jsx(bn,{t:u,i18nKey:"inputs.invalid-value.current-type",values:{actualType:i}})}),d.jsx(ke,{border:!0,padding:2,radius:2,tone:"inherit",children:d.jsx(ia,{language:"json",size:1,children:JSON.stringify(r,null,2)})})]}),c.length>0&&d.jsx(Se,{space:1,children:c.map(h=>d.jsx(MMn,{converter:h,onConvert:l,value:r},"".concat(h.from,"-").concat(h.to)))})]})})]})});WQe.displayName="InvalidValueInput";function MMn(n){let{converter:e,onConvert:r,value:i}=n;const o=p.useCallback(()=>r(e.convert(i)),[e,r,i]),{t:s}=me();return d.jsx(ze,{onClick:o,text:s("inputs.invalid-value.convert-button.text",{targetType:e.to})})}function FMn(n){const{error:e,onChange:r}=n,i=p.useCallback(()=>{r(In.from((e.duplicates||[]).map(s=>{let[a,l]=s;return rn("".concat(l,"_deduped_").concat(a),[a,"_key"])})))},[e.duplicates,r]),{t:o}=me();return d.jsx(e2,{title:e.schemaType.title,description:e.schemaType.description,children:d.jsxs(sm,{status:"warning",suffix:d.jsx(Se,{padding:2,children:d.jsx(ze,{onClick:i,text:o("form.error.duplicate-keys-alert.generate-button.text"),tone:"caution"})}),title:o("form.error.duplicate-keys-alert.title"),children:[d.jsx(J,{as:"p",muted:!0,size:1,children:o("form.error.duplicate-keys-alert.summary")}),d.jsx(pw,{marginTop:4,open:im,title:o("form.error.duplicate-keys-alert.details.title"),children:d.jsxs(Se,{space:3,children:[d.jsx(J,{as:"p",muted:!0,size:1,children:d.jsx(bn,{t:o,i18nKey:"form.error.duplicate-keys-alert.details.description"})}),d.jsx(J,{as:"p",muted:!0,size:1,children:d.jsx(bn,{t:o,i18nKey:"form.error.duplicate-keys-alert.details.additional-description"})})]})})]})})}function NMn(n){const{error:e,onChange:r}=n,i=p.useCallback(()=>{r(In.from((e.value||[]).map((s,a)=>pl(_D(),[a,"_key"]))))},[e.value,r]),{t:o}=me();return d.jsx(e2,{title:e.schemaType.title,description:e.schemaType.description,children:d.jsxs(sm,{status:"warning",suffix:d.jsx(Se,{padding:2,children:d.jsx(ze,{onClick:i,text:o("form.error.missing-keys-alert.add-button.text"),tone:"caution"})}),title:o("form.error.missing-keys-alert.title"),children:[d.jsx(J,{as:"p",muted:!0,size:1,children:o("form.error.missing-keys-alert.summary")}),d.jsx(pw,{marginTop:4,open:im,title:o("form.error.missing-keys-alert.details.title"),children:d.jsxs(Se,{space:3,children:[d.jsx(J,{as:"p",muted:!0,size:1,children:d.jsx(bn,{t:o,i18nKey:"form.error.missing-keys-alert.details.description"})}),d.jsx(J,{as:"p",muted:!0,size:1,children:d.jsx(bn,{t:o,i18nKey:"form.error.missing-keys-alert.details.additional-description"})})]})})]})})}function BMn(n){const{error:e,onChange:r}=n,i=()=>{const a=(e.value||[]).flatMap((l,c)=>io(l)?[]:[c]).reverse().map(l=>un([l]));r(In.from(a))},{t:o}=me();return d.jsx(e2,{title:e.schemaType.title,description:e.schemaType.description,children:d.jsxs(sm,{status:"error",suffix:d.jsx(Se,{padding:2,children:d.jsx(ze,{onClick:i,text:o("form.error.mixed-array-alert.remove-button.text"),tone:"critical"})}),title:o("form.error.mixed-array-alert.title"),children:[d.jsx(J,{as:"p",muted:!0,size:1,children:o("form.error.mixed-array-alert.summary")}),d.jsx(pw,{marginTop:4,open:im,title:o("form.error.mixed-array-alert.details.title"),children:d.jsx(Se,{space:3,children:d.jsx(J,{as:"p",muted:!0,size:1,children:o("form.error.mixed-array-alert.details.description")})})})]})})}function FN(n){const{member:e}=n,{onChange:r}=Af(),i=p.useCallback(s=>{r(In.from(s).prefixAll(e.fieldName))},[r,e.fieldName]),{t:o}=me();return e.error.type==="INCOMPATIBLE_TYPE"?d.jsx(WQe,{value:e.error.value,onChange:i,actualType:e.error.resolvedValueType,validTypes:[e.error.expectedSchemaType.name]}):e.error.type==="MISSING_KEYS"?d.jsx(NMn,{error:e.error,onChange:i}):e.error.type==="DUPLICATE_KEYS"?d.jsx(FMn,{error:e.error,onChange:i}):e.error.type==="MIXED_ARRAY"?d.jsx(BMn,{onChange:i,error:e.error}):d.jsx(te,{children:o("member-field-error.unexpected-error",{error:n.member.error.type})})}const Vie=p.memo(function(e){var r;const{member:i,renderAnnotation:o,renderBlock:s,renderField:a,renderInlineBlock:l,renderInput:c,renderItem:u,renderPreview:f}=e,{onSetFieldSetCollapsed:h}=Af(),m=p.useCallback(()=>{h(i.fieldSet.path,!0)},[i.fieldSet.path,h]),g=p.useCallback(()=>{h(i.fieldSet.path,!1)},[i.fieldSet.path,h]);return d.jsx(LN,{title:i.fieldSet.title||iw(i.fieldSet.name),description:i.fieldSet.description,level:i.fieldSet.level,collapsible:i.fieldSet.collapsible,collapsed:i.fieldSet.collapsed,onCollapse:m,onExpand:g,columns:(r=i==null?void 0:i.fieldSet)==null?void 0:r.columns,"data-testid":"fieldset-".concat(i.fieldSet.name),inputId:i.fieldSet.name,children:i.fieldSet.members.map(v=>v.kind==="error"?d.jsx(FN,{member:v},i.key):d.jsx(KD,{member:v,renderAnnotation:o,renderBlock:s,renderField:a,renderInlineBlock:l,renderInput:c,renderItem:u,renderPreview:f},v.key))})}),UMn=p.memo(function(e){const{member:r,renderAnnotation:i,renderBlock:o,renderInput:s,renderInlineBlock:a,renderField:l,renderItem:c,renderPreview:u}=e;return r.kind==="field"?d.jsx(KD,{member:r,renderAnnotation:i,renderBlock:o,renderInlineBlock:a,renderInput:s,renderField:l,renderItem:c,renderPreview:u},r.key):r.kind==="error"?d.jsx(FN,{member:r},r.key):r.kind==="fieldSet"?d.jsx(Vie,{member:r,renderAnnotation:i,renderBlock:o,renderInlineBlock:a,renderInput:s,renderField:l,renderItem:c,renderPreview:u},r.key):(console.warn(new Error("Unhandled member kind ".concat(r.kind))),null)});function zMn(n){const{members:e,renderAnnotation:r,renderBlock:i,renderInput:o,renderInlineBlock:s,renderField:a,renderItem:l,renderPreview:c}=n,u=p.useMemo(()=>e.map(f=>d.jsx(UMn,{member:f,renderAnnotation:r,renderBlock:i,renderField:a,renderInlineBlock:s,renderInput:o,renderItem:l,renderPreview:c},f.key)),[e,r,i,a,s,o,l,c]);return d.jsx(d.Fragment,{children:u})}function g_e(n){return vf(n.schemaType)}function v_e(n){return cd(n.schemaType)}const Rk=n=>{let{children:e}=n;return e};function VMn(n){return"absolutePath"in n}const GQe=p.memo(function(e){const r=p.useMemo(()=>VMn(e)?e.absolutePath:e.path.concat(e.relativePath),[e]),i=p.useCallback(()=>d.jsx(d.Fragment,{children:"Missing destination render function"}),[]);return d.jsx(HMn,{...e,absolutePath:r,destinationRenderAnnotation:e.renderAnnotation||i,destinationRenderBlock:e.renderBlock||i,destinationRenderField:e.renderField,destinationRenderInlineBlock:e.renderInlineBlock||i,destinationRenderInput:e.renderInput,destinationRenderItem:e.renderItem,destinationRenderPreview:e.renderPreview})}),HMn=p.memo(function n(e){const{absolutePath:r,destinationRenderAnnotation:i,destinationRenderBlock:o,destinationRenderField:s,destinationRenderInlineBlock:a,destinationRenderInput:l,destinationRenderItem:c,destinationRenderPreview:u}=e,{t:f}=me(),h=p.useCallback(x=>{if(Ui(x.path,r)||Hl(r,x.path))return l(x);if(!g_e(x)&&!v_e(x))throw new Error("Expected either object input props or array input props for: ".concat(JSON.stringify(x.path)));return d.jsx(n,{...x,absolutePath:r,destinationRenderAnnotation:i,destinationRenderBlock:o,destinationRenderInput:l,destinationRenderItem:c,destinationRenderField:s,destinationRenderInlineBlock:a,destinationRenderPreview:u})},[r,i,o,s,a,l,c,u]),m=p.useCallback(x=>Hl(r,x.path)&&(e.includeField||!Ui(r,x.path))?s(x):Rk(x),[r,s,e.includeField]),g=p.useCallback(x=>Hl(r,x.path)&&(e.includeItem||!Ui(r,x.path))?c(x):Rk(x),[r,c,e.includeItem]),v=p.useCallback(x=>Hl(r,x.path)&&(e.includeItem||!Ui(r,x.path))?o(x):Rk(x),[r,o,e.includeItem]),y=p.useCallback(x=>Hl(r,x.path)&&(e.includeItem||!Ui(r,x.path))?a(x):Rk(x),[r,a,e.includeItem]),b=p.useCallback(x=>Hl(r,x.path)&&(e.includeItem||!Ui(r,x.path))?i(x):Rk(x),[r,i,e.includeItem]);if(v_e(e)){const x=rA(e.path,r),_=e.members.find(w=>w.kind=="item"&&ji(x[0])&&w.key===x[0]._key);if(!_){const w=Oi(e.path),C=rA(e.path,r);if(ji(C[0])){const T=C[0]._key;return d.jsx("div",{children:d.jsx(bn,{t:f,i18nKey:"form.error.no-array-item-at-key",values:{key:T,path:w}})})}const S=Qu(C[0])?C[0]:C[0][0];return d.jsx("div",{children:d.jsx(bn,{t:f,i18nKey:"form.error.no-array-item-at-index",values:{index:S,path:w}})})}return _.kind==="error"?d.jsx(b$n,{member:_}):d.jsx(Mie,{member:_,renderAnnotation:b,renderBlock:v,renderInput:h,renderField:m,renderInlineBlock:y,renderItem:g,renderPreview:u})}if(g_e(e)){const x=rA(e.path,r),_=e.members.find(w=>w.kind=="field"&&x[0]===w.name);if(!_){const w=typeof x[0]=="string"?x[0]:JSON.stringify(x[0]);return d.jsx("div",{children:f("form.error.field-not-found",{fieldName:w})})}return d.jsx(KD,{member:_,renderAnnotation:b,renderBlock:v,renderInput:h,renderInlineBlock:y,renderField:m,renderItem:g,renderPreview:u})}throw new Error("FormInput can only be used with arrays or objects")}),Hie=p.createContext([]);function WMn(n){return d.jsx(Hie.Provider,{value:n.memberItems,children:n.children})}function NN(n){const e=p.useContext(Hie);if(!e)throw new Error("Form context not provided");return e.find(r=>r.key===n)}function GMn(){const n=p.useContext(Hie);if(!n)throw new Error("Form context not provided");return n}function qMn(n){const e=p.useRef([]);return KMn({props:n,ref:e}),e.current}const KMn=n=>{let{props:e,ref:r}=n;var i;const o=[],{members:s,path:a,schemaType:l,renderAnnotation:c,renderField:u,renderBlock:f,renderInput:h,renderItem:m,renderInlineBlock:g,renderPreview:v}=e;for(const b of s)if(b.kind==="item")if(!kN(b.item.schemaType))o.push({kind:"objectBlock",member:b,node:b.item});else{(b.item.validation.length>0||b.item.changed||(i=b.item.presence)!=null&&i.length||b.open||b.item.focusPath.length)&&o.push({kind:"textBlock",member:b,node:b.item});const _=b.item.members.find(C=>C.kind==="field"&&C.name==="children");if(_&&_.kind==="field"&&zie(_))for(const C of _.field.members)C.kind==="item"&&C.item.schemaType.name!=="span"&&o.push({kind:"inlineObject",member:C,node:C.item});const w=b.item.members.filter(JDn).find(C=>C.name==="markDefs");if(w)for(const C of w.field.members)C.kind==="item"&&C.item.schemaType.jsonType==="object"&&o.push({kind:"annotation",member:C,node:C.item})}const y=o.map(b=>{const x=Oi(b.node.path),_=r.current.find(S=>S.key===x),w=b.kind!=="textBlock";let C=null;if(w&&b.member!==(_==null?void 0:_.member)||b.node!==(_==null?void 0:_.node)){const S={absolutePath:Fp(b.node.path),includeField:!1,members:s,path:Fp(a),renderAnnotation:c,renderBlock:f,renderField:u,renderInlineBlock:g,renderInput:h,renderItem:m,renderPreview:v,schemaType:l};C=d.jsx(GQe,{...S})}return _?(_.member=b.member,_.node=b.node,_.input=C||_.input,_):{kind:b.kind,key:x,member:b.member,node:b.node,elementRef:p.createRef(),input:C}});return r.current=y,y};var y_e=Object.freeze,YMn=Object.defineProperty,qQe=(n,e)=>y_e(YMn(n,"raw",{value:y_e(e||n.slice())})),b_e,x_e;const ZMn=F.span(n=>{var e,r,i,o;const{$toneKey:s="default",theme:a}=n;return Ae(b_e||(b_e=qQe([`
      text-decoration: none;
      display: inline;
      background-color: `,`;
      border-bottom: 1px dashed `,`;
      color: `,`;

      &[data-link] {
        border-bottom: 1px solid `,`;
      }

      &[data-custom-markers] {
        background-color: `,`;
      }

      &[data-warning] {
        background-color: `,`;
      }

      &[data-error] {
        background-color: `,`;
      }
    `])),(e=a.sanity.color.selectable)==null?void 0:e[s].enabled.bg,(r=a.sanity.color.selectable)==null?void 0:r[s].enabled.fg,(i=a.sanity.color.selectable)==null?void 0:i[s].enabled.fg,(o=a.sanity.color.selectable)==null?void 0:o[s].enabled.fg,a.sanity.color.dark?Kt.purple[950].hex:Kt.purple[50].hex,a.sanity.color.muted.caution.hovered.bg,a.sanity.color.muted.critical.hovered.bg)}),XMn=F(te).attrs({forwardedAs:"span"})(x_e||(x_e=qQe([`
  max-width: 250px;
`]))),QMn=["top","bottom"];function JMn(n){const{annotationOpen:e,floatingBoundary:r,onOpen:i,onRemove:o,referenceBoundary:s,referenceElement:a,selected:l,title:c}=n,[u,f]=p.useState(!1),[h,m]=p.useState(!1),[g,v]=p.useState(null),y=p.useRef(null),{sanity:b}=lD(),{t:x}=me(),_=p.useRef(null),w=b.color.dark?"light":"dark",C=p.useCallback(R=>{f(R),R?p.startTransition(()=>{m(R)}):m(R)},[]),S=p.useMemo(()=>g?{getBoundingClientRect:()=>g}:null,[g]);wu(p.useCallback(R=>{h&&R.key==="Escape"&&C(!1)},[C,h]));const T=p.useCallback(()=>{if(e){C(!1),v(null);return}const R=window.getSelection();if(!R||R.rangeCount===0)return;const P=R.getRangeAt(0);if(!(a==null?void 0:a.contains(P.commonAncestorContainer))){C(!1),v(null);return}const $=P==null?void 0:P.getBoundingClientRect();$&&(v($),C(!0))},[e,a,C]);p.useEffect(()=>(document.addEventListener("selectionchange",T,{passive:!0}),()=>{document.removeEventListener("selectionchange",T)}),[T]);const A=p.useCallback(()=>{C(!1),i()},[i,C]);p.useEffect(()=>{!e&&l&&g&&C(!0),e&&C(!1)},[e,l,g,C]);const I=p.useCallback(()=>{C(!1),o()},[o,C]),D=p.useCallback(()=>{y.current&&v(y.current.getBoundingClientRect())},[]);return p.useEffect(()=>{const R=window.getSelection();R&&R.rangeCount>0&&(y.current=R.getRangeAt(0))},[h]),p.useEffect(()=>{if(h&&s)return s.addEventListener("scroll",D),()=>s.removeEventListener("scroll",D);if(h)return s==null||s.addEventListener("scroll",D),()=>{s==null||s.removeEventListener("scroll",D)}},[h,s,D]),u?d.jsx(Ai,{open:h,floatingBoundary:r,constrainSize:!0,content:d.jsx(te,{padding:1,"data-testid":"annotation-toolbar-popover",children:d.jsxs(oe,{gap:1,children:[d.jsx(te,{padding:2,children:d.jsx(J,{weight:"medium",size:1,children:c})}),d.jsx(ze,{"aria-label":x("inputs.portable-text.action.edit-annotation-aria-label"),icon:df,mode:"bleed",onClick:A,tabIndex:0,tooltipProps:null}),d.jsx(ze,{"aria-label":x("inputs.portable-text.action.remove-annotation-aria-label"),icon:vs,mode:"bleed",onClick:I,tabIndex:0,tone:"critical",tooltipProps:null})]})}),fallbackPlacements:QMn,placement:"top",portal:!0,preventOverflow:!0,ref:_,referenceBoundary:s,referenceElement:S,scheme:w}):null}const KQe=n=>Array.isArray(n)?n.flatMap(KQe):typeof n=="number"?[n]:n==="auto"?["auto"]:[],e3n=n=>n==="dialog"||n==="popover"?n:void 0;function t3n(n){var e;const r=(e=n.options)==null?void 0:e.modal;return typeof r=="object"&&r!==null?{type:e3n(r.type),width:KQe(r.width)}:void 0}const YQe=p.createContext(null);function n3n(){const n=p.useContext(YQe);if(!n)throw new Error("VirtualizerScrollInstance: missing context value");return n}function nI(n){const{scrollElement:e,containerElement:r}=n;return d.jsx(YQe.Provider,{value:{scrollElement:e,containerElement:r},children:n.children})}function r3n(n){const{onClose:e,children:r,title:i,width:o=1,autoFocus:s}=n,a=p.useId(),[l,c]=p.useState(null),u=p.useRef(null);return d.jsx(ja,{header:i,id:a,onClickOutside:e,onClose:e,portal:"default",width:o,contentRef:c,"data-testid":"default-edit-object-dialog",__unstable_autoFocus:s,children:d.jsx(WD,{margins:[0,0,1,0],children:d.jsx(nI,{scrollElement:l,containerElement:u,children:d.jsx(te,{ref:u,children:r})})})})}var w_e=Object.freeze,i3n=Object.defineProperty,Wie=(n,e)=>w_e(i3n(n,"raw",{value:w_e(e||n.slice())})),__e,E_e,C_e;const o3n=F(Ai)(__e||(__e=Wie([`
  & > div {
    overflow: hidden;
    overflow: clip;
  }
`]))),s3n=F(te)(E_e||(E_e=Wie([`
  /* Prevent overflow caused by change indicator */
  overflow-x: hidden;
  overflow-y: auto;
`]))),a3n=F(te)(C_e||(C_e=Wie([`
  box-shadow: 0 1px 0 var(--card-shadow-outline-color);
  position: relative;
  z-index: 10;
  min-height: auto;
`]))),l3n=["top","bottom"];function c3n(n){const{floatingBoundary:e,referenceBoundary:r,referenceElement:i,width:o=0}=n,[s,a]=p.useState(!1);return p.useEffect(()=>{a(!0)},[]),d.jsx(o3n,{content:d.jsx(u3n,{...n}),constrainSize:!0,"data-testid":"popover-edit-dialog","data-ui":"PopoverEditDialog",fallbackPlacements:l3n,floatingBoundary:e,open:s,overflow:"auto",placement:"bottom",portal:"default",preventOverflow:!0,referenceBoundary:r,referenceElement:i,width:o})}function u3n(n){const{onClose:e,referenceBoundary:r,referenceElement:i,title:o,autoFocus:s}=n;wu(p.useCallback(u=>{u.key==="Escape"&&e()},[e])),ki(e,i?[i]:[],r);const[a,l]=p.useState(null),c=p.useRef(null);return d.jsx(nI,{scrollElement:a,containerElement:c,children:d.jsxs(oe,{ref:c,direction:"column",height:"fill",children:[d.jsx(a3n,{flex:"none",padding:1,children:d.jsxs(oe,{align:"center",children:[d.jsx(te,{flex:1,padding:2,children:d.jsx(J,{weight:"medium",children:o})}),d.jsx(ze,{autoFocus:!!s,icon:Is,mode:"bleed",onClick:e,tooltipProps:{content:"Close"}})]})}),d.jsx(s3n,{flex:1,children:d.jsx(WD,{margins:[0,0,1,0],children:d.jsx(te,{padding:3,ref:l,children:n.children})})})]})})}function Gie(n){const{autoFocus:e,defaultType:r,floatingBoundary:i,onClose:o,referenceBoundary:s,referenceElement:a,schemaType:l}=n,{t:c}=me(),u=p.useMemo(()=>t3n(l),[l]),f=(u==null?void 0:u.type)||r,h=l.i18nTitleKey?c(l.i18nTitleKey):l.title||l.name,m=c("inputs.portable-text.annotation-editor.title",{schemaType:h}),g=p.useCallback(()=>{o()},[o]),v=(u==null?void 0:u.width)||1;return f==="popover"?d.jsx(c3n,{autoFocus:e,floatingBoundary:i,onClose:g,referenceBoundary:s,referenceElement:a,title:d.jsx(d.Fragment,{children:m}),width:v,children:n.children}):d.jsx(r3n,{onClose:g,title:m,width:v,autoFocus:e,children:n.children})}function d3n(n){var e;const{children:r,editorNodeFocused:i,floatingBoundary:o,focused:s,onItemClose:a,onItemOpen:l,onPathFocus:c,path:u,readOnly:f,referenceBoundary:h,renderAnnotation:m,renderBlock:g,renderCustomMarkers:v,renderField:y,renderInlineBlock:b,renderInput:x,renderItem:_,renderPreview:w,schemaType:C,selected:S,value:T}=n,{Markers:A=lQe}=om().__internal.components,I=fa(),D=p.useMemo(()=>u.slice(0,u.length-2).concat(["markDefs",{_key:T._key}]),[u,T._key]),[R,P]=p.useState(null),O=p.useMemo(()=>u.slice(u.length-3,u.length),[u]),$=NN(Oi(D)),{validation:L}=ON($==null?void 0:$.node),M=PN(u),N=p.useMemo(()=>d.jsx("span",{"data-annotation":"",children:r}),[r]),z=p.useCallback(()=>{$&&(ut.blur(I),c($.node.focusPath),l($.node.path))},[I,$,l,c]),B=p.useCallback(()=>{a();const we=ut.getSelection(I),ye=(we==null?void 0:we.focus.path)&&Ui(we.focus.path,O)&&we.focus.offset,ve=(we==null?void 0:we.anchor.path)&&Ui(we.anchor.path,O)&&we.anchor.offset;ut.select(I,{anchor:{path:O,offset:ve||0},focus:{path:O,offset:ye||0}}),ut.focus(I)},[I,O,a]),H=p.useCallback(()=>{ut.removeAnnotation(I,C),ut.focus(I)},[I,C]),X=p.useMemo(()=>L.length>0||M.length>0?d.jsx(zn,{placement:"bottom",portal:"default",content:d.jsx(XMn,{children:d.jsx(A,{markers:M,renderCustomMarkers:v,validation:L})}),children:N}):void 0,[A,M,v,N,L]),G=QS(u,!0),ne=p.useMemo(()=>G.filter(we=>Ui(we.path,u)),[u,G]),le=!!($!=null&&$.member.open),K=$==null?void 0:$.input,Q=($==null?void 0:$.node.path)||ri,re=R,se=p.useMemo(()=>({__unstable_floatingBoundary:o,__unstable_referenceBoundary:h,__unstable_referenceElement:re,__unstable_textElementFocus:i,children:K,focused:s,markers:M,onClose:B,onOpen:z,onPathFocus:c,onRemove:H,open:le,parentSchemaType:I.schemaTypes.block,path:Q,presence:ne,readOnly:!!f,renderAnnotation:m,renderBlock:g,renderField:y,renderInlineBlock:b,renderInput:x,renderPreview:w,renderItem:_,renderDefault:PY,schemaType:C,selected:S,textElement:X||N,validation:L,value:T}),[I.schemaTypes.block,i,o,s,K,le,M,X,Q,B,z,c,H,f,h,re,m,g,y,b,x,_,w,ne,C,S,N,L,T]),de=(e=C.components)==null?void 0:e.annotation,fe=p.useCallback(we=>{$!=null&&$.elementRef&&($.elementRef.current=we),P(we)},[$]);return p.useMemo(()=>d.jsx("span",{ref:fe,style:void 0,children:de?d.jsx(de,{...se}):d.jsx(PY,{...se})}),[de,se,fe])}const PY=n=>{const{__unstable_floatingBoundary:e,__unstable_referenceBoundary:r,__unstable_referenceElement:i,children:o,focused:s,markers:a,onClose:l,onOpen:c,onRemove:u,open:f,readOnly:h,selected:m,schemaType:g,textElement:v,validation:y}=n,b=g.name==="link",x=y.some(T=>T.level==="error"),_=y.some(T=>T.level==="warning"),w=a.length>0,{t:C}=me(),S=p.useMemo(()=>x?"critical":_?"caution":b?"primary":"default",[b,x,_]);return d.jsxs(ZMn,{$toneKey:S,"aria-label":C("inputs.portable-text.annotation-aria-label"),"data-link":b?"":void 0,"data-error":x?"":void 0,"data-warning":_?"":void 0,"data-markers":w||void 0,onClick:h?c:void 0,children:[v,d.jsx(JMn,{annotationOpen:f,floatingBoundary:e,onOpen:c,onRemove:u,referenceBoundary:r,referenceElement:i,selected:m,title:g.i18nTitleKey?C(g.i18nTitleKey):g.title||g.name}),f&&d.jsx(Gie,{defaultType:"popover",floatingBoundary:e,onClose:l,autoFocus:s,referenceBoundary:r,referenceElement:i,schemaType:g,children:o})]})},ZQe=p.createContext({});function XQe(){return p.useContext(ZQe)}function f3n(n){const{children:e,activePath:r,EditReferenceLinkComponent:i,onEditReference:o,initialValueTemplateItems:s}=n,a=p.useMemo(()=>({activePath:r,EditReferenceLinkComponent:i,onEditReference:o,initialValueTemplateItems:s}),[r,i,o,s]);return d.jsx(ZQe.Provider,{value:a,children:e})}p.createContext(null);const QQe=p.createContext(null);function h3n(n){const e=p.useMemo(()=>({id:n.id}),[n.id]);return d.jsx(QQe.Provider,{value:e,children:n.children})}function p3n(){const n=p.useContext(QQe);if(!n)throw new Error("useDocumentId must be used within a DocumentIdProvider");return n.id}function BN(){return di(p3n())}function UN(n,e){return rc(e,p.useCallback((r,i)=>{n.current&&!r&&i&&Ox(n.current,{scrollMode:"always"})},[n]))}var S_e=Object.freeze,m3n=Object.defineProperty,g3n=(n,e)=>S_e(m3n(n,"raw",{value:S_e(e||n.slice())})),k_e;const v3n=F(J)(k_e||(k_e=g3n([`
  &[data-status='edited'] {
    --card-icon-color: var(--card-badge-caution-dot-color);
  }
  &[data-status='unpublished'] {
    --card-icon-color: var(--card-badge-default-dot-color);
    opacity: 0.5 !important;
  }
`])));function zN(n){let{draft:e,published:r}=n;const i=!!e,o=!!r,s=p.useMemo(()=>i&&!o?"unpublished":"edited",[i,o]);return!i&&!o||!i&&o?null:d.jsx(v3n,{"data-status":s,size:1,children:d.jsx(YNe,{})})}function JQe(n){var e,r;const{id:i,layout:o,preview:s,refType:a,renderPreview:l,showTypeLabel:c}=n,u=yw(i),f=((e=s.draft)==null?void 0:e._id)||((r=s.published)==null?void 0:r._id)||i,h=p.useMemo(()=>({_id:f,_type:a.name}),[f,a.name]),{draft:m,published:g}=s,v=p.useMemo(()=>({children:d.jsx(te,{paddingLeft:3,children:d.jsxs(to,{space:3,children:[c&&d.jsx(_u,{mode:"outline",children:a.title}),u&&u.length>0&&d.jsx(jN,{presence:u}),d.jsx(zN,{draft:s.draft,published:s.published})]})}),layout:o,schemaType:a,tooltip:d.jsx(aI,{draft:m,published:g}),value:h}),[u,m,o,s.draft,s.published,h,g,a,c]);return l(v)}function eJe(n){var e,r,i,o,s,a;const{layout:l="default",referenceInfo:c,renderPreview:u,type:f,value:h,showTypeLabel:m}=n,{t:g}=me();if(c.isLoading||c.error)return d.jsx(am,{isPlaceholder:!0,layout:l});if(((e=c.result)==null?void 0:e.availability.reason)==="NOT_FOUND"&&h._strengthenOnPublish){const w=f.to.find(S=>{var T;return S.name===((T=h==null?void 0:h._strengthenOnPublish)==null?void 0:T.type)});if(!w)return d.jsx(A_e,{documentId:h._ref,actualType:(r=h._strengthenOnPublish)==null?void 0:r.type,declaredTypes:f.to.map(S=>S.name)});const C=(i=h._strengthenOnPublish)!=null&&i.type?{_id:h._ref,_type:(o=h._strengthenOnPublish)==null?void 0:o.type}:h;return d.jsxs(oe,{align:"center",children:[d.jsx(te,{flex:1,children:u({layout:l,schemaType:w,value:C,skipVisibilityCheck:!0})}),d.jsx(te,{children:d.jsx(to,{space:4,children:m&&d.jsx(_u,{mode:"outline",children:w.title})})})]})}const v=c.result.availability,y=v.reason==="NOT_FOUND",b=v.reason==="PERMISSION_DENIED";if(b||y)return d.jsxs(to,{space:2,children:[d.jsx(te,{padding:1,children:d.jsx(oe,{align:"center",children:d.jsx(te,{flex:1,paddingY:2,children:d.jsx(J,{muted:!0,children:g("inputs.reference.error.document-unavailable-title")})})})}),b||y?d.jsx(te,{children:d.jsx(zn,{portal:!0,content:y?d.jsx(T_e,{title:g("inputs.reference.error.nonexistent-document-title"),icon:DC,children:d.jsx(bn,{i18nKey:"inputs.reference.error.nonexistent-document-description",t:g,values:{documentId:h._ref}})}):d.jsx(T_e,{title:g("inputs.reference.error.missing-read-permissions-title"),icon:sy,children:g("inputs.reference.error.missing-read-permissions-description")}),children:d.jsx(mo,{tone:"default",children:d.jsx(DC,{})})})}):null]});const x=(s=c.result)==null?void 0:s.type,_=f.to.find(w=>w.name===x);return _?d.jsx(JQe,{id:h._ref,layout:l,preview:(a=c.result)==null?void 0:a.preview,refType:_,renderPreview:u,showTypeLabel:m}):d.jsx(A_e,{documentId:h._ref,actualType:x||"<unknown>",declaredTypes:f.to.map(w=>w.name)})}function T_e(n){const e=n.icon;return d.jsxs(oe,{children:[d.jsx(J,{size:1,children:d.jsx(e,{})}),d.jsxs(te,{flex:1,marginLeft:3,children:[d.jsx(J,{size:1,weight:"medium",children:n.title}),d.jsx(te,{marginTop:3,children:d.jsx(J,{as:"p",muted:!0,size:1,children:n.children})})]})]})}function A_e(n){let{declaredTypes:e,documentId:r,actualType:i}=n;const{t:o}=me();return d.jsxs(oe,{align:"center",justify:"flex-start",children:[d.jsx(te,{padding:1,children:d.jsx(oe,{align:"center",children:d.jsx(te,{flex:1,paddingY:2,children:d.jsx(J,{muted:!0,children:o("inputs.reference.error.invalid-type-title")})})})}),d.jsx(te,{children:d.jsx(zn,{portal:!0,content:d.jsx(Se,{space:3,children:d.jsx(J,{size:1,children:d.jsx(bn,{t:o,i18nKey:"inputs.reference.error.invalid-type-description",values:{documentId:r,actualType:i},components:{AllowedTypes:()=>d.jsx(y3n,{values:e})}})})}),children:d.jsx(te,{padding:2,children:d.jsx(mo,{tone:"default",children:d.jsx(DC,{})})})})})]})}function y3n(n){const r=a2({type:"disjunction"}).formatToParts(n.values);return d.jsx(p.Fragment,{children:r.map(i=>i.type==="element"?d.jsx("code",{children:i.value},i.value):i.value)})}const b3n={warning:"caution",error:"critical",info:"positive"},x3n={warning:d.jsx(as,{}),error:d.jsx(Dc,{}),info:d.jsx(Wx,{})};function qie(n){const{children:e,status:r="warning",title:i,...o}=n;return d.jsx(ke,{radius:2,tone:b3n[r],...o,"data-ui":"Alert",children:d.jsx(oe,{padding:1,children:e&&d.jsx(te,{flex:1,children:d.jsx(pw,{icon:x3n[r],title:i,children:d.jsx(te,{marginLeft:3,marginTop:3,children:e})})})})})}function tJe(n){let{schemaType:e,handleRemoveStrengthenOnPublish:r}=n;const{t:i}=me();return d.jsx(qie,{padding:1,title:i(e.weak?"inputs.reference.incomplete-reference.finalize-action-title":"inputs.reference.incomplete-reference.strengthen-action-title"),status:"info","data-testid":"alert-reference-published",children:d.jsxs(Se,{space:3,children:[d.jsx(J,{as:"p",muted:!0,size:1,children:d.jsx(bn,{t:i,i18nKey:e.weak?"inputs.reference.incomplete-reference.finalize-action-description":"inputs.reference.incomplete-reference.strengthen-action-description"})}),d.jsx(ze,{mode:"ghost",onClick:r,size:"large",text:i("inputs.reference.incomplete-reference.strengthen-button-label"),tone:"positive"})]})})}var I_e=Object.freeze,w3n=Object.defineProperty,_3n=(n,e)=>I_e(w3n(n,"raw",{value:I_e(e||n.slice())})),D_e;const E3n=F(ke)(D_e||(D_e=_3n([`
  /* this is a hack to avoid layout jumps while previews are loading
     there's probably better ways of solving this */
  min-height: 33px;
  position: relative;

  /* TextWithTone uses its own logic to set color, and we therefore need */
  /* to override this logic in order to set the correct color in different states */
  &[data-selected],
  &[data-pressed],
  &:active {
    [data-ui='TextWithTone'] {
      color: inherit;
    }
  }
`]))),nJe=p.forwardRef(function(e,r){const{as:i,documentId:o,documentType:s,...a}=e,l=o&&s&&{"data-as":"a",forwardedAs:i,documentId:o,documentType:s};return d.jsx(E3n,{...a,...l,"data-ui":"ReferenceLinkCard",ref:r})});function Kie(n){let{errorMessage:e,onHandleRetry:r}=n;const{t:i}=me();return d.jsx(qie,{padding:1,title:i("inputs.reference.metadata-error.title"),status:"warning","data-testid":"alert-reference-info-failed",children:d.jsxs(Se,{space:3,children:[d.jsx(J,{as:"p",muted:!0,size:1,children:e}),d.jsx(ze,{mode:"ghost",onClick:r,size:"large",text:i("inputs.reference.metadata-error.retry-button-label"),tone:"primary"})]})})}function Yie(n){let{actualStrength:e,handleFixStrengthMismatch:r}=n;const i=e==="weak"?"strong":"weak",{t:o}=me();return d.jsx(qie,{padding:1,title:o("inputs.reference.strength-mismatch.title"),status:"warning","data-testid":"alert-reference-strength-mismatch",children:d.jsxs(Se,{space:3,children:[d.jsx(J,{as:"p",muted:!0,size:1,children:d.jsx(bn,{t:o,i18nKey:e==="weak"?"inputs.reference.strength-mismatch.is-weak-description":"inputs.reference.strength-mismatch.is-strong-description"})}),d.jsx(J,{as:"p",muted:!0,size:1,children:o(i==="weak"?"inputs.reference.strength-mismatch.is-strong-consquences":"inputs.reference.strength-mismatch.is-weak-consquences")}),d.jsx(ze,{mode:"ghost",onClick:r,size:"large",text:o(i==="weak"?"inputs.reference.strength-mismatch.weaken-button-label":"inputs.reference.strength-mismatch.strengthen-button-label"),tone:"caution"})]})})}const rJe=()=>{},VV={isLoading:!0,result:void 0,error:void 0,retry:rJe},C3n={isLoading:!1,result:void 0,error:void 0,retry:rJe};function VN(n,e){const r=p.useMemo(()=>new ho,[]),i=p.useMemo(()=>r.asObservable(),[r]),o=p.useCallback(()=>{r.next({type:"retry"})},[r]),s=bs(()=>Go(Ke(null),i).pipe(Me(()=>n),gM(l=>l?e(l).pipe(Me(c=>({isLoading:!1,result:c,error:void 0,retry:o})),ca(VV),vi(c=>(console.error(c),Ke({isLoading:!1,result:void 0,error:c,retry:o})))):Ke(C3n))),[e,n,i,o],VV),a=jie(n,n);return n&&a!==n?VV:s}const iJe=p.createContext(null);function S3n(n){const e=p.useMemo(()=>({value:n.value}),[n.value]);return d.jsx(iJe.Provider,{value:e,children:n.children})}function YD(n){const e=Fp(n),r=p.useContext(iJe);if(!r)throw new Error("useFormValue must be used within a FormValueProvider");return lf(r==null?void 0:r.value,e)}const R_e=new WeakMap,O_e={title:10,subtitle:5,description:1.5},k3n={_id:{weight:1,type:"string"},_type:{weight:1,type:"string"}},T3n=["true","false","null"],A3n=["reference","crossDatasetReference"],n2=n=>n?[n,...n2(n.type)]:[],P_e=n=>(n==null?void 0:n.jsonType)==="array"&&n.of.some(e=>n2(e).some(r=>{let{name:i}=r;return i==="block"})),I3n=n=>n2(n).some(e=>e.name==="string"),D3n=n=>$n(n)&&"search"in n&&$n(n.search);function oJe(n){return typeof n<"u"&&"name"in n}function R3n(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];const i=e.filter(Boolean);return i.slice(1).reduce((o,s)=>T3n.includes(s)?"".concat(o,"['").concat(s,"']"):"".concat(o,".").concat(s),i[0])}function UA(n,e,r){function i(o,s,a){if(!o)return[];if(a>e)return[];const l=n2(o);if(I3n(o)||P_e(o)){const h=r(o,s);return typeof h!="number"?[]:[{path:s,weight:h,type:P_e(o)?"pt":"string"}]}const c=[],u=l.filter(h=>{var m;return h.jsonType==="object"&&!!((m=h.fields)!=null&&m.length)&&!A3n.includes(h.name)});for(const h of u)for(const m of h.fields){const g=R3n(s,m.name);c.push(...i(m.type,g,a+1))}const f=l.filter(h=>{var m;return h.jsonType==="array"&&!!((m=h.of)!=null&&m.length)});for(const h of f)for(const m of h.of){const g="".concat(s,"[]");c.push(...i(m,g,a+1))}return c}return oJe(n)?i(n,"",0).reduce((o,s)=>{let{path:a,weight:l,type:c}=s;return o[a]={weight:l,type:c,path:a},o},{}):{}}const sJe=n=>{var e;const r=n2(n).map(i=>i.options).find(D3n);return typeof((e=r==null?void 0:r.search)==null?void 0:e.weight)=="number"?r.search.weight:null},aJe=n=>n2(n).some(r=>r.hidden)?0:null,lJe=n=>{var e;return typeof((e=sJe(n))!=null?e:aJe(n))=="number"?null:1},O3n=(n,e,r)=>{var i;const o=(i=n==null?void 0:n.preview)==null?void 0:i.select;if(!o)return null;const s=Object.fromEntries(Object.entries(o).map(c=>{let[u,f]=c;return[f.replace(/\.\d+/g,"[]"),u]})),a=UA(n,e,lJe),l=Object.fromEntries(Object.entries(a).map(c=>{let[u,{type:f}]=c;return{path:u,type:f}}).filter(c=>{let{path:u}=c;return s[u]}).map(c=>{let{path:u,type:f}=c;return[u,{type:f,weight:O_e[s[u]]}]}));return r?Object.fromEntries(Object.values(s).map(c=>[c,{path:c,type:"string",weight:O_e[c]}])):UA(n,e,(c,u)=>{const f=l[u];return f?f.weight:null})};function cJe(n){let{schemaType:e,maxDepth:r,isCrossDataset:i,processPaths:o=m=>m}=n;const s=R_e.get(e);if(s)return s;const a=UA(e,r,sJe),l=UA(e,r,aJe),c=UA(e,r,lJe),u=O3n(e,r,i),f={...k3n,...c,...l,...u,...a},h={typeName:oJe(e)?e.name:e.type,paths:o(Object.entries(f).map(m=>{let[g,{type:v,weight:y}]=m;return{path:g,weight:y,...v==="pt"&&{mapWith:"pt::text"}}}))};return R_e.set(e,h),h}const P3n=n=>!!(n.type&&n.type.name==="document"),j3n=n=>n.name.startsWith("sanity.")&&n.name!=="sanity.previewUrlSecret",uJe=n=>n.getTypeNames().map(e=>n.get(e)).filter(Ws).filter(P3n).filter(e=>!j3n(e)),L3n=1e3;function $3n(n,e){return typeof n=="string"?{query:n,types:e}:{...n,types:n.types.length?n.types:e}}function M3n(n){return n.filter(e=>e.weight!==1)}function F3n(n,e){return e.types.map(i=>cJe({schemaType:i,maxDepth:n.maxDepth||Tx,processPaths:M3n})).filter(i=>{let{paths:o}=i;return o.length}).reduce((i,o)=>({...i,[o.typeName]:o.paths.reduce((s,a)=>{let{path:l,weight:c}=a;return{...s,weights:{...s.weights,[l]:c}}},{})}),{})}const N3n=(n,e,r)=>function(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var a;const l=$3n(o,n),c=["_type in $__types",s.includeDrafts===!1&&"!(_id in path('drafts.**'))",r.filter?"(".concat(r.filter,")"):!1,l.filter?"(".concat(l.filter,")"):!1].filter(f=>!!f),u={query:{string:l.query},filter:c.join(" && "),params:{__types:l.types.map(f=>"name"in f?f.name:f.type),...r.params,...l.params},types:F3n(s,l),includeAttributes:["_id","_type"],fromCursor:s.cursor,limit:(a=s.limit)!=null?a:L3n};return e.observable.request({uri:"/data/textsearch/".concat(e.config().dataset),method:"POST",json:!0,body:u}).pipe(Me(f=>{let h=f.hits.map(m=>m.attributes);return r.unique&&(h=uXe(h)),{type:"text",hits:h.map(m=>({hit:m})),nextCursor:f.nextCursor}}))},B3n=(n,e)=>{const{phrases:r,words:i}=W3n(n),[o,s]=V3n(r,e),[a,l]=H3n(i,e);return[o+a,[l,s].join(", ")]},U3n=n=>typeof n=="string"?n:JSON.stringify(n);function z3n(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const i=mre(n,o=>o.typeName);return e.map((o,s)=>{var a;const c=(a=i[o._type].paths||[])==null?void 0:a.map((f,h)=>{const m=U3n(o["w".concat(h)]);if(!m)return{path:f.path,score:0,why:"No match"};const[g,v]=B3n(r,m);return{path:f.path,score:g*f.weight,why:"".concat(v," (*").concat(f.weight,")")}}),u=c.reduce((f,h)=>f+h.score,0);return{hit:o,resultIndex:e.length-s,score:u,stories:c}})}function V3n(n,e){const r=e.toLowerCase().trim();let i=0,o=0;return n.forEach(s=>{r.includes(s)&&(i+=s.length/r.length,o+=s.length)}),i===1?[1,"[Phrase] Exact match"]:[i/2,"[Phrase] Matched ".concat(o," of ").concat(r.length," characters")]}function H3n(n,e){const r=la(aN(UVe(iC(e)))),i=vF(n,r),o=GKe(r,n),s=i.length/o.length;return s===1?[1,"[Word] Exact match"]:[s/2,"[Word] Matched ".concat(i.length," of ").concat(o.length," terms: [").concat(i.join(", "),"]")]}function W3n(n){const e=la(n.map(iC)),[r,i]=Hte(e,o=>/^".*"$/.test(o));return{phrases:la(r).map(iC).map(G3n),words:la(i.map(iC))}}function G3n(n){return n.replace(/^"(.*)"$/,"$1")}const q3n=4,K3n=1e3,Y3n=ewn([Ji,GKe,aN]),dJe=n=>{let{mapWith:e,path:r}=n;return e?"".concat(e,"(").concat(r,")"):r};function Z3n(n,e){const r=Y3n(e.map(o=>(o.paths||[]).map(s=>dJe(s))));return n.map((o,s)=>r.map(a=>"".concat(a," match $t").concat(s))).filter(o=>o.length>0).map(o=>"(".concat(o.join(" || "),")"))}const X3n=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,Q3n=/(^[.]+)|([.]+$)/;function J3n(n){return(n.match(X3n)||[]).map(e=>e.replace(Q3n,""))}function eFn(n){const e=[],r=n.replace(/("[^"]*")/g,s=>UVe(s).length>1?(e.push(s),""):s),i=e.map(s=>mwn(iC(s))),o=la(aN(J3n(iC(r))));return[...i,...o]}function tFn(n){function e(r){return r.mapWith?"".concat(r.mapWith,"(").concat(r.field,")"):r.field}return(n||[]).map(r=>[e(r),(r.direction||"").toLowerCase()].map(i=>i.trim()).filter(Boolean).join(" ")).join(",")}function nFn(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};var r;const{filter:i,params:o,tag:s}=e,a=n.types.map(_=>cJe({schemaType:_,maxDepth:e.maxDepth||Tx,isCrossDataset:e.isCrossDataset})).filter(_=>{let{paths:w}=_;return w.length}),l=eFn(n.query),c=["_type in $__types",e.includeDrafts===!1&&"!(_id in path('drafts.**'))",...Z3n(l,a),i?"(".concat(i,")"):"",n.filter?"(".concat(n.filter,")"):""].filter(Boolean),u=a.map(_=>{const w='_type == "'.concat(_.typeName,'" => '),C="{ ".concat(_.paths.map((S,T)=>'"w'.concat(T,'": ').concat(dJe(S)))," }");return"".concat(w).concat(C)}),f=tFn((e==null?void 0:e.sort)||[{field:"_id",direction:"asc"}]),h=["_type","_id"],m=u.length>0?"...select(".concat(u.join(`,
`),")"):"",g=h.join(", ")+(m?", ".concat(m):"");let v="*[".concat(c.join(" && "),"]")+"| order(".concat(f,")")+"[0...$__limit]"+"{".concat(g,"}");if(e!=null&&e.__unstable_extendedProjection){const _=e==null?void 0:e.__unstable_extendedProjection,w=h.concat(_).join(", ");v=["*[".concat(c.join(" && "),"]{").concat(w,"}"),"order(".concat(f,")[0...$__limit]{").concat(g,"}")].join("|")}const y=["findability-mvi:".concat(q3n)].concat((e==null?void 0:e.comments)||[]).map(_=>"// ".concat(_)).join(`
`),b=y?"".concat(y,`
`).concat(v):v,x=(r=e==null?void 0:e.limit)!=null?r:K3n;return{query:b,params:{...rFn(l),__types:a.map(_=>_.typeName),__limit:x,...o||{}},options:{tag:s},searchSpec:a,terms:l}}const rFn=n=>{const e={};return n.reduce((r,i,o)=>(r["t".concat(o)]="".concat(i,"*"),r),e)};function iFn(n,e){return typeof n=="string"?{query:n,types:e}:n.types.length?n:{...n,types:e}}const oFn=(n,e,r)=>function(o){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=iFn(o,n),{query:l,params:c,options:u,searchSpec:f,terms:h}=nFn(a,{...r,...s});return e.observable.fetch(l,c,u).pipe(r.unique?Me(uXe):Si(),Me(m=>z3n(f,m,h)),s!=null&&s.skipSortByScore?Si():Me(m=>lw(m,g=>-g.score)),Me(m=>({type:"weighted",hits:m})))},HN=(n,e,r)=>(r.unstable_enableNewSearch?N3n:oFn)(n,e,r),sFn={available:!0,reason:"READABLE"},j_e={available:!1,reason:"PERMISSION_DENIED"},L_e={available:!1,reason:"NOT_FOUND"};function fJe(n,e,r){const{publishedId:i,draftId:o}=cXe(e);return n.unstable_observeDocumentPairAvailability(e).pipe(gn(a=>{if(!a.draft.available&&!a.published.available){const f=a.draft.reason==="PERMISSION_DENIED"||a.published.reason==="PERMISSION_DENIED"?j_e:L_e;return Ke({id:e,type:void 0,availability:f,preview:{draft:void 0,published:void 0}})}const l={_type:"reference",_ref:o},c={_type:"reference",_ref:i};return Da([n.observeDocumentTypeFromId(o),n.observeDocumentTypeFromId(i)]).pipe(Me(f=>{let[h,m]=f;return h||m})).pipe(gn(f=>{if(!f)return Ke({id:e,type:void 0,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const h=r.to.find(b=>b.name===f);if(!h)return Ke({id:e,type:f,availability:{available:!0,reason:"READABLE"},preview:{draft:void 0,published:void 0}});const m=poe(h==null?void 0:h.preview)||[],g=n.observePaths(l,m).pipe(Me(b=>b?{_id:o,...GF(b,h)}:void 0),ca(void 0)),v=n.observePaths(c,m).pipe(Me(b=>b?{_id:i,...GF(b,h)}:void 0),ca(void 0));return Da([g,v]).pipe(Me(b=>{let[x,_]=b;return{draft:x,published:_}})).pipe(Me(b=>{const x=a.draft.available||a.published.available?sFn:a.draft.reason==="PERMISSION_DENIED"||a.published.reason==="PERMISSION_DENIED"?j_e:L_e;return{type:f,id:i,availability:x,preview:{draft:$n(b.draft)?b.draft:void 0,published:$n(b.published)?b.published:void 0}}}))}))}))}function aFn(n){return n.filter(e=>!e.draft||!e.published).map(e=>e.draft?e.id:wl(e.id))}function lFn(n,e){return e.length===0?Ke([]):n.observable.fetch("*[_id in $ids]._id",{ids:e},{tag:"get-counterpart-ids"})}function cFn(n,e,r,i,o){return HN(r.to,n,{...i,unstable_enableNewSearch:o,maxDepth:i.maxFieldDepth||Tx})(e,{includeDrafts:!0}).pipe(Me(a=>{let{hits:l}=a;return l.map(c=>{let{hit:u}=c;return u})}),Me(qS),Me(a=>a.slice(0,100)),On(a=>lFn(n,aFn(a)).pipe(Me(l=>a.map(c=>{const u=wl(c.id);return{id:c.id,type:c.type,draft:c.draft||l.includes(u)?{_id:u,_type:c.type}:void 0,published:c.published||l.includes(c.id)?{_id:c.id,_type:c.type}:void 0}})))))}function uFn(n){const e=p.useRef(n);return e.current=n,e}function Zie(n){var e,r,i,o;const{path:s,schemaType:a}=n,l=Ar(),c=Qa(),{EditReferenceLinkComponent:u,onEditReference:f,activePath:h,initialValueTemplateItems:m}=XQe(),g=YD([]),y=(e=uFn(g).current)==null?void 0:e._type,b=p.useMemo(()=>{var I;return(I=l.get(y))==null?void 0:I.liveEdit},[y,l]),x=((r=a.options)==null?void 0:r.disableNew)===!0,_=(o=(i=n.value)==null?void 0:i._strengthenOnPublish)==null?void 0:o.template,w=p.useMemo(()=>p.forwardRef(function(D,R){return u?d.jsx(u,{...D,ref:R,parentRefPath:s,template:_}):null}),[u,s,_]),C=p.useCallback(I=>{f==null||f({parentRefPath:s,id:I.id,type:I.type,template:I.template})},[f,s]),S=Hl(s,(h==null?void 0:h.path)||[])?h==null?void 0:h.state:"none",T=p.useMemo(()=>x?[]:(m||[]).filter(I=>a.to.some(D=>{var R;return D.name===((R=I.template)==null?void 0:R.schemaType)})).map(I=>{var D;return(D=I.template)!=null&&D.schemaType?{id:I.id,title:I.title||"".concat(I.template.schemaType," from template ").concat(I.template.id),type:I.template.schemaType,icon:I.icon,template:{id:I.template.id,params:I.parameters},permission:{granted:I.granted,reason:I.reason}}:void 0}).filter(Ws),[x,m,a.to]),A=p.useCallback(I=>fJe(c,I,a),[c,a]);return{selectedState:S,isCurrentDocumentLiveEdit:b,handleEditReference:C,EditReferenceLink:w,createOptions:T,getReferenceInfo:A}}function dFn(n){let{readOnly:e,hasErrors:r,hasWarnings:i}=n;return e?"transparent":r?"critical":i?"caution":"default"}const fFn={portal:!0,tone:"default"};function hFn(n){var e,r,i,o,s,a;const l=p.useRef(null),{schemaType:c,path:u,open:f,inputId:h,children:m,inputProps:g}=n,{readOnly:v,focused:y,renderPreview:b,onChange:x}=n.inputProps,[_,w]=p.useState([]),C=BN(),S=p.useCallback(()=>g.onChange(un()),[g]),T=n.value,{EditReferenceLink:A,getReferenceInfo:I,selectedState:D,isCurrentDocumentLiveEdit:R}=Zie({path:u,schemaType:c,value:T});UN(l,f),rc(y,(_e,ge)=>{!_e&&ge&&l.current&&l.current.focus()});const P=n.validation.some(_e=>_e.level==="error"),O=n.validation.some(_e=>_e.level==="warning"),$=VN(T==null?void 0:T._ref,I),L=((e=$.result)==null?void 0:e.type)||((r=T==null?void 0:T._strengthenOnPublish)==null?void 0:r.type),M=L?c.to.find(_e=>_e.name===L):void 0,N=D==="pressed",z=D==="selected",B=T==null?void 0:T._ref,H=B&&((s=(o=(i=$.result)==null?void 0:i.preview)==null?void 0:o.published)==null?void 0:s._id),X=p.useCallback(()=>{x([c.weak===!0?rn(!0,["_weak"]):un(["_weak"]),un(["_strengthenOnPublish"])])},[x,c.weak]),G=p.useCallback(()=>{x(c.weak===!0?rn(!0,["_weak"]):un(["_weak"]))},[x,c]),ne=p.useCallback(()=>{g.onPathFocus(["_ref"])},[g]),le=T!=null&&T._weak?"weak":"strong",K=c.weak===!0?"weak":"strong",Q=B&&!$.isLoading&&(T==null?void 0:T._strengthenOnPublish),re=!$.isLoading&&((a=$.result)==null?void 0:a.availability.available)&&B&&le!==K&&!Q,se=dFn({readOnly:v,hasErrors:P,hasWarnings:O}),de=!(T!=null&&T._ref)||g.focusPath[0]==="_ref",{t:fe}=me(),we=d.jsxs(d.Fragment,{children:[R&&H&&T._strengthenOnPublish&&d.jsx(tJe,{schemaType:c,handleRemoveStrengthenOnPublish:X}),re&&d.jsx(Yie,{actualStrength:le,handleFixStrengthMismatch:G}),$.error&&d.jsx(Kie,{errorMessage:$.error.message,onHandleRetry:$.retry})]}),ye=p.useMemo(()=>p.forwardRef(function(ge,pe){return d.jsx(Sf,{...ge,intent:"edit",params:{id:T==null?void 0:T._ref,type:M==null?void 0:M.name},target:"_blank",rel:"noopener noreferrer",ref:pe})}),[M==null?void 0:M.name,T==null?void 0:T._ref]),ve=p.useMemo(()=>v?null:d.jsx(te,{flex:"none",children:d.jsx(Vr,{button:d.jsx(ha,{paddingY:3}),id:"".concat(h,"-menuButton"),menu:d.jsxs(_r,{children:[!v&&d.jsxs(d.Fragment,{children:[d.jsx(Wt,{text:fe("inputs.reference.action.clear"),tone:"critical",icon:vs,onClick:S}),d.jsx(Wt,{text:fe("inputs.reference.action.replace"),icon:ES,onClick:ne})]}),!v&&(T==null?void 0:T._ref)&&d.jsx(Io,{}),(T==null?void 0:T._ref)&&d.jsx(Wt,{as:ye,"data-as":"a",text:fe("inputs.reference.action.open-in-new-tab"),icon:Iy})]}),popover:fFn})}),[S,ne,h,ye,v,fe,T==null?void 0:T._ref]);return d.jsxs(d.Fragment,{children:[C&&n.actions&&n.actions.length>0&&d.jsx(VD,{actions:n.actions,documentId:C,documentType:c.name,onActions:w,path:u,schemaType:c}),d.jsx(zD,{actions:_,focused:!!n.inputProps.focused,path:u,children:d.jsx(e2,{__internal_comments:n.__internal_comments,__internal_slot:n.__internal_slot,__unstable_headerActions:_,__unstable_presence:n.presence,description:n.description,level:n.level,title:n.title,validation:n.validation,deprecated:n.schemaType.deprecated,children:de?d.jsx(te,{children:m}):d.jsx(ke,{border:!0,radius:2,padding:1,tone:se,children:d.jsxs(Se,{space:1,children:[d.jsx(oe,{gap:1,align:"center",style:{lineHeight:0},children:d.jsxs(xu,{children:[d.jsx(nJe,{__unstable_focusRing:!0,as:A,"data-pressed":N?!0:void 0,"data-selected":z?!0:void 0,documentId:T==null?void 0:T._ref,documentType:M==null?void 0:M.name,flex:1,pressed:N,radius:2,ref:l,selected:z,tone:"inherit",children:d.jsx(eJe,{value:T,referenceInfo:$,renderPreview:b,type:c})}),d.jsx(te,{children:ve})]})}),we]})})})})]})}function hJe(n,e){return ko(n.options,e)}const $_e=["array","file","image","reference","slug"],pFn=["asset","crop","hotspot","_ref","_weak"],mFn=["tags"],gFn=["slug"];function Xie(n,e){if(!n)return[];if(e.has(n))return[];e.add(n);const r=n.type?Xie(n.type,e):[];return[n,...r]}function vFn(n,e){return cd(n)?bFn(n,e):yFn(n,e)}function yFn(n,e){var r,i,o;const{type:s,options:a}=n,l=pJe(s,$_e),c=(n==null?void 0:n.jsonType)==="object"?n.fields:void 0,u=(l==null?void 0:l.name)||"";if(gFn.includes(u))return 0;const f=$_e.includes(u),h=((r=c==null?void 0:c.filter(g=>!pFn.includes(g.name)).length)!=null?r:0)>0,m=((o=(i=a==null?void 0:a.list)==null?void 0:i.length)!=null?o:0)>0;return h||m||!f?e:0}function bFn(n,e){var r;const{options:i}=n,o=((r=(i==null?void 0:i.list)||[])==null?void 0:r.length)>0,s=mFn.includes((i==null?void 0:i.layout)||"");return o&&!s?e:0}function pJe(n,e){if(n!=null&&n.name&&e.includes(n==null?void 0:n.name))return n;if(n)return pJe(n.type,e)}const zF=[];function xFn(n){return d.jsx(_l,{hasFocus:!!n.inputProps.focused,isChanged:n.inputProps.changed,path:n.path,children:n.children})}function HV(n){const[e,r]=p.useState(zF),i=BN(),o=!!n.inputProps.focused;return d.jsxs(d.Fragment,{children:[i&&n.actions&&n.actions.length>0&&d.jsx(VD,{actions:n.actions,documentId:i,documentType:n.schemaType.name,onActions:r,path:n.path,schemaType:n.schemaType}),d.jsx(zD,{actions:e,focused:o,path:n.path,children:d.jsx(e2,{__internal_slot:n.__internal_slot,__internal_comments:n.__internal_comments,__unstable_headerActions:e,__unstable_presence:n.presence,"data-testid":"field-".concat(n.inputId),description:n.description,inputId:n.inputId,level:n.level,title:n.title,validation:n.validation,deprecated:n.schemaType.deprecated,children:d.jsx(_l,{hasFocus:o,isChanged:n.inputProps.changed,path:n.path,children:n.children})})})]})}function wFn(n){const[e,r]=p.useState(zF),i=BN(),o=!!n.inputProps.focused;return d.jsxs(d.Fragment,{children:[i&&n.actions&&n.actions.length>0&&d.jsx(VD,{actions:n.actions,documentId:i,documentType:n.schemaType.name,onActions:r,path:n.path,schemaType:n.schemaType}),d.jsx(zD,{actions:e,focused:o,path:n.path,children:d.jsx(LN,{__internal_comments:n.__internal_comments,__internal_slot:n.__internal_slot,__unstable_headerActions:e,__unstable_presence:n.presence,collapsed:n.collapsed,collapsible:n.collapsible,"data-testid":"field-".concat(n.inputId),description:n.description,level:n.level,onCollapse:n.onCollapse,onExpand:n.onExpand,title:n.title,validation:n.validation,inputId:n.inputId,deprecated:n.schemaType.deprecated,children:n.children})})]})}function _Fn(n){const[e,r]=p.useState(zF),i=BN(),o=!!n.inputProps.focused,s=n.inputProps.members.find(l=>l.kind==="field"&&l.name==="hotspot"),a=s!=null&&s.open?n.presence:n.presence.concat((s==null?void 0:s.field.presence)||zF);return d.jsxs(d.Fragment,{children:[i&&n.actions&&n.actions.length>0&&d.jsx(VD,{actions:n.actions,documentId:i,documentType:n.schemaType.name,onActions:r,path:n.path,schemaType:n.schemaType}),d.jsx(zD,{actions:e,focused:o,path:n.path,children:d.jsx(LN,{__internal_comments:n.__internal_comments,__internal_slot:n.__internal_slot,__unstable_headerActions:e,__unstable_presence:a,collapsed:n.collapsed,collapsible:n.collapsible,description:n.description,level:n.level,onCollapse:n.onCollapse,onExpand:n.onExpand,title:n.title,validation:n.validation,inputId:n.inputId,deprecated:n.schemaType.deprecated,children:n.children})})]})}function EFn(n){var e;if((e=n.components)!=null&&e.field)return n.components.field;if(DI(n))return xFn;const r=Xie(n,new Set);return r.some(i=>i.name==="image"||i.name==="file")?_Fn:r.some(i=>bQ(i))||r.some(i=>i.name==="slug")?HV:r.some(i=>Eg(i))?hFn:n.jsonType!=="object"&&n.jsonType!=="array"?HV:wFn}const mJe=p.createContext(null);function gJe(n){let{children:e,workspace:r}=n;return d.jsx(mJe.Provider,{value:r,children:e})}function pa(){const n=p.useContext(mJe);if(!n)throw new Error("Workspace: missing context value");return n}const vJe=0,WV={isLoading:!0,settings:{partialIndexSettings:{maxFieldDepth:vJe}}};function CFn(n){let{client:e}=n;const{projectId:r,dataset:i}=e.config();return e.observable.request({uri:"/projects/".concat(r,"/datasets/").concat(i,"/settings/indexing"),tag:"search.getPartialIndexSettings"})}const FP=new Map;function WN(n){var e,r,i,o;const s=(r=(e=pa().search)==null?void 0:e.unstable_partialIndexing)==null?void 0:r.enabled,a=Jr(Dr),l=p.useMemo(()=>n||a,[n,a]),c=p.useMemo(()=>l.config().dataset,[l]);s||FP.set(c,Ke(WV.settings)),FP.has(c)||FP.set(c,CFn({client:l}).pipe(Hs()));const u=bs(()=>FP.get(c).pipe(Me(h=>({isLoading:!1,settings:h})),ca(WV),vi(h=>(console.error(h),Ke({isLoading:!1,enabled:!0,settings:{partialIndexSettings:{maxFieldDepth:vJe}}})))),[c],WV),f=(o=(i=u==null?void 0:u.settings)==null?void 0:i.partialIndexSettings)==null?void 0:o.maxFieldDepth;return oWe(f)?Math.min(f,Tx):Tx}function yJe(n,e){p.useEffect(()=>{const r=i=>{const o=i.target;if(o instanceof HTMLElement){if(n.some(s=>{var a;return(a=s.current)==null?void 0:a.contains(o)}))return;e(i)}};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),()=>{document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}},[n,e])}var M_e=Object.freeze,SFn=Object.defineProperty,bJe=(n,e)=>M_e(SFn(n,"raw",{value:M_e(e||n.slice())})),F_e,N_e;const kFn=Ae(F_e||(F_e=bJe([`
  grid-template-columns: minmax(0px, 1fr);
`]))),TFn=Ae(N_e||(N_e=bJe([`
  grid-template-columns: 1fr min-content;
`]))),AFn=F(eo)(n=>n.$narrow?kFn:TFn),IFn=p.forwardRef(function(e,r){const[i,o]=p.useState(null),s=p.useCallback(l=>{DFn(r,l),o(l)},[r]),a=Ex(i);return d.jsx(AFn,{ref:s,gap:1,$narrow:((a==null?void 0:a.width)||0)<480,children:e.children})});function DFn(n,e){typeof n=="function"?n(e):n&&(n.current=e)}const RFn={display:"inline-flex"},OFn={width:"100%"},PFn={portal:!0,tone:"default",constrainSize:!0,fallbackPlacements:["bottom","left","top"],placement:"right",preventOverflow:!0};function jFn(n){const{createOptions:e,onCreate:r,id:i,menuRef:o,...s}=n,a=ao(),{t:l}=me(),c=SN(e);return e.some(f=>f.permission.granted)?e.length>1?d.jsx(Vr,{button:d.jsx(ze,{...s,disabled:n.readOnly,text:l("inputs.reference.action.create-new-document-select"),mode:"ghost",icon:Ta,size:"large"}),id:i,menu:d.jsx(_r,{ref:o,children:e.map(f=>d.jsx(zn,{disabled:f.permission.granted,content:d.jsx(Wp,{currentUser:a,context:"create-document-type"}),portal:!0,children:d.jsx("div",{children:d.jsx(Wt,{disabled:!f.permission.granted,icon:f.icon,text:c(f).title,onClick:()=>r(f)})})},f.id))}),popover:PFn}):d.jsx(ze,{...s,text:l("inputs.reference.action.create-new-document-select"),mode:"ghost",disabled:!e[0].permission.granted||n.readOnly,onClick:()=>r(e[0]),icon:Ta,size:"large"}):d.jsx(zn,{content:d.jsx(Wp,{currentUser:a,context:"create-new-reference"}),children:d.jsx("div",{style:RFn,children:d.jsx(ze,{text:l("inputs.reference.action.create-new-document"),mode:"ghost",disabled:!0,icon:Ta,style:OFn})})})}function LFn(n){const{getReferenceInfo:e,id:r,renderPreview:i}=n,{isLoading:o,result:s,error:a}=VN(r,e),{t:l}=me();if(o)return d.jsxs(Se,{space:2,padding:1,children:[d.jsx(ro,{style:{maxWidth:320},radius:1,animated:!0}),d.jsx(ro,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(a)return d.jsx(Se,{space:2,padding:1,children:d.jsx(sm,{title:l("inputs.reference.error.failed-to-load-document-title"),children:d.jsx(J,{muted:!0,size:1,children:a.message})})});if(!s)return null;if(s.availability.reason==="PERMISSION_DENIED")return d.jsx(Se,{space:2,padding:1,children:l("inputs.reference.error.missing-read-permissions-description")});const c=n.type.to.find(u=>u.name===s.type);return c?s&&c&&d.jsx(JQe,{id:s.id,layout:"default",preview:s.preview,refType:c,renderPreview:i,showTypeLabel:n.type.to.length>1}):d.jsx(Se,{space:2,padding:1,children:l("inputs.reference.error.invalid-search-result-type-title",{returnedType:s.type})})}var B_e=Object.freeze,$Fn=Object.defineProperty,xJe=(n,e)=>B_e($Fn(n,"raw",{value:B_e(e||n.slice())})),U_e,z_e;const MFn=F(Ai)(U_e||(U_e=xJe([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),FFn=F(J)(z_e||(z_e=xJe([`
  word-break: break-word;
`]))),NFn=["top-start","bottom-start"],BFn=p.forwardRef(function(e,r){const{searchString:i,loading:o,portalRef:s,referenceElement:a,...l}=e,{t:c}=me(),u=e.options&&e.options.length>0,f=p.useCallback((h,m)=>{let{content:g,hidden:v,inputElement:y,onMouseEnter:b,onMouseLeave:x}=h;return d.jsx(MFn,{placement:"bottom-start",fallbackPlacements:NFn,arrow:!1,constrainSize:!0,onMouseEnter:b,onMouseLeave:x,content:d.jsx("div",{ref:m,children:u?g:d.jsx(te,{padding:4,children:d.jsx(oe,{align:"center",height:"fill",justify:"center",children:d.jsx(FFn,{align:"center",muted:!0,children:d.jsx(bn,{t:c,i18nKey:"inputs.reference.no-results-for-query",values:{searchTerm:i||""}})})})})}),open:!o&&!v,ref:s,portal:!0,referenceElement:a||y,matchReferenceWidth:!0})},[u,c,i,o,s,a]);return d.jsx(hte,{...l,loading:o,ref:r,renderPopover:f})}),wJe=p.createContext(null);function UFn(){const n=p.useContext(wJe);return n||{menuRef:{current:null},containerRef:{current:null}}}var V_e=Object.freeze,zFn=Object.defineProperty,VFn=(n,e)=>V_e(zFn(n,"raw",{value:V_e(e||n.slice())})),H_e;let GV;const HFn=p.forwardRef(function(e,r){return GV||(GV=F(J0)(H_e||(H_e=VFn([`
      /* this is a hack to avoid layout jumps while previews are loading
      there's probably better ways of solving this */
      min-height: 36px;
    `])))),d.jsx(GV,{ref:r,...e})}),W_e={hits:[],isLoading:!1},WFn=()=>!0;function GFn(n){return n!==null}function qFn(n){var e,r,i,o,s,a;const{createOptions:l,onChange:c,onEditReference:u,onSearch:f,schemaType:h,readOnly:m,id:g,onPathFocus:v,value:y,renderPreview:b,path:x,elementProps:_,focusPath:w}=n,{getReferenceInfo:C}=Zie({path:x,schemaType:h,value:y}),[S,T]=p.useState(W_e),A=p.useCallback(ye=>{const ve=Ia(),_e=[pl({}),rn(h.name,["_type"]),rn(ve,["_ref"]),rn(!0,["_weak"]),rn({type:ye.type,weak:h.weak,template:ye.template},["_strengthenOnPublish"])].filter(Ws);c(_e),u({id:ve,type:ye.type,template:ye.template}),v([])},[c,u,v,h]),I=p.useCallback(ye=>{if(!ye){c(un()),v([]);return}const ve=S.hits.find(ge=>ge.id===ye);if(!ve)throw new Error("Selected an item that wasnt part of the result set");const _e=[pl({}),rn(h.name,["_type"]),rn(di(ye),["_ref"]),ve.published&&!h.weak?un(["_weak"]):rn(!0,["_weak"]),ve.published?un(["_strengthenOnPublish"]):rn({type:ve==null?void 0:ve.type,weak:h.weak},["_strengthenOnPublish"])].filter(Ws);c(_e),v([])},[c,v,h.name,h.weak,S.hits]),D=p.useCallback(()=>{c(un())},[c]),R=p.useCallback(()=>{y!=null&&y._ref||D()},[D,y==null?void 0:y._ref]),P=p.useCallback(ye=>{ye.key==="Escape"&&v([])},[v]),O=VN(y==null?void 0:y._ref,C),$=p.useRef(null),{push:L}=da(),{t:M}=me(),N=K4(ye=>ye.pipe(Bn(GFn),gn(ve=>Go(Ke({isLoading:!0}),f(ve).pipe(Me(_e=>({hits:_e,searchString:ve,isLoading:!1})),vi(_e=>(L({title:M("inputs.reference.error.search-failed-title"),description:_e.message,status:"error",id:"reference-search-fail-".concat(g)}),console.error(_e),Ke({hits:[]})))))),rd((ve,_e)=>({...ve,..._e}),W_e),Si(T)),[g,f,L,M]),z=p.useCallback(()=>{N("")},[N]),B=p.useCallback(ye=>{ye.key==="Escape"&&v([])},[v]),H=p.useCallback(ye=>{var ve,_e;const ge=((ve=ye.hit.draft)==null?void 0:ve._id)||((_e=ye.hit.published)==null?void 0:_e._id)||ye.value;return d.jsx(HFn,{forwardedAs:"button",type:"button",radius:2,tone:"inherit",children:d.jsx(LFn,{getReferenceInfo:C,id:ge,renderPreview:b,type:h})})},[h,C,b]),X=p.useCallback(()=>{var ye,ve,_e,ge;return((ve=(ye=O.result)==null?void 0:ye.preview.draft)==null?void 0:ve.title)||((ge=(_e=O.result)==null?void 0:_e.preview.published)==null?void 0:ge.title)||""},[(r=(e=O.result)==null?void 0:e.preview.draft)==null?void 0:r.title,(o=(i=O.result)==null?void 0:i.preview.published)==null?void 0:o.title]),G=p.useCallback(()=>v(["_ref"]),[v]),ne=p.useCallback(ye=>{var ve;(ve=$.current)!=null&&ve.contains(ye.relatedTarget)||n.elementProps.onBlur(ye)},[n.elementProps]),le=((a=(s=O==null?void 0:O.result)==null?void 0:s.availability)==null?void 0:a.reason)==="NOT_FOUND"&&!(y!=null&&y._strengthenOnPublish)&&(y==null?void 0:y._weak);rc((w==null?void 0:w[0])==="_ref",(ye,ve)=>{var _e;!ye&&ve&&((_e=_.ref.current)==null||_e.focus())});const K=p.useMemo(()=>S.hits.map(ye=>({value:ye.id,hit:ye})),[S.hits]),Q=w.length===1&&w[0]==="_ref",{menuRef:re,containerRef:se}=UFn(),de=p.useRef(null),fe=p.useRef(null),we=p.useRef(null);return yJe([se,de,fe,we,re],()=>{Q&&R()}),d.jsx(Se,{space:1,"data-testid":"reference-input",ref:de,children:d.jsxs(Se,{space:2,children:[le?d.jsx(sm,{"data-testid":"alert-nonexistent-document",title:M("inputs.reference.error.nonexistent-document-title"),suffix:d.jsx(Se,{padding:2,children:d.jsx(ze,{text:M("inputs.reference.error.nonexistent-document.clear-button-label"),onClick:D})}),children:d.jsx(J,{size:1,children:d.jsx(bn,{i18nKey:"inputs.reference.error.nonexistent-document-description",t:M,values:{documentId:y._ref}})})}):null,d.jsxs(IFn,{ref:$,children:[d.jsx(BFn,{..._,onFocus:G,onBlur:ne,"data-testid":"autocomplete",loading:S.isLoading,referenceElement:$.current,options:K,radius:2,placeholder:M("inputs.reference.search-placeholder"),onKeyDown:P,readOnly:O.isLoading||m,onQueryChange:N,searchString:S.searchString,onChange:I,filterOption:WFn,renderOption:H,renderValue:X,openButton:{onClick:z},portalRef:fe,value:y==null?void 0:y._ref}),l.length>0&&d.jsx(jFn,{id:"".concat(g,"-selectTypeMenuButton"),readOnly:m,createOptions:l,onCreate:A,onKeyDown:B,menuRef:we})]})]})})}async function KFn(n,e,r,i){if(!n)return{};if(typeof n.filter=="function"){const o=r.slice(0,-1),s=fS(e,o);return await n.filter({document:e,parentPath:o,parent:s,getClient:i})}return{filter:n.filter,params:"filterParams"in n?n.filterParams:void 0}}function YFn(n){const e=p.useRef(n);return e.current=n,e}function ZFn(n){var e,r,i,o;const s=xi(),a=s.getClient(Dr),l=Ar(),c=WN(),u=Qa(),{path:f,schemaType:h}=n,{EditReferenceLinkComponent:m,onEditReference:g,activePath:v,initialValueTemplateItems:y}=XQe(),{unstable_enableNewSearch:b=!1}=s.search,x=YD([]),_=YFn(x),w=(e=_.current)==null?void 0:e._type,C=l.get(w),S=p.useMemo(()=>C==null?void 0:C.liveEdit,[C]),T=((r=h.options)==null?void 0:r.disableNew)===!0,A=s.getClient,I=p.useCallback(M=>Gi(KFn(h.options,_.current,f,A)).pipe(On(N=>{let{filter:z,params:B}=N;return cFn(a,M,h,{...h.options,filter:z,params:B,tag:"search.reference",maxFieldDepth:c},b)}),vi(N=>{var z;const B=N.details&&N.details.type==="queryParseError";return(z=h.options)!=null&&z.filter&&B&&(N.message='Invalid reference filter, please check the custom "filter" option'),Zl(N)})),[h,_,f,A,a,c,b]),D=(o=(i=n.value)==null?void 0:i._strengthenOnPublish)==null?void 0:o.template,R=p.useMemo(()=>p.forwardRef(function(N,z){return m?d.jsx(m,{...N,ref:z,parentRefPath:f,template:D}):null}),[m,f,D]),P=p.useCallback(M=>{g==null||g({parentRefPath:f,id:M.id,type:M.type,template:M.template})},[g,f]),O=Hl(f,(v==null?void 0:v.path)||[])?v==null?void 0:v.state:"none",$=p.useMemo(()=>T?[]:(y||[]).filter(M=>h.to.some(N=>{var z;return N.name===((z=M.template)==null?void 0:z.schemaType)})).map(M=>{var N,z,B;return(N=M.template)!=null&&N.schemaType?{id:M.id,title:M.title||"".concat(M.template.schemaType," from template ").concat((z=M.template)==null?void 0:z.id),i18n:M.i18n,type:M.template.schemaType,icon:M.icon,template:{id:(B=M.template)==null?void 0:B.id,params:M.parameters},permission:{granted:M.granted,reason:M.reason}}:void 0}).filter(Ws),[T,y,h.to]),L=p.useCallback((M,N)=>fJe(u,M,N),[u]);return d.jsx(qFn,{...n,onSearch:I,liveEdit:S,getReferenceInfo:L,selectedState:O,editReferenceLinkComponent:R,createOptions:$,onEditReference:P})}function XFn(n){return yQ(n.schemaType)}function QFn(n){return Rvt(n.schemaType)}function JFn(n,e,r,i){const o={...n},s=i.y||0,a=i.x||0;return e.top+o.y<=r.top+s?o.y=r.top-e.top+s:e.bottom+o.y>=r.top+r.height-s&&(o.y=r.top+r.height-e.bottom-s),e.left+o.x<=r.left-a?o.x=r.left-e.left+a:e.right+o.x>=r.left+r.width+a&&(o.x=r.left+r.width-e.right+a),o}const e4n=n=>e=>{let{containerNodeRect:r,draggingNodeRect:i,transform:o}=e;return!i||!r?o:JFn(o,i,r,n)};var G_e=Object.freeze,t4n=Object.defineProperty,n4n=(n,e)=>G_e(t4n(n,"raw",{value:G_e(e||n.slice())})),q_e;const r4n=F(ze)(q_e||(q_e=n4n([`
  cursor: `,`;
`])),n=>n.$grid?"move":"ns-resize"),_Je=p.createContext(null),EJe=function(e){const r=p.useContext(_Je),{listeners:i,attributes:o}=TZe({id:r}),{t:s}=me(),{mode:a="bleed",...l}=e;return d.jsx(r4n,{icon:ZNe,tooltipProps:{content:s("inputs.array.action.drag.tooltip"),delay:{open:1e3}},mode:a,"data-ui":"DragHandleButton",...o,...l,...i})};var K_e=Object.freeze,i4n=Object.defineProperty,Y_e=(n,e)=>K_e(i4n(n,"raw",{value:K_e(e||n.slice())})),Z_e,X_e;const Qie="moving",CJe=F(te)(X_e||(X_e=Y_e([`
  `,`
`])),n=>n.$moving&&Ae(Z_e||(Z_e=Y_e([`
      z-index: 10000;
      /* prevents hover-effects etc on the dragged element  */
      pointer-events: none;
    `])))),o4n={threshold:{x:0,y:.02}},s4n={coordinateGetter:O2n},a4n={duration:200,easing:"ease"};function l4n(n){return n==="x"?p2n:m2n}function c4n(n){return n==="x"?b2n:w2n}const u4n=p.memo(function(e){const{items:r,axis:i,onItemMove:o,onItemMoveStart:s,onItemMoveEnd:a,children:l,...c}=e,u=iSn(o1e(Yre),o1e(qre,s4n)),f=p.useCallback(m=>{var g,v,y,b;const{active:x,over:_}=m;x.id!==(_==null?void 0:_.id)&&(o==null||o({fromIndex:(v=(g=x.data.current)==null?void 0:g.sortable)==null?void 0:v.index,toIndex:(b=(y=_==null?void 0:_.data.current)==null?void 0:y.sortable)==null?void 0:b.index})),a==null||a()},[o,a]),h=p.useMemo(()=>[e4n({y:4}),...i?[l4n(i)]:[]],[i]);return d.jsx(s2n,{sensors:u,autoScroll:o4n,modifiers:h,collisionDetection:sSn,onDragEnd:f,onDragStart:s,children:d.jsx(E2n,{items:r,strategy:i?c4n(i):void 0,children:d.jsx(eo,{...c,children:l})})})}),d4n=p.forwardRef(function(e,r){const{id:i,children:o,disableTransition:s}=e,{setNodeRef:a,transform:l,transition:c,active:u}=TZe({id:i,transition:s?null:a4n}),f=i===(u==null?void 0:u.id),h=p.useMemo(()=>({transform:K5.Translate.toString(l),transition:c,pointerEvents:u?"none":void 0}),[l,c,u]),m=p.useCallback(g=>{a(g),typeof r=="function"?r(g):r&&(r.current=g)},[r,a]);return d.jsx(CJe,{ref:m,style:h,$moving:f,className:f?Qie:"","data-index":e["data-index"],children:o})});function Jie(n){const{onItemMove:e,onItemMoveEnd:r,onItemMoveStart:i,sortable:o,...s}=n,a=p.useCallback(l=>{e==null||e(l)},[e]);return o?d.jsx(u4n,{onItemMove:a,onItemMoveStart:i,onItemMoveEnd:r,...s}):d.jsx(eo,{...s})}const eoe=p.forwardRef(function(e,r){const{sortable:i,...o}=e;return d.jsx(_Je.Provider,{value:e.id,children:i?d.jsx(d4n,{ref:r,...o}):d.jsx(CJe,{ref:r,...o})})});function toe(n){return"inset 0 0 0 ".concat(n.width,"px ").concat(n.color)}function GN(n){const{base:e,border:r,focusRing:i}=n,o=i.offset+i.width,s=0-i.offset,a=e?e.bg:"var(--card-bg-color)";return[s>0&&"inset 0 0 0 ".concat(s,"px var(--card-focus-ring-color)"),r&&toe(r),s<0&&"0 0 0 ".concat(0-s,"px ").concat(a),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var Q_e=Object.freeze,f4n=Object.defineProperty,h4n=(n,e)=>Q_e(f4n(n,"raw",{value:Q_e(e||n.slice())})),J_e;function SJe(n){return F(n)(e=>{const{$border:r,$radius:i}=e,{card:o,color:s,radius:a}=mt(e.theme),l={width:r?1:0,color:"var(--card-border-color)"};return Ae(J_e||(J_e=h4n([`
        --card-focus-box-shadow: `,`;

        border-radius: `,`;
        outline: none;
        box-shadow: var(--card-focus-box-shadow);

        &:focus {
          --card-focus-box-shadow: `,`;
        }
      `])),toe(l),Je(a[i??1]),GN({border:l,base:s,focusRing:{...o.focusRing,offset:0}}))})}function p4n(n){return n.files&&n.files.length>0?Promise.resolve(Array.from(n.files||[])):kJe(Array.from(n.items||[])).then(Ji)}function m4n(n){const e=Array.from(n.files||[]),r=Array.from(n.items||[]);return e&&e.length>0?Promise.resolve(e):kJe(r).then(Ji)}function eEe(n){return n===null?[]:[n]}function kJe(n){return Promise.all(n.map(e=>{if(e.kind==="file"&&e.webkitGetAsEntry){let r;try{r=e.webkitGetAsEntry()}catch{return eEe(e.getAsFile())}return r?r.isDirectory?TJe(r):eEe(e.getAsFile()):[]}if(e.kind==="file"){const r=e.getAsFile();return Promise.resolve(r?[r]:[])}return e.kind==="string"?(console.warn('DataTransfer with kind="string" is currently not supported'),Promise.resolve([])):(console.warn("Unknown DataTransferItem.kind: %s",e.kind),Promise.resolve([]))}))}function TJe(n){if(n.isFile)return new Promise((e,r)=>n.file(e,r)).then(e=>[e]);if(n.isDirectory){const e=n.createReader();return new Promise((r,i)=>e.readEntries(r,i)).then(r=>r.filter(i=>!i.name.startsWith("."))).then(r=>Promise.all(r.map(TJe)).then(Ji))}return Promise.resolve([])}function g4n(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return n.match(/^webkit-fake-url:\/\//)?Promise.reject(new Error("Cannot read image contents from webkit fake url")):new Promise((i,o)=>{const s=new Image;s.crossOrigin="anonymous",s.referrerPolicy="strict-origin-when-cross-origin",s.onload=()=>{const a=document.createElement("canvas");a.width=s.width,a.height=s.height;const l=a.getContext("2d");l==null||l.drawImage(s,0,0,a.width,a.height);try{a.toBlob(i,e,r)}catch(c){o(c)}},s.src=n})}const v4n={opacity:0,position:"absolute"};function AJe(n){return p.forwardRef(function(r,i){const{onFiles:o,onFilesOver:s,onFilesOut:a,disabled:l,...c}=r,[u,f]=p.useState(!1),h=p.useRef(null),m=Ko(i),g=p.useRef([]),v=p.useCallback(T=>{o==null||o(T)},[o]),y=p.useCallback(T=>{T.target===m.current&&(T.ctrlKey||T.metaKey)&&T.key==="v"&&f(!0)},[m]),b=p.useCallback(T=>{p4n(T.clipboardData).then(A=>h.current?A.length>0?A:y4n(h.current,"image/jpeg"):[]).then(A=>{var I;v(A),f(!1),(I=m.current)==null||I.focus()})},[v,m]),x=p.useCallback(T=>{g.current=[],T.preventDefault(),T.stopPropagation();const A=T.nativeEvent.dataTransfer;o&&A&&m4n(A).then(I=>{I&&v(I)}),a==null||a()},[v,o,a]),_=p.useCallback(T=>{o&&(T.preventDefault(),T.stopPropagation())},[o]),w=p.useCallback(T=>{if(T.stopPropagation(),s&&m.current===T.currentTarget){g.current=[...new Set(g.current),T.currentTarget];const A=Array.from(T.dataTransfer.items).map(I=>({type:I.type,kind:I.kind}));s(A)}},[s,m]),C=p.useCallback(T=>{T.stopPropagation();const A=g.current.indexOf(T.currentTarget);A>-1&&g.current.splice(A,1),g.current.length===0&&(a==null||a())},[a]),S=p.useRef(!1);return p.useEffect(()=>{var T;!S.current&&u&&h.current?(h.current.focus(),b4n(h.current)):S.current&&!u&&((T=h.current)==null||T.focus()),S.current=u},[u]),d.jsxs(d.Fragment,{children:[d.jsx(n,{...c,ref:m,onKeyDown:l?void 0:y,onDragOver:l?void 0:_,onDragEnter:l?void 0:w,onDragLeave:l?void 0:C,onDrop:l?void 0:x}),!l&&u&&d.jsx("div",{contentEditable:!0,onPaste:b,ref:h,style:v4n})]})})}function y4n(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"image/jpeg";return n.isContentEditable?new Promise(r=>setTimeout(r,10)).then(()=>Array.from(n.querySelectorAll("img"))).then(r=>(n.innerHTML="",r)).then(r=>Promise.all(r.map(i=>g4n(i.src)))).then(r=>r.map(i=>new File([i],"pasted-image.jpg",{type:e}))):Promise.reject(new Error('Expected element to be contentEditable="true". Instead found a non contenteditable '.concat(n.tagName)))}function b4n(n){const e=document.createRange();e.selectNodeContents(n);const r=window.getSelection();r==null||r.removeAllRanges(),r==null||r.addRange(e)}function x4n(n){const{hoveringFiles:e,types:r,resolveUploader:i}=n,o=e.filter(c=>r.some(u=>i(u,c))),s=e.length-o.length,a=r.length>1,{t:l}=me();return d.jsx(d.Fragment,{children:o.length>0?d.jsxs(d.Fragment,{children:[d.jsxs(to,{space:2,children:[d.jsx(J,{children:d.jsx(CS,{})}),a?l("inputs.files.common.drop-message.drop-to-upload-multi",{count:o.length}):l("inputs.files.common.drop-message.drop-to-upload"),d.jsx(J,{})]}),s>0&&d.jsx(te,{marginTop:4,children:d.jsxs(to,{space:2,children:[d.jsx(J,{muted:!0,size:1,children:d.jsx(sy,{})}),d.jsx(J,{muted:!0,size:1,children:l("inputs.files.common.drop-message.drop-to-upload.rejected-file-message",{count:s})})]})})]}):d.jsxs(to,{space:2,children:[d.jsx(J,{children:d.jsx(sy,{})}),d.jsx(J,{children:l("inputs.files.common.drop-message.drop-to-upload.no-accepted-file-message",{count:e.length})})]})})}var tEe=Object.freeze,w4n=Object.defineProperty,_4n=(n,e)=>tEe(w4n(n,"raw",{value:tEe(e||n.slice())})),nEe;const E4n=F(Cu)(nEe||(nEe=_4n([`
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  top: -2px;
  left: -2px;
  right: -2px;
  bottom: -2px;
  background-color: var(--card-bg-color);
  opacity: 0.8;
`])));var rEe=Object.freeze,C4n=Object.defineProperty,S4n=(n,e)=>rEe(C4n(n,"raw",{value:rEe(e||n.slice())})),iEe;const k4n=F.div(iEe||(iEe=S4n([`
  position: relative;
`])));function T4n(n,e,r){return n.map(i=>({type:i,uploader:e(i,r)})).filter(i=>i.uploader)}function A4n(n){const e=AJe(n);return p.forwardRef(function(i,o){const{children:s,resolveUploader:a,onUpload:l,types:c,...u}=i,{push:f}=da(),{t:h}=me(),m=p.useCallback((x,_)=>{const{type:w,uploader:C}=_;l==null||l({file:x,schemaType:w,uploader:C})},[l]),g=p.useCallback(x=>{if(!a)return;const _=x.map(S=>({file:S,uploaderCandidates:T4n(c,a,S)})),w=_.filter(S=>S.uploaderCandidates.length>0),C=_.filter(S=>S.uploaderCandidates.length===0);C.length>0&&f({closable:!0,status:"warning",title:h("inputs.array.error.cannot-upload-unable-to-convert",{count:C.length}),description:C.map((S,T)=>d.jsxs(oe,{gap:2,padding:2,children:[d.jsx(te,{children:d.jsx(J,{weight:"medium",children:S.file.name})}),d.jsx(te,{children:d.jsxs(J,{size:1,children:["(",S.file.type,")"]})})]},T))}),w.forEach(S=>{m(S.file,lw(S.uploaderCandidates,T=>T.uploader.priority)[0])})},[f,a,c,m,h]),[v,y]=p.useState([]),b=p.useCallback(()=>y([]),[]);return d.jsx(k4n,{children:d.jsxs(e,{...u,ref:o,onFiles:g,onFilesOver:y,onFilesOut:b,children:[a&&v.length>0&&d.jsx(E4n,{zOffset:10,children:d.jsx(x4n,{hoveringFiles:v,types:c,resolveUploader:a})}),s]})})})}const noe=SJe(A4n(ke)),I4n={constrainSize:!0,portal:!0,fallbackPlacements:["top","bottom"]};function roe(n){const{schemaType:e,readOnly:r,children:i,onValueCreate:o,onItemAppend:s}=n,a=p.useId(),{t:l}=me(),c=p.useCallback(h=>{const m=o(h);s(m)},[o,s]),u=p.useCallback(()=>{c(e.of[0])},[e,c]),f=e.of.length>1?"inputs.array.action.add-item-select-type":"inputs.array.action.add-item";return r?d.jsx(zn,{portal:!0,content:l("inputs.array.read-only-label"),children:d.jsx(eo,{children:d.jsx(ze,{icon:Ta,mode:"ghost",disabled:!0,size:"large",text:l(f)})})}):d.jsxs(eo,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[e.of.length===1?d.jsx(ze,{icon:Ta,mode:"ghost",onClick:u,size:"large",text:l(f)}):d.jsx(Vr,{button:d.jsx(ze,{icon:Ta,mode:"ghost",size:"large",text:l(f)}),id:a||"",menu:d.jsx(_r,{children:e.of.map((h,m)=>{var g,v;const y=Eg(h)&&(h.to||[]).length===1&&h.to[0].icon,b=h.icon||((g=h.type)==null?void 0:g.icon)||y;return d.jsx(Wt,{text:h.title||((v=h.type)==null?void 0:v.name),onClick:()=>c(h),icon:b},m)})}),popover:I4n}),i]})}var oEe=Object.freeze,D4n=Object.defineProperty,qN=(n,e)=>oEe(D4n(n,"raw",{value:oEe(e||n.slice())})),sEe,aEe,lEe,cEe;const R4n=F(oe)(sEe||(sEe=qN([`
  min-height: 33px;
`]))),O4n=F(oe)(aEe||(aEe=qN([`
  position: absolute;
  top: 0;
  right: 0;
  height: 33px;
`]))),jY=F(ke)(lEe||(lEe=qN([`
  position: absolute;
  top: 0;
  left: 0;
`]))),P4n=F(ke)(cEe||(cEe=qN([`
  transition: border-color 250ms;
  box-sizing: border-box;
  position: relative;

  @media (hover: hover) {
    `,` {
      opacity: 0;
    }

    &:hover,
    &:focus-within {
      `,` {
        opacity: 1;
      }
    }
  }

  .`,` & {
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &[aria-selected='true'] {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])),jY,jY,Qie);function IJe(n){const{validation:e,selected:r,tone:i,presence:o,children:s,dragHandle:a,menu:l,footer:c,...u}=n;return d.jsxs(P4n,{forwardedAs:oe,direction:"column",border:!0,selected:r,"aria-selected":r,radius:1,tone:i,...u,children:[s,a&&d.jsx(jY,{margin:1,radius:2,display:"flex",tone:"inherit","data-ui":"DragHandleCard",children:d.jsx(EJe,{$grid:!0,mode:"ghost"})}),o&&d.jsx(O4n,{align:"center",marginX:1,children:o}),d.jsxs(R4n,{align:"center",paddingX:1,sizing:"border",justify:"space-between",children:[d.jsx(oe,{children:e}),d.jsx(te,{children:c}),l]})]})}var uEe=Object.freeze,j4n=Object.defineProperty,L4n=(n,e)=>uEe(j4n(n,"raw",{value:uEe(e||n.slice())})),dEe;const $4n=F(ke)(dEe||(dEe=L4n([`
  max-width: `,`px;
`])),n=>{let{theme:e}=n;return e.sanity.container[1]});function M4n(n){const{value:e,onFocus:r,vertical:i,...o}=n,[s,a]=p.useState(!1),[l,c]=p.useState(null),{t:u}=me();ki(()=>a(!1),[l]);const f=p.useCallback(g=>{(g.key==="Escape"||g.key==="Tab")&&a(!1)},[]),h=p.useCallback(()=>{a(g=>!g)},[]),m=vu(e);return d.jsx(Ai,{open:s,ref:c,onKeyDown:f,portal:!0,constrainSize:!0,tone:"default",content:d.jsx($4n,{margin:1,padding:3,onKeyDown:f,tabIndex:0,overflow:"auto",children:d.jsxs(Se,{space:4,children:[d.jsx(te,{children:d.jsx(J,{weight:"medium",children:u("inputs.array.error.type-is-incompatible-title")})}),d.jsx(J,{size:1,children:d.jsx(bn,{t:u,i18nKey:"inputs.array.error.current-schema-not-declare-description",values:{typeName:m}})}),d.jsx(te,{children:d.jsxs(J,{size:1,children:[d.jsx(S8,{})," ",u("inputs.array.error.can-delete-but-no-edit-description")]})}),d.jsxs(Se,{space:2,children:[d.jsx(J,{size:1,weight:"medium",children:u("inputs.array.error.json-representation-description")}),d.jsx(ke,{padding:2,overflow:"auto",border:!0,children:d.jsx(ia,{size:1,as:"pre",language:"json",children:JSON.stringify(e,null,2)})})]})]})}),children:d.jsx(ke,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,style:{height:"100%"},onFocus:r,onClick:h,onKeyDown:f,__unstable_focusRing:!0,...o,children:d.jsxs(Se,{space:4,marginTop:2,children:[d.jsx(te,{margin:1,children:d.jsx(J,{align:"center",size:4,children:d.jsx(Rp,{})})}),d.jsx(J,{align:"center",size:1,children:d.jsx(bn,{t:u,i18nKey:"inputs.array.error.type-is-incompatible-prompt",values:{typeName:m}})})]})})})}const F4n={portal:!0,tone:"default"};function N4n(n){const{member:e,sortable:r}=n,i=p.useId(),{onChange:o}=Af(),{t:s}=me(),a=p.useCallback(()=>{o(In.from([un([{_key:e.key}])]))},[o,e.key]);return d.jsx(IJe,{dragHandle:r,tone:"caution",style:{height:"100%"},menu:d.jsx(Vr,{button:d.jsx(ha,{paddingY:3}),id:"".concat(i,"-menuButton"),menu:d.jsx(_r,{children:d.jsx(Wt,{text:s("inputs.array.action.remove-invalid-item"),tone:"critical",icon:vs,onClick:a})}),popover:F4n}),children:e.error.type==="INVALID_ITEM_TYPE"?d.jsx(M4n,{value:e.error.value,vertical:!0}):d.jsx("div",{children:s("inputs.array.error.unexpected-error",{error:e.error.type})})})}function ioe(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).reduce((e,r,i)=>{const o=typeof r;if(o==="number")return"".concat(e,"[").concat(r,"]");if(o==="string"){const s=i===0?"":".";return"".concat(e).concat(s).concat(r)}if(fh(r))return"".concat(e,'[_key=="').concat(r._key,'"]');throw new Error('Unsupported path segment "'.concat(r,'"'))},"")}function B4n(n){return n!==null||n!==void 0}function VF(n,e,r){if(!r)throw new Error("missing context");if(n===!0)return[];if(Array.isArray(n))return n.flatMap(s=>VF(s,e,r)).filter(B4n);if(typeof n=="string")return VF({message:n},e,r);if(typeof n.message!="string")throw new Error("".concat(ioe(r.path),": Validator must return 'true' if valid or an error message as a string on errors"));const{message:i}=n,o=[];n.path&&o.push(n.path);for(const s of n.paths||[])o.push(s);return o.length?o.map(s=>({path:(r.path||[]).concat(s),level:e||"error",item:{message:i},message:i})):[{level:e||"error",item:{message:i},message:i,path:r.path||[]}]}function U4n(n){return n.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}function DJe(n,e){const{currentLocale:r}=e,i=r.id;if(n[i])return n[i];if(i.includes("-")){const o=i.split("-",1)[0];if(n[o])return n[o]}return n["en-US"]||n["en-GB"]||n.en||"Unknown validation error (not localized)"}function RJe(n){return n!==!0&&typeof n<"u"&&typeof n!="string"&&io(n)&&!("message"in n)}function rI(n,e){if(n===e)return!0;if(Array.isArray(n)&&Array.isArray(e)){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!rI(n[r],e[r]))return!1;return!0}if(Array.isArray(n)!=Array.isArray(e))return!1;if(n&&e&&typeof n=="object"&&typeof e=="object"){const r=Object.keys(n);if(r.length!==Object.keys(e).length)return!1;if(n instanceof Date&&e instanceof Date)return n.getTime()===e.getTime();if(n instanceof Date!=e instanceof Date)return!1;if(n instanceof RegExp&&e instanceof RegExp)return n.toString()==e.toString();if(n instanceof RegExp!=e instanceof RegExp)return!1;for(let i=0;i<r.length;i++)if(r[i]!=="_key"&&!Object.prototype.hasOwnProperty.call(e,r[i]))return!1;for(let i=0;i<r.length;i++){const o=r[i];if(o!=="_key"&&!rI(n[o],e[o]))return!1}return!0}return!1}const z4n={}.toString,fEe=[Object,Function,Array,String,Boolean,Number,Date,RegExp,Error];function V4n(n){for(let e=0;e<fEe.length;e++)if(fEe[e]===n)return!0;return!1}function OJe(n){const e=z4n.call(n).slice(8,-1);if(n==null)return e.toLowerCase();const r=n.constructor;return r&&!V4n(r)?r.name:e}const hEe=5e3,pEe=n=>{var e;return n.message?n.message:n.results.length===1?(e=n.results[0])==null?void 0:e.message:n.i18n.t("{{messages, list}}",{messages:n.results.map(r=>{var i;return r.message||((i=r.item)==null?void 0:i.message)}),formatParams:{messages:{style:"long",type:n.operation}}})},mw={type:(n,e,r,i)=>{let{i18n:o}=i;const s=OJe(e);return s!==n&&s!=="undefined"?r||o.t("validation:generic.incorrect-type",{actualType:s,expectedType:n}):!0},presence:(n,e,r,i)=>{let{i18n:o}=i;return e===void 0&&n==="required"?r||o.t("validation:generic.required"):!0},all:async(n,e,r,i)=>{const s=(await Promise.all(n.map(a=>a.validate(e,i)))).flat();return s.length===0?!0:pEe({message:r,results:s,operation:"conjunction",i18n:i.i18n})},either:async(n,e,r,i)=>{const o=await Promise.all(n.map(a=>a.validate(e,i))),s=o.flat();return o.find(a=>!a.length)?!0:pEe({message:r,results:s,operation:"disjunction",i18n:i.i18n})},valid:(n,e,r,i)=>{let{i18n:o}=i;const s=typeof e;if(s==="undefined")return!0;const a=(s==="number"||s==="string")&&"".concat(e),l=a&&a.length>30?"".concat(a.slice(0,30),"…"):a;return n.some(c=>rI(c,e))?!0:r||o.t("validation:generic.not-allowed",a?{context:"hint",replace:{hint:l}}:{})},custom:async(n,e,r,i)=>{const o=setTimeout(()=>{i.environment==="studio"&&console.warn("Custom validator at ".concat(ioe(i.path)," has taken more than ").concat(hEe,"ms to respond"))},hEe);let s;try{s=await n(e,i)}finally{clearTimeout(o)}return RJe(s)?DJe(s,i.i18n):typeof s=="string"&&r||s}},H4n={...mw,min:(n,e,r,i)=>{let{i18n:o,type:s}=i;if(!e||e.length>=n)return!0;const a=Uj(s)?"blocks":void 0;return r||o.t("validation:array.minimum-length",{minLength:n,context:a})},max:(n,e,r,i)=>{let{i18n:o,type:s}=i;if(!e||e.length<=n)return!0;const a=Uj(s)?"blocks":void 0;return r||o.t("validation:array.maximum-length",{maxLength:n,context:a})},length:(n,e,r,i)=>{let{i18n:o,type:s}=i;if(!e||e.length===n)return!0;const a=Uj(s)?"blocks":void 0;return r||o.t("validation:array.exact-length",{wantedLength:n,context:a})},presence:(n,e,r,i)=>{let{i18n:o}=i;return n==="required"&&!e?r||o.t("validation:generic.required",{context:"array"}):!0},valid:(n,e,r,i)=>{let{i18n:o}=i;if(typeof e==="undefined")return!0;const a=[];for(let c=0;c<e.length;c++){const u=e[c];if(n.some(h=>rI(h,u)))continue;const f=u&&u._key?{_key:u._key}:c;a.push([f])}const l=r||o.t("validation:generic.not-allowed");return a.map(c=>({message:l,path:c}))},unique:(n,e,r,i)=>{let{i18n:o}=i;const s=[];if(!e)return!0;for(let c=0;c<e.length;c++)for(let u=c+1;u<e.length;u++){const f=e[c],h=e[u];rI(f,h)&&(s.indexOf(c)===-1&&s.push(c),s.indexOf(u)===-1&&s.push(u))}const a=s.map(c=>{const u=e[c];return[u&&u._key?{_key:u._key}:c]}),l=r||o.t("validation:array.item-duplicate");return a.map(c=>({message:l,path:c}))}},W4n={...mw,presence:(n,e,r,i)=>{let{i18n:o}=i;return n==="required"&&typeof e!="boolean"?r||o.t("validation:generic.required",{context:"boolean"}):!0}};function mEe(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}const G4n=/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/,gEe=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;const i=(r==null?void 0:r.dateFormat)||Uy,o=(r==null?void 0:r.timeFormat)||bne;return MS(e,n==="date"?i:"".concat(i," ").concat(o),n==="date")};function NP(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!n)return null;if(n==="now")return new Date;const r=new Date(n),i=isNaN(r.getTime());if(i&&e)throw new Error('Unable to parse "'.concat(n,'" to a date'));return i?null:r}const q4n={...mw,type:(n,e,r,i)=>{let{i18n:o}=i;return typeof e>"u"||G4n.test("".concat(e))?!0:r||o.t("validation:date.invalid-format")},min:(n,e,r,i)=>{let{type:o,i18n:s}=i;const a=NP(e),l=NP(n,!0);if(!a||!e||a>=l)return!0;if(!o)throw new Error("`type` was not provided in validation context.");const c=mEe(o.options)?o.options:{};return r||s.t("validation:date.minimum",{minDate:gEe(o.name,l,c),providedMinDate:n})},max:(n,e,r,i)=>{let{type:o,i18n:s}=i;const a=NP(e),l=NP(n,!0);if(!a||!e||a<=l)return!0;if(!o)throw new Error("`type` was not provided in validation context.");const c=mEe(o.options)?o.options:{};return r||s.t("validation:date.maximum",{maxDate:gEe(o.name,l,c),providedMaxDate:n})}},K4n=/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,Y4n={...mw,integer:(n,e,r,i)=>{let{i18n:o}=i;return Number.isInteger(e)?!0:r||o.t("validation:number.non-integer")},precision:(n,e,r,i)=>{let{i18n:o}=i;if(e===void 0)return!0;const s=e.toString().match(K4n);return Math.max((s[1]?s[1].length:0)-(s[2]?parseInt(s[2],10):0),0)>n?r||o.t("validation:number.maximum-precision",{limit:n}):!0},min:(n,e,r,i)=>{let{i18n:o}=i;return e>=n?!0:r||o.t("validation:number.minimum",{minNumber:n})},max:(n,e,r,i)=>{let{i18n:o}=i;return e<=n?!0:r||o.t("validation:number.maximum",{maxNumber:n})},greaterThan:(n,e,r,i)=>{let{i18n:o}=i;return e>n?!0:r||o.t("validation:number.greater-than",{threshold:n})},lessThan:(n,e,r,i)=>{let{i18n:o}=i;return e<n?!0:r||o.t("validation:number.less-than",{threshold:n})}},Z4n=["_key","_type","_weak"],X4n={...mw,presence:(n,e,r,i)=>{let{i18n:o}=i;if(n!=="required")return!0;const s=e&&Object.keys(e).filter(a=>!Z4n.includes(a));return e===void 0||s&&s.length===0?r||o.t("validation:generic.required",{context:"object"}):!0},reference:async(n,e,r,i)=>{if(!e)return!0;const{type:o,getDocumentExists:s,i18n:a}=i;if(!qp(e))return r||a.t("validation:object.not-reference");if(!o)throw new Error("`type` was not provided in validation context");if("weak"in o&&o.weak)return!0;if(!s)throw new Error("`getDocumentExists` was not provided in validation context");return await s({id:e._ref})?!0:a.t("validation:object.reference-not-published",{documentId:e._ref})},assetRequired:(n,e,r,i)=>{let{i18n:o}=i;return!e||!e.asset||!e.asset._ref?r||o.t("validation:object.asset-required",{context:n.assetType||""}):!0}},qV="http://sanity",Q4n=n=>/^\.*\//.test(n),J4n=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,e8n={...mw,min:(n,e,r,i)=>{let{i18n:o}=i;return!e||e.length>=n?!0:r||o.t("validation:string.minimum-length",{minLength:n})},max:(n,e,r,i)=>{let{i18n:o}=i;return!e||e.length<=n?!0:r||o.t("validation:string.maximum-length",{maxLength:n})},length:(n,e,r,i)=>{let{i18n:o}=i;return(e||"").length===n?!0:r||o.t("validation:string.exact-length",{wantedLength:n})},uri:(n,e,r,i)=>{let{i18n:o}=i;const s=e||"";if(!s)return!0;const{options:a}=n,{allowCredentials:l,relativeOnly:c}=a,u=a.allowRelative||c;let f;try{f=u?new URL(s,qV):new URL(s)}catch{return r||o.t("validation:string.url.invalid")}if(c&&f.origin!==qV)return r||o.t("validation:string.url.not-relative");if(!u&&f.origin===qV&&Q4n(s))return r||o.t("validation:string.url.not-absolute");if(!l&&(f.username||f.password))return r||o.t("validation:string.url.includes-credentials");const h=f.protocol.replace(/:$/,"");return a.scheme.some(g=>g.test(h))?!0:r||o.t("validation:string.url.disallowed-scheme",{scheme:h})},stringCasing:(n,e,r,i)=>{let{i18n:o}=i;const s=e||"";return n==="uppercase"&&s!==s.toLocaleUpperCase()?r||o.t("validation:string.uppercase"):n==="lowercase"&&s!==s.toLocaleLowerCase()?r||o.t("validation:string.lowercase"):!0},presence:(n,e,r,i)=>{let{i18n:o}=i;return n==="required"&&!e?r||o.t("validation:generic.required",{context:"string"}):!0},regex:(n,e,r,i)=>{let{i18n:o}=i;const{pattern:s,name:a,invert:l}=n,c=a||"".concat(s.toString()),u=e||"";s.lastIndex=0;const f=s.test(u);return!l&&!f||l&&f?r||(l?o.t("validation:string.regex-match",{name:c}):o.t("validation:string.regex-does-not-match",{name:c})):!0},email:(n,e,r,i)=>{let{i18n:o}=i;const s="".concat(e||"").trim();return!s||J4n.test(s)?!0:r||o.t("validation:string.email")}};var va;const t8n={Boolean:W4n,Number:Y4n,String:e8n,Array:H4n,Object:X4n,Date:q4n},PJe=n=>n&&n.type?PJe(n.type):n,n8n=n=>typeof n!="object"||!n?!1:n.type===jJe.FIELD_REF,r8n=[],vEe=Symbol("FIELD_REF"),i8n=["Array","Boolean","Date","Number","Object","String"],jJe=(va=class{constructor(n){this._type=void 0,this._level=void 0,this._required=void 0,this._typeDef=void 0,this._message=void 0,this._rules=[],this._fieldRules=void 0,this.valueOfField=va.valueOfField.bind(va),this._typeDef=n,this.reset()}_mergeRequired(n){if(this._required==="required"||n._required==="required")return"required";if(this._required==="optional"||n._required==="optional")return"optional"}error(n){const e=this.clone();return e._level="error",e._message=n||void 0,e}warning(n){const e=this.clone();return e._level="warning",e._message=n||void 0,e}info(n){const e=this.clone();return e._level="info",e._message=n||void 0,e}reset(){return this._type=this._type||void 0,this._rules=(this._rules||[]).filter(n=>n.flag==="type"),this._message=void 0,this._required=void 0,this._level="error",this._fieldRules=void 0,this}isRequired(){return this._required==="required"}clone(){const n=new va;return n._type=this._type,n._message=this._message,n._required=this._required,n._rules=won(this._rules),n._level=this._level,n._fieldRules=this._fieldRules,n._typeDef=this._typeDef,n}cloneWithRules(n){const e=this.clone(),r=new Set;return n.forEach(i=>{i.flag==="type"&&(e._type=i.constraint),r.add(i.flag)}),e._rules=e._rules.filter(i=>{const o=["type","uri","email"].includes(i.flag),s=r.has(i.flag);return!(o&&s)}).concat(n),e}merge(n){if(this._type&&n._type&&this._type!==n._type)throw new Error("merge() failed: conflicting types");const e=this.cloneWithRules(n._rules);return e._type=this._type||n._type,e._message=this._message||n._message,e._required=this._mergeRequired(n),e._level=this._level==="error"?n._level:this._level,e}type(n){const e="".concat(n.slice(0,1).toUpperCase()).concat(n.slice(1));if(!i8n.includes(e))throw new Error('Unknown type "'.concat(n,'"'));const r=this.cloneWithRules([{flag:"type",constraint:e}]);return r._type=e,r}all(n){return this.cloneWithRules([{flag:"all",constraint:n}])}either(n){return this.cloneWithRules([{flag:"either",constraint:n}])}optional(){const n=this.cloneWithRules([{flag:"presence",constraint:"optional"}]);return n._required="optional",n}required(){const n=this.cloneWithRules([{flag:"presence",constraint:"required"}]);return n._required="required",n}custom(n){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).bypassConcurrencyLimit&&Object.assign(n,{bypassConcurrencyLimit:!0}),this.cloneWithRules([{flag:"custom",constraint:n}])}min(n){return this.cloneWithRules([{flag:"min",constraint:n}])}max(n){return this.cloneWithRules([{flag:"max",constraint:n}])}length(n){return this.cloneWithRules([{flag:"length",constraint:n}])}valid(n){const e=Array.isArray(n)?n:[n];return this.cloneWithRules([{flag:"valid",constraint:e}])}integer(){return this.cloneWithRules([{flag:"integer"}])}precision(n){return this.cloneWithRules([{flag:"precision",constraint:n}])}positive(){return this.cloneWithRules([{flag:"min",constraint:0}])}negative(){return this.cloneWithRules([{flag:"lessThan",constraint:0}])}greaterThan(n){return this.cloneWithRules([{flag:"greaterThan",constraint:n}])}lessThan(n){return this.cloneWithRules([{flag:"lessThan",constraint:n}])}uppercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"uppercase"}])}lowercase(){return this.cloneWithRules([{flag:"stringCasing",constraint:"lowercase"}])}regex(n,e,r){var i,o;const s=typeof e=="string"?e:(i=e==null?void 0:e.name)!=null?i:r==null?void 0:r.name,a=typeof e=="string"?!1:(o=e==null?void 0:e.invert)!=null?o:r==null?void 0:r.invert,l={pattern:n,name:s,invert:a||!1};return this.cloneWithRules([{flag:"regex",constraint:l}])}email(){return this.cloneWithRules([{flag:"email"}])}uri(n){const e=(n==null?void 0:n.scheme)||["http","https"],r=Array.isArray(e)?e:[e];if(!r.length)throw new Error("scheme must have at least 1 scheme specified");const i={options:{scheme:r.map(o=>{if(!(o instanceof RegExp)&&typeof o!="string")throw new Error("scheme must be a RegExp or a String");return typeof o=="string"?new RegExp("^".concat(U4n(o),"$")):o}),allowRelative:(n==null?void 0:n.allowRelative)||!1,relativeOnly:(n==null?void 0:n.relativeOnly)||!1,allowCredentials:(n==null?void 0:n.allowCredentials)||!1}};return this.cloneWithRules([{flag:"uri",constraint:i}])}unique(){return this.cloneWithRules([{flag:"unique"}])}reference(){return this.cloneWithRules([{flag:"reference"}])}fields(n){if(this._type!=="Object")throw new Error("fields() can only be called on an object type");const e=this.cloneWithRules([]);return e._fieldRules=n,e}assetRequired(){const n=PJe(this._typeDef);let e;return n&&["image","file"].includes(n.name)?e=n.name==="image"?"image":"file":e="asset",this.cloneWithRules([{flag:"assetRequired",constraint:{assetType:e}}])}async validate(n,e){let{__internal:r={},...i}=e;const{customValidationConcurrencyLimiter:o}=r,s=n==null;if(s&&this._required==="optional")return r8n;const a=this._required===void 0&&s?this._rules.filter(u=>u.flag==="custom"):this._rules,l=this._type&&t8n[this._type]||mw;return(await Promise.all(a.map(async u=>{if(u.flag===void 0)throw new Error('Invalid rule, did not contain "flag"-property');const f=l[u.flag];if(!f){const g=this._type?'type "'.concat(this._type,'"'):"rule without declared type";throw new Error('Validator for flag "'.concat(u.flag,'" not found for ').concat(g))}let h="constraint"in u?u.constraint:null;if(n8n(h)&&(h=ko(i.parent,h.path)),u.flag==="custom"&&o&&!(h!=null&&h.bypassConcurrencyLimit)){const g=h;h=async function(){await o.ready();try{return await g(...arguments)}finally{o.release()}}}const m=RJe(this._message)?DJe(this._message,i.i18n):this._message;try{const g=await f(h,n,m,i);return VF(g,this._level,i)}catch(g){const v="".concat(ioe(i.path),": Exception occurred while validating value: ").concat(g.message);return VF({message:v},"error",i)}}))).flat()}},va.FIELD_REF=vEe,va.array=n=>new va(n).type("Array"),va.object=n=>new va(n).type("Object"),va.string=n=>new va(n).type("String"),va.number=n=>new va(n).type("Number"),va.boolean=n=>new va(n).type("Boolean"),va.dateTime=n=>new va(n).type("Date"),va.valueOfField=n=>({type:vEe,path:n}),va),o8n=hD(a8n);function s8n(n){const e=n.indexOf("drafts.")===0;return{published:e?n.slice(7):n,draft:e?n:"drafts.".concat(n)}}function yEe(n){return n.reduce((e,r,i)=>{const o=typeof r=="number",s=fh(r),a=i===0?"":".",l=o||s?"[]":"".concat(a).concat(r);return"".concat(e).concat(l)},"")}const bEe=(n,e)=>{const{getClient:r,document:i,path:o,type:s}=e,a=s==null?void 0:s.options;if(!i)throw new Error("`document` was not provided in validation context.");if(!o)throw new Error("`path` was not provided in validation context.");const l=(a==null?void 0:a.disableArrayWarning)||!1,{published:c,draft:u}=s8n(i._id),f=i._type,h=yEe(o.concat("current"));!l&&h.includes("[]")&&e.environment==="studio"&&o8n(yEe(o));const m=["_type == $docType","!(_id in [$draft, $published])","".concat(h," == $slug")].join(" && ");return r({apiVersion:"2023-11-13"}).fetch("!defined(*[".concat(m,"][0]._id)"),{docType:f,draft:u,published:c,slug:n},{tag:"validation.slug-is-unique"})};function a8n(n){console.warn(["Slug field at path ".concat(n," is within an array and cannot be automatically checked for uniqueness"),'If you need to check for uniqueness, provide your own "isUnique" method',"To disable this message, set `disableArrayWarning: true` on the slug `options` field"].join(`
`))}const l8n=async(n,e)=>{var r;if(!n)return!0;const{i18n:i}=e;if(typeof n!="object"||Array.isArray(n))return i.t("validation:slug.not-object");if(!Lvt(n)||n.current.trim().length===0)return i.t("validation:slug.missing-current");const o=(r=e==null?void 0:e.type)==null?void 0:r.options,s=(o==null?void 0:o.isUnique)||bEe,a={...e,parent:e.parent,type:e.type,defaultIsUnique:bEe};return await s(n.current,a)?!0:i.t("validation:slug.not-unique",{slug:n.current})},c8n={array:!0,boolean:!0,date:!0,number:!0,object:!0,string:!0},u8n=n=>n in c8n;function ooe(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;return n?e.has(n)?[]:(e.add(n),[...n.type?ooe(n.type,e):[],n]):[]}function d8n(n,e){let r=n;u8n(e.jsonType)&&(r=r.type(e.jsonType));const i=(e==null?void 0:e.options)&&typeof e.options=="object"&&"list"in e.options&&e.options.list;return Array.isArray(i)&&(r=r.valid(i.map(o=>f8n(o,e)))),e.name==="datetime"||e.name==="date"?r.type("Date"):e.name==="url"?r.uri():e.name==="slug"?r.custom(l8n,{bypassConcurrencyLimit:!0}):e.name==="reference"?r.reference():e.name==="email"?r.email():r}function LJe(n){return n?!("fields"in n)&&n.type?LJe(n.type):!("fields"in n)||!Array.isArray(n.fields)?!1:n.fields.some(e=>e.name==="value"):!1}function f8n(n,e){return e.jsonType==="object"&&LJe(e)||n.value===void 0?n:n.value}function iI(n){if(!n)return[];const e=n.validation;if(Array.isArray(e))return e.flatMap(i=>iI({...n,validation:i}));if(e&&typeof e=="object")return[e];const r=Object.values(ooe(n).reduce((i,o)=>(i[o.name]=o,i),{})).reduce(d8n,new jJe(n));return e?iI({...n,validation:e(r)}):[r]}function h8n(n){return t$(n,new Set),n}function t$(n,e){if(!e.has(n)){if(e.add(n),n.validation=iI(n),"fields"in n)for(const r of n.fields)t$(r.type,e);if("of"in n)for(const r of n.of)t$(r,e);if(n.annotations)for(const r of n.annotations)t$(r,e)}}function p8n(n){return n.getTypeNames().forEach(r=>{const i=n.get(r);i&&h8n(i)}),n}const m8n=typeof window>"u"||typeof document>"u",g8n=[Zd],v8n=hD(function(){const e=y8n();return e.init(),{currentLocale:Zd,locales:g8n,loadNamespaces:e.loadNamespaces,t:e.t}});function y8n(){var n;const e={[Zd.id]:{}},r=((n=yXe.bundles)==null?void 0:n.filter(eDn))||[],i=new Set;for(const o of r)e[Zd.id][o.namespace]=o.resources,i.add(o.namespace);return $He({ns:Array.from(i),defaultNS:eI,initImmediate:!0,partialBundledLanguages:!0,fallbackLng:Zd.id,lng:Zd.id,supportedLngs:[Zd.id],debug:!1,load:"currentOnly",resources:e,interpolation:{escapeValue:m8n}})}const b8n=function(e,r){const i=Date.now();return window.setTimeout(()=>{e({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-i)}})},0)},x8n=function(e){return window.clearTimeout(e)},HF=typeof window>"u"?void 0:window,w8n=(HF==null?void 0:HF.requestIdleCallback)||b8n,_8n=(HF==null?void 0:HF.cancelIdleCallback)||x8n,E8n=n=>e=>{var r;if(typeof e!="object"||!e)return!0;const i=new Set((r=n.fields)==null?void 0:r.map(s=>s.name));return Object.keys(e).filter(s=>!s.startsWith("_")).filter(s=>!i.has(s)).map(s=>({message:"Field '".concat(s,"' does not exist on type '").concat(n.name,"'"),path:[s]}))},xEe=n=>typeof n=="object"&&n!==null&&!Array.isArray(n),C8n=n=>n!=null;function S8n(n,e){if(e.length===1)return e[0];const r=vQ(n)&&n._type,i=n==null||!r&&OJe(n).toLowerCase();return i&&i!=="object"?e.find(o=>o.jsonType===i):e.find(o=>{var s;return((s=o.type)==null?void 0:s.name)===r})||e.find(o=>o.name===r)||e.find(o=>o.name==="object"&&i==="object")}const wEe=new WeakMap;function k8n(n){let{document:e,getClient:r,i18n:i=v8n(),schema:o,getDocumentExists:s,environment:a,maxCustomValidationConcurrency:l}=n;if(typeof(e==null?void 0:e._type)!="string")throw new Error("Tried to validated a value without a '_type'");const c=o.get(e._type);if(!c)return a==="studio"?(console.warn('Schema type for object type "%s" not found, skipping validation',e._type),Ke([])):Ke([{level:"warning",message:"Could not find schema type for type '".concat(e._type,"', skipping validation"),path:[]}]);let u=wEe.get(o);!u&&l&&(u=new _cn(l),wEe.set(o,u));const f={getClient:r,schema:o,parent:void 0,value:e,path:[],document:e,type:c,i18n:i,getDocumentExists:s,environment:a,customValidationConcurrencyLimiter:u};return Gi(i.loadNamespaces(["validation"])).pipe(gn(()=>LY(f)),vi(h=>{console.error(h);const m=(h==null?void 0:h.message)||"Unknown error";return Ke([{level:"error",message:m,item:{message:m},path:[]}])}))}function LY(n){let{value:e,type:r,path:i=[],parent:o,customValidationConcurrencyLimiter:s,environment:a,...l}=n;const c=y=>(r==null?void 0:r.jsonType)==="object"&&ooe(r).find(b=>["object","document","file","image"].includes(b.name))&&a!=="studio"?y.custom(E8n(r),{bypassConcurrencyLimit:!0}).warning():y,u=iI(r),f=u.map(c).map(y=>ms(()=>y.validate(e,{...l,environment:a,parent:o,path:i,type:r,__internal:{customValidationConcurrencyLimiter:s}})));let h=[];const m=u.some(y=>y.isRequired());if((r==null?void 0:r.jsonType)==="object"&&(!!e||e==null&&m)){const y=r.fields.reduce((b,x)=>(b[x.name]=x.type,b),{});h=h.concat(u.map(b=>b._fieldRules).filter(C8n).flatMap(b=>Object.entries(b)).flatMap(b=>{let[x,_]=b;const w=y[x];return iI({...w,validation:_}).map(c).map(C=>{const S=xEe(e)?e[x]:void 0;return ms(()=>C.validate(S,{...l,parent:e,path:i.concat(x),type:w,environment:a,__internal:{customValidationConcurrencyLimiter:s}}))})})),h=h.concat(r.fields.map(b=>LY({...l,parent:e,value:xEe(e)?e[b.name]:void 0,path:i.concat(b.name),type:b.type,environment:a,customValidationConcurrencyLimiter:s})))}return(r==null?void 0:r.jsonType)==="array"&&Array.isArray(e)&&(h=h.concat(e.map((y,b)=>LY({...l,parent:e,value:y,path:i.concat(fh(y)?{_key:y._key}:b),type:S8n(y,r.of),environment:a,customValidationConcurrencyLimiter:s})))),ms(()=>ai([...f,...h])).pipe(On(y=>Go(T8n(),y),40),W4(),y8e(),Me(Ji),Me(y=>u.some(b=>b._fieldRules)?vy(y,b=>JSON.stringify(b)):y))}function T8n(n){return new Un(e=>{const r=w8n(()=>{e.complete()},n?{timeout:n}:void 0);return()=>_8n(r)})}var A8n={name:"sanity.assetSourceData",title:"Asset Source Data",type:"object",fields:[{name:"name",title:"Source name",description:"A canonical name for the source this asset is originating from",type:"string"},{name:"id",title:"Asset Source ID",description:"The unique ID for the asset within the originating source so you can programatically find back to it",type:"string"},{name:"url",title:"Asset information URL",description:"A URL to find more information about this asset in the originating source",type:"string"}]},I8n={name:"sanity.fileAsset",title:"File",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",title:"File extension",readOnly:!0,fieldset:"system"},{name:"mimeType",type:"string",title:"Mime type",readOnly:!0,fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{title:"originalFilename",path:"path",mimeType:"mimeType",size:"size"},prepare(n){return{title:n.title||n.path.split("/").slice(-1)[0],subtitle:"".concat(n.mimeType," (").concat((n.size/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},D8n={title:"Geographical Point",name:"geopoint",type:"object",fields:[{name:"lat",type:"number",title:"Latitude"},{name:"lng",type:"number",title:"Longitude"},{name:"alt",type:"number",title:"Altitude"}]},R8n={name:"sanity.imageAsset",title:"Image",type:"document",fieldsets:[{name:"system",title:"System fields",description:"These fields are managed by the system and not editable"}],fields:[{name:"originalFilename",type:"string",title:"Original file name",readOnly:!0},{name:"label",type:"string",title:"Label"},{name:"title",type:"string",title:"Title"},{name:"description",type:"string",title:"Description"},{name:"altText",type:"string",title:"Alternative text"},{name:"sha1hash",type:"string",title:"SHA1 hash",readOnly:!0,fieldset:"system"},{name:"extension",type:"string",readOnly:!0,title:"File extension",fieldset:"system"},{name:"mimeType",type:"string",readOnly:!0,title:"Mime type",fieldset:"system"},{name:"size",type:"number",title:"File size in bytes",readOnly:!0,fieldset:"system"},{name:"assetId",type:"string",title:"Asset ID",readOnly:!0,fieldset:"system"},{name:"uploadId",type:"string",readOnly:!0,hidden:!0,fieldset:"system"},{name:"path",type:"string",title:"Path",readOnly:!0,fieldset:"system"},{name:"url",type:"string",title:"Url",readOnly:!0,fieldset:"system"},{name:"metadata",type:"sanity.imageMetadata",title:"Metadata"},{name:"source",type:"sanity.assetSourceData",title:"Source",readOnly:!0,fieldset:"system"}],preview:{select:{id:"_id",title:"originalFilename",mimeType:"mimeType",size:"size"},prepare(n){return{title:n.title||typeof n.path=="string"&&n.path.split("/").slice(-1)[0],media:{asset:{_ref:n.id}},subtitle:"".concat(n.mimeType," (").concat((Number(n.size)/1024/1024).toFixed(2)," MB)")}}},orderings:[{title:"File size",name:"fileSizeDesc",by:[{field:"size",direction:"desc"}]}]},O8n={name:"sanity.imageCrop",title:"Image crop",type:"object",fields:[{name:"top",type:"number"},{name:"bottom",type:"number"},{name:"left",type:"number"},{name:"right",type:"number"}]},P8n={name:"sanity.imageDimensions",type:"object",title:"Image dimensions",fields:[{name:"height",type:"number",title:"Height",readOnly:!0},{name:"width",type:"number",title:"Width",readOnly:!0},{name:"aspectRatio",type:"number",title:"Aspect ratio",readOnly:!0}]},j8n={name:"sanity.imageHotspot",title:"Image hotspot",type:"object",fields:[{name:"x",type:"number"},{name:"y",type:"number"},{name:"height",type:"number"},{name:"width",type:"number"}]},L8n={name:"sanity.imageMetadata",title:"Image metadata",type:"object",fieldsets:[{name:"extra",title:"Extra metadata…",options:{collapsable:!0}}],fields:[{name:"location",type:"geopoint"},{name:"dimensions",title:"Dimensions",type:"sanity.imageDimensions",fieldset:"extra"},{name:"palette",type:"sanity.imagePalette",title:"Palette",fieldset:"extra"},{name:"lqip",title:"LQIP (Low-Quality Image Placeholder)",type:"string",readOnly:!0},{name:"blurHash",title:"BlurHash",type:"string",readOnly:!0},{name:"hasAlpha",title:"Has alpha channel",type:"boolean",readOnly:!0},{name:"isOpaque",title:"Is opaque",type:"boolean",readOnly:!0}]},$8n={name:"sanity.imagePalette",title:"Image palette",type:"object",fields:[{name:"darkMuted",type:"sanity.imagePaletteSwatch",title:"Dark Muted"},{name:"lightVibrant",type:"sanity.imagePaletteSwatch",title:"Light Vibrant"},{name:"darkVibrant",type:"sanity.imagePaletteSwatch",title:"Dark Vibrant"},{name:"vibrant",type:"sanity.imagePaletteSwatch",title:"Vibrant"},{name:"dominant",type:"sanity.imagePaletteSwatch",title:"Dominant"},{name:"lightMuted",type:"sanity.imagePaletteSwatch",title:"Light Muted"},{name:"muted",type:"sanity.imagePaletteSwatch",title:"Muted"}]},M8n={name:"sanity.imagePaletteSwatch",title:"Image palette swatch",type:"object",fields:[{name:"background",type:"string",title:"Background",readOnly:!0},{name:"foreground",type:"string",title:"Foreground",readOnly:!0},{name:"population",type:"number",title:"Population",readOnly:!0},{name:"title",type:"string",title:"String",readOnly:!0}]},F8n={title:"Slug",name:"slug",type:"object",fields:[{name:"current",title:"Current slug",type:"string"},{name:"source",title:"Source field",type:"string",hidden:!0}]};const N8n=n=>n.severity==="error",B8n=[A8n,F8n,D8n,R8n,I8n,O8n,j8n,L8n,P8n,$8n,M8n];function U8n(n){const e=mon(n.types).getTypes(),r=min(e),i=r.some(s=>s.problems.some(N8n)),o=zte.compile({name:n.name,types:i?[]:[...n.types,...B8n].filter(Boolean)});return o._validation=r,p8n(o)}function nx(n){return typeof n.title=="string"?n.title:n.type?nx(n.type):n.name||n.jsonType}const z8n=[0,0,1,0];function V8n(n){return n.stopPropagation()}function H8n(n){return n.stopPropagation()}function $Je(n){const{children:e,header:r,id:i,legacy_referenceElement:o,onClose:s,type:a,width:l,autofocus:c}=n,[u,f]=p.useState(null),h=p.useRef(null),m=d.jsx(WD,{margins:z8n,children:d.jsx(te,{ref:h,children:e})});return a==="dialog"?d.jsx(nI,{scrollElement:u,containerElement:h,children:d.jsx(ja,{header:r,id:i||"",onClickOutside:s,onClose:s,onDragEnter:V8n,onDrop:H8n,width:l,contentRef:f,__unstable_autoFocus:c,children:m})}):d.jsx(Ner,{header:r,onClose:s,referenceElement:o,width:l,containerRef:f,children:d.jsx(nI,{scrollElement:u,containerElement:h,children:m})})}const W8n={portal:!0,tone:"default",placement:"left",constrainSize:!0},KN=p.memo(function(e){const{types:r,onInsert:i}=e,{t:o}=me();return d.jsxs(d.Fragment,{children:[d.jsx(_Ee,{pos:"before",types:r,onInsert:i,text:o("inputs.array.action.add-before"),icon:nBe}),d.jsx(_Ee,{pos:"after",types:r,onInsert:i,text:o("inputs.array.action.add-after"),icon:rBe})]})});function _Ee(n){const{types:e,onInsert:r,pos:i,text:o,icon:s}=n;return(e==null?void 0:e.length)===1?d.jsx(Wt,{text:o,icon:s,onClick:()=>r(i,e[0])},i):d.jsx(Ete,{text:o,popover:W8n,children:e==null?void 0:e.map(a=>d.jsx(Wt,{icon:a.icon,text:a.title,onClick:()=>r(i,a)},a.name))},i)}var EEe=Object.freeze,G8n=Object.defineProperty,q8n=(n,e)=>EEe(G8n(n,"raw",{value:EEe(e||n.slice())})),CEe;const K8n=F(ke)(CEe||(CEe=q8n([`
  border-top-right-radius: inherit;
  border-top-left-radius: inherit;
  height: 100%;
  position: relative;

  @media (hover: hover) {
    &:hover {
      filter: brightness(95%);
    }
  }

  &:focus:focus-visible {
    box-shadow: 0 0 0 2px var(--card-focus-ring-color);
  }
`])));function Y8n(n){let{readOnly:e,hasErrors:r,hasWarnings:i}=n;return e?"transparent":r?"critical":i?"caution":"default"}const Z8n={portal:!0,tone:"default"};function X8n(n){var e,r,i,o,s,a;const{schemaType:l,parentSchemaType:c,path:u,readOnly:f,onRemove:h,value:m,open:g,onInsert:v,onFocus:y,onOpen:b,onClose:x,changed:_,focused:w,children:C,inputProps:{renderPreview:S}}=n,{t:T}=me(),A=!f&&((e=c.options)==null?void 0:e.sortable)!==!1,I=c.of,D=p.useRef(null);UN(D,g),rc(w,(le,K)=>{var Q;!le&&K&&D.current&&((Q=D.current)==null||Q.focus())});const R=m._resolvingInitialValue,P=p.useCallback(()=>{v({items:[{...m,_key:tI()}],position:"after"})},[v,m]),O=p.useCallback((le,K)=>{v({items:[t2(K)],position:le})},[v]),$=QS(u,!0),L=p.useMemo(()=>$.length===0?null:d.jsx(HD,{presence:$,maxAvatars:1}),[$]),M=Aie(u,!0),N=p.useMemo(()=>M.length===0?null:d.jsx(te,{paddingX:1,paddingY:3,children:d.jsx(JS,{validation:M,__unstable_showSummary:!0})}),[M]),z=M.some(le=>le.level==="error"),B=M.some(le=>le.level==="warning"),H=p.useMemo(()=>f?null:d.jsx(Vr,{button:d.jsx(ha,{paddingY:3}),id:"".concat(n.inputId,"-menuButton"),menu:d.jsxs(_r,{children:[d.jsx(Wt,{text:T("inputs.array.action.remove"),tone:"critical",icon:vs,onClick:h}),d.jsx(Wt,{text:T("inputs.array.action.duplicate"),icon:Np,onClick:P}),d.jsx(KN,{types:I,onInsert:O})]}),popover:Z8n}),[P,O,h,I,n.inputId,f,T]),X=Y8n({readOnly:f,hasErrors:z,hasWarnings:B}),G=d.jsx(IJe,{menu:H,presence:L,validation:N,tone:X,radius:2,border:!0,dragHandle:A,selected:g,children:d.jsxs(K8n,{tone:"inherit",overflow:"auto",forwardedAs:"button","data-ui":"PreviewCard","data-as":"button",type:"button",flex:1,tabIndex:0,disabled:R,onClick:b,ref:D,onFocus:y,__unstable_focusRing:!0,children:[S({schemaType:l,value:m,layout:"media",withBorder:!1,withShadow:!1}),R&&d.jsx(Zr,{fill:!0})]})}),ne=nx(l);return d.jsxs(d.Fragment,{children:[d.jsx(_l,{path:u,isChanged:_,hasFocus:!!w,children:G}),g&&d.jsx($Je,{header:f?T("inputs.array.action.view",{itemTypeTitle:ne}):T("inputs.array.action.edit",{itemTypeTitle:ne}),type:((i=(r=c==null?void 0:c.options)==null?void 0:r.modal)==null?void 0:i.type)||"dialog",width:(a=(s=(o=c==null?void 0:c.options)==null?void 0:o.modal)==null?void 0:s.width)!=null?a:1,id:m._key,onClose:x,autofocus:w,legacy_referenceElement:D.current,children:C})]})}const Q8n=[];function J8n(n){var e;const{arrayFunctions:r=roe,elementProps:i,members:o,onChange:s,onInsert:a,onItemMove:l,onUpload:c,readOnly:u,renderAnnotation:f,renderBlock:h,renderField:m,renderInlineBlock:g,renderInput:v,renderPreview:y,resolveUploader:b,schemaType:x,value:_=Q8n}=n,{t:w}=me(),C=p.useCallback(D=>{a({items:[D],position:"before",referenceItem:0})},[a]),S=p.useCallback(D=>{a({items:[D],position:"after",referenceItem:-1})},[a]),T=((e=x.options)==null?void 0:e.sortable)!==!1,A=p.useCallback(D=>d.jsx(X8n,{...D}),[]),I=p.useMemo(()=>o.map(D=>D.key),[o]);return d.jsxs(Se,{space:2,children:[d.jsx(noe,{types:x.of,resolveUploader:b,onUpload:c,...i,tabIndex:0,children:d.jsxs(Se,{"data-ui":"ArrayInput__content",space:2,children:[(o==null?void 0:o.length)===0&&d.jsx(ke,{padding:3,border:!0,radius:2,children:d.jsx(J,{align:"center",muted:!0,size:1,children:x.placeholder||d.jsx(d.Fragment,{children:w("inputs.array.no-items-label")})})}),(o==null?void 0:o.length)>0&&d.jsx(ke,{border:!0,radius:1,children:d.jsx(Jie,{columns:[2,3,4],gap:3,padding:1,margin:1,items:I,onItemMove:l,sortable:T,children:o.map(D=>d.jsxs(eoe,{sortable:T,id:D.key,flex:1,children:[D.kind==="item"&&d.jsx(Mie,{member:D,renderAnnotation:f,renderBlock:h,renderInlineBlock:g,renderItem:A,renderField:m,renderInput:v,renderPreview:y}),D.kind==="error"&&d.jsx(N4n,{sortable:T,member:D})]},D.key))})})]})}),d.jsx(r,{onChange:s,onItemAppend:S,onItemPrepend:C,onValueCreate:t2,readOnly:u,schemaType:x,value:_})]})}var SEe=Object.freeze,e6n=Object.defineProperty,t6n=(n,e)=>SEe(e6n(n,"raw",{value:SEe(e||n.slice())})),kEe;const n6n=F(ke)(kEe||(kEe=t6n([`
  position: relative;
  border: 1px solid transparent;
  transition: border-color 250ms;

  .`,` & {
    border-color: var(--card-shadow-umbra-color);
    box-shadow:
      0 0 0 0,
      0 8px 17px 2px var(--card-shadow-umbra-color),
      0 3px 14px 2px var(--card-shadow-penumbra-color),
      0 5px 5px -3px var(--card-shadow-ambient-color);
  }

  &:hover {
    border-color: var(--card-shadow-umbra-color);
  }

  &[aria-selected='true'] {
    border-color: var(--card-focus-ring-color);
  }
`])),Qie);function YN(n){const{validation:e,selected:r,tone:i,presence:o,focused:s,children:a,dragHandle:l,menu:c,footer:u}=n,f=p.useRef(null);return rc(s,(h,m)=>{var g;!h&&m&&((g=f.current)==null||g.focus())}),d.jsx(n6n,{ref:f,selected:r,"aria-selected":r,radius:1,padding:1,tone:i,children:d.jsxs(Se,{space:1,children:[d.jsxs(oe,{align:"center",gap:1,children:[l&&d.jsx(EJe,{paddingY:3}),d.jsx(te,{flex:1,children:a}),(o||e||c)&&d.jsxs(oe,{align:"center",flex:"none",gap:2,style:{lineHeight:0},children:[o&&d.jsx(te,{flex:"none",children:o}),e&&d.jsx(te,{flex:"none",children:e}),c]})]}),u]})})}var TEe=Object.freeze,r6n=Object.defineProperty,i6n=(n,e)=>TEe(r6n(n,"raw",{value:TEe(e||n.slice())})),AEe;const o6n=F(ke)(AEe||(AEe=i6n([`
  max-width: `,`px;
`])),n=>{let{theme:e}=n;return e.sanity.container[1]});function MJe(n){const{value:e,onFocus:r,vertical:i,...o}=n,[s,a]=p.useState(!1),[l,c]=p.useState(null),{t:u}=me();ki(()=>a(!1),[l]);const f=p.useCallback(g=>{(g.key==="Escape"||g.key==="Tab")&&a(!1)},[]),h=p.useCallback(()=>{a(g=>!g)},[]),m=vu(e);return d.jsx(Ai,{open:s,ref:c,onKeyDown:f,portal:!0,constrainSize:!0,tone:"default",content:d.jsx(o6n,{margin:1,padding:3,onKeyDown:f,tabIndex:0,overflow:"auto",children:d.jsxs(Se,{space:4,children:[d.jsx(te,{children:d.jsx(J,{weight:"medium",children:u("inputs.array.error.type-is-incompatible-title")})}),d.jsx(J,{size:1,children:d.jsx(bn,{t:u,i18nKey:"inputs.array.error.current-schema-not-declare-description",values:{typeName:m}})}),d.jsx(te,{children:d.jsxs(J,{size:1,children:[d.jsx(S8,{})," ",u("inputs.array.error.can-delete-but-no-edit-description")]})}),d.jsxs(Se,{space:2,children:[d.jsx(J,{size:1,weight:"medium",children:u("inputs.array.error.json-representation-description")}),d.jsx(ke,{padding:2,overflow:"auto",border:!0,children:d.jsx(ia,{size:1,as:"pre",language:"json",children:JSON.stringify(e,null,2)})})]})]})}),children:d.jsx(ke,{as:"button",type:"button",radius:2,tone:"inherit",paddingX:2,paddingY:3,flex:1,onFocus:r,onClick:h,onKeyDown:f,__unstable_focusRing:!0,...o,children:d.jsxs(oe,{align:"center",children:[d.jsx(te,{marginRight:3,children:d.jsx(J,{children:d.jsx(Rp,{})})}),d.jsx(te,{flex:1,children:d.jsx(J,{size:1,textOverflow:"ellipsis",children:d.jsx(bn,{t:u,i18nKey:"inputs.array.error.type-is-incompatible-prompt",values:{typeName:m}})})})]})})})}const s6n={portal:!0,tone:"default"};function FJe(n){const{member:e,sortable:r,onRemove:i}=n,o=p.useId(),{t:s}=me();return d.jsx(te,{paddingX:1,children:d.jsx(YN,{dragHandle:r,tone:"caution",menu:d.jsx(Vr,{button:d.jsx(ha,{paddingY:3}),id:"".concat(o,"-menuButton"),menu:d.jsx(_r,{children:d.jsx(Wt,{text:s("inputs.array.action.remove-invalid-item"),tone:"critical",icon:vs,onClick:i})}),popover:s6n}),children:e.error.type==="INVALID_ITEM_TYPE"?d.jsx(MJe,{value:e.error.value}):d.jsx("div",{children:s("inputs.array.error.unexpected-error",{error:e.error.type})})})})}function a6n(n,e){const r=p.useRef(n),i=r.current,o=e(i,n);return p.useEffect(()=>{o||(r.current=n)}),o?i:n}const l6n=[];function c6n(n){var e;const{arrayFunctions:r=roe,elementProps:i,members:o,onChange:s,onInsert:a,onItemMove:l,onUpload:c,focusPath:u,readOnly:f,renderAnnotation:h,renderBlock:m,renderField:g,renderInlineBlock:v,renderInput:y,renderItem:b,renderPreview:x,resolveUploader:_,schemaType:w,value:C=l6n}=n,{t:S}=me(),[T,A]=p.useState(null),{space:I}=lD().sanity,D=p.useCallback(se=>{a({items:[se],position:"before",referenceItem:0})},[a]),R=p.useCallback(se=>{a({items:[se],position:"after",referenceItem:-1})},[a]),P=a6n(p.useMemo(()=>o.map(se=>se.key),[o]),Lg),{scrollElement:O,containerElement:$}=n3n(),L=p.useRef(null),M=p.useMemo(()=>ji(u[0])?u[0]._key:u[0],[u]),N=p.useCallback(se=>{const de={...se};if(T!==null&&(de.startIndex=Math.min(se.startIndex,T),de.endIndex=Math.max(se.endIndex,T)),M){const fe=P.findIndex(we=>we===M);fe!==-1&&(de.startIndex=Math.min(de.startIndex,fe),de.endIndex=Math.max(de.endIndex,fe))}return DGe(de)},[T,M,P]),z=p.useCallback((se,de)=>{if(!se.scrollElement)return;const fe=se.scrollElement,we=()=>{var ye,ve,_e,ge;const pe=(ve=(ye=$.current)==null?void 0:ye.getBoundingClientRect().top)!=null?ve:0,Pe=(ge=(_e=L.current)==null?void 0:_e.getBoundingClientRect().top)!=null?ge:0,Re=Math.floor(Pe-pe);de(fe.scrollTop-Re)};return we(),se.scrollElement.addEventListener("scroll",we,{capture:!1,passive:!0}),()=>{fe.removeEventListener("scroll",we)}},[$]),B=p.useCallback(()=>53,[]),H=PGe({count:o.length,estimateSize:B,getScrollElement:p.useCallback(()=>O,[O]),observeElementOffset:z,rangeExtractor:N,getItemKey:p.useCallback(se=>P[se],[P]),scrollToFn:(se,de,fe)=>{se!==fe.scrollOffset&&RGe(se,de,fe)}}),X=H.getVirtualItems(),G=p.useCallback(se=>{var de,fe;const{active:we}=se;A((fe=(de=we.data.current)==null?void 0:de.sortable)==null?void 0:fe.index)},[]),ne=p.useCallback(()=>{A(null)},[]),le=((e=w.options)==null?void 0:e.sortable)!==!1,K=1,Q=1,re=2;return d.jsxs(Se,{space:2,ref:L,children:[d.jsx(noe,{$radius:re,types:w.of,resolveUploader:_,onUpload:c,...i,tabIndex:0,children:d.jsx(Se,{"data-ui":"ArrayInput__content",space:2,children:o.length===0?d.jsx(ke,{padding:3,border:!0,radius:2,children:d.jsx(J,{align:"center",muted:!0,size:1,children:w.placeholder||d.jsx(d.Fragment,{children:S("inputs.array.no-items-label")})})}):d.jsx(ke,{border:!0,radius:re,style:{boxSizing:"border-box",height:"".concat(H.getTotalSize()+X.length*I[K]+I[Q],"px"),width:"100%",position:"relative"},children:d.jsx(Jie,{axis:"y",gap:K,paddingY:Q,items:P,onItemMove:l,onItemMoveStart:G,onItemMoveEnd:ne,sortable:le,style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat(X[0].start,"px)")},children:X.map(se=>{const de=o[se.index];return d.jsxs(eoe,{ref:H.measureElement,sortable:le,"data-index":se.index,id:de.key,children:[de.kind==="item"&&d.jsx(Mie,{member:de,renderAnnotation:h,renderBlock:m,renderField:g,renderInlineBlock:v,renderInput:y,renderItem:b,renderPreview:x}),de.kind==="error"&&d.jsx(FJe,{sortable:le,member:de,onRemove:()=>n.onItemRemove(de.key)})]},se.key)})})})})}),d.jsx(r,{onChange:s,onItemAppend:R,onItemPrepend:D,onValueCreate:t2,readOnly:f,schemaType:w,value:C})]})}function NJe(n){var e;return((e=n.schemaType.options)==null?void 0:e.layout)==="grid"?d.jsx(J8n,{...n}):d.jsx(c6n,{...n})}function WF(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n!="object"&&!Array.isArray(n))return n===e;if(n._key&&n._key===e._key)return!0;if(Array.isArray(n))return!n.length!==e.length?!1:n.every((o,s)=>WF(n[s],e[s]));const r=Object.keys(n),i=Object.keys(n);return r.length!==i.length?!1:r.every(o=>WF(n[o],e[o]))}function IEe(n,e){return n?n.some(r=>WF(r,e)):!1}function u6n(n,e){return n.of.find(r=>r.name===vu(e))}const d6n=[];function f6n(n){var e,r;const{renderPreview:i,schemaType:o,onChange:s,onPathFocus:a,value:l=[],readOnly:c,elementProps:u,path:f,changed:h}=n,m=p.useMemo(()=>{var b;return(((b=o.options)==null?void 0:b.list)||d6n).map((x,_)=>fh(x)?x:{...x,_key:"auto-generated-".concat(_)})},[(e=o.options)==null?void 0:e.list]),g=p.useCallback((b,x)=>{if(!b&&fh(x)){s(un([{_key:x._key}]));return}const _=m.filter(w=>WF(x,w)?b:IEe(l,w));s(_.length>0?rn(_):un())},[s,m,l]),v=p.useCallback(b=>{a([b])},[a]),y=((r=o.options)==null?void 0:r.layout)==="grid";return d.jsx(_l,{path:f,isChanged:h,hasFocus:!1,children:d.jsx(eo,{gap:2,columns:y?Math.min(m.length,4):1,tabIndex:0,...u,children:m.map((b,x)=>{const _=u6n(o,b),w=IEe(l,b),C=!_;return d.jsxs(oe,{align:"center",as:"label",muted:C,children:[d.jsx(m6,{disabled:C,checked:w,onChange:S=>g(S.currentTarget.checked,b),onFocus:()=>v(x),readOnly:c}),d.jsx(te,{flex:1,marginLeft:2,children:_?i({layout:"default",schemaType:_,value:b}):d.jsx(ke,{tone:"caution",radius:2,children:d.jsx(IQe,{value:b,onFocus:()=>v(x)})})})]},x)})})})}function h6n(n){return!!(n&&typeof n=="object"&&"title"in n&&"value"in n)}function p6n(n){return n.map(e=>h6n(e)?{title:e.title||li(String(e.value)),value:e.value}:{title:li(String(e)),value:e})}function m6n(n,e){return n.of.find(r=>r.name===vu(e.value))}function g6n(n){var e,r;const{schemaType:i,onChange:o,value:s=[],readOnly:a,path:l,changed:c,onIndexFocus:u,elementProps:f}=n,h=p.useMemo(()=>{var v;return p6n(((v=i.options)==null?void 0:v.list)||[])},[(e=i.options)==null?void 0:e.list]),m=(v,y)=>{const b=h.map(x=>x.value).filter(x=>x===y?v:s.includes(x));o(b.length>0?rn(b):un())},g=((r=i.options)==null?void 0:r.layout)==="grid";return d.jsx(_l,{path:l,isChanged:c,hasFocus:!1,children:d.jsx(eo,{gap:2,columns:g?Math.min(h.length,4):1,...f,children:h.map((v,y)=>{const b=m6n(i,v),x=s.includes(v.value),_=!b;return d.jsxs(oe,{align:"center",as:"label",muted:_,children:[d.jsx(m6,{disabled:_,checked:x,onChange:w=>m(w.currentTarget.checked,v.value),onFocus:()=>u(y),readOnly:a}),d.jsx(te,{padding:2,children:d.jsx(J,{children:v.title})}),!b&&d.jsx(MJe,{value:v,onFocus:()=>u(y)})]},y)})})})}function BJe(n){return XFn(n)?d.jsx(f6n,{...n}):d.jsx(g6n,{...n})}function v6n(n){const{schemaType:e,readOnly:r,children:i,onValueCreate:o,onItemAppend:s}=n,a=p.useId(),{t:l}=me(),c=p.useCallback(m=>{s(o(m))},[o,s]),u=p.useCallback(()=>{c(e.of[0])},[e,c]),f=p.useMemo(()=>({constrainSize:!0,portal:!0}),[]),h=e.of.length>1?"inputs.array.action.add-item-select-type":"inputs.array.action.add-item";return r?d.jsx(zn,{portal:!0,content:l("inputs.array.read-only-label"),children:d.jsx(eo,{children:d.jsx(ze,{icon:Ta,mode:"ghost",disabled:!0,size:"large",text:l(h)})})}):d.jsxs(eo,{gap:1,style:{gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))"},children:[e.of.length===1?d.jsx(ze,{icon:Ta,mode:"ghost",onClick:u,size:"large",text:l(h)}):d.jsx(Vr,{button:d.jsx(ze,{icon:Ta,mode:"ghost",size:"large",text:l(h)}),id:a||"",menu:d.jsx(_r,{children:e.of.map((m,g)=>{var v,y;const b=Eg(m)&&(m.to||[]).length===1&&m.to[0].icon,x=m.icon||((v=m.type)==null?void 0:v.icon)||b;return d.jsx(Wt,{text:m.title||((y=m.type)==null?void 0:y.name),onClick:()=>c(m),icon:x},g)})}),popover:f}),i]})}const y6n={portal:!0,tone:"default"},b6n=p.forwardRef(function(e,r){const{sortable:i,value:o,insertableTypes:s,onInsert:a,onRemove:l,readOnly:c,inputId:u,validation:f,children:h,presence:m,schemaType:g}=e,v=f.filter(S=>S.level==="error").length>0,y=f.filter(S=>S.level==="warning").length>0,b=p.useCallback((S,T)=>{a({position:S,items:[Fie(T)]})},[a]),x=p.useCallback(()=>{o&&a({position:"after",items:[o]})},[a,o]),_=p.useMemo(()=>{if(v)return"critical";if(y)return"caution"},[v,y]),{t:w}=me(),C=d.jsx(Vr,{button:d.jsx(ha,{paddingY:3}),id:"".concat(u,"-menuButton"),popover:y6n,menu:d.jsxs(_r,{children:[d.jsx(Wt,{text:w("inputs.array.action.remove"),tone:"critical",icon:vs,onClick:l}),d.jsx(Wt,{text:w("inputs.array.action.duplicate"),icon:Np,onClick:x}),d.jsx(KN,{types:s,onInsert:b})]})});return d.jsx(YN,{tone:_,menu:!c&&C,dragHandle:!c&&i,presence:m.length===0?null:d.jsx(HD,{presence:m,maxAvatars:1}),validation:f.length>0?d.jsx(te,{paddingX:1,paddingY:3,children:d.jsx(JS,{validation:f})}):null,children:d.jsx(oe,{align:g?"flex-end":"center",ref:r,children:d.jsx(oe,{align:"flex-end",flex:1,children:d.jsx(te,{flex:1,marginRight:2,children:h})})})})});function x6n(n){let{schemaType:e}=n;const{t:r}=me();return d.jsx(ke,{padding:3,border:!0,radius:2,children:d.jsx(J,{align:"center",muted:!0,size:1,children:e.placeholder||r("inputs.array.no-items-label")})})}function w6n(n,e,r){return _6n(n,e,i=>i===r)}function _6n(n,e,r){let i=e-1,o=e;const s=n.length;for(;i>-1||o<s;){const a=n[o];if(o<s&&r(a,o))return o;const l=n[i];if(i>-1&&r(l,i))return i;i--,o++}return-1}class UJe extends p.PureComponent{constructor(e){super(e),this._element=null,this.handleAppend=r=>{const{value:i=[],onIndexFocus:o,onItemAppend:s}=this.props;s(r),o(i.length)},this.handlePrepend=r=>{const{onIndexFocus:i,value:o=[],onItemPrepend:s}=this.props;s(r),i(o.length)},this.handleSortEnd=r=>{const{onIndexFocus:i,onMoveItem:o,value:s}=this.props;s&&o(r),i(r.toIndex)},this.handleItemMoveStart=()=>{this.setState({disableTransition:!1})},this.handleItemMoveEnd=()=>{this.setState({disableTransition:!0})},this.renderArrayItem=r=>{var i;const{schemaType:o}=this.props,s=((i=o.options)==null?void 0:i.sortable)!==!1;return d.jsx(b6n,{...r,sortable:s,insertableTypes:o.of})},this.state={disableTransition:!1}}focus(){this._element&&this._element.focus()}getSnapshotBeforeUpdate(e){var r;const{focusPath:i=[],value:o=[]}=e,{focusPath:s=[],value:a=[]}=this.props;if(i[0]===s[0]&&o.length!==a.length){const l=s[0],c=window.getSelection();if(!((c==null?void 0:c.focusNode)instanceof HTMLElement))return null;const u=(r=c.focusNode)==null?void 0:r.querySelector("input,textarea");return u instanceof HTMLInputElement?{prevFocusedIndex:l,restoreSelection:{text:c.toString(),start:u.selectionStart,end:u.selectionEnd,value:u.value}}:{}}return null}componentDidUpdate(e,r,i){var o;const{onIndexFocus:s}=this.props;if(i!=null&&i.restoreSelection&&e.value){const a=e.value[i.prevFocusedIndex],l=w6n(this.props.value||[],i.prevFocusedIndex,a);if(l===-1)return;const c=(o=this._element)==null?void 0:o.querySelector("[data-item-index='".concat(l,"'] input,textarea"));if(c instanceof HTMLInputElement){c.focus();try{c.setSelectionRange(i.restoreSelection.start,i.restoreSelection.end)}catch{}}s(l)}}render(){const{schemaType:e,members:r,readOnly:i,renderInput:o,onUpload:s,onItemRemove:a,resolveUploader:l,elementProps:c,arrayFunctions:u=v6n,changed:f}=this.props,h=!i&&ko(e,"options.sortable")!==!1,m=r.map(g=>({id:"".concat(g.key,"-").concat(g.kind==="item"?g.item.value:"error"),member:g}));return d.jsxs(Se,{space:2,"data-testid":"array-primitives-input",children:[d.jsx(noe,{types:e.of,resolveUploader:l,onUpload:s,...c,tabIndex:0,children:d.jsx(Se,{space:1,children:m.length===0?d.jsx(x6n,{schemaType:e}):d.jsx(ke,{padding:1,border:!0,children:d.jsx(Jie,{onItemMove:this.handleSortEnd,onItemMoveStart:this.handleItemMoveStart,onItemMoveEnd:this.handleItemMoveEnd,items:m.map(g=>g.id),sortable:h,gap:1,children:m.map((g,v)=>{let{member:y,id:b}=g;return d.jsxs(eoe,{id:b,sortable:h,disableTransition:this.state.disableTransition,children:[y.kind==="item"&&d.jsx(_l,{path:y.item.path,isChanged:f,hasFocus:!1,children:d.jsx(x$n,{member:y,renderItem:this.renderArrayItem,renderInput:o})}),y.kind==="error"&&d.jsx(FJe,{sortable:h,member:y,onRemove:()=>a(v)})]},y.key)})})})})}),d.jsx(u,{onChange:this.props.onChange,onItemAppend:this.handleAppend,onItemPrepend:this.handlePrepend,onValueCreate:Fie,readOnly:this.props.readOnly,schemaType:this.props.schemaType,value:this.props.value})]})}}function E6n(n){return p.useMemo(()=>{var r;return Array.isArray((r=n.schemaType.options)==null?void 0:r.list)},[n.schemaType])?d.jsx(BJe,{...n}):QFn(n)?d.jsx(UJe,{...n}):d.jsx(NJe,{...n})}var DEe=Object.freeze,C6n=Object.defineProperty,soe=(n,e)=>DEe(C6n(n,"raw",{value:DEe(e||n.slice())})),REe,OEe,PEe;const S6n=F(ke)(REe||(REe=soe([`
  line-height: 1;
`]))),k6n=F(te)(OEe||(OEe=soe([`
  align-self: center;
`]))),T6n=F(te)(PEe||(PEe=soe([`
  line-height: 0;
`])));function A6n(n){var e;const{id:r,value:i,schemaType:o,readOnly:s,elementProps:a,validation:l}=n,c=((e=o.options)==null?void 0:e.layout)||"switch",u=typeof i!="boolean",f=i||!1,h=c==="checkbox"?m6:fte,m=s?"transparent":void 0;return d.jsx(S6n,{border:!0,"data-testid":"boolean-input",radius:2,tone:m,children:d.jsxs(oe,{children:[d.jsx(T6n,{padding:3,children:d.jsx(h,{label:o.title,...a,checked:f,disabled:s,indeterminate:u,style:{margin:-4}})}),d.jsx(te,{flex:1,paddingY:2,children:d.jsx(Oie,{deprecated:o.deprecated,description:o.description,inputId:r,validation:l,title:o.title})}),d.jsx(k6n,{paddingX:3,paddingY:1,children:d.jsx(l$n,{maxAvatars:1,position:"top"})})]})})}const I6n=p.forwardRef(function(e,r){const{value:i,inputValue:o,onInputChange:s,onChange:a,selectTime:l,timeStep:c,calendarLabels:u,...f}=e,[h,m]=p.useState(null),g=Ko(r),v=p.useRef(null),[y,b]=p.useState(!1);ki(()=>b(!1),[h]);const x=p.useCallback(()=>{var S,T;(S=g.current)==null||S.focus(),(T=g.current)==null||T.select()},[g]),_=p.useCallback(S=>{S.key==="Escape"&&b(!1)},[]),w=p.useCallback(()=>b(!0),[]),C=d.jsx(oe,{style:{padding:"5px"},children:d.jsx(ze,{ref:v,icon:Xd,mode:"bleed",onClick:w,style:{display:"block"},"data-testid":"select-date-button",tooltipProps:{content:"Select date"}})});return d.jsx(DHe,{ref:g,...f,value:o,onChange:s,suffix:y?d.jsx(zp,{zOffset:1e3,children:d.jsx(Ai,{constrainSize:!0,"data-testid":"date-input-dialog",portal:!0,content:d.jsx(te,{overflow:"auto",children:d.jsx(rv,{onDeactivation:x,children:d.jsx(RHe,{calendarLabels:u,selectTime:l,timeStep:c,onKeyUp:_,value:i,onChange:a})})}),open:!0,placement:"bottom",ref:m,children:C})}):C})}),D6n=new Date,zJe=p.forwardRef(function(e,r){const{id:i,deserialize:o,formatInputValue:s,onChange:a,parseInputValue:l,placeholder:c,readOnly:u,selectTime:f,serialize:h,timeStep:m,value:g,...v}=e,[y,b]=p.useState(null),{t:x}=me();p.useEffect(()=>{b(null)},[g]);const _=p.useCallback(A=>{const I=A.currentTarget.value,D=I===""?null:l(I);D===null?(a(null),typeof g>"u"&&y&&b(null)):D.isValid?a(h(D.date)):b(I)},[l,a,g,y,h]),w=p.useCallback(A=>{a(A?h(A):null)},[h,a]),C=Ko(r),S=y?l(y):g?o(g):null,T=y||(S!=null&&S.isValid?s(S.date):g);return u?d.jsx(ua,{value:T,readOnly:!0}):d.jsx(I6n,{...v,calendarLabels:e.calendarLabels,id:i,selectTime:f,timeStep:m,placeholder:c||x("inputs.datetime.placeholder",{example:s(D6n)}),ref:C,value:S==null?void 0:S.date,inputValue:T||"",readOnly:!!u,onInputChange:_,onChange:w,customValidity:S==null?void 0:S.error})}),R6n=n=>V6(n,Uy),O6n=n=>MS(n,Uy);function P6n(n){var e;const{readOnly:r,onChange:i,schemaType:o,elementProps:s,value:a}=n,l=((e=o.options)==null?void 0:e.dateFormat)||Uy,{t:c}=me(),u=p.useCallback(g=>{i(g===null?un():rn(g))},[i]),f=p.useCallback(g=>MS(g,l),[l]),h=p.useCallback(g=>V6(g,l),[l]),m=p.useMemo(()=>Ste(c),[c]);return d.jsx(zJe,{...s,deserialize:R6n,formatInputValue:f,onChange:u,parseInputValue:h,placeholder:o.placeholder,calendarLabels:m,readOnly:r,selectTime:!1,serialize:O6n,value:a})}function j6n(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{dateFormat:n.dateFormat||Uy,timeFormat:n.timeFormat||bne,timeStep:"timeStep"in n&&Number(n.timeStep)||1}}function $Y(n){return n.toISOString()}function L6n(n){const e=new Date(n);return WGt(e)?{isValid:!0,date:e}:{isValid:!1,error:'Invalid date value: "'.concat(n,'"')}}function $6n(n,e){if(!e||e===1)return n;const r=EWt(n),i=vHt(r),o=i%e;return $Y(o!==0?TL(r,i-o):r)}function M6n(n){const{onChange:e,schemaType:r,value:i,elementProps:o}=n,{dateFormat:s,timeFormat:a,timeStep:l}=j6n(r.options),{t:c}=me(),u=p.useCallback(g=>{let v=g;v!==null&&l>1&&(v=$6n(v,l)),e(v===null?un():rn(v))},[e,l]),f=p.useCallback(g=>MS(g,"".concat(s," ").concat(a)),[s,a]),h=p.useCallback(g=>V6(g,"".concat(s," ").concat(a)),[s,a]),m=p.useMemo(()=>Ste(c),[c]);return d.jsx(zJe,{...o,calendarLabels:m,onChange:u,deserialize:L6n,formatInputValue:f,parseInputValue:h,placeholder:r.placeholder,selectTime:!0,serialize:$Y,timeStep:l,value:i})}function F6n(n){const{validationError:e,elementProps:r}=n;return d.jsx(ua,{...r,type:"email",inputMode:"email",customValidity:e})}const N6n=(n,e)=>{if(typeof n=="function")throw new Error('Schema type "'.concat((e==null?void 0:e.name)||"<not-found>","\"'s `validation` was not run though `inferFromSchema`"));return n?Array.isArray(n)?n:[n]:[]};function n$(n,e){for(const r of N6n(n==null?void 0:n.validation,n))for(const i of r._rules)if(i.flag===e)return i;return null}function VJe(n){const{schemaType:e,validationError:r,elementProps:i}=n,o=n$(e,"min"),s=n$(e,"integer"),a=n$(e,"precision"),l=typeof(o==null?void 0:o.constraint)=="number"&&(o==null?void 0:o.constraint)>=0,c=s||(a==null?void 0:a.constraint)===0,u=l?c?"numeric":"decimal":"text";return d.jsx(ua,{...i,type:"number",step:"any",inputMode:u,customValidity:r,placeholder:e.placeholder,pattern:l?"[d]*":void 0,max:Number.MAX_SAFE_INTEGER,min:Number.MIN_SAFE_INTEGER,"data-testid":"number-input"})}const B6n=p.forwardRef(function(e,r){const{onClick:i}=e,o=p.useCallback(()=>{i==null||i(e.name)},[e.name,i]);return d.jsx(E5,{"data-testid":"group-tab-".concat(e.name),id:"".concat(e.name,"-tab"),label:e.title,ref:r,...e,onClick:o})}),U6n=n=>{const{name:e,title:r,...i}=n,{selected:o}=n;return d.jsx("option",{title:r,value:e,id:"".concat(e,"-tab"),"aria-controls":i["aria-controls"],"data-testid":"group-select-".concat(e),"aria-selected":o?"true":"false",children:r||e})};var jEe=Object.freeze,z6n=Object.defineProperty,V6n=(n,e)=>jEe(z6n(n,"raw",{value:jEe(e||n.slice())})),LEe;const H6n=F(rBt)(LEe||(LEe=V6n([`
  /* Hide on small screens */
  &[data-eq-max~='0'] [data-ui='TabList'] {
    display: none;
  }

  /* Hide on medium to large screens */
  [data-ui='Select'] {
    display: none;
  }

  /* Show on small screens */
  &[data-eq-max~='0'] [data-ui='Select'] {
    display: block;
  }
`]))),W6n=n=>{let{inputId:e,groups:r,onClick:i,shouldAutoFocus:o=!0,disabled:s}=n;return d.jsx(y6,{space:2,"data-testid":"field-group-tabs",children:r.map(a=>d.jsx(B6n,{"aria-controls":"".concat(e,"-field-group-fields"),autoFocus:o&&a.selected,disabled:s||a.disabled,icon:a==null?void 0:a.icon,name:a.name,onClick:i,selected:!!a.selected,title:a.title||a.name},"".concat(e,"-").concat(a.name,"-tab")))})},G6n=n=>{let{disabled:e,groups:r,inputId:i,onSelect:o,shouldAutoFocus:s=!0}=n;var a;const l=p.useCallback(u=>{o(u.currentTarget.value)},[o]),{t:c}=me();return d.jsx(Sx,{"aria-label":c("inputs.object.field-group-tabs.aria-label"),autoFocus:s,"data-testid":"field-group-select",disabled:e,fontSize:2,muted:!0,onChange:l,value:(a=r.find(u=>u.selected))==null?void 0:a.name,children:r.map(u=>d.jsx(U6n,{"aria-controls":"".concat(i,"-field-group-fields"),disabled:u.disabled,name:u.name,selected:!!u.selected,title:u.title||u.name},"".concat(i,"-").concat(u.name,"-tab")))})},q6n=p.memo(function(e){let{disabled:r=!1,onClick:i,...o}=e;const s=p.useCallback(a=>{i==null||i(a)},[i]);return d.jsxs(H6n,{"data-testid":"field-group-root",children:[d.jsx(W6n,{...o,disabled:r,onClick:s}),d.jsx(G6n,{...o,disabled:r,onSelect:s})]})});var $Ee=Object.freeze,K6n=Object.defineProperty,HJe=(n,e)=>$Ee(K6n(n,"raw",{value:$Ee(e||n.slice())})),MEe,FEe;const Y6n=F(ke)(MEe||(MEe=HJe([`
  margin-bottom: `,`px;
  padding-bottom: `,`px;
`])),n=>{let{$level:e,theme:r}=n;return e===0?0:r.sanity.space[5]*-1},n=>{let{$level:e,theme:r}=n;return r.sanity.space[4]}),Z6n=F(eo)(FEe||(FEe=HJe([`
  align-items: flex-end;
`])));function X6n(n){const{fieldNames:e,onChange:r,readOnly:i,value:o}=n,s=e.length,a=p.useCallback(c=>{r(un([c]))},[r]),{t:l}=me();return d.jsxs(sm,{status:"warning",title:d.jsx(d.Fragment,{children:l("inputs.object.unknown-fields.warning.title",{count:s})}),children:[d.jsx(J,{as:"p",muted:!0,size:1,children:d.jsx(d.Fragment,{children:l("inputs.object.unknown-fields.warning.description",{count:s})})}),d.jsxs(pw,{marginTop:4,open:im,title:l("inputs.object.unknown-fields.warning.details.title"),children:[d.jsx(te,{marginBottom:3,children:d.jsx(J,{as:"p",muted:!0,size:1,children:d.jsx(d.Fragment,{children:l("inputs.object.unknown-fields.warning.details.description",{count:s})})})}),d.jsx(Se,{as:"ul",space:3,children:e.map(c=>d.jsx(Q6n,{fieldName:c,onUnsetClick:a,readOnly:i,value:o==null?void 0:o[c]},c))})]})]})}function Q6n(n){let{fieldName:e,onUnsetClick:r,readOnly:i,value:o}=n;const s=p.useCallback(()=>{r(e)},[e,r]),{t:a}=me();return d.jsxs(ke,{as:"li",overflow:"hidden",radius:2,shadow:1,tone:"caution",children:[d.jsx(ke,{padding:3,shadow:1,tone:"inherit",children:d.jsx(ia,{size:1,children:e})}),d.jsx(te,{overflow:"auto",padding:3,children:d.jsx(ia,{language:"json",size:1,children:JSON.stringify(o,null,2)})}),i&&d.jsx(te,{padding:3,children:d.jsx(J,{as:"p",muted:!0,size:1,children:d.jsx(bn,{t:a,i18nKey:"inputs.object.unknown-fields.read-only.description"})})}),!i&&d.jsx(ke,{padding:3,shadow:1,tone:"inherit",children:d.jsx(ze,{icon:vs,mode:"ghost",onClick:s,size:"large",tone:"critical",text:a("inputs.object.unknown-fields.remove-field-button.text")})})]})}const NEe=p.memo(function(e){const{schemaType:r,groups:i,members:o,onChange:s,renderAnnotation:a,renderBlock:l,renderInlineBlock:c,renderInput:u,renderField:f,renderItem:h,renderPreview:m,level:g,value:v,id:y,onFieldGroupSelect:b}=e,{columns:x}=r.options||{},_=p.useMemo(()=>{if(!r.fields)return null;const S=r.fields.map(A=>A.name),T=Object.keys(v||{}).filter(A=>!A.startsWith("_")&&!S.includes(A));return T.length===0?null:d.jsx(X6n,{fieldNames:T,value:v,onChange:s})},[s,r.fields,v]),w=p.useMemo(()=>i.find(S=>{let{selected:T}=S;return T}),[i]),C=p.useCallback(()=>d.jsx(zMn,{members:o,renderAnnotation:a,renderBlock:l,renderField:f,renderInlineBlock:c,renderInput:u,renderItem:h,renderPreview:m}),[o,a,l,f,c,u,h,m]);return o.length===0?null:d.jsxs(Se,{space:6,children:[i.length>0?d.jsx(Y6n,{$level:g,"data-testid":"field-groups",children:d.jsx(q6n,{groups:i,inputId:y,onClick:b,shouldAutoFocus:!1})}):null,d.jsx(p.Fragment,{children:x?d.jsx(Z6n,{columns:x,gap:4,marginTop:1,children:C()}):C()},w==null?void 0:w.name),_]})}),WJe=p.createContext(null);function J6n(n){const e=p.useRef(n.value);e.current=n.value;const r=p.useCallback(i=>lf(e.current,i),[e]);return d.jsx(WJe.Provider,{value:r,children:n.children})}function eNn(){const n=p.useContext(WJe);if(!n)throw new Error("useFormValue must be used within a FormValueProvider");return n}const tNn=(n,e)=>{var r;const i=(r=e.options)==null?void 0:r.maxLength;return n?DZe(n,{truncate:typeof i=="number"?i:200,symbols:!0}):""};async function nNn(n,e,r){var i;return n&&(((i=e.options)==null?void 0:i.slugify)||tNn)(n,e,r)}function rNn(n,e){const[r,i]=p.useState(null),o=p.useRef(0),s=p.useCallback(a=>{const l=++o.current;i({status:"pending"}),Promise.resolve().then(()=>n(a)).then(c=>{l===o.current&&i({status:"complete",result:c})},c=>{l===o.current&&i({status:"error",error:c})})},[n,...e]);return[r,s]}function iNn(){const{getClient:n}=xi(),e=Ar(),r=ao(),i=yB(),o=Hoe();return p.useMemo(()=>({projectId:i,dataset:o,getClient:n,schema:e,currentUser:r}),[n,e,r,i,o])}function oNn(n,e,r){const i=n.slice(0,-1),o=fS(e,i);return{parentPath:i,parent:o,...r}}async function sNn(n,e,r){return typeof n=="function"?n(e,r):fS(e,n)}function aNn(n){var e;const r=eNn(),{path:i,value:o,schemaType:s,validation:a,onChange:l,readOnly:c,elementProps:u}=n,f=(e=s.options)==null?void 0:e.source,h=p.useMemo(()=>a.filter(w=>w.level==="error"),[a]),m=iNn(),{t:g}=me(),v=p.useCallback(w=>{if(!w){l(In.from(un([])));return}l(In.from([pl({_type:s.name}),rn(w,["current"])]))},[l,s.name]),[y,b]=rNn(()=>{if(!f)return Promise.reject(new Error(g("inputs.slug.error.missing-source",{schemaType:s.name})));const w=r([])||{_type:s.name},C=oNn(i,w,m);return sNn(f,w,C).then(S=>nNn(S||"",s,C)).then(S=>v(S))},[f,r,s,i,m,v,g]),x=(y==null?void 0:y.status)==="pending",_=p.useCallback(w=>v(w.currentTarget.value),[v]);return d.jsx(Se,{space:3,children:d.jsxs(oe,{gap:1,children:[d.jsxs(te,{flex:1,children:[d.jsx(ua,{customValidity:h.length>0?h[0].message:"",disabled:x,onChange:_,value:(o==null?void 0:o.current)||"",readOnly:c,...u}),(y==null?void 0:y.status)==="error"&&d.jsx(ke,{padding:2,tone:"critical",children:y.error.message})]}),f&&d.jsx(ze,{mode:"ghost",type:"button",disabled:c||x,onClick:b,size:"large",text:(y==null?void 0:y.status)==="pending"?g("inputs.slug.action.generating"):g("inputs.slug.action.generate")})]})})}function GJe(n){const{validationError:e,elementProps:r}=n;return d.jsx(ua,{...r,customValidity:e,"data-testid":"string-input"})}var BEe=Object.freeze,lNn=Object.defineProperty,cNn=(n,e)=>BEe(lNn(n,"raw",{value:BEe(e||n.slice())})),UEe;const uNn=F(d7t)(UEe||(UEe=cNn([`
  &[data-as='textarea'] {
    resize: vertical;
  }
`])));function dNn(n){const{schemaType:e,validationError:r,value:i,elementProps:o}=n;return d.jsx(uNn,{customValidity:r,value:i||"",placeholder:e.placeholder,rows:typeof e.rows=="number"?e.rows:10,...o})}function fNn(n){var e,r;const{schemaType:i,validationError:o,elementProps:s}=n,a=n$(i,"uri"),l=(r=(e=a==null?void 0:a.constraint)==null?void 0:e.options)!=null&&r.allowRelative?"text":"url";return d.jsx(ua,{type:l,inputMode:"url",customValidity:o,...s})}function hNn(n){let{value:e,onClearValue:r}=n;const i=p.useMemo(()=>!!(e!=null&&e._ref),[e==null?void 0:e._ref]),{t:o}=me(),s=d.jsx(bn,{t:o,i18nKey:"inputs.reference.cross-dataset.feature-disabled-description",components:{DocumentationLink:a=>{let{children:l}=a;return d.jsx("a",{href:"https://www.sanity.io/docs/cross-dataset-references",target:"_blank",rel:"noreferrer",children:l})}}});return d.jsxs(ke,{tone:"caution",padding:4,border:!0,radius:2,"data-testid":"alert-cross-dataset-reference-feature-disabled",children:[d.jsxs(oe,{gap:4,marginBottom:i?4:void 0,children:[d.jsx(te,{children:d.jsx(J,{size:1,children:d.jsx(as,{})})}),d.jsxs(Se,{space:3,children:[d.jsx(J,{as:"h2",size:1,weight:"medium",children:o("inputs.reference.cross-dataset.feature-unavailable-title")}),i&&d.jsxs(Se,{space:3,children:[d.jsx(J,{as:"p",size:1,children:s}),d.jsx(J,{as:"p",size:1,children:o("inputs.reference.cross-dataset.feature-disabled-actions")})]}),!i&&d.jsx(J,{as:"p",size:1,children:s})]})]}),r&&i&&d.jsx(ze,{icon:Bp,mode:"ghost",onClick:r,text:o("inputs.reference.action.clear"),width:"fill"})]})}var zEe=Object.freeze,pNn=Object.defineProperty,mNn=(n,e)=>zEe(pNn(n,"raw",{value:zEe(e||n.slice())})),VEe;const gNn=F(oe)(VEe||(VEe=mNn([`
  /* this is a hack to avoid layout jumps while previews are loading
  or the message is not tall enough to fill the card
  there's probably better ways of solving this */
  min-height: 36px;
`])));function qJe(n){var e,r,i;const{refType:o,showStudioUrlIcon:s,hasStudioUrl:a,showTypeLabel:l,availability:c,preview:u,id:f,dataset:h,projectId:m}=n,g=(c==null?void 0:c.reason)==="NOT_FOUND",v=(c==null?void 0:c.reason)==="PERMISSION_DENIED",y=(e=u.published)==null?void 0:e.media,{t:b}=me(),x=p.useMemo(()=>{if(y){const _=typeof(y==null?void 0:y.asset)<"u"&&tC(y),w=p.isValidElement(y);return!_&&!w?null:function(S){let{dimensions:T}=S;return w?y:d.jsx("img",{src:kD({dataset:h,projectId:m}).image(y).withOptions(T).url(),alt:b("inputs.reference.image-preview-alt-text"),referrerPolicy:"strict-origin-when-cross-origin"})}}return o!=null&&o.icon?p.createElement(o.icon):null},[y,h,m,o==null?void 0:o.icon,b]);return d.jsxs(gNn,{align:"center",justify:"center",flex:1,"data-testid":"preview",children:[c!=null&&c.available?d.jsx(te,{flex:1,children:d.jsx(rrt,{title:(r=u.published)==null?void 0:r.title,subtitle:(i=u.published)==null?void 0:i.subtitle,media:x||!1})}):d.jsx(te,{flex:1,children:d.jsx(oe,{align:"center",children:d.jsx(te,{flex:1,paddingY:2,children:d.jsx(J,{muted:!0,children:b("inputs.reference.error.document-unavailable-title")})})})}),d.jsx(te,{paddingLeft:3,children:d.jsxs(to,{space:4,children:[o&&l&&d.jsx(_u,{mode:"outline",children:o.title||o.type}),(v||g)&&d.jsx(te,{children:d.jsx(zn,{portal:!0,content:b(g?"inputs.reference.referenced-document-does-not-exist":"inputs.reference.referenced-document-insufficient-permissions",{documentId:f}),children:d.jsx(mo,{tone:"default",children:v?d.jsx(sy,{}):d.jsx(DC,{})})})}),!(g||v)&&s&&d.jsx(te,{children:d.jsx(zn,{portal:!0,content:b(a?"inputs.reference.document-opens-in-new-tab":"input.reference.document-cannot-be-opened.failed-to-resolve-url"),children:d.jsx(mo,{size:1,tone:"default",muted:!a,children:d.jsx(Iy,{})})})})]})})]})}const KJe=()=>{},KV={isLoading:!0,result:void 0,error:void 0,retry:KJe},vNn={isLoading:!1,result:void 0,error:void 0,retry:KJe};function YJe(n,e){const[r,i]=p.useState(0),o=p.useCallback(()=>{i(c=>c+1)},[]),s=p.useMemo(()=>({_id:n._id,_type:n._type}),[n._id,n._type]),a=bs(()=>s._id?e(s).pipe(Me(c=>({isLoading:!1,result:c,error:void 0,retry:o,retryAttempt:r})),ca(KV),vi(c=>(console.error(c),Ke({isLoading:!1,result:void 0,error:c,retry:o,retryAttempt:r})))):Ke(vNn),[s,e,o,r],KV),l=jie(n._id,n._id);return n._id&&l!==n._id?KV:a}function aoe(){return Jr(Dr).config().projectId}function yNn(n){var e;const{isLoading:r,result:i,error:o}=YJe(n.document,n.getReferenceInfo),{t:s}=me(),a=aoe();if(r)return d.jsxs(Se,{space:2,padding:1,children:[d.jsx(ro,{style:{maxWidth:320},radius:1,animated:!0}),d.jsx(ro,{style:{maxWidth:200},radius:1,size:1,animated:!0})]});if(o)return d.jsx(Se,{space:2,padding:1,children:d.jsx(sm,{title:s("inputs.reference.error.failed-to-load-document-title"),children:d.jsx(J,{muted:!0,size:1,children:o.message})})});if(!i)return null;if(((e=i.availability)==null?void 0:e.reason)==="PERMISSION_DENIED")return d.jsx(Se,{space:2,padding:1,children:s("inputs.reference.error.missing-read-permissions-description")});const l=n.referenceType.to.find(c=>c.type===i.type);return l?i&&l&&d.jsx(qJe,{id:i.id,availability:i.availability,preview:i.preview,refType:l,dataset:n.referenceType.dataset,projectId:a,showTypeLabel:n.referenceType.to.length>1}):d.jsx(Se,{space:2,padding:1,children:s("inputs.reference.error.invalid-search-result-type-title",{returnedType:i.type})})}function HEe(n){var e,r;const{value:i,type:o,showStudioUrlIcon:s,hasStudioUrl:a,referenceInfo:l}=n,{t:c}=me(),u=aoe();if(l.isLoading||l.error)return d.jsxs(Se,{space:2,padding:1,children:[d.jsx(ro,{style:{maxWidth:320},radius:1,animated:!l.error}),d.jsx(ro,{style:{maxWidth:200},radius:1,size:1,animated:!l.error})]});const f=o.to.length>1,h=(e=l.result)==null?void 0:e.type,m=o.to.find(g=>g.type===h);return(r=l.result.availability)!=null&&r.available&&!m?d.jsx(Se,{space:2,padding:2,children:d.jsx(J,{as:"p",children:d.jsx(bn,{t:c,i18nKey:"inputs.reference.cross-dataset.invalid-type",values:{typeName:h||"unknown"},components:{JsonValue:()=>d.jsx("pre",{children:JSON.stringify(i,null,2)})}})})}):d.jsx(qJe,{availability:l.result.availability,hasStudioUrl:a,showStudioUrlIcon:s,preview:l.result.preview,refType:m,projectId:u,dataset:o.dataset,id:i._ref,showTypeLabel:f})}var WEe=Object.freeze,bNn=Object.defineProperty,ZJe=(n,e)=>WEe(bNn(n,"raw",{value:WEe(e||n.slice())})),GEe,qEe;const xNn=F(Ai)(GEe||(GEe=ZJe([`
  & > div {
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }
`]))),wNn=F(J)(qEe||(qEe=ZJe([`
  word-break: break-word;
`]))),_Nn=["top-start","bottom-start"],ENn=p.forwardRef(function(e,r){const{searchString:i,loading:o,portalRef:s,referenceElement:a,...l}=e,{t:c}=me(),u=e.options&&e.options.length>0,f=p.useCallback((h,m)=>{let{content:g,hidden:v,inputElement:y,onMouseEnter:b,onMouseLeave:x}=h;return d.jsx(xNn,{"data-testid":"autocomplete-popover",placement:"bottom-start",fallbackPlacements:_Nn,arrow:!1,constrainSize:!0,onMouseEnter:b,onMouseLeave:x,content:d.jsx("div",{ref:m,children:u?g:d.jsx(te,{padding:4,children:d.jsx(oe,{align:"center",height:"fill",justify:"center",children:d.jsx(wNn,{align:"center",muted:!0,children:d.jsx(bn,{t:c,i18nKey:"inputs.reference.no-results-for-query",values:{searchTerm:i||""}})})})})}),open:!o&&!v,ref:s,portal:!0,referenceElement:a||y,matchReferenceWidth:!0})},[u,c,i,o,s,a]);return d.jsx(hte,{...l,ref:r,renderPopover:f})}),KEe={hits:[],isLoading:!1},CNn=()=>!0,YEe=["_ref"],SNn="crossDatasetReferences";function kNn(n){var e,r;const{changed:i,focused:o,focusPath:s,getReferenceInfo:a,onChange:l,onPathFocus:c,onSearch:u,path:f,readOnly:h,schemaType:m,validation:g,value:v,elementProps:y}=n,{t:b}=me(),x=aoe(),[_,w]=p.useState(KEe),C=p.useCallback(_e=>{if(!_e){l(un()),c([]);return}if(!_.hits.find(pe=>pe.id===_e))throw new Error("Selected an item that wasnt part of the result set");l(rn({_type:m.name,_ref:di(_e),_projectId:x,_dataset:m.dataset,_weak:m.weak,_key:v==null?void 0:v._key})),c([])},[v==null?void 0:v._key,_.hits,m.name,m.dataset,m.weak,x,l,c]),S=p.useCallback(()=>{l(un())},[l]),T=p.useCallback(_e=>{_e.key==="Escape"&&(c==null||c([]))},[c]),A=p.useCallback(_e=>a(_e,m),[a,m]),I=p.useMemo(()=>({_id:v==null?void 0:v._ref}),[v==null?void 0:v._ref]),D=YJe(I,A),R=vB(SNn),P=p.useRef(null),O=s.length===1&&s[0]==="_ref",$=y.ref;rc({hasFocusAt:O,ref:v==null?void 0:v._ref},(_e,ge)=>{var pe;const Pe=(_e==null?void 0:_e.ref)!==ge.ref;((_e==null?void 0:_e.hasFocusAt)!==ge.hasFocusAt||Pe)&&ge.hasFocusAt&&((pe=$.current)==null||pe.focus())});const L=v!=null&&v._weak?"weak":"strong",M=m.weak===!0?"weak":"strong",N=!!(v!=null&&v._ref),z=p.useCallback(()=>{l(m.weak===!0?rn(!0,["_weak"]):un(["_weak"]))},[l,m]),{push:B}=da(),H=p.useMemo(()=>g.filter(_e=>_e.level==="error"),[g]),X=p.useCallback(_e=>{_e.currentTarget===y.ref.current&&(c==null||c([j4e]))},[y.ref,c]),G=p.useCallback(_e=>{_e.currentTarget===y.ref.current&&(c==null||c(YEe))},[y.ref,c]),ne=p.useCallback(()=>{c==null||c(YEe)},[c]),le=p.useId(),K=K4(_e=>_e.pipe(Bn(Ws),Ro(),gn(ge=>Go(Ke({isLoading:!0}),u(ge).pipe(Me(pe=>({hits:pe,searchString:ge,isLoading:!1})),vi(pe=>(B({title:"Reference search failed",description:pe.message,status:"error",id:"reference-search-fail-".concat(le)}),console.error(pe),Ke({hits:[]})))))),rd((ge,pe)=>({...ge,...pe}),KEe),Si(w)),[le,u,B]),Q=p.useCallback(()=>{K("")},[K]),re=!D.isLoading&&N&&L!==M,se=(v==null?void 0:v._ref)&&((r=m.studioUrl)==null?void 0:r.call(m,{id:v==null?void 0:v._ref,type:(e=D==null?void 0:D.result)==null?void 0:e.type}))||null,de=p.useCallback(_e=>d.jsx(J0,{as:"button",type:"button",radius:2,children:d.jsx(te,{paddingX:3,paddingY:1,children:d.jsx(yNn,{referenceType:m,document:_e.hit.published,getReferenceInfo:A})})}),[m,A]),fe=O||!(v!=null&&v._ref),we=p.useRef(null),ye=p.useRef(null),ve=p.useRef(null);return yJe([we,ye,ve],()=>{O&&c([])}),d.jsxs(d.Fragment,{children:[!R.isLoading&&!R.enabled&&d.jsx(hNn,{value:v,onClearValue:S}),(R.isLoading||R.enabled)&&d.jsx(Se,{space:1,children:fe?d.jsx(Se,{space:2,ref:we,children:d.jsx(_l,{path:f,isChanged:i,hasFocus:!!o,children:d.jsx("div",{ref:P,children:d.jsx(ENn,{...y,"data-testid":"autocomplete",loading:_.isLoading,referenceElement:P.current,portalRef:ye,id:le||"",options:_.hits.map(_e=>({value:_e.id,hit:_e})),onFocus:G,radius:2,placeholder:b("inputs.reference.search-placeholder"),onKeyDown:T,readOnly:h,disabled:D.isLoading,onQueryChange:K,searchString:_.searchString,onChange:C,filterOption:CNn,renderOption:de,openButton:{onClick:Q}})})})}):d.jsx(_l,{path:f,isChanged:i,hasFocus:!!o,children:d.jsxs(ke,{padding:0,border:!0,flex:1,radius:1,tone:h?"transparent":D.error||H.length>0?"critical":"default",children:[d.jsxs(oe,{align:"center",padding:1,children:[se?d.jsx(J0,{as:"a",target:"_blank",rel:"noopener noreferrer",href:se,"data-as":"a",flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:X,ref:y.ref,children:d.jsx(HEe,{value:v,referenceInfo:D,showStudioUrlIcon:!0,hasStudioUrl:!!se,type:m})}):d.jsx(J0,{flex:1,padding:1,paddingRight:3,radius:2,tone:"inherit",__unstable_focusRing:!0,tabIndex:0,onFocus:X,ref:y.ref,children:d.jsx(HEe,{value:v,referenceInfo:D,showStudioUrlIcon:!0,type:m})}),d.jsx(to,{paddingX:1,children:d.jsx(Vr,{button:d.jsx(ha,{"data-testid":"menu-button"}),id:"".concat(le,"-menuButton"),menu:d.jsx(_r,{children:!h&&d.jsxs(d.Fragment,{children:[d.jsx(Wt,{text:b("inputs.reference.action.clear"),tone:"critical",icon:Bp,"data-testid":"menu-item-clear",onClick:S}),d.jsx(Wt,{text:b("inputs.reference.action.replace"),icon:ES,"data-testid":"menu-item-replace",onClick:ne})]})}),placement:"right",popover:{portal:!0,tone:"default"}})})]}),re&&d.jsx(Yie,{actualStrength:L,handleFixStrengthMismatch:z}),D.error&&d.jsx(Kie,{errorMessage:D.error.message,onHandleRetry:D.retry})]})})})]})}const TNn="cross-dataset-refs",XJe={available:!0,reason:"READABLE"},ANn={available:!1,reason:"PERMISSION_DENIED"},INn={available:!1,reason:"NOT_FOUND"};function DNn(n){const{client:e,documentPreviewStore:r}=n,{dataset:i,projectId:o}=e.config(),s=i&&o?{dataset:i,projectId:o}:void 0;return function(l,c){return(l._type?Ke(l):r.observeDocumentTypeFromId(l._id,s).pipe(Me(u=>({_id:l._id,_type:u})))).pipe(gn(u=>{if(!u._type)return RNn(e,l._id).pipe(Me(g=>({id:l._id,type:void 0,availability:g,preview:{published:void 0}})));const f=c.to.find(g=>g.type===u._type),h=poe(f==null?void 0:f.preview)||[],m=r.observePaths(l,h,s).pipe(Me(g=>g&&GF(g,f)));return Da([m]).pipe(Me(g=>{let[v]=g;return{type:u._type,id:l._id,availability:XJe,preview:{published:$n(v)?v:void 0}}}))}))}}function RNn(n,e){const r={uri:n.getDataUrl("doc",e),json:!0,query:{excludeContent:"true"},tag:"".concat(TNn,".availability")};return n.observable.request(r).pipe(Me(i=>{const s=mre(i.omitted||[],a=>a.id)[e];return s?s.reason==="existence"?INn:s.reason==="permission"?ANn:null:XJe}))}function ONn(n,e,r,i){return HN(r.to,n,{...i,maxDepth:i.maxFieldDepth})(e,{includeDrafts:!1,isCrossDataset:!0}).pipe(Me(s=>{let{hits:a}=s;return a.map(l=>{let{hit:c}=l;return c})}),Me(qS),Me(s=>s.map(a=>({id:a.id,type:a.type,published:a.published}))))}async function PNn(n,e,r,i){if(!n)return{};if(typeof n.filter=="function"){const o=r.slice(0,-1),s=fS(e,o);return await n.filter({document:e,parentPath:o,parent:s,getClient:i})}return{filter:n.filter,params:"filterParams"in n?n.filterParams:void 0}}function jNn(n){const e=p.useRef(n);return e.current=n,e}function LNn(n){const{path:e,schemaType:r}=n,i=xi(),o=i.getClient(Dr),s=Qa(),a=i.getClient,{unstable_enableNewSearch:l=!1}=i.search,c=p.useMemo(()=>o.withConfig({dataset:r.dataset,apiVersion:"2023-11-13",ignoreBrowserTokenWarning:!0}).clone(),[o,r.dataset]),u=WN(c),f=YD([]),h=jNn(f),m=p.useCallback(v=>Gi(PNn(r.options,h.current,e,a)).pipe(On(y=>{let{filter:b,params:x}=y;return ONn(c,v,r,{...r.options,filter:b,params:x,tag:"search.cross-dataset-reference",maxFieldDepth:u,unstable_enableNewSearch:l})}),vi(y=>{var b;const x=y.details&&y.details.type==="queryParseError";return(b=r.options)!=null&&b.filter&&x&&(y.message='Invalid reference filter, please check the custom "filter" option'),Zl(y)})),[r,h,e,a,c,u,l]),g=p.useMemo(()=>DNn({client:c,documentPreviewStore:s}),[c,s]);return d.jsx(kNn,{...n,getReferenceInfo:g,onSearch:m})}function iS(n){const{reference:e,children:r,observeAsset:i,waitPlaceholder:o}=n,s=e==null?void 0:e._ref,a=bs(()=>i(s),[s,i]);return d.jsx(d.Fragment,{children:s&&a?r(a):o})}var ZEe=Object.freeze,$Nn=Object.defineProperty,MNn=(n,e)=>ZEe($Nn(n,"raw",{value:ZEe(e||n.slice())})),XEe;const FNn=F(Wt)(XEe||(XEe=MNn([`
  position: relative;

  & input {
    overflow: hidden;
    overflow: clip;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    position: absolute;
    min-width: 0;
    display: block;
    appearance: none;
    padding: 0;
    margin: 0;
    border: 0;
    opacity: 0;
  }
`]))),NNn=p.forwardRef(function(e,r){const{icon:i,id:o,accept:s,capture:a,multiple:l,onSelect:c,text:u,disabled:f,...h}=e,m="".concat(o||"","-").concat(p.useId()),g=p.useCallback(y=>{c&&y.target.files&&c(Array.from(y.target.files))},[c]),v=p.useCallback(y=>d.jsxs("div",{children:[y,d.jsx("input",{"data-testid":"file-menuitem-input",accept:s,capture:a,id:m,multiple:l,onChange:g,type:"file",value:"",disabled:f})]}),[s,a,f,g,m,l]);return d.jsx(FNn,{...h,htmlFor:m,disabled:f,ref:r,icon:i,text:u,renderMenuItem:v})});function QJe(n){const{onUpload:e,onReset:r,readOnly:i,accept:o,directUploads:s,browse:a,downloadUrl:l,copyUrl:c}=n,{push:u}=da(),{t:f}=me(),h=p.useCallback(()=>{navigator.clipboard.writeText(c||""),u({closable:!0,status:"success",title:f("inputs.files.common.actions-menu.notification.url-copied")})},[c,u,f]);return d.jsxs(d.Fragment,{children:[d.jsx(NNn,{icon:CS,onSelect:e,accept:o,text:f("inputs.files.common.actions-menu.upload.label"),"data-testid":"file-input-upload-button",disabled:i||!s}),a,(l||c)&&d.jsx(Io,{}),l&&d.jsx(Wt,{as:"a",icon:gJ,text:f("inputs.files.common.actions-menu.download.label"),href:l}),c&&d.jsx(Wt,{icon:Np,text:f("inputs.files.common.actions-menu.copy-url.label"),onClick:h}),d.jsx(Io,{}),d.jsx(Wt,{tone:"critical",icon:Bp,text:f("inputs.files.common.actions-menu.clear-field.label"),onClick:r,disabled:i,"data-testid":"file-input-clear"})]})}function BNn(n,e){return new Promise((r,i)=>{const o=new XMLHttpRequest;o.onload=()=>{const s=new FileReader;s.onloadend=()=>{var a;const l=(a=s.result)==null?void 0:a.toString(),c=l==null?void 0:l.substring(11,l.indexOf(";base64"));if(!c&&!e){i(new Error("Could not find mime type for image"));return}r(JJe(s.result,e||"".concat(Ia(),".").concat(c)))},s.readAsDataURL(o.response)},o.onerror=s=>{i(s)},o.open("GET",n),o.responseType="blob",o.send()})}function UNn(n,e){return new Promise((r,i)=>{const o=n.toString(),s=o.substring(11,o.indexOf(";base64"));if(!s&&!e){i(new Error("Could not find mime type for image"));return}r(JJe(n,e||"".concat(Ia(),".").concat(s)))})}function JJe(n,e){var r;const i=n.split(","),o=(r=i[0].match(/:(.*?);/))==null?void 0:r[1],s=atob(i[1]);let a=s.length;const l=new Uint8Array(a);for(;a--;)l[a]=s.charCodeAt(a);return new File([l],e,{type:o})}function eet(n){let{assetFromSource:e,onChange:r,type:i,resolveUploader:o,uploadWith:s,isImage:a}=n;if(!e)throw new Error("No asset given");if(!Array.isArray(e)||e.length===0)throw new Error("Returned value must be an array with at least one item (asset)");const l=e[0],c=l.assetDocumentProps,u=c==null?void 0:c.originalFilename,f=c==null?void 0:c.label,h=c==null?void 0:c.title,m=c==null?void 0:c.description,g=c==null?void 0:c.creditLine,v=c==null?void 0:c.source,y=a?[un(["hotspot"]),un(["crop"])]:[];switch(l.kind){case"assetDocumentId":r([pl({_type:i.name}),...y,rn({_type:"reference",_ref:l.value},["asset"])]);break;case"file":{const b=o(i,l.value);b&&s(b,l.value,{label:f,title:h,description:m,creditLine:g,source:v});break}case"base64":UNn(l.value,u).then(b=>{const x=o(i,b);x&&s(x,b,{label:f,title:h,description:m,creditLine:g,source:v})});break;case"url":BNn(l.value,u).then(b=>{const x=o(i,b);x&&s(x,b,{label:f,title:h,description:m,creditLine:g,source:v})});break;default:throw new Error("Invalid value returned from asset source plugin")}}var QEe=Object.freeze,zNn=Object.defineProperty,VNn=(n,e)=>QEe(zNn(n,"raw",{value:QEe(e||n.slice())})),JEe;const HNn=F(oe)(JEe||(JEe=VNn([`
  pointer-events: none;
`])));function tet(n){const{hoveringFiles:e,type:r,readOnly:i,acceptedFiles:o,rejectedFilesCount:s,directUploads:a}=n,l=r==="file",{t:c}=me(),u=p.useMemo(()=>i?d.jsx(HI,{}):e&&s>0||!a?d.jsx(sy,{}):l?d.jsx(zI,{}):d.jsx(vh,{}),[a,e,l,i,s]),f=p.useMemo(()=>{if(!a)return c("inputs.files.common.placeholder.upload-not-supported");if(i)return c("inputs.files.common.placeholder.read-only");if(e&&a&&!i){if(o.length>0)return c("inputs.files.common.placeholder.drop-to-upload",{context:r});if(s>0)return c("inputs.files.common.placeholder.cannot-upload-some-files",{count:s})}return c("inputs.files.common.placeholder.drag-or-paste-to-upload",{context:r})},[o.length,a,e,i,s,c,r]);return d.jsxs(HNn,{align:"center",gap:3,justify:"center",paddingLeft:1,children:[d.jsx(J,{muted:!0,size:1,children:u}),d.jsx(J,{size:1,muted:!0,children:f})]})}const net=SJe(AJe(ke));var eCe=Object.freeze,WNn=Object.defineProperty,GNn=(n,e)=>eCe(WNn(n,"raw",{value:eCe(e||n.slice())})),tCe;const qNn=F(ze).attrs({forwardedAs:"label"})(n=>{let{theme:e}=n;const{focusRing:r}=e.sanity,i=e.sanity.color.base,o={width:1,color:"var(--card-border-color)"};return Ae(tCe||(tCe=GNn([`
      &:not([data-disabled='true']) {
        &:focus-within {
          box-shadow: `,`;
        }
      }

      // The underlying file input is rendered as children within a Sanity UI <Button> component.
      // The below visibly hides it by targeting the input's parent <span> element, which is
      // added by the <Button> component.
      // TODO: refactor, avoid nth-child selector usage
      & > span:nth-child(2) {
        overflow: hidden;
        overflow: clip;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        position: absolute;
        min-width: 0;
        display: block;
        appearance: none;
        padding: 0;
        margin: 0;
        border: 0;
        opacity: 0;
      }
    `])),GN({base:i,border:o,focusRing:r}))}),KNn=p.forwardRef(function(e,r){const{icon:i,id:o,accept:s,capture:a,multiple:l,onSelect:c,text:u,disabled:f,...h}=e,m="".concat(o||"","-").concat(p.useId()),g=p.useCallback(v=>{c&&v.target.files&&c(Array.from(v.target.files))},[c]);return d.jsx(qNn,{...h,icon:i,text:u,htmlFor:m,disabled:f,children:d.jsx("input",{"data-testid":"file-button-input",accept:s,capture:a,id:m,multiple:l,onChange:g,ref:r,type:"file",value:"",disabled:f})})});function YNn(n){const{accept:e,acceptedFiles:r,browse:i,directUploads:o,hoveringFiles:s,onUpload:a,readOnly:l,rejectedFilesCount:c,type:u}=n,[f,h]=p.useState(null),m=f6(f),g=(m==null?void 0:m.border)&&m.border.width<440,{t:v}=me();return d.jsxs(oe,{align:g?void 0:"center",direction:g?"column":"row",gap:4,justify:"space-between",paddingY:g?1:void 0,ref:h,children:[d.jsx(oe,{flex:1,children:d.jsx(tet,{acceptedFiles:r,directUploads:o,hoveringFiles:s,readOnly:l,rejectedFilesCount:c,type:u})}),d.jsxs(oe,{align:"center",gap:1,justify:"center",wrap:"wrap",children:[d.jsx(KNn,{accept:e,"data-testid":"file-input-upload-button",disabled:l||!o,icon:CS,mode:"bleed",onSelect:a,text:v("input.files.common.upload-placeholder.file-input-button.text")}),i]})]})}const ret=p.memo(YNn),iet=1e3*60*2;var nCe=Object.freeze,ZNn=Object.defineProperty,ZN=(n,e)=>nCe(ZNn(n,"raw",{value:nCe(e||n.slice())})),rCe,iCe,oCe,sCe;const XNn=F(ke)(rCe||(rCe=ZN([`
  min-height: 82px;
  box-sizing: border-box;
`]))),QNn=F(oe)(iCe||(iCe=ZN([`
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),JNn=F(Se)(oCe||(oCe=ZN([`
  position: relative;
  width: 60%;
`]))),eBn=F(ia)(sCe||(sCe=ZN([`
  position: relative;
  width: 100%;

  code {
    overflow: hidden;
    overflow: clip;
    text-overflow: ellipsis;
    position: relative;
    max-width: 200px;
  }
`]))),tBn=n=>new Date().getTime()-new Date(n).getTime();function oet(n){let{uploadState:e,onCancel:r,onStale:i,height:o}=n;const s=e.file.name;p.useEffect(()=>{tBn(e.updatedAt)>iet&&(i==null||i())},[e.updatedAt,i]);const{t:a}=me();return d.jsx(XNn,{tone:"primary",padding:4,border:!0,style:{height:"".concat(o,"px")},children:d.jsxs(QNn,{align:"center",justify:"space-between",height:"fill",direction:"row",gap:2,children:[d.jsxs(JNn,{children:[d.jsx(oe,{justify:"center",gap:[3,3,2,2],direction:["column","column","row"],children:d.jsx(J,{size:1,children:d.jsx(to,{space:2,children:d.jsx(bn,{t:a,i18nKey:"input.files.common.upload-progress",components:{FileName:()=>d.jsx(eBn,{size:1,children:s||"…"})}})})})}),d.jsx(ke,{border:!0,marginTop:3,radius:5,children:d.jsx(ort,{value:e.progress})})]}),r?d.jsx(ze,{mode:"ghost",onClick:r,text:a("input.files.common.cancel-upload"),tone:"critical"}):null]})})}function set(n){let{onClearStale:e}=n;const{t:r}=me();return d.jsxs(ke,{tone:"caution",padding:4,border:!0,radius:2,children:[d.jsxs(oe,{gap:4,marginBottom:4,children:[d.jsx(te,{children:d.jsx(J,{size:1,children:d.jsx(as,{})})}),d.jsxs(Se,{space:3,children:[d.jsx(J,{size:1,weight:"medium",children:r("inputs.files.common.stale-upload-warning.title")}),d.jsx(J,{size:1,children:r("inputs.files.common.stale-upload-warning.description",{staleThresholdMinutes:Math.ceil(iet/1e3/60)})})]})]}),d.jsx(ze,{icon:Bp,mode:"ghost",onClick:e,text:r("inputs.files.common.stale-upload-warning.clear"),width:"fill"})]})}function aet(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;if(n===0)return"0 Bytes";const r=1024,i=e<0?0:e,o=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.floor(Math.log(n)/Math.log(r));return"".concat(parseFloat((n/Math.pow(r,s)).toFixed(i))," ").concat(o[s])}function nBn(n){const{originalFilename:e,size:r,children:i,muted:o,disabled:s,onClick:a,isMenuOpen:l,onMenuOpen:c,setMenuButtonElement:u}=n,[f,h]=p.useState(null),[m,g]=p.useState(null),v=p.useCallback(()=>c(!0),[c]);wu(p.useCallback(x=>{l&&(x.key==="Escape"||x.key==="Tab")&&(c(!1),m==null||m.focus())},[l,c,m])),ki(p.useCallback(x=>{m!=null&&m.contains(x.target)||c(!1)},[m,c]),[f]);const y=p.useCallback(x=>{u(x),g(x)},[u]);p.useEffect(()=>{l&&(f==null||f.focus())},[l,f]);const{t:b}=me();return d.jsxs(oe,{wrap:"nowrap",justify:"space-between",align:"center",children:[d.jsx(ke,{as:o||s?void 0:"button",radius:2,padding:2,tone:"inherit",onClick:a,flex:1,children:d.jsxs(oe,{wrap:"nowrap",align:"center",children:[d.jsx(ke,{padding:3,tone:"transparent",shadow:1,radius:1,children:d.jsx(J,{muted:o,children:d.jsx(zI,{})})}),d.jsxs(Se,{flex:1,space:2,marginLeft:3,children:[d.jsx(J,{size:1,textOverflow:"ellipsis",muted:o,"data-testid":"file-name",weight:"medium",children:e}),d.jsx(J,{size:1,muted:!0,"data-testid":"file-size",children:aet(r)})]})]})}),d.jsx(te,{padding:2,children:d.jsx(oe,{justify:"center",children:d.jsx(Ai,{content:d.jsx(_r,{ref:h,children:i}),id:"file-actions-menu",portal:!0,open:l,constrainSize:!0,children:d.jsx(ha,{"aria-label":b("inputs.file.actions-menu.file-options.aria-label"),"data-testid":"options-menu-button",onClick:v,paddingY:3,ref:y})})})})]})}function aCe(){return d.jsxs(oe,{align:"center",justify:"flex-start",padding:2,children:[d.jsx(My,{padding:3,radius:1,animated:!0}),d.jsxs(Se,{flex:1,space:2,marginLeft:3,children:[d.jsx(ro,{style:{width:"100%"},radius:1,animated:!0}),d.jsx(ro,{style:{width:"100%"},radius:1,animated:!0})]})]})}function rBn(n){let{onClearValue:e}=n;const{t:r}=me();return d.jsxs(ke,{tone:"caution",padding:4,border:!0,radius:2,children:[d.jsxs(oe,{gap:4,marginBottom:4,children:[d.jsx(te,{children:d.jsx(J,{size:1,children:d.jsx(as,{})})}),d.jsxs(Se,{space:3,children:[d.jsx(J,{size:1,weight:"medium",children:r("inputs.file.invalid-file-warning.title")}),d.jsx(J,{size:1,children:r("inputs.file.invalid-file-warning.description")})]})]}),d.jsx(ze,{icon:Bp,mode:"ghost",onClick:e,text:r("inputs.file.invalid-file-warning.reset-button.text"),width:"fill"})]})}var lCe=Object.freeze,iBn=Object.defineProperty,cet=(n,e)=>lCe(iBn(n,"raw",{value:lCe(e||n.slice())})),cCe,uCe;const oBn=F(ke)(cCe||(cCe=cet([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),sBn=F(oe)(uCe||(uCe=cet([`
  height: 100%;
`])));function aBn(n){let{children:e}=n;return e}const lBn=["asset"];class cBn extends p.PureComponent{constructor(e){var r;super(e),r=this,this.uploadSubscription=null,this.browseButtonElement=null,this.state={isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,isMenuOpen:!1},this.toast=null,this.handleRemoveButtonClick=()=>{const{path:i,value:o}=this.props,a=typeof i.slice(-1)[0]!="string",l=Object.keys(o||{}),u=l.filter(h=>!["_type","_key","_upload","asset"].includes(h)).length===0,f=["asset"].concat(l.filter(h=>["_upload"].includes(h))).map(h=>un([h]));this.props.onChange(In.from(u&&!a?un():f))},this.handleCancelUpload=()=>{this.cancelUpload()},this.handleClearUploadState=()=>{this.setState({isStale:!1}),this.clearUploadStatus()},this.handleStaleUpload=()=>{this.setState({isStale:!0})},this.handleClearField=()=>{this.props.onChange(un(["asset"]))},this.handleSelectFiles=i=>{const{directUploads:o,readOnly:s}=this.props,{hoveringFiles:a}=this.state;o&&!s?this.uploadFirstAccepted(i):a.length>0&&this.handleFilesOut()},this.handleSelectFileFromAssetSource=i=>{this.setState({selectedAssetSource:i})},this.handleAssetSourceClosed=()=>{var i;this.setState({selectedAssetSource:null}),(i=this.browseButtonElement)==null||i.focus()},this.setBrowseButtonElement=i=>{this.browseButtonElement=i},this.uploadWith=function(i,o){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:a,onChange:l,client:c,t:u}=r.props,{source:f}=s,h={metadata:ko(a,"options.metadata"),storeOriginalFilename:ko(a,"options.storeOriginalFilename"),source:f};r.cancelUpload(),r.setState({isUploading:!0}),l(In.from([pl({_type:a.name})])),r.uploadSubscription=i.upload(c,o,a,h).subscribe({next:m=>{m.patches&&l(In.from(m.patches))},error:m=>{var g;console.error(m),(g=r.toast)==null||g.push({status:"error",description:u("inputs.file.upload-failed.description"),title:u("inputs.file.upload-failed.title")}),r.clearUploadStatus()},complete:()=>{r.setState({isUploading:!1})}})},this.handleSelectAssetFromSource=i=>{const{onChange:o,schemaType:s,resolveUploader:a}=this.props;eet({assetFromSource:i,onChange:o,type:s,resolveUploader:a,uploadWith:this.uploadWith}),this.setState({selectedAssetSource:null})},this.handleFileTargetFocus=i=>{var o;i.currentTarget===i.target&&i.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(i)},this.handleFilesOver=i=>{this.setState({hoveringFiles:i})},this.handleFilesOut=()=>{this.setState({hoveringFiles:[]})},this.handleUpload=i=>{let{file:o,uploader:s}=i;this.uploadWith(s,o)},this.setToast=i=>{this.toast=i},this._assetFieldPath=e.path.concat(lBn)}clearUploadStatus(){var e;(e=this.props.value)!=null&&e._upload&&this.props.onChange(In.from([un(["_upload"])]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(e){const{schemaType:r}=this.props,i=e.map(o=>{var s,a;return{file:o,uploader:(a=(s=this.props).resolveUploader)==null?void 0:a.call(s,r,o)}}).find(o=>o.uploader);i&&this.uploadWith(i.uploader,i.file),this.setState({isMenuOpen:!1})}renderUploadState(e){const{isUploading:r}=this.state;return d.jsx(oet,{uploadState:e,onCancel:r?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload})}renderAssetSource(){const{selectedAssetSource:e}=this.state,{value:r,schemaType:i,observeAsset:o,t:s}=this.props;if(!e)return null;const a=ko(i,"options.accept",""),l=e.component;return r&&r.asset?d.jsx(iS,{observeAsset:o,reference:r.asset,waitPlaceholder:d.jsx(aCe,{}),children:c=>d.jsx(l,{selectedAssets:[c],selectionType:"single",assetType:"file",accept:a,dialogHeaderTitle:s("inputs.file.dialog.title"),onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):d.jsx(l,{selectedAssets:[],selectionType:"single",assetType:"file",accept:a,dialogHeaderTitle:s("inputs.file.dialog.title"),onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}renderAsset(){const{value:e,changed:r,readOnly:i,elementProps:o}=this.props,{hoveringFiles:s,isStale:a}=this.state,l=!!(e!=null&&e._upload||e!=null&&e.asset);return e&&typeof e.asset<"u"&&!(e!=null&&e._upload)&&!R0e(e)?()=>d.jsx(rBn,{onClearValue:this.handleClearField}):c=>d.jsxs(d.Fragment,{children:[a&&d.jsx(te,{marginBottom:2,children:d.jsx(set,{onClearStale:this.handleClearUploadState})}),d.jsx(_l,{path:this._assetFieldPath,hasFocus:!!c.focused,isChanged:r,children:e!=null&&e._upload?this.renderUploadState(e._upload):d.jsx(net,{...o,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!i,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:l||s.length>0,style:{padding:1},sizing:"border",radius:2,children:d.jsxs("div",{style:{position:"relative"},children:[!(e!=null&&e.asset)&&this.renderUploadPlaceholder(),e!=null&&e.asset&&s.length>0?this.renderAssetMenu(this.getFileTone()):null,!(e!=null&&e._upload)&&(e==null?void 0:e.asset)&&this.renderPreview()]})})})]})}renderPreview(){const{value:e,readOnly:r,assetSources:i,schemaType:o,directUploads:s,observeAsset:a,t:l}=this.props,{isMenuOpen:c}=this.state,u=e==null?void 0:e.asset;if(!u)return null;const f=ko(o,"options.accept","");let h=i&&(i==null?void 0:i.length)===0?null:d.jsx(Wt,{icon:Aa,text:l("inputs.file.browse-button.text"),onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(i[0])},disabled:r,"data-testid":"file-input-browse-button"});return i.length>1&&(h=i.map(m=>d.jsx(Wt,{text:(m.i18nKey?l(m.i18nKey):m.title)||li(m.name),onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(m)},icon:m.icon||vh,disabled:r,"data-testid":"file-input-browse-button-".concat(m.name)},m.name))),d.jsx(iS,{reference:u,observeAsset:a,waitPlaceholder:d.jsx(aCe,{}),children:m=>{let{originalFilename:g,extension:v,url:y,size:b}=m;const x=g||"download.".concat(v);let _,w;return R0e(e)&&(w="".concat(y,"?dl"),_=y),d.jsx(nBn,{size:b,originalFilename:x,muted:!r,onMenuOpen:C=>this.setState({isMenuOpen:C}),isMenuOpen:c,setMenuButtonElement:this.setBrowseButtonElement,children:d.jsx(QJe,{onUpload:this.handleSelectFiles,browse:h,onReset:this.handleRemoveButtonClick,downloadUrl:w,copyUrl:_,readOnly:r,accept:f,directUploads:s})})}})}renderAssetMenu(e){const{schemaType:r,readOnly:i,directUploads:o,resolveUploader:s}=this.props,{hoveringFiles:a}=this.state,l=a.filter(u=>s==null?void 0:s(r,u)),c=a.length-l.length;return d.jsx(oBn,{radius:2,tone:e,children:d.jsx(sBn,{align:"center",justify:"center",gap:2,flex:1,children:d.jsx(tet,{readOnly:i,hoveringFiles:a,acceptedFiles:l,rejectedFilesCount:c,directUploads:o,type:"file"})})})}renderBrowser(){const{assetSources:e,readOnly:r,directUploads:i,id:o,t:s}=this.props;return e.length===0?null:e.length>1&&!r&&i?d.jsx(Vr,{id:"".concat(o,"_assetFileButton"),ref:this.setBrowseButtonElement,button:d.jsx(ze,{mode:"bleed",text:s("inputs.file.multi-browse-button.text"),"data-testid":"file-input-multi-browse-button",icon:Aa}),"data-testid":"input-select-button",menu:d.jsx(_r,{children:e.map(a=>d.jsx(Wt,{text:a.title,onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(a)},icon:a.icon||vh,disabled:r,"data-testid":"file-input-browse-button-".concat(a.name)},a.name))})}):d.jsx(ze,{text:s("inputs.file.browse-button.text"),icon:Aa,mode:"bleed",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectFileFromAssetSource(e[0])},"data-testid":"file-input-browse-button",disabled:r,ref:this.setBrowseButtonElement})}renderUploadPlaceholder(){const{readOnly:e,schemaType:r,directUploads:i,resolveUploader:o}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>o==null?void 0:o(r,u)),l=s.length-a.length,c=ko(r,"options.accept","");return d.jsx(d.Fragment,{children:d.jsx(ke,{tone:e?"transparent":"inherit",border:!0,paddingX:3,paddingY:2,radius:2,style:s.length===0?{borderStyle:"dashed"}:{borderStyle:"dashed",borderColor:"transparent"},children:d.jsx(ret,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:e,hoveringFiles:s,acceptedFiles:a,rejectedFilesCount:l,type:"file",accept:c,directUploads:i})})})}getFileTone(){const{directUploads:e,schemaType:r,value:i,readOnly:o,resolveUploader:s}=this.props,{hoveringFiles:a}=this.state,l=a.filter(u=>s==null?void 0:s(r,u)),c=a.length-l.length;return a.length>0&&(c>0||!e)?"critical":!(i!=null&&i._upload)&&!o&&a.length>0?"primary":i!=null&&i._upload&&(i!=null&&i.asset)&&o?"transparent":"default"}render(){const{members:e,renderAnnotation:r,renderBlock:i,renderInlineBlock:o,renderItem:s,renderInput:a,renderField:l,renderPreview:c,t:u}=this.props,{selectedAssetSource:f}=this.state;return d.jsxs(d.Fragment,{children:[d.jsx(Xoe,{ref:this.setToast}),e.map(h=>h.kind==="field"&&(h.name==="crop"||h.name==="hotspot")?null:h.kind==="field"?d.jsx(KD,{member:h,renderAnnotation:r,renderInlineBlock:o,renderBlock:i,renderInput:h.name==="asset"?this.renderAsset():a,renderField:h.name==="asset"?aBn:l,renderItem:s,renderPreview:c},h.key):h.kind==="fieldSet"?d.jsx(Vie,{member:h,renderAnnotation:r,renderBlock:i,renderField:l,renderInlineBlock:o,renderInput:a,renderItem:s,renderPreview:c},h.key):h.kind==="error"?d.jsx(FN,{member:h},h.key):d.jsx(d.Fragment,{children:u("inputs.file.error.unknown-member-kind",{kind:h.kind})})),f&&this.renderAssetSource()]})}}function uBn(n){var e;const r=(e=n.schemaType.options)==null?void 0:e.sources,i=Qa(),{file:o}=om().__internal,s=Jr(Dr),{t:a}=me(),l=p.useCallback((f,h)=>o.directUploads?Uie(f,h):null,[o.directUploads]),c=p.useMemo(()=>r||o.assetSources,[o,r]),u=p.useCallback(f=>FQe(i,f),[i]);return d.jsx(cBn,{...n,t:a,client:s,assetSources:c,directUploads:o.directUploads,observeAsset:u,resolveUploader:l})}var dCe=Object.freeze,dBn=Object.defineProperty,fBn=(n,e)=>dCe(dBn(n,"raw",{value:dCe(e||n.slice())})),fCe;const hCe=F(te)(fCe||(fCe=fBn([`
  position: relative;
  padding-bottom: calc(`,` * 100%);

  & > div {
    position: absolute;
    top: `,`px;
    left: `,`px;
    right: `,`px;
    bottom: `,`px;
  }
`])),n=>{let{ratio:e=3/2}=n;return 1/e},n=>{let{padding:e=0}=n;return e},n=>{let{padding:e=0}=n;return e},n=>{let{padding:e=0}=n;return e},n=>{let{padding:e=0}=n;return e}),Ng={x:.5,y:.5,height:1,width:1},Bg={top:0,left:0,right:0,bottom:0};function hBn(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=pCe(n.image)||1,r=n.hotspot||Ng,i=n.crop||Bg,o=pCe(n.container)||e*mBn(i),s=n.align||{x:"center",y:"center"},a=pBn(e,{hotspot:r,crop:i},{aspect:o,align:s}),l=det(uet(100/o));return{debug:{result:a},container:{overflow:"hidden",position:"relative",width:"100%",height:l},padding:{marginTop:l},crop:{position:"absolute",overflow:"hidden",height:Rv(a.crop.height),width:Rv(a.crop.width),top:Rv(a.crop.top),left:Rv(a.crop.left)},image:{position:"absolute",height:Rv(a.image.height),width:Rv(a.image.width),top:Rv(a.image.top),left:Rv(a.image.left)}}}function pCe(n){if(!n)return null;if("aspectRatio"in n)return n.aspectRatio;if("height"in n||"width"in n){if(typeof n.height!="number"&&typeof n.width!="number")throw new Error("Height and width must be numbers, got ".concat(JSON.stringify(n)));return n.width/n.height}return null}function uet(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;const r=Math.pow(10,e);return Math.round(n*r)/r}function pBn(n,e,r){const i=e.crop,o=r.aspect,s=r.align,a=1-i.left-i.right,l=1-i.top-i.bottom,c={top:-i.top/l,left:-i.left/a,width:1/a,height:1/l},f=a/l*n,h={x:(e.hotspot.x-i.left)/a,y:(e.hotspot.y-i.top)/l,height:e.hotspot.height/l,width:e.hotspot.width/a},m=1/h.width,g=1/h.height*f/o,v=Math.min(m,g);let y;const b=f<=o;b?y=1:y=f/o;let x,_;if(y>v){x="letterbox";let w;const C=y-v;b?w=1-C:w=v,_={width:w,height:w/f*o,left:0,top:0};const S=h.x*_.width-h.width*_.width/2;switch(s.x){case"left":_.left=b?0:-S;break;case"right":_.left=b?1-_.width:S;break;case"center":_.left=b?(1-_.width)/2:-S;break;default:throw new Error("Invalid x alignment: '".concat(s.x,"'. Must be either 'left', 'right' or 'center'"))}const T=h.y*_.height-h.height*_.height/2;switch(s.y){case"top":_.top=b?-T:0;break;case"bottom":_.top=T;break;case"center":_.top=b?-T:(1-_.height)/2;break;default:throw new Error("Invalid y alignment: '".concat(s.y,"'. Must be either 'top', 'bottom' or 'center'"))}}else if(b){x="full_width";let w=-h.y/f*o+.5;const C=y/f*o;w>0?w=0:-w>C-1&&(w=-(C-1)),_={width:y,height:C,left:0,top:w}}else{x="full_height";const w=y;let C=.5-h.x*y;C>0?C=0:-C>w-1&&(C=-(w-1)),_={width:w,height:y/f*o,top:0,left:C}}return{method:x,crop:_,image:c}}function mBn(n){const e=1-n.top-n.bottom;return(1-n.left-n.right)/e}function det(n){return n===0?0:"".concat(n,"%")}function Rv(n){return det(uet(n*100))}var mCe=Object.freeze,gBn=Object.defineProperty,vBn=(n,e)=>mCe(gBn(n,"raw",{value:mCe(e||n.slice())})),gCe;const yBn=F.div(gCe||(gCe=vBn([`
  position: relative;
  width: 100%;
`]))),bBn=rg("sanity-imagetool");function xBn(n,e){const r=1/e,i=e*r,o=i-(n.left+n.right)*i,s=r-(n.top+n.bottom)*r;return o/s}const wBn=p.memo(function(e){const{alignX:r="center",alignY:i="center",alt:o,aspectRatio:s="none",className:a="",crop:l=Bg,hotspot:c=Ng,onError:u,onLoad:f,src:h,srcAspectRatio:m,srcSet:g,style:v}=e,[y,b]=p.useState(null),x=p.useRef(null),_=p.useRef(null),w=p.useCallback(()=>{if(x.current)if(s==="auto"){const T=x.current.parentNode;p.startTransition(()=>b(T.offsetWidth/T.offsetHeight))}else b(null)},[s]);p.useEffect(()=>{const T=_.current;return T&&T.src&&T.complete&&T.naturalWidth!==void 0&&(bBn("Image '%s' already loaded, refreshing (from cache) to trigger onLoad / onError",h),T.src=T.src),w(),window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}},[h,w]);const C=p.useMemo(()=>s==="none"?l?xBn(l,m):m:s==="auto"?y:s||null,[s,y,l,m]),S=p.useMemo(()=>hBn({container:{aspectRatio:C||m},image:{aspectRatio:m},hotspot:c,crop:l,align:{x:r,y:i}}),[r,i,l,c,m,C]);return d.jsx(yBn,{className:"".concat(a),style:v,ref:x,children:d.jsxs("div",{style:S.container,children:[d.jsx("div",{style:S.padding}),d.jsx("div",{style:S.crop,children:d.jsx("img",{ref:_,src:h,alt:o,srcSet:g,onLoad:f,onError:u,style:S.image})})]})})});function _Bn(n){const{src:e,children:r}=n,[i,o]=p.useState(!0),[s,a]=p.useState(null),[l,c]=p.useState(null);return p.useEffect(()=>{a(null),c(null),o(!0);const u=new Image;u.onload=()=>{a(u),c(null),o(!1)},u.onerror=()=>{c(new Error("Could not load image from ".concat(JSON.stringify(e)))),o(!1)},u.referrerPolicy="strict-origin-when-cross-origin",u.src=e},[e]),r({image:s,error:l,isLoading:i})}function EBn(n){const{image:e,maxHeight:r,maxWidth:i,children:o}=n,[s]=p.useState(()=>{const l=document.createElement("canvas");return l.style.display="none",l});p.useEffect(()=>(document.body.appendChild(s),()=>{document.body.removeChild(s)}),[s]);const a=p.useCallback((l,c,u)=>{const f=l.width/l.height,h=Math.min(l.width,u),m=Math.min(l.height,c),g=l.width>l.height,v=g?h:m*f,y=g?h/f:m;s.width=v,s.height=y;const b=s.getContext("2d");return b&&b.drawImage(l,0,0,l.width,l.height,0,0,v,y),s},[s]);return o(a(e,r,i))}class MY{constructor(e,r){this.x=e,this.y=r}}class vCe{constructor(e,r,i){this.y=e,this._left=r,this._right=i}get right(){return new MY(this._right,this.y)}get left(){return new MY(this._left,this.y)}get length(){return this._right-this._left}}class CBn{constructor(e){this.rect=e}get top(){return new vCe(this.rect.top,this.rect.left,this.rect.right)}get bottom(){return new vCe(this.rect.bottom,this.rect.left,this.rect.right)}}class Qs{static fromEdges(e){let{left:r,right:i,top:o,bottom:s}=e;return new Qs(r,o,1-r-i,1-o-s)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;this.left=e,this.top=r,this.width=i,this.height=o}setTopLeft(e,r){return new Qs(e,r,this.width||0,this.height||0)}setSize(e,r){return new Qs(this.left||0,this.top||0,e,r)}setCenter(e,r){const i=this.width||0,o=this.height||0;return new Qs(e-i/2,r-o/2,i||0,o||0)}get center(){return new MY(this.left+this.width/2,this.top+this.height/2)}get corners(){return new CBn(this)}get right(){return this.left+this.width}get bottom(){return this.top+this.height}multiply(e){return new Qs((this.left||0)+this.width*e.left,(this.top||0)+this.height*e.top,this.width*e.width,this.height*e.height)}grow(e){return new Qs(this.left-e,this.top-e,this.width+e*2,this.height+e*2)}shrink(e){return this.grow(-e)}cropRelative(e){const r=this.top+e.top*this.height,i=this.left+e.left*this.width,o=this.height*e.height,s=this.width*e.width;return new Qs(i,r,s,o)}clamp(e){let{left:r,top:i,width:o,height:s}=this;return e.width<o&&(o=e.width,r=e.left),e.height<s&&(s=e.height,i=e.top),r+o>e.left+e.width&&(r=e.right-o),i+s>e.top+e.height&&(i=e.bottom-s),new Qs(Math.max(r,e.left),Math.max(i,e.top),o,s)}}function yCe(n,e){const r={x:e.center.x,y:e.center.y},i=e.width/2,o=e.height/2;if(i<=0||o<=0)return!1;const s={x:n.x-r.x,y:n.y-r.y};return Math.pow(s.x,2)/Math.pow(i,2)+Math.pow(s.y,2)/Math.pow(o,2)<=1}function bCe(n,e){let{x:r,y:i}=n;return Math.pow(r-e.x,2)+Math.pow(i-e.y,2)<Math.pow(e.radius,2)}function YV(n,e){return n.x>=e.left&&n.x<=e.left+e.width&&n.y>=e.top&&n.y<=e.top+e.height}function xCe(n,e){return{x:e.center.x-e.width/2*Math.cos(n),y:e.center.y-e.height/2*Math.sin(n)}}const SBn="data:image/png;base64,AAACAAEAICACAAcABQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAEAAAAAAAAAAAAAAgAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAA/AAAAfwAAAP+AAAH/gAAB/8AAA//AAAd/wAAGf+AAAH9gAADbYAAA2yAAAZsAAAGbAAAAGAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////gH///4B///8Af//+AD///AA///wAH//4AB//8AAf//AAD//5AA///gAP//4AD//8AF///AB///5A////5///8=",kBn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QA/4ePzL8AAABdSURBVEjH7ZA7DsAwCEMN6v2vTCdESpLKQRl5gxfzMQDNRQyWlEK83QAIRh3cH/QbIhQwMDl8gORl7A16WD/xxAdq6N6SgycKUblf41+wbFBT44RiCi11NU3TLHgBxRUUD4ITqnIAAAAldEVYdGRhdGU6Y3JlYXRlADIwMTUtMDEtMjFUMDA6MTM6NDMrMDE6MDC74T7AAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDEyLTA0LTAyVDA0OjEzOjM3KzAyOjAwQJ35wQAAAABJRU5ErkJggg==",TBn=["","webkit","moz","ms","o"].map(n=>"".concat(n,"backingStoreRatio"));let BP=-1;function ABn(n){return BP===-1&&(BP=TBn.find(e=>e in n)),BP&&n[BP]}const UP=rg("sanity-imagetool");function IBn(n){return class extends p.PureComponent{constructor(){super(...arguments),this.domNode=null,this.currentPos=null,this.isDragging=!1,this.handleDragStart=r=>{const{onDragStart:i,readOnly:o}=this.props;if(o||!this.domNode)return;if(this.isDragging){UP("Start cancelled, already a drag in progress");return}this.isDragging=!0;const s=XV(r);UP("Drag started %o",s),i(ZV(s.x,s.y,this.domNode.getBoundingClientRect())),this.currentPos=s},this.handleDrag=r=>{if(!this.isDragging||this.props.readOnly||!this.currentPos)return;const{onDrag:i}=this.props,o=XV(r),s=DBn(o,this.currentPos);i(s),UP("moving by %o",s),this.currentPos=o},this.handleDragEnd=r=>{const{onDragEnd:i,readOnly:o}=this.props;if(!this.isDragging||o||!this.domNode)return;const s=XV(r);i(ZV(s.x,s.y,this.domNode.getBoundingClientRect())),this.isDragging=!1,this.currentPos=null,UP("Done moving %o",s)},this.handleDragCancel=()=>{if(!this.isDragging||this.props.readOnly||!this.currentPos||!this.domNode)return;const{onDragEnd:r}=this.props;this.isDragging=!1,r(ZV(this.currentPos.x,this.currentPos.y,this.domNode.getBoundingClientRect())),this.currentPos=null},this.setDomNode=r=>{this.domNode=r}}componentDidMount(){document.body.addEventListener("pointermove",this.handleDrag),document.body.addEventListener("pointerup",this.handleDragEnd),document.body.addEventListener("pointerleave",this.handleDragCancel),document.body.addEventListener("pointercancel",this.handleDragCancel)}componentWillUnmount(){document.body.removeEventListener("pointermove",this.handleDrag),document.body.removeEventListener("pointerup",this.handleDragEnd),document.body.removeEventListener("pointerleave",this.handleDragCancel),document.body.removeEventListener("pointercancel",this.handleDragCancel)}render(){const{readOnly:r,onDragStart:i,onDragEnd:o,onDrag:s,...a}=this.props;return d.jsx(n,{ref:this.setDomNode,onPointerDown:r?void 0:this.handleDragStart,onPointerMove:r?void 0:this.handleDrag,...a})}}}function ZV(n,e,r){return{x:n-r.left,y:e-r.top}}function XV(n){return{x:n.clientX,y:n.clientY}}function DBn(n,e){return{x:n.x-e.x,y:n.y-e.y}}var wCe=Object.freeze,RBn=Object.defineProperty,fet=(n,e)=>wCe(RBn(n,"raw",{value:wCe(e||n.slice())})),_Ce,ECe;const OBn=IBn("canvas"),PBn=F.div(_Ce||(_Ce=fet([`
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
`]))),jBn=F(OBn)(ECe||(ECe=fet([`
  display: block;
  position: relative;
  max-width: calc(100% - 0.5em); /* to prevent overlap with change bar */
  max-height: calc(100% + 1em);
  user-select: none;
  // Enable only multi-finger panning and zooming within this element.
  // This prevents single finger panning when manipulating drag handles,
  // which can cause unwanted scrolling in the underlying document body.
  touch-action: pinch-zoom;
`]))),Ok=8,LBn=12,$Bn=10;function MBn(n){const e=n.top>n.bottom,r=n.left>n.right;return{top:e?n.bottom:n.top,bottom:e?n.top:n.bottom,left:r?n.right:n.left,right:r?n.left:n.right}}function FBn(n,e){return!(!n||!n.crop||n.crop.top+e.top<0||n.crop.left+e.left<0||n.crop.right+e.right<0||n.crop.bottom+e.bottom<0)}function CCe(n,e){const{top:r,right:i,bottom:o,left:s}=n.crop||Bg,a={hotspot:n.hotspot,crop:{top:r+(e.top||0)>0?r:0,right:i+(e.right||0)>0?i:0,bottom:o+(e.bottom||0)>0?o:0,left:s+(e.left||0)>0?s:0}},l={top:r+(e.top||0)>0&&e.top||0,right:i+(e.right||0)>0&&e.right||0,bottom:o+(e.bottom||0)>0&&e.bottom||0,left:s+(e.left||0)>0&&e.left||0};return{value:a,delta:l}}function NBn(n){switch(n){case"left":case"right":return"col-resize";case"top":case"bottom":return"row-resize";case"topRight":case"bottomLeft":return"nesw-resize";case"topLeft":case"bottomRight":return"nwse-resize";default:return null}}const SCe=hD(()=>{const n=window.devicePixelRatio||1,e=document.createElement("canvas").getContext("2d"),r=e&&ABn(e)||1;return n/r}),kCe=["left","right","top","topLeft","topRight","bottom","bottomLeft","bottomRight"];class BBn extends p.PureComponent{constructor(){super(...arguments),this.state={cropping:!1,cropMoving:!1,moving:!1,resizing:!1,pointerPosition:null},this.handleDragStart=e=>{let{x:r,y:i}=e;const o={x:r*this.getScale(),y:i*this.getScale()},s=yCe(o,this.getHotspotRect()),a=bCe(o,this.getDragHandleCoords()),l=this.getActiveCropHandleFor(o),c=YV(o,this.getCropRect());l?this.setState({cropping:l}):a?this.setState({resizing:!0}):s?this.setState({moving:!0}):c&&this.setState({cropMoving:!0})},this.handleDrag=e=>{this.state.cropping?this.emitCrop(this.state.cropping,e):this.state.cropMoving?this.emitCropMove(e):this.state.moving?this.emitMove(e):this.state.resizing&&this.emitResize(e)},this.handleDragEnd=()=>{const{onChange:e,onChangeEnd:r}=this.props;this.setState({moving:!1,resizing:!1,cropping:!1,cropMoving:!1});const{hotspot:i,crop:o}=this.getClampedValue(),s=MBn(o),a={crop:{top:s.top,bottom:1-s.bottom,left:s.left,right:1-s.right},hotspot:{x:i.center.x,y:i.center.y,height:Math.abs(i.height),width:Math.abs(i.width)}};e(a),r&&r(a)},this.handlePointerOut=()=>{this.setState({pointerPosition:null})},this.handlePointerMove=e=>{const r=e.currentTarget.getBoundingClientRect();this.setState({pointerPosition:{x:(e.clientX-r.left)*this.getScale(),y:(e.clientY-r.top)*this.getScale()}})},this.setCanvas=e=>{this.canvas=e}}getHotspotRect(){const{value:e,image:r}=this.props,i=e.hotspot||Ng,o=new Qs().setSize(i.width,i.height).setCenter(i.x,i.y);return new Qs().setSize(r.width,r.height).shrink(Ok*this.getScale()).multiply(o)}getCropRect(){const{value:e,image:r}=this.props;return new Qs().setSize(r.width,r.height).shrink(Ok*this.getScale()).cropRelative(Qs.fromEdges(e.crop||Bg).clamp(new Qs(0,0,1,1)))}getCropHandles(){const e=this.getCropRect(),r=LBn*this.getScale(),i=r/2,o=new Qs(0,0,r,r);return{left:o.setTopLeft(e.left-i,e.center.y-i),right:o.setTopLeft(e.right-i,e.center.y-i),top:o.setTopLeft(e.center.x-i,e.top-i),topLeft:o.setTopLeft(e.left-i,e.top-i),topRight:o.setTopLeft(e.right-i,e.top-i),bottom:o.setTopLeft(e.center.x-i,e.bottom-i),bottomLeft:o.setTopLeft(e.left-i,e.bottom-i),bottomRight:o.setTopLeft(e.right-i,e.bottom-i)}}getActiveCropHandleFor(e){let{x:r,y:i}=e;const o=this.getCropHandles();for(const s of kCe)if(YV({x:r,y:i},o[s]))return s;return!1}emitMove(e){const{image:r,value:i,onChange:o}=this.props,s=this.getScale(),a={x:e.x*s/r.width,y:e.y*s/r.height};o(UBn(i,a))}emitCropMove(e){const{image:r,onChange:i,value:o}=this.props,s=this.getScale(),a=e.x*s/r.width,l=-e.x*s/r.width,c=e.y*s/r.height,u=-e.y*s/r.height,f={left:a,right:l,top:c,bottom:u};FBn(o,f)&&i(TCe(o,f))}emitCrop(e,r){const{image:i,onChange:o,value:s}=this.props,a=this.getScale();let l=0,c=0,u=0,f=0;e=="left"||e==="topLeft"||e==="bottomLeft"?l=r.x*a/i.width:(e=="right"||e==="topRight"||e==="bottomRight")&&(c=-r.x*a/i.width),e=="top"||e==="topLeft"||e==="topRight"?u=r.y*a/i.height:(e=="bottom"||e==="bottomLeft"||e==="bottomRight")&&(f=-r.y*a/i.height);const h={left:l,right:c,top:u,bottom:f},m=CCe(s,h).value,g=CCe(s,h).delta;o(TCe(m,g))}emitResize(e){const{image:r,onChange:i,value:o}=this.props,s=this.getScale(),a={x:e.x*s*2/r.width,y:e.y*s*2/r.height};i(zBn(o,{height:a.y,width:a.x}))}getClampedValue(){const e=this.props.value,r=Qs.fromEdges(e.crop||Bg).clamp(new Qs(0,0,1,1)),i=e.hotspot||Ng,o=new Qs(0,0,1,1).setSize(i.width,i.height).setCenter(i.x,i.y).clamp(r);return{crop:r,hotspot:o}}paintHotspot(e,r){const{image:i,readOnly:o}=this.props,s=new Qs().setSize(i.width,i.height),{hotspot:a,crop:l}=this.getClampedValue(),c=this.getScale(),u=Ok*c;e.save(),g(),f(),e.clip(),m(),e.restore(),o||v(Math.PI*1.25);function f(){e.save();const y=s.shrink(u).multiply(a),b=y.height/y.width;e.scale(1,b),e.beginPath(),e.globalAlpha=r,e.arc(y.center.x,y.center.y/b,Math.abs(y.width/2),0,2*Math.PI,!1),e.strokeStyle="white",e.lineWidth=1.5*c,e.stroke(),e.closePath(),e.restore()}function h(y,b,x,_,w,C,S,T){e.save(),e.drawImage(i,y,b,x,_,w,C,S,T),e.restore()}function m(){const y=s.multiply(a),b=s.shrink(u).multiply(a);h(y.left,y.top,y.width,y.height,b.left,b.top,b.width,b.height)}function g(){const y=s.cropRelative(l),b=s.shrink(u).cropRelative(l);e.save(),h(y.left,y.top,y.width,y.height,b.left,b.top,b.width,b.height),e.globalAlpha=.5,e.fillStyle="black",e.fillRect(b.left,b.top,b.width,b.height),e.restore()}function v(y){e.save();const b=$Bn*c,x=s.shrink(u).multiply(a),_=xCe(y,x);e.beginPath(),e.arc(_.x,_.y,b,0,2*Math.PI,!1),e.fillStyle="rgb(255,255,255)",e.fill(),e.closePath(),e.restore(),e.beginPath(),e.arc(_.x,_.y,b,0,2*Math.PI,!1),e.strokeStyle="rgb(0, 0, 0)",e.lineWidth=.5*c,e.stroke(),e.closePath()}}getActualSize(){var e;const r=(e=this.canvas)==null?void 0:e.domNode;return r?{height:r.clientHeight,width:r.clientWidth}:{height:0,width:0}}getDragHandleCoords(){const e=this.getHotspotRect(),r=xCe(Math.PI*1.25,e);return{x:r.x,y:r.y,radius:8*this.getScale()}}debug(e){e.save();const{image:r}=this.props,i=this.getHotspotRect(),o=this.getScale(),s=Ok*o;e.setLineDash&&e.setLineDash([2*o,2*o]),e.lineWidth=.5*o,e.strokeStyle="rgba(200, 200, 200, 0.5)",a(i.center.x),l(i.center.y),e.strokeStyle="rgba(150, 150, 150, 0.5)",l(i.top),l(i.bottom),a(i.left),a(i.right),e.restore();function a(u){c(u,s,u,r.height-s)}function l(u){c(s,u,r.width-s,u)}function c(u,f,h,m){e.beginPath(),e.moveTo(u,f),e.lineTo(h,m),e.stroke(),e.closePath()}}paintBackground(e){const{image:r}=this.props,i=new Qs().setSize(r.width,r.height).shrink(Ok*this.getScale());e.save(),e.fillStyle="white",e.clearRect(0,0,r.width,r.height),e.globalAlpha=.3,e.drawImage(r,i.left,i.top,i.width,i.height),e.restore()}paint(e){const{readOnly:r}=this.props;e.save();const i=SCe();e.scale(i,i);const o=!r&&this.state.pointerPosition?.8:.2;this.paintBackground(e),this.paintHotspot(e,o),this.debug(e),this.paintCropBorder(e),r||this.highlightCropHandles(e,o),e.restore()}paintPointerPosition(e){if(!this.state.pointerPosition)return;const{x:r,y:i}=this.state.pointerPosition;e.beginPath(),e.arc(r,i,14*this.getScale(),0,2*Math.PI,!1),e.fillStyle="lightblue",e.fill(),e.restore()}paintCropBorder(e){const r=this.getCropRect();e.save(),e.beginPath(),e.fillStyle="rgba(66, 66, 66, 0.9)",e.lineWidth=1,e.rect(r.left,r.top,r.width,r.height),e.stroke(),e.closePath(),e.restore()}highlightCropHandles(e,r){e.save();const i=this.getCropHandles();kCe.forEach(o=>{e.fillStyle=this.state.cropping===o?"rgba(202, 54, 53, ".concat(r,")"):"rgba(230, 230, 230, ".concat(r+.4,")");const{left:s,top:a,height:l,width:c}=i[o];e.fillRect(s,a,c,l),e.beginPath(),e.fillStyle="rgba(66, 66, 66, ".concat(r,")"),e.rect(s,a,c,l),e.closePath(),e.stroke()}),e.restore()}getScale(){const e=this.getActualSize();return this.props.image.width/e.width}getCursor(){const{pointerPosition:e}=this.state,{readOnly:r}=this.props;if(!e||r)return"auto";const i=this.state.cropping||this.getActiveCropHandleFor(e);if(i)return NBn(i)||"auto";const o=bCe(e,this.getDragHandleCoords());if(this.state.resizing||o)return"move";if(this.state.moving||this.state.cropMoving)return"url(".concat(kBn,"), move");const s=yCe(e,this.getHotspotRect()),a=YV(e,this.getCropRect());return s||a?"url(".concat(SBn,"), move"):"auto"}componentDidMount(){this.draw()}componentDidUpdate(){this.draw()}draw(){if(!this.canvas)return;const e=this.canvas.domNode,r=e.getContext("2d");if(!r)return;this.paint(r);const i=e.style.cursor,o=this.getCursor();i!==o&&(e.style.cursor=o)}render(){const{image:e,readOnly:r}=this.props,i=SCe();return d.jsx(PBn,{children:d.jsx(jBn,{readOnly:r,ref:this.setCanvas,onDrag:this.handleDrag,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,onPointerMove:this.handlePointerMove,onPointerOut:this.handlePointerOut,height:e.height*i,width:e.width*i})})}}function UBn(n,e){const r=n&&n.hotspot||Ng;return{...n,hotspot:{...r,x:r.x+e.x,y:r.y+e.y}}}function zBn(n,e){const r=n&&n.hotspot||Ng;return{...n,hotspot:{...r,height:r.height+e.height,width:r.width+e.width}}}function TCe(n,e){const r=n&&n.crop||Bg;return{...n,crop:{left:r.left+(e.left||0),right:r.right+(e.right||0),top:r.top+(e.top||0),bottom:r.bottom+(e.bottom||0)}}}function oI(n){return d.jsx(_Bn,{src:n.src,children:e=>{let{isLoading:r,image:i,error:o}=e;return r?d.jsx(Zr,{showText:!0}):o?d.jsx("div",{children:o.message}):i?d.jsx(EBn,{image:i,maxHeight:oI.maxHeight,maxWidth:oI.maxWidth,children:s=>d.jsx(BBn,{image:s,...n})}):null}})}oI.maxHeight=500;oI.maxWidth=1e3;const VBn="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function HBn(n){return n.startsWith("blob:")}function WBn(n){return new Un(e=>{const r=document.createElement("img");let i=!1;const o=()=>{i=!0,e.next(r),e.complete()},s=()=>{i=!0,e.error(new Error("Could not load image from ".concat(HBn(n)?"blob":n)))};return r.onload=o,r.onerror=s,r.src=n,()=>{r.onload=null,r.onerror=null,i||(r.src=VBn)}})}const ACe={isLoading:!0};function GBn(n){const[e,r]=p.useState(ACe);return p.useEffect(()=>{r(ACe);const i=WBn(n).subscribe({error:o=>{r({isLoading:!1,error:o})},next:o=>{r({image:o,isLoading:!1})}});return()=>{i.unsubscribe()}},[n]),e}var ICe=Object.freeze,qBn=Object.defineProperty,KBn=(n,e)=>ICe(qBn(n,"raw",{value:ICe(e||n.slice())})),DCe;const RCe=["hotspot"],OCe=[["3:4",3/4],["Square",1/1],["16:9",16/9],["Panorama",4/1]],PCe={crop:Bg,hotspot:Ng},YBn=F.div(DCe||(DCe=KBn([`
  min-height: 6em;
`])));function ZBn(n){return d.jsx(oe,{align:"center",justify:"center",padding:4,style:{overflowWrap:"break-word"},children:n.children})}function XBn(n){const{imageUrl:e,value:r,changed:i,level:o,path:s,focusPath:a=ri,presence:l,onChange:c,schemaType:u,onPathFocus:f,readOnly:h,elementProps:m}=n,[g,v]=p.useState(r||PCe),{image:y,isLoading:b,error:x}=GBn(e),_=p.useCallback(()=>{f(RCe)},[f]);p.useEffect(()=>{v(r||PCe)},[r]);const w=a[0]==="hotspot";rc(w,T=>{var A;!T&&w&&((A=m.ref.current)==null||A.focus())});const C=p.useCallback(T=>{if(h)return;const A=u.fields.find(P=>P.name==="crop"&&P.type.name!=="object"),I=u.fields.find(P=>P.type.name!=="object"&&P.name==="hotspot"),D=A?{_type:A.type.name,...T.crop||Bg}:T.crop,R=I?{_type:I.type.name,...T.hotspot||Ng}:T.hotspot;c([rn(D,["crop"]),rn(R,["hotspot"])])},[c,h,u.fields]),{t:S}=me();return d.jsx(e2,{title:S("inputs.imagetool.title"),level:o,description:S("inputs.imagetool.description"),deprecated:u.deprecated,__unstable_presence:l,children:d.jsxs("div",{children:[d.jsx(ke,{__unstable_checkered:!0,__unstable_focusRing:!0,tabIndex:0,ref:m.ref,onFocus:_,children:d.jsx(_l,{path:s.concat(RCe),hasFocus:a[0]==="hotspot",isChanged:i,children:d.jsxs(hCe,{ratio:3/2,children:[(b||x)&&d.jsx(ZBn,{children:x?d.jsx(ke,{padding:4,radius:2,tone:"critical",border:!0,children:d.jsx(J,{children:S("inputs.imagetool.load-error",{errorMessage:x.message})})}):d.jsx(Zr,{showText:!0})}),!b&&y&&d.jsx(te,{margin:1,children:d.jsx(oI,{value:g,src:y.src,readOnly:!!h,onChangeEnd:C,onChange:v})})]})})}),d.jsx(te,{marginTop:3,children:d.jsx(eo,{columns:OCe.length,gap:1,children:OCe.map(T=>{let[A,I]=T;return d.jsxs("div",{children:[d.jsx(Pa,{as:"h4",size:0,children:A}),d.jsx(te,{marginTop:2,children:d.jsx(hCe,{ratio:I,children:d.jsx(ke,{__unstable_checkered:!0,children:!b&&y?d.jsx(wBn,{aspectRatio:I,src:y.src,srcAspectRatio:y.width/y.height,hotspot:g.hotspot||Ng,crop:g.crop||Bg}):d.jsx(YBn,{})})})})]},I)})})})]})})}var jCe=Object.freeze,QBn=Object.defineProperty,JBn=(n,e)=>jCe(QBn(n,"raw",{value:jCe(e||n.slice())})),LCe;const e7n=F(to)(LCe||(LCe=JBn([`
  position: absolute;
  top: 0;
  right: 0;
`])));function t7n(n){const{onEdit:e,children:r,showEdit:i,setHotspotButtonElement:o,setMenuButtonElement:s,onMenuOpen:a,isMenuOpen:l}=n,[c,u]=p.useState(null),[f,h]=p.useState(null),m=p.useCallback(()=>a(!l),[a,l]);wu(p.useCallback(y=>{l&&(y.key==="Escape"||y.key==="Tab")&&(a(!1),f==null||f.focus())},[l,a,f])),ki(p.useCallback(y=>{f!=null&&f.contains(y.target)||a(!1)},[f,a]),[c]);const g=p.useCallback(y=>{s(y),h(y)},[s]);p.useEffect(()=>{l&&(c==null||c.focus())},[l,c]);const{t:v}=me();return d.jsx(xu,{children:d.jsxs(e7n,{"data-buttons":!0,space:1,padding:2,children:[i&&d.jsx(ze,{"aria-label":v("inputs.image.actions-menu.edit-details.aria-label"),"data-testid":"options-menu-edit-details",icon:hJ,mode:"ghost",onClick:e,ref:o,tooltipProps:{content:v("inputs.image.actions-menu.crop-image-tooltip")}}),d.jsx(Ai,{id:"image-actions-menu",content:d.jsx(_r,{ref:u,children:r}),portal:!0,open:l,constrainSize:!0,children:d.jsx(ha,{"aria-label":v("inputs.image.actions-menu.options.aria-label"),"data-testid":"options-menu-button",mode:"ghost",onClick:m,ref:g})})]})})}var $Ce=Object.freeze,n7n=Object.defineProperty,loe=(n,e)=>$Ce(n7n(n,"raw",{value:$Ce(e||n.slice())})),MCe,FCe,NCe;const BCe=30,r7n=F(ke)(MCe||(MCe=loe([`
  position: relative;
  width: 100%;
  overflow: hidden;
  overflow: clip;
  min-height: 3.75rem;
  max-height: 20rem;

  & > div[data-container] {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex !important;
    align-items: center;
    justify-content: center;
  }

  & img {
    max-width: 100%;
    max-height: 100%;
  }
`]))),i7n=F(oe)(n=>{let{$drag:e,$tone:r}=n;const i=_x.color.light[r].card.enabled.fg,o=ite(_x.color.light[r].card.enabled.bg,.8);return Ae(FCe||(FCe=loe([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    backdrop-filter: `,`;
    color: `,`;
    background-color: `,`;
  `])),e?"blur(10px)":"",r?i:"",e?o:"transparent")}),o7n=F(oe)(NCe||(NCe=loe([`
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
`]))),s7n=n=>{const r=new URLSearchParams(n.split("?")[1]).get("rect");return r?[r.split(",")[2],r.split(",")[3]].map(Number):n.split("-")[1].split(".")[0].split("x").map(Number)};function a7n(n){const{drag:e,readOnly:r,isRejected:i,src:o,...s}=n,[a,l]=p.useState(!1),[c,u]=p.useState(null),f=Ex(c),h=(f==null?void 0:f.width)||0,g=e?i||r?"critical":"primary":"default",v=BCe*document.documentElement.clientHeight/100,[y,b]=s7n(o),x=y/b,w=(y>h?h/x:b)<v?null:"".concat(BCe,"vh");p.useEffect(()=>{l(!1)},[o]);const C=p.useCallback(()=>{l(!0)},[]),{t:S}=me();return d.jsxs(r7n,{...s,ref:u,style:{height:w},tone:"transparent",children:[d.jsxs(ke,{"data-container":!0,tone:"inherit",children:[!a&&d.jsx(UCe,{cardTone:"transparent",drag:!0,content:d.jsx(Zr,{showText:!0})}),d.jsx("img",{src:o,"data-testid":"hotspot-image-input",alt:n.alt,onLoad:C,referrerPolicy:"strict-origin-when-cross-origin"})]}),e&&d.jsx(UCe,{cardTone:g,drag:e,content:d.jsxs(d.Fragment,{children:[d.jsx(te,{marginBottom:3,children:d.jsx(Pa,{children:d.jsx(l7n,{isRejected:i,readOnly:r})})}),d.jsx(J,{size:1,children:S(c7n({isRejected:i,readOnly:r}))})]})})]})}function l7n(n){let{isRejected:e,readOnly:r}=n;return e?d.jsx(sy,{}):r?d.jsx(HI,{}):d.jsx(vh,{})}function c7n(n){let{isRejected:e,readOnly:r}=n;return e?"inputs.image.drag-overlay.this-field-is-read-only":r?"inputs.image.drag-overlay.cannot-upload-here":"inputs.image.drag-overlay.drop-to-upload-image"}function UCe(n){let{cardTone:e,drag:r,content:i}=n;return d.jsx(i7n,{justify:"flex-end",padding:3,$drag:r,$tone:e,children:d.jsx(o7n,{direction:"column",align:"center",justify:"center",children:i})})}function u7n(n){let{onClearValue:e}=n;const{t:r}=me();return d.jsxs(ke,{tone:"caution",padding:4,border:!0,radius:2,children:[d.jsxs(oe,{gap:4,marginBottom:4,children:[d.jsx(te,{children:d.jsx(J,{size:1,children:d.jsx(as,{})})}),d.jsxs(Se,{space:3,children:[d.jsx(J,{size:1,weight:"medium",children:r("inputs.image.invalid-image-warning.title")}),d.jsx(J,{size:1,children:r("inputs.image.invalid-image-warning.description")})]})]}),d.jsx(ze,{icon:Bp,mode:"ghost",onClick:e,text:r("inputs.image.invalid-image-warning.reset-button.text"),width:"fill"})]})}const d7n=()=>typeof window>"u"||!window.devicePixelRatio?1:Math.round(Math.max(1,window.devicePixelRatio));function f7n(n){let{children:e}=n;return e}const zCe=["asset"],h7n={portal:!0};class p7n extends p.PureComponent{constructor(e){var r;super(e),r=this,this._previewElement=null,this.uploadSubscription=null,this.state={isUploading:!1,selectedAssetSource:null,hoveringFiles:[],isStale:!1,hotspotButtonElement:null,menuButtonElement:null,isMenuOpen:!1},this.toast=null,this.setPreviewElement=i=>{this._previewElement=i},this.setHotspotButtonElement=i=>{this.setState({hotspotButtonElement:i})},this.setMenuButtonElement=i=>{this.setState({menuButtonElement:i})},this.getUploadOptions=i=>{const{schemaType:o,resolveUploader:s}=this.props,a=s&&s(o,i);return a?[{type:o,uploader:a}]:[]},this.uploadWith=function(i,o){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{schemaType:a,onChange:l,client:c,t:u}=r.props,{label:f,title:h,description:m,creditLine:g,source:v}=s,y={metadata:ko(a,"options.metadata"),storeOriginalFilename:ko(a,"options.storeOriginalFilename"),label:f,title:h,description:m,creditLine:g,source:v};r.cancelUpload(),r.setState({isUploading:!0}),l(pl({_type:a.name})),r.uploadSubscription=i.upload(c,o,a,y).subscribe({next:b=>{b.patches&&l(b.patches)},error:b=>{var x;console.error(b),(x=r.toast)==null||x.push({status:"error",description:u("inputs.image.upload-error.description"),title:u("inputs.image.upload-error.title")}),r.clearUploadStatus()},complete:()=>{l([un(["hotspot"]),un(["crop"])]),r.setState({isUploading:!1})}})},this.handleRemoveButtonClick=()=>{const{value:i}=this.props,o=Object.keys(i||{}),a=o.filter(c=>!["_type","_key","_upload","asset","crop","hotspot"].includes(c)).length===0,l=["asset"].concat(o.filter(c=>["crop","hotspot","_upload"].includes(c))).map(c=>un([c]));this.props.onChange(a&&!this.valueIsArrayElement()?un():l)},this.handleFieldChange=i=>{const{onChange:o,schemaType:s}=this.props;if(!this.valueIsArrayElement()&&this.eventIsUnsettingLastFilledField(i)){o(un());return}o(i.prepend(pl({_type:s.name})).patches)},this.eventIsUnsettingLastFilledField=i=>{const o=i.patches[0];if(i.patches.length!==1||o.type!=="unset")return!1;const a=Object.keys(this.props.value||{}).filter(c=>!["_type","_key","crop","hotspot"].includes(c));return i.patches[0].path.length===1&&a.length===1&&a[0]===i.patches[0].path[0]},this.valueIsArrayElement=()=>{const{path:i}=this.props;return typeof i.slice(-1)[0]!="string"},this.handleOpenDialog=()=>{this.props.onPathFocus(["hotspot"])},this.handleCloseDialog=()=>{var i;this.props.onPathFocus([]),(i=this.state.hotspotButtonElement)==null||i.focus()},this.handleSelectAssetFromSource=i=>{const{onChange:o,schemaType:s,resolveUploader:a}=this.props;eet({assetFromSource:i,onChange:o,type:s,resolveUploader:a,uploadWith:this.uploadWith,isImage:!0}),this.setState({selectedAssetSource:null})},this.handleFileTargetFocus=i=>{var o;i.currentTarget===i.target&&i.currentTarget===((o=this.props.elementProps.ref)==null?void 0:o.current)&&this.props.elementProps.onFocus(i)},this.handleFilesOver=i=>{this.setState({hoveringFiles:i.filter(o=>o.kind!=="string")})},this.handleFilesOut=()=>{this.setState({hoveringFiles:[]})},this.handleCancelUpload=()=>{this.cancelUpload()},this.handleClearUploadState=()=>{this.setState({isStale:!1}),this.clearUploadStatus()},this.handleStaleUpload=()=>{this.setState({isStale:!0})},this.handleClearField=()=>{this.props.onChange([un(["asset"]),un(["crop"]),un(["hotspot"])])},this.handleSelectFiles=i=>{const{directUploads:o,readOnly:s}=this.props,{hoveringFiles:a}=this.state;o&&!s?this.uploadFirstAccepted(i):a.length>0&&this.handleFilesOut()},this.handleSelectImageFromAssetSource=i=>{this.setState({selectedAssetSource:i})},this.handleAssetSourceClosed=()=>{var i;this.setState({selectedAssetSource:null}),(i=this.state.menuButtonElement)==null||i.focus()},this.renderHotspotInput=i=>{const{value:o,changed:s,id:a,imageUrlBuilder:l,t:c}=this.props,u=this.isImageToolEnabled()&&o&&o.asset;return d.jsx(ja,{__unstable_autoFocus:!1,header:c("inputs.image.hotspot-dialog.title"),id:"".concat(a,"_dialog"),onClickOutside:this.handleCloseDialog,onClose:this.handleCloseDialog,width:1,children:d.jsx(WD,{children:d.jsx(Se,{space:5,children:u&&(o==null?void 0:o.asset)&&d.jsx(XBn,{...this.props,imageUrl:l.image(o.asset).url(),value:o,presence:i.presence,changed:s})})})})},this.renderPreview=()=>{const{value:i,schemaType:o,readOnly:s,directUploads:a,imageUrlBuilder:l,t:c,resolveUploader:u}=this.props;if(!i||!tC(i))return null;const{hoveringFiles:f}=this.state,h=f.filter(v=>u(o,v)),m=f.length-h.length,g=l.width(2e3).fit("max").image(i).dpr(d7n()).auto("format").url();return d.jsx(a7n,{onDoubleClick:this.handleOpenDialog,drag:!(i!=null&&i._upload)&&f.length>0,isRejected:m>0||!a,readOnly:s,src:g,alt:c("inputs.image.preview-uploaded-image")})},this.setToast=i=>{this.toast=i},this._assetPath=e.path.concat(zCe)}isImageToolEnabled(){return ko(this.props.schemaType,"options.hotspot")===!0}clearUploadStatus(){var e;(e=this.props.value)!=null&&e._upload&&this.props.onChange(un(["_upload"]))}cancelUpload(){this.uploadSubscription&&(this.uploadSubscription.unsubscribe(),this.clearUploadStatus())}uploadFirstAccepted(e){const{schemaType:r,resolveUploader:i}=this.props,o=e.map(s=>({file:s,uploader:i(r,s)})).find(s=>s.uploader);o&&this.uploadWith(o.uploader,o.file),this.setState({isMenuOpen:!1})}renderAssetMenu(){const{value:e,assetSources:r,schemaType:i,readOnly:o,directUploads:s,imageUrlBuilder:a,observeAsset:l,t:c}=this.props,u=e==null?void 0:e.asset;if(!u)return null;const f=ko(i,"options.accept","image/*"),h=e&&u&&this.isImageToolEnabled();let m=r&&r.length===0?null:d.jsx(Wt,{icon:Aa,text:c("inputs.image.browse-menu.text"),onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(r[0])},disabled:o,"data-testid":"file-input-browse-button"});return r&&r.length>1&&(m=r.map(g=>d.jsx(Wt,{text:(g.i18nKey?c(g.i18nKey):g.title)||li(g.name),onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(g)},icon:g.icon||vh,"data-testid":"file-input-browse-button-".concat(g.name),disabled:o},g.name))),d.jsx(iS,{observeAsset:l,reference:u,children:g=>{let{_id:v,originalFilename:y,extension:b}=g,x,_;if(tC(e)){const w=y||"download.".concat(b);_=a.image(v).forceDownload(w).url(),x=a.image(v).url()}return d.jsx(t7n,{isMenuOpen:this.state.isMenuOpen,onEdit:this.handleOpenDialog,onMenuOpen:w=>this.setState({isMenuOpen:w}),setHotspotButtonElement:this.setHotspotButtonElement,setMenuButtonElement:this.setMenuButtonElement,showEdit:h,children:d.jsx(QJe,{onUpload:this.handleSelectFiles,browse:m,onReset:this.handleRemoveButtonClick,downloadUrl:_,copyUrl:x,readOnly:o,directUploads:s,accept:f})})}})}renderBrowser(){const{assetSources:e,readOnly:r,directUploads:i,id:o,t:s}=this.props;return e&&e.length===0?null:e&&e.length>1&&!r&&i?d.jsx(Vr,{id:"".concat(o,"_assetImageButton"),ref:this.setMenuButtonElement,button:d.jsx(ze,{"data-testid":"file-input-multi-browse-button",icon:Aa,iconRight:qs,mode:"bleed",text:s("inputs.image.browse-menu.text")}),menu:d.jsx(_r,{children:e.map(a=>d.jsx(Wt,{text:(a.i18nKey?s(a.i18nKey):a.title)||li(a.name),onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(a)},icon:a.icon||vh,disabled:r,"data-testid":"file-input-browse-button-".concat(a.name)},a.name))}),popover:h7n}):d.jsx(ze,{text:s("inputs.image.browse-menu.text"),icon:Aa,mode:"bleed",onClick:()=>{this.setState({isMenuOpen:!1}),this.handleSelectImageFromAssetSource(e[0])},"data-testid":"file-input-browse-button",disabled:r})}renderUploadPlaceholder(){const{schemaType:e,readOnly:r,directUploads:i,resolveUploader:o}=this.props,{hoveringFiles:s}=this.state,a=s.filter(u=>o(e,u)),l=s.length-a.length,c=ko(e,"options.accept","image/*");return d.jsx("div",{style:{padding:1},children:d.jsx(ke,{tone:r?"transparent":"inherit",border:!0,paddingX:3,paddingY:2,radius:2,style:s.length===0?{}:{borderColor:"transparent"},children:d.jsx(ret,{browse:this.renderBrowser(),onUpload:this.handleSelectFiles,readOnly:r,hoveringFiles:s,acceptedFiles:a,rejectedFilesCount:l,type:"image",accept:c,directUploads:i})})})}renderUploadState(e){var r;const{isUploading:i}=this.state,o=(r=this._previewElement)==null?void 0:r.offsetHeight;return d.jsx(oet,{uploadState:e,onCancel:i?this.handleCancelUpload:void 0,onStale:this.handleStaleUpload,height:o})}renderAssetSource(){const{selectedAssetSource:e}=this.state,{value:r,schemaType:i,observeAsset:o}=this.props,s=ko(i,"options.accept","image/*");if(!e)return null;const a=e.component;return r&&r.asset?d.jsx(iS,{observeAsset:o,reference:r.asset,children:l=>d.jsx(a,{selectedAssets:[l],assetType:"image",accept:s,selectionType:"single",onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}):d.jsx(a,{selectedAssets:[],selectionType:"single",assetType:"image",accept:s,onClose:this.handleAssetSourceClosed,onSelect:this.handleSelectAssetFromSource})}getFileTone(){const{schemaType:e,value:r,readOnly:i,directUploads:o,resolveUploader:s}=this.props,{hoveringFiles:a}=this.state,l=a.filter(u=>s(e,u)),c=a.length-l.length;return a.length>0&&(c>0||!o)?"critical":!(r!=null&&r._upload)&&!i&&a.length>0?"primary":i||r!=null&&r._upload&&(r!=null&&r.asset)?"transparent":"default"}renderAsset(){const{value:e,readOnly:r,elementProps:i}=this.props,{hoveringFiles:o,isStale:s}=this.state,a=!!(e!=null&&e._upload||e!=null&&e.asset);return e&&typeof e.asset<"u"&&!(e!=null&&e._upload)&&!tC(e)?()=>d.jsx(u7n,{onClearValue:this.handleClearField}):l=>d.jsxs(d.Fragment,{children:[s&&d.jsx(te,{marginBottom:2,children:d.jsx(set,{onClearStale:this.handleClearUploadState})}),d.jsx(_l,{path:l.path.concat(zCe),hasFocus:!!l.focused,isChanged:l.changed,children:e!=null&&e._upload?this.renderUploadState(e._upload):d.jsxs(net,{...i,onFocus:this.handleFileTargetFocus,tabIndex:0,disabled:!!r,onFiles:this.handleSelectFiles,onFilesOver:this.handleFilesOver,onFilesOut:this.handleFilesOut,tone:this.getFileTone(),$border:a||o.length>0,sizing:"border",radius:2,children:[!(e!=null&&e.asset)&&this.renderUploadPlaceholder(),!(e!=null&&e._upload)&&(e==null?void 0:e.asset)&&d.jsxs("div",{style:{position:"relative"},ref:this.setPreviewElement,children:[this.renderPreview(),this.renderAssetMenu()]})]})})]})}render(){const{focusPath:e,members:r,renderAnnotation:i,renderBlock:o,renderField:s,renderInlineBlock:a,renderInput:l,renderItem:c,renderPreview:u}=this.props,{selectedAssetSource:f}=this.state,h=r.find(m=>m.kind==="field"&&m.name==="hotspot");return d.jsxs(Se,{space:5,"data-testid":"image-input",children:[d.jsx(Xoe,{ref:this.setToast}),r.map(m=>m.kind==="field"&&(m.name==="crop"||m.name==="hotspot")?null:m.kind==="field"?d.jsx(KD,{member:m,renderAnnotation:i,renderBlock:o,renderInlineBlock:a,renderInput:m.name==="asset"?this.renderAsset():l,renderField:m.name==="asset"?f7n:s,renderItem:c,renderPreview:u},m.key):m.kind==="fieldSet"?d.jsx(Vie,{member:m,renderAnnotation:i,renderBlock:o,renderField:s,renderInlineBlock:a,renderInput:l,renderItem:c,renderPreview:u},m.key):m.kind==="error"?d.jsx(FN,{member:m},m.key):d.jsx(d.Fragment,{children:t("inputs.image.error.unknown-member-kind",{kind:m.kind})})),h&&e[0]==="hotspot"&&d.jsx(GQe,{...this.props,absolutePath:h.field.path,renderInput:this.renderHotspotInput}),f&&this.renderAssetSource()]})}}function m7n(n){var e;const r=(e=n.schemaType.options)==null?void 0:e.sources,{image:i}=om().__internal,o=Qa(),s=Jr(Dr),a=i.directUploads,l=p.useCallback((m,g)=>a?Uie(m,g):null,[a]),c=p.useMemo(()=>r||i.assetSources,[i,r]),u=p.useMemo(()=>kD(s),[s]),f=p.useCallback(m=>MQe(o,m),[o]),{t:h}=me();return d.jsx(p7n,{...n,t:h,client:s,assetSources:c,directUploads:a,imageUrlBuilder:u,observeAsset:f,resolveUploader:l})}const VCe={document:NEe,object:NEe,array:E6n,boolean:A6n,number:VJe,text:dNn,email:F6n,datetime:M6n,date:P6n,url:fNn,image:m7n,file:uBn,string:GJe,slug:aNn,crossDatasetReference:LNn},g7n=kf({version:1,name:"Portable Text Editor Expanded",description:"The portable text editor was expanded"}),v7n=kf({version:1,name:"Portable Text Editor Collapsed",description:"The portable text editor was collapsed"}),y7n=kf({version:1,name:"Portable Text Editor Invalid Value Ignored",description:"The portable text got an invalid value from the form and pressed button to ignore it"}),b7n=kf({version:1,name:"Portable Text Editor Invalid Value Resolved",description:"The portable text got an invalid value from the form and pressed button to resolve it."});var HCe=Object.freeze,x7n=Object.defineProperty,XN=(n,e)=>HCe(x7n(n,"raw",{value:HCe(e||n.slice())})),WCe,GCe,qCe,KCe;const w7n=F.div(WCe||(WCe=XN([`
  position: relative;
`]))),het=F.div(GCe||(GCe=XN([`
  z-index: 13;
  opacity: 0;
  transition: opacity 300ms linear;
`]))),pet=F(ke)(qCe||(qCe=XN([`
  border: 1px solid var(--card-border-color);
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 12;
  transition: opacity 150ms ease-in-out;
  opacity: 0;
  box-sizing: border-box;
`]))),_7n=F(oe)(KCe||(KCe=XN([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;

  &:hover,
  &:focus {
    & `,` {
      opacity: 0.9;
    }

    & `,` {
      opacity: 1;
    }
  }
`])),pet,het),E7n=()=>typeof window<"u"&&"ontouchstart"in window||typeof navigator<"u"&&navigator.maxTouchPoints>0;function C7n(n){const{children:e,message:r,onActivate:i,isOverlayActive:o}=n,[s,a]=p.useState(!1),{t:l}=me(),c=p.useCallback(()=>{i&&i()},[i]),u=p.useCallback(g=>{o&&g.code==="Space"&&i&&(g.preventDefault(),i())},[o,i]),f=p.useCallback(()=>{a(!0)},[]),h=p.useCallback(()=>{a(!1)},[]),m=p.useMemo(()=>{const g=E7n();let v;g?v="tap":s?v="click-focused":v="click";const y=r||l("inputs.portable-text.activate-on-focus-message",{context:v});return d.jsx(J,{weight:"medium",children:y})},[s,r,l]);return d.jsxs(w7n,{onBlur:h,onClick:c,onFocus:f,onKeyDown:u,children:[o&&d.jsxs(_7n,{"data-testid":"activate-overlay",tabIndex:0,align:"center",justify:"center",children:[d.jsx(pet,{radius:2}),d.jsx(het,{children:m})]}),e]})}var YCe=Object.freeze,S7n=Object.defineProperty,met=(n,e)=>YCe(S7n(n,"raw",{value:YCe(e||n.slice())})),ZCe,XCe;const k7n=F.div(n=>{const{color:e,input:r,radius:i}=mt(n.theme),o={color:e.input.default.enabled.border,width:r.border.width};return Ae(ZCe||(ZCe=met([`
    --input-box-shadow: `,`;

    position: relative;

    & [data-wrapper] {
      overflow: hidden;
      overflow: clip;
      position: relative;
      z-index: 1;
      padding: `,`px;
    }

    & [data-border] {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      box-shadow: var(--input-box-shadow);
      z-index: 2;
      border-radius: `,`px;
      pointer-events: none;
    }

    &:not([data-read-only])[data-focused] [data-border] {
      --input-box-shadow: `,`;
    }
  `])),toe(o),r.border.width,i[2],GN({base:e,border:o,focusRing:r.text.focusRing}))}),T7n=F(Cu)(XCe||(XCe=met([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
`]))),Pk=[1,2,3,4,5,6,7,8,9],QCe=["●","○","■"],JCe=["number","lower-alpha","lower-roman"],A7n={em:"em","strike-through":"s",underline:"u",strong:"strong",code:"code"},I7n={h1:{paddingTop:5,paddingBottom:4},h2:{paddingTop:4,paddingBottom:4},h3:{paddingTop:4,paddingBottom:3},h4:{paddingTop:4,paddingBottom:3},h5:{paddingTop:4,paddingBottom:3},h6:{paddingTop:4,paddingBottom:2},normal:{paddingTop:2,paddingBottom:3},blockquote:{paddingTop:2,paddingBottom:3}};var eSe=Object.freeze,D7n=Object.defineProperty,R7n=(n,e)=>eSe(D7n(n,"raw",{value:eSe(e||n.slice())})),tSe;const O7n=F.span(tSe||(tSe=R7n([`
  /* Make sure the annotation styling is visible */
  &[data-mark='code'] {
    mix-blend-mode: multiply;
    color: inherit;
  }
`])));function P7n(n){const{value:e,focused:r,selected:i,children:o,schemaType:s}=n,a=A7n[e],l=s.component,c=p.useCallback(u=>d.jsx(O7n,{as:a,"data-mark":e,children:u.children}),[a,e]);return p.useMemo(()=>{const u={focused:r,renderDefault:c,schemaType:s,selected:i,title:s.title,value:e};return l?d.jsx(l,{...u,children:o}):d.jsx(c,{...u,children:o})},[l,c,o,r,s,i,e])}function vb(n){return"list-level-".concat(n)}var nSe=Object.freeze,j7n=Object.defineProperty,L7n=(n,e)=>nSe(j7n(n,"raw",{value:nSe(e||n.slice())})),rSe;const get=F.div(n=>{let{theme:e}=n;const{radius:r,space:i,color:o}=e.sanity,s=ite(o.spot.yellow,.2);return Ae(rSe||(rSe=L7n([`
    position: absolute;
    border-radius: `,`px;
    top: -`,`px;
    bottom: -`,`px;
    left: `,`px;
    right: 0;
    background-color: `,`;
  `])),r[3],i[2],i[1]+i[1],i[4]+i[1],s)});var iSe=Object.freeze,$7n=Object.defineProperty,M7n=(n,e)=>iSe($7n(n,"raw",{value:iSe(e||n.slice())})),oSe;const vet=F(_l)(()=>Ae(oSe||(oSe=M7n([`
    width: 1px;
    height: 100%;

    & > div {
      height: 100%;
    }
  `]))));function F7n(n){const{allowedDecorators:e,block:r,onChange:i}=n;let o;return s=>{o=Array.isArray(s)?s:[s],o=o.map(l=>L5(l,{allowedDecorators:e}));const a=[L0(o,"after",[{_key:r._key}])];return i(In.from(a))}}function N7n(n){const{allowedDecorators:e,block:r,onChange:i}=n;return o=>{const s=[rn(L5(o,{allowedDecorators:e}),[{_key:r._key}])];return i(In.from(s))}}function B7n(n){const{block:e,onChange:r}=n;return()=>{const i=[un([{_key:e._key}])];return r(In.from(i))}}var sSe=Object.freeze,U7n=Object.defineProperty,z7n=(n,e)=>sSe(U7n(n,"raw",{value:sSe(e||n.slice())})),aSe;const V7n=F.div(aSe||(aSe=z7n([`
  display: flex;
  pointer-events: all;
`])));function yet(n){const e=fa(),{block:r,onChange:i,renderBlockActions:o}=n,s=p.useMemo(()=>e.schemaTypes.decorators.map(l=>l.value),[e]),a=p.useMemo(()=>{if(o){const l={block:r,value:ut.getValue(e),set:N7n({allowedDecorators:s,block:r,onChange:i}),unset:B7n({block:r,onChange:i}),insert:F7n({allowedDecorators:s,block:r,onChange:i})};return o(l)}},[o,r,e,i,s]);return a?d.jsx(V7n,{contentEditable:!1,children:a}):null}var lSe=Object.freeze,H7n=Object.defineProperty,Hp=(n,e)=>lSe(H7n(n,"raw",{value:lSe(e||n.slice())})),cSe,uSe,dSe,fSe,hSe,pSe,mSe,gSe,vSe,ySe;function W7n(n){const{$level:e}=n,{color:r,font:i,radius:o,space:s}=mt(n.theme),a=JCe[(e-1)%JCe.length],l=QCe[(e-1)%QCe.length];return Ae(cSe||(cSe=Hp([`
    --marker-bg-color: transparent;

    mix-blend-mode: `,`;
    position: relative;

    & > [data-ui='TextBlock_inner'] {
      position: relative;
      flex: 1;
    }

    & > div:before {
      content: '';
      position: absolute;
      top: -`,`px;
      bottom: -`,`px;
      left: -`,`px;
      right: -`,`px;
      border-radius: `,`px;
      background-color: var(--marker-bg-color);
      // This is to make sure the marker is always behind the text
      z-index: -1;
    }

    &[data-markers] {
      --marker-bg-color: `,`;
    }

    &[data-warning] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    &[data-error] {
      --card-border-color: `,`;
      --marker-bg-color: `,`;
    }

    & [data-list-prefix] {
      position: absolute;
      margin-left: -4.5rem;
      width: 3.75rem;
      text-align: right;
      box-sizing: border-box;
    }

    &[data-list-item='number'] [data-list-prefix] {
      font-variant-numeric: tabular-nums;

      & > span:before {
        content: counter(`,`) '.';
        content: counter(`,", ",`) '.';
      }
    }

    &[data-list-item='bullet'] [data-list-prefix] {
      & > span {
        position: relative;
        top: -0.1875em;

        &:before {
          content: '`,`';
          font-size: 0.46666em;
        }
      }
    }

    & [data-text] {
      overflow-wrap: anywhere;
      text-transform: none;
      white-space: pre-wrap;
      font-family: `,`;
      flex: 1;

      *::selection {
        background-color: `,`;
      }
    }
  `])),r._dark?"screen":"multiply",s[1],s[1],s[1],s[1],o[2],r._dark?Kt.purple[950].hex:Kt.purple[50].hex,r.button.ghost.caution.enabled.border,r.button.ghost.caution.hovered.bg,r.button.ghost.critical.enabled.border,r.button.ghost.critical.hovered.bg,vb(e),vb(e),a,l,i.text.family,l8(r.focusRing,.3))}const G7n=F.div(W7n),q7n=F(te)(uSe||(uSe=Hp([`
  position: relative;
  display: flex;
`]))),K7n=F.div(dSe||(dSe=Hp([`
  user-select: none;
  white-space: nowrap;
`]))),Y7n=F(te)(fSe||(fSe=Hp([`
  user-select: none;
`]))),Z7n=F(te)(hSe||(hSe=Hp([`
  line-height: 0;
  width: 25px;
  position: relative;
`]))),X7n=F(oe)(n=>{let{theme:e}=n;const{fonts:r,space:i}=e.sanity,o=r.text.sizes[1],s=r.text.sizes[2],a=o.lineHeight-o.ascenderHeight-o.descenderHeight,l=s.lineHeight-s.ascenderHeight-s.descenderHeight,u=0-(a+i[2]+i[2]-l)/2;return Ae(pSe||(pSe=Hp([`
    user-select: none;
    position: absolute;
    right: 0;
    top: `,`px;
  `])),u)}),Q7n=F(te)(mSe||(mSe=Hp([`
  max-width: 250px;
`]))),J7n=F(oe)(gSe||(gSe=Hp([`
  position: relative;
  padding-left: `,`px;
`])),n=>{let{$level:e}=n;return e?e*32:0}),e9n=F.div(n=>{let{theme:e,$hasChanges:r}=n;const{space:i}=e.sanity;return Ae(ySe||(ySe=Hp([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`
    `])),i[2],i[1],!r&&Ae(vSe||(vSe=Hp([`
        display: none;
      `]))))});var bSe=Object.freeze,t9n=Object.defineProperty,bet=(n,e)=>bSe(t9n(n,"raw",{value:bSe(e||n.slice())})),xSe,wSe;const av=F.div(xSe||(xSe=bet([`
  display: block;
`]))),coe=n=>{let{children:e,...r}=n;return d.jsx(J,{"data-testid":"text-style--normal",...r,children:d.jsx(av,{children:e})})},xet=n=>{let{children:e,...r}=n;return d.jsx(Pa,{as:"h1","data-testid":"text-style--h1",size:5,...r,children:d.jsx(av,{children:e})})},wet=n=>{let{children:e,...r}=n;return d.jsx(Pa,{as:"h2","data-testid":"text-style--h2",size:4,...r,children:d.jsx(av,{children:e})})},_et=n=>{let{children:e,...r}=n;return d.jsx(Pa,{as:"h3","data-testid":"text-style--h3",size:3,...r,children:d.jsx(av,{children:e})})},Eet=n=>{let{children:e,...r}=n;return d.jsx(Pa,{as:"h4","data-testid":"text-style--h4",size:2,...r,children:d.jsx(av,{children:e})})},Cet=n=>{let{children:e,...r}=n;return d.jsx(Pa,{as:"h5","data-testid":"text-style--h5",size:1,...r,children:d.jsx(av,{children:e})})},ket=n=>{let{children:e,...r}=n;return d.jsx(Pa,{as:"h6","data-testid":"text-style--h6",size:0,...r,children:d.jsx(av,{children:e})})},n9n=F.blockquote(wSe||(wSe=bet([`
  position: relative;
  display: block;
  margin: 0;
  padding-left: `,`px;

  &::before {
    content: '';
    position: absolute;
    left: 0;
    top: -4px;
    bottom: -4px;
    width: 3px;
    background: var(--card-border-color);
  }
`])),n=>{let{theme:e}=n;return e.sanity.space[3]}),Tet=n=>{let{children:e,...r}=n;return d.jsx(n9n,{"data-testid":"text-style--blockquote",...r,children:d.jsx(J,{as:"p",children:e})})},QV={normal:coe,h1:xet,h2:wet,h3:_et,h4:Eet,h5:Cet,h6:ket,blockquote:Tet};function r9n(n){const{children:e,floatingBoundary:r,focused:i,isFullscreen:o,onItemClose:s,onItemOpen:a,onPathFocus:l,path:c,readOnly:u,referenceBoundary:f,renderBlock:h,renderAnnotation:m,renderBlockActions:g,renderCustomMarkers:v,renderField:y,renderInlineBlock:b,renderInput:x,renderItem:_,renderPreview:w,schemaType:C,selected:S,spellCheck:T,value:A}=n,{Markers:I}=om().__internal.components,[D,R]=p.useState(!1),P=PN(c),O=NN(Oi(c)),$=fa(),{onChange:L}=Af(),M=QS(c,!0),N=p.useMemo(()=>M.filter(ge=>Ui(ge.path,c)||ge.path.slice(-3)[1]==="children"&&ge.path.length-c.length===2),[c,M]),z=p.useCallback(()=>R(!0),[]),B=p.useCallback(()=>R(!1),[]),{validation:H,hasError:X,hasWarning:G,hasInfo:ne}=ON(O==null?void 0:O.node),le=!!v&&P.length>0,K=X||G||le||ne,Q=p.useCallback(()=>{O&&a(O.node.path)},[a,O]),re=p.useCallback(()=>{const ge={path:c.slice(-1),offset:0},pe={focus:ge,anchor:ge};ut.delete($,pe,{mode:"blocks"}),ut.focus($)},[c,$]),se=p.useMemo(()=>d.jsxs(J7n,{align:"flex-start",$level:A==null?void 0:A.level,children:[A.listItem&&d.jsx(K7n,{contentEditable:!1,children:d.jsx(J,{"data-list-prefix":"",children:d.jsx(av,{})})}),d.jsx("div",{"data-text":"",style:void 0,children:e})]}),[A.listItem,A.level,e]),de=p.useMemo(()=>o&&!g?{paddingX:5}:o&&g?{paddingLeft:5,paddingRight:2}:g?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,g]),fe=p.useMemo(()=>A.listItem?{paddingY:2}:I7n[A.style||"normal"]||{paddingY:2},[A]),we=!!(O!=null&&O.member.open),ye=$.schemaTypes.portableText,ve=p.useMemo(()=>{var ge;return{__unstable_floatingBoundary:r,__unstable_referenceBoundary:f,__unstable_referenceElement:((ge=O==null?void 0:O.elementRef)==null?void 0:ge.current)||null,children:se,focused:i,markers:P,onClose:s,onOpen:Q,onPathFocus:l,onRemove:re,open:we,parentSchemaType:ye,path:(O==null?void 0:O.node.path)||ri,presence:N,readOnly:!!u,renderAnnotation:m,renderBlock:h,renderDefault:Aet,renderField:y,renderInput:x,renderInlineBlock:b,renderItem:_,renderPreview:w,schemaType:C,selected:S,validation:H,value:A}},[r,i,we,P,O==null?void 0:O.elementRef,O==null?void 0:O.node.path,s,Q,l,re,ye,u,f,m,h,y,b,x,_,w,C,S,se,N,H,A]),_e=p.useMemo(()=>K&&d.jsx(Q7n,{children:d.jsx(I,{markers:P,renderCustomMarkers:v,validation:H})})||null,[I,P,v,K,H]);return p.useMemo(()=>d.jsx(te,{"data-testid":"text-block",...fe,style:void 0,ref:O==null?void 0:O.elementRef,children:d.jsx(q7n,{"data-testid":"text-block__wrapper",children:d.jsxs(oe,{flex:1,...de,children:[d.jsx(te,{flex:1,children:d.jsx(zn,{content:_e,disabled:!K,placement:"top",portal:"editor",children:d.jsx(G7n,{$level:A.level||1,"data-error":X?"":void 0,"data-list-item":A.listItem,"data-markers":le?"":void 0,"data-read-only":u,"data-testid":"text-block__text","data-warning":G?"":void 0,spellCheck:T,children:h&&h(ve)})})}),d.jsxs(Y7n,{contentEditable:!1,children:[d.jsx(Z7n,{marginRight:1,children:d.jsx(X7n,{children:g&&i&&!u&&d.jsx(yet,{onChange:L,block:A,renderBlockActions:g})})}),o&&O&&d.jsx(e9n,{$hasChanges:O.member.item.changed,onMouseEnter:z,onMouseLeave:B,children:d.jsx(vet,{hasFocus:i,isChanged:O.member.item.changed,path:O.member.item.path,withHoverEffect:!1})})]}),D&&d.jsx(get,{})]})})}),[ve,i,z,B,X,le,G,de,o,O,L,fe,u,h,g,D,T,_e,K,A])}const Aet=n=>d.jsx(d.Fragment,{children:n.children});var _Se=Object.freeze,i9n=Object.defineProperty,X0=(n,e)=>_Se(i9n(n,"raw",{value:_Se(e||n.slice())})),ESe,CSe,SSe,kSe,TSe,ASe,ISe,DSe;const o9n=F(ke)(ESe||(ESe=X0([`
  height: `,`;

  &:not([hidden]) {
    display: flex;
  }

  flex-direction: column;
`])),n=>{let{$fullscreen:e}=n;return e?"100%":"15em"}),s9n=F(ke)(CSe||(CSe=X0([`
  z-index: 10;
  line-height: 0;
`]))),a9n=F(ke)(SSe||(SSe=X0([`
  position: relative;
  overflow: hidden;
  overflow: clip;

  & > [data-portal] {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;

    & > * {
      pointer-events: initial;
    }
  }

  &::selection,
  *::selection {
    background-color: transparent;
  }
`]))),l9n=F(_N)(kSe||(kSe=X0([`
  position: relative;
  overflow: auto;
  height: 100%;
  display: flex;
  flex-direction: column;

  & > * {
    flex: 1;
    min-height: auto;
  }
`]))),c9n=F(Ya)(TSe||(TSe=X0([`
  /* @todo: calculate from theme */
  /* max-width: 728px; */
`]))),u9n=F(ke)(DSe||(DSe=X0([`
  height: 100%;
  width: 100%;
  counter-reset: `,`;
  overflow: hidden;
  overflow: clip;

  & > div {
    height: 100%;
  }

  & .pt-editable {
    display: block;
    width: 100%;
    height: 100%;

    `,`

    & > .pt-list-item-bullet + .pt-list-item-number,
    & > .pt-list-item-number + .pt-list-item-bullet {
      margin-top: `,`px;
      counter-reset: `,`;
    }

    & > :not(.pt-list-item) + .pt-list-item {
      margin-top: `,`px;
    }

    /* Reset the list count if the element is not a numbered list item */
    & > :not(.pt-list-item-number) {
      counter-reset: `,`;
    }

    `,`

    & > .pt-list-item + :not(.pt-list-item) {
      margin-top: `,`px;
    }

    & > :first-child {
      padding-top: `,`px;
    }

    & > :last-child {
      padding-bottom: `,`px;
    }

    /* & > .pt-block {
      & .pt-inline-object {
      }
    } */

    & .pt-drop-indicator {
      pointer-events: none;
      border: 1px solid var(--card-focus-ring-color) !important;
      height: 0px !important;
      border-radius: `,`px;
      margin-top: -3px;
      left: calc(
        `,` - 1px
      );
      right: calc(
        `,` - 1px
      );
      width: calc(
        100% -
          `,` + 2px
      ) !important;
    }
  }
`])),Pk.map(n=>vb(n)).join(" "),Pk.map(n=>Ae(ASe||(ASe=X0([`
        & > .pt-list-item-number[class~='pt-list-item-level-`,`'] {
          counter-increment: `,`;
        }
      `])),n,vb(n))),n=>{let{theme:e}=n;return e.sanity.space[3]},Pk.map(n=>vb(n)).join(" "),n=>{let{theme:e}=n;return e.sanity.space[2]},Pk.map(n=>vb(n)).join(" "),Pk.slice(1).map(n=>Ae(ISe||(ISe=X0([`
        & > .pt-list-item-level-`," + .pt-list-item-level-",` {
          counter-reset: `,`;
        }
      `])),n,n-1,vb(n))),n=>{let{theme:e}=n;return e.sanity.space[3]},n=>{let{$isFullscreen:e,theme:r}=n;return r.sanity.space[e?5:3]},n=>{let{$isFullscreen:e,theme:r}=n;return r.sanity.space[e?9:5]},n=>mt(n.theme).radius[2],n=>{let{$isFullscreen:e,theme:r}=n;return Je(e?r.sanity.space[5]:r.sanity.space[3])},n=>{let{$isFullscreen:e,theme:r}=n;return Je(e?r.sanity.space[5]:r.sanity.space[3])},n=>{let{$isFullscreen:e,theme:r}=n;return Je(e?r.sanity.space[5]*2:r.sanity.space[3]*2)});function d9n(n){return p.useMemo(()=>(e,r)=>{if(ut.getSelection(e)){const o=r.startContainer.parentElement;if(!o)return;Ox(o,{scrollMode:"if-needed",boundary:n,block:"start",inline:"nearest"})}},[n])}function f9n(){const n=fa();return p.useMemo(()=>{var e;const r=(e=n.schemaTypes.block.options)==null?void 0:e.spellCheck,i=typeof navigator>"u"?!1:/Chrome\/96/.test(navigator.userAgent);return r===void 0&&i===!0?!1:r},[n])}const RSe=n=>d.jsx(d.Fragment,{children:n.children}),h9n=n=>{const{block:e,children:r,schemaType:i,selected:o,focused:s,level:a,value:l}=n,{title:c,component:u}=i;return p.useMemo(()=>{const f={block:e,focused:s,level:a,renderDefault:RSe,schemaType:i,selected:o,title:c,value:l};return u?d.jsx(u,{...f,children:r}):d.jsx(RSe,{...f,children:r})},[u,e,r,s,a,i,o,c,l])},p9n=n=>{const{block:e,focused:r,children:i,selected:o,schemaType:s}=n,a=p.useMemo(()=>(e.style&&QV[e.style]?QV[e.style]:QV[0])||coe,[e.style]),l=p.useCallback(c=>d.jsx(a,{children:d.jsx(av,{"data-testid":"text-style--".concat(e.style),children:c.children})}),[a,e.style]);return p.useMemo(()=>{const c=s.component,{title:u,value:f}=s,h={block:e,focused:r,renderDefault:l,schemaType:s,selected:o,title:u,value:f};return c?d.jsx(c,{...h,children:i}):d.jsx(l,{...h,children:i})},[l,e,i,r,s,o])};var OSe=Object.freeze,m9n=Object.defineProperty,g9n=(n,e)=>OSe(m9n(n,"raw",{value:OSe(e||n.slice())})),PSe;const v9n=F.div(PSe||(PSe=g9n([`
  border-right: 1px solid var(--card-border-color);
  height: auto;

  &[data-hidden] {
    opacity: 0;
  }
`])));function Iet(n){const{hidden:e,...r}=n;return d.jsx(v9n,{"data-ui":"CollapseMenuDivider","data-hidden":e?"":void 0,...r})}const y9n={portal:!0,constrainSize:!0},uoe=p.forwardRef(function(e,r){const{disableRestoreFocusOnClose:i,menuButton:o,menuButtonProps:s,menuOptions:a,onMenuClose:l}=e;return d.jsx(Vr,{__unstable_disableRestoreFocusOnClose:i,id:"menu-button",ref:r,onClose:l,popover:y9n,...s,button:o,menu:d.jsx(_r,{children:a.map((c,u)=>{const{collapsedProps:f={},expandedProps:h={},tooltipProps:m={},tooltipText:g,dividerBefore:v,fontSize:y,padding:b,text:x,icon:_,selected:w,...C}=c.props;return d.jsxs(p.Fragment,{children:[v&&u!==0&&d.jsx(Io,{}),d.jsx(Wt,{text:x,icon:_,pressed:w,...C})]},c.key)})})})});function Det(n){const{onIntersectionChange:e,children:r,options:i,...o}=n,[s,a]=p.useState(null);return p.useEffect(()=>{if(!s)return;const l=new IntersectionObserver(e,i);return l.observe(s),()=>{l.unobserve(s),l.disconnect()}},[s,e,i]),d.jsx(oe,{ref:a,...o,children:r})}var jSe=Object.freeze,b9n=Object.defineProperty,ZD=(n,e)=>jSe(b9n(n,"raw",{value:jSe(e||n.slice())})),LSe,$Se,MSe,FSe,NSe;const BSe=3,x9n=Ae(LSe||(LSe=ZD([`
  list-style: none;
  display: flex;
  white-space: nowrap;

  &[data-hidden='true'] {
    opacity: 0;
    visibility: hidden;
  }
`]))),w9n=F(oe)($Se||($Se=ZD([`
  padding: `,`px;
  margin: -`,`px;
  box-sizing: border-box;
`])),BSe,BSe),_9n=F(oe)(MSe||(MSe=ZD([`
  border-radius: inherit;
  position: relative;
`]))),Ret=F(oe)(FSe||(FSe=ZD([`
  width: max-content;
  &[data-hidden='true'] {
    visibility: hidden;
    position: relative;
    margin-top: -1px;
    height: 1px;
  }
`]))),E9n=F(Det)(NSe||(NSe=ZD([`
  `,`
`])),x9n);function C9n(n){return!!n}const Oet=p.forwardRef(function(e,r){const{children:i,collapsed:o,disableRestoreFocusOnClose:s,onMenuClose:a,menuButtonProps:l,...c}=e,u=p.useMemo(()=>p.Children.toArray(i).filter(C9n),[i]),f=p.useMemo(()=>(l==null?void 0:l.button)||d.jsx(ha,{}),[l]);return o?d.jsx(uoe,{ref:r,disableRestoreFocusOnClose:s,menuButton:f,menuButtonProps:l,menuOptions:u,onMenuClose:a}):d.jsx(S9n,{...c,ref:r,disableRestoreFocusOnClose:s,menuButtonProps:l,menuOptions:u,onMenuClose:a})}),S9n=p.forwardRef(function(e,r){const{collapseText:i=!0,disableRestoreFocusOnClose:o,gap:s,menuOptions:a,menuButtonProps:l,onMenuClose:c,...u}=e,[f,h]=p.useState(null),[m,g]=p.useState({}),[v,y]=p.useState({}),b=p.useMemo(()=>({root:f,threshold:.99,rootMargin:"2px"}),[f]),x=p.useMemo(()=>a.map(P=>P.key),[a]),_=p.useMemo(()=>[...Ax(x,Object.keys(m)),...Ax(x,Object.keys(v))],[x,m,v]),w=p.useMemo(()=>a.filter(P=>{const O=m[P.key];return O&&!O.intersects}),[m,a]),C=p.useCallback((P,O)=>{g($=>{const L=O.key;if(L===null)throw new Error("Expected element to have a non-null key");const M={intersects:P.isIntersecting,element:O},N=$[L];return!N||N.intersects!==M.intersects?{...$,[L]:M}:$})},[]),S=p.useCallback((P,O)=>{y($=>{const L=O.key;if(L===null)throw new Error("Expected child element to have a non-null key");const M=$[L],N={intersects:P.isIntersecting,element:O};return(M==null?void 0:M.intersects)===N.intersects?$:{...$,[L]:N}})},[]),T=p.useMemo(()=>a.map(P=>{const{collapsedProps:O}=P.props,$=O,L=i?void 0:P.props.text;return p.cloneElement(P,{...$,text:L})}),[a,i]),A=p.useMemo(()=>a.filter(P=>{const O=v[P.key];return(O==null?void 0:O.intersects)===!1}),[a,v]),D=w.length>0?T.filter(P=>{const O=v[P.key];return(O==null?void 0:O.intersects)===!0}):a,R=p.useMemo(()=>(l==null?void 0:l.button)||d.jsx(ha,{}),[l]);return d.jsxs(w9n,{align:"center","data-ui":"CollapseMenu",overflow:"hidden",sizing:"border",ref:r,...u,children:[d.jsxs(_9n,{direction:"column",flex:1,justify:"center",ref:h,children:[d.jsx(Ret,{gap:s,children:_.length===0&&D.map((P,O)=>{const{dividerBefore:$,tooltipText:L="",tooltipProps:M={}}=P.props,N=!P.key||!(P.key in m)||A.includes(P);return d.jsxs(p.Fragment,{children:[$&&O!==0&&d.jsx(Iet,{hidden:N}),d.jsx(zn,{portal:!0,disabled:!L,content:L,...M,children:d.jsx(oe,{children:p.cloneElement(P,{disabled:P.props.disabled||N,"aria-hidden":N})})})]},P.key)})}),d.jsx(USe,{gap:s,elements:a,intersectionOptions:b,onIntersectionChange:C}),d.jsx(USe,{gap:s,elements:T,intersectionOptions:b,onIntersectionChange:S})]}),A.length>0&&d.jsx(oe,{marginLeft:s,children:d.jsx(uoe,{disableRestoreFocusOnClose:o,menuButton:R,menuButtonProps:l,menuOptions:A,onMenuClose:c})})]})}),USe=p.memo(function(e){const{elements:r,gap:i,intersectionOptions:o,onIntersectionChange:s}=e;return d.jsx(Ret,{"data-hidden":!0,"aria-hidden":"true",gap:i,overflow:"hidden",children:r.map((a,l)=>{const{dividerBefore:c}=a.props;return d.jsxs(p.Fragment,{children:[c&&l!==0&&d.jsx(Iet,{hidden:!0}),d.jsx(E9n,{options:o,onIntersectionChange:u=>s(u[0],a),children:d.jsx(oe,{children:p.cloneElement(a,{disabled:!0,"aria-hidden":!0})})})]},a.key)})})}),Pet=p.forwardRef(function(e,r){const{collapsedProps:i={},expandedProps:o={},tooltipProps:s={},tooltipText:a,dividerBefore:l,...c}=e;return d.jsx(ze,{"data-ui":"CollapseMenuButton",...c,ref:r})});var zSe=Object.freeze,k9n=Object.defineProperty,T9n=(n,e)=>zSe(k9n(n,"raw",{value:zSe(e||n.slice())})),VSe;const A9n=F.div(VSe||(VSe=T9n([`
  width: 1em;
  height: 1em;
  border-radius: inherit;
  background-origin: content-box;
  background-position: center;
  background-repeat: no-repeat;
  background-size: cover;
  transform: scale(0.7);
`])));function I9n(n){const{icon:e,active:r}=n,i=p.useMemo(()=>({backgroundImage:"url(".concat(e,")"),filter:r?"invert(100%)":"invert(0%)"}),[r,e]);return d.jsx(A9n,{style:i})}function D9n(n,e,r,i){return n.schemaTypes.decorators.map(s=>{const a=Object.keys(r.marks||{}).find(c=>{var u;return((u=r.marks)==null?void 0:u[c])===s.value});let l=[];return a&&(l=[a]),{type:"format",disabled:e,icon:s==null?void 0:s.icon,key:s.value,handle:()=>{ut.toggleMark(n,s.value),ut.focus(n)},hotkeys:l,title:s.i18nTitleKey&&i?i(s.i18nTitleKey):s.title}})}function R9n(n,e,r){return n.schemaTypes.lists.map(o=>({type:"listStyle",key:o.value,disabled:e,icon:o==null?void 0:o.icon,handle:()=>{ut.toggleList(n,o.value)},title:o.i18nTitleKey&&r?r(o.i18nTitleKey):o.title}))}function O9n(n){return ko(n,"icon")||ko(n,"type.icon")||ko(n,"type.to.icon")||ko(n,"type.to[0].icon")}function P9n(n,e,r,i){const o=n.schemaTypes,s=ut.focusChild(n),a=s&&s.text;return o.annotations.map(l=>({type:"annotation",disabled:!a||e,icon:O9n(l),key:l.name,handle:c=>{c?(ut.removeAnnotation(n,l),ut.focus(n)):r(l)},title:l.i18nTitleKey&&i?i(l.i18nTitleKey):l.title||iw(l.name)}))}function j9n(n,e,r,i,o){return[{name:"format",actions:D9n(n,e,i,o)},{name:"list",actions:R9n(n,e,o)},{name:"annotation",actions:P9n(n,e,r,o)}]}function L9n(n){return n.styles.map(e=>({key:"style-".concat(e.value),style:e.value,styleComponent:e&&e.component,title:e.title,i18nTitleKey:e.i18nTitleKey}))}function HSe(n,e){const r=ko(n,"to[0].icon");return n.icon||n.type&&n.type.icon||r||e}function $9n(n,e,r,i){const o=n.blockObjects.map((l,c)=>({handle:()=>r(l),icon:HSe(l,UNe),inline:!1,key:"block-".concat(c),type:l})),s=n.inlineObjects.map((l,c)=>({handle:()=>i(l),icon:HSe(l,tBe),inline:!0,key:"inline-".concat(c),type:l}));return o.concat(s).filter(l=>{var c;return!((c=l.type)!=null&&c.hidden)})}const M9n={link:ff},F9n={strong:zNe,em:iBe,"strike-through":bBe,underline:wBe,code:HNe},N9n={number:dBe,bullet:dA};function B9n(n,e){return n.icon?typeof n.icon=="string"?d.jsx(I9n,{active:e,icon:n.icon}):n.icon:n.type==="annotation"?M9n[n.key]||Rp:n.type==="listStyle"?N9n[n.key]||Rp:F9n[n.key]||Rp}function QN(){const n=fa(),e=cw();return p.useMemo(()=>ut.focusBlock(n),[n,e])}function U9n(n){let{hotkeys:e,onMemberOpen:r,resolveInitialValue:i,disabled:o}=n;const s=fa(),{t:a}=me(),l=p.useCallback(async c=>{const u=await i(c),f=ut.addAnnotation(s,c,u);f&&f.markDefPath&&r(f.markDefPath)},[s,r,i]);return p.useMemo(()=>s?j9n(s,o,l,e,a):[],[o,s,l,e,a])}function z9n(n){let{actions:e}=n;const r=fa(),i=cw();return Ga(p.useMemo(()=>{const o=ut.activeAnnotations(r).map(s=>s._type);return e.filter(s=>s.type==="annotation"?o.includes(s.key):s.type==="listStyle"?ut.hasListStyle(r,s.key):ut.isMarkActive(r,s.key)).map(s=>s.key)},[r,i]))}function V9n(n){let{items:e}=n;const r=fa(),i=QN(),o=cw();return Ga(p.useMemo(()=>e.filter(s=>ut.hasBlockStyle(r,s.style)).map(s=>s.style),[i,o]))}const H9n=p.memo(Oet),W9n={constrainSize:!0,portal:!0},G9n=p.memo(function(e){const{disabled:r,groups:i,isFullscreen:o,collapsed:s}=e,a=QN(),l=fa(),c=cw(),{t:u}=Sh(),f=c&&ji(c.anchor.path[0])&&ji(c.focus.path[0])?c.anchor.path[0]._key!==(c==null?void 0:c.focus.path[0]._key):(c==null?void 0:c.anchor.path[0])!==(c==null?void 0:c.focus.path[0]),h=(a==null?void 0:a._type)!==l.schemaTypes.block.name,m=!h&&Array.isArray(a.children)&&a.children.length===1&&(a==null?void 0:a.children[0].text)==="",g=r||h,v=p.useMemo(()=>i.reduce((C,S)=>C.concat(S.actions.map((T,A)=>A===0?{...T,firstInGroup:!0}:T)),[]),[i]),y=z9n({actions:v}),b=p.useCallback(()=>{ut.focus(l)},[l]),x=o?"bottom":"top",_=p.useMemo(()=>v.map(C=>{const S=C.type==="annotation"&&(m||f),T=m?u("user-menu.action.portable-text.annotation-disabled_empty-block",{name:C.title||C.key}):u("user-menu.action.portable-text.annotation-disabled_multiple-blocks",{name:C.title||C.key}),A=y.includes(C.key);return d.jsx(Pet,{"aria-label":u("toolbar.portable-text.action-button-aria-label",{action:C.title||C.key}),"data-testid":"action-button-".concat(C.key),disabled:g||S,mode:"bleed",dividerBefore:C.firstInGroup,icon:B9n(C,A),onClick:()=>C.handle(A),selected:A,text:C.title||C.key,tooltipText:S?T:C.title||C.key,tooltipProps:{disabled:g,placement:x,portal:"default"}},C.key)}),[v,y,g,m,f,u,x]),w=p.useMemo(()=>({button:d.jsx(ha,{"data-testid":"action-menu-button",disabled:g,tooltipProps:{placement:x}}),popover:W9n}),[g,x]);return d.jsx(H9n,{"data-testid":"action-menu-auto-collapse-menu",collapsed:s,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:w,onMenuClose:b,children:_})});var WSe=Object.freeze,q9n=Object.defineProperty,K9n=(n,e)=>WSe(q9n(n,"raw",{value:WSe(e||n.slice())})),GSe;const Y9n=p.memo(Vr),Z9n=F(pte)(GSe||(GSe=K9n([`
  // Change the border color variable used by BlockQuote
  // to make the border visible when the MenuItem is selected
  &[data-selected] {
    [data-option='blockquote'] {
      --card-border-color: var(--card-muted-fg-color);
    }
  }
`]))),X9n={constrainSize:!0,placement:"bottom-start",portal:"default"},jet={h1:n=>d.jsx(xet,{children:n}),h2:n=>d.jsx(wet,{children:n}),h3:n=>d.jsx(_et,{children:n}),h4:n=>d.jsx(Eet,{children:n}),h5:n=>d.jsx(Cet,{children:n}),h6:n=>d.jsx(ket,{children:n}),normal:n=>d.jsx(coe,{children:n}),blockquote:n=>d.jsx(Tet,{"data-option":"blockquote",children:n})},Q9n=Object.keys(jet),J9n=n=>n.preventDefault(),jk={key:"style-none",style:"",title:"No style",i18nTitleKey:"inputs.portable-text.style.none"},eUn=p.memo(function(e){const{disabled:r,items:i}=e,o=fa(),s=QN(),{t:a}=me(),l=r||(s?o.schemaTypes.block.name!==s._type:!1),c=V9n({items:i}),{activeItems:u,items:f}=p.useMemo(()=>{const b=i.filter(_=>c.includes(_.style));let x=i;return b.length===0&&x.length>1&&(x=x.concat([jk]),b.push(jk)),{activeItems:b,items:x}},[c,i]),h=p.useMemo(()=>u.length>1?a("inputs.portable-text.style.multiple"):u.length!==1?jk.i18nTitleKey?a(jk.i18nTitleKey):jk.title:u[0].i18nTitleKey?a(u[0].i18nTitleKey):u[0].title,[u,a]),m=p.useCallback(b=>{s&&b.style!==s.style&&(ut.toggleBlockStyle(o,b.style),ut.focus(o))},[o,s]),g=p.useCallback((b,x)=>{const _=Q9n.includes(b),w=jet[b];return _?w(x):d.jsx(J,{children:x})},[]),v=p.useMemo(()=>d.jsx(ze,{disabled:l,iconRight:qs,justify:"space-between",mode:"bleed",onClick:J9n,text:h,width:"fill"}),[l,h]),y=p.useMemo(()=>d.jsx(_r,{disabled:l,children:f.map(b=>d.jsx(Z9n,{pressed:u.includes(b),onClick:l?void 0:()=>m(b),children:g(b.style,b.i18nTitleKey?a(b.i18nTitleKey):(b==null?void 0:b.title)||b.style)},b.key))}),[l,u,m,f,g,a]);return d.jsx(Y9n,{popover:X9n,id:"block-style-select",button:v,menu:y})}),tUn=p.memo(Oet),nUn={constrainSize:!0,portal:!0},rUn=p.memo(function(e){const{disabled:r,items:i,isFullscreen:o,collapsed:s}=e,{t:a}=me(),l=QN(),c=fa(),u=l&&l._type!==c.schemaTypes.block.name,f=p.useCallback(()=>{ut.focus(c)},[c]),h=o?"bottom":"top",m=p.useMemo(()=>i.map(v=>{const y=v.type.title||QVe(v.type.name);return d.jsx(Pet,{"aria-label":a(v.inline?"inputs.portable-text.action.insert-inline-object-aria-label":"inputs.portable-text.action.insert-block-aria-label",{typeName:y}),mode:"bleed",disabled:r||u&&v.inline===!0,icon:v.icon,onClick:v.handle,text:y,tooltipText:a(v.inline?"inputs.portable-text.action.insert-inline-object":"inputs.portable-text.action.insert-block",{typeName:y}),tooltipProps:{disabled:r,placement:h,portal:"default"}},v.key)}),[r,u,i,a,h]),g=p.useMemo(()=>({button:d.jsx(ha,{"data-testid":"insert-menu-button",disabled:r,tooltipProps:{placement:h}}),popover:nUn}),[r,h]);return d.jsx(tUn,{"data-testid":"insert-menu-auto-collapse-menu",collapsed:s,collapseText:!1,disableRestoreFocusOnClose:!0,gap:1,menuButtonProps:g,onMenuClose:f,children:m})});var qSe=Object.freeze,iUn=Object.defineProperty,oS=(n,e)=>qSe(iUn(n,"raw",{value:qSe(e||n.slice())})),KSe,YSe,ZSe,XSe,QSe,JSe;const oUn=F(oe)(KSe||(KSe=oS([`
  width: 100%;
`]))),sUn=F(te)(YSe||(YSe=oS([`
  width: 8em;
`]))),aUn=F(oe)(ZSe||(ZSe=oS([`
  border-right: 1px solid var(--card-border-color);
`]))),lUn=F(te)(QSe||(QSe=oS([`
  `,`
`])),n=>{let{$withInsertMenu:e}=n;return e&&Ae(XSe||(XSe=oS([`
      max-width: max-content;
      border-right: 1px solid var(--card-border-color);
    `])))}),cUn=F(te)(JSe||(JSe=oS([`
  border-left: 1px solid var(--card-border-color);
`]))),uUn=300,dUn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),fUn=p.memo(function(e){let{actionGroups:r,blockStyles:i,collapsible:o,disabled:s,insertMenuItems:a,isFullscreen:l,onToggleFullscreen:c}=e;const{t:u}=me(),h=r.reduce((w,C)=>w+C.actions.length,0)>0,m=a.length>0,[g,v]=p.useState(null),y=Ex(g),b=o&&y?(y==null?void 0:y.width)<400:!1,x=i.length>1;srt({rootElement:g});const _=p.useCallback(w=>{w.preventDefault()},[]);return d.jsxs(oUn,{align:"center",ref:v,onMouseDown:_,children:[x&&d.jsx(aUn,{flex:b?1:void 0,children:d.jsx(sUn,{padding:l?2:1,children:d.jsx(eUn,{disabled:s,items:i})})}),d.jsxs(oe,{flex:1,children:[h&&d.jsx(lUn,{flex:b?void 0:1,padding:l?2:1,$withInsertMenu:m,children:d.jsx(G9n,{disabled:s,collapsed:b,groups:r,isFullscreen:l})}),m&&d.jsx(te,{flex:b?void 0:1,padding:l?2:1,children:d.jsx(rUn,{disabled:s,collapsed:b,items:a,isFullscreen:l})})]}),d.jsx(cUn,{padding:l?2:1,children:d.jsx(ze,{"aria-label":u("inputs.portable-text.action.expand-editor"),icon:l?WNe:JNe,mode:"bleed",onClick:c,tooltipProps:{content:u(l?"inputs.portable-text.action.collapse-editor":"inputs.portable-text.action.expand-editor"),hotkeys:["".concat(dUn?"Cmd":"Ctrl"),"Enter"],placement:l?"bottom":"top",portal:"default"}})})]})});function hUn(n){const{collapsible:e,hotkeys:r,isFullscreen:i,readOnly:o,onMemberOpen:s,onToggleFullscreen:a}=n,l=fa(),c=cw(),u=Eoe(),f=o||!c,{push:h}=da(),m=p.useCallback(_=>{let w=!1;const C=setTimeout(()=>{w=!0,h({id:"resolving-initial-value",status:"info",title:"Resolving initial value…"})},uUn);return u(_,{}).then(S=>(w&&h({id:"resolving-initial-value",status:"info",duration:500,title:"Initial value resolved"}),S)).catch(S=>{h({title:"Could not resolve initial value",id:"resolving-initial-value",description:"Unable to resolve initial value for type: ".concat(_.name,": ").concat(S.message,"."),status:"error"})}).finally(()=>clearTimeout(C))},[h,u]),g=p.useCallback(async _=>{const w=await m(_),C=ut.insertBlock(l,_,w);C&&s(C)},[l,s,m]),v=p.useCallback(async _=>{const w=await m(_),C=ut.insertChild(l,_,w);C&&s(C)},[l,s,m]),y=U9n({hotkeys:r,onMemberOpen:s,resolveInitialValue:m,disabled:!0}),b=p.useMemo(()=>L9n(l.schemaTypes),[l]),x=p.useMemo(()=>$9n(l.schemaTypes,f,g,v),[f,l,g,v]);return d.jsx(fUn,{actionGroups:y,blockStyles:b,collapsible:e,disabled:f,insertMenuItems:x,isFullscreen:i,onToggleFullscreen:a})}var e2e=Object.freeze,pUn=Object.defineProperty,mUn=(n,e)=>e2e(pUn(n,"raw",{value:e2e(e||n.slice())})),t2e;const gUn={outline:"none"},vUn="root",yUn=F.span(n=>{const{color:e}=mt(n.theme);return Ae(t2e||(t2e=mUn([`
    color: `,`;
  `])),e.input.default.enabled.placeholder)}),bUn=n=>d.jsx(P7n,{...n}),xUn=n=>d.jsx(p9n,{...n}),wUn=n=>d.jsx(h9n,{...n});function _Un(n){const{hotkeys:e,initialSelection:r,isActive:i,isFullscreen:o,onCopy:s,onItemOpen:a,onPaste:l,onToggleFullscreen:c,path:u,readOnly:f,rangeDecorations:h,renderAnnotation:m,renderBlock:g,renderChild:v,scrollElement:y,setPortalElement:b,setScrollElement:x,ariaDescribedBy:_}=n,{id:w}=om(),{t:C}=me(),{isTopLayer:S}=Eu(),T=p.useRef(null),{element:A}=Jx();wu(p.useCallback(L=>{!S||!o||L.key==="Escape"&&c()},[c,o,S]));const I=p.useCallback(()=>d.jsx(yUn,{"data-testid":"pt-input-placeholder",children:C("inputs.portable-text.empty-placeholder")}),[C]),D=f9n(),R=d9n(y),P=p.useMemo(()=>d.jsx(Kqe,{"aria-describedby":_,hotkeys:e,onCopy:s,onPaste:l,ref:T,rangeDecorations:h,renderAnnotation:m,renderBlock:g,renderChild:v,renderDecorator:bUn,renderListItem:wUn,renderPlaceholder:I,renderStyle:xUn,scrollSelectionIntoView:R,selection:r,spellCheck:D,style:gUn}),[_,e,r,s,l,h,m,g,v,I,R,D]),O=p.useCallback(L=>{a(u.concat(L))},[a,u]),$=w===vUn;return d.jsxs(o9n,{$fullscreen:o,"data-testid":"pt-editor",children:[i&&d.jsx(xu,{children:d.jsx(s9n,{"data-testid":"pt-editor__toolbar-card",shadow:1,children:d.jsx(hUn,{collapsible:$,hotkeys:e,isFullscreen:o,onMemberOpen:O,onToggleFullscreen:c,readOnly:f})})}),d.jsxs(a9n,{flex:1,tone:f?"transparent":"default",children:[d.jsx(l9n,{ref:x,children:d.jsx(c9n,{padding:o?2:0,sizing:"border",width:1,children:d.jsx(u9n,{$isFullscreen:o,tone:f?"transparent":"default",children:d.jsx(hy,{element:o?y:A,children:P})})})}),d.jsx("div",{"data-portal":"",ref:b})]})]})}function EUn(n){const e=fa(),[r]=p.useState(()=>n);return r!==n&&console.warn("Make sure that hotkeys are a stable object across renders, or there will be issues with key handling in the Portable Text Editor."),p.useMemo(()=>{const i={marks:{}};return e.schemaTypes.decorators.forEach(o=>{switch(o.value){case"strong":i.marks["mod+b"]=o.value;break;case"em":i.marks["mod+i"]=o.value;break;case"underline":i.marks["mod+u"]=o.value;break;case"code":i.marks["mod+'"]=o.value;break}}),{marks:{...i.marks,...(r||{}).marks},custom:r.custom}},[e,r])}function CUn(n){const{focusPath:e,boundaryElement:r,onItemClose:i}=n,o=GMn(),s=fa(),a=cw();p.useLayoutEffect(()=>{var l,c,u,f,h;if(e.length===0)return;const m=o.find(g=>g.member.open);if(m&&((l=m.elementRef)!=null&&l.current)){if(r&&(Ox(r,{scrollMode:"if-needed",block:"start",inline:"start"}),Ox(m.elementRef.current,{scrollMode:"if-needed",boundary:r,block:"start",inline:"start"})),a!=null&&a.focus.path&&Ui(a.focus.path,e.slice(0,a.focus.path.length)))return;const g=m.kind==="textBlock",v=e.length===1;if(g||v){const y=g&&fh(e[2])?e[2]._key:void 0,b=y&&Array.isArray((c=m.node.value)==null?void 0:c.children)?(u=m.node.value)==null?void 0:u.children.find(C=>C._key===y):void 0,x=b&&b._type==="span"&&e.length===4&&e[1]==="children"&&e[3]==="text"||!1,_=g&&(e.length===3&&e[1]==="children"||x);let w=[];_?w=e.slice(0,3):g&&v&&Array.isArray((f=m.node.value)==null?void 0:f.children)?w=[e[0],"children",{_key:(h=m.node.value)==null?void 0:h.children[0]._key}]:v&&(w=[{_key:m.key}]),w.length&&(ut.select(s,{anchor:{path:w,offset:0},focus:{path:w,offset:0}}),g&&ut.focus(s))}}},[r,s,e,i,o,a==null?void 0:a.focus.path])}var n2e=Object.freeze,SUn=Object.defineProperty,doe=(n,e)=>n2e(SUn(n,"raw",{value:n2e(e||n.slice())})),r2e,i2e,o2e;const kUn=F(ke)(IUn),TUn=F.span(r2e||(r2e=doe([`
  display: block;
  max-width: calc(5em + 80px);
  position: relative;
`]))),AUn=F(te)(i2e||(i2e=doe([`
  max-width: 250px;
`])));function IUn(n){let{theme:e}=n;var r,i,o;const{color:s,radius:a}=e.sanity;return Ae(o2e||(o2e=doe([`
    line-height: 0;
    border-radius: `,`px;
    padding: 2px;
    box-shadow: inset 0 0 0 1px var(--card-border-color);
    height: calc(1em - 1px);
    margin-top: 0.0625em;
    cursor: default;

    &:not([hidden]) {
      display: inline-flex;
      align-items: center;
      vertical-align: top;
    }

    &[data-ready-only] {
      cursor: default;
    }

    &[data-focused] {
      box-shadow: inset 0 0 0 1px `,`;
      color: `,`;
    }

    &[data-selected] {
      background-color: `,`;
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      --card-bg-color: `,`;
    }

    &[data-warning] {
      --card-bg-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      --card-bg-color: `,`;
      --card-border-color: `,`;

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),a[2],(r=s.selectable)==null?void 0:r.primary.selected.border,(i=s.selectable)==null?void 0:i.primary.pressed.fg,(o=s.selectable)==null?void 0:o.primary.pressed.bg,s.input.default.hovered.border,s.dark?Kt.purple[950].hex:Kt.purple[50].hex,s.muted.caution.hovered.bg,s.muted.caution.hovered.border,s.input.invalid.enabled.bg,s.input.invalid.enabled.border,s.input.invalid.hovered.border)}const DUn=["top","bottom"];function RUn(n){const{floatingBoundary:e,onClosePopover:r,onEdit:i,onDelete:o,referenceBoundary:s,referenceElement:a,title:l,open:c}=n,{sanity:u}=lD(),{t:f}=me(),h=p.useRef(null),m=p.useRef(null),g=u.color.dark?"light":"dark";wu(p.useCallback(b=>{b.key==="Escape"&&(b.preventDefault(),b.stopPropagation(),r())},[r]));const v=p.useCallback(b=>{var x;if(!((x=m.current)!=null&&x.disabled)){b.preventDefault(),b.stopPropagation();try{o(b)}catch(_){console.error(_)}finally{m.current&&(m.current.disabled=!0)}}},[o]),y=p.useMemo(()=>d.jsx(te,{padding:1,children:d.jsxs(to,{space:1,children:[d.jsx(te,{padding:2,children:d.jsx(J,{weight:"medium",size:1,children:l})}),d.jsx(ze,{"aria-label":f("inputs.portable-text.inline-object.edit-aria-label"),icon:df,mode:"bleed",onClick:i,ref:h,tooltipProps:{content:f("inputs.portable-text.inline-object.edit")}}),d.jsx(ze,{"aria-label":f("inputs.portable-text.inline-object.remove-aria-label"),ref:m,icon:vs,mode:"bleed",onClick:v,tone:"critical",tooltipProps:{content:f("inputs.portable-text.inline-object.remove")}})]})}),[v,i,l,f]);return d.jsx(Ai,{constrainSize:!0,content:y,fallbackPlacements:DUn,floatingBoundary:e,open:c,placement:"top",portal:!0,referenceBoundary:s,referenceElement:a,scheme:g})}const OUn=n=>{var e;const{floatingBoundary:r,focused:i,onItemClose:o,onItemOpen:s,onPathFocus:a,path:l,readOnly:c,referenceBoundary:u,relativePath:f,renderAnnotation:h,renderBlock:m,renderCustomMarkers:g,renderField:v,renderItem:y,renderInlineBlock:b,renderInput:x,renderPreview:_,schemaType:w,selected:C,value:S}=n,{Markers:T}=om().__internal.components,A=fa(),I=PN(l),D=NN(Oi(l)),{validation:R,hasError:P,hasInfo:O,hasWarning:$}=ON(D==null?void 0:D.node),L=A.schemaTypes.block,M=I.length>0,N=p.useMemo(()=>({anchor:{path:f,offset:0},focus:{path:f,offset:0}}),[f]),z=p.useCallback(()=>{ut.delete(A,N,{mode:"children"}),ut.focus(A)},[N,A]),B=p.useCallback(()=>{D&&(ut.blur(A),s(D.node.path))},[A,s,D]),H=p.useCallback(()=>{o(),ut.select(A,N),ut.focus(A)},[o,A,N]),X=!!(D!=null&&D.member.open),G=D==null?void 0:D.input,ne=(D==null?void 0:D.node.path)||ri,le=(e=D==null?void 0:D.elementRef)==null?void 0:e.current,K=QS(l,!0),Q=p.useMemo(()=>K.filter(fe=>Ui(fe.path,l)),[l,K]),re=p.useMemo(()=>({__unstable_floatingBoundary:r,__unstable_referenceBoundary:u,__unstable_referenceElement:le,children:G,focused:i,onClose:H,onOpen:B,onPathFocus:a,onRemove:z,open:X,markers:I,member:D==null?void 0:D.member,parentSchemaType:L,path:ne,presence:Q,readOnly:!!c,renderAnnotation:h,renderBlock:m,renderDefault:Let,renderField:v,renderInlineBlock:b,renderInput:x,renderItem:y,renderPreview:_,schemaType:w,selected:C,value:S,validation:R}),[r,i,G,X,I,D==null?void 0:D.member,ne,H,B,a,z,L,c,u,le,h,m,v,b,x,y,_,Q,w,C,R,S]),se=P||$||O||M,de=p.useMemo(()=>se&&d.jsx(AUn,{children:d.jsx(T,{markers:I,validation:R,renderCustomMarkers:g})})||null,[T,I,g,se,R]);return p.useMemo(()=>d.jsx("span",{ref:D==null?void 0:D.elementRef,contentEditable:!1,children:d.jsx(zn,{placement:"bottom",portal:"editor",disabled:!se,content:de,children:b&&d.jsx("span",{style:{position:"relative"},children:b(re)})})}),[re,D==null?void 0:D.elementRef,b,de,se])},Let=n=>{const{__unstable_floatingBoundary:e,__unstable_referenceBoundary:r,__unstable_referenceElement:i,children:o,focused:s,markers:a,onClose:l,onOpen:c,onRemove:u,open:f,readOnly:h,renderPreview:m,schemaType:g,selected:v,validation:y,value:b}=n,{t:x}=me(),_=a.length>0,[w,C]=p.useState(!1),S=(g==null?void 0:g.title)||g.name,T=y.filter(P=>P.level==="error").length>0,A=y.filter(P=>P.level==="warning").length>0,I=p.useCallback(()=>{C(!1),c()},[c]);p.useEffect(()=>{C(f?!1:!!s)},[s,f]);const D=p.useMemo(()=>{if(T)return"critical";if(A)return"caution";if(v||s)return"primary"},[s,T,A,v]),R=p.useCallback(()=>{C(!1)},[]);return d.jsxs(d.Fragment,{children:[d.jsx(kUn,{"aria-label":x("inputs.portable-text.inline-block.aria-label"),"data-focused":s||void 0,"data-invalid":T||void 0,"data-markers":_||void 0,"data-read-only":h||void 0,"data-selected":v||void 0,"data-warning":A||void 0,forwardedAs:"span",onClick:h?I:void 0,onDoubleClick:I,tone:D,children:d.jsx(TUn,{children:m({layout:"inline",schemaType:g,skipVisibilityCheck:!0,value:b,fallbackTitle:"Click to edit"})})}),i&&d.jsx(RUn,{floatingBoundary:e,onClosePopover:R,onDelete:u,onEdit:I,open:w,referenceBoundary:r,referenceElement:i,title:S}),f&&d.jsx(Gie,{defaultType:"popover",onClose:l,autoFocus:s,floatingBoundary:e,referenceBoundary:r,referenceElement:i,schemaType:g,children:o})]})};function PUn(n){const{changed:e,focused:r,focusPath:i=ri,hasFocusWithin:o,hotkeys:s,isActive:a,isFullscreen:l,onActivate:c,onCopy:u,onItemClose:f,onItemOpen:h,onItemRemove:m,onPaste:g,onPathFocus:v,onToggleFullscreen:y,path:b,readOnly:x,rangeDecorations:_,renderAnnotation:w,renderBlock:C,renderBlockActions:S,renderCustomMarkers:T,renderField:A,renderInlineBlock:I,renderInput:D,renderItem:R,renderPreview:P,value:O}=n,$=fa(),L=Jx().element,[M,N]=p.useState(null),[z,B]=p.useState(null),H=p.useCallback(()=>{y()},[y]),X=p.useMemo(()=>({...s,custom:{"mod+enter":y,...(s==null?void 0:s.custom)||{}}}),[s,y]),G=EUn(X),ne=O&&S?S:void 0,le=O&&T?T:void 0,[K,Q]=p.useState(null),re=p.useCallback(Re=>{const{children:Fe,focused:Ye,path:He,selected:lt,schemaType:Xe,value:st}=Re;return d.jsx(r9n,{floatingBoundary:L,focused:Ye,isFullscreen:l,onItemClose:f,onItemOpen:h,onItemRemove:m,onPathFocus:v,path:b.concat(He),readOnly:x,referenceBoundary:z,renderAnnotation:w,renderField:A,renderInlineBlock:I,renderInput:D,renderItem:R,renderBlockActions:ne,renderCustomMarkers:le,renderPreview:P,renderBlock:C,schemaType:Xe,selected:lt,value:st,children:Fe})},[ne,le,L,l,f,h,m,v,b,x,w,C,A,I,D,R,P,z]),se=p.useCallback(Re=>{const{focused:Fe,path:Ye,selected:He,schemaType:lt,value:Xe}=Re;return d.jsx(Vzn,{floatingBoundary:L,focused:Fe,isFullscreen:l,onItemClose:f,onItemOpen:h,onItemRemove:m,onPathFocus:v,path:b.concat(Ye),readOnly:x,referenceBoundary:z,relativePath:Ye,renderAnnotation:w,renderBlock:C,renderBlockActions:ne,renderCustomMarkers:le,renderField:A,renderInlineBlock:I,renderInput:D,renderItem:R,renderPreview:P,schemaType:lt,selected:He,value:Xe})},[L,z,l,f,h,m,v,b,x,w,C,ne,le,A,I,D,R,P]),de=p.useCallback(Re=>{const{value:Fe}=Re;return Fe._type===$.schemaTypes.block.name?re(Re):se(Re)},[$.schemaTypes.block.name,se,re]),fe=p.useCallback(Re=>{const{children:Fe,focused:Ye,path:He,selected:lt,schemaType:Xe,value:st}=Re;return st._type===$.schemaTypes.span.name?Fe:d.jsx(OUn,{floatingBoundary:L,focused:Ye,onItemClose:f,onItemOpen:h,onPathFocus:v,path:b.concat(He),readOnly:x,referenceBoundary:z,relativePath:He,renderAnnotation:w,renderBlock:C,renderCustomMarkers:T,renderField:A,renderInlineBlock:I,renderInput:D,renderItem:R,renderPreview:P,schemaType:Xe,selected:lt,value:st})},[$.schemaTypes.span.name,L,f,h,v,b,x,z,w,C,T,A,I,D,R,P]),we=p.useCallback(Re=>{const{children:Fe,focused:Ye,path:He,selected:lt,schemaType:Xe,value:st}=Re;return d.jsx(d3n,{editorNodeFocused:Ye,floatingBoundary:L,focused:!!r,onItemClose:f,onItemOpen:h,onPathFocus:v,path:b.concat(He),readOnly:x,referenceBoundary:z,renderAnnotation:w,renderBlock:C,renderCustomMarkers:T,renderField:A,renderInlineBlock:I,renderInput:D,renderItem:R,renderPreview:P,schemaType:Xe,selected:lt,value:st,children:Fe})},[L,z,r,f,h,v,b,x,w,C,T,A,I,D,R,P]),ye=n.elementProps["aria-describedby"],ve=p.useMemo(()=>{if(o)return{anchor:{path:i,offset:0},focus:{path:i,offset:0}}},[]),_e=p.useMemo(()=>d.jsx(_Un,{ariaDescribedBy:ye,initialSelection:ve,hotkeys:G,isActive:a,isFullscreen:l,onItemOpen:h,onCopy:u,onPaste:g,onToggleFullscreen:H,path:b,rangeDecorations:_,readOnly:x,renderAnnotation:we,renderBlock:de,renderChild:fe,setPortalElement:Q,scrollElement:z,setScrollElement:B}),[ye,G,a,l,h,u,g,H,b,_,x,we,de,fe,ve,z]),ge=Ly(),pe=p.useMemo(()=>({collapsed:M,default:ge.element,editor:K,expanded:ge.element}),[ge.element,K,M]);CUn({focusPath:i,boundaryElement:z,onItemClose:f});const Pe=r||o;return d.jsx(fD,{__unstable_elements:pe,element:ge.element,children:d.jsx(C7n,{onActivate:c,isOverlayActive:!a,children:d.jsx(_l,{disabled:l,hasFocus:!!r,isChanged:e,path:b,children:d.jsxs(k7n,{"data-focused":Pe?"":void 0,"data-read-only":x?"":void 0,children:[d.jsx(te,{"data-wrapper":"",ref:N,children:d.jsx(ew,{__unstable_name:l?"expanded":"collapsed",children:l?d.jsx(T7n,{children:_e}):_e})}),d.jsx("div",{"data-border":""})]})})})})}function jUn(n){const{onChange:e,onIgnore:r,resolution:i,readOnly:o}=n,s=GS(),{t:a}=me(),l=p.useCallback(()=>{i&&(e({type:"mutation",patches:i.patches}),s.log(b7n,{PTEInvalidValueId:i.i18n.description,PTEInvalidValueDescription:i.description}))},[e,i,s]),c=p.useCallback(()=>{s.log(y7n),r()},[r,s]);return i?d.jsx(sm,{title:d.jsx(d.Fragment,{children:a("inputs.portable-text.invalid-value.title")}),suffix:d.jsxs(Se,{padding:2,children:[i.action&&d.jsxs(eo,{columns:[1,2],gap:1,children:[d.jsx(ui,{mode:"ghost",onClick:c,text:a("inputs.portable-text.invalid-value.ignore-button.text")}),!o&&d.jsx(ui,{onClick:l,text:d.jsx(bn,{t:a,i18nKey:i.i18n.action,values:i.i18n.values}),tone:"caution"})]}),d.jsx(te,{padding:3,children:i.action&&d.jsx(J,{as:"p",muted:!0,size:1,children:a("inputs.portable-text.invalid-value.action-disclaimer")})})]}),children:d.jsxs(Se,{space:3,children:[d.jsx(J,{as:"p",muted:!0,size:1,children:d.jsx(bn,{t:a,i18nKey:i.i18n.description,values:i.i18n.values})}),d.jsx(ke,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:d.jsx(ia,{language:"json",children:JSON.stringify(i.item,null,2)})})]})}):null}function LUn(n){const{path:e}=n,{patchChannel:r}=om().__internal;return{subscribe:p.useCallback(o=>r.subscribe(s=>{let{snapshot:a,patches:l}=s;const c=l.filter(u=>FY(u.path,e)).map(u=>({...u,path:u.path.slice(e.length)}));c.length&&o({shouldReset:FUn(e,l),snapshot:$n(a)?NUn(a,e):{},patches:c})}),[e,r])}}function $Un(n,e){const r=typeof n;return r!==typeof e?!1:r==="object"?Lg(n,e):n===e}function FY(n,e){if(n===e)return!0;if(!Array.isArray(n)||!Array.isArray(e)||n.length<e.length)return!1;for(let r=0,i=e.length;r<i;r++)if(!$Un(e[r],n[r]))return!1;return!0}function MUn(n,e){return n.length===0||FY(e,n)&&!FY(n,e)}function FUn(n,e){return e.some(r=>MUn(r.path,n)&&(r.type==="set"||r.type==="unset"))}function NUn(n,e){return e.reduce((r,i)=>typeof i=="object"?jZe(r,i):ko(r,i),n)}function BUn(n){const{editorRef:e,elementProps:r,hotkeys:i,markers:o=ri,onChange:s,onCopy:a,onEditorChange:l,onFullScreenChange:c,onInsert:u,onItemRemove:f,onPaste:h,onPathFocus:m,path:g,readOnly:v,rangeDecorations:y,renderBlockActions:b,renderCustomMarkers:x,schemaType:_,value:w}=n,{onBlur:C}=r,S=p.useRef(null),T=e||S;p.useImperativeHandle(r.ref,()=>({focus(){T.current&&ut.focus(T.current)}}));const{subscribe:A}=LUn({path:g}),[I,D]=p.useState(!1),[R,P]=p.useState(null),[O,$]=p.useState(!1),[L,M]=p.useState(!1),[N,z]=p.useState(!1),[B,H]=p.useState(!1),X=GS(),G=da(),ne=p.useMemo(()=>new ho,[]),le=p.useMemo(()=>ne.asObservable(),[ne]),K=p.useRef(null),Q=p.useCallback(()=>{$(ve=>{const _e=!ve;return _e?X.log(g7n):X.log(v7n),c==null||c(_e),_e})},[c,X]);p.useEffect(()=>{R&&w!==R.value&&P(null)},[R,w]),p.useEffect(()=>A(ve=>{let{patches:_e,snapshot:ge}=ve;ne.next({patches:_e,snapshot:ge})}),[ne,A]);const re=qMn(n);p.useEffect(()=>{B&&M(!0)},[B]);const se=p.useCallback(ve=>{const _e=ve.length===3&&ve[1]==="children"&&ji(ve[2])&&!re.some(ge=>ji(ve[2])&&ge.member.key===ve[2]._key);m(_e?ve.concat("text"):ve)},[m,re]),de=p.useCallback(ve=>{switch(ve.type){case"mutation":s(s2e(ve.patches));break;case"connection":ve.value==="offline"?z(!0):ve.value==="online"&&z(!1);break;case"selection":p.startTransition(()=>{ve.selection&&se(ve.selection.focus.path)});break;case"focus":M(!0),H(!0);break;case"blur":C(ve.event),H(!1);break;case"undo":case"redo":s(s2e(ve.patches));break;case"invalidValue":P(ve);break;case"error":G.push({status:ve.level,description:ve.description});break}T.current&&l&&l(ve,T.current)},[T,C,s,l,se,G]);p.useEffect(()=>{D(!1)},[w]);const fe=p.useCallback(()=>{D(!0)},[]),we=p.useMemo(()=>R&&R.resolution?d.jsx(te,{marginBottom:2,children:d.jsx(jUn,{onChange:de,onIgnore:fe,resolution:R.resolution,readOnly:N||v})}):null,[de,fe,R,N,v]),ye=p.useCallback(()=>{L||(M(!0),T.current&&ut.focus(T.current))},[T,L]);return d.jsxs(te,{ref:K,children:[!I&&we,(!R||I)&&d.jsx(Ijn,{markers:o,children:d.jsx(WMn,{memberItems:re,children:d.jsx(ut,{patches$:le,onChange:de,maxBlocks:void 0,ref:T,readOnly:N||v,schemaType:_,value:w,children:d.jsx(PUn,{...n,hasFocusWithin:B,hotkeys:i,isActive:L,isFullscreen:O,onActivate:ye,onItemRemove:f,onCopy:a,onInsert:u,onPaste:h,onToggleFullscreen:Q,rangeDecorations:y,renderBlockActions:b,renderCustomMarkers:x})})})})]})}function s2e(n){return n.map(e=>({...e,patchType:Nx}))}function NY(n){return"inset 0 0 0 ".concat(n.width,"px ").concat(n.color)}function UUn(n){const{base:e,border:r,focusRing:i}=n,o=i.offset+i.width,s=0-i.offset,a=e?e.bg:"var(--card-bg-color)";return[s>0&&"inset 0 0 0 ".concat(s,"px var(--card-focus-ring-color)"),r&&NY(r),s<0&&"0 0 0 ".concat(0-s,"px ").concat(a),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var a2e=Object.freeze,zUn=Object.defineProperty,$et=(n,e)=>a2e(zUn(n,"raw",{value:a2e(e||n.slice())})),l2e,c2e;const VUn=F(ke)(n=>{const{theme:e}=n,{focusRing:r,input:i,radius:o}=e.sanity,s=e.sanity.color.input,a=Je(e.sanity.space[1]);return{position:"relative",borderRadius:"".concat(o[1],"px"),color:s.default.enabled.fg,boxShadow:NY({color:s.default.enabled.border,width:i.border.width}),"& > .content":{position:"relative",lineHeight:0,margin:"-".concat(a," 0 0 -").concat(a)},"& > .content > div":{display:"inline-block",verticalAlign:"top",padding:"".concat(a," 0 0 ").concat(a)},"&:not([data-read-only])":{cursor:"text"},"@media(hover:hover):not([data-disabled]):not([data-read-only]):hover":{borderColor:s.default.hovered.border},"&:not([data-disabled]):not([data-read-only])[data-focused]":{boxShadow:UUn({border:{color:s.default.enabled.border,width:i.border.width},focusRing:r})},"*:disabled + &":{color:s.default.disabled.fg,backgroundColor:s.default.disabled.bg,boxShadow:NY({color:s.default.disabled.border,width:i.border.width})}}}),HUn=F.input(n=>{const{theme:e}=n,r=e.sanity.fonts.text,i=e.sanity.color.input,o=e.sanity.space[2],s=e.sanity.fonts.text.sizes[2];return{appearance:"none",background:"none",border:0,borderRadius:0,outline:"none",fontSize:Je(s.fontSize),lineHeight:s.lineHeight/s.fontSize,fontFamily:r.family,fontWeight:r.weights.regular,margin:0,display:"block",minWidth:"1px",maxWidth:"100%",boxSizing:"border-box",paddingTop:Je(o-s.ascenderHeight),paddingRight:Je(o),paddingBottom:Je(o-s.descenderHeight),paddingLeft:Je(o),"&:not(:invalid):not(:disabled)":{color:i.default.enabled.fg},"&:not(:invalid):disabled":{color:i.default.disabled.fg}}}),WUn=F(te)(n=>{const{theme:e}=n,r=e.sanity.color.input;return Ae(l2e||(l2e=$et([`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    pointer-events: none;
    --card-fg-color: `,`;
  `])),r.default.enabled.placeholder)}),GUn=F(te)(c2e||(c2e=$et([`
  // This is needed to make textOverflow="ellipsis" work properly for the Text primitive
  max-width: 100%;
`]))),Met=p.forwardRef((n,e)=>{const{disabled:r,onChange:i,onFocus:o,placeholder:s,readOnly:a,value:l=[],...c}=n,{t:u}=me(eI),[f,h]=p.useState(""),m=!r&&!a,[g,v]=p.useState(!1),y=Ko(e),b=p.useRef(null),x=p.useCallback(A=>{if(Xp(A.target)&&A.target.closest('[data-ui="Tag"]'))return;const D=y.current;D&&setTimeout(()=>D.focus(),0)},[y]),_=p.useCallback(()=>{v(!1)},[]),w=p.useCallback(A=>{h(A.currentTarget.value)},[]),C=p.useCallback(A=>{v(!0),o&&o(A)},[o]),S=p.useCallback(A=>{if(A.key==="Enter"&&(A.preventDefault(),A.stopPropagation(),i&&f)){const I=l.concat([{value:f}]);h(""),i&&i(I)}},[f,i,l]),T=p.useCallback(A=>{if(!i)return;const I=l.slice(0);I.splice(A,1),i(I)},[i,l]);return p.useEffect(()=>{const A=y.current;A&&(A.style.width="0",A.style.width="".concat(A.scrollWidth,"px"))},[y,f]),d.jsxs(VUn,{"data-disabled":r?"":void 0,"data-focused":g?"":void 0,"data-read-only":a?"":void 0,"data-ui":"TagInput",onPointerDown:x,overflow:"auto",padding:1,ref:b,children:[m&&d.jsx(WUn,{hidden:!!(f||l.length),padding:3,children:d.jsx(J,{textOverflow:"ellipsis",children:s||u("inputs.tags.placeholder",{context:typeof window<"u"&&"ontouchstart"in window?"touch":void 0})})}),d.jsxs("div",{className:"content",children:[l.map((A,I)=>d.jsx(GUn,{children:d.jsx(qUn,{enabled:m,index:I,muted:!m,onRemove:T,tag:A})},"tag-".concat(I))),d.jsx("div",{children:d.jsx(HUn,{...c,disabled:!m,onBlur:_,onChange:w,onFocus:C,onKeyDown:S,ref:y,type:"text",value:f})},"tag-input")]})]})});Met.displayName="TagInput";function qUn(n){const{enabled:e,index:r,muted:i,onRemove:o,tag:s}=n,a=p.useCallback(()=>{o(r)},[r,o]);return d.jsx(ke,{"data-ui":"Tag",radius:2,tone:"transparent",children:d.jsxs(oe,{align:"center",gap:1,children:[d.jsx(te,{flex:1,paddingY:2,paddingLeft:2,children:d.jsx(J,{muted:i,textOverflow:"ellipsis",children:s.value})}),e&&d.jsx(ze,{icon:Is,mode:"bleed",onClick:a,tooltipProps:{content:"Remove"}})]})})}function KUn(n){const{onChange:e,readOnly:r,value:i=[],elementProps:o,path:s,changed:a}=n,l=p.useMemo(()=>i==null?void 0:i.map(u=>({value:u})),[i]),c=p.useCallback(u=>{e(u.length===0?un():rn(u.map(f=>f.value)))},[e]);return d.jsx(_l,{path:s,isChanged:a,hasFocus:!1,children:d.jsx(Met,{onChange:c,readOnly:r,value:l,...o})})}const YUn=["string","number","boolean"];function ZUn(n){return n.of.every(e=>YUn.includes(e.jsonType))}function XUn(n){return n.of.length===1&&Ip("string",n.of[0])}function QUn(n){var e;return((e=n.options)==null?void 0:e.layout)==="tags"}function JUn(n){return n.of.some(e=>Ip("block",e))}function ezn(n){var e;return!!((e=n.options)!=null&&e.list)}function tzn(n){return XUn(n)&&QUn(n)?KUn:ezn(n)?BJe:ZUn(n)?UJe:JUn(n)?BUn:NJe}function nzn(n){return xQ(n)?n:{title:iw("".concat(n)),value:n}}const u2e={title:"",value:void 0};function Fet(n){var e,r;const{value:i,readOnly:o,validationError:s,schemaType:a,onChange:l,path:c,changed:u,focused:f,elementProps:h}=n,m=p.useMemo(()=>{var S;return(((S=a.options)==null?void 0:S.list)||[]).map(nzn)},[(e=a.options)==null?void 0:e.list]),g=m.find(S=>S.value===i),v=a.options&&a.options.layout==="radio",y=p.useCallback(S=>{const T=Number(S);return m[T]},[m]),b=p.useCallback(S=>String(m.indexOf(S)),[m]),x=p.useId(),_=p.useCallback(S=>{l(In.from(typeof(S==null?void 0:S.value)>"u"?un():rn(S.value)))},[l]),w=p.useCallback(S=>{const T=y(S.currentTarget.value);if(!T){_(u2e);return}_(T)},[_,y]),C=v?d.jsx(rzn,{...h,value:g,inputId:x,items:m,direction:((r=a.options)==null?void 0:r.direction)||"vertical",customValidity:s,onChange:_,readOnly:o}):d.jsx(Sx,{...h,customValidity:s,value:b(g),readOnly:o,onChange:w,children:[u2e,...m].map((S,T)=>d.jsx("option",{value:T-1,children:S.title},"".concat(T-1)))});return d.jsx(_l,{path:c,isChanged:u,hasFocus:!!f,children:C})}const rzn=p.forwardRef(function(e,r){const{items:i,value:o,onChange:s,onFocus:a,readOnly:l,customValidity:c,direction:u,inputId:f}=e,h=u==="horizontal"?to:Se;return d.jsx(ke,{border:!0,padding:3,radius:2,children:d.jsx(h,{space:3,role:"group",children:i.map((m,g)=>d.jsx(izn,{customValidity:c,inputId:f,item:m,onChange:s,onFocus:a,readOnly:l,ref:g===0?r:null,value:o},g))})})}),izn=p.forwardRef(function(e,r){const{customValidity:i,inputId:o,item:s,onChange:a,onFocus:l,readOnly:c,value:u}=e,f=p.useCallback(()=>{a(s)},[s,a]);return d.jsxs(oe,{as:"label",align:"center",children:[d.jsx($Bt,{ref:r,checked:u===s,onChange:f,onFocus:l,readOnly:c,customValidity:i,name:o}),d.jsx(te,{marginLeft:2,children:d.jsx(J,{size:1,weight:"medium",children:s.title})})]})});function ozn(n){return hJe(n,"list")?Fet:VJe}function szn(n){return hJe(n,"list")?Fet:GJe}function azn(n){if(Ip("array",n))return tzn(n);if(Ip("reference",n))return ZFn;if(Ip("string",n))return szn(n);if(Ip("number",n))return ozn(n)}function lzn(n){var e;if((e=n.components)!=null&&e.input)return n.components.input;const r=azn(n);if(r)return r;const o=Xie(n,new Set).reduce((a,l)=>(a[l.name]=l,a),{}),s=Object.values(o).find(a=>VCe[a.name]);if(s)return VCe[s.name];throw new Error("Could not find input component for schema type `".concat(n.name,"`"))}function czn(n){var e;return(e=n.components)!=null&&e.preview?n.components.preview:am}function uzn(n){let{readOnly:e,hasErrors:r,hasWarnings:i}=n;return e?"transparent":r?"critical":i?"caution":"default"}const dzn={portal:!0,tone:"default"},fzn={position:"relative"};function hzn(n){var e,r,i,o,s,a;const{schemaType:l,parentSchemaType:c,path:u,readOnly:f,onRemove:h,value:m,open:g,onInsert:v,onFocus:y,onOpen:b,onClose:x,changed:_,focused:w,children:C,inputProps:{renderPreview:S}}=n,{t:T}=me(),A=!f&&((e=c.options)==null?void 0:e.sortable)!==!1,I=c.of,D=p.useRef(null);UN(D,g),rc(w,(le,K)=>{var Q;!le&&K&&D.current&&((Q=D.current)==null||Q.focus())});const R=m._resolvingInitialValue,P=p.useCallback(()=>{v({items:[{...m,_key:tI()}],position:"after"})},[v,m]),O=p.useCallback((le,K)=>{v({items:[t2(K)],position:le})},[v]),$=QS(u,!0),L=p.useMemo(()=>$.length===0?null:d.jsx(HD,{presence:$,maxAvatars:1}),[$]),M=Aie(u,!0),N=p.useMemo(()=>M.length===0?null:d.jsx(te,{paddingX:1,paddingY:3,children:d.jsx(JS,{validation:M,__unstable_showSummary:!0})}),[M]),z=M.some(le=>le.level==="error"),B=M.some(le=>le.level==="warning"),H=p.useMemo(()=>f?null:d.jsx(Vr,{button:d.jsx(ha,{paddingY:3}),id:"".concat(n.inputId,"-menuButton"),menu:d.jsxs(_r,{children:[d.jsx(Wt,{text:T("inputs.array.action.remove"),tone:"critical",icon:vs,onClick:h}),d.jsx(Wt,{text:T("inputs.array.action.duplicate"),icon:Np,onClick:P}),d.jsx(KN,{types:I,onInsert:O})]}),popover:dzn}),[P,O,h,I,n.inputId,f,T]),X=uzn({readOnly:f,hasErrors:z,hasWarnings:B}),G=d.jsx(YN,{menu:H,presence:L,validation:N,tone:X,focused:w,dragHandle:A,selected:g,children:d.jsxs(ke,{as:"button",type:"button",tone:"inherit",radius:1,disabled:R,onClick:b,ref:D,onFocus:y,__unstable_focusRing:!0,style:fzn,children:[S({schemaType:n.schemaType,value:n.value,layout:"default",skipVisibilityCheck:!0}),R&&d.jsx(Zr,{fill:!0})]})}),ne=nx(l);return d.jsxs(d.Fragment,{children:[d.jsx(_l,{path:u,isChanged:_,hasFocus:!!w,children:d.jsx(te,{paddingX:1,children:G})}),g&&d.jsx($Je,{header:f?T("inputs.array.action.view",{itemTypeTitle:ne}):T("inputs.array.action.edit",{itemTypeTitle:ne}),type:((i=(r=c==null?void 0:c.options)==null?void 0:r.modal)==null?void 0:i.type)||"dialog",width:(a=(s=(o=c==null?void 0:c.options)==null?void 0:o.modal)==null?void 0:s.width)!=null?a:1,id:m._key,onClose:x,autofocus:w,legacy_referenceElement:D.current,children:C})]})}function pzn(n){const{menuRef:e,containerRef:r}=n;return d.jsx(wJe.Provider,{value:{menuRef:e,containerRef:r},children:n.children})}function mzn(n){let{readOnly:e,hasErrors:r,hasWarnings:i}=n;return e?"transparent":r?"critical":i?"caution":"default"}const gzn={portal:!0,tone:"default"};function vzn(n){var e,r,i,o,s,a,l;const{schemaType:c,parentSchemaType:u,path:f,readOnly:h,onRemove:m,value:g,open:v,onInsert:y,presence:b,validation:x,inputId:_,changed:w,focused:C,children:S,inputProps:{onChange:T,focusPath:A,onPathFocus:I,renderPreview:D,elementProps:R}}=n,P=!h&&((e=u.options)==null?void 0:e.sortable)!==!1,O=u.of,$=p.useRef(null),L=p.useRef(null),M=p.useRef(null),{EditReferenceLink:N,getReferenceInfo:z,selectedState:B,isCurrentDocumentLiveEdit:H}=Zie({path:f,schemaType:c,value:g});UN($,v),rc(C,(gt,At)=>{var Dt;!gt&&At&&$.current&&((Dt=$.current)==null||Dt.focus())});const X=n.validation.some(gt=>gt.level==="error"),G=n.validation.some(gt=>gt.level==="warning"),ne=g._resolvingInitialValue,le=p.useCallback(()=>{y({items:[{...g,_key:tI()}],position:"after"})},[y,g]),K=p.useCallback((gt,At)=>{y({items:[{...t2(At),_key:tI()}],position:gt})},[y]),Q=VN(g==null?void 0:g._ref,z),re=g._ref,se=((r=Q.result)==null?void 0:r.type)||((i=g==null?void 0:g._strengthenOnPublish)==null?void 0:i.type),de=re&&((a=(s=(o=Q.result)==null?void 0:o.preview)==null?void 0:s.published)==null?void 0:a._id),fe=p.useCallback(()=>{T([c.weak===!0?rn(!0,["_weak"]):un(["_weak"]),un(["_strengthenOnPublish"])])},[T,c.weak]),we=se?c.to.find(gt=>gt.name===se):void 0,ye=B==="pressed",ve=B==="selected",_e=mzn({readOnly:h,hasErrors:X,hasWarnings:G}),ge=!re||A[0]==="_ref",{t:pe}=me(),Pe=p.useMemo(()=>p.forwardRef(function(At,Dt){return d.jsx(Sf,{...At,intent:"edit",params:{id:g==null?void 0:g._ref,type:we==null?void 0:we.name},target:"_blank",rel:"noopener noreferrer",ref:Dt})}),[we==null?void 0:we.name,g==null?void 0:g._ref]),Re=p.useCallback(()=>{I(re&&ge?[]:["_ref"])},[re,ge,I]),Fe=p.useMemo(()=>h?null:d.jsx(Vr,{button:d.jsx(ha,{paddingY:3}),id:"".concat(_,"-menuButton"),menu:d.jsxs(_r,{ref:L,children:[!h&&d.jsxs(d.Fragment,{children:[d.jsx(Wt,{text:pe("inputs.reference.action.remove"),tone:"critical",icon:vs,onClick:m}),d.jsx(Wt,{text:pe(re&&ge?"inputs.reference.action.replace-cancel":"inputs.reference.action.replace"),icon:re&&ge?Is:ES,onClick:Re}),d.jsx(Wt,{text:pe("inputs.reference.action.duplicate"),icon:Np,onClick:le}),d.jsx(KN,{onInsert:K,types:O})]}),!h&&!ge&&re&&d.jsx(Io,{}),!ge&&re&&d.jsx(Wt,{as:Pe,"data-as":"a",text:pe("inputs.reference.action.open-in-new-tab"),icon:Iy})]}),popover:gzn}),[le,K,Re,re,_,O,ge,m,Pe,h,pe]),Ye=p.useCallback(()=>{T(c.weak===!0?rn(!0,["_weak"]):un(["_weak"]))},[T,c]),He=g!=null&&g._weak?"weak":"strong",lt=c.weak===!0?"weak":"strong",Xe=re&&!Q.isLoading&&(g==null?void 0:g._strengthenOnPublish),st=!Q.isLoading&&((l=Q.result)==null?void 0:l.availability.available)&&re&&He!==lt&&!Xe,kt=d.jsxs(d.Fragment,{children:[H&&de&&g._strengthenOnPublish&&d.jsx(tJe,{schemaType:c,handleRemoveStrengthenOnPublish:fe}),st&&d.jsx(Yie,{actualStrength:He,handleFixStrengthMismatch:Ye}),Q.error&&d.jsx(Kie,{errorMessage:Q.error.message,onHandleRetry:Q.retry})]}),Ge=d.jsx(pzn,{menuRef:L,containerRef:M,children:d.jsx(YN,{dragHandle:P,presence:!ge&&b.length>0&&d.jsx(HD,{presence:b,maxAvatars:1}),validation:!ge&&x.length>0&&d.jsx(JS,{validation:x}),menu:Fe,footer:ge?void 0:kt,tone:ge?void 0:_e,focused:C,children:ge?d.jsx(te,{padding:1,ref:M,children:d.jsx(LN,{title:c.title,description:c.description,__unstable_presence:b,validation:x,inputId:_,deprecated:c.deprecated,children:S})}):d.jsxs(nJe,{as:N,tone:"inherit",radius:2,documentId:g==null?void 0:g._ref,documentType:we==null?void 0:we.name,disabled:ne,__unstable_focusRing:!0,selected:ve,pressed:ye,"data-selected":ve?!0:void 0,"data-pressed":ye?!0:void 0,...R,children:[d.jsx(eJe,{value:g,referenceInfo:Q,renderPreview:D,type:c}),ne&&d.jsx(Zr,{fill:!0})]})})});return d.jsx(_l,{path:f,isChanged:w,hasFocus:!!C,children:d.jsx(te,{paddingX:1,children:Ge})})}function yzn(n){var e;return(e=n.components)!=null&&e.item?n.components.item:Eg(n)?vzn:hzn}const bzn={isLoading:!0},xzn={isLoading:!1};function JN(n){const{enabled:e=!0,ordering:r,schemaType:i,value:o}=n||{},{observeForPreview:s}=Qa();return bs(()=>!e||!o||!i?Ke(xzn):s(o,i,{ordering:r}).pipe(Me(a=>({isLoading:!1,value:a.snapshot||void 0})),vi(a=>Ke({isLoading:!1,error:a}))),[e,s,r,i,o],bzn)}const wzn=typeof window>"u"?Vi:Jl(window,"orientationchange").pipe(Hs(1)),_zn=typeof window>"u"?Vi:Jl(window,"resize").pipe(Hs(1)),Ezn=typeof window>"u"?Vi:Jl(window,"scroll",{passive:!0,capture:!0}).pipe(Hs(1)),Net=150;function Czn(){return typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in IntersectionObserverEntry.prototype?("isIntersecting"in IntersectionObserverEntry.prototype||Object.defineProperty(IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}const Szn=Czn()?kzn():Tzn();function kzn(){const n=new ho,e=new IntersectionObserver(r=>{r.forEach(i=>{n.next(i)})},{threshold:0,rootMargin:"".concat(Net,"px")});return function(i){return new Un(o=>(e.observe(i),o.next(),()=>e.unobserve(i))).pipe(On(()=>n.asObservable()),Bn(o=>o.target===i),Me(o=>({isIntersecting:o.isIntersecting})))}}function Tzn(){function n(){return{left:0,right:window.innerWidth,top:0,bottom:window.innerHeight}}function e(i,o,s){return i.left<=o.right+s&&i.right>=o.left-s&&i.top<=o.bottom+s&&i.bottom>=o.top-s}function r(i){return()=>e(i.getBoundingClientRect(),n(),Net)}return function(o){const s=r(o);return ai(Ke(s()),_zn,Ezn,wzn).pipe(Me(s),Me(a=>({isIntersecting:a})))}}const Azn=typeof window>"u"?Vi:Jl(document,"visibilitychange").pipe(Hs(1));function Izn(n){const{element:e,hideDelay:r=0}=n,[i,o]=p.useState(!1);return p.useEffect(()=>{if(!e)return;const s=Go(Ke(!document.hidden),Azn.pipe(Me(u=>{var f;return u.target instanceof Document?!((f=u==null?void 0:u.target)!=null&&f.hidden):!1}))).pipe(Ro()),a=Szn(e).pipe(Me(u=>u.isIntersecting)),c=s.pipe(gn(u=>u?a:Ke(!1)),gn(u=>u?Ke(!0):Ke(!1).pipe(_8e(r))),Ro()).subscribe(o);return()=>c.unsubscribe()},[e,r]),i}const Dzn=1e3*2;function Rzn(n){return Ozn(n==null?void 0:n._upload)}function Lk(n){return ex(n)?n:void 0}function Ozn(n){var e,r;if(!$n(n))return;const i=typeof n.progress=="number"?n.progress:0,o=Lk(n.initiated||n.createdAt),s=Lk(n.updated||n.updatedAt),a=Lk((e=n==null?void 0:n.file)==null?void 0:e.name),l=Lk((r=n==null?void 0:n.file)==null?void 0:r.type),c=Lk(n.previewImage);if(o&&s&&a&&l)return{progress:i,createdAt:o,updatedAt:s,file:{name:a,type:l},previewImage:c}}function foe(n){const{layout:e,value:r,component:i,style:o,schemaType:s,skipVisibilityCheck:a,...l}=n,{t:c}=me(),[u,f]=p.useState(null),h=Izn({element:a?null:u,hideDelay:Dzn}),m=JN({enabled:a||h,schemaType:s,value:r}),g=p.useMemo(()=>({...o,minWidth:(o==null?void 0:o.minWidth)||1,minHeight:(o==null?void 0:o.minHeight)||1}),[o]),v=p.useMemo(()=>Rzn(r),[r]),y=p.useMemo(()=>{var b,x;return v!=null&&v.previewImage?d.jsx("img",{alt:c("preview.image.file-is-being-uploaded.alt-text"),src:v.previewImage}):(b=m==null?void 0:m.value)!=null&&b.media?(x=m==null?void 0:m.value)==null?void 0:x.media:s.icon},[m,s,v,c]);return d.jsx("div",{ref:f,style:g,children:p.createElement(i,{...l,...(m==null?void 0:m.value)||{},media:y,error:m==null?void 0:m.error,isPlaceholder:m==null?void 0:m.isLoading,layout:e,schemaType:s})})}var d2e=Object.freeze,Pzn=Object.defineProperty,Ug=(n,e)=>d2e(Pzn(n,"raw",{value:d2e(e||n.slice())})),f2e,h2e,p2e,m2e,g2e,v2e,y2e,b2e,x2e;const jzn=F(ke)(n=>{const{color:e,radius:r,space:i}=n.theme.sanity,o=Ae(f2e||(f2e=Ug([`
    pointer-events: none;
    content: '';
    position: absolute;
    top: -`,`px;
    bottom: -`,`px;
    left: -`,`px;
    right: -`,`px;
    border-radius: `,`px;
    mix-blend-mode: `,`;
  `])),i[1],i[1],i[1],i[1],r[2],e.dark?"screen":"multiply");return Ae(h2e||(h2e=Ug([`
    box-shadow: 0 0 0 1px var(--card-border-color);
    border-radius: `,`px;
    pointer-events: all;
    position: relative;

    &[data-focused] {
      --card-border-color: var(--card-focus-ring-color);
    }

    &:not([data-focused]):not([data-selected]) {
      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-markers] {
      &:after {
        `,`
        background-color: `,`;
      }
    }

    &[data-warning] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }

    &[data-invalid] {
      &:after {
        `,`
        background-color: `,`;
      }

      @media (hover: hover) {
        &:hover {
          --card-border-color: `,`;
        }
      }
    }
  `])),r[1],e.input.default.hovered.border,o,e.dark?Kt.purple[950].hex:Kt.purple[50].hex,o,e.muted.caution.hovered.bg,e.muted.caution.hovered.border,o,e.input.invalid.enabled.bg,e.input.invalid.hovered.border)}),Lzn=F(te)(p2e||(p2e=Ug([`
  display: block;
  width: 100%;
  user-select: none;
  pointer-events: all;
`]))),$zn=F.div(n=>{let{theme:e,$hasChanges:r}=n;const{space:i}=e.sanity;return Ae(g2e||(g2e=Ug([`
      position: absolute;
      width: `,`px;
      right: 0;
      top: 0;
      bottom: 0;
      padding-left: `,`px;
      user-select: none;

      `,`

      [data-dragged] & {
        visibility: hidden;
      }
    `])),i[2],i[1],!r&&Ae(m2e||(m2e=Ug([`
        display: none;
      `]))))}),Mzn=F(oe)(v2e||(v2e=Ug([`
  position: relative;

  [data-dragged] > & {
    opacity: 0.5;
  }
`]))),Fzn=F(te)(y2e||(y2e=Ug([`
  width: 25px;
  position: relative;

  [data-dragged] & {
    visibility: hidden;
  }
`]))),Nzn=F(oe)(b2e||(b2e=Ug([`
  position: absolute;
  right: 0;
  [data-dragged] & {
    visibility: hidden;
  }
`]))),Bzn=F(te)(x2e||(x2e=Ug([`
  max-width: 250px;
`]))),Uzn={constrainSize:!0,placement:"bottom",portal:"default",tone:"default"};function zzn(n){const{children:e,focused:r,isOpen:i,onOpen:o,onRemove:s,readOnly:a,value:l}=n,{t:c}=me(),u=p.useId(),f=p.useRef(null),h=p.useRef(!1),m=p.useMemo(()=>qp(l)?p.forwardRef(function(y,b){return d.jsx(Sf,{...y,intent:"edit",params:{id:l._ref},ref:b})}):void 0,[l]);p.useEffect(()=>{i&&(h.current=!1)},[i]),wu(p.useCallback(v=>{r&&v.key==="Tab"&&f.current&&!h.current&&!i&&(v.preventDefault(),v.stopPropagation(),f.current.focus(),h.current=!0)},[r,i]));const g=p.useCallback(v=>{v.preventDefault(),v.stopPropagation(),s()},[s]);return d.jsxs(oe,{children:[d.jsx(te,{flex:1,children:e}),d.jsx(te,{children:d.jsx(Vr,{button:d.jsx(ze,{"aria-label":c("inputs.portable-text.block.open-menu-aria-label"),icon:I8,mode:"bleed",paddingY:3,tabIndex:r?0:1,tooltipProps:{content:"Open menu"}}),ref:f,id:u,menu:d.jsx(_r,{children:d.jsxs(d.Fragment,{children:["_ref"in l&&l._ref&&d.jsx(Wt,{as:m,"data-as":"a",icon:ff,text:c("inputs.portable-text.block.open-reference")}),a&&d.jsx(Wt,{icon:vJ,onClick:o,text:c("inputs.portable-text.block.view")}),!a&&d.jsx(Wt,{icon:df,onClick:o,text:c("inputs.portable-text.block.edit")}),!a&&d.jsx(Wt,{icon:vs,onClick:g,text:c("inputs.portable-text.block.remove"),tone:"critical"})]})}),popover:Uzn})})]})}function Vzn(n){var e;const{floatingBoundary:r,focused:i,isFullscreen:o,onItemClose:s,onItemOpen:a,onPathFocus:l,path:c,readOnly:u,referenceBoundary:f,relativePath:h,renderAnnotation:m,renderBlock:g,renderBlockActions:v,renderCustomMarkers:y,renderField:b,renderInlineBlock:x,renderInput:_,renderItem:w,renderPreview:C,schemaType:S,selected:T,value:A}=n,{onChange:I}=Af(),{Markers:D}=om().__internal.components,[R,P]=p.useState(!1),O=PN(c),$=fa(),L=NN(Oi(c)),M=p.useRef(!1),N=p.useMemo(()=>({anchor:{path:h,offset:0},focus:{path:h,offset:0}}),[h]),z=p.useCallback(()=>P(!0),[]),B=p.useCallback(()=>P(!1),[]),H=p.useCallback(()=>{L&&(ut.blur($),a(L.node.path))},[$,L,a]),X=p.useCallback(()=>{s(),ut.select($,N),ut.focus($)},[s,$,N]),G=p.useCallback(()=>{if(!M.current)try{ut.delete($,N,{mode:"blocks"})}catch(Fe){console.error(Fe)}finally{M.current=!0}},[$,N]);p.useEffect(()=>()=>{M.current&&ut.focus($)},[$]);const ne=p.useMemo(()=>o&&!v?{paddingX:5}:o&&v?{paddingLeft:5,paddingRight:2}:v?{paddingLeft:3,paddingRight:2}:{paddingX:3},[o,v]),{validation:le,hasError:K,hasWarning:Q,hasInfo:re}=ON(L==null?void 0:L.node),se=$.schemaTypes.portableText,de=O.length>0,fe=QS(c,!0),we=p.useMemo(()=>fe.filter(Fe=>Ui(Fe.path,c)),[c,fe]),ye=K||Q||re||de,ve=p.useMemo(()=>ye&&d.jsx(Bzn,{children:d.jsx(D,{markers:O,validation:le,renderCustomMarkers:y})})||null,[D,O,y,ye,le]),_e=!!(L!=null&&L.member.open),ge=L==null?void 0:L.input,pe=(L==null?void 0:L.node.path)||ri,Pe=(e=L==null?void 0:L.elementRef)==null?void 0:e.current,Re=p.useMemo(()=>({__unstable_floatingBoundary:r,__unstable_referenceBoundary:f,__unstable_referenceElement:Pe||null,children:ge,focused:i,markers:O,onClose:X,onOpen:H,onPathFocus:l,onRemove:G,open:_e,parentSchemaType:se,path:pe,presence:we,readOnly:!!u,renderAnnotation:m,renderBlock:g,renderDefault:Bet,renderField:b,renderInlineBlock:x,renderInput:_,renderItem:w,renderPreview:C,schemaType:S,selected:T,validation:le,value:A}),[r,Pe,ge,i,O,X,H,l,G,_e,se,pe,we,u,f,m,g,b,x,_,w,C,S,T,le,A]);return p.useMemo(()=>d.jsx(te,{ref:L==null?void 0:L.elementRef,contentEditable:!1,children:d.jsx(oe,{paddingBottom:1,marginY:3,style:void 0,children:d.jsxs(Mzn,{flex:1,children:[d.jsx(zn,{placement:"top",portal:"editor",disabled:_e?!0:!ye,content:ve,children:d.jsx(Lzn,{...ne,children:g&&g(Re)})}),d.jsx(Fzn,{marginRight:1,children:d.jsx(Nzn,{children:v&&A&&i&&!u&&d.jsx(yet,{block:A,onChange:I,renderBlockActions:v})})}),o&&L&&d.jsx($zn,{$hasChanges:L.member.item.changed,onMouseOut:B,onMouseOver:z,children:d.jsx(vet,{hasFocus:i,isChanged:L.member.item.changed,path:L.member.item.path,withHoverEffect:!1})}),R&&d.jsx(get,{})]})})}),[Re,i,B,z,ne,o,L,I,u,g,v,R,ve,ye,A,_e])}const Bet=n=>{const{__unstable_floatingBoundary:e,__unstable_referenceBoundary:r,__unstable_referenceElement:i,children:o,focused:s,markers:a,onClose:l,onOpen:c,onRemove:u,open:f,readOnly:h,renderPreview:m,schemaType:g,selected:v,value:y,validation:b}=n,{t:x}=me(),_=Svt(y),w=b.filter(I=>I.level==="error").length>0,C=b.filter(I=>I.level==="warning").length>0,S=a.length>0,T=v||s?"primary":"default",A=p.useCallback(I=>{I.preventDefault(),I.stopPropagation(),c()},[c]);return d.jsxs(d.Fragment,{children:[d.jsx(jzn,{"aria-label":x("inputs.portable-text.block.aria-label"),"data-focused":s?"":void 0,"data-image-preview":_?"":void 0,"data-invalid":w?"":void 0,"data-markers":S?"":void 0,"data-read-only":h?"":void 0,"data-selected":v?"":void 0,"data-testid":"pte-block-object","data-warning":C?"":void 0,flex:1,onDoubleClick:A,padding:_?0:1,tone:T,children:m({actions:d.jsx(zzn,{isOpen:f,focused:s,onOpen:c,onRemove:u,readOnly:h,value:y}),layout:_?"blockImage":"block",schemaType:g,skipVisibilityCheck:!0,value:y})}),f&&d.jsx(Gie,{floatingBoundary:e,defaultType:"dialog",onClose:l,autoFocus:s,schemaType:g,referenceBoundary:r,referenceElement:i,children:o})]})};function Hzn(n){var e;return(e=n.components)!=null&&e.block?n.components.block:kN(n)?Aet:Bet}function Wzn(n){var e;return(e=n.components)!=null&&e.inlineBlock?n.components.inlineBlock:Let}function Gzn(n){var e;return(e=n.components)!=null&&e.annotation?n.components.annotation:PY}function gw(n){const{componentResolver:e,componentProps:r}=n;if(!r.schemaType)throw new Error("the `schemaType` property must be defined");const i=e(r.schemaType),o=p.useCallback(s=>{var a;if(!((a=s.schemaType)!=null&&a.type))throw new Error("Attempted to render form component of non-existent parent type");const{components:l,...c}=s.schemaType,u=e(c);return p.createElement(u,s)},[e]);return p.createElement(i,{...r,renderDefault:o})}function qzn(n){return gw({componentProps:n,componentResolver:lzn})}function Kzn(n){return gw({componentProps:n,componentResolver:EFn})}function Yzn(n){return gw({componentProps:n,componentResolver:yzn})}function Zzn(n){return gw({componentProps:n,componentResolver:czn})}function Xzn(n){return gw({componentProps:n,componentResolver:Hzn})}function Qzn(n){return gw({componentProps:n,componentResolver:Wzn})}function Jzn(n){return gw({componentProps:n,componentResolver:Gzn})}function eVn(n){var e,r;return(r=(e=n.form)==null?void 0:e.components)==null?void 0:r.input}function tVn(n){var e,r;return(r=(e=n.form)==null?void 0:e.components)==null?void 0:r.field}function nVn(n){var e,r;return(r=(e=n.form)==null?void 0:e.components)==null?void 0:r.preview}function rVn(n){var e,r;return(r=(e=n.form)==null?void 0:e.components)==null?void 0:r.item}function iVn(n){var e,r;return(r=(e=n.form)==null?void 0:e.components)==null?void 0:r.block}function oVn(n){var e,r;return(r=(e=n.form)==null?void 0:e.components)==null?void 0:r.inlineBlock}function sVn(n){var e,r;return(r=(e=n.form)==null?void 0:e.components)==null?void 0:r.annotation}function Uet(){return Tf({defaultComponent:qzn,pick:eVn})}function zet(){return Tf({defaultComponent:Kzn,pick:tVn})}function hoe(){return Tf({defaultComponent:Zzn,pick:nVn})}function Vet(){return Tf({defaultComponent:Yzn,pick:rVn})}function Het(){return Tf({defaultComponent:Xzn,pick:iVn})}function Wet(){return Tf({defaultComponent:Qzn,pick:oVn})}function Get(){return Tf({defaultComponent:Jzn,pick:sVn})}function XD(n){const e=hoe();return d.jsx(foe,{...n,component:e})}const aVn={block:Ntr,blockImage:jtr,compact:Xer,default:rrt,detail:utr,inline:Wtr,media:Ttr};function lVn(){return d.jsx(gh,{className:"sanity-studio__preview-fallback-icon"})}function am(n){const{icon:e,layout:r,media:i,imageUrl:o,title:s,tooltip:a,...l}=n,c=Jr(Dr),u=p.useMemo(()=>kD(c),[c]),f=p.useCallback(b=>{const{dimensions:x}=b;return d.jsx("img",{alt:ex(s)?s:void 0,referrerPolicy:"strict-origin-when-cross-origin",src:u.image(i).width(x.width||100).height(x.height||100).fit(x.fit).dpr(x.dpr||1).url()||""})},[u,i,s]),h=p.useCallback(()=>p.createElement(e||lVn),[e]),m=p.useMemo(()=>e===!1?!1:Xr.isValidElementType(i)||p.isValidElement(i)?i:tC(i)?f:ex(o)?d.jsx("img",{src:o,alt:ex(s)?s:void 0,referrerPolicy:"strict-origin-when-cross-origin"}):h,[e,o,i,h,f,s]),g=p.useMemo(()=>({...l,media:m,title:s}),[m,l,s]),v=aVn[r||"default"],y=p.createElement(v,g);return a?d.jsx(zn,{content:a,disabled:!a,fallbackPlacements:["top-end"],placement:"bottom-end",children:d.jsx("div",{children:y})}):y}const qet=["_id","_rev","_type"],cVn=[...qet,"_key"],w2e={available:!0,reason:"READABLE"},uVn={available:!1,reason:"PERMISSION_DENIED"},dVn={available:!1,reason:"NOT_FOUND"},fVn={title:"Invalid preview config",subtitle:"Check the error log in the console",media:d.jsx(as,{})};function r$(n,e){let r,i={},o=0;return function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return new Un(f=>{clearTimeout(r),r=setTimeout(s,e);const h={args:c,observer:f,completed:!1},m=o++;return i[m]=h,()=>{h.completed=!0}})};function s(){const a=i;i={};const l=Object.keys(a).filter(u=>{const f=a[u];return f&&!f.completed});if(l.length===0)return;const c=l.map(u=>{const f=a[u];return f&&f.args}).filter(Ws);n(c).subscribe({next(u){u.forEach((f,h)=>{const m=a[l[h]];m&&!m.completed&&m.observer.next(u[h])})},complete(){l.forEach(u=>{const f=a[u];f&&!f.completed&&f.observer.complete()})},error(u){l.forEach(f=>{const h=a[f];h&&!h.completed&&h.observer.error(u)})}})}}const hVn=11164;function pVn(n){let e=[],r=0;const i=[];for(const o of n)r+o.length+1>=hVn&&(i.push(e),e=[],r=0),r+=o.length+1,e.push(o);return i.includes(e)||i.push(e),i}function mVn(n,e){return n.push(...e),n}function Ket(n,e){function r(a){const l=wl(a),c=di(a);return Da([i(l),i(c)]).pipe(Ro(Lg),Me(u=>{let[f,h]=u;return{draft:f,published:h}}))}function i(a){return e({_ref:a},[["_rev"]]).pipe(Me(l=>$n(l)&&!!("_rev"in l&&(l!=null&&l._rev))),Ro(),gn(l=>l?Ke(w2e):o(a)))}const o=r$(function(l){const c=[...new Set(Ji(l))];return Gi(pVn(c)).pipe(On(s,10),v8e(mVn,[]),Me(u=>l.map(f=>{let[h]=f;return u[c.indexOf(h)]})))},1);function s(a){return ms(()=>{const l={uri:n.getDataUrl("doc",a.join(",")),json:!0,query:{excludeContent:"true"},tag:"preview.documents-availability"};return n.observable.request(l).pipe(Me(c=>{const u=mre(c.omitted||[],f=>f.id);return a.map(f=>{const h=u[f];if(!h)return w2e;if(h.reason==="existence")return dVn;if(h.reason==="permission")return uVn;throw new Error('Unexpected reason for omission: "'.concat(h.reason,'"'))})}))})}return{observeDocumentPairAvailability:r}}function Yet(n){return Object.keys(n)}function _2e(n,e,r){return{...n,[e]:r}}function gVn(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e=>new Un(r=>e.subscribe(r)).pipe(gn(r=>{const i=Yet(r).map(o=>{const s=r[o];return vyt(s)?Gi(s).pipe(Me(a=>[o,a])):Ke([o,s])});return n.wait?Da(i).pipe(Me(o=>o.reduce((s,a)=>{let[l,c]=a;return _2e(s,l,c)},{}))):Gi(i).pipe(W4(),rd((o,s)=>{let[a,l]=s;return _2e(o,a,l)},{}))}))}function vVn(n){return n.reduce((e,r)=>(e[r]=void 0,e),{})}function yVn(n,e){return e.filter(r=>!(r[0]in n))}function bVn(n){return qp(n)?n._ref:"_id"in n?n._id:void 0}function BY(n,e,r,i){if(!n||typeof n!="object")return Ke(n);const o=bVn(n),s=o?{...n,_id:o}:{...n};s._type==="reference"&&(delete s._type,delete s._ref,delete s._weak,delete s._dataset,delete s._projectId,delete s._strengthenOnPublish);const a=yVn(s,e);if(o&&a.length>0){const u=la(a.map(h=>h[0])),f=I4e(n)?{projectId:n._projectId,dataset:n._dataset}:i;return r(o,u,f).pipe(gn(h=>h===null?Ke(null):BY({...vVn(u),...qp(n)?{...n,...f}:n,...h},e,r,f)))}const l={};e.forEach(u=>{const[f,...h]=u;l[f]||(l[f]=[]),l[f].push(h)});const c=Object.keys(l).reduce((u,f)=>{const h=l[f].filter(m=>m.length>0);return h.length===0?u[f]=$n(n)?n[f]:void 0:u[f]=BY(n[f],h,r,i),u},s);return Ke(c).pipe(gVn({wait:!0}))}function xVn(n){return n.map(e=>typeof e=="string"?e.split("."):e)}function wVn(n){const{observeFields:e}=n;return{observePaths(r,i,o){return BY(r,xVn(i),e,o)}}}const _Vn=[["_createdAt"],["_updatedAt"]];function poe(n){const e=n==null?void 0:n.select;return e?(Object.values(e).map(i=>String(i).split("."))||[]).concat(_Vn):void 0}function EVn(n){return Array.isArray(n)&&(n.length===0||n.some(ka))}function CVn(n){const e=Array.isArray(n)&&n.find(ka);return!e||!e.children?"":e.children.filter(Yl).map(r=>r.text).join("")}const SVn=["_id","_type","_upload","_createdAt","_updatedAt"],sS=[],UY=(()=>{let n={};return{add:(e,r,i)=>{n[e.name]||(n[e.name]=[]),n[e.name].push({error:i,type:e,value:r})},getAll(){return n},clear(){n={}}}})(),kVn=LI(()=>{const n=UY.getAll(),r=Ji(Object.keys(n).map(i=>{const o=n[i];return vy(o,s=>s.error.message)})).length;r!==0&&(console.groupCollapsed("%cHeads up! Got ".concat(r===1?"error":"".concat(r," errors")," while preparing data for preview. Click for details."),"color: #ff7e7c"),Object.keys(n).forEach(i=>{const o=n[i],s=o[0];console.group('Check the preview config for schema type "'.concat(i,'": %o'),s.type.preview),vy(o,l=>l.error.message).forEach(l=>{var c;if(l.error.type==="returnValueError"){const u=typeof((c=l.type.preview)==null?void 0:c.prepare)=="function",{value:f,error:h}=l;console.log("Encountered an invalid ".concat(u?"return value when calling prepare(%o)":"value targeted by preview.select",":"),f),console.error(h)}if(l.error.type==="prepareError"){const{value:u,error:f}=l;console.log("Encountered an error when calling prepare(%o):",u),console.error(f)}}),console.groupEnd()}),console.groupEnd(),UY.clear())},1e3),$k=n=>e=>{const r=typeof e;return e===null||r==="undefined"||r==="string"||r==="number"||r==="boolean"?sS:[goe("returnValueError",new Error('The "'.concat(n,'" field should be a string, number, boolean, undefined or null, instead saw ').concat(moe(e))))]},TVn={media:()=>sS,title:$k("title"),subtitle:$k("subtitle"),description:$k("description"),imageUrl:$k("imageUrl"),date:$k("date")};function moe(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if($n(n)){const r=Object.keys(n),i=r.length>3?"...":"",o="object with keys ";return"".concat(e?o:"","{").concat(r.slice(0,3).join(", ")).concat(i,"}")}if(Array.isArray(n)){const r=n.length>3?"...":"",i="array with ";return"".concat(e?i:"","[").concat(n.map(o=>moe(o,!1))).concat(r,"]")}return"the ".concat(typeof n," ").concat(n)}function AVn(n,e){if(typeof e>"u")return sS;const r=TVn[n];return r&&r(e)||sS}function goe(n,e){return Object.assign(e,{type:n})}function IVn(n){return!io(n)||n===null?[goe("returnValueError",new Error("Invalid return value. Expected a plain object with at least a 'title' field, instead saw ".concat(moe(n))))]:Object.entries(n).reduce((e,r)=>{let[i,o]=r;return[...e,...AVn(i,o)]},sS)}function DVn(n){return{...n,errors:[...n.errors||[],...IVn(n.returnValue)]}}function RVn(n){return Yet(n).reduce((e,r)=>{const i=n[r];return{...e,[r]:EVn(i)?CVn(i):i}},{})}function zY(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var i;const o=(i=n.preview)==null?void 0:i.prepare;try{return{returnValue:o?o(e,r):RVn(e),errors:sS}}catch(s){return{returnValue:null,errors:[goe("prepareError",s)]}}}function E2e(n,e,r){return n.errors.forEach(i=>UY.add(e,r,i)),kVn(),fVn}function OVn(n){const e=n.options&&typeof n.options=="object"?n.options:!1;if(!e||!("list"in e))return!1;const r=e.list;return Array.isArray(r)}function PVn(n){return OVn(n)?n.options.list.map(r=>xQ(r)?r:{title:r,value:r}):void 0}function GF(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var i,o;const s=typeof((i=e.preview)==null?void 0:i.prepare)=="function",a=((o=e.preview)==null?void 0:o.select)||{},c=Object.keys(a).reduce((h,m)=>{var g;const v="fields"in e?e:null,y=a[m],b=(g=v==null?void 0:v.fields)==null?void 0:g.find(_=>_.name===y),x=b&&PVn(b.type);if(!s&&x){const _=x&&x.find(w=>w.value===ko(n,a[m]));h[m]=_?_.value:ko(n,a[m])}else h[m]=ko(n,a[m]);return h},{}),u=zY(e,c,r);if(u.errors.length>0)return E2e(u,e,c);const f=DVn(zY(e,c,r));return f.errors.length>0?E2e(f,e,c):{...lr(n,SVn),...u.returnValue}}function jVn(n){return io(n)}function LVn(n){return io(n)}function $Vn(n){const{observeDocumentTypeFromId:e,observePaths:r}=n;return function i(o,s,a,l){if(bQ(s)){if(!I4e(o))return Ke({snapshot:void 0});const u={projectId:o._projectId,dataset:o._dataset};return e(o._ref,u).pipe(gn(f=>{if(f){const h=s.to.find(m=>m.type===f);return i(o,h,{},u)}return Ke({snapshot:void 0})}))}if(Eg(s))return LVn(o)?e(o._ref).pipe(gn(u=>{if(u){const f=s.to.find(h=>h.name===u);return i(o,f)}return Ke({snapshot:void 0})})):Ke({snapshot:void 0});const c=poe(s.preview);return c?r(o,c,l).pipe(Me(u=>({type:s,snapshot:u&&GF(u,s,a)}))):Ke({type:s,snapshot:o&&jVn(o)?zY(s,o,a).returnValue:null})}}function MVn(n,e){const{observeDocumentPairAvailability:r}=Ket(n,e),i=[["_updatedAt"],["_createdAt"],["_type"]];return{observePathsDocumentPair:o};function o(s,a){const{draftId:l,publishedId:c}=cXe(s);return r(l).pipe(gn(u=>{if(!u.draft.available&&!u.published.available)return Ke({id:c,type:null,draft:{availability:u.draft,snapshot:void 0},published:{availability:u.published,snapshot:void 0}});const f=[...a,...i];return Da([e({_type:"reference",_ref:l},f),e({_type:"reference",_ref:c},f)]).pipe(Me(h=>{let[m,g]=h;const v=$n(m)&&"_type"in m&&m._type||$n(g)&&"_type"in g&&g._type||null;return{id:c,type:typeof v=="string"?v:null,draft:{availability:u.draft,snapshot:m},published:{availability:u.published,snapshot:g}}}))}))}}function FVn(n){return(e,r)=>e===r?!0:!e||!r||typeof e!="object"||typeof r!="object"?!1:n.every(i=>e[i]===r[i])}const NVn=n=>n;function BVn(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NVn,r,i;for(let o=0;o<n.length;o++){if(o===0){r=e(n[o]);continue}if(i=e(n[o]),r!==i)return!1;r=i}return!0}function UVn(n){return pkn(n.reduce((e,r,i)=>{let[o,s]=r;const a=lw(s.join(","),KHe).join(".");e[a]||(e[a]={fields:s,ids:[],map:[]});const l=e[a].ids.length;return e[a].ids[l]=o,e[a].map[l]=i,e},{}))}function zVn(n){return JSON.stringify(n)}const VVn=n=>iIn(n)?'"'.concat(n,'": @').concat(oIn(n)):n;function HVn(n){let{ids:e,fields:r}=n;const i=[...qet,...r];return"*[_id in [".concat(e.map(zVn).join(","),"]][0...").concat(e.length,"]{").concat(i.map(VVn).join(","),"}")}function WVn(n){return"[".concat(n.map(HVn).join(","),"][0...").concat(n.length,"]")}function GVn(n,e){return n.reduce((r,i,o)=>(e[o].map.forEach((a,l)=>{const c=e[o].ids[l],u=i.find(f=>f._id===c);r[a]=u||null}),r),[])}function qVn(n){const{observePaths:e,versionedClient:r}=n;let i;const o=()=>{if(!i){const w=Gi(r.listen('*[!(_id in path("_.**"))]',{},{events:["welcome","mutation"],includeResult:!1,visibility:"query",tag:"preview.global"})).pipe(id()),C=w.pipe(Bn(T=>T.type==="welcome"),Hs({refCount:!0,bufferSize:1}));C.subscribe();const S=w.pipe(Bn(T=>T.type==="mutation"));i={welcome$:C,mutations$:S}}return i};function s(w){const C=o();return ai(C.welcome$,C.mutations$.pipe(Bn(S=>S.documentId===w)))}function a(w){return function(S){const T=UVn(S);return w.observable.fetch(WVn(T),{},{tag:"preview.document-paths"}).pipe(Me(A=>GVn(A,T)))}}const l=r$(a(r),100),c=r$(a(r),1e3);function u(w,C){return s(w).pipe(gn(S=>S.type==="welcome"||S.visibility==="query"?l(w,C).pipe(On(T=>Go(Ke(T),T===void 0?c(w,C):[]))):c(w,C)))}const f={},h=hD(function(C){const S=r.withConfig(C),T=a(S);return r$(T,10)},w=>w.dataset+w.projectId),m=1e4,g=Jl(document,"visibilitychange").pipe(ca(0),Me(()=>document.visibilityState==="visible"),gn(w=>w?Za(0,m):Vi),id());function v(w,C,S){return g.pipe(ca(0)).pipe(gn(()=>h(S)(w,C)))}function y(w,C,S){let T=null;const A=ai(ms(()=>T===null?Vi:Ke(T)),S?v(w,C,S):u(w,C)).pipe(Si(I=>T=I),Hs({refCount:!0,bufferSize:1}));return{id:w,fields:C,changes$:A}}function b(w,C,S){const T=S?"".concat(S.projectId,":").concat(S.dataset,":").concat(w):"$current$-".concat(w);T in f||(f[T]=[]);const A=f[T];Ax(C,Ji(A.map(R=>R.fields))).length>0&&A.push(y(w,C,S));const D=A.filter(R=>R.fields.some(P=>C.includes(P))).map(R=>R.changes$);return Da(D).pipe(Me(R=>R.filter(Boolean)),Bn(R=>BVn(R,P=>P._rev)),Me(R=>R.length===0?null:x(R,C)),Ro(FVn(C)))}return{observeFields:b};function x(w,C){return[...cVn,...C].reduce((S,T)=>{const A=_(w,T);return A!==void 0&&(S[T]=A),S},{})}function _(w,C){let S;return w.some(T=>C in T?(S=T[C],!0):!1),S}}function KVn(n){let{client:e}=n;const r=e.withConfig({apiVersion:"1"}),i=(f,h,m)=>s(f,h,m),{observeFields:o}=qVn({observePaths:i,versionedClient:r}),{observePaths:s}=wVn({observeFields:o});function a(f,h){return s({_type:"reference",_ref:f},["_type"],h).pipe(Me(m=>$n(m)&&typeof m._type=="string"?m._type:void 0),Ro())}const l=$Vn({observeDocumentTypeFromId:a,observePaths:s}),{observeDocumentPairAvailability:c}=Ket(r,s),{observePathsDocumentPair:u}=MVn(r,s);return{observePaths:s,observeForPreview:l,observeDocumentTypeFromId:a,unstable_observeDocumentPairAvailability:c,unstable_observePathsDocumentPair:u}}const YVn=n=>n.liveEdit===!0;function r2(n,e,r,i){const o=YVn(e)?Ke({snapshot:null}):n.observeForPreview({_type:"reference",_ref:wl(r)},e),s=n.observeForPreview({_type:"reference",_ref:di(r)},e);return Da([o,s]).pipe(Me(a=>{let[l,c]=a;return{draft:l.snapshot?{title:i,...l.snapshot||{}}:null,isLoading:!1,published:c.snapshot?{title:i,...c.snapshot||{}}:null}}),ca({draft:null,isLoading:!0,published:null}))}const ZVn=n=>({title:d.jsx("em",{children:n.title?String(n.title):"Missing document"}),subtitle:d.jsx("em",{children:n.title?"Missing document ID: ".concat(n._id):"Document ID: ".concat(n._id)}),media:()=>d.jsx(as,{})}),eB=n=>{let{value:e,draft:r,published:i}=n;const o=r||i;return o?Ekn({},o,e,(s,a)=>typeof a>"u"?s:a):ZVn(e)},XVn=rm(n=>{let[e,r]=n;return Gi(e.getUser(r).catch(i=>(console.error(i),null)))});function lm(n){const e=Soe();return XVn(p.useMemo(()=>[e,n],[n,e]))}function ao(){const{currentUser:n}=xi();return n}const C2e=n=>{const e=n.LOCAL,r=n.document.HEAD;return e&&{...e,_type:(r||e)._type,_rev:(r||e)._rev,_updatedAt:new Date().toISOString()}},S2e=n=>({type:"snapshot",document:n}),k2e=n=>n.document,QVn=n=>{const e=new ho,r=new z4(!0),i=new ho,o=new ho,s=new ho,a=new ho,l=x=>{const _=new d_n(x);return _.onMutation=w=>{let{mutation:C,remote:S}=w;i.next({type:"mutation",document:C2e(_),mutations:C.mutations,origin:S?"remote":"local"})},_.onRemoteMutation=w=>{s.next({type:"remoteMutation",head:_.document.HEAD,transactionId:w.transactionId,timestamp:w.timestamp,author:w.identity,effects:w.effects})},_.onRebase=(w,C,S)=>{o.next({type:"rebase",document:w,remoteMutations:C,localMutations:S})},_.onConsistencyChanged=w=>{r.next(w)},_.commitHandler=w=>a.next(w),_},c=n.pipe(rd((x,_)=>_.type==="snapshot"?(x&&x.commit(),l(_.document||null)):x===null?(console.warn('Ignoring event of type "%s" since buffered document has not yet been set up with snapshot',_.type),null):x,null),Bn(x=>x!==null),Ro(),th(1),eh()),u=n.pipe(Bn(x=>x.type==="mutation"),iA(c),Me(x=>{let[_,w]=x;return w.arrive(new $p(_)),C2e(w)})),f=e.pipe(iA(c),Si(x=>{let[_,w]=x;_.type==="mutation"&&w.add(new $p({mutations:_.mutations})),_.type==="commit"&&w.commit()}),iy(Vi),id()),h=x=>e.next(x),m=x=>h({type:"mutation",mutations:x}),g=x=>m([x]),v=()=>{c.pipe(ul(1),Si(x=>x.commit())).subscribe()},y=ai(c.pipe(Me(x=>x.LOCAL)),i.pipe(Me(k2e)),o.pipe(Me(k2e)),u).pipe(Me(S2e),th(1),eh()),b=ai(c.pipe(Me(x=>x.document.HEAD),Me(S2e)),s).pipe(th(1),eh());return{updates$:ai(y,f,i,o),consistency$:r.pipe(Ro(),th(1),eh()),remoteSnapshot$:b,commitRequest$:a,addMutation:g,addMutations:m,commit:v}},JVn=n=>e=>{const{_id:r,_rev:i,_updatedAt:o,...s}=e;return{_id:n,...s}},T2e=(n,e)=>{const r=QVn(e),i=JVn(n),o={delete:{id:n}};return{events:r.updates$,consistency$:r.consistency$,remoteSnapshot$:r.remoteSnapshot$,commitRequest$:r.commitRequest$,patch:s=>s.map(a=>({patch:{...a,id:n}})),create:s=>({create:i(s)}),createIfNotExists:s=>({createIfNotExists:i(s)}),createOrReplace:s=>({createOrReplace:i(s)}),delete:()=>o,mutate:s=>r.addMutations(s),commit:()=>r.commit()}},eHn={type:"pending",phase:"begin"},tHn={type:"pending",phase:"end"};function nHn(n){return n.type==="mutation"}function rHn(n){return n.transactionTotalEvents>1}function iHn(n){const e=pre(n.filter(r=>r.type==="mutation"),r=>r.transactionId);return Object.values(e).every(r=>r.length===r[0].transactionTotalEvents)}function oHn(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{publishedId:i,draftId:o}=e;return ms(()=>n.observable.listen("*[_id == $publishedId || _id == $draftId]",{publishedId:i,draftId:o},{includeResult:!1,events:["welcome","mutation","reconnect"],effectFormat:"mendoza",tag:r.tag||"document.pair-listener"})).pipe(gM(a=>a.type==="welcome"?s().pipe(gM(l=>[A2e(o,l.draft),A2e(i,l.published)])):Ke(a)),rd((a,l)=>{if(!nHn(l))return{next:[l],buffer:[]};const c=a.buffer.length>0,u=rHn(l);if(!u&&!c)return{next:[l],buffer:[]};if(!u)return{next:[],buffer:a.buffer.concat(l)};const f=a.buffer.concat(l);return iHn(f)?{next:f.concat(tHn),buffer:[]}:{next:f.length===1?[eHn]:[],buffer:f}},{next:[],buffer:[]}),On(a=>a.next));function s(){return n.observable.getDocuments([o,i],{tag:"document.snapshots"}).pipe(Me(a=>{let[l,c]=a;return{draft:l,published:c}}))}}function A2e(n,e){return{type:"snapshot",documentId:n,document:e}}const I2e=n=>e=>e.type!=="reconnect"&&e.type!=="pending"&&e.documentId===n;function zP(n){return e=>({...e,version:n})}function sHn(n,e){const{resultRev:r,...i}=e;return n.dataRequest("mutate",i,{visibility:"async",returnDocuments:!1,tag:"document.commit",skipCrossDatasetReferenceValidation:!0})}function aHn(n,e){return Gi(sHn(n,e.mutation.params)).pipe(Si({error:r=>{"statusCode"in r&&typeof r.statusCode=="number"&&r.statusCode>=400&&r.statusCode<=500?e.cancel(r):e.failure(r)},next:()=>e.success()}))}function Zet(n,e){const{publishedId:r,draftId:i}=e,o=new ho,s=oHn(n,e).pipe(id({connector:()=>o})),a=s.pipe(Bn(h=>h.type==="reconnect")),l=T2e(i,s.pipe(Bn(I2e(i)))),c=T2e(r,s.pipe(Bn(I2e(r)))),u=s.pipe(Bn(h=>h.type==="pending")),f=ai(l.commitRequest$,c.commitRequest$).pipe(On(h=>aHn(n,h)),iy(Vi),id());return{transactionsPendingEvents$:u,draft:{...l,events:ai(f,a,l.events).pipe(Me(zP("draft"))),consistency$:l.consistency$,remoteSnapshot$:l.remoteSnapshot$.pipe(Me(zP("draft")))},published:{...c,events:ai(f,a,c.events).pipe(Me(zP("published"))),consistency$:c.consistency$,remoteSnapshot$:c.remoteSnapshot$.pipe(Me(zP("published")))},complete:()=>o.complete()}}function cm(n,e){const r=Object.create(null);return function(){const i=e(...arguments);return i in r||(r[i]=n(...arguments)),r[i]}}function QD(n,e,r){var i,o;const s=n.config();return"".concat((i=s.dataset)!=null?i:"","-").concat((o=s.projectId)!=null?o:"","-").concat(e.publishedId,"-").concat(r)}const tB=cm((n,e,r)=>new Un(i=>{const o=Zet(n,e);return i.next(o),o.complete}).pipe(th(1),eh()),QD);function lHn(n){return n.type==="snapshot"}function D2e(n){return{snapshots$:n.events.pipe(Bn(lHn),Me(e=>e.document),th(1),eh()),patch:n.patch,create:n.create,createIfNotExists:n.createIfNotExists,createOrReplace:n.createOrReplace,delete:n.delete,mutate:n.mutate,commit:n.commit}}const voe=cm((n,e,r)=>tB(n,e,r).pipe(Me(i=>{let{published:o,draft:s,transactionsPendingEvents$:a}=i;return{transactionsPendingEvents$:a,published:D2e(o),draft:D2e(s)}}),th(1),eh()),(n,e,r)=>{var i,o;const s=n.config();return"".concat((i=s.dataset)!=null?i:"","-").concat((o=s.projectId)!=null?o:"","-").concat(e.publishedId,"-").concat(r)}),vw=(n,e)=>{var r;return((r=n.get(e))==null?void 0:r.liveEdit)===!0},cHn={enabled:!0},R2e={enabled:!1},Xet=cm((n,e,r)=>{const i=vw(n.schema,r);return voe(n.client,e,r).pipe(gn(o=>Da([o.draft.snapshots$,o.published.snapshots$,o.transactionsPendingEvents$.pipe(Me(s=>s.phase==="begin"?cHn:R2e),ca(R2e))])),Me(o=>{let[s,a,l]=o;return{id:e.publishedId,type:r,draft:s,published:a,liveEdit:i,ready:!0,transactionSyncLock:l}}),ca({id:e.publishedId,type:r,draft:null,published:null,liveEdit:i,ready:!1,transactionSyncLock:null}),th(1),eh())},(n,e,r)=>QD(n.client,e,r)),Qet=cm((n,e,r)=>tB(n,e,r).pipe(gn(i=>{let{draft:o,published:s}=i;return Da([o.consistency$,s.consistency$])}),Me(i=>{let[o,s]=i;return o&&s}),Ro(),th(1),eh()),(n,e,r)=>{var i,o;const s=n.config();return"".concat((i=s.dataset)!=null?i:"","-").concat((o=s.projectId)!=null?o:"","-").concat(e.publishedId,"-").concat(r)}),Jet=cm((n,e,r)=>voe(n.client,e,r).pipe(gn(i=>Da([i.draft.snapshots$,i.published.snapshots$]).pipe(Me(o=>{let[s,a]=o;return{...n,idPair:e,typeName:r,snapshots:{draft:s,published:a},draft:i.draft,published:i.published}}))),th(1),eh()),(n,e,r)=>{var i,o;const s=n.client.config();return"".concat((i=s.dataset)!=null?i:"","-").concat((o=s.projectId)!=null?o:"","-").concat(e.publishedId,"-").concat(r)}),ett={disabled:()=>!1,execute:n=>{let{draft:e,published:r}=n;return e.commit(),r.commit(),Vi}},qF={disabled:n=>{let{snapshots:e}=n;return e.draft||e.published?!1:"NOTHING_TO_DELETE"},execute:n=>{let{client:e,schema:r,idPair:i,typeName:o}=n;const s=e.observable.transaction().delete(i.publishedId);return vw(r,o)?s.commit({tag:"document.delete"}):s.delete(i.draftId).commit({tag:"document.delete",skipCrossDatasetReferenceValidation:!0})}},ttt={disabled:n=>{let{snapshots:e}=n;return e.draft?e.published?!1:"NOT_PUBLISHED":"NO_CHANGES"},execute:n=>{let{client:e,idPair:r}=n;return e.observable.transaction().delete(r.draftId).commit({tag:"document.discard-changes"})}},uHn=["_createdAt","_updatedAt"],ntt={disabled:n=>{let{snapshots:e}=n;return e.published||e.draft?!1:"NOTHING_TO_DUPLICATE"},execute:(n,e)=>{let{schema:r,client:i,snapshots:o,typeName:s}=n;const a=o.draft||o.published;if(!a)throw new Error("cannot execute on empty document");return i.observable.create({...Cc(a,uHn),_id:vw(r,s)?e:wl(e),_type:a._type},{tag:"document.duplicate"})}},rtt={disabled:()=>!1,execute:function(n){let{schema:e,snapshots:r,idPair:i,draft:o,published:s,typeName:a}=n,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],c=arguments.length>2?arguments[2]:void 0;vw(e,a)?s.mutate([s.createIfNotExists({_type:a,...c}),...s.patch(l)]):o.mutate([o.createIfNotExists({...c,...r.published,_id:i.draftId,_type:a}),...o.patch(l)])}};function VY(n){return qp(n)?n._strengthenOnPublish?Cc(n,["_strengthenOnPublish"].concat(n._strengthenOnPublish.weak?[]:["_weak"])):n:typeof n!="object"||!n?n:Array.isArray(n)?n.map(VY):Object.fromEntries(Object.entries(n).map(e=>{let[r,i]=e;return[r,VY(i)]}))}const itt={disabled:n=>{let{schema:e,typeName:r,snapshots:i}=n;return vw(e,r)?"LIVE_EDIT_ENABLED":i.draft?!1:i.published?"ALREADY_PUBLISHED":"NO_CHANGES"},execute:n=>{let{client:e,idPair:r,snapshots:i}=n;if(!i.draft)throw new Error('cannot execute "publish" when draft is missing');const o=VY(Cc(i.draft,"_updatedAt")),s=e.observable.transaction();if(!i.draft)throw new Error('cannot execute "publish" when draft is missing');return i.published?(s.patch(r.publishedId,{unset:["_revision_lock_pseudo_field_"],ifRevisionID:i.published._rev}),s.createOrReplace({...o,_id:r.publishedId,_type:i.draft._type})):s.create({...o,_id:r.publishedId,_type:i.draft._type}),s.delete(r.draftId),s.commit({tag:"document.publish",visibility:"async"})}},ott={disabled:()=>!1,execute:(n,e)=>{let{historyStore:r,schema:i,idPair:o,typeName:s}=n;const a=vw(i,s)?o.publishedId:o.draftId;return r.restore(o.publishedId,a,e)}},stt={disabled:n=>{let{schema:e,snapshots:r,typeName:i}=n;return vw(e,i)?"LIVE_EDIT_ENABLED":r.published?!1:"NOT_PUBLISHED"},execute:n=>{let{client:e,idPair:r,snapshots:i}=n,o=e.observable.transaction().delete(r.publishedId);return i.published&&(o=o.createIfNotExists({...Cc(i.published,"_updatedAt"),_id:r.draftId,_type:i.published._type})),o.commit({tag:"document.unpublish",visibility:"async",skipCrossDatasetReferenceValidation:!0})}};function dHn(n){return typeof n>"u"?Ke(null):n}const fHn={del:qF,delete:qF,publish:itt,patch:rtt,commit:ett,discardChanges:ttt,unpublish:stt,duplicate:ntt,restore:ott},hHn=(n,e,r)=>{const i=fHn[n];return ms(()=>ai(Ke(null),dHn(i.execute(e,...r)))).pipe(e1t())},att=new ho;function ltt(n,e,r,i){att.next({operationName:n,idPair:e,typeName:r,extraArgs:i})}const pHn=["publish","unpublish","discardChanges","delete"],ctt=cm(n=>{const e=att.pipe(T8e(o=>o.idPair.publishedId),On(o=>o.pipe(gn(s=>Jet(n,s.idPair,s.typeName).pipe(ul(1),gn(a=>{const l=pHn.includes(s.operationName);l&&(a.published.commit(),a.draft.commit());const c=Qet(n.client,s.idPair,s.typeName).pipe(Bn(Boolean));return(l?c.pipe(ul(1)):Ke(!0)).pipe(gn(()=>hHn(s.operationName,a,s.extraArgs)))}),Me(()=>({type:"success",args:s})),vi(a=>Ke({type:"error",args:s,error:a})))))),id()),r=1e3,i=e.pipe(Bn(o=>o.type==="success"&&o.args.operationName==="patch"),QA(r,ph,{leading:!0,trailing:!0}),Si(o=>{ltt("commit",o.args.idPair,o.args.typeName,[])}));return ai(e,i.pipe(iy(Vi)))},n=>{var e,r;const i=n.client.config();return"".concat((e=i.dataset)!=null?e:"","-").concat((r=i.projectId)!=null?r:"")}),mHn={isValidating:!0,validation:[]};function gHn(n){return oYe(n,(e,r)=>(qp(r)&&e.add(r._ref),e),new Set)}const vHn=[],yHn=(n,e)=>n(e).pipe(Me(r=>{let{published:i}=r;return i.available})),bHn=200,xHn=1e3;function JV(){return Hs({bufferSize:1,refCount:!0})}const wHn=cm((n,e,r)=>{let{draftId:i,publishedId:o}=e;const s=Xet(n,{draftId:i,publishedId:o},r).pipe(Me(f=>{let{draft:h,published:m}=f;return h||m}),QA(bHn,ph,{trailing:!0}),Ro((f,h)=>(f==null?void 0:f._rev)===(h==null?void 0:h._rev)?!0:Lg(Cc(f,"_rev","_updatedAt"),Cc(h,"_rev","_updatedAt"))),JV()),l=s.pipe(Me(f=>gHn(f)),On(f=>Gi(f))).pipe(T8e(f=>f,{duration:()=>Za(1e3*60*30)}),On(f=>f.pipe(Zyt(),On(h=>yHn(n.observeDocumentPairAvailability,h).pipe(Me(m=>[h,m]))))),rd((f,h)=>{let[m,g]=h;return f[m]===g?f:{...f,[m]:g}},{}),Ro(Lg),JV()),c=f=>{let{id:h}=f;return Js(l.pipe(k8e(m=>h in m),Me(m=>m[h])))},u=l.pipe(A8e(1),QA(xHn,ph,{leading:!0,trailing:!0}));return Da([s,Go(Ke(null),u)]).pipe(Me(f=>{let[h]=f;return h}),Ere(f=>ms(()=>f!=null&&f._type?Go(Ke({isValidating:!0,revision:f._rev}),k8n({document:f,getClient:n.getClient,getDocumentExists:c,i18n:n.i18n,schema:n.schema,environment:"studio"}).pipe(Me(h=>({validation:h,isValidating:!1})))):Ke({validation:vHn,isValidating:!1}))),rd((f,h)=>({...f,...h}),mHn),JV())},(n,e,r)=>{var i,o;const s=n.client.config();return"".concat((i=s.dataset)!=null?i:"","-").concat((o=s.projectId)!=null?o:"","-").concat(e.publishedId,"-").concat(r)}),_Hn=cm((n,e,r)=>tB(n,e,r).pipe(gn(i=>{let{draft:o,published:s}=i;return ai(o.events,s.events)})),QD);function Mm(n){return{disabled:"NOT_READY",execute:()=>{throw new Error("Called ".concat(n," before it was ready."))}}}const EHn={commit:Mm("commit"),delete:Mm("delete"),del:Mm("del"),publish:Mm("publish"),patch:Mm("patch"),discardChanges:Mm("discardChanges"),unpublish:Mm("unpublish"),duplicate:Mm("duplicate"),restore:Mm("restore")},CHn=(n,e,r)=>function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return ltt(n,e,r,o)};function Fm(n,e,r){return{disabled:e.disabled(r),execute:CHn(n,r.idPair,r.typeName)}}function SHn(n){return{commit:Fm("commit",ett,n),delete:Fm("delete",qF,n),del:Fm("delete",qF,n),publish:Fm("publish",itt,n),patch:Fm("patch",rtt,n),discardChanges:Fm("discardChanges",ttt,n),unpublish:Fm("unpublish",stt,n),duplicate:Fm("duplicate",ntt,n),restore:Fm("restore",ott,n)}}const kHn=cm((n,e,r)=>{const i=ctt(n),s=Jet(n,e,r).pipe(Me(SHn));return Go(Ke(EHn),ai(i.pipe(On(()=>Vi)),s)).pipe(Hs({refCount:!0,bufferSize:1}))},(n,e,r)=>QD(n.client,e,r));function Bx(n){return io(n)}function yoe(n,e){const r={...n,...e};return Object.keys(r).forEach(i=>{const o=e[i],s=n[i];Bx(o)&&Bx(s)&&(r[i]=yoe(s,o))}),r}const THn=["_dataset","_projectId","_strengthenOnPublish","_key","_ref","_type","_weak"];function AHn(n){return n&&n.length>0?'"'.concat(n,'"'):n}function O2e(n,e){const r=i=>'Template "'.concat(e.id,'" initial value: ').concat(i);if(!Bx(n))throw new Error(r("resolved to a non-object"));if(n._type&&e.schemaType!==n._type)throw new Error(r('includes "_type"-property ('.concat(n._type,") that does not match template (").concat(e.schemaType,")")));try{return HY(n)}catch(i){throw i.message=r(i.message),i}}function HY(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(Array.isArray(n))return n.map((o,s)=>{if(Array.isArray(o))throw new Error('multidimensional arrays are not supported (at path "'.concat(ns(e),'")'));return HY(o,e.concat(s),!0)});if(!Bx(n))return n;const i=r&&!n._key?{_key:_D()}:{};return e.length>0&&!n._type&&n._ref&&(i._type="reference"),n._ref&&IHn(n,e),Object.keys(n).reduce((o,s)=>(o[s]=HY(n[s],e.concat([s])),o),i)}function IHn(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!n._type&&n.type)throw new Error('Reference is missing "_type", but has a "type" property at path "'.concat(ns(e),'"'));const r=Object.keys(n).filter(i=>!THn.includes(i));if(r.length>0){const i=r.length>1?"properties":"property";throw new Error("Disallowed ".concat(i," found in reference: ").concat(r.map(AHn).join(", "),' at path "').concat(ns(e),'"'))}}function DHn(n){return Bx(n)&&typeof n.serialize=="function"}async function nB(n,e,r){return typeof n=="function"?n(e,r):n}async function boe(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(DHn(e))return boe(n,e.serialize(),r,i);const{id:o,schemaType:s,value:a}=e;if(!a)throw new Error('Template "'.concat(o,'" has invalid "value" property'));let l=await nB(a,r,i);if(!Bx(l))throw new Error('Template "'.concat(o,'" has invalid "value" property - must be a plain object or a resolver function returning a plain object'));Bx(l)&&!Object.keys(l).length&&(l={_type:s}),l=O2e(l,e);const c=n.get(s);if(!c)throw new Error('Could not find schema type with name "'.concat(s,'".'));const u=yoe(await rB(c,r,xoe,i)||{},l);return O2e(u,e)}function RHn(n,e){const r=vu(e);return r==="object"&&n.of.length===1?n.of[0]:n.of.find(i=>i.name===r)}const xoe=10;function rB(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xoe,i=arguments.length>3?arguments[3]:void 0;return r<=0?Promise.resolve(void 0):vf(n)?PHn(n,e,r,i):cd(n)?OHn(n,e,r,i):nB(n.initialValue,e,i)}async function OHn(n,e,r,i){const o=await nB(n.initialValue,void 0,i);if(Array.isArray(o))return Promise.all(o.map(async s=>{const a=RHn(n,s);return vf(a)?{...s,...await rB(a,e,r-1,i),_key:_D()}:s}))}async function PHn(n,e,r,i){const o={...await nB(n.initialValue,e,i)||{}},s={};await Promise.all(n.fields.map(async l=>{const c=await rB(l.type,e,r-1,i);c!=null&&(s[l.name]=c)}));const a=yoe(s,o);if(!Lne(a))return n.name!=="object"&&(a._type=n.name),a}const P2e={type:"loading"};function jHn(n,e,r,i,o){const s=r.observePaths({_type:"reference",_ref:wl(i.documentId)},["_type"]),a=r.observePaths({_type:"reference",_ref:di(i.documentId)},["_type"]);return ai(s.pipe(Me(c=>({draft:c}))),a.pipe(Me(c=>({published:c})))).pipe(rd((c,u)=>({...c,...u}),{}),Bn(c=>"draft"in c&&"published"in c),Me(c=>c.draft||c.published),Ro((c,u)=>!!c!=!!u),PQ(25)).pipe(gn(c=>{if(c)return Ke({type:"success",value:null});if(!i.templateName)return Ke({isResolving:!1,initialValue:void 0});const u=e.find(h=>h.id===i.templateName);if(!u)return console.warn('Template "%s" not defined, using empty initial value',i.templateName),Ke({isResolving:!1,initialValue:void 0});const f=Gi(boe(n,u,i.templateParams,o)).pipe(Me(h=>({isResolving:!1,initialValue:h}))).pipe(vi(h=>(console.group("Failed to resolve initial value"),console.error(h),console.error("Template ID: %s",i.templateName),console.error("Parameters: %o",i.templateParams),console.groupEnd(),Ke({type:"error",error:h}))));return ai(Ke({isResolving:!0}),f).pipe(gn(h=>{let{isResolving:m,initialValue:g,resolveError:v}=h;return Ke(v?{type:"error",message:"Failed to resolve initial value"}:m?P2e:{type:"success",value:g})}))}),ca(P2e),Ro())}const LHn=(n,e,r,i)=>ms(()=>n.observable.fetch(e,r,{tag:i.tag,filterResponse:!0,perspective:i.perspective})),$Hn=(n,e,r,i)=>ms(()=>n.listen(e,r,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query",tag:i.tag}));function j2e(n){return n.type==="welcome"}function MHn(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const o=typeof e=="string"?e:e.fetch,s=typeof e=="string"?e:e.listen,a=$Hn(n,s,r,i).pipe(On((h,m)=>m===0&&!j2e(h)?Zl(()=>new Error(h.type==="reconnect"?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(h.type,'"'))):Ke(h)),id()),[l,c]=RQ(a,j2e),u=h=>!i.transitions||h.type!=="mutation"?!0:i.transitions.includes(h.transition),f=()=>LHn(n,o,r,i);return ai(l.pipe(ul(1)),c.pipe(Bn(u),QA(i.throttleTime||1e3,ph,{leading:!0,trailing:!0}))).pipe(Ere(h=>h.type==="mutation"&&h.visibility!=="query"?Za(1200).pipe(On(f)):f()))}function FHn(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"*";if(r&&r!=="*")return Ke(r);const i="*[_id in [$documentId, $draftId]]._type",o=di(e),s=wl(o);return n.observable.fetch(i,{documentId:o,draftId:s}).pipe(Me(a=>a[0]))}function Mk(n){if(uie(n))throw new Error("editOpsOf does not expect a draft id.");return{publishedId:n,draftId:wl(n)}}function NHn(n){let{getClient:e,documentPreviewStore:r,historyStore:i,initialValueTemplates:o,schema:s,i18n:a}=n;const l=r.unstable_observeDocumentPairAvailability,c=e(Dr),u={client:c,getClient:e,observeDocumentPairAvailability:l,historyStore:i,schema:s,i18n:a};return{checkoutPair(f){return Zet(c,f)},initialValue(f,h){return jHn(s,o,r,f,h)},listenQuery(f,h,m){return MHn(c,f,h,m)},resolveTypeForDocument(f,h){return FHn(c,f,h)},pair:{consistencyStatus(f,h){return Qet(u.client,Mk(f),h)},documentEvents(f,h){return _Hn(u.client,Mk(f),h)},editOperations(f,h){return kHn(u,Mk(f),h)},editState(f,h){return Xet(u,Mk(f),h)},operationEvents(f,h){return ctt({client:c,historyStore:i,schema:s}).pipe(Bn(m=>m.args.idPair.publishedId===f&&m.args.typeName===h),Me(m=>{const{operationName:g,idPair:v}=m.args;return m.type==="success"?{type:"success",op:g,id:v.publishedId}:{type:"error",op:g,id:v.publishedId,error:m.error}}))},validation(f,h){return wHn(u,Mk(f),h)}}}}function woe(n,e){const r=Qa(),i=p.useMemo(()=>n?r.observePaths({_type:"reference",_ref:n},e):Ke(void 0),[n,r,e]);return dXe(i)}function BHn(n){const{documentId:e,documentType:r,templateName:i,templateParams:o}=n,s=Ga(o),a=Fc(),l=_oe(),c=p.useMemo(()=>({_id:e,_type:r}),[e,r]),[u,f]=p.useState({loading:!1,error:null,value:c});return p.useEffect(()=>{const h={documentId:e,documentType:r,templateName:i,templateParams:s};if(!i){f({loading:!0,error:null,value:c});return}const g=a.initialValue(h,l).subscribe(v=>{v.type==="loading"&&f({loading:!0,error:null,value:c}),v.type==="success"&&f({loading:!1,error:null,value:v.value?{...c,...v.value}:c}),v.type==="error"&&f({loading:!1,error:v.error,value:c})});return f({loading:!0,error:null,value:c}),()=>g.unsubscribe()},[c,e,a,r,i,s,l]),u}function _oe(){const n=xi(),e=Ar(),r=ao(),i=yB(),o=Hoe(),s=n.getClient;return p.useMemo(()=>({projectId:i,dataset:o,getClient:s,schema:e,currentUser:r}),[s,e,r,i,o])}function Eoe(){const n=_oe();return p.useCallback((e,r)=>rB(e,r,xoe,n),[n])}function UHn(n,e){const r=n.get(e);if(!r)throw new Error("No such schema type: ".concat(e));return r}function zHn(n){let{grantsStore:e,permission:r,draft:i,published:o,liveEdit:s}=n;const a=i||o,l=a===i?"draft":"published",{checkDocumentPermission:c}=e;switch(r){case"delete":return s?[["delete published document (live-edit)",c("update",o)]]:[["delete draft document",c("update",i)],["delete published document",c("update",o)]];case"discardDraft":return s?[]:[["delete draft document",c("update",i)]];case"publish":return s?[]:[["update published document at its current state",c("update",o)],["delete draft document",c("update",i)],["create published document from draft",c("create",i&&{...i,_id:di(i._id)})]];case"unpublish":return s?[]:[["update draft document at its current state",c("create",i)],["delete published document",c("update",o)],["create draft document from published version",c("create",o&&{...o,_id:wl(o._id)})]];case"update":return s?[["update published document (live-edit)",c("update",o)]]:[["update ".concat(l," document"),c("update",a)]];case"duplicate":return s?[["create new published document from existing document (live-edit)",c("create",{...o,_id:"dummy-id"})]]:[["create new draft document from existing ".concat(l," document"),c("create",{...a,_id:wl("dummy-id")})]];default:throw new Error("Could not match permission: ".concat(r))}}function VHn(n){let{client:e,grantsStore:r,schema:i,id:o,permission:s,type:a}=n;if(a==="*")return Ke({granted:!1,reason:"Type specified was `*`"});const l=!!UHn(i,a).liveEdit;return voe(e,{draftId:wl(o),publishedId:di(o)},a).pipe(gn(c=>Da([c.draft.snapshots$,c.published.snapshots$]).pipe(Me(u=>{let[f,h]=u;return{draft:f,published:h}}))),gn(c=>{let{draft:u,published:f}=c;const h=zHn({grantsStore:r,permission:s,draft:u,published:f,liveEdit:l}).map(m=>{let[g,v]=m;return v.pipe(Me(y=>{let{granted:b,reason:x}=y;return{granted:b,reason:b?"":"not allowed to ".concat(g,": ").concat(x),label:g,permission:s}}))});return h.length?Da(h).pipe(Me(m=>{const g=m.every(y=>y.granted),v=g?"":"Unable to ".concat(s,`:
	`).concat(m.filter(y=>!y.granted).map(y=>y.reason).join(`
	`));return{granted:g,reason:v}})):Ke({granted:!0,reason:""})}))}const HHn=rm(VHn);function qy(n){let{id:e,type:r,permission:i,client:o,schema:s,grantsStore:a}=n;const l=Jr(Dr),c=Ar(),u=koe(),f=p.useMemo(()=>o||l,[l,o]),h=p.useMemo(()=>s||c,[c,s]),m=p.useMemo(()=>a||u,[u,a]);return HHn(p.useMemo(()=>({client:f,schema:h,grantsStore:m,id:e,permission:i,type:r}),[f,m,e,i,h,r]))}function utt(n){let{grantsStore:e,document:r,permission:i}=n;const{checkDocumentPermission:o}=e;return o(i,r)}const WHn=rm(utt);function GHn(n){let{document:e,permission:r,...i}=n;const o=koe();return WHn({grantsStore:i.grantsStore||o,document:e,permission:r})}const L2e="_debug_",qHn=typeof window>"u"?Ke({}):Jl(window,"hashchange"),dtt=Go(Ke(0),qHn).pipe(Me(()=>typeof document>"u"?"#":document.location.hash),Ro(),Me(n=>n.substring(1).split(";").filter(e=>e.toLowerCase().startsWith(L2e)).map(e=>e.substring(L2e.length)))),KHn=dtt.pipe(Me(n=>n.find(e=>e.startsWith("roles="))),Me(n=>(n==null?void 0:n.split("roles=")[1].split(",").map(e=>e.trim()))||[])),YHn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],$2e=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],ZHn=[{filter:'_id in path("**")',permissions:["read","create","history","update"]}],XHn=[{filter:'_id in path("**")',permissions:["read"]},{filter:'_id in path("drafts.**")',permissions:["create","history","update"]}],M2e=[{filter:'_id in path("**")',permissions:["read","history"]}],QHn=[{filter:"!locked",permissions:["read","create","update"]}],JHn=[{filter:'_id in path("drafts.**") && _type in ["stringsTest", "book", "author", "referenceTest"]',permissions:["read","create","history","update"]},{filter:'_id in path("**")',permissions:["read"]}],F2e={administrator:YHn,editor:$2e,developer:ZHn,contributor:XHn,viewer:M2e,restricted:JHn,requiresApproval:QHn,read:M2e,write:$2e},eWn=KHn.pipe(Me(n=>n.length?n.filter(e=>!!e&&e in F2e).flatMap(e=>F2e[e]||[]):null));async function tWn(n,e,r){return await n.request({uri:"/projects/".concat(e,"/datasets/").concat(r,"/acl"),tag:"acl.get",withCredentials:!0})}function nWn(n){const e={};return n!==null&&(e.identity=n),e}const eH=new Map;async function rWn(n,e,r){eH.has(e)||eH.set(e,xTn("*[".concat(e,"]")));const i=eH.get(e),o=nWn(n),{identity:s}=o,a={...o},l=await(await Xkn(i,{dataset:[r],identity:s,params:a})).get();return(l==null?void 0:l.length)===1}function iWn(n){var e;const{client:r}=n,i=r.withConfig({apiVersion:"2021-06-07"}),o="userId"in n?n.userId:((e=n==null?void 0:n.currentUser)==null?void 0:e.id)||null,s=ms(()=>Ke(i.config())).pipe(gn(l=>{let{projectId:c,dataset:u}=l;if(!c||!u)throw new Error("Missing projectId or dataset");return tWn(i,c,u)})),a=eWn.pipe(gn(l=>l?Ke(l):s),th(1),wTn(1e3));return{checkDocumentPermission(l,c){return a.pipe(gn(u=>ftt(o,u,l,c)),Ro(Lg))}}}async function ftt(n,e,r,i){if(!i)return{granted:!0,reason:"Null document, nothing to check"};if(!e.length)return{granted:!1,reason:"No document grants"};const o=[];for(const a of e)await rWn(n,a.filter,i)&&o.push(a);const s=o.some(a=>a.permissions.some(l=>l===r));return{granted:s,reason:s?"Matching grant":"No matching grants found"}}function htt(n){return typeof n=="object"&&n!==null&&"serialize"in n?htt(n.serialize()):n}function oWn(n){let{grantsStore:e,templateItems:r,templates:i,schema:o,context:s}=n;return r!=null&&r.length?Da(r.map(htt).map(async a=>{const l=i.find(u=>u.id===a.templateId);if(!l)throw new Error('template not found: "'.concat(a.templateId,'"'));const c=await boe(o,l,a.parameters,s);return{template:l,item:a,resolvedInitialValue:c}}).map(a=>Gi(a).pipe(gn(l=>{let{item:c,resolvedInitialValue:u,template:f}=l;const h=o.get(f.schemaType);if(!h)throw new Error('schema type not found: "'.concat(f.schemaType,'"'));const m=h==null?void 0:h.liveEdit,{initialDocumentId:g="dummy-id"}=c;return utt({grantsStore:e,permission:"create",document:{_id:m?di(g):wl(g),...u}}).pipe(Me(v=>{let{granted:y,reason:b}=v;const x=c.title||f.title;return{...c,i18n:c.i18n||f.i18n,granted:y,reason:b,resolvedInitialValue:u,template:f,title:x,subtitle:h.title===x?void 0:h.title,description:c.description||f.description,icon:c.icon||f.icon}}))})))):Ke([])}const sWn=rm(oWn);function Coe(n){let{templateItems:e,...r}=n;const i=Ar(),o=l2(),s=koe(),a=_oe();return sWn({templateItems:e,grantsStore:r.grantsStore||s,schema:r.schema||i,templates:r.templates||o,context:a})}function aWn(n){return n==="create"||n==="editDraft"}const lWn=5*60*1e3;function cWn(n,e){return Date.parse(e)-Date.parse(n)<lWn}function N2e(n,e){if(n.end!==e.start)throw new Error("chunks are not next to each other");const r=U2e(n.draftState,e.draftState),i=U2e(n.publishedState,e.publishedState);if(n.type==="delete"&&e.type==="editDraft")return[n,{...e,type:"create",draftState:r,publishedState:i}];if(e.type==="delete"){if(r==="missing"&&i==="present")return[n,{...e,type:"discardDraft",draftState:r,publishedState:i}];if(r==="present"&&i==="missing")return[n,{...e,type:"unpublish",draftState:r,publishedState:i}]}if(aWn(n.type)&&e.type==="editDraft"&&cWn(n.endTimestamp,e.startTimestamp)){const o=new Set;for(const s of n.authors)o.add(s);for(const s of e.authors)o.add(s);return{index:0,id:e.id,type:n.type,start:n.start,end:e.end,startTimestamp:n.startTimestamp,endTimestamp:e.endTimestamp,authors:o,draftState:r,publishedState:i}}return[n,{...e,draftState:r,publishedState:i}]}function B2e(n){const e=!!n;return n&&WY(n==null?void 0:n.apply)?"deleted":e?"upsert":"unedited"}function uWn(n){const e=B2e(n.draftEffect),r=B2e(n.publishedEffect);if(r==="unedited"){if(e==="deleted")return"delete";if(e==="upsert")return"editDraft"}if(r==="deleted")return"delete";if(r==="upsert"){if(e==="unedited")return"editLive";if(e==="deleted")return"publish";if(e==="upsert")return"editLive"}return"editLive"}function tH(n){const e=!!n.draftEffect,r=!!n.publishedEffect,i=n.draftEffect&&WY(n.draftEffect.apply),o=n.publishedEffect&&WY(n.publishedEffect.apply),s=uWn(n);return{index:0,id:n.id,type:s,start:n.index,end:n.index+1,startTimestamp:n.timestamp,endTimestamp:n.timestamp,authors:new Set([n.author]),draftState:e?i?"missing":"present":"unknown",publishedState:r?o?"missing":"present":"unknown"}}function U2e(n,e){return e==="unknown"?n:e}function WY(n){return n[0]===0&&n[1]===null}function dWn(n,e){return n&&e?n.author===e.author&&n.chunk===e.chunk:!n&&!e}function z2e(n){return n.draft||n.published}class fWn{constructor(e,r,i,o){this.type="array",this.elements=[],this.content=e,this.value=r,this.annotation=i,this.extractor=o,this.length=e.elements.length}at(e){if(e>=this.length)throw new Error("out of bounds");const r=this.elements[e];return r||(this.elements[e]=KF(this.content.elements[e],this.value[e],this.extractor))}annotationAt(e){const r=this.content.metas[e];return this.extractor.fromMeta(r)}}class hWn{constructor(e,r,i,o){this.type="object",this.fields={},this.content=e,this.value=r,this.annotation=i,this.extractor=o,this.keys=Object.keys(e.fields)}get(e){const r=this.fields[e];if(r)return r;const i=this.content.fields[e];if(i)return this.fields[e]=KF(i,this.value[e],this.extractor)}}class pWn{constructor(e,r,i,o){this.type="string",this.content=e,this.value=r,this.annotation=i,this.extractor=o}sliceAnnotation(e,r){const i=[];let o=0;function s(a,l){if(i.length>0){const c=i[i.length-1];if(dWn(c.annotation,l)){c.text+=a;return}}i.push({text:a,annotation:l})}for(const a of this.content.parts){const l=a.value.length,c=Math.max(0,e-o);if(c<l){const u=Math.min(l,r-o);if(u<=0)break;s(a.value.slice(c,u),this.extractor.fromValue(a))}o+=l}return i}}function KF(n,e,r){const i=r.fromValue(n);if(n.content)switch(n.content.type){case"array":return new fWn(n.content,e,i,r);case"object":return new hWn(n.content,e,i,r);case"string":return new pWn(n.content,e,i,r)}return tie(e,i)}function V2e(n,e,r){return r?GY(n,r.transactionIndex+1,r.chunk.index):e?GY(n,e.start,e.index):null}function H2e(n,e){return e?GY(n,e.transactionIndex,e.chunk.index):null}function GY(n,e,r){const i=n.transactionByIndex(e);if(!i)return null;const o=n.chunkByTransactionIndex(e,r);return o?{chunk:o,timestamp:i.timestamp,author:i.author}:null}function mWn(n,e,r,i,o,s){const a=KF(r,i,{fromValue(c){return V2e(n,e,c.endMeta)},fromMeta(c){return V2e(n,e,c)}}),l=KF(o,s,{fromValue(c){return H2e(n,c.startMeta)},fromMeta(c){return H2e(n,c)}});return xN(a,l)}class VP{constructor(){this._postive=[],this._negative=[]}addToEnd(e){e.index=this._postive.length,this._postive.push(e)}addToBeginning(e){if(this.length==0){this.addToEnd(e);return}e.index=-(this._negative.length+1),this._negative.push(e)}mergeAtEnd(e,r){if(this.length===0){this.addToEnd(e);return}const i=this.lastIdx,o=r(this.get(i),e);Array.isArray(o)?(this.set(i,o[0]),this.addToEnd(o[1])):this.set(i,o)}mergeAtBeginning(e,r){if(this.length===0){this.addToEnd(e);return}const i=this.firstIdx,o=r(e,this.get(i));Array.isArray(o)?(this.set(i,o[1]),this.addToBeginning(o[0])):this.set(i,o)}removeFromEnd(){this._postive.length===0?this._negative.shift():this._postive.pop()}has(e){return e>=0?e<this._postive.length:-(e+1)<this._negative.length}get(e){return e>=0?this._postive[e]:this._negative[-(e+1)]}set(e,r){e>=0?(r.index=e,this._postive[e]=r):(r.index=e,this._negative[-(e+1)]=r)}get lastIdx(){return this._postive.length-1}get last(){return this.get(this.lastIdx)}get firstIdx(){return-this._negative.length}get first(){return this.get(this.firstIdx)}get length(){return this._postive.length+this._negative.length}}let gWn=class{constructor(e){this.reachedEarliestEntry=!1,this._transactions=new VP,this._chunks=new VP,this._possiblePendingTransactions=new Map,this.publishedId=e.publishedId,this.draftId="drafts.".concat(e.publishedId),e.enableTrace&&(this._trace=[],this._trace.push({type:"initial",publishedId:e.publishedId}),window.__sanityTimelineTrace=this._trace)}get chunkCount(){return this._chunks.length}mapChunks(e){const r=[],i=this._chunks.firstIdx,o=this._chunks.lastIdx;for(let s=o;s>=i;s--)r.push(e(this._chunks.get(s),s));return r}reset(){this._transactions=new VP,this._chunks=new VP,this._possiblePendingTransactions=new Map,this._recreateTransactionsFrom=void 0,this.reachedEarliestEntry=!1}addRemoteMutation(e){this._trace&&this._trace.push({type:"addRemoteMutation",event:e});const r=this._possiblePendingTransactions.get(e.transactionId),i=r?r.transaction:{index:0,id:e.transactionId,timestamp:e.timestamp.toISOString(),author:e.author};e.version==="draft"?i.draftEffect=e.effects:i.publishedEffect=e.effects,r?(this._possiblePendingTransactions.delete(e.transactionId),this._invalidateTransactionFrom(r.idx)):(this._transactions.addToEnd(i),this._possiblePendingTransactions.set(e.transactionId,{transaction:i,idx:this._transactions.lastIdx}))}addTranslogEntry(e){this._trace&&this._trace.push({type:"addTranslogEntry",event:e}),this._transactions.addToBeginning({index:0,id:e.id,author:e.author,timestamp:e.timestamp,draftEffect:e.effects[this.draftId],publishedEffect:e.effects[this.publishedId]})}didReachEarliestEntry(){this._trace&&this._trace.push({type:"didReachEarliestEntry"}),this.reachedEarliestEntry=!0}updateChunks(){this._trace&&this._trace.push({type:"updateChunks"}),this._removeInvalidatedChunks(),this._addChunksFromTransactions(),this._createInitialChunk()}_removeInvalidatedChunks(){if(this._recreateTransactionsFrom){for(;this._chunks.length>0;){const e=this._chunks.last;if(this._recreateTransactionsFrom<e.end)this._chunks.removeFromEnd();else break}this._recreateTransactionsFrom=void 0}}_addChunksFromTransactions(){const e=this._transactions.firstIdx,r=this._transactions.lastIdx,i=this._chunks.length>0?this._chunks.last.end:e;for(let s=i;s<=r;s++){const a=this._transactions.get(s);this._chunks.mergeAtEnd(tH(a),N2e)}if(this._chunks.length==0)return;const o=this._chunks.first.start;for(let s=o-1;s>=e;s--){const a=this._transactions.get(s);this._chunks.mergeAtBeginning(tH(a),N2e)}}_invalidateTransactionFrom(e){(this._recreateTransactionsFrom===void 0||e<this._recreateTransactionsFrom)&&(this._recreateTransactionsFrom=e)}_createInitialChunk(){var e;if(this.reachedEarliestEntry){if(((e=this._chunks.first)==null?void 0:e.type)==="initial")return;const r=this._transactions.first;if(!r)return;const i=tH(r);i.type="initial",i.id="@initial",i.end=i.start,this._chunks.addToBeginning(i)}}parseTimeId(e){if(this._chunks.length===0)return this.reachedEarliestEntry?"invalid":"loading";const r=e.split("/",3),i=r.shift(),o=r.shift(),s=Number(i);for(let a=this._chunks.lastIdx;a>=this._chunks.firstIdx;a--){const l=this._chunks.get(a);if(l.id===o)return l;if(Date.parse(l.endTimestamp)+60*60*1e3<s)return"invalid"}return this.reachedEarliestEntry?"invalid":"loading"}findLastPublishedBefore(e){for(let r=e?e.index-1:this._chunks.lastIdx;r>=this._chunks.firstIdx;r--){const i=this._chunks.get(r);if(i.type==="publish"||i.type==="initial")return i}return this.reachedEarliestEntry?this._chunks.first:"loading"}isLatestChunk(e){return e===this._chunks.last}createTimeId(e){return"".concat(e.endTimestamp.valueOf(),"/").concat(e.id)}lastChunk(){return this._chunks.last}transactionByIndex(e){return this._transactions.has(e)?this._transactions.get(e):null}chunkByTransactionIndex(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;for(;;){const o=this._chunks.get(i);if(!o)throw new Error("transaction does not belong in any chunk");if(e>=o.end)i++;else if(e<o.start)i--;else return o}}replayBackwardsBetween(e,r,i){let o=i.draft,s=i.published;for(let a=r;a>=e;a--){const l=this._transactions.get(a);l.draftEffect&&(o=FF(o,l.draftEffect.revert)),l.publishedEffect&&(s=FF(s,l.publishedEffect.revert))}return{draft:o,published:s}}replayBackwardsUntil(e,r){return this.replayBackwardsBetween(e,this._transactions.lastIdx,r)}calculateDiff(e,r,i,o){let s=Mf.wrap(e.draft,null),a=Mf.wrap(e.published,null);const l=vWn(s,a),c=z2e(e);let u=null;for(let m=i;m<=o;m++){const g=this._chunks.get(m);u||(u=g);for(let v=g.start;v<g.end;v++){const y=this._transactions.get(v),b={chunk:g,transactionIndex:v},x=s,_=a;y.draftEffect&&(s=Mf.applyPatch(s,y.draftEffect.apply,b)),y.publishedEffect&&(a=Mf.applyPatch(a,y.publishedEffect.apply,b));const w=Mf.getType(x)!=="null",C=Mf.getType(s)!=="null";Mf.getType(a)!=="null"&&!C&&(a=Mf.rebaseValue(x,a)),C&&!w&&(s=Mf.rebaseValue(_,s))}}const f=Mf.getType(s)==="null"?a:s,h=z2e(r);return mWn(this,u,l,c,f,h)}};function vWn(n,e){return Mf.getType(n)==="null"?e:n}function W2e(n){return{id:n,hasAttrs:!1,attrs:null,rev:null,events:[],aligned:!1}}function yWn(n,e){const r=e.events.findIndex(i=>n.id===i.transactionId);return r>=0?r+1:e.rev?e.rev===n.id?0:-1:0}function G2e(n,e){if(n.hasAttrs=!0,e){if(n.attrs={...e},typeof n.attrs._rev!="string")throw new Error("snapshot has no _rev");n.rev=n.attrs._rev,delete n.attrs._rev}else n.attrs=null,n.rev=null;n.events=[]}class bWn{constructor(e){this.earliestTransactionId=null,this.timeline=e,this._states={draft:W2e(e.draftId),published:W2e(e.publishedId)}}appendRemoteSnapshotEvent(e){const r=this._states[e.version];if(e.type==="snapshot"){this._maybeInvalidateHistory(),G2e(r,e.document);return}e.type==="remoteMutation"&&(r.aligned?(this._apply(r,e),this.timeline.addRemoteMutation(e)):r.hasAttrs?r.events.push(e):G2e(r,e.head))}prependHistoryEvent(e){if(!this.acceptsHistory)throw new Error("cannot prepend history at this point");for(const r of Object.values(this._states))if(!r.aligned){const i=yWn(e,r);i>=0&&this._alignAtIndex(r,i)}this.timeline.addTranslogEntry(e),this.earliestTransactionId=e.id}didReachEarliestEntry(){for(const e of Object.values(this._states))if(!e.aligned){if(e.attrs!==null)throw new Error("unable to find translog entry to align to");this._alignAtIndex(e,0)}this.timeline.didReachEarliestEntry()}get isAligned(){return Object.values(this._states).every(e=>e.aligned)}get acceptsHistory(){return this._isComplete}get currentDocument(){return{draft:this._states.draft.attrs,published:this._states.published.attrs}}_alignAtIndex(e,r){for(const i of e.events.slice(0,r))this._apply(e,i);for(const i of e.events.slice(r))this._apply(e,i),this.timeline.addRemoteMutation(i);e.events=[],e.aligned=!0}get _isComplete(){return Object.values(this._states).every(e=>e.hasAttrs)}_apply(e,r){e.attrs=FF(e.attrs,r.effects.apply),e.rev=r.transactionId}_maybeInvalidateHistory(){if(this._isComplete){for(const e of Object.values(this._states))e.aligned=!1;this.earliestTransactionId=null,this.timeline.reset()}}}class xWn{constructor(e,r,i,o){this.timeline=e,this.start=i,this.end=o,this.doc=r}same(e,r){return this.start===e&&this.end===r}endAttributes(){return q2e(this.endDocument())}endDocument(){return this._endDocument||(this._endDocument=this.timeline.replayBackwardsUntil(this.end.end,this.doc)),this._endDocument}startAttributes(){return q2e(this.startDocument())}startDocument(){if(!this.start)throw new Error("start required");return this._startDocument||(this._startDocument=this.timeline.replayBackwardsBetween(this.start.end,this.end.end-1,this.endDocument())),this._startDocument}diff(){if(!this._diff){if(!this.start)throw new Error("start required");this._diff=this.timeline.calculateDiff(this.startDocument(),this.endDocument(),this.start.index+1,this.end.index)}return this._diff}}function q2e(n){return n.draft||n.published}const wWn=50;let _Wn=class{constructor(e){this.version=0,this.selectionState="inactive",this._fetchMore=!1,this._fetchAtLeast=0,this._isRunning=!1,this._isSuspended=!1,this._didErr=!1,this._since=null,this._sinceTime=null,this._rev=null,this._revTime=null,this.timeline=e.timeline,this.client=e.client,this.handler=e.handler,this._aligner=new bWn(this.timeline),this.markChange()}clearRange(){this.setRange(null,null)}setRange(e,r){r!==this._rev&&this.setRevTime(r),e!==this._since&&this.setSinceTime(e);let i=10;if(this._sinceTime==="loading"||this._revTime==="loading"||!this._aligner.isAligned)this.selectionState="loading";else if(this._sinceTime==="invalid"||this._revTime==="invalid")this.selectionState="invalid";else if(this._sinceTime){this.selectionState="range";const o=this._revTime||this.timeline.lastChunk();this._sinceTime.index>o.index?(this._revTime="invalid",this.selectionState="invalid"):this.setReconstruction(this._sinceTime,o)}else this._revTime?(this.selectionState="rev",this.setReconstruction(null,this._revTime)):(this.selectionState="inactive",i=0);this._fetchAtLeast=i,this.start()}setLoadMore(e){this._fetchMore=e,this.start()}get sinceTime(){return this._sinceTime&&typeof this._sinceTime=="object"?this._sinceTime:null}get revTime(){return this._revTime&&typeof this._revTime=="object"?this._revTime:null}get realRevChunk(){return this.revTime||this.timeline.lastChunk()}onOlderRevision(){return!!this._rev&&(this.selectionState==="range"||this.selectionState==="rev")}findRangeForNewRev(e){const r=this.timeline.isLatestChunk(e)?null:this.timeline.createTimeId(e);if(!this._since)return[null,r];const i=this.sinceTime;return i&&i.index<e.index?[this._since,r]:["@lastPublished",r]}findRangeForNewSince(e){const r=this.revTime;return r&&e.index<r.index?[this.timeline.createTimeId(e),this._rev]:[this.timeline.createTimeId(e),null]}setRevTime(e){this._rev=e,this._revTime=e?this.timeline.parseTimeId(e):null,this._since==="@lastPublished"&&(this._since=null,this._sinceTime=null)}setSinceTime(e){e==="@lastPublished"?typeof this._revTime=="string"?this._sinceTime=this._revTime:this._sinceTime=this.timeline.findLastPublishedBefore(this._revTime):this._sinceTime=e?this.timeline.parseTimeId(e):null,this._since=e}sinceAttributes(){return this._sinceTime&&this._reconstruction?this._reconstruction.startAttributes():null}displayed(){return this._revTime&&this._reconstruction?this._reconstruction.endAttributes():null}setReconstruction(e,r){this._reconstruction&&this._reconstruction.same(e,r)||(this._reconstruction=new xWn(this.timeline,this._aligner.currentDocument,e,r))}currentDiff(){return this._reconstruction?this._reconstruction.diff():null}currentObjectDiff(){const e=this.currentDiff();if(e){if(e.type==="null")return null;if(e.type!=="object")throw new Error("ObjectDiff expected, got ".concat(e.type))}return e}handleRemoteMutation(e){this._aligner.appendRemoteSnapshotEvent(e),this.markChange(),this._aligner.acceptsHistory&&this.start()}start(){this._didErr||this._isRunning||(this._isRunning=!0,this.tick().then(()=>{this._isRunning=!1}))}resume(){this._isSuspended=!1}suspend(){this._isSuspended=!0}async tick(){var e;if(this._aligner.acceptsHistory&&!this.timeline.reachedEarliestEntry&&(this.selectionState==="loading"||this._fetchMore||this.timeline.chunkCount<=this._fetchAtLeast)&&!this._isSuspended){try{await this.fetchMoreTransactions()}catch(i){this._didErr=!0,(e=this.handler)==null||e.call(this,i,this);return}await this.tick()}}async fetchMoreTransactions(){const e=this.timeline.publishedId,r=this.timeline.draftId,i=this.client.config(),o=wWn;let s="tag=sanity.studio.structure.history&effectFormat=mendoza&excludeContent=true&excludeMutations=true&includeIdentifiedDocumentsOnly=true&reverse=true&limit=".concat(o),a=this._aligner.earliestTransactionId;a&&(s+="&toTransaction=".concat(a));const l=this.client.getUrl("/data/history/".concat(i.dataset,"/transactions/").concat(e,",").concat(r,"?").concat(s)),u=(await OHe(l,i.token)).getReader();let f=0;for(;;){const h=await u.read();if(h.done)break;if("error"in h.value)throw new Error(h.value.error.description||h.value.error.type);if(f++,h.value.id!==a){if(this._aligner.earliestTransactionId!==a||!this._aligner.acceptsHistory)return;this._aligner.prependHistoryEvent(h.value),a=this._aligner.earliestTransactionId}}this._aligner.earliestTransactionId!==a||!this._aligner.acceptsHistory||(f<o&&this._aligner.didReachEarliestEntry(),this.markChange())}markChange(){var e;this.timeline.updateChunks(),this.setRevTime(this._rev),this.setSinceTime(this._rev),this.version++,(e=this.handler)==null||e.call(this,null,this)}};const K2e=Object.create(null),EWn=function(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=Array.isArray(e)?e:[e],{time:o,revision:s}=r;if(o&&s)throw new Error("getHistory can't handle both time and revision parameters");const a=n.config().dataset;let l="/data/history/".concat(a,"/documents/").concat(i.join(","));if(s)l="".concat(l,"?revision=").concat(s);else{const c=o||new Date().toISOString();l="".concat(l,"?time=").concat(c)}return n.request({url:l})},ptt=(n,e,r)=>{const i=di(e),o=wl(e),s="".concat(i,"@").concat(r),a=K2e[s];if(a)return a;const l=n.config().dataset,c="/data/history/".concat(l,"/documents/").concat(i,",").concat(o,"?revision=").concat(r),u=n.request({url:c}).then(f=>{const h=f.documents||[],m=h.find(v=>v._id===i);return h.find(v=>v._id===o)||m});return K2e[s]=u,u},CWn=n=>{let{client:e,documentId:r,documentType:i}=n;const o=new gWn({enableTrace:im,publishedId:r});return new _Wn({client:e,documentId:r,documentType:i,timeline:o})},SWn=async(n,e)=>{const r=Array.isArray(e)?e:[e],i=n.config().dataset,o={excludeContent:"true",includeIdentifiedDocumentsOnly:"true"},s="/data/history/".concat(i,"/transactions/").concat(r.join(","));return(await n.request({url:s,query:o})).toString("utf8").split(`
`).filter(Boolean).map(c=>JSON.parse(c))},kWn=n=>oYe(n,(e,r)=>qp(r)&&!e.includes(r._ref)?[...e,r._ref]:e,[]);function qY(n,e){return Array.isArray(n)?e(n.map(r=>qY(r,e)).filter(r=>typeof r<"u")):$n(n)?e(Object.keys(n).reduce((r,i)=>{const o=qY(n[i],e);return typeof o<"u"&&(r[i]=o),r},{})):e(n)}const TWn=(n,e)=>qY(n,r=>qp(r)?e(r):r),AWn=(n,e)=>TWn(n,r=>e[r._ref]?r:void 0);function IWn(n,e,r,i){return Gi(ptt(n,e,i)).pipe(On(o=>{if(!o)throw new Error("Unable to find document with ID ".concat(e," at revision ").concat(i));const s=kWn(o).map(a=>'"'.concat(a,'": defined(*[_id=="').concat(a,'"]._id)')).join(",");return n.observable.fetch("{".concat(s,"}")).pipe(Me(a=>AWn(o,a)))}),Me(o=>{const{_updatedAt:s,...a}=o;return{...a,_id:r}}),On(o=>n.observable.createOrReplace(o,{visibility:"async"})))}function DWn(n){let{client:e}=n;return{getDocumentAtRevision:(r,i)=>ptt(e,r,i),getHistory:(r,i)=>EWn(e,r,i),getTransactions:r=>SWn(e,r),restore:(r,i,o)=>IWn(e,r,i,o),getTimelineController:CWn}}const RWn=n=>{if(n.type==="rollCall")return{type:"rollCall",userId:n.i,sessionId:n.session};if(n.type==="state"){const{sessionId:e,locations:r}=n.m;return{type:"state",userId:n.i,sessionId:e,timestamp:new Date().toISOString(),locations:r}}if(n.type==="disconnect")return{type:"disconnect",userId:n.i,sessionId:n.m.session,timestamp:new Date().toISOString()};throw new Error("Got unknown presence event: ".concat(JSON.stringify(n)))},OWn=(n,e)=>{const r=n.request("presence").pipe(Me(RWn)),i=o=>o.type==="rollCall"?n.request("presence_rollcall",{session:e}):o.type==="state"?n.request("presence_announce",{data:{locations:o.locations,sessionId:e}}):o.type==="disconnect"?n.request("presence_disconnect",{session:e}):Vi;return[r.pipe(id()),i]},PWn=["pqSMwf6hH","pnLYqNfv5","priDVVmy8","p0NFOU0j8","pTDl2jw8d","pHMeQnTse","pDQYzJbyS","pZyoPHKUs","p4Tyi2Be5","pb9vii060","pE8yhOisw","p7Fd2C6Cj","p3exSgYCx","pbIQRYViC","p8GJaTEhN","p27ewL8aM","pYg97z75S","pdLr4quHv","pkJXiDgg6","pkl4UAKcA","pNoExists"],jWn=[["nested","first"],["nested","second"],["nestedArray",{_key:"565c867c8dac"},"arrayNo1",{_key:"a645548a8f01"},"arrayNo1",{_key:"1685e372c40f"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo0"],["nestedArray",{_key:"565c867c8dac"},"arrayNo19",{_key:"a02e7a93e2a2"},"fieldNo19"],["address","country"],["address","street"],["customInputWithDefaultPresence","row3","cell3"]],LWn=ms(()=>Za(0,1e4)).pipe(iy(PWn),Me((n,e)=>({type:"state",userId:n,sessionId:n+e,timestamp:new Date().toISOString(),locations:[{type:"document",documentId:"presence-debug",lastActiveAt:new Date().toISOString(),path:hAn(jWn)}]})),Hs()),mtt="presence_session_id",$Wn=()=>qCt(16);function MWn(){try{return window.sessionStorage.getItem(mtt)}catch{}return null}function FWn(n){try{window.sessionStorage.setItem(mtt,n)}catch{}return n}const HP=MWn()||FWn($Wn());function NWn(n){const{bifur:e,connectionStatusStore:r,userStore:i}=n,[o,s]=OWn(e,HP),a=new z4([]),l=a.pipe(Ro()),c=P=>{a.next(P)},u=P=>s({type:"state",locations:P}),f=()=>s({type:"rollCall"}),h=o.pipe(Bn(P=>P.type==="rollCall"),Bn(P=>P.sessionId!==HP)),g=Za(0,3e4),v=ms(()=>ai(l,h)).pipe(gn(()=>g),iA(a),Me(P=>{let[,O]=P;return O}),Vyt(200),gn(P=>u(P)),iy(Vi),id()),y=ms(()=>f()).pipe(iy(Vi)),b=r.connectionStatus$.pipe(Me(P=>P.type),Bn(P=>P==="connected"||P==="error"),Ro()),x=dtt.pipe(Me(P=>P.find(O=>O.startsWith("presence="))),Me(P=>(P==null?void 0:P.split("presence=")[1].split(",").map(O=>O.trim()))||[])),_=x.pipe(Bn(P=>P.includes("fake_others")),Si(()=>{console.log('Faking other users present in the studio. They will hang out in the document with _type: "presence" and _id: "presence-debug"')}),r1t(LWn)),w=x.pipe(Me(P=>P.includes("show_own"))),C=ai(y,o).pipe(Bn(P=>P.type==="state"||P.type==="disconnect")),S=P=>({lastActiveAt:P.timestamp,locations:P.locations,sessionId:P.sessionId,userId:P.userId}),T=ai(C,_).pipe(rd((P,O)=>O.type==="disconnect"?Cc(P,O.sessionId):{...P,[O.sessionId]:S(O)},{})),A=b.pipe(gn(P=>P==="connected"?ai(T,v):DQ),Me(P=>Object.values(P)),gn(P=>{const O=la(P.map($=>$.userId));return Gi(i.getUsers(O)).pipe(Me($=>P.map(L=>({user:$.find(M=>M.id===L.userId),session:L})).filter(I)))}),q4(Jl(window,"beforeunload").pipe(gn(()=>s({type:"disconnect"})))),Hs({refCount:!0,bufferSize:1}));function I(P){return!!(P.user&&P.session)}const D=A.pipe(Me(P=>{const O=pre(P.map($=>$.session),$=>$.userId);return Object.keys(O).map($=>{var L;return{user:(L=P.find(M=>M.user.id===$))==null?void 0:L.user,sessions:O[$]}})}),iA(w),Me(P=>{let[O,$]=P;return O.filter(L=>$?!0:!L.sessions.some(N=>N.sessionId===HP))}),Me(P=>P.map(O=>{var $;return{user:O.user,status:"online",lastActiveAt:($=O.sessions.sort()[0])==null?void 0:$.lastActiveAt,locations:Ji((O.sessions||[]).map(L=>L.locations||[])).map(L=>({type:L.type,documentId:L.documentId,path:L.path,lastActiveAt:L.lastActiveAt})).reduce((L,M)=>L.concat(M),[])}})));return{setLocation:c,reportLocations:u,debugPresenceParam$:x,globalPresence$:D,documentPresence:P=>A.pipe(iA(w),gn(O=>{let[$,L]=O;return Gi($).pipe(Bn(M=>L||M.session.sessionId!==HP),t1t(M=>(M.session.locations||[]).filter(N=>N.documentId===P).map(N=>({user:M.user,lastActiveAt:M.session.lastActiveAt,path:N.path||[],sessionId:M.session.sessionId}))),y8e())}))}}function BWn(n){const{client:e}=n,r=e.config().projectId,i=e.withConfig({apiVersion:"2021-12-15"});function o(){return i.observable.request({url:"/projects/".concat(r)})}function s(){return i.observable.request({url:"/projects/".concat(r,"/datasets")})}return{get:o,getDatasets:s}}function UWn(){const n=new WeakMap,e=new WeakMap;function r(){return Array.from({length:10}).map(()=>Math.floor(Math.random()*255).toString(16).padStart(2,"0")).join("")}function i(u){const f=e.get(u);if(f)return f;const h=r();return e.set(u,h),h}function o(u){return Array.from(new Set(u)).map(f=>[i(f),f]).sort((f,h)=>{let[m]=f,[g]=h;return m.localeCompare(g,"en")}).map(f=>{let[,h]=f;return h})}function s(u,f){if(!u.length)return;const[h,...m]=u,g=f.get(h);if(g)return m.length?s(m,g.next):g.value}function a(u,f,h){if(!u.length)return;const[m,...g]=u,v=f.get(m)||{type:"multi-key-weak-map-node",value:void 0,next:new WeakMap};if(f.set(m,v),!g.length){v.value=h;return}a(g,v.next,h)}function l(u){return s(o(u),n)}function c(u,f){a(o(u),n,f)}return{get:l,set:c}}const gtt=p.createContext(null);function vtt(n){let{children:e}=n;const r=p.useMemo(()=>{const i=new Map,o={};return{get:s=>{let{namespace:a,dependencies:l}=s;const c=l.map(f=>f===null?o:f),u=i.get(a);return u==null?void 0:u.get(c)},set:s=>{let{namespace:a,dependencies:l,value:c}=s;const u=i.get(a)||UWn(),f=l.map(h=>h===null?o:h);i.set(a,u),u.set(f,c)}}},[]);return d.jsx(gtt.Provider,{value:r,children:e})}function lv(){const n=p.useContext(gtt);if(!n)throw new Error("Could not find `cache` context");return n}const zWn=[{id:"<system>",displayName:"Sanity",imageUrl:"https://public.sanity.io/logos/favicon-192.png"}];function VWn(n){let{client:e,currentUser:r}=n;const i=e.withConfig({apiVersion:"2021-06-07"}),o=new AGe(async a=>{const l=await i.request({uri:"/users/".concat(a.join(",")),withCredentials:!0,tag:"users.get"}),u=(Array.isArray(l)?l:[l]).reduce((f,h)=>(h!=null&&h.id&&(f[h.id]=h),f),{});return a.map(f=>u[f]||null)},{batchScheduleFn:a=>yAn(a)}),s=r&&{id:r.id,displayName:r.name,imageUrl:r.profileImage};return o.prime("me",s),s!=null&&s.id&&o.prime(s.id,s),zWn.forEach(a=>o.prime(a.id,a)),{getUser:async a=>{if(!a)return Promise.resolve(null);try{return await o.load(a)}catch(l){if(l.statusCode===403)return Promise.resolve(null);throw l}},getUsers:async a=>(await o.loadMany(a)).filter(c=>$n(c)&&typeof c.id=="string")}}function Soe(){const{getClient:n,currentUser:e}=xi(),r=lv(),i=n(Dr);return p.useMemo(()=>{const o=r.get({namespace:"userStore",dependencies:[i,e]})||VWn({client:i,currentUser:e});return r.set({namespace:"userStore",dependencies:[i,e],value:o}),o},[i,e,r])}function koe(){const{getClient:n}=xi(),e=n(Dr),r=ao(),i=lv();return p.useMemo(()=>{const o=i.get({namespace:"grantsStore",dependencies:[e,r]})||iWn({client:e,userId:(r==null?void 0:r.id)||null});return i.set({namespace:"grantsStore",dependencies:[e,r],value:o}),o},[e,r,i])}function ytt(){const n=Jr(Dr),e=lv();return p.useMemo(()=>{const r=e.get({namespace:"historyStore",dependencies:[n]})||DWn({client:n});return e.set({namespace:"historyStore",dependencies:[n],value:r}),r},[n,e])}function Qa(){const n=Jr(Dr),e=lv();return p.useMemo(()=>{const r=e.get({namespace:"documentPreviewStore",dependencies:[n]})||KVn({client:n});return e.set({namespace:"documentPreviewStore",dependencies:[n],value:r}),r},[n,e])}function Fc(){const{getClient:n,i18n:e}=xi(),r=Ar(),i=l2(),o=lv(),s=ytt(),a=Qa();return p.useMemo(()=>{const l=o.get({namespace:"documentStore",dependencies:[n,a,s,r,e]})||NHn({getClient:n,documentPreviewStore:a,historyStore:s,initialValueTemplates:i,schema:r,i18n:e});return o.set({namespace:"documentStore",dependencies:[n,a,s,r,e],value:l}),l},[n,a,s,o,r,i,e])}function HWn(){const{bifur:n}=xi().__internal,e=lv();return p.useMemo(()=>{const r=e.get({namespace:"connectionStatusStore",dependencies:[n]})||QDn({bifur:n});return e.set({namespace:"connectionStatusStore",dependencies:[n],value:r}),r},[n,e])}function Toe(){const{__internal:{bifur:n}}=xi(),e=lv(),r=Soe(),i=HWn();return p.useMemo(()=>{const o=e.get({namespace:"presenceStore",dependencies:[n,i,r]})||NWn({bifur:n,connectionStatusStore:i,userStore:r});return e.set({namespace:"presenceStore",dependencies:[n,i,r],value:o}),o},[n,i,e,r])}function WWn(){const n=Jr(Dr),e=lv();return p.useMemo(()=>{const r=e.get({namespace:"projectStore",dependencies:[n]})||BWn({client:n});return e.set({namespace:"projectStore",dependencies:[n],value:r}),r},[n,e])}function btt(){const n=lv(),e=pa(),r=Jr(Dr);return p.useMemo(()=>{const i=n.get({dependencies:[e],namespace:"KeyValueStore"})||TDn({client:r});return n.set({dependencies:[e],namespace:"KeyValueStore",value:i}),i},[r,n,e])}function yw(n){const e=Toe(),[r,i]=p.useState([]);return p.useEffect(()=>{const o=e.documentPresence(n).subscribe(i);return()=>{o.unsubscribe()}},[n,e]),r}function GWn(){const[n,e]=p.useState([]),r=Toe();return p.useEffect(()=>{const i=r.globalPresence$.subscribe(e);return()=>{i.unsubscribe()}},[r]),n}const Y2e={referringDocuments:[],isLoading:!0};function xtt(n){const e=Fc();return bs(()=>e.listenQuery("*[references($docId)] [0...101]",{docId:n},{tag:"use-referring-documents"}).pipe(Me(r=>({referringDocuments:r,isLoading:!1})),ca(Y2e)),[e,n],Y2e)}const wtt=n=>{let{asset:e,assetType:r,referringDocuments:i}=n;const{t:o}=me(),s=i.length;return d.jsxs(d.Fragment,{children:[d.jsx(ke,{borderBottom:s>0,marginTop:2,paddingBottom:2,marginBottom:1,children:d.jsx(J,{size:1,as:"h2",weight:"medium",children:d.jsx(bn,{t:o,i18nKey:"asset-source.usage-list.documents-using-".concat(r),context:e.originalFilename?"named":"unnamed",values:{filename:e.originalFilename,count:s}})})}),i.map(a=>d.jsx(qWn,{document:a},a._id))]})},qWn=n=>{let{document:e}=n;const r=Ar(),i=p.useCallback(o=>d.jsx(Sf,{...o,params:{id:e._id,type:e._type},intent:"edit"}),[e]);return d.jsx(ke,{as:i,radius:2,"data-as":"a",tabIndex:0,children:d.jsx(oe,{align:"center",gap:2,children:d.jsx(XD,{layout:"default",value:{_type:"reference",_ref:e._id},schemaType:r.get(e._type)})})},e._id)},Z2e={maxWidth:"100%",height:"120px",objectFit:"contain",objectPosition:"center"},X2e={gridColumn:"span 1",overflow:"hidden",display:"flex",alignSelf:"center",justifyContent:"center"},Q2e={height:"100%"},KWn=n=>{let{asset:e,assetType:r,hasResults:i=!1}=n;const o=r==="image",{t:s}=me();return i?d.jsx(ke,{tone:"caution",padding:[3,3,4],border:!0,radius:2,marginBottom:3,children:d.jsxs(eo,{columns:3,gap:[2,3,4],children:[d.jsxs(oe,{gap:[3,4],align:"center",style:{gridColumn:o?"span 2":"span 3"},children:[d.jsx(J,{children:d.jsx(as,{})}),d.jsx(J,{size:1,children:s("asset-source.delete-dialog.usage-list.warning-".concat(r,"-is-in-use"),{context:e.originalFilename?"named":"unnamed",filename:e.originalFilename})})]}),o&&d.jsx(ke,{__unstable_checkered:!0,border:!0,radius:1,style:X2e,children:d.jsx(oe,{align:"center",justify:"center",style:Q2e,children:d.jsx("img",{src:"".concat(e.url,"?w=200"),style:Z2e,alt:s("asset-source.usage-list.image-alt"),referrerPolicy:"strict-origin-when-cross-origin"})})})]})}):d.jsx(ke,{paddingX:[2,3,4],paddingY:[3,3,3,4],children:d.jsxs(eo,{columns:3,gap:3,children:[d.jsx(oe,{style:{gridColumn:o?"span 2":"span 3"},align:"center",children:d.jsx(J,{children:d.jsx(bn,{t:s,i18nKey:"asset-source.delete-dialog.usage-list.confirm-delete-".concat(r),context:e.originalFilename?"named":"unnamed",values:{filename:e.originalFilename}})})}),o&&d.jsx(ke,{__unstable_checkered:!0,border:!0,radius:1,style:X2e,children:d.jsx(oe,{align:"center",justify:"center",style:Q2e,children:d.jsx("img",{src:"".concat(e.url,"?w=200"),style:Z2e,alt:s("asset-source.asset-list.table.preview-alt"),referrerPolicy:"strict-origin-when-cross-origin"})})})]})})};function _tt(n){let{asset:e,assetType:r,isDeleting:i=!1,onClose:o,onDelete:s}=n;const{isLoading:a,referringDocuments:l}=xtt(e._id),c=p.useMemo(()=>{const h=l.reduce((m,g)=>g._id.startsWith("drafts.")?m.concat(g._id.slice(7)):m,[]);return l.filter(m=>!h.includes(m._id))},[l]),u=c.length>0,{t:f}=me();return d.jsx(ja,{__unstable_autoFocus:a,footer:{cancelButton:{onClick:o,text:f("asset-source.delete-dialog.action.cancel")},confirmButton:{disabled:u,icon:vs,loading:i,onClick:s,text:f("asset-source.delete-dialog.action.delete")}},header:f("asset-source.delete-dialog.header",{context:r}),id:"asset-dialog",onClickOutside:o,onClose:o,width:1,children:a?d.jsx(te,{padding:4,children:d.jsx(Zr,{showText:!0})}):d.jsxs(Se,{paddingX:u?[2,3,4]:0,paddingY:u?[3,3,3,4]:0,space:1,children:[d.jsx(KWn,{asset:e,assetType:r,hasResults:u}),u&&d.jsx(wtt,{asset:e,referringDocuments:c,assetType:r})]})})}const YWn={portal:!0,placement:"right"};function Ett(n){let{isSelected:e,border:r=!0,onAction:i}=n;const o=e?"default":"bleed",s=e?"primary":"default",{t:a}=me();return d.jsx(Vr,{button:d.jsx(ha,{mode:r?"ghost":o,tone:r?"default":s}),id:"asset-menu",menu:d.jsxs(_r,{children:[d.jsx(Wt,{text:a("asset-source.asset-list.menu.show-usage"),icon:ff,onClick:()=>{i({type:"showUsage"})}}),d.jsx(Wt,{text:a("asset-source.asset-list.menu.delete"),icon:vs,tone:"critical",onClick:()=>{i({type:"delete"})}})]}),popover:YWn})}function Ctt(n){let{asset:e,assetType:r,onClose:i}=n;const{isLoading:o,referringDocuments:s}=xtt(e._id),a=p.useMemo(()=>{const c=s.reduce((u,f)=>f._id.startsWith("drafts.")?u.concat(f._id.slice(7)):u,[]);return s.filter(u=>!c.includes(u._id))},[s]),{t:l}=me();return d.jsx(ja,{__unstable_autoFocus:!0,header:l("asset-source.asset-usage-dialog.header",{context:r}),id:"asset-dialog",onClickOutside:i,onClose:i,width:1,children:o?d.jsx(Zr,{showText:!0}):d.jsx(wtt,{asset:e,referringDocuments:a,assetType:r})})}const nH={"image/bmp":{title:"Bitmap Image"},"image/jpeg":{title:"JPEG Image"},"image/gif":{title:"GIF Image"},"image/vnd.microsoft.icon":{title:"Icon"},"image/png":{title:"PNG Image"},"image/svg+xml":{title:"SVG Image"},"image/webp":{title:"WebP Image"},"image/tiff":{title:"TIFF Image"},"image/heic":{title:"HEIC Image"},"audio/midi":{title:"MIDI Audio"},"audio/midi-x":{title:"MIDI Audio"},"audio/mpeg":{title:"MP3 Audio"},"audio/ogg":{title:"OGG Audio"},"audio/wav":{title:"WAV Audio"},"audio/webm":{title:"WebM Audio"},"audio/aac":{title:"AAC Audio"},"video/x-msvideo":{title:"AVI Video"},"video/mp4":{title:"MP4 Video"},"video/mpeg":{title:"MPEG Video"},"video/ogg":{title:"OGG Video"},"video/webm":{title:"WebM Video"},"video/quicktime":{title:"QuickTime Video"},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{title:"Excel Spreadsheet"},"application/vnd.ms-excel":{title:"Excel Spreadsheet"},"text/plain":{title:"Text"},"text/javascript":{title:"JavaScript"},"text/markdown":{title:"Markdown"},"text/csv":{title:"CSV"},"text/css":{title:"CSS"},"application/pdf":{title:"PDF Document"},"application/xml":{title:"XML Document"},"text/xml":{title:"XML Document"},"application/zip":{title:"ZIP Archive"},"application/vnd.rar":{title:"RAR Archive"},"application/x-7z-compressed":{title:"7-zip Archive"},"application/octet-stream":{title:"Binary"}};function ZWn(n){const e=n.replace("x-","").split("/")[1];return e.charAt(0).toUpperCase()+e.slice(1)}function XWn(n){return nH!=null&&nH[n]?nH[n].title:ZWn(n)}var J2e=Object.freeze,QWn=Object.defineProperty,Q0=(n,e)=>J2e(QWn(n,"raw",{value:J2e(e||n.slice())})),eke,tke,nke,rke,ike,oke,ske,ake;const KY=F.span(eke||(eke=Q0([`
  background-color: transparent;
  flex-shrink: 0;
`]))),O_=F(oe)(tke||(tke=Q0([""]))),JWn=F(ke)(rke||(rke=Q0([`
  `,`
`])),n=>n.isSelected&&Ae(nke||(nke=Q0([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);
    `])))),lke=F(ui)(ske||(ske=Q0([`
  box-shadow: none;
  min-width: 0;
  cursor: pointer;
  position: initial;

  &:before,
  &:after {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    z-index: 2;
  }

  &:before {
    z-index: 0;
    pointer-events: none;
    border-radius: inherit;
  }

  `,`

  `,`
`])),n=>n.isSelected&&Ae(ike||(ike=Q0([`
      --card-muted-fg-color: var(--card-bg-color);
      --card-fg-color: var(--card-bg-color);

      &:before {
        background-color: var(--card-focus-ring-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
      }

      `,` {
        --card-muted-fg-color: var(--card-bg-color);
        --card-fg-color: var(--card-bg-color);
      }
    `])),KY,O_),n=>!n.isSelected&&Ae(oke||(oke=Q0([`
      &:hover:before {
        background-color: var(--card-bg-color);
      }

      &:focus:before {
        background-color: var(--card-code-bg-color);
      }

      &:focus-within:before {
        background-color: var(--card-bg-color);
      }
    `])))),eGn=F(J)(ake||(ake=Q0([`
  overflow-wrap: anywhere;
`]))),cke={position:"relative"},uke={flexShrink:0},rH={minWidth:0},dke={zIndex:3,marginTop:"-0.5rem",marginBottom:"-0.5rem"},tGn=n=>{const e=Jr(Dr),r=da(),i=p.useRef(),[o,s]=p.useState(!1),[a,l]=p.useState(!1),[c,u]=p.useState(!1),[f,h]=p.useState(!1),{asset:m,onClick:g,onKeyPress:v,onDeleteFinished:y,isSelected:b,isMobile:x}=n,{originalFilename:_,_id:w,mimeType:C,size:S,_createdAt:T}=m,A=wy(T,{useTemporalPhrase:!0}),I=XWn(C),D=Aoe({unitDisplay:"short",maximumFractionDigits:2}),R=yY(S,D),P=(_||"").length>37,{t:O}=me(),$=p.useCallback(()=>{l(!0)},[]),L=p.useCallback(le=>{r.push({closable:!0,status:"error",title:O("asset-source.file.asset-list.delete-failed"),description:le.message})},[O,r]),M=p.useCallback(()=>{r.push({status:"success",title:O("asset-source.file.asset-list.delete-successful")})},[O,r]),N=p.useCallback(()=>{u(!0),i.current=e.observable.delete(m._id).subscribe({next:()=>{u(!1),y==null||y(m._id),l(!1),M()},error:le=>{u(!1),L(le),console.error("Could not delete asset",le)}})},[m._id,L,M,y,e.observable]),z=()=>{s(!1),l(!1)},B=()=>{s(!0)},H=()=>{h(!f)},X=le=>{le.type==="delete"&&$(),le.type==="showUsage"&&B()},G=p.useMemo(()=>o&&d.jsx(Ctt,{assetType:"file",asset:m,onClose:z}),[m,o]),ne=p.useMemo(()=>a&&d.jsx(_tt,{assetType:"file",asset:m,onClose:z,onDelete:N,isDeleting:c}),[m,N,c,a]);return x?d.jsxs(ke,{paddingBottom:2,style:cke,children:[d.jsxs(eo,{columns:4,gap:1,style:{position:"relative",gridTemplateColumns:"1fr 30px",opacity:c?.5:1},children:[d.jsx(lke,{asset:m,mode:"bleed",padding:0,"data-id":w,onClick:g,paddingY:1,radius:2,children:d.jsxs(oe,{gap:2,flex:2,align:"center",children:[d.jsx(ke,{as:KY,padding:2,tone:"transparent",radius:2,children:d.jsx(J,{muted:!0,size:2,style:uke,children:d.jsx(gh,{})})}),d.jsx(J,{size:1,align:"left",textOverflow:"ellipsis",style:rH,children:_})]})}),d.jsx(oe,{justify:"flex-end",align:"center",paddingRight:1,style:dke,children:d.jsx(ui,{mode:"bleed",fontSize:1,padding:2,onClick:H,icon:f?VNe:qs})})]}),f&&d.jsxs(d.Fragment,{children:[d.jsxs(eo,{marginTop:3,columns:3,gap:1,children:[d.jsxs(Se,{space:2,children:[d.jsx(J,{size:1,muted:!0,weight:"medium",children:O("asset-source.file.asset-list.header.size")}),d.jsx(J,{size:1,muted:!0,children:R})]}),d.jsxs(Se,{space:2,children:[d.jsx(J,{size:1,muted:!0,weight:"medium",children:O("asset-source.file.asset-list.header.type")}),d.jsx(J,{size:1,muted:!0,children:I})]}),d.jsxs(Se,{space:2,children:[d.jsx(J,{size:1,muted:!0,weight:"medium",children:O("asset-source.file.asset-list.header.date-added")}),d.jsx(J,{size:1,muted:!0,children:A})]})]}),d.jsxs(Se,{space:2,marginTop:3,children:[d.jsx(ui,{fontSize:1,tone:"default",mode:"ghost",text:O("asset-source.file.asset-list.action.show-usage.title"),onClick:B,icon:ff}),d.jsx(ui,{fontSize:1,tone:"critical",mode:"ghost",text:O("asset-source.file.asset-list.action.delete.title"),icon:vs,disabled:b,title:O(b?"asset-source.file.asset-list.action.delete.disabled-cannot-delete-current-file":"asset-source.file.asset-list.action.delete.title"),onClick:$})]})]}),G||ne]}):d.jsxs(JWn,{asset:m,paddingBottom:1,style:cke,radius:0,overflow:"hidden",isSelected:b,"aria-selected":"true",children:[d.jsxs(eo,{columns:4,gap:1,"data-id":w,paddingY:1,style:{position:"relative",gridTemplateColumns:"3fr 1fr 1fr 2fr 30px",opacity:c?.5:1},children:[d.jsx(lke,{asset:m,mode:"bleed","data-id":w,onClick:g,padding:0,onKeyPress:v,title:O("asset-source.file.asset-list.item.select-file-tooltip",{filename:_}),isSelected:b,radius:2,children:d.jsxs(O_,{gap:2,flex:2,paddingRight:1,align:"center",onClick:g,onKeyPress:v,"data-id":w,children:[d.jsx(ke,{as:KY,padding:2,tone:"transparent",radius:2,style:uke,children:d.jsx(J,{muted:!0,size:2,children:d.jsx(gh,{})})}),P&&d.jsx(zn,{content:_,children:d.jsx(J,{size:1,align:"left",textOverflow:"ellipsis",style:rH,children:_})}),!P&&d.jsx(J,{size:1,align:"left",textOverflow:"ellipsis",style:rH,children:_})]})}),d.jsx(O_,{align:"center",children:d.jsx(J,{size:1,muted:!0,children:R})}),d.jsx(O_,{align:"center",children:d.jsx(te,{children:d.jsx(eGn,{size:1,muted:!0,textOverflow:"ellipsis",children:I})})}),d.jsx(O_,{align:"center",children:d.jsx(J,{as:"time",size:1,muted:!0,dateTime:T,children:A})}),d.jsx(O_,{justify:"flex-end",align:"center",paddingX:1,paddingY:1,style:dke,children:d.jsx(Ett,{border:!1,isSelected:!1,onAction:X})})]}),G||ne]})},nGn={paddingLeft:"2.2rem"},fke={gridTemplateColumns:"3fr 1fr 1fr 2fr 30px"};function rGn(n){const r=Xx()<2,{assets:i,onClick:o,onKeyPress:s,onDeleteFinished:a,selectedAssets:l,isLoading:c}=n,{t:u}=me();return d.jsxs(te,{children:[d.jsx(ke,{borderBottom:!0,paddingBottom:2,marginBottom:1,children:r?d.jsx(eo,{style:fke,children:d.jsx(te,{flex:2,paddingLeft:5,children:d.jsx(J,{muted:!0,size:1,weight:"medium",children:u("asset-source.file.asset-list.header.filename")})})}):d.jsxs(eo,{gap:1,style:fke,children:[d.jsx(te,{flex:2,style:nGn,children:d.jsx(J,{muted:!0,size:1,weight:"medium",children:u("asset-source.file.asset-list.header.filename")})}),d.jsx(te,{flex:1,children:d.jsx(J,{muted:!0,size:1,weight:"medium",children:u("asset-source.file.asset-list.header.size")})}),d.jsx(te,{flex:1,children:d.jsx(J,{muted:!0,size:1,weight:"medium",children:u("asset-source.file.asset-list.header.type")})}),d.jsx(te,{flex:1,children:d.jsx(J,{muted:!0,size:1,weight:"medium",children:u("asset-source.file.asset-list.header.date-added")})})]})}),d.jsxs(Se,{children:[c&&i.length===0&&d.jsx(te,{paddingTop:4,paddingBottom:2,children:d.jsx(oe,{justify:"center",children:d.jsx(Qx,{muted:!0})})}),i.map(f=>d.jsx(tGn,{asset:f,isMobile:r,isSelected:l.some(h=>h._id===f._id),onClick:o,onKeyPress:s,onDeleteFinished:a},f._id))]})]})}var hke=Object.freeze,iGn=Object.defineProperty,iB=(n,e)=>hke(iGn(n,"raw",{value:hke(e||n.slice())})),pke,mke,gke,vke;const oGn=typeof window>"u"||!window.devicePixelRatio?1:Math.round(window.devicePixelRatio),sGn=F.img(pke||(pke=iB([`
  position: absolute;
  z-index: 1;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`]))),aGn=F(ke)(mke||(mke=iB([`
  position: relative;
  z-index: 1;
  padding-bottom: 100%;
`]))),YY=F.div(gke||(gke=iB([`
  position: relative;
  display: inherit;
`]))),lGn=F.div(vke||(vke=iB([`
  box-sizing: border-box;
  position: absolute;
  z-index: 2;
  top: 3px;
  right: 3px;

  & button[data-selected] {
    display: block;
  }

  @media (hover: hover) {
    // If hover is supported, hide the buttons until the user hovers or focuses the asset
    // Use opacity to enable the buttons to still be focusable
    & button {
      opacity: 0;
    }

    `,`:hover & {
      button {
        opacity: 1;
      }
    }

    `,`:focus-within & {
      button {
        opacity: 1;
      }
    }
  }
`])),YY,YY),cGn=p.memo(function(e){const r=Jr(Dr),i=da(),o=p.useRef(),{asset:s,onClick:a,onKeyPress:l,onDeleteFinished:c,isSelected:u}=e,[f,h]=p.useState(!1),[m,g]=p.useState(!1),[v,y]=p.useState(!1),{t:b}=me();p.useEffect(()=>()=>{o.current&&o.current.unsubscribe()},[]);const x=p.useCallback(()=>{g(!0)},[g]),_=p.useCallback(()=>{h(!1),g(!1)},[h,g]),w=p.useCallback(()=>{h(!0)},[h]),C=p.useCallback(M=>{i.push({closable:!0,status:"error",title:b("asset-source.image.asset-list.delete-failed"),description:M.message})},[b,i]),S=p.useCallback(()=>{i.push({status:"success",title:b("asset-source.image.asset-list.delete-successful")})},[b,i]),T=p.useCallback(()=>{y(!0),o.current=r.observable.delete(s._id).subscribe({next:()=>{y(!1),c(s._id),g(!1),S()},error:M=>{y(!1),C(M),console.error("Could not delete asset",M)}})},[s._id,C,S,c,r.observable]),A=p.useCallback(M=>{M.type==="delete"&&x(),M.type==="showUsage"&&w()},[x,w]),I=p.useMemo(()=>f&&d.jsx(Ctt,{assetType:"file",asset:s,onClose:_}),[s,_,f]),D=p.useMemo(()=>m&&d.jsx(_tt,{assetType:"file",asset:s,onClose:_,onDelete:T,isDeleting:v}),[s,T,_,v,m]),{originalFilename:R,_id:P,url:O}=s,$=200*Math.max(1,oGn),L=O.includes(".gif")?"".concat(O,"?h=").concat($,"&fit=max&fm=jpg"):"".concat(O,"?h=").concat($,"&fit=max");return d.jsxs(YY,{children:[d.jsx(ui,{selected:u,tabIndex:0,"data-id":P,mode:"ghost",onKeyPress:l,padding:0,style:{padding:2},children:d.jsxs(aGn,{__unstable_checkered:!0,children:[d.jsx(sGn,{alt:R,src:L,onClick:a,"data-id":P}),v&&d.jsx(Zr,{})]})}),d.jsx(lGn,{children:d.jsx(Ett,{isSelected:u,onAction:A})}),I||D]})});var yke=Object.freeze,uGn=Object.defineProperty,dGn=(n,e)=>yke(uGn(n,"raw",{value:yke(e||n.slice())})),bke;const fGn=F(eo)(bke||(bke=dGn([`
  grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
`])));function hGn(n){const{isLoading:e,assets:r,selectedAssets:i,onItemClick:o,onItemKeyPress:s,onDeleteFinished:a}=n;return d.jsxs(te,{padding:4,children:[d.jsx(fGn,{gap:2,children:r.map(l=>d.jsx(cGn,{asset:l,isSelected:i.some(c=>c._id===l._id),onClick:o,onKeyPress:s,onDeleteFinished:a},l._id))}),e&&r.length===0&&d.jsx(oe,{justify:"center",children:d.jsx(Qx,{muted:!0})}),!e&&r.length===0&&d.jsx(J,{align:"center",muted:!0})]})}var xke=Object.freeze,pGn=Object.defineProperty,mGn=(n,e)=>xke(pGn(n,"raw",{value:xke(e||n.slice())})),wke;const i$=200,Stt="sanity.imageAsset",gGn="sanity.fileAsset",vGn=n=>{const e=["image/*","audio/*","video/*"],i=n.split(",").map(o=>o.trim()).reduce((o,s)=>e.includes(s)?{...o,wildcards:"mimeType match '".concat(s,"' || ").concat(o.wildcards)}:s.indexOf(".")===0?{...o,extensions:"'".concat(s.replace(".",""),"', ").concat(o.extensions)}:{...o,mimes:"'".concat(s,"', ").concat(o.mimes)},{mimes:"",extensions:"",wildcards:""});return`&&
  (
    `.concat(i.wildcards,`
    extension in [`).concat(i.extensions,`] ||
    mimeType in [`).concat(i.mimes,`]
  )`)},yGn=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:i$,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Stt,i=arguments.length>3?arguments[3]:void 0;const s=i.length>0?vGn(i):"";return`
  *[_type == "`.concat(r,'" ').concat(s,"] | order(_updatedAt desc) [").concat(n,"...").concat(e,`] {
    _id,
    _updatedAt,
    _createdAt,
    url,
    originalFilename,
    mimeType,
    extension,
    size,
    metadata {dimensions}
  }
`)},bGn=F(ke)(wke||(wke=mGn([`
  border-top: 1px solid var(--card-border-color);
  position: sticky;
  bottom: 0;
  z-index: 200;
`]))),xGn=function(e,r){const i=Jr(Dr),o=p.useMemo(()=>i.withConfig({apiVersion:"2023-02-14"}),[i]),s=p.useRef("default-asset-source-".concat(JVe())),a=p.useRef(0),{t:l}=me(),c=p.useRef(),[u,f]=p.useState([]),[h,m]=p.useState(!1),[g,v]=p.useState(!1),[y,b]=p.useState(!0),{selectedAssets:x,assetType:_="image",dialogHeaderTitle:w,onClose:C,onSelect:S,accept:T}=e,A=T&&T==="image/*"&&_==="image",I=p.useCallback(N=>{const z=N*i$,B=z+i$,H=_==="image",X=H?"asset.image-list":"asset.file-list",G=H?Stt:gGn;b(!0),typeof T<"u"&&(c.current=o.observable.fetch(yGn(z,B,G,T),{},{tag:X}).subscribe(ne=>{m(ne.length<i$),f(le=>le.concat(ne)),b(!1)}))},[_,T,o]),D=p.useCallback(N=>{f(z=>z.filter(B=>B._id!==N))},[f]),R=p.useCallback(N=>{u.find(B=>B._id===N)&&S([{kind:"assetDocumentId",value:N}])},[u,S]),P=p.useCallback(N=>{N.preventDefault();const z=N.currentTarget.getAttribute("data-id");if(!z)throw new Error("Missing data-id attribute on item");R(z)},[R]),O=p.useCallback(N=>{if(N.key==="Enter"){N.preventDefault();const z=N.currentTarget.getAttribute("data-id");if(!z)throw new Error("Missing data-id attribute on item");R(z)}},[R]),$=p.useCallback(()=>{C&&C()},[C]),L=p.useCallback(N=>{N.preventDefault(),I(++a.current)},[I]);p.useEffect(()=>(I(a.current),()=>{c.current&&c.current.unsubscribe()}),[I]),p.useEffect(()=>{!y&&(!a.current||a.current===0)&&v(!0)},[y]);const M=a2({style:"narrow"});return d.jsx(ja,{__unstable_autoFocus:g,header:w||l("asset-source.dialog.default-title",{context:_}),id:s.current,onClickOutside:$,onClose:$,ref:r,width:2,children:d.jsxs(Se,{space:5,children:[!A&&!y&&(T==null?void 0:T.length)>0&&d.jsx(ke,{tone:"primary",padding:3,border:!0,radius:2,children:d.jsxs(oe,{gap:3,align:"center",children:[d.jsx(J,{size:1,children:d.jsx(Wx,{})}),d.jsx(J,{size:1,children:d.jsx(bn,{t:l,i18nKey:"asset-source.dialog.accept-message",values:{acceptTypes:M.format(T.split(",").map(N=>N.trim()))}})})]})}),_==="file"&&d.jsx(rGn,{assets:u,onDeleteFinished:D,onClick:P,onKeyPress:O,isLoading:y,selectedAssets:x}),_==="image"&&d.jsx(hGn,{assets:u,onDeleteFinished:D,onItemClick:P,onItemKeyPress:O,isLoading:y,selectedAssets:x}),u.length>0&&!h&&d.jsx(bGn,{tone:"default",padding:4,children:d.jsx(oe,{direction:"column",children:d.jsx(ze,{type:"button",icon:gJ,loading:y,onClick:L,size:"large",text:l("asset-source.dialog.load-more"),tone:"primary"})})})]})})},ktt=p.memo(p.forwardRef(xGn)),Ttt={name:"sanity-default",title:"Uploaded files",i18nKey:"asset-source.file.title",component:ktt,icon:pJ},Att={name:"sanity-default",title:"Uploaded images",i18nKey:"asset-source.image.title",component:ktt,icon:vh},wGn=[],_Gn=[],EGn=[],CGn=(n,e,r)=>{let{schema:i}=e;const o=i==null?void 0:i.types;if(!o)return n;if(typeof o=="function")return o(n,r);if(Array.isArray(o))return[...n,...o];throw new Error("Expected `schema.types` to be an array or a function, but received ".concat(Mc(o)))},SGn=async(n,e,r)=>{let{document:i}=e;const o=i==null?void 0:i.productionUrl;return o?await o(n,r):n},kGn=(n,e,r)=>{let{tools:i}=e;if(!i)return n;if(typeof i=="function")return i(n,r);if(Array.isArray(i))return[...n,...i];throw new Error("Expected `tools` to be an array or a function, but received ".concat(Mc(i)))},TGn=(n,e,r)=>{let{schema:i}=e;const o=i==null?void 0:i.templates;if(!o)return n;if(typeof o=="function")return o(n,r);if(Array.isArray(o))return[...n,...o];throw new Error("Expected `schema.templates` to be an array or a function, but received ".concat(Mc(o)))},AGn=(n,e,r)=>{let{i18n:i}=e;const o=i==null?void 0:i.locales;if(!o)return n;if(typeof o=="function")return o(n,r);if(Array.isArray(o))return[...n,...o];throw new Error("Expected `i18n.locales` to be an array or a function, but received ".concat(Mc(o)))},IGn=(n,e,r)=>{let{i18n:i}=e;const o=i==null?void 0:i.bundles;if(!o)return n;if(Array.isArray(o))return[...n,...o];if(typeof o=="function")return o(n,r);throw new Error("Expected `i18n.bundles` to be an array or a function, but received ".concat(typeof o))},DGn=(n,e,r)=>{let{document:i}=e;const o=i==null?void 0:i.badges;if(!o)return n;if(typeof o=="function")return o(n,r);if(Array.isArray(o))return[...n,...o];throw new Error("Expected `document.badges` to be an array or a function, but received ".concat(Mc(o)))},RGn=(n,e,r)=>{let{document:i}=e;const o=i==null?void 0:i.actions;if(!o)return n;if(typeof o=="function")return o(n,r);if(Array.isArray(o))return[...n,...o];throw new Error("Expected `document.actions` to be an array or a function, but received ".concat(Mc(o)))},OGn=(n,e,r)=>{let{document:i}=e;const o=i==null?void 0:i.newDocumentOptions;if(!o)return n;if(typeof o!="function")throw new Error("Expected `document.resolveNewDocumentOptions` to be a function, but received ".concat(Mc(o)));return o(n,r)},PGn=(n,e,r)=>{let{form:i}=e;var o;const s=(o=i==null?void 0:i.file)==null?void 0:o.assetSources;if(!s)return n;if(typeof s=="function")return s(n,r);if(Array.isArray(s))return[...n,...s];throw new Error("Expected `form.file.assetSources` to be an array or a function, but received ".concat(Mc(s)))},jGn=(n,e,r)=>{let{form:i}=e;var o;const s=(o=i==null?void 0:i.image)==null?void 0:o.assetSources;if(!s)return n;if(typeof s=="function")return s(n,r);if(Array.isArray(s))return[...n,...s];throw new Error("Expected `form.image.assetSources` to be an array or a function, but received ".concat(Mc(s)))},LGn=(n,e,r)=>{let{document:i}=e;const o=i==null?void 0:i.unstable_languageFilter;if(!o)return n;if(typeof o=="function")return o(n,r);if(Array.isArray(o))return[...n,...o];throw new Error("Expected `document.unstable_languageFilter` to be an array or a function, but received ".concat(Mc(o)))},$Gn=(n,e,r)=>{let{document:i}=e;const o=i==null?void 0:i.inspectors;if(!o)return n;if(typeof o=="function")return o(n,r);if(Array.isArray(o))return[...n,...o];throw new Error("Expected `document.inspectors` to be an array or a function, but received ".concat(Mc(o)))},MGn=n=>{const{config:e,context:r,initialValue:i}=n;return KS(e,[]).reduce((a,l)=>{let{config:c}=l;var u,f;const h=(f=(u=c.document)==null?void 0:u.unstable_comments)==null?void 0:f.enabled;if(!h&&typeof h!="boolean")return a;if(typeof h=="function")return h(r);if(typeof h=="boolean")return h;throw new Error("Expected `document.unstable_comments.enabled` to be a boolean or a function, but received ".concat(Mc(h)))},i)},FGn=n=>{const{config:e}=n;return KS(e,[]).reduce((o,s)=>{let{config:a}=s;const l=a.__internal_tasks;if(!l)return o;if(typeof l=="object"&&l.footerAction)return l;throw new Error("Expected `__internal__tasks` to be an object with footerAction, but received ".concat(Mc(l)))},void 0)},NGn=n=>{const{config:e,initialValue:r}=n;return KS(e,[]).reduce((s,a)=>{let{config:l}=a;var c,u;const f=(u=(c=l.search)==null?void 0:c.unstable_partialIndexing)==null?void 0:u.enabled;if(!f&&typeof f!="boolean")return s;if(typeof f=="boolean")return f;throw new Error("Expected `search.unstable_partialIndexing.enabled` to be a boolean, but received ".concat(Mc(f)))},r)},BGn=(n,e)=>{let{search:r}=e;return n||(r==null?void 0:r.unstable_enableNewSearch)||!1};function pc(n){let{config:e,context:r,initialValue:i,propertyName:o,...s}=n;const a=KS(e,[]);if("reducer"in s)return a.reduce((c,u)=>{let{config:f,path:h}=u;try{return s.reducer(c,f,r)}catch(m){throw new Sbe({propertyName:o,path:h,cause:m})}},i);const l=s.asyncReducer;return(async()=>{let c=i;for(const{config:u,path:f}of a)try{c=await l(c,u,r)}catch(h){throw new Sbe({propertyName:o,path:f,cause:h})}return c})()}function UGn(n){const{bundles:e}=n;function r(){}function i(o,s,a){const l=e.filter(c=>c.locale===o&&c.namespace===s);if(l.length===0){a('No translations found for namespace "'.concat(s,'", language "').concat(o,'"'),void 0);return}zGn(l).then(c=>a(null,c)).catch(c=>a(c,!0))}return{type:"backend",init:r,read:i}}async function zGn(n){var e,r;const i=await Promise.all(n.map(async s=>({...s,resources:await VGn(s)}))),o={};for(const s of i){const a=(e=s.deep)!=null?e:!0,l=(r=s.overwrite)!=null?r:!0;a?Itt(o,s.resources,l):l?Object.assign(o,s.resources):Object.assign({},s.resources,o)}return o}async function VGn(n){if(typeof n.resources!="function")return n.resources;const e=await n.resources();return HGn(e)}function Itt(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const i in e){if(i==="__proto__"||i==="constructor")continue;if(!(i in n)){n[i]=e[i];continue}const o=n[i],s=e[i],a=_ke(o),l=_ke(s);if((a||l)&&r){n[i]=e[i];continue}if(a||l)continue;const c=Array.isArray(s),u=Array.isArray(o);if(c||u){r&&(n[i]=s);continue}Itt(o,s,r)}return n}function _ke(n){return typeof n=="string"||n instanceof String}function HGn(n){return WGn(n)?n.default:n}function WGn(n){return"default"in n&&typeof n.default=="object"&&io(n.default)}function GGn(n){const{projectId:e,dataset:r,name:i}=n,o={projectId:e,dataset:r},s=pc({config:n,context:o,propertyName:"i18n.locales",reducer:AGn,initialValue:[Zd]}),a=pc({config:n,context:o,propertyName:"i18n.bundles",reducer:IGn,initialValue:KGn(s)});return qGn({locales:s,bundles:a,projectId:e,sourceName:i})}function qGn(n){let{locales:e,bundles:r,projectId:i,sourceName:o}=n;const s=new Set(r.map(u=>u.namespace)),a=YGn(i,o,e,s),l=$He().use(UGn({bundles:r})).use(bGt);l.init(a).catch(u=>{console.error("Failed to initialize i18n backend: %s",u)});const c=e.map(ZGn);return{source:{get currentLocale(){var u;return(u=c.find(f=>f.id===l.language))!=null?u:Zd},loadNamespaces(u){const f=u.filter(h=>!l.hasLoadedNamespace(h));return f.length===0?Promise.resolve():l.loadNamespaces(f)},locales:c,t:hXe(l.t)},i18next:l}}function KGn(n){const e=[];for(const r of n){if(r.bundles&&!Array.isArray(r.bundles))throw new Error("Resource bundle for locale ".concat(r.id," is not an array"));if(r.bundles)for(const i of r.bundles){if("locale"in i&&i.locale!==r.id)throw new Error("Resource bundle inside locale ".concat(r.id," has mismatching locale id"));if(!i.namespace)throw new Error("Resource bundle for locale ".concat(r.id," is missing namespace"));e.push("locale"in i?i:{...i,locale:r.id})}}return e}const Eke={ns:[eI],defaultNS:eI,partialBundledLanguages:!0,fallbackLng:Zd.id,lng:Zd.id,debug:uIn,load:"currentOnly",initImmediate:!0,interpolation:{escapeValue:!1},react:{bindI18nStore:"added"}};function YGn(n,e,r,i){var o,s;const a=aDn(n,e),l=r.find(f=>f.id===a),c=r[r.length-1],u=(s=(o=l==null?void 0:l.id)!=null?o:c.id)!=null?s:Eke.lng;return{...Eke,ns:Array.from(i),lng:u,supportedLngs:r.map(f=>f.id)}}function ZGn(n){const{bundles:e,...r}=n;return r}function Dtt(n){return n.reduce((e,r)=>(e[r.name]=r,e),{})}function Ky(n,e){return n[e]}function XGn(n){return n.reduce((e,r)=>(r.type==="field"&&e.push(r.fieldType),e),[])}const QGn=[{fieldPath:"_updatedAt",icon:Xd,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Edited at",name:"updatedAt",type:"pinned"},{fieldPath:"_createdAt",icon:Xd,operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"}],title:"Created at",name:"createdAt",type:"pinned"},{icon:ff,operators:[{name:"referencesDocument",type:"item"},{name:"referencesAssetImage",type:"item"},{name:"referencesAssetFile",type:"item"}],title:"Contains document, image or file",name:"references",type:"pinned"},{fieldType:"array",icon:dA,name:"array",operators:[{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:dA,name:"arrayList",operators:[{name:"arrayListIncludes",type:"item"},{name:"arrayListNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"array",icon:dA,name:"arrayReferences",operators:[{name:"arrayReferenceIncludes",type:"item"},{name:"arrayReferenceNotIncludes",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"},{type:"divider"},{name:"arrayCountEqual",type:"item"},{name:"arrayCountNotEqual",type:"item"},{type:"divider"},{name:"arrayCountGt",type:"item"},{name:"arrayCountGte",type:"item"},{name:"arrayCountLt",type:"item"},{name:"arrayCountLte",type:"item"},{type:"divider"},{name:"arrayCountRange",type:"item"}],type:"field"},{fieldType:"boolean",icon:VI,name:"boolean",operators:[{name:"booleanEqual",type:"item"},{type:"divider"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"date",icon:Xd,name:"date",operators:[{name:"dateLast",type:"item"},{type:"divider"},{name:"dateRange",type:"item"},{name:"dateAfter",type:"item"},{name:"dateBefore",type:"item"},{type:"divider"},{name:"dateEqual",type:"item"},{name:"dateNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"datetime",icon:Xd,name:"datetime",operators:[{name:"dateTimeLast",type:"item"},{type:"divider"},{name:"dateTimeRange",type:"item"},{name:"dateTimeAfter",type:"item"},{name:"dateTimeBefore",type:"item"},{type:"divider"},{name:"dateTimeEqual",type:"item"},{name:"dateTimeNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"email",icon:__,name:"email",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"file",icon:gh,name:"file",operators:[{name:"assetFileEqual",type:"item"},{name:"assetFileNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"image",icon:vh,name:"image",operators:[{name:"assetImageEqual",type:"item"},{name:"assetImageNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"number",icon:uBe,name:"number",operators:[{name:"numberEqual",type:"item"},{name:"numberNotEqual",type:"item"},{type:"divider"},{name:"numberGt",type:"item"},{name:"numberGte",type:"item"},{name:"numberLt",type:"item"},{name:"numberLte",type:"item"},{type:"divider"},{name:"numberRange",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"array",icon:BNe,name:"portableText",operators:[{name:"portableTextMatches",type:"item"},{name:"portableTextNotMatches",type:"item"},{type:"divider"},{name:"portableTextEqual",type:"item"},{name:"portableTextNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"reference",icon:ff,name:"reference",operators:[{name:"referenceEqual",type:"item"},{name:"referenceNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"slug",icon:__,name:"slug",operators:[{name:"slugMatches",type:"item"},{name:"slugNotMatches",type:"item"},{type:"divider"},{name:"slugEqual",type:"item"},{name:"slugNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:__,name:"string",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"string",icon:qs,name:"stringList",operators:[{name:"stringListEqual",type:"item"},{name:"stringListNotEqual",type:"item"},{type:"divider"},{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"text",icon:__,name:"text",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"},{fieldType:"url",icon:__,name:"url",operators:[{name:"stringMatches",type:"item"},{name:"stringNotMatches",type:"item"},{type:"divider"},{name:"stringEqual",type:"item"},{name:"stringNotEqual",type:"item"},{type:"divider"},{name:"defined",type:"item"},{name:"notDefined",type:"item"}],type:"field"}],m0=(()=>{const n={dateTimeFormat:WP(),listFormat:WP(),numberFormat:WP(),relativeTimeFormat:WP()};function e(s,a){const l=GP(s,a);let c=n.dateTimeFormat[l];return c||(c=new Intl.DateTimeFormat(s,a),n.dateTimeFormat[l]=c,c)}function r(s,a){const l=GP(s,a);let c=n.listFormat[l];return c||(c=new Intl.ListFormat(s,a),n.listFormat[l]=c,c)}function i(s,a){const l=GP(s,a);let c=n.numberFormat[l];return c||(c=new Intl.NumberFormat(s,a),n.numberFormat[l]=c,c)}function o(s,a){const l=GP(s,a);let c=n.relativeTimeFormat[l];return c||(c=new Intl.RelativeTimeFormat(s,a),n.relativeTimeFormat[l]=c,c)}return{dateTimeFormat:e,listFormat:r,numberFormat:i,relativeTimeFormat:o}})();function WP(){return Object.create(null)}function GP(n,e){return"".concat(n,"-").concat(JSON.stringify(JGn(e)))}function JGn(n){const e=[];for(const[r,i]of Object.entries(n))e.push("".concat(r,"=").concat(JSON.stringify(i)));return e.sort().join(`
`)}function cf(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=Qg().id;return m0.dateTimeFormat(e,n)}function Aoe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=Qg().id,r={unitDisplay:"long",...n,style:"unit"};return function(o,s){return m0.numberFormat(e,{...r,unit:s}).format(o)}}function eqn(n){let{documentId:e,schemaType:r}=n;const i=Qa(),{draft:o,published:s,isLoading:a}=bs(()=>r2(i,r,e,""),[e,i,r]),l=p.useMemo(()=>({_id:e,_type:r.name}),[e,r.name]),c=eB({draft:o,published:s,value:l});return a?d.jsx(My,{animated:!0,marginLeft:1,radius:2,style:{width:"10ch",height:"1em"}}):d.jsx(d.Fragment,{children:c.title||e.slice(0,8)})}function qP(n){let{value:e}=n;const r=cf({dateStyle:"medium",timeStyle:e.includeTime?"short":void 0}),i=e!=null&&e.date?new Date(e.date):null;return!i||!gy(i)?null:d.jsx(d.Fragment,{children:r.format(i)})}function tqn(n){let{value:e}=n;var r;const i=Aoe();return d.jsx(d.Fragment,{children:i(Math.floor((r=e==null?void 0:e.unitValue)!=null?r:0),e.unit)})}function Cke(n){let{value:e}=n;const r=cf({dateStyle:"medium",timeStyle:e.includeTime?"short":void 0}),i=e!=null&&e.from?new Date(e.from):null,o=e!=null&&e.to?new Date(e.to):null;if(!o||!i||!gy(o)||!gy(i))return null;const s=r.format(i),a=r.format(o);return d.jsx(d.Fragment,{children:"".concat(s," → ").concat(a)})}function Xf(n){let{value:e}=n;const r=Ar(),i=e._ref,o=r.get(e._type);return o?d.jsx(eqn,{documentId:i,schemaType:o}):null}const Rtt=p.createContext(void 0);function Rr(){const n=p.useContext(Rtt);if(n===void 0)throw new Error("useSearchState must be used within an SearchProvider");return n}function qd(n){let{value:e,onChange:r}=n;const[i,o]=p.useState(e??""),{state:{fullscreen:s}}=Rr(),{t:a}=me(),l=p.useCallback(c=>{o(c.currentTarget.value);const u=parseFloat(c.currentTarget.value);r(Number.isFinite(u)?u:null)},[r]);return d.jsx(ua,{fontSize:s?2:1,onChange:l,placeholder:a("search.filter-number-value-placeholder"),radius:2,step:"any",type:"number",value:i})}function Ott(n){let{onChange:e,value:r}=n;var i,o;const[s,a]=p.useState((i=r==null?void 0:r.to)!=null?i:""),[l,c]=p.useState((o=r==null?void 0:r.from)!=null?o:""),{state:{fullscreen:u}}=Rr(),{t:f}=me(),h=p.useCallback(g=>{var v;a(g.currentTarget.value);const y=parseFloat(g.currentTarget.value);e({to:Number.isFinite(y)?y:null,from:(v=r==null?void 0:r.from)!=null?v:null})},[r==null?void 0:r.from,e]),m=p.useCallback(g=>{var v;c(g.currentTarget.value);const y=parseFloat(g.currentTarget.value);e({to:(v=r==null?void 0:r.to)!=null?v:null,from:Number.isFinite(y)?y:null})},[r==null?void 0:r.to,e]);return d.jsxs(oe,{gap:2,children:[d.jsx(te,{flex:1,children:d.jsx(ua,{fontSize:u?2:1,onChange:m,placeholder:f("search.filter-number-min-value-placeholder"),radius:2,step:"any",type:"number",value:l})}),d.jsx(te,{flex:1,children:d.jsx(ua,{fontSize:u?2:1,onChange:h,placeholder:f("search.filter-number-max-value-placeholder"),radius:2,step:"any",type:"number",value:s})})]})}function oB(n,e){const r=e.split("."),i=r[0];if(i&&vf(n)){const o=n.fields.find(s=>s.name===i);if(o){const s=r.slice(1).join(".");return s?oB(o.type,s):o}}}var Ske=Object.freeze,nqn=Object.defineProperty,rqn=(n,e)=>Ske(nqn(n,"raw",{value:Ske(e||n.slice())})),kke;const iqn=F(te)(kke||(kke=rqn([`
  @supports (-webkit-overflow-scrolling: touch) {
    * [data-ui='Box'] {
      background-attachment: scroll;
    }
  }
`])));function Ptt(n){let{documentId:e,layout:r,presence:i,schemaType:o,showBadge:s=!0}=n;const a=Qa(),{draft:l,published:c,isLoading:u}=bs(()=>r2(a,o,e,""),[e,a,o]),f=p.useMemo(()=>({_id:e,_type:o.name}),[e,o.name]),h=p.useMemo(()=>u?null:d.jsxs(oe,{align:"center",gap:3,children:[i&&i.length>0&&d.jsx(jN,{presence:i}),s&&d.jsx(_u,{children:o.title}),d.jsx(zN,{draft:l,published:c})]}),[l,u,i,c,o.title,s]),m=d.jsx(aI,{draft:l,published:c});return d.jsx(iqn,{children:d.jsx(am,{...eB({draft:l,published:c,value:f}),isPlaceholder:u??!0,layout:r||"default",icon:o.icon,status:h,tooltip:m})})}function Ioe(n){let{disableIntentLink:e,documentId:r,documentType:i,layout:o,onClick:s,onItemSelect:a,...l}=n;const u=Ar().get(i),f=yw(r),h=p.useMemo(()=>({id:r,type:u==null?void 0:u.name}),[r,u==null?void 0:u.name]),{onClick:m,href:g}=AD({intent:"edit",params:h}),v=p.useCallback(y=>{a==null||a({_id:r,_type:i}),e||m(y),s==null||s()},[a,r,i,e,s,m]);return u?d.jsx(te,{...l,children:d.jsx(J0,{as:"a","data-as":"a",flex:1,href:e?void 0:g,onClick:v,radius:2,tabIndex:-1,children:d.jsx(Ptt,{documentId:r,layout:o,presence:f,schemaType:u})})}):null}const oqn=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),sqn="_debug_search_score",jtt=!1,aqn=1e3,Ltt="k",lqn=oqn?"Cmd":"Ctrl",ZY=_x.space[4],cqn=735,uqn=800,JD=5,i2=3;function sB(n){let{allowEmptyQueries:e,terms:r}=n;const i=e?!0:r.query.length>0,o=!!r.filter,s=r.types.length>0;return i||o||s}function dqn(n,e){return aB(n).filter(r=>fqn(r,e)).sort(XY)}function aB(n){return uJe(n).filter(e=>e.__experimental_omnisearch_visibility!==!1)}function XY(n,e){var r,i;return((r=n.title)!=null?r:n.name).localeCompare((i=e.title)!=null?i:e.name)}function fqn(n,e){var r;return!e||((r=n.title)!=null?r:n.name).toLowerCase().includes(e==null?void 0:e.toLowerCase())}const hqn=300,iH={error:null,hits:[],loading:!1,terms:{query:"",types:[]}};function pqn(n){return n!==null}function mqn(n){var e;return{...n,terms:{...n.terms,filter:(e=n.terms.filter)==null?void 0:e.trim(),query:n.terms.query.trim()}}}function $tt(n){let{allowEmptyQueries:e,initialState:r,onComplete:i,onError:o,onStart:s,schema:a}=n;const[l,c]=p.useState(r),u=Jr(Dr),f=WN(),{unstable_enableNewSearch:h=!1}=pa().search,m=p.useMemo(()=>HN(aB(a),u,{tag:"search.global",unique:!0,unstable_enableNewSearch:h,maxDepth:f}),[u,f,a,h]),g=K4(y=>y.pipe(Bn(pqn),Me(mqn),Ro(Br),OQ(b=>Za((b==null?void 0:b.debounceTime)||hqn)),Si(s),gn(b=>Go(Ke({...iH,loading:!0,options:b.options,terms:b.terms}),$yt(()=>sB({allowEmptyQueries:e,terms:b.terms}),m(b.terms,b.options).pipe(Si(x=>{let{hits:_,nextCursor:w}=x;return i==null?void 0:i({hits:_,nextCursor:w})}),vi(x=>(o==null||o(x),Ke({...iH,error:x,loading:!1,options:b.options,terms:b.terms})))),Ke(Vi).pipe(Si(()=>i==null?void 0:i({hits:[],nextCursor:void 0})))),Ke({loading:!1}))),rd((b,x)=>({...b,...x}),iH),Si(c)),[e,m]);return{handleSearch:p.useCallback(y=>g(y),[g]),searchState:l}}const gqn=40;function Mtt(n){let{availableCharacters:e=gqn,types:r}=n;if(r.length===0)return{remainingCount:0,types:[]};const i=r.reduce(function(){let o=e;return function(s,a,l){const c=Tke(a);return o-=c.length,(l===0||e>c.length&&o>c.length)&&s.push(a),s}}(),[]);return{remainingCount:r.length-i.length,types:i.map(Tke)}}function Ftt(n){let{t:e,availableCharacters:r,types:i}=n;if(i.length===0)return e("search.document-type-list-all-types");const{remainingCount:o,types:s}=Mtt({availableCharacters:r,types:i}),a=o>0?"search.document-type-list-truncated":"search.document-type-list";return e(a,{count:o,types:s,formatParams:{types:{style:"short",type:"unit"}}})}function Tke(n){var e;return(e=n.title)!=null?e:n.name}var Ake=Object.freeze,vqn=Object.defineProperty,yqn=(n,e)=>Ake(vqn(n,"raw",{value:Ake(e||n.slice())})),Ike;const bqn=()=>!0,xqn=F(J)(Ike||(Ike=yqn([`
  word-break: break-word;
`]))),wqn=p.forwardRef(function(e,r){let{onSelect:i,types:o=[],value:s}=e;const a=p.useRef(null),l=Ar(),{state:{fullscreen:c}}=Rr(),{t:u}=me(),f=p.useId(),[h,m]=p.useState([]),{handleSearch:g,searchState:v}=$tt({allowEmptyQueries:!0,initialState:{hits:[],loading:!1,error:null,terms:{query:"",types:o}},onComplete:S=>{m(S.hits.map(T=>{let{hit:A}=T;return{value:A._id,hit:A}}))},schema:l}),y=p.useCallback(()=>{g({debounceTime:0,options:{limit:100},terms:{query:"",types:o}})},[g,o]),b=p.useCallback(S=>{g(S?{options:{limit:100},terms:{query:S||"",types:o}}:{debounceTime:0,options:{limit:0},terms:{query:"",types:o}})},[g,o]),x=p.useCallback(S=>{var T;const A=(T=h.find(I=>I.value===S))==null?void 0:T.hit;A&&(i==null||i({_ref:di(A._id),_type:A._type}))},[h,i]),_=p.useMemo(()=>{if(o.length===0)return u("search.action.search-all-types");const{remainingCount:S,types:T}=Mtt({types:o}),A=S>0?"search.action.search-specific-types-truncated":"search.action.search-specific-types";return u(A,{count:S,types:T,formatParams:{types:{style:"short",type:"unit"}}})},[o,u]),w=p.useCallback(S=>d.jsx(Ioe,{disableIntentLink:!0,documentId:S.value,documentType:S.hit._type,layout:"compact"}),[]),C=p.useCallback((S,T)=>{const{content:A,hidden:I,onMouseEnter:D,onMouseLeave:R}=S,P=h&&h.length>0;return d.jsx(Ai,{constrainSize:!0,content:d.jsx("div",{ref:T,children:P?A:v.terms.query&&d.jsx(te,{padding:4,children:d.jsx(oe,{align:"center",height:"fill",justify:"center",children:d.jsx(xqn,{align:"center",muted:!0,children:d.jsx(bn,{t:u,i18nKey:"new-document.no-results",values:{searchQuery:v.terms.query}})})})})}),fallbackPlacements:["bottom","bottom-end"],matchReferenceWidth:!0,onMouseEnter:D,onMouseLeave:R,open:!v.loading&&!I,overflow:"auto",placement:"bottom-start",radius:i2,referenceElement:a.current})},[h,v.loading,v.terms.query,u]);return d.jsx("div",{ref:a,children:d.jsx(hte,{"aria-label":_,filterOption:bqn,fontSize:c?2:1,id:f,loading:v.loading,openButton:{onClick:y},options:h,onQueryChange:b,onSelect:x,placeholder:_,radius:2,ref:r,renderOption:w,renderPopover:C,value:s==null?void 0:s._ref})})});function zA(n){let{fieldDefinition:e,onChange:r,value:i}=n;const{onClose:o,state:{documentTypesNarrowed:s}}=Rr(),a=Ar(),{t:l}=me(),c=p.useCallback(m=>r(m),[r]),u=p.useMemo(()=>e?e.documentTypes.filter(m=>s.includes(m)).flatMap(m=>{const g=a.get(m);if(g){const v=oB(g,e.fieldPath);if(cd(v==null?void 0:v.type))return v==null?void 0:v.type.of.filter(Eg).flatMap(y=>y.to);if(Eg(v==null?void 0:v.type))return v==null?void 0:v.type.to}return[]}).reduce((m,g)=>(m.findIndex(v=>v.name===(g==null?void 0:g.name))<0&&m.push(g),m),[]):[],[s,e,a]),f=p.useCallback(()=>c(null),[c]),h=p.useCallback(()=>{o==null||o()},[o]);return d.jsx(te,{style:{width:"min(calc(100vw - 40px), 420px)"},children:i!=null&&i._ref&&(i!=null&&i._type)?d.jsxs(Se,{space:3,children:[d.jsx(ke,{padding:1,radius:1,shadow:1,children:d.jsx(Ioe,{documentId:i._ref,documentType:i._type,layout:"compact",onClick:h})}),d.jsx(ze,{mode:"ghost",onClick:f,text:l("search.filter-reference-clear"),tone:"critical"})]}):d.jsx(wqn,{onSelect:c,types:u,value:i})})}function _qn(n){let{onClick:e,selected:r,title:i,value:o}=n;const s=p.useCallback(()=>e(o),[e,o]);let a="".concat(i);return typeof o<"u"&&i!==o&&(a+=" (".concat(o,")")),d.jsx(Wt,{onClick:s,pressed:r,tone:"default",text:a})}function YF(n){let{fieldDefinition:e,onChange:r,value:i}=n;const o=p.useId(),{state:{documentTypesNarrowed:s}}=Rr(),{t:a}=me(),l=Ar(),c=p.useMemo(()=>e?e.documentTypes.filter(m=>s.includes(m)).map(m=>{const g=l.get(m);if(g){const v=oB(g,e.fieldPath);return v==null?void 0:v.type.options}return null}).filter(Ws).map(m=>m.list).flatMap(m=>m==null?void 0:m.map(g=>Eqn(g))).filter(Ws).reduce((m,g)=>{const v=m.findIndex(y=>y.value===(g==null?void 0:g.value));if(v>-1){const y=m[v];m[v]={...m[v],title:la([...y.title,g.title]).sort()}}else m.push({...g,title:[g.title]});return m},[]):[],[s,e,l]),u=p.useCallback(f=>{r(f)},[r]);return d.jsx(Vr,{button:d.jsx(ze,{mode:"ghost",iconRight:qs,text:i?String(i):a("search.filter-string-value-select-predefined-value")}),id:o||"",menu:d.jsx(_r,{children:c.map((f,h)=>d.jsx(_qn,{onClick:u,selected:f.value===i,title:f.title.join(", "),value:f.value||""},h))}),popover:{constrainSize:!0,placement:"bottom-start",portal:!1,radius:2}})}function Eqn(n){return xQ(n)?n:{title:iw("".concat(n)),value:n}}const Ntt=()=>d.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM7.04 15.328V13.624L12.08 11.872L15.32 10.816V10.72L12.08 9.664L7.04 7.912V6.208L17.36 9.88V11.656L7.04 15.328Z",fill:"currentColor"})}),Btt=()=>d.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M7.568 18.848V16.952L14.792 12.08V11.984L7.568 7.112V5.216L16.52 11.288V12.776L7.568 18.848Z",fill:"currentColor"})}),Utt=()=>d.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M7.04 19V17.512H17.36V19H7.04ZM17.36 15.328L7.04 11.656V9.88L17.36 6.208V7.912L12.32 9.664L9.08 10.72V10.816L12.32 11.872L17.36 13.624V15.328Z",fill:"currentColor"})}),ztt=()=>d.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M16.952 19.632L8 13.56V12.072L16.952 6V7.896L9.728 12.768V12.864L16.952 17.736V19.632Z",fill:"currentColor"})});function mn(n){return JSON.stringify(n)}const Cqn={arrayCountEqual:{nameKey:"search.operator.array-count-equal.name",descriptionKey:"search.operator.array-count-equal.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return Number.isFinite(r)&&e?"count(".concat(e,") == ").concat(mn(r)):null},initialValue:null,inputComponent:qd,type:"arrayCountEqual"},arrayCountGt:{nameKey:"search.operator.array-count-gt.name",descriptionKey:"search.operator.array-count-gt.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return Number.isFinite(r)&&e?"count(".concat(e,") > ").concat(mn(r)):null},icon:Btt,initialValue:null,inputComponent:qd,type:"arrayCountGt"},arrayCountGte:{nameKey:"search.operator.array-count-gte.name",descriptionKey:"search.operator.array-count-gte.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return Number.isFinite(r)&&e?"count(".concat(e,") >= ").concat(mn(r)):null},icon:Ntt,initialValue:null,inputComponent:qd,type:"arrayCountGte"},arrayCountLt:{nameKey:"search.operator.array-count-lt.name",descriptionKey:"search.operator.array-count-lt.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return Number.isFinite(r)&&e?"count(".concat(e,") < ").concat(mn(r)):null},icon:ztt,initialValue:null,inputComponent:qd,type:"arrayCountLt"},arrayCountLte:{nameKey:"search.operator.array-count-lte.name",descriptionKey:"search.operator.array-count-lte.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return Number.isFinite(r)&&e?"count(".concat(e,") <= ").concat(mn(r)):null},icon:Utt,initialValue:null,inputComponent:qd,type:"arrayCountLte"},arrayCountNotEqual:{nameKey:"search.operator.array-count-not-equal.name",descriptionKey:"search.operator.array-count-not-equal.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return Number.isFinite(r)&&e?"count(".concat(e,") != ").concat(mn(r)):null},initialValue:null,inputComponent:qd,type:"arrayCountNotEqual"},arrayCountRange:{nameKey:"search.operator.array-count-range.name",descriptionKey:"search.operator.array-count-range.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return Number.isFinite(r==null?void 0:r.to)&&Number.isFinite(r==null?void 0:r.from)&&e?"count(".concat(e,") > ").concat(mn(r==null?void 0:r.from)," && count(").concat(e,") < ").concat(mn(r==null?void 0:r.to)):""},initialValue:null,inputComponent:Ott,type:"arrayCountRange"},arrayListIncludes:{nameKey:"search.operator.array-list-includes.name",descriptionKey:"search.operator.array-list-includes.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return r&&e?"".concat(mn(r)," in ").concat(e):null},initialValue:null,inputComponent:YF,type:"arrayListIncludes"},arrayListNotIncludes:{nameKey:"search.operator.array-list-not-includes.name",descriptionKey:"search.operator.array-list-not-includes.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return r&&e?"!(".concat(mn(r)," in ").concat(e,")"):null},initialValue:null,inputComponent:YF,type:"arrayListNotIncludes"},arrayReferenceIncludes:{nameKey:"search.operator.array-reference-includes.name",descriptionKey:"search.operator.array-reference-includes.description",buttonValueComponent:Xf,groqFilter:n=>{let{fieldPath:e,value:r}=n;return r!=null&&r._ref&&e?"".concat(mn(r._ref)," in ").concat(e,"[]._ref"):null},initialValue:null,inputComponent:zA,type:"arrayReferenceIncludes"},arrayReferenceNotIncludes:{nameKey:"search.operator.array-reference-not-includes.name",descriptionKey:"search.operator.array-reference-not-includes.description",buttonValueComponent:Xf,groqFilter:n=>{let{fieldPath:e,value:r}=n;return r!=null&&r._ref&&e?"!(".concat(mn(r._ref)," in ").concat(e,"[]._ref)"):null},initialValue:null,inputComponent:zA,type:"arrayReferenceNotIncludes"}},o$=p.createContext(null);function lB(n){let{children:e,...r}=n;const i=p.useContext(o$),{unstable_sources:o}=pa();if("source"in r){const{source:s}=r;return d.jsx(o$.Provider,{value:s,children:e})}if("name"in r){const{name:s}=r,a=o.find(l=>l.name===s);if(!a)throw new Error("Could not find source with name `".concat(s,"` in current workspace"));return i===a?d.jsx(d.Fragment,{children:e}):d.jsx(o$.Provider,{value:a,children:e})}throw new Error("Invalid props passed into SourceProvider. A `name` or a `source` object is required.")}function xi(){const n=p.useContext(o$);if(!n)throw new Error("Could not find `source` context");return n}function Sqn(n){const{t:e}=me();return d.jsx(te,{...n,children:d.jsxs(oe,{align:"flex-start",gap:3,children:[d.jsx(mo,{tone:"caution",children:d.jsx(as,{})}),d.jsxs(Se,{space:4,children:[d.jsx(mo,{size:1,tone:"caution",weight:"medium",children:e("search.error.no-valid-asset-source-title")}),d.jsx(mo,{size:1,tone:"caution",children:e("search.error.no-valid-asset-source-only-default-description")}),d.jsx(mo,{size:1,tone:"caution",children:e("search.error.no-valid-asset-source-check-config-description")})]})]})})}function kqn(n){let{reference:e}=n;const r=Qa(),i=p.useCallback(o=>FQe(r,o),[r]);return d.jsx(iS,{observeAsset:i,reference:e,waitPlaceholder:d.jsx(Aqn,{}),children:o=>d.jsx(Tqn,{asset:o})})}function Tqn(n){let{asset:e}=n;return d.jsx(ke,{padding:2,shadow:1,children:d.jsxs(oe,{align:"center",justify:"space-between",wrap:"nowrap",children:[d.jsx(ke,{padding:3,radius:1,shadow:1,tone:"transparent",children:d.jsx(J,{children:d.jsx(zI,{})})}),d.jsxs(Se,{flex:1,space:2,marginLeft:3,children:[d.jsx(J,{muted:!0,size:1,textOverflow:"ellipsis",weight:"medium",children:(e==null?void 0:e.originalFilename)||e._id}),d.jsx(J,{size:1,muted:!0,children:aet(e.size)})]})]})})}function Aqn(){return d.jsx(ke,{padding:2,shadow:1,children:d.jsxs(oe,{align:"center",justify:"flex-start",children:[d.jsx(ke,{padding:3,radius:1,shadow:1,tone:"transparent",children:d.jsx(J,{children:d.jsx(zI,{})})}),d.jsxs(Se,{flex:1,space:2,marginLeft:3,children:[d.jsx(ro,{animated:!0,style:{width:"100%"},radius:1}),d.jsx(ro,{animated:!0,style:{width:"100%"},radius:1})]})]})})}var Dke=Object.freeze,Iqn=Object.defineProperty,Vtt=(n,e)=>Dke(Iqn(n,"raw",{value:Dke(e||n.slice())})),Rke,Oke;const Dqn=F(ke)(Rke||(Rke=Vtt([`
  position: relative;
  padding-bottom: 100%;
`]))),Rqn=F.img(Oke||(Oke=Vtt([`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  object-fit: contain;
`])));function Oqn(n){let{reference:e}=n;const r=Qa(),i=p.useCallback(o=>MQe(r,o),[r]);return d.jsx(iS,{observeAsset:i,reference:e,children:o=>d.jsx(Pqn,{asset:o})})}function Pqn(n){let{asset:e}=n;const[r,i]=p.useState(!1),o="".concat(e.url,"?h=800&fit=max"),s=p.useCallback(()=>i(!0),[]);return d.jsxs(Dqn,{__unstable_checkered:!0,border:!0,children:[!r&&d.jsx(Zr,{fill:!0,showText:!0}),d.jsx(Rqn,{onLoad:s,src:o})]})}function jqn(n){let{reference:e}=n;return e?e._type.startsWith("sanity.fileAsset")?d.jsx(kqn,{reference:e}):e._type.startsWith("sanity.imageAsset")?d.jsx(Oqn,{reference:e}):null:null}var Pke=Object.freeze,Lqn=Object.defineProperty,$qn=(n,e)=>Pke(Lqn(n,"raw",{value:Pke(e||n.slice())})),jke;const Mqn={file:"sanity.fileAsset",image:"sanity.imageAsset"},Fqn=F(te)(jke||(jke=$qn([`
  width: min(calc(100vw - 40px), 320px);
`])));function RE(n){return function(r){let{onChange:i,value:o}=r;const[s,a]=p.useState(null),[l,c]=p.useState(null);Rr();const{file:u,image:f}=xi().form,{t:h}=me(),m=p.useMemo(()=>{switch(n){case"file":return u.assetSources.filter(T=>T.name===Ttt.name);case"image":return f.assetSources.filter(T=>T.name===Att.name);default:throw Error("Unknown asset source found")}},[u.assetSources,f.assetSources]),g=p.useId(),v=Jr(Dr),y=p.useCallback(()=>{c(null),i(null)},[i]),b=p.useCallback(()=>{a(null)},[]),x=p.useCallback(T=>{const A=T[0];c(A),b()},[b]),_=p.useCallback(T=>a(T),[]);p.useEffect(()=>{(l==null?void 0:l.kind)==="assetDocumentId"&&typeof(l==null?void 0:l.value)=="string"&&n&&i({_ref:l.value,_type:Mqn[n]})},[v,i,l]);const w=s==null?void 0:s.component,C=h(o?"search.filter-asset-change":"search.filter-asset-select",{context:n}),S=ko(n,"options.accept",n==="image"?"image/*":"");return d.jsx(Fqn,{children:d.jsxs(Se,{space:3,children:[s&&w&&d.jsx(ew,{children:d.jsx(w,{assetType:n,dialogHeaderTitle:h("search.action.select-asset",{context:n}),onClose:b,onSelect:x,selectedAssets:[],selectionType:"single",accept:S})}),o&&d.jsx(jqn,{reference:o}),d.jsxs(oe,{gap:2,children:[m.length===0&&d.jsx(Sqn,{padding:2}),m.length>0&&d.jsx(d.Fragment,{children:m.length>1?d.jsx(Vr,{button:d.jsx(ze,{icon:o?BM:Aa,iconRight:qs,mode:"ghost",width:o?"fill":void 0,text:C}),id:g,menu:d.jsx(_r,{children:m.map(T=>d.jsx(Wt,{icon:T.icon||vh,onClick:()=>_(T),text:(T.i18nKey?h(T.i18nKey):T.title)||li(T.name)},T.name))}),popover:{constrainSize:!0,portal:!1,radius:2}}):d.jsx(ze,{icon:o?BM:Aa,mode:"ghost",onClick:()=>_(m[0]),width:o?"fill":void 0,text:C})}),o&&d.jsx(ze,{mode:"ghost",onClick:y,width:"fill",text:h("search.filter-asset-clear"),tone:"critical"})]})]})})}}const Nqn={assetFileEqual:{nameKey:"search.operator.asset-file-equal.name",descriptionKey:"search.operator.asset-file-equal.description",buttonValueComponent:Xf,groqFilter:n=>{let{fieldPath:e,value:r}=n;return r!=null&&r._ref&&e?"".concat(e,".asset._ref == ").concat(mn(r._ref)):null},initialValue:null,inputComponent:RE("file"),label:"is",type:"assetFileEqual"},assetFileNotEqual:{nameKey:"search.operator.asset-file-not-equal.name",descriptionKey:"search.operator.asset-file-not-equal.description",buttonValueComponent:Xf,groqFilter:n=>{let{fieldPath:e,value:r}=n;return r!=null&&r._ref&&e?"".concat(e,".asset._ref != ").concat(mn(r._ref)):null},initialValue:null,inputComponent:RE("file"),label:"is not",type:"assetFileNotEqual"},assetImageEqual:{nameKey:"search.operator.asset-image-equal.name",descriptionKey:"search.operator.asset-image-equal.description",buttonValueComponent:Xf,groqFilter:n=>{let{fieldPath:e,value:r}=n;return r!=null&&r._ref&&e?"".concat(e,".asset._ref == ").concat(mn(r._ref)):null},initialValue:null,inputComponent:RE("image"),label:"is",type:"assetImageEqual"},assetImageNotEqual:{nameKey:"search.operator.asset-image-not-equal.name",descriptionKey:"search.operator.asset-image-not-equal.description",buttonValueComponent:Xf,groqFilter:n=>{let{fieldPath:e,value:r}=n;return r!=null&&r._ref&&e?"".concat(e,".asset._ref != ").concat(mn(r._ref)):null},initialValue:null,inputComponent:RE("image"),label:"is not",type:"assetImageNotEqual"}};function Bqn(n){let{onChange:e,value:r}=n;const{state:{fullscreen:i}}=Rr(),{t:o}=me(),s=p.useCallback(a=>{e(a.currentTarget.value==="true")},[e]);return d.jsxs(Sx,{fontSize:i?2:1,onChange:s,radius:2,value:String(r??!0),children:[d.jsx("option",{value:"true",children:o("search.filter-boolean-true")}),d.jsx("option",{value:"false",children:o("search.filter-boolean-false")})]})}const Uqn={booleanEqual:{nameKey:"search.operator.boolean-equal.name",descriptionKey:"search.operator.boolean-equal.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return typeof r<"u"&&e?"".concat(e," == ").concat(mn(r)):null},initialValue:!0,inputComponent:Bqn,type:"booleanEqual"}};var Lke=Object.freeze,zqn=Object.defineProperty,Vqn=(n,e)=>Lke(zqn(n,"raw",{value:Lke(e||n.slice())})),$ke;const Hqn=F(J)($ke||($ke=Vqn([`
  cursor: default;
`])));function Doe(n){let{onChange:e,value:r}=n;const{t:i}=me();return d.jsxs(oe,{align:"center",gap:2,justify:"flex-end",marginTop:1,children:[d.jsx(Se,{children:d.jsx(Hqn,{muted:!0,onClick:e,size:1,weight:"medium",children:i("calendar.action.include-time-label")})}),d.jsx(fte,{checked:r,label:i("calendar.action.include-time-label"),onChange:e})]})}const Htt=p.createContext(void 0);function Roe(){const n=p.useContext(Htt);if(n===void 0)throw new Error("useCalendar must be used within an CalendarContext.Provider");return n}function Wqn(n){const{t:e}=me(),r=cf({month:"long",year:"numeric"}),{focusedDate:i}=Roe(),{moveFocusedDate:o,onNowClick:s}=n,a=p.useCallback(()=>o(-1),[o]),l=p.useCallback(()=>o(1),[o]);return d.jsxs(oe,{align:"center",flex:1,justify:"space-between",children:[d.jsx(to,{paddingLeft:2,space:1,children:d.jsx(J,{size:1,weight:"medium",children:QVe(r.format(i))})}),d.jsxs(oe,{align:"center",children:[d.jsx(ze,{"aria-label":e("calendar.action.go-to-today-aria-label"),mode:"bleed",onClick:s,text:e("calendar.action.go-to-today")}),d.jsx(ze,{icon:k8,mode:"bleed",onClick:a,tooltipProps:{content:e("calendar.action.go-to-previous-month")}}),d.jsx(ze,{icon:Ch,mode:"bleed",onClick:l,tooltipProps:{content:e("calendar.action.go-to-next-month")}})]})]})}var Mke=Object.freeze,Gqn=Object.defineProperty,Wtt=(n,e)=>Mke(Gqn(n,"raw",{value:Mke(e||n.slice())})),Fke,Nke;const qqn=F.svg(n=>{let{theme:e}=n;return Ae(Fke||(Fke=Wtt([`
    bottom: 0;
    left: 0;
    position: absolute;
    right: 0;
    top: 0;

    circle {
      stroke: `,`;
      stroke-width: 3;
      fill: none;
    }
  `])),e.sanity.color.card.enabled.border)}),Kqn=F(ke)(Nke||(Nke=Wtt([`
  position: relative;

  &[data-focused='true'] {
    z-index: 1;
  }

  &[data-start-date='true'] {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  &[data-end-date='true'] {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  &[data-within-range='true'] {
    border-radius: 0;
  }
`])));function Yqn(n){let{date:e,onSelect:r}=n;const i=p.useCallback(()=>{r(e)},[e,r]),{date:o,endDate:s,focusedDate:a,selectRange:l}=Roe(),c=o&&Jm(e,o),u=l&&o&&Jm(e,o),f=l&&s&&Jm(e,s),h=xHe(e,a),m=a&&Jm(e,a),g=Jm(e,new Date),v=o&&s&&!u&&!f&&Fq(e,o)&&hHe(e,s);return d.jsxs(Kqn,{__unstable_focusRing:!0,"aria-label":e.toDateString(),"aria-pressed":c,"data-end-date":f?!0:void 0,"data-focused":m?"true":"","data-ui":"CalendarDay","aria-selected":c,"data-start-date":u?!0:void 0,"data-within-range":v?!0:void 0,forwardedAs:"button",onClick:i,paddingX:3,paddingY:2,radius:2,role:"button",selected:c||u||f,tabIndex:-1,tone:v?"primary":"default",children:[g&&d.jsx(qqn,{height:"100%",preserveAspectRatio:"xMidYMid meet",vectorEffect:"non-scaling-stroke",viewBox:"0 0 100 100",width:"100%",children:d.jsx("circle",{cx:"50",cy:"50",r:"40%"})}),d.jsx(J,{align:"center",muted:!c&&!h,size:1,weight:h?"medium":"regular",children:e.getDate()})]})}const oH=["calendar.weekday-names.short.monday","calendar.weekday-names.short.tuesday","calendar.weekday-names.short.wednesday","calendar.weekday-names.short.thursday","calendar.weekday-names.short.friday","calendar.weekday-names.short.saturday","calendar.weekday-names.short.sunday"];_te(0,24);const Zqn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Xqn=[1,2,3,4,5,6],Qqn=(n,e)=>{const r=nHe(n);return tHe({start:r,end:fHe(r)},{weekStartsOn:e===7?0:e})},Jqn=n=>n.map(e=>[e,...Xqn.map(r=>vc(e,r))]),eKn=n=>{const{weekInfo:e}=Qg();return Jqn(Qqn(n,e.firstDay)).map(r=>({number:dHe(r[0]),days:r}))};var Bke=Object.freeze,tKn=Object.defineProperty,nKn=(n,e)=>Bke(tKn(n,"raw",{value:Bke(e||n.slice())})),Uke;const rKn={1:oH,7:[oH[6],...oH.slice(0,6)]},iKn=F(eo)(Uke||(Uke=nKn([`
  grid-template-columns: repeat(7, minmax(44px, auto));
`])));function oKn(n){let{hidden:e,onSelect:r}=n;const{focusedDate:i,firstWeekDay:o}=Roe(),{t:s}=me();return d.jsx(te,{"aria-hidden":e||!1,"data-ui":"CalendarMonth",children:d.jsxs(iKn,{gapY:1,children:[rKn[o].map(a=>d.jsx(te,{paddingBottom:3,paddingTop:2,children:d.jsx(J,{align:"center",size:1,weight:"medium",children:s(a)})},a)),eKn(i).map((a,l)=>a.days.map((c,u)=>d.jsx(Yqn,{date:c,onSelect:r},"".concat(l,"-").concat(u))))]})})}const sKn=d.jsx("span",{"data-preserve-focus":!0,style:{overflow:"hidden",position:"absolute",outline:"none"},tabIndex:-1});function aKn(n){const{date:e,endDate:r,onSelect:i,selectRange:o,selectTime:s}=n,[a,l]=p.useState(null),[c,u]=p.useState(!1),[f,h]=p.useState(e||new Date),m=p.useRef(e||null),g=p.useRef(r||null),{weekInfo:{firstDay:v}}=Qg(),y=p.useCallback(()=>{var C;(C=a==null?void 0:a.querySelector('[data-focused="true"]'))==null||C.focus()},[a]),b=p.useCallback(C=>{const S=NWt(C,{hours:C.getHours(),minutes:C.getMinutes(),seconds:0,milliseconds:0}),T=e&&hHe(S,e),A=r&&Fq(S,r);if(o){if(T||A){i({date:S,endDate:null});return}i(c?{date:e||null,endDate:S}:{date:S,endDate:e?null:r||null})}else i({date:S})},[e,r,i,c,o]),x=p.useCallback(()=>{const C=new Date;o?h(C):i({date:C})},[i,o,h]),_=p.useCallback(C=>{var S;if(Zqn.includes(C.key)){if(C.preventDefault(),C.target.hasAttribute("data-calendar-grid")){y();return}C.key==="ArrowUp"&&h(vc(f,-7)),C.key==="ArrowDown"&&h(vc(f,7)),C.key==="ArrowLeft"&&h(vc(f,-1)),C.key==="ArrowRight"&&h(vc(f,1)),(S=a==null?void 0:a.querySelector("[data-preserve-focus]"))==null||S.focus()}},[a,y,f,h]),w=p.useCallback(C=>h(vte(f,C)),[f,h]);return p.useEffect(()=>{y()},[y]),p.useEffect(()=>{var C;((C=document.activeElement)==null?void 0:C.matches("[data-calendar-grid], [data-calendar-grid] [data-preserve-focus]"))&&y()},[y,f]),p.useEffect(()=>{var C,S;const T=(e==null?void 0:e.getTime())!==((C=m.current)==null?void 0:C.getTime()),A=(r==null?void 0:r.getTime())!==((S=g.current)==null?void 0:S.getTime()),I=T&&!A,D=!T&&A,R=e&&r&&Fq(e,r);I&&(R&&(u(!0),i({date:e,endDate:null})),u(!!e),e&&h(e)),D&&(R&&(u(!0),i({date:r,endDate:null})),u(!!e&&!r),r&&h(r)),T&&A&&(u(!0),e&&h(e)),m.current=e||null,g.current=r||null},[e,r,i]),d.jsx(Htt.Provider,{value:{date:e,endDate:r,focusedDate:f,selectRange:o,selectTime:s,firstWeekDay:v},children:d.jsxs(te,{"data-ui":"Calendar",ref:l,children:[d.jsx(oe,{children:d.jsx(te,{flex:1,children:d.jsx(Wqn,{moveFocusedDate:w,onNowClick:x})})}),d.jsxs(te,{"data-calendar-grid":!0,onKeyDown:_,marginTop:2,overflow:"hidden",tabIndex:0,children:[d.jsx(oKn,{onSelect:b}),sKn]})]})})}function Ooe(n){let{date:e,endDate:r,onChange:i,selectRange:o,selectTime:s}=n;const a=p.useCallback(l=>{i(l)},[i]);return d.jsx(aKn,{date:e,endDate:r,onSelect:a,selectRange:o,selectTime:s})}var zke=Object.freeze,lKn=Object.defineProperty,cKn=(n,e)=>zke(lKn(n,"raw",{value:zke(e||n.slice())})),Vke;const uKn=F(te)(n=>{let{$background:e,$smallClearButton:r}=n;return Ae(Vke||(Vke=cKn([`
    width: 100%;

    input + span {
      background: `,`;
    }

    [data-qa='clear-button'] {
      background: none;
      box-shadow: none;
      display: flex; /* TODO: hack, currently used to vertically center <TextInput>'s clearButton */
      transform: `,`;
      &:hover {
        opacity: 0.5;
      }
    }
  `])),i=>{let{theme:o}=i;return e?o.sanity.color.card.disabled.bg2:"transparent"},r?"scale(0.8)":"scale(1)")}),Poe=p.forwardRef(function(e,r){const{$background:i,$smallClearButton:o,...s}=e;return d.jsx(uKn,{$background:i,$smallClearButton:o,children:d.jsx(ua,{...s,ref:r})})});function ug(n){let{date:e,dateOnly:r,roundDay:i}=n,o;switch(i){case"end":o=R3(e);break;case"start":o=my(e);break;default:o=e;break}return r?o.toISOString().split("T")[0]:o.toISOString()}const KP={date:{exampleDate:"Jan 1, 2000",pattern:"MMM d, yyyy"},datetime:{exampleDate:"Jan 1, 2000 12:00 AM",pattern:"MMM d, yyyy p"}};function ZF(n){let{isDateTime:e,onChange:r,placeholderDate:i,isDateTimeFormat:o,value:s,...a}=n;const{t:l}=me(),c=o?KP.datetime.pattern:KP.date.pattern,[u,f]=p.useState(void 0),[h,m]=p.useState(()=>{if(!s)return"";const w=new Date(s);return QO(w,c)}),g=p.useMemo(()=>QO(i||new Date,c),[c,i]),v=p.useCallback(w=>{let{dateString:C,triggerOnChange:S}=w;if(!C)return;const T=gWt(C,c,new Date),A=gy(T);A&&(S&&r(ug({date:T,dateOnly:!e})),m(QO(T,c))),f(A?void 0:"Invalid ".concat(e?"datetime":"date"))},[c,e,r]),y=p.useCallback(()=>{v({dateString:h,triggerOnChange:!0})},[h,v]),b=p.useCallback(w=>{m(w.currentTarget.value)},[]),x=p.useCallback(()=>{r(null),f(void 0),m("")},[r]),_=p.useCallback(w=>{w.key==="Enter"&&v({dateString:h,triggerOnChange:!0})},[h,v]);return p.useEffect(()=>{const w=s&&new Date(s);w&&v({dateString:QO(w,c),triggerOnChange:!1})},[c,v,o,s]),d.jsx(zn,{content:l("calendar.error.must-be-in-format",{exampleDate:o?KP.datetime.exampleDate:KP.date.exampleDate}),disabled:!u,placement:"top",portal:!0,children:d.jsx(Poe,{...a,clearButton:!!h,customValidity:u,onBlur:y,onChange:b,onClear:x,onKeyDown:_,placeholder:g,value:h})})}function cB(n){let{direction:e,isDateTime:r,onChange:i,value:o}=n;const{state:{fullscreen:s}}=Rr(),{t:a}=me(),l=p.useMemo(()=>{switch(e){case"after":return"end";case"before":return"start";default:return}},[e]),c=p.useCallback(h=>{let{date:m}=h,g=null;m&&(g=ug({date:m,dateOnly:!r,roundDay:o!=null&&o.includeTime?void 0:l})),i({includeTime:o==null?void 0:o.includeTime,date:g})},[r,i,l,o==null?void 0:o.includeTime]),u=p.useCallback(()=>{const h=!(o!=null&&o.includeTime),m=o!=null&&o.date?new Date(o.date):null;let g=null;m&&(g=ug({date:m,dateOnly:!r,roundDay:h?"start":l})),i({includeTime:h,date:g})},[r,i,l,o]),f=p.useCallback(h=>{i({includeTime:o==null?void 0:o.includeTime,date:h||null})},[i,o==null?void 0:o.includeTime]);return d.jsxs(Se,{space:3,children:[d.jsx(ZF,{"aria-label":a("search.filter-date-aria-label"),fontSize:s?2:1,isDateTime:r,isDateTimeFormat:r&&(o==null?void 0:o.includeTime),onChange:f,radius:2,value:o==null?void 0:o.date}),d.jsx(Ooe,{date:o!=null&&o.date?new Date(o.date):void 0,onChange:c,selectTime:r}),r&&d.jsx(Doe,{onChange:u,value:!!(o!=null&&o.includeTime)})]})}function dKn(n){return d.jsx(cB,{...n,direction:"after",isDateTime:!1})}function fKn(n){return d.jsx(cB,{...n,direction:"before",isDateTime:!1})}function Gtt(n){let{isDateTime:e,onChange:r,value:i}=n;const{state:{fullscreen:o}}=Rr(),{t:s}=me(),a=p.useCallback(u=>{let{date:f}=u;if(f){const h=ug({date:f,dateOnly:!e});r({includeTime:i==null?void 0:i.includeTime,date:h})}else r(null)},[e,r,i==null?void 0:i.includeTime]),l=p.useCallback(()=>{const u=!(i!=null&&i.includeTime),f=i!=null&&i.date?new Date(i.date):null;let h=null;f&&(h=ug({date:f,dateOnly:!e})),r({includeTime:u,date:h})},[e,r,i]),c=p.useCallback(u=>{r({includeTime:i==null?void 0:i.includeTime,date:u||null})},[r,i==null?void 0:i.includeTime]);return d.jsxs(Se,{space:3,children:[d.jsx(ZF,{"aria-label":s("search.filter-date-aria-label"),fontSize:o?2:1,isDateTime:e,isDateTimeFormat:e&&(i==null?void 0:i.includeTime),onChange:c,radius:2,value:i==null?void 0:i.date}),d.jsx(Ooe,{date:i!=null&&i.date?new Date(i.date):void 0,onChange:a,selectTime:e}),e&&d.jsx(Doe,{onChange:l,value:!!(i!=null&&i.includeTime)})]})}function Hke(n){return d.jsx(Gtt,{...n,isDateTime:!1})}const hKn=[{unit:"day",key:"search.filter-date-unit_days"},{unit:"month",key:"search.filter-date-unit_months"},{unit:"year",key:"search.filter-date-unit_years"}];function Wke(n){let{onChange:e,value:r}=n;const[i,o]=p.useState((r==null?void 0:r.unitValue)||""),s=p.useRef("day"),a=p.useRef((r==null?void 0:r.unitValue)||null),{t:l}=me(),{state:{fullscreen:c}}=Rr(),u=p.useCallback(()=>{e({unit:s==null?void 0:s.current,unitValue:a==null?void 0:a.current})},[e]),f=p.useCallback(m=>{s.current=m.currentTarget.value,u()},[u]),h=p.useCallback(m=>{o(m.currentTarget.value);const g=parseFloat(m.currentTarget.value);a.current=Number.isFinite(g)?g:null,u()},[u]);return d.jsxs(oe,{gap:2,children:[d.jsx(te,{flex:1,children:d.jsx(ua,{"aria-label":l("search.filter-date-value-aria-label"),fontSize:c?2:1,onChange:h,pattern:"\\d*",radius:2,step:"1",type:"number",value:i})}),d.jsx(te,{flex:1,children:d.jsx(Sx,{"aria-label":l("search.filter-date-unit-aria-label"),fontSize:c?2:1,onChange:f,radius:2,value:r==null?void 0:r.unit,children:hKn.map(m=>d.jsx("option",{value:m.unit,children:l(m.key)},m.key))})})]})}const pKn=-7;function qtt(n){let{isDateTime:e,onChange:r,value:i}=n;const{t:o}=me(),{state:{fullscreen:s}}=Rr(),a=p.useMemo(()=>vc(new Date,pKn),[]),l=p.useMemo(()=>new Date,[]),c=p.useCallback(m=>{let{date:g,endDate:v}=m;r(Gke({date:g,endDate:v,includeTime:i==null?void 0:i.includeTime,isDateTime:e}))},[e,r,i==null?void 0:i.includeTime]),u=p.useCallback(()=>{const m=!(i!=null&&i.includeTime);r(Gke({date:i!=null&&i.from?new Date(i.from):null,endDate:i!=null&&i.to?new Date(i.to):null,includeTime:m,isDateTime:e}))},[e,r,i]),f=p.useCallback(m=>{r({includeTime:i==null?void 0:i.includeTime,to:m||null,from:(i==null?void 0:i.from)||null})},[r,i]),h=p.useCallback(m=>{r({includeTime:i==null?void 0:i.includeTime,to:(i==null?void 0:i.to)||null,from:m||null})},[r,i]);return d.jsx("div",{children:d.jsxs(Se,{space:3,children:[d.jsxs(oe,{direction:"column",gap:3,children:[d.jsx(ZF,{"aria-label":o("search.filter-date-range-start-date-aria-label"),fontSize:s?2:1,isDateTime:e,isDateTimeFormat:e&&(i==null?void 0:i.includeTime),onChange:h,placeholderDate:a,radius:2,value:i==null?void 0:i.from}),d.jsx(ZF,{"aria-label":o("search.filter-date-range-end-date-aria-label"),fontSize:s?2:1,isDateTime:e,isDateTimeFormat:e&&(i==null?void 0:i.includeTime),onChange:f,placeholderDate:l,radius:2,value:i==null?void 0:i.to})]}),d.jsx(Ooe,{date:i!=null&&i.from?new Date(i.from):void 0,endDate:i!=null&&i.to?new Date(i.to):void 0,onChange:c,selectRange:!0,selectTime:e}),e&&d.jsx(Doe,{onChange:u,value:!!(i!=null&&i.includeTime)})]})})}function Gke(n){let{date:e,endDate:r,includeTime:i,isDateTime:o}=n;return i?{includeTime:i,to:r?ug({date:r,dateOnly:!o,roundDay:"start"}):null,from:e?ug({date:e,dateOnly:!o,roundDay:"start"}):null}:{includeTime:i,to:r?ug({date:r,dateOnly:!o,roundDay:"end"}):null,from:e?ug({date:e,dateOnly:!o,roundDay:"start"}):null}}function mKn(n){return d.jsx(qtt,{...n,isDateTime:!1})}function gKn(n){return d.jsx(cB,{...n,direction:"after",isDateTime:!0})}function vKn(n){return d.jsx(cB,{...n,direction:"before",isDateTime:!0})}function qke(n){return d.jsx(Gtt,{...n,isDateTime:!0})}function yKn(n){return d.jsx(qtt,{...n,isDateTime:!0})}const Dd={dateAfter:{buttonValueComponent:qP,initialValue:null},dateBefore:{buttonValueComponent:qP,initialValue:null},dateEqual:{buttonValueComponent:qP,initialValue:{date:null,includeTime:!1}},dateLast:{buttonValueComponent:tqn},dateNotEqual:{buttonValueComponent:qP,initialValue:{date:null,includeTime:!1}},dateRange:{initialValue:null}},bKn={dateAfter:{...Dd.dateAfter,nameKey:"search.operator.date-after.name",descriptionKey:"search.operator.date-after.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return r!=null&&r.date&&e?"".concat(e," > ").concat(mn(r==null?void 0:r.date)):null},inputComponent:dKn,type:"dateAfter"},dateBefore:{...Dd.dateBefore,nameKey:"search.operator.date-before.name",descriptionKey:"search.operator.date-before.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return r!=null&&r.date&&e?"".concat(e," < ").concat(mn(r==null?void 0:r.date)):null},inputComponent:fKn,type:"dateBefore"},dateEqual:{...Dd.dateEqual,nameKey:"search.operator.date-equal.name",descriptionKey:"search.operator.date-equal.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return r!=null&&r.date&&e?"".concat(e," == ").concat(mn(r.date)):null},inputComponent:Hke,type:"dateEqual"},dateLast:{...Dd.dateLast,nameKey:"search.operator.date-last.name",descriptionKey:"search.operator.date-last.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;const i=typeof(r==null?void 0:r.unitValue)=="number"?Math.floor(r.unitValue):void 0,o=Number.isFinite(i)?Gpe(new Date,{days:(r==null?void 0:r.unit)==="day"?i:0,months:(r==null?void 0:r.unit)==="month"?i:0,years:(r==null?void 0:r.unit)==="year"?i:0}).toISOString().split("T")[0]:null;return o&&e?"".concat(e," > ").concat(mn(o)):null},inputComponent:Wke,initialValue:{unit:"day",unitValue:7},type:"dateLast"},dateNotEqual:{...Dd.dateNotEqual,nameKey:"search.operator.date-not-equal.name",descriptionKey:"search.operator.date-not-equal.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return r!=null&&r.date&&e?"".concat(e," != ").concat(mn(r.date)):null},inputComponent:Hke,type:"dateNotEqual"},dateRange:{...Dd.dateRange,nameKey:"search.operator.date-range.name",descriptionKey:"search.operator.date-range.description",buttonValueComponent:Cke,groqFilter:n=>{let{fieldPath:e,value:r}=n;return r!=null&&r.to&&(r!=null&&r.from)&&e?"".concat(e," >= ").concat(mn(r.from)," && ").concat(e," <= ").concat(mn(r.to)):null},initialValue:{includeTime:!1,to:Wpe().toISOString(),from:null},inputComponent:mKn,type:"dateRange"},dateTimeAfter:{...Dd.dateAfter,nameKey:"search.operator.date-time-after.name",descriptionKey:"search.operator.date-time-after.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return r!=null&&r.date&&e?"dateTime(".concat(e,") > dateTime(").concat(mn(r.date),")"):null},inputComponent:gKn,type:"dateTimeAfter"},dateTimeBefore:{...Dd.dateBefore,nameKey:"search.operator.date-time-before.name",descriptionKey:"search.operator.date-time-before.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return r!=null&&r.date&&e?"dateTime(".concat(e,") < dateTime(").concat(mn(r.date),")"):null},inputComponent:vKn,type:"dateTimeBefore"},dateTimeEqual:{...Dd.dateEqual,nameKey:"search.operator.date-time-equal.name",descriptionKey:"search.operator.date-time-equal.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;const i=(r==null?void 0:r.date)&&new Date(r.date);if(!i||!gy(i)||!e)return null;const o=(r!=null&&r.includeTime?Mpe(i):my(i)).toISOString(),s=(r!=null&&r.includeTime?Fpe(i):R3(i)).toISOString();return"dateTime(".concat(e,") > dateTime(").concat(mn(o),") && dateTime(").concat(e,") < dateTime(").concat(mn(s),")")},inputComponent:qke,type:"dateTimeEqual"},dateTimeLast:{...Dd.dateLast,nameKey:"search.operator.date-time-last.name",descriptionKey:"search.operator.date-time-last.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;const i=typeof(r==null?void 0:r.unitValue)=="number"?Math.floor(r.unitValue):void 0,o=Number.isFinite(i)?Gpe(new Date,{days:(r==null?void 0:r.unit)==="day"?i:0,months:(r==null?void 0:r.unit)==="month"?i:0,years:(r==null?void 0:r.unit)==="year"?i:0}).toISOString():null;return o&&e?"dateTime(".concat(e,") > dateTime(").concat(mn(o),")"):null},initialValue:{unit:"day",unitValue:7},inputComponent:Wke,type:"dateTimeLast"},dateTimeNotEqual:{...Dd.dateNotEqual,nameKey:"search.operator.date-time-not-equal.name",descriptionKey:"search.operator.date-time-not-equal.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;const i=(r==null?void 0:r.date)&&new Date(r.date);if(!i||!gy(i)||!e)return null;const o=(r!=null&&r.includeTime?Mpe(i):my(i)).toISOString(),s=(r!=null&&r.includeTime?Fpe(i):R3(i)).toISOString();return"dateTime(".concat(e,") < dateTime(").concat(mn(o),") || dateTime(").concat(e,") > dateTime(").concat(mn(s),")")},inputComponent:qke,type:"dateTimeNotEqual"},dateTimeRange:{...Dd.dateRange,nameKey:"search.operator.date-time-range.name",descriptionKey:"search.operator.date-time-range.description",buttonValueComponent:Cke,groqFilter:n=>{let{fieldPath:e,value:r}=n;return r!=null&&r.to&&(r!=null&&r.from)&&e?"dateTime(".concat(e,") >= dateTime(").concat(mn(r.from),") && dateTime(").concat(e,") <= dateTime(").concat(mn(r.to),")"):null},initialValue:{includeTime:!1,to:Wpe().toISOString(),from:null},inputComponent:yKn,type:"dateTimeRange"}},xKn={defined:{nameKey:"search.operator.defined.name",descriptionKey:"search.operator.defined.description",groqFilter:n=>{let{fieldPath:e}=n;return e?"defined(".concat(e,")"):null},type:"defined"},notDefined:{nameKey:"search.operator.not-defined.name",descriptionKey:"search.operator.not-defined.description",i18nKey:"search.operator.not-defined",groqFilter:n=>{let{fieldPath:e}=n;return e?"!defined(".concat(e,")"):null},type:"notDefined"}},wKn={numberEqual:{nameKey:"search.operator.number-equal.name",descriptionKey:"search.operator.number-equal.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return Number.isFinite(r)&&e?"".concat(e," == ").concat(mn(r)):null},initialValue:null,inputComponent:qd,type:"numberEqual"},numberGt:{nameKey:"search.operator.number-gt.name",descriptionKey:"search.operator.number-gt.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return Number.isFinite(r)&&e?"".concat(e," > ").concat(mn(r)):null},icon:Btt,initialValue:null,inputComponent:qd,type:"numberGt"},numberGte:{nameKey:"search.operator.number-gte.name",descriptionKey:"search.operator.number-gte.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return Number.isFinite(r)&&e?"".concat(e," >= ").concat(mn(r)):null},icon:Ntt,initialValue:null,inputComponent:qd,type:"numberGte"},numberLt:{nameKey:"search.operator.number-lt.name",descriptionKey:"search.operator.number-lt.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return Number.isFinite(r)&&e?"".concat(e," < ").concat(mn(r)):null},icon:ztt,initialValue:null,inputComponent:qd,type:"numberLt"},numberLte:{nameKey:"search.operator.number-lte.name",descriptionKey:"search.operator.number-lte.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return Number.isFinite(r)&&e?"".concat(e," <= ").concat(mn(r)):null},icon:Utt,initialValue:null,inputComponent:qd,type:"numberLte"},numberNotEqual:{nameKey:"search.operator.number-not-equal.name",descriptionKey:"search.operator.number-not-equal.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return Number.isFinite(r)&&e?"".concat(e," != ").concat(mn(r)):null},initialValue:null,inputComponent:qd,type:"numberNotEqual"},numberRange:{nameKey:"search.operator.number-range.name",descriptionKey:"search.operator.number-range.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return Number.isFinite(r==null?void 0:r.to)&&Number.isFinite(r==null?void 0:r.from)&&e?"".concat(e," > ").concat(mn(r==null?void 0:r.from)," && ").concat(e," < ").concat(mn(r==null?void 0:r.to)):""},initialValue:null,inputComponent:Ott,type:"numberRange"}};function tf(n){let{onChange:e,value:r}=n;const{state:{fullscreen:i}}=Rr(),{t:o}=me(),s=p.useCallback(a=>e(a.currentTarget.value||null),[e]);return d.jsx(ua,{fontSize:i?2:1,onChange:s,placeholder:o("search.filter-string-value-placeholder"),radius:2,value:r||""})}const _Kn={portableTextEqual:{nameKey:"search.operator.portable-text-equal.name",descriptionKey:"search.operator.portable-text-equal.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return r&&e?"pt::text(".concat(e,") == ").concat(mn(r)):null},initialValue:null,inputComponent:tf,type:"portableTextEqual"},portableTextMatches:{nameKey:"search.operator.portable-text-contains.name",descriptionKey:"search.operator.portable-text-contains.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return r&&e?"pt::text(".concat(e,") match ").concat(mn(r)):null},initialValue:null,inputComponent:tf,type:"portableTextMatches"},portableTextNotEqual:{nameKey:"search.operator.portable-text-not-equal.name",descriptionKey:"search.operator.portable-text-not-equal.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return r&&e?"pt::text(".concat(e,") != ").concat(mn(r)):null},initialValue:null,inputComponent:tf,type:"portableTextNotEqual"},portableTextNotMatches:{nameKey:"search.operator.portable-text-not-contains.name",descriptionKey:"search.operator.portable-text-not-contains.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return r&&e?"!(pt::text(".concat(e,") match ").concat(mn(r),")"):null},initialValue:null,inputComponent:tf,type:"portableTextNotMatches"}},EKn={referenceEqual:{nameKey:"search.operator.reference-equal.name",descriptionKey:"search.operator.reference-equal.description",buttonValueComponent:Xf,groqFilter:n=>{let{fieldPath:e,value:r}=n;return r!=null&&r._ref&&e?"".concat(e,"._ref == ").concat(mn(r._ref)):null},initialValue:null,inputComponent:zA,type:"referenceEqual"},referenceNotEqual:{nameKey:"search.operator.reference-not-equal.name",descriptionKey:"search.operator.reference-not-equal.description",buttonValueComponent:Xf,groqFilter:n=>{let{fieldPath:e,value:r}=n;return r!=null&&r._ref&&e?"".concat(e,"._ref != ").concat(mn(r._ref)):null},initialValue:null,inputComponent:zA,type:"referenceNotEqual"},referencesAssetFile:{nameKey:"search.operator.reference-asset-file.name",descriptionKey:"search.operator.reference-asset-file.description",buttonValueComponent:Xf,groqFilter:n=>{let{value:e}=n;return e!=null&&e._ref?"references(".concat(mn(e._ref),")"):null},initialValue:null,inputComponent:RE("file"),type:"referencesAssetFile"},referencesAssetImage:{nameKey:"search.operator.reference-asset-image.name",descriptionKey:"search.operator.reference-asset-image.description",buttonValueComponent:Xf,groqFilter:n=>{let{value:e}=n;return e!=null&&e._ref?"references(".concat(mn(e._ref),")"):null},initialValue:null,inputComponent:RE("image"),type:"referencesAssetImage"},referencesDocument:{nameKey:"search.operator.reference-document.name",descriptionKey:"search.operator.reference-document.description",buttonValueComponent:Xf,groqFilter:n=>{let{value:e}=n;return e!=null&&e._ref?"references(".concat(mn(e._ref),")"):null},initialValue:null,inputComponent:zA,type:"referencesDocument"}},CKn={slugEqual:{nameKey:"search.operator.slug-equal.name",descriptionKey:"search.operator.slug-equal.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return r&&e?"".concat(e,".current == ").concat(mn(r)):null},initialValue:null,inputComponent:tf,type:"slugEqual"},slugMatches:{nameKey:"search.operator.slug-contains.name",descriptionKey:"search.operator.slug-contains.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return r&&e?"".concat(e,".current match ").concat(mn(r)):null},initialValue:null,inputComponent:tf,label:"contains",type:"slugMatches"},slugNotEqual:{nameKey:"search.operator.slug-not-equal.name",descriptionKey:"search.operator.slug-not-equal.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return r&&e?"".concat(e,".current != ").concat(mn(r)):null},initialValue:null,inputComponent:tf,type:"slugNotEqual"},slugNotMatches:{nameKey:"search.operator.slug-not-contains.name",descriptionKey:"search.operator.slug-not-contains.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return r&&e?"!(".concat(e,".current match ").concat(mn(r),")"):null},initialValue:null,inputComponent:tf,type:"slugNotMatches"}},SKn={stringEqual:{nameKey:"search.operator.string-equal.name",descriptionKey:"search.operator.string-equal.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return r&&e?"".concat(e," == ").concat(mn(r)):null},initialValue:null,inputComponent:tf,type:"stringEqual"},stringListEqual:{nameKey:"search.operator.string-list-equal.name",descriptionKey:"search.operator.string-list-equal.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return r&&e?"".concat(e," == ").concat(mn(r)):null},initialValue:null,inputComponent:YF,type:"stringListEqual"},stringListNotEqual:{nameKey:"search.operator.string-list-not-equal.name",descriptionKey:"search.operator.string-list-not-equal.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return r&&e?"".concat(e," != ").concat(mn(r)):null},initialValue:null,inputComponent:YF,type:"stringListNotEqual"},stringMatches:{nameKey:"search.operator.string-contains.name",descriptionKey:"search.operator.string-contains.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return r&&e?"".concat(e," match ").concat(mn(r)):null},initialValue:null,inputComponent:tf,type:"stringMatches"},stringNotEqual:{nameKey:"search.operator.string-not-equal.name",descriptionKey:"search.operator.string-not-equal.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return r&&e?"".concat(e," != ").concat(mn(r)):null},initialValue:null,inputComponent:tf,type:"stringNotEqual"},stringNotMatches:{nameKey:"search.operator.string-not-contains.name",descriptionKey:"search.operator.string-not-contains.description",groqFilter:n=>{let{fieldPath:e,value:r}=n;return r&&e?"!(".concat(e," match ").concat(mn(r),")"):null},initialValue:null,inputComponent:tf,type:"stringNotMatches"}},kKn={...Cqn,...Nqn,...Uqn,...bKn,...xKn,...wKn,..._Kn,...EKn,...CKn,...SKn},TKn=Object.values(kKn);var Kke=Object.freeze,AKn=Object.defineProperty,IKn=(n,e)=>Kke(AKn(n,"raw",{value:Kke(e||n.slice())})),Yke;function Zke(n){const e=n.split("").reduce((r,i)=>(r<<5)-r+i.charCodeAt(0)|0,0);return Math.abs(e*16807%2147483647)/2147483647}const DKn=F.text(Yke||(Yke=IKn([`
  font-family: `,`;
  font-weight: `,`;
  font-size: `,`px;
  transform: translateY(1px);
`])),n=>{let{theme:e}=n;return e.sanity.fonts.text.family},n=>{let{theme:e}=n;return e.sanity.fonts.text.weights.medium},n=>{let{theme:e}=n;return e.sanity.fonts.text.sizes[1].fontSize});function RKn(n,e){const r=Zke("".concat(n," ").concat(e)),i=XQ.filter(g=>g!=="gray"),o=i[Math.floor(r*i.length)],s=["300","400","500","600","700"],a=Zke(r.toString()),l=s[Math.floor(a*s.length)],c=Kt[o][l].hex,u=n.split(/\s/g).map(g=>g.replace(/\\W/g,"")).filter(Boolean).slice(0,2).map(g=>g.charAt(0).toUpperCase()),f=XZe(c,.4),h=PAn(c,.4),m=M1e(c,"readable",f)?M1e(c,"readable",h)?LAn(c):h:f;return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:[d.jsx("rect",{width:32,height:32,rx:2,fill:c}),d.jsx(DKn,{x:"50%",y:"50%",textAnchor:"middle",alignmentBaseline:"middle",dominantBaseline:"middle",fill:m,children:u})]})}function OKn(n){let{config:e,context:r}=n;return pc({propertyName:"schema.types",config:e,context:r,initialValue:[],reducer:CGn})}class joe extends Error{constructor(e){super("SchemaError"),this.schema=e}}const PKn=n=>n.severity==="error";function jKn(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return Xr.isValidElementType(n)?p.createElement(n):p.isValidElement(n)?n:RKn(e,r)}const sH=new WeakMap;function Ktt(n,e){if(!Array.isArray(n)&&"missingConfigFile"in n)throw new ef({name:"",type:"configuration file",causes:["No `sanity.config.ts` file found","No `sanity.config.js` file found"]});const r=FKn(e==null?void 0:e.basePath),i=Array.isArray(n)?n:[n];try{NIn({workspaces:i})}catch(s){throw new ef({name:"",type:"workspace",causes:[s.message]})}return{type:"prepared-config",workspaces:i.map(s=>{var a;if(sH.has(s))return sH.get(s);const{unstable_sources:l=[],...c}=s,f=[c,...l].map(g=>{const{projectId:v,dataset:y}=g;let b;try{b=OKn({config:g,context:{projectId:v,dataset:y}})}catch(A){throw new ef({name:g.name,type:"source",causes:[A]})}const x=U8n({name:g.name,types:b}),_=x._validation,w=_==null?void 0:_.filter(A=>A.problems.some(PKn));if(_&&(w!=null&&w.length))throw new joe(x);const C=LKn(g),S=GGn(g),T=C.state.pipe(Me(A=>{let{client:I,authenticated:D,currentUser:R}=A;return MKn({config:g,client:I,currentUser:R,schema:x,authenticated:D,auth:C,i18n:S})}),Hs(1));return{name:g.name,projectId:g.projectId,dataset:g.dataset,title:g.title||li(g.name),auth:C,schema:x,i18n:S.source,source:T}}),h=c.title||li(c.name),m={type:"workspace-summary",auth:f[0].auth,basePath:NKn(r,c.basePath),dataset:c.dataset,schema:f[0].schema,i18n:f[0].i18n,customIcon:!!c.icon,icon:jKn(c.icon,h,"".concat(c.projectId," ").concat(c.dataset)),name:c.name||"default",projectId:c.projectId,theme:c.theme||_x,title:h,subtitle:c.subtitle,__internal:{sources:f},tasks:(a=s.unstable_tasks)!=null?a:{enabled:!0}};return sH.set(s,m),m})}}function LKn(n){if(UDn(n.auth))return n.auth;const e=n.unstable_clientFactory||X6e,{projectId:r,dataset:i,apiHost:o}=n;return WDn({apiHost:o,...n.auth,clientFactory:e,dataset:i,projectId:r})}function $Kn(n,e){const r=n.withConfig({apiVersion:"2022-06-30"}),{dataset:i,url:o,requestTagPrefix:s="sanity.studio"}=r.config(),a="".concat(o.replace(/\/+$/,""),"/socket/").concat(i).replace(/^http/,"ws"),l="".concat(a,"?tag=").concat(s),c=e.token?{token$:e.token}:{};return oSt(l,c)}function MKn(n){let{config:e,client:r,currentUser:i,schema:o,authenticated:s,auth:a,i18n:l}=n;var c,u,f,h,m,g,v;const{dataset:y,projectId:b}=e,x=$Kn(r,a),_=[],w={},C=L=>{if(!L||!L.apiVersion)throw new Error("Missing required `apiVersion` option");return w[L.apiVersion]||(w[L.apiVersion]=r.withConfig(L)),w[L.apiVersion]},S={client:r,getClient:C,currentUser:i,dataset:y,projectId:b,schema:o,i18n:l.source},T=r;S.client=[...Object.keys(r),...Object.keys(T.__proto__)].reduce((L,M)=>{const N=Object.hasOwnProperty.call(r,M)?T[M]:T.__proto__[M];return Object.defineProperty(L,M,{get(){return console.warn('`configContext.client` is deprecated and will be removed in the next release! Use `context.getClient({apiVersion: "2021-06-07"})` instead'),N}})},{});let A;try{A=pc({config:e,context:S,propertyName:"schema.templates",reducer:TGn,initialValue:o.getTypeNames().filter(L=>!/^sanity\./.test(L)).map(L=>o.get(L)).filter(Ws).filter(L=>{var M;return((M=L.type)==null?void 0:M.name)==="document"}).map(L=>({id:L.name,schemaType:L.name,title:L.title||L.name,icon:L.icon,value:L.initialValue||{_type:L.name}}))})}catch(L){throw new ef({name:e.name,type:"source",causes:[L]})}let I;try{I=pc({config:e,context:S,initialValue:[],propertyName:"tools",reducer:kGn})}catch(L){throw new ef({name:e.name,type:"source",causes:[L]})}if(I.some(L=>{let{name:M}=L;return M==="tool"}))throw new Error('A tool cannot have the name "tool". Please enter a different name.');const D=A.filter(L=>{var M;return!((M=L.parameters)!=null&&M.length)}).map(L=>({templateId:L.id,description:L.description,icon:L.icon,title:L.title})),R=A.reduce((L,M)=>(L.set(M.id,M),L),new Map),P=L=>{const{schemaType:M}=L,N=pc({config:e,context:{...S,creationContext:L},initialValue:D,propertyName:"document.resolveNewDocumentOptions",reducer:OGn}),z=[];if(z.length)throw new ef({name:e.name,type:"source",causes:z});return N.map((B,H)=>{const X=R.get(B.templateId);if(!X)throw new Error("Could not find template with ID `".concat(B.templateId,"`"));const G=o.get(X.schemaType);if(!G)throw new Error("Could not find matching schema type `".concat(X.schemaType,"` for template `").concat(X.id,"`"));const ne=B.title||X.title,le=(G==null?void 0:G.title)===ne||G==null?void 0:G.title;return{id:"".concat(B.templateId,"-").concat(H),templateId:B.templateId,type:"initialValueTemplateItem",title:ne,i18n:B.i18n||X.i18n,subtitle:B.subtitle||le,description:B.description||X.description,icon:B.icon||X.icon||(G==null?void 0:G.icon),initialDocumentId:B.initialDocumentId,parameters:B.parameters,schemaType:X.schemaType}}).filter(B=>{var H;return!M||L.type==="document"?!0:M===((H=R.get(B.templateId))==null?void 0:H.schemaType)})};let O;try{O=P({type:"global"})}catch(L){_.push(L)}if(_.length)throw new ef({name:e.name,type:"source",causes:_});return{type:"source",name:e.name,title:e.title||li(e.name),schema:o,getClient:C,dataset:y,projectId:b,tools:I,currentUser:i,authenticated:s,templates:A,auth:a,i18n:l.source,__internal_tasks:FGn({config:e}),document:{actions:L=>pc({config:e,context:{...S,...L},initialValue:_Gn,propertyName:"document.actions",reducer:RGn}),badges:L=>pc({config:e,context:{...S,...L},initialValue:wGn,propertyName:"document.badges",reducer:DGn}),unstable_fieldActions:L=>pc({config:e,context:{...S,...L},initialValue:qIn,propertyName:"document.unstable_fieldActions",reducer:GIn}),inspectors:L=>pc({config:e,context:{...S,...L},initialValue:ri,propertyName:"document.inspectors",reducer:$Gn}),resolveProductionUrl:L=>pc({config:e,context:{...S,...L},initialValue:void 0,propertyName:"resolveProductionUrl",asyncReducer:SGn}),resolveNewDocumentOptions:P,unstable_languageFilter:L=>pc({config:e,context:{...S,...L},initialValue:EGn,propertyName:"document.unstable_languageFilter",reducer:LGn}),unstable_comments:{enabled:L=>MGn({context:L,config:e,initialValue:!0})}},form:{file:{assetSources:pc({config:e,context:S,initialValue:[Ttt],propertyName:"formBuilder.file.assetSources",reducer:PGn}),directUploads:((u=(c=e.form)==null?void 0:c.file)==null?void 0:u.directUploads)===void 0?!0:e.form.file.directUploads},image:{assetSources:pc({config:e,context:S,initialValue:[Att],propertyName:"formBuilder.image.assetSources",reducer:jGn}),directUploads:((h=(f=e.form)==null?void 0:f.image)==null?void 0:h.directUploads)===void 0?!0:e.form.image.directUploads}},search:{filters:QGn,operators:TKn,unstable_partialIndexing:{enabled:NGn({config:e,initialValue:(v=(g=(m=e.search)==null?void 0:m.unstable_partialIndexing)==null?void 0:g.enabled)!=null?v:!1})},unstable_enableNewSearch:pc({config:e,context:S,reducer:BGn,propertyName:"search.unstable_enableNewSearch",initialValue:!1})},__internal:{bifur:x,i18next:l.i18next,staticInitialValueTemplateItems:O,options:e}}}function FKn(n){const e=n||"";if(typeof e!="string"||e.length>0&&!e.startsWith("/"))throw new ef({name:"",type:"options",causes:["basePath must be a string, and must start with a slash"]});return e==="/"?"":e}function NKn(n,e){const r=[n,e||""].map(i=>i.replace(/^\/+/g,"").replace(/\/+$/g,"")).filter(Boolean).join("/");return"/".concat(r)}function BKn(n){let{config:e,children:r,basePath:i}=n;const{workspaces:o}=p.useMemo(()=>Ktt(e,{basePath:i}),[e,i]);return d.jsx(gXe.Provider,{value:o,children:r})}const Ytt=p.createContext(null);function UKn(n){let{children:e,history:r}=n;return d.jsx(Ytt.Provider,{value:r,children:e})}function zKn(){const n=p.useContext(Ytt);if(!n)throw new Error("Could not find `RouterHistoryProvider` context");return n}const Ztt=p.createContext(null),VKn=p.memo(function(e){let{children:r,history:i,activeWorkspace:o,setActiveWorkspace:s}=e;const a=p.useMemo(()=>({activeWorkspace:o,setActiveWorkspace:s}),[o,s]);return d.jsx(Ztt.Provider,{value:a,children:d.jsx(UKn,{history:i,children:r})})});function HKn(n){const r=n.map(o=>o.basePath.substring(1).split("/")).reduce((o,s)=>{for(let a=0;a<o.length;a++){const l=o[a],c=s[a].toLowerCase();if(l!==c)return o.slice(0,a)}return o});function i(o){let[s,...a]=o;return s?"(\\/".concat(Jne(s)).concat(i(a),"(\\/|$))?"):""}return new RegExp("^".concat(i(r),"$"),"i")}function WKn(n){let{pathname:e,workspaces:r,basePathRegex:i}=n;const[o]=r;for(const{workspace:s,basePath:a,basePathRegex:l}of r)if(l.test(e)||a==="/")return{type:"match",workspace:s};return e==="/"?{type:"redirect",pathname:o.basePath}:i.test(e)?{type:"redirect",pathname:o.basePath}:{type:"not-found"}}function GKn(n){return p.useMemo(()=>qKn(n),[n])}function qKn(n){return n.map(e=>{const r=e.basePath||"/";return{workspace:e,name:e.name,basePath:r,basePathRegex:new RegExp("^".concat(Jne(r),"(\\/|$)"),"i")}})}function KKn(n,e){const r=GKn(e),i=p.useMemo(()=>HKn(r),[r]),[o]=p.useState(()=>n.location.pathname),s=p.useMemo(()=>({subscribe:a=>n.listen(a),getSnapshot:()=>n.location.pathname,getServerSnapshot:()=>o,selector:a=>WKn({basePathRegex:i,pathname:a,workspaces:r}),isEqual:(a,l)=>{if(a.type!==l.type)return!1;switch(a.type){case"match":return a.workspace===l.workspace;case"redirect":return a.pathname===l.pathname;case"not-found":return!0;default:throw new Error("Unknown type: ".concat(a.type))}}}),[i,n,o,r]);return Qne.useSyncExternalStoreWithSelector(s.subscribe,s.getSnapshot,s.getServerSnapshot,s.selector,s.isEqual)}const YKn=()=>typeof document>"u"?YGt():KGt();function ZKn(n){let{children:e,LoadingComponent:r,NotFoundComponent:i,unstable_history:o}=n;const s=MD(),a=p.useMemo(()=>o||YKn(),[o]),l=p.useCallback(f=>{const h=s.find(m=>m.name===f);h&&a.push(h.basePath)},[a,s]),c=p.useCallback(()=>{l(s[0].name)},[l,s]),u=KKn(a,s);switch(p.useEffect(()=>{u.type==="redirect"&&a.replace(u.pathname)},[a,u]),u.type){case"match":return d.jsx(VKn,{activeWorkspace:u.workspace,history:a,setActiveWorkspace:l,children:e});case"redirect":return d.jsx(r,{});case"not-found":return d.jsx(i,{onNavigateToDefaultWorkspace:c});default:throw new Error("Unknown type: ".concat(u.type))}}function bw(){const n=p.useContext(Ztt);if(!n)throw new Error("Could not find `ActiveWorkspaceMatcher` context");return n}const Xtt=p.createContext(null),uB=p.createContext(null),dB=p.createContext(null);function Qtt(){return B8t()?"dark":"light"}function Jtt(n){let{children:e,scheme:r}=n;const i=Qtt(),o=r==="system"?i:r;return d.jsx(k3,{scheme:o,theme:_x,children:e})}const Xke="sanityStudio:ui:colorScheme";function XKn(n){let{children:e,onSchemeChange:r,scheme:i}=n;return i?d.jsx(JKn,{scheme:i,onSchemeChange:r,children:e}):d.jsx(QKn,{onSchemeChange:r,children:e})}function QKn(n){let{children:e,onSchemeChange:r}=n;const i=p.useMemo(()=>{let s;const a=new Set;return{subscribe:l=>(s||(s=Qke(localStorage.getItem(Xke))||"system"),a.add(l),()=>{a.delete(l)}),getSnapshot:()=>s,setSnapshot:l=>{s=Qke(l);for(const c of a)c()},getServerSnapshot:()=>"system"}},[]),o=p.useSyncExternalStore(i.subscribe,i.getSnapshot,i.getServerSnapshot);return p.useEffect(()=>{typeof r=="function"&&r(o),localStorage.setItem(Xke,o)},[r,o]),d.jsx(dB.Provider,{value:i.setSnapshot,children:d.jsx(uB.Provider,{value:o,children:d.jsx(Jtt,{scheme:o,children:e})})})}function Qke(n){switch(n){case"dark":case"light":return n;default:return"system"}}function JKn(n){let{children:e,onSchemeChange:r,scheme:i}=n;return d.jsx(dB.Provider,{value:typeof r=="function"?r:!1,children:d.jsx(uB.Provider,{value:i,children:d.jsx(Jtt,{scheme:i,children:e})})})}function Loe(){const n=p.useContext(dB);if(n===null)throw new Error("Could not find `ColorSchemeSetValueContext` context");return n}function ent(){const n=p.useContext(uB);if(n===null)throw new Error("Could not find `ColorSchemeValueContext` context");return n}function fB(){const n=ent(),e=Qtt();return n==="system"?e:n}function o2(){const n=fB(),e=Loe();return p.useMemo(()=>({scheme:n,setScheme:e}),[n,e])}function tnt(n,e){const r=ent();return p.useMemo(()=>[{title:e("user-menu.color-scheme.system-title"),name:"system",label:e("user-menu.color-scheme.system-description"),selected:r==="system",onSelect:()=>n("system"),icon:qNe},{title:e("user-menu.color-scheme.dark-title"),name:"dark",label:e("user-menu.color-scheme.dark-description"),selected:r==="dark",onSelect:()=>n("dark"),icon:cBe},{title:e("user-menu.color-scheme.light-title"),name:"light",label:e("user-menu.color-scheme.light-description"),selected:r==="light",onSelect:()=>n("light"),icon:xBe}],[r,n,e])}const eYn=Fl("mod+".concat(Ltt)),tYn=Fl("escape");function nYn(n){let{open:e,onClose:r,onOpen:i}=n;const{isTopLayer:o}=Eu(),s=p.useCallback(()=>{r==null||r()},[r]),a=p.useCallback(l=>{eYn(l)&&(l.preventDefault(),e?s():i==null||i()),tYn(l)&&e&&o&&s()},[s,o,e,i]);wu(a)}function nnt(n){let{children:e,hasValidTerms:r,onClose:i,onOpen:o,open:s}=n;const a=p.useRef(!1),{dispatch:l,searchCommandList:c,setOnClose:u,state:{result:f}}=Rr(),h=p.useCallback(()=>{var m;l({index:(m=c==null?void 0:c.getTopIndex())!=null?m:-1,type:"LAST_ACTIVE_INDEX_SET"}),i()},[l,i,c]);return nYn({onClose:h,onOpen:o,open:s}),p.useEffect(()=>{u(h)},[h,u]),p.useEffect(()=>{(!r||f.loaded)&&a.current&&l({index:0,type:"LAST_ACTIVE_INDEX_SET"})},[l,r,f.loaded]),p.useEffect(()=>{!r&&a.current&&!s&&l({type:"ORDERING_RESET"})},[l,r,s]),p.useEffect(()=>{a!=null&&a.current||(a.current=!0)},[]),e}function rnt(n){return n.reduce((e,r)=>(e[r.type]=r,e),{})}function xy(n,e){return e?n[e]:void 0}function rYn(n,e){var r;return(r=xy(n,e))==null?void 0:r.initialValue}function QY(n,e){var r;return{fieldId:e,filterName:n.name,operatorType:((r=n==null?void 0:n.operators.find(i=>i.type==="item"))==null?void 0:r.name)||""}}function x1(n){let{fieldDefinitions:e,filterDefinitions:r,filters:i,operatorDefinitions:o}=n;return i.filter(s=>eR({filter:s,filterDefinitions:r,fieldDefinitions:e,operatorDefinitions:o})).map(s=>{var a;return(a=xy(o,s.operatorType))==null?void 0:a.groqFilter({fieldPath:iYn({filter:s,fieldDefinitions:e,filterDefinitions:r}),value:s==null?void 0:s.value})}).filter(s=>!VCn(s)).filter(Ws).join(" && ")}function zg(n,e){return e!=null&&e.fieldId?n[e.fieldId]:void 0}function bc(n){return[n.filterName,...n.fieldId?[n.fieldId]:[]].join("-")}function w1(n){let{fieldDefinitions:e,filters:r,types:i}=n;const o=i.map(c=>c.name),s=Object.values(e).filter(c=>r.map(u=>u==null?void 0:u.fieldId).includes(c.id)).filter(c=>c.documentTypes.length>0).map(c=>c.documentTypes),a=vF(...s),l=[];return o.length>0&&l.push(o),a.length>0&&l.push(a),vF(...l).sort()}function iYn(n){let{filter:e,fieldDefinitions:r,filterDefinitions:i}=n;const o=zg(r,e),s=Ky(i,e.filterName);if(s)switch(s.type){case"field":return o==null?void 0:o.fieldPath;case"pinned":return s==null?void 0:s.fieldPath;default:return}}function eR(n){let{filter:e,filterDefinitions:r,fieldDefinitions:i,operatorDefinitions:o}=n;const s=Ky(r,e.filterName),a=xy(o,e.operatorType),l=zg(i,e);return!(!s||!a||e.fieldId&&!l||s.type==="field"&&(!(l!=null&&l.fieldPath)||!e.fieldId||!a.groqFilter({fieldPath:l.fieldPath,value:e.value}))||s.type==="pinned"&&!a.groqFilter({fieldPath:s.fieldPath,value:e.value}))}var Jke=Object.freeze,oYn=Object.defineProperty,sYn=(n,e)=>Jke(oYn(n,"raw",{value:Jke(e||n.slice())})),eTe;const aYn=Fl("escape"),lYn=500,cYn=F.div(eTe||(eTe=sYn([`
  background: transparent;
  height: 100%;
  left: 0;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: -1;
`])));function $oe(n){let{anchorElement:e,children:r,onClose:i}=n;const{isTopLayer:o}=Eu(),s=p.useCallback(l=>{aYn(l)&&o&&i()},[o,i]);wu(s);const a=uYn(e||null);return d.jsxs(d.Fragment,{children:[d.jsx(cYn,{onClick:i}),d.jsx(rv,{autoFocus:!1,returnFocus:!0,children:d.jsx(ke,{display:"flex",overflow:"hidden",radius:i2,style:{maxHeight:"min(calc(100vh - ".concat(a,"px - ").concat(JD,"px - ").concat(ZY,"px), ").concat(lYn,"px"),zIndex:1},children:d.jsx(oe,{children:r})})})]})}function aH(n){const e=n.getBoundingClientRect();return e.y+e.height+JD}function uYn(n){const[e,r]=p.useState(n&&aH(n)),i=p.useCallback(()=>{n&&r(aH(n))},[n]);return p.useEffect(()=>{n&&r(aH(n))},[n]),p.useEffect(()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)),[i]),e}var tTe=Object.freeze,dYn=Object.defineProperty,int=(n,e)=>tTe(dYn(n,"raw",{value:tTe(e||n.slice())})),nTe,rTe;const fYn=F(te)(nTe||(nTe=int([`
  border-bottom: 1px solid `,`;
  flex-shrink: 0;
`])),n=>{let{theme:e}=n;return e.sanity.color.base.border}),hYn=F(oe)(rTe||(rTe=int([`
  box-sizing: border-box;
`]))),ont=p.forwardRef(function(e,r){let{ariaInputLabel:i,onChange:o,onClear:s,typeFilter:a}=e;const{state:{fullscreen:l}}=Rr(),{t:c}=me();return d.jsx(fYn,{children:d.jsx(hYn,{align:"center",flex:1,padding:1,children:d.jsx(Poe,{__unstable_disableFocusRing:!0,$smallClearButton:!0,"aria-label":i,autoComplete:"off",border:!1,clearButton:!!a,fontSize:l?2:1,icon:Aa,muted:!0,onChange:o,onClear:s,placeholder:c("search.filter-placeholder"),ref:r,spellCheck:!1,radius:2,value:a})})})});function pYn(n){let{documentTypesNarrowed:e,fieldDefinitions:r,filterDefinitions:i,schema:o,titleFilter:s,types:a,t:l}=n;const c=Object.values(r).filter(f=>yYn(f,s)).map(f=>{const h=Ky(i,f.filterName);return h?QY(h,f.id):null}).filter(Ws),u=gYn({fieldDefinitions:r,filterDefinitions:i,titleFilter:s});return e.length===0?[...u,...sI({fieldDefinitions:r,filterDefinitions:i,filters:c,headerTitle:l("search.filter-all-fields-header"),id:"field"})]:[...u,...mYn({documentTypesNarrowed:e,fieldDefinitions:r,filterDefinitions:i,filters:c,schema:o,types:a,t:l})]}function sI(n){let{fieldDefinitions:e,filterDefinitions:r,filters:i,id:o,headerTitle:s,tone:a}=n;const l={title:s||"",tone:a||"default",type:"header"},c=i.map(u=>({fieldDefinition:zg(e,u),filterDefinition:Ky(r,u.filterName),filter:u,group:o,tone:a||"default",type:"filter"}));return c.length>0?[...s?[l]:[],...c]:[]}function mYn(n){let{documentTypesNarrowed:e,fieldDefinitions:r,filterDefinitions:i,filters:o,schema:s,types:a,t:l}=n;const c=o.filter(h=>{const m=zg(r,h);return wYn(e,m)}),u=e.length>1&&a.length>1?sI({fieldDefinitions:r,filterDefinitions:i,filters:c,headerTitle:l("search.filter-shared-fields-header"),id:"shared",tone:"primary"}):[],f=e.map(h=>{const m=s.get(h);return{title:(m==null?void 0:m.title)||li(m==null?void 0:m.name)||"(Unknown type)",documentType:h}}).sort((h,m)=>h.title.localeCompare(m.title)).map(h=>{let{documentType:m,title:g}=h;const v=o.filter(y=>{const b=zg(r,y);return vYn([m],b)});return sI({fieldDefinitions:r,filterDefinitions:i,filters:v,id:g,headerTitle:g})}).flat();return[...u,...f]}function gYn(n){let{fieldDefinitions:e,filterDefinitions:r,titleFilter:i}=n;const o=Object.values(r).filter(xYn).filter(a=>iTe(a,i)).map(a=>QY(a)),s=Object.values(r).filter(bYn).filter(a=>iTe(a,i)).reduce((a,l)=>(a[l.group]=a[l.group]||[],a[l.group].push(QY(l)),a),{});return[...sI({fieldDefinitions:e,filterDefinitions:r,filters:o,id:"pinned-ungrouped",tone:"primary"}),...Object.entries(s).flatMap(a=>{let[l,c]=a;return sI({fieldDefinitions:e,filterDefinitions:r,filters:c,headerTitle:l,id:l,tone:"primary"})})]}function vYn(n,e){return e==null?void 0:e.documentTypes.some(r=>n.includes(r))}function yYn(n,e){return n.titlePath.join("/").toLowerCase().includes(e.toLowerCase())}function iTe(n,e){return n.title.toLowerCase().includes(e.toLowerCase())}function bYn(n){return n.type==="pinned"&&typeof(n==null?void 0:n.group)<"u"}function xYn(n){return n.type==="pinned"&&typeof(n==null?void 0:n.group)>"u"}function wYn(n,e){return Ax(n,(e==null?void 0:e.documentTypes)||[]).length===0}function snt(n){let{filter:e,maxLength:r}=n;const{state:{definitions:i}}=Rr(),o=p.useMemo(()=>{const s=Ky(i.filters,e.filterName);switch(s==null?void 0:s.type){case"field":{const a=zg(i.fields,e);return a!=null&&a.titlePath?a.titlePath[a.titlePath.length-1]:null}case"pinned":return s.title;default:return null}},[i,e]);return o?r&&o.length>r?d.jsxs("span",{children:[o.slice(0,r),"…"]}):d.jsx("span",{children:o}):null}function _Yn(n){let{filter:e}=n;var r;const{state:{definitions:i}}=Rr(),o=(r=Ky(i.filters,e.filterName))==null?void 0:r.icon;return o?p.createElement(o):d.jsx(Rp,{})}function ant(n){let{filter:e}=n;var r;const{state:{definitions:i}}=Rr(),o=zg(i.fields,e);return d.jsxs(Se,{space:2,children:[(o==null?void 0:o.titlePath)&&((r=o.titlePath)==null?void 0:r.length)>1&&d.jsx(te,{marginLeft:4,children:d.jsx(J,{muted:!0,size:0,children:o.titlePath.slice(0,-1).map((s,a)=>d.jsxs(p.Fragment,{children:[d.jsx("span",{children:s}),a!==o.titlePath.length-2&&d.jsx("span",{style:{opacity:.75,paddingLeft:"0.25em",paddingRight:"0.25em"},children:d.jsx(Ch,{})})]},a))})}),d.jsxs(oe,{align:"flex-start",gap:3,children:[d.jsx(te,{style:{flexShrink:0},children:d.jsx(J,{size:1,children:d.jsx(_Yn,{filter:e})})}),d.jsx(J,{size:1,weight:"medium",children:d.jsx(snt,{filter:e})})]})]})}function lnt(n){return p.isValidElement(n)?EYn(ACn(n)):typeof n=="string"?n:""}function EYn(n){var e;return((e=new DOMParser().parseFromString(n,"text/html"))==null?void 0:e.body.textContent)||""}const lH=10;function CYn(n){let{children:e,fieldDefinition:r,filterDefinition:i,visible:o}=n;const{state:{documentTypesNarrowed:s}}=Rr(),{t:a}=me(),l=Ar(),c=p.useMemo(()=>r!=null&&r.documentTypes?r.documentTypes.map(f=>{const h=l.get(f);return(h==null?void 0:h.title)||li(h==null?void 0:h.name)}).filter(Ws).sort():[],[r==null?void 0:r.documentTypes,l]),u=p.useMemo(()=>{if(r!=null&&r.documentTypes){const f=r.documentTypes.map(m=>{const g=l.get(m);if(g){const v=oB(g,r.fieldPath);return(v==null?void 0:v.type.description)&&lnt(v==null?void 0:v.type.description)}return null}).filter(Ws).sort(),h=la(f);if(h.length===1)return h[0]}},[r==null?void 0:r.documentTypes,r==null?void 0:r.fieldPath,l]);return d.jsx(zn,{content:d.jsx(ke,{tone:"default",radius:2,style:{maxWidth:"250px"},children:d.jsxs(Se,{space:4,children:[r&&d.jsxs(Se,{space:3,children:[d.jsx(J,{muted:!0,size:1,weight:"medium",children:a("search.filter-field-tooltip-name")}),d.jsx(mo,{size:1,style:{fontFamily:"monospace"},tone:"primary",textOverflow:"ellipsis",children:r==null?void 0:r.name})]}),u&&d.jsxs(Se,{space:3,children:[d.jsx(J,{muted:!0,size:1,weight:"medium",children:a("search.filter-field-tooltip-description")}),d.jsx(J,{muted:!0,size:1,children:Y1e(u,256)})]}),(i==null?void 0:i.description)&&d.jsx(J,{muted:!0,size:1,children:Y1e(i.description,256)}),!s.length&&c.length>0&&d.jsxs(Se,{space:2,children:[d.jsxs(oe,{align:"center",gap:1,children:[d.jsx(J,{muted:!0,size:1,weight:"medium",children:a("search.filter-field-tooltip-used-in-document-types")}),d.jsx(ke,{padding:1,radius:2,tone:"transparent",children:d.jsx(J,{size:1,muted:!0,children:c.length})})]}),d.jsxs(J,{size:1,weight:"regular",muted:!0,children:[c.slice(0,lH).join(", "),(c==null?void 0:c.length)>lH?" +".concat(c.length-lH," more"):""]})]})]})}),disabled:!o,fallbackPlacements:["left"],placement:"right",portal:!0,children:e})}const SYn=p.memo(function(e){let{item:r,onClose:i,...o}=e;const{dispatch:s,state:{filters:a}}=Rr(),l=p.useCallback(()=>{s({filter:r.filter,type:"TERMS_FILTERS_ADD"}),i==null||i()},[s,r.filter,i]),c=!!a.find(f=>bc(f)===bc(r.filter)),u=!!(r.fieldDefinition||r.filterDefinition.description);return d.jsx(te,{...o,children:d.jsx(ui,{disabled:c,fontSize:1,justify:"flex-start",mode:"bleed",onClick:c?void 0:l,padding:0,style:{position:"relative",whiteSpace:"normal",width:"100%"},tabIndex:-1,tone:r==null?void 0:r.tone,children:d.jsx(CYn,{fieldDefinition:r.fieldDefinition,filterDefinition:r.filterDefinition,visible:u,children:d.jsx(te,{padding:3,children:d.jsx(ant,{filter:r.filter})})})})})}),kYn=p.memo(function(e){let{item:r}=e;return d.jsx(te,{paddingTop:1,children:d.jsx(ke,{borderBottom:!0,paddingX:2,paddingY:3,tone:r==null?void 0:r.tone,children:d.jsx(J,{muted:!0,size:1,textOverflow:"ellipsis",weight:"medium",children:r.title})})})}),TYn={width:"300px"};function AYn(n){let{onClose:e}=n;const[r,i]=p.useState(null),[o,s]=p.useState(""),{t:a}=me(),l=p.useCallback(_=>s(_.currentTarget.value),[s]),c=p.useCallback(()=>s(""),[]),u=Ar(),{state:{documentTypesNarrowed:f,definitions:h,filters:m,terms:{types:g}}}=Rr(),v=p.useMemo(()=>pYn({documentTypesNarrowed:f,fieldDefinitions:h.fields,filterDefinitions:h.filters,schema:u,titleFilter:o,types:g,t:a}),[f,h.fields,h.filters,u,o,g,a]),y=p.useCallback(_=>_.type==="filter"?d.jsx(SYn,{item:_,onClose:e,paddingBottom:1}):_.type==="header"?d.jsx(kYn,{item:_}):null,[e]),b=p.useCallback(_=>{const w=v[_];return w.type!=="filter"||!!m.find(C=>bc(C)===bc(w.filter))},[v,m]),x=p.useCallback(_=>{const w=v[_];switch(w.type){case"filter":return[...w.group?[w.group]:[],bc(w.filter)].join("-");case"header":return"".concat(w.type,"-").concat(w.title);default:return _}},[v]);return d.jsxs(oe,{direction:"column",style:TYn,children:[d.jsx(ont,{ariaInputLabel:a("search.filter-by-title-aria-label"),onChange:l,onClear:c,ref:i,typeFilter:o}),d.jsxs(oe,{children:[v.length>0&&d.jsx(Wy,{activeItemDataAttr:"data-hovered",ariaLabel:a("search.filters-aria-label",{count:v.length}),autoFocus:"input",getItemDisabled:b,getItemKey:x,inputElement:r,itemHeight:45,items:v,overscan:20,padding:1,paddingBottom:0,renderItem:y}),v.length==0&&d.jsx(te,{padding:3,children:d.jsx(J,{muted:!0,size:1,textOverflow:"ellipsis",children:a("search.filter-no-matches-found",{filter:o})})})]})]})}function oTe(){const[n,e]=p.useState(!1),[r,i]=p.useState(null),[o,s]=p.useState(null),{t:a}=me(),{state:{fullscreen:l}}=Rr(),c=p.useCallback(()=>e(!1),[]),u=p.useCallback(()=>e(!0),[]);return ki(c,[r,o]),d.jsx(Ai,{__unstable_margins:[JD,0,0,0],content:d.jsx($oe,{anchorElement:r,onClose:c,children:d.jsx(AYn,{onClose:c})}),open:n,placement:"bottom-start",radius:i2,ref:s,portal:!0,children:d.jsx(ze,{icon:Ta,mode:"bleed",onClick:u,size:l?"large":"default",ref:i,selected:n,text:a("search.action.add-filter")})})}const IYn=p.memo(function(e){let{selected:r,type:i,...o}=e;var s,a;const{dispatch:l}=Rr(),c=p.useCallback(()=>{l({type:"TERMS_TYPE_ADD",schemaType:i})},[l,i]),u=p.useCallback(()=>{l({type:"TERMS_TYPE_REMOVE",schemaType:i})},[l,i]),f=p.useCallback(()=>{r?u():c()},[c,u,r]);return d.jsx(te,{...o,children:d.jsx(ze,{iconRight:r&&ec,justify:"flex-start",mode:"bleed",onClick:f,width:"fill",size:"large",tabIndex:-1,text:(a=i.title)!=null?a:i.name,tone:r?"primary":"default"},(s=i.title)!=null?s:i.name)})});var sTe=Object.freeze,DYn=Object.defineProperty,RYn=(n,e)=>sTe(DYn(n,"raw",{value:sTe(e||n.slice())})),aTe;const OYn=F(te)(aTe||(aTe=RYn([`
  border-top: 1px solid `,`;
  flex-shrink: 0;
`])),n=>{let{theme:e}=n;return e.sanity.color.base.border}),PYn={width:"250px"};function jYn(){const[n,e]=p.useState(null),[r,i]=p.useState(""),o=p.useRef(null),{t:s}=me(),a=Ar(),{dispatch:l,state:{terms:{types:c}}}=Rr(),[u,f]=p.useState(c),h=$Yn(a,c,u,r),m=p.useCallback(w=>i(w.currentTarget.value),[i]),g=p.useCallback(()=>i(""),[]),v=p.useCallback(()=>{var w,C;f([]),l({type:"TERMS_TYPES_CLEAR"}),(w=o==null?void 0:o.current)==null||w.focusInputElement(),(C=o==null?void 0:o.current)==null||C.scrollToIndex(0)},[l]),y=p.useCallback(w=>{const C=h[w];switch(C.type){case"divider":return"".concat(C.type,"-").concat(w);case"header":return"".concat(C.type,"-").concat(C.title);case"item":return"".concat(C.type,"-").concat(C.item.name);default:return w}},[h]),b=p.useCallback(w=>w.type==="divider"?d.jsx(te,{paddingY:1,children:d.jsx(Io,{})}):w.type==="header"?d.jsx(te,{margin:2,padding:1,children:d.jsx(J,{muted:!0,size:1,weight:"medium",children:w.title})}):w.type==="item"?d.jsx(IYn,{paddingBottom:1,selected:w.selected,type:w.item}):null,[]),x=p.useCallback(w=>h[w].type!=="item",[h]),_=p.useCallback(w=>{const C=h[w];return C.type==="item"&&C.selected},[h]);return d.jsxs(oe,{direction:"column",style:PYn,children:[d.jsx(ont,{ariaInputLabel:s("search.action.filter-by-document-type-aria-label"),onChange:m,onClear:g,ref:e,typeFilter:r}),d.jsxs(oe,{children:[h.length>0&&d.jsx(Wy,{activeItemDataAttr:"data-hovered",ariaLabel:s("search.document-types-aria-label"),ariaMultiselectable:!0,autoFocus:"input",getItemDisabled:x,getItemSelected:_,getItemKey:y,inputElement:n,itemHeight:37,items:h,overscan:20,padding:1,paddingBottom:0,ref:o,renderItem:b}),!h.length&&d.jsx(te,{padding:3,children:d.jsx(J,{muted:!0,size:1,textOverflow:"ellipsis",children:s("search.document-types-no-matches-found",{filter:r})})})]}),!r&&c.length>0&&d.jsx(LYn,{onClick:v,selectedTypes:c})]})}function LYn(n){let{onClick:e,selectedTypes:r}=n;const{t:i}=me();return d.jsx(OYn,{padding:1,children:d.jsx(Se,{children:d.jsx(ze,{"aria-label":i("search.action.clear-type-filters-aria-label"),"data-name":"type-filter-button",disabled:r.length===0,mode:"bleed",onClick:e,text:i("search.action.clear-type-filters-label"),tone:"primary"})})})}function $Yn(n,e,r,i){return p.useMemo(()=>{const[o,s]=Hte(dqn(n,i),u=>r.includes(u)),a=o.length>0,l=o.length>0,c=[];return a&&c.push({title:"Selected",type:"header"}),o.forEach(u=>c.push({item:u,selected:e.includes(u),type:"item"})),a&&l&&c.push({type:"divider"}),s.forEach(u=>c.push({item:u,selected:e.includes(u),type:"item"})),c},[n,e,r,i])}const MYn=["top-start","bottom-start"];function FYn(){const[n,e]=p.useState(!1),[r,i]=p.useState(null),[o,s]=p.useState(null),{state:{fullscreen:a,terms:{types:l}}}=Rr(),{t:c}=me(),u=p.useCallback(()=>e(!1),[]),f=p.useCallback(()=>e(!0),[]);ki(u,[r,o]);const h=p.useMemo(()=>Ftt({types:l,t:c}),[l,c]);return d.jsx(Ai,{__unstable_margins:[JD,0,0,0],content:d.jsx($oe,{anchorElement:r,onClose:u,children:d.jsx(jYn,{})}),open:n,placement:"bottom-start",fallbackPlacements:MYn,portal:!0,radius:i2,ref:s,children:d.jsx(ze,{iconRight:qs,mode:"ghost",onClick:f,size:a?"large":"default",ref:i,selected:n,text:h,tone:"default"})})}var lTe=Object.freeze,NYn=Object.defineProperty,BYn=(n,e)=>lTe(NYn(n,"raw",{value:lTe(e||n.slice())})),cTe;const cH=F(te)(cTe||(cTe=BYn([`
  flex-shrink: `,`;
`])),n=>{let{$flexShrink:e=0}=n;return e});function cnt(n){let{filter:e,fontSize:r=1,showContent:i=!0}=n;const{t:o}=me(),{state:{definitions:s,fullscreen:a}}=Rr(),l=xy(s.operators,e.operatorType),c=l==null?void 0:l.buttonValueComponent,u=e.value,f=p.useMemo(()=>({Field:()=>d.jsx(cH,{$flexShrink:a?1:0,children:d.jsx(mo,{tone:"default",size:r,textOverflow:"ellipsis",weight:"medium",children:d.jsx(snt,{filter:e,maxLength:a?25:40})})}),Operator:h=>{let{children:m}=h;return i?d.jsx(cH,{$flexShrink:0,children:d.jsx(mo,{tone:"default",size:r,textOverflow:"ellipsis",weight:"regular",children:m})}):null},Value:h=>{let{children:m}=h;return i?d.jsx(cH,{$flexShrink:1,children:d.jsx(mo,{tone:"default",size:r,textOverflow:"ellipsis",weight:"medium",children:c?d.jsx(c,{value:u}):m})}):null}}),[e,r,a,i,c,u]);if(l!=null&&l.descriptionKey||console.warn("Missing `descriptionKey` for operator `%s`",e.operatorType),!i||!(l!=null&&l.descriptionKey)){const h=f.Field;return d.jsx(oe,{align:"center",gap:1,children:d.jsx(h,{})})}return d.jsx(oe,{align:"center",gap:1,children:d.jsx(bn,{t:o,i18nKey:l==null?void 0:l.descriptionKey,components:f,values:UYn(e)})})}function UYn(n){const e={};return typeof n.value=="number"&&(e.count=n.value),uH(n.value)&&(e.value=n.value),$n(n.value)&&"from"in n.value&&uH(n.value.from)&&(e.from=n.value.from),$n(n.value)&&"to"in n.value&&uH(n.value.to)&&(e.to=n.value.to),e}function uH(n){return typeof n=="string"||typeof n=="number"}function zYn(n){const{t:e}=me();return d.jsx(te,{...n,children:d.jsxs(oe,{align:"flex-start",gap:3,children:[d.jsx(mo,{tone:"critical",children:d.jsx(Dc,{})}),d.jsxs(Se,{space:4,children:[d.jsx(mo,{size:1,tone:"critical",weight:"medium",children:e("search.error.display-filter-title")}),d.jsx(mo,{size:1,tone:"critical",children:e("search.error.display-filter-description")})]})]})})}function VYn(n){let{onClick:e,operator:r,selected:i}=n;const o=p.useCallback(()=>e(r.type),[e,r.type]),{t:s}=me();return d.jsx(Wt,{onClick:o,pressed:i,tone:"default",text:s(r.nameKey),iconRight:r==null?void 0:r.icon})}function HYn(n){let{filter:e,operator:r}=n;var i;const o=p.useId(),{t:s}=me(),{dispatch:a,state:l}=Rr(),c=(i=Ky(l.definitions.filters,e.filterName))==null?void 0:i.operators,u=p.useCallback(f=>{a({filterKey:bc(e),operatorType:f,type:"TERMS_FILTERS_SET_OPERATOR"})},[a,e]);return!r||!c||c.length<=1?null:d.jsx(to,{children:d.jsx(Vr,{button:d.jsx(ze,{mode:"ghost",iconRight:qs,text:s(r.nameKey)}),id:o||"",menu:d.jsx(_r,{children:c.map((f,h)=>{if(f.type==="item"){const m=xy(l.definitions.operators,f.name);return m?d.jsx(VYn,{onClick:u,operator:m,selected:r.type===f.name},h):null}return f.type==="divider"?d.jsx(Io,{},h):null})}),placement:"bottom-start",popover:{constrainSize:!0,portal:!1,radius:2}})})}function WYn(n){let{filter:e}=n;const[r,i]=p.useState(null),{dispatch:o,state:{definitions:s,fullscreen:a}}=Rr(),l=Ky(s.filters,e.filterName),c=xy(s.operators,e.operatorType),u=zg(s.fields,e),f=bc(e),h=p.useCallback(()=>{o({filterKey:bc(e),type:"TERMS_FILTERS_REMOVE"})},[o,e]),m=p.useCallback(y=>{o({filterKey:f,type:"TERMS_FILTERS_SET_VALUE",value:y})},[o,f]),g=p.useCallback(y=>{i(y)},[]),v=c==null?void 0:c.inputComponent;return r?d.jsx(zYn,{padding:4}):d.jsx(dD,{onCatch:g,children:d.jsx(rv,{autoFocus:!$D,returnFocus:!0,children:d.jsxs(oe,{direction:"column-reverse",children:[v&&d.jsx(ke,{borderTop:!0,padding:3,children:d.jsx(v,{fieldDefinition:u,onChange:m,value:e.value},e.operatorType)}),d.jsx(ke,{padding:3,children:d.jsxs(Se,{space:3,children:[d.jsxs(oe,{align:"flex-start",gap:3,justify:"space-between",children:[d.jsx(te,{paddingLeft:1,paddingRight:2,paddingY:1,children:d.jsx(ant,{filter:e})}),a&&d.jsx(ze,{icon:vs,mode:"bleed",onClick:h,tone:"critical",tooltipProps:{content:"Remove filter"}})]}),(l==null?void 0:l.description)&&d.jsx(ke,{border:!0,padding:3,radius:2,tone:"transparent",children:d.jsx(J,{muted:!0,size:1,children:l.description})}),d.jsx(HYn,{filter:e,operator:c})]})})]})})})}var uTe=Object.freeze,GYn=Object.defineProperty,qYn=(n,e)=>uTe(GYn(n,"raw",{value:uTe(e||n.slice())})),dTe;const KYn=F(oe)(dTe||(dTe=qYn([`
  max-width: 480px;
  min-width: 150px;
  overflow: hidden;
  overflow: clip;
  width: 100%;
`])));function YYn(n){let{filter:e}=n;return d.jsxs(KYn,{direction:"column",children:[d.jsx(WYn,{filter:e}),jtt]})}var fTe=Object.freeze,ZYn=Object.defineProperty,hB=(n,e)=>fTe(ZYn(n,"raw",{value:fTe(e||n.slice())})),hTe,pTe,mTe,gTe;const XYn=F(ui)(hTe||(hTe=hB([`
  border-radius: `,`;
`])),n=>{let{theme:e}=n;return"0 ".concat(Je(e.sanity.radius[2])," ").concat(Je(e.sanity.radius[2])," 0")}),QYn=F(ke)(pTe||(pTe=hB([`
  position: absolute;
  right: 0;
`]))),JYn=F.div(mTe||(mTe=hB([`
  align-items: center;
  display: inline-flex;
  max-width: 100%;
  position: relative;
`]))),eZn=F(ui)(gTe||(gTe=hB([`
  border: none;
  width: 100%;
`])));function tZn(n){let{filter:e,initialOpen:r}=n;const[i,o]=p.useState(r),[s,a]=p.useState(null),[l,c]=p.useState(null),{dispatch:u,state:{definitions:f,fullscreen:h}}=Rr(),{t:m}=me(),g=p.useCallback(()=>o(!1),[]),v=p.useCallback(()=>o(!0),[]),y=p.useCallback(()=>u({filterKey:bc(e),type:"TERMS_FILTERS_REMOVE"}),[u,e]),b=p.useCallback(_=>{["Backspace","Delete"].includes(_.key)&&y()},[y]);ki(g,[s,l]);const x=eR({fieldDefinitions:f.fields,filter:e,filterDefinitions:f.filters,operatorDefinitions:f.operators});return d.jsx(Ai,{__unstable_margins:[JD,0,0,0],content:d.jsx($oe,{anchorElement:s,onClose:g,children:d.jsx(YYn,{filter:e})}),constrainSize:!0,open:i,overflow:"auto",placement:"bottom-start",portal:!0,radius:i2,ref:c,children:d.jsxs(JYn,{children:[d.jsx(ke,{__unstable_focusRing:!0,display:"flex",radius:2,tone:x?"primary":"transparent",children:d.jsx(eZn,{mode:"bleed",onClick:v,onKeyDown:b,paddingLeft:h?3:2,paddingRight:h?3:5,paddingY:h?3:2,ref:a,children:d.jsx(cnt,{filter:e,showContent:x})})}),!h&&d.jsx(QYn,{__unstable_focusRing:!0,display:"flex",radius:2,tone:x?"primary":"transparent",children:d.jsx(XYn,{"aria-label":m("search.action.remove-filter-aria-label"),fontSize:1,icon:Is,mode:"bleed",onClick:y,onKeyDown:b,padding:2,radius:2})})]})})}function unt(){const{dispatch:n,state:{filters:e,fullscreen:r,lastAddedFilter:i,terms:{types:o}}}=Rr(),{t:s}=me(),a=p.useRef(!1),l=p.useCallback(()=>{n({type:"TERMS_FILTERS_CLEAR"}),n({type:"TERMS_TYPES_CLEAR"})},[n]),c=e.length>0||o.length>0;p.useEffect(()=>{a.current=!0},[]);const u=i&&bc(i),f=()=>d.jsx(ze,{mode:"bleed",onClick:l,size:r?"large":"default",text:s("search.action.clear-filters"),tone:"critical"});return d.jsxs(d.Fragment,{children:[d.jsxs(oe,{align:"flex-start",gap:3,justify:"space-between",padding:2,children:[d.jsxs(oe,{flex:1,gap:2,wrap:"wrap",children:[d.jsx(FYn,{}),e==null?void 0:e.map(h=>{const m=bc(h);return d.jsx(tZn,{filter:h,initialOpen:a.current&&u===m},m)}),!r&&d.jsx(oTe,{})]}),c&&!r&&d.jsx(f,{})]}),r&&d.jsxs(oe,{justify:"space-between",paddingBottom:2,paddingX:2,children:[d.jsx(oTe,{}),c&&d.jsx(f,{})]}),jtt]})}const nZn=3;function dnt(n,e){var r;const i=aB(n).map(l=>l.name),{documentTypes:o,objectTypes:s}=(((r=n._original)==null?void 0:r.types)||[]).filter(l=>vTe(l)?i.includes(l.name):!0).filter(l=>l.name!=="slug").filter(l=>!l.name.startsWith("sanity.")).reduce((l,c)=>(vTe(c)&&(l.documentTypes[c.name]=c),pnt(c)&&(l.objectTypes[c.name]=c),l),{documentTypes:{},objectTypes:{}})||{documentTypes:{},objectTypes:{}},a=XGn(e);return iZn(a,o,s)}function fnt(n){return n.reduce((e,r)=>(e[r.id]=r,e),{})}function rZn(n){return[n.type,n.fieldPath,n.filterName,n.documentTypes.join(",")].join("-")}function iZn(n,e,r){function i(s){let{acc:a,defType:l,depth:c=0,documentType:u,prevFieldPath:f,prevTitlePath:h}=s;var m;const g=c<=nZn,v=l.name.startsWith("_"),y=l!=null&&l.title?lnt(l.title):li(l.name),b=f?"".concat(f,".").concat(l.name):l.name,x=h?[...h,y]:[y];if(!g)return;const _=r[l.type],w=e[l.type],C=pnt(l)?l:null,S=w||_||C;if(S){(m=S==null?void 0:S.fields)==null||m.forEach(T=>i({acc:a,defType:T,depth:c+1,documentType:u,prevFieldPath:b,prevTitlePath:x}));return}n.includes(l.type)&&a.push({documentTypes:u&&!v?[u]:[],fieldPath:b,filterName:cZn(l),id:"",name:l.name,titlePath:x,title:y,type:l.type})}return Object.values(e).reduce((s,a)=>{const l=a.fields.reduce((c,u)=>(i({acc:c,defType:u,documentType:a.name}),c),[]);return s.push(...l),s},[]).reduce((s,a)=>{const l=s.findIndex(c=>c.fieldPath===a.fieldPath&&c.title===a.title&&c.type===a.type);return l>-1?s[l]={...s[l],documentTypes:[...s[l].documentTypes,...a.documentTypes]}:s.push(a),s},[]).map(oZn).sort(uZn)}function oZn(n){return{...n,id:rZn(n)}}function sZn(n){var e;return hnt(n)?n.of.every(r=>["boolean","number","string"].includes(r.type))&&((e=n.options)!=null&&e.list?n.options.list.length>0:!1):!1}function hnt(n){return n.type==="array"}function vTe(n){return n.type==="document"}function pnt(n){return n.type==="object"}function aZn(n){return n.type==="string"}function lZn(n){var e;return aZn(n)&&(e=n.options)!=null&&e.list?n.options.list.length>0:!1}function cZn(n){if(lZn(n))return"stringList";if(hnt(n)){if(n.of.some(e=>e.type==="reference"))return"arrayReferences";if(n.of.find(e=>e.type==="block"))return"portableText";if(sZn(n))return"arrayList"}return n.type}function uZn(n,e){const r=n.titlePath.slice(0,-1).join("/"),i=e.titlePath.slice(0,-1).join("/");return n.title.localeCompare(e.title)||r.localeCompare(i)||n.fieldPath.localeCompare(e.fieldPath)}const mnt=2,dZn="studio.search.recent",YP={version:mnt,recentSearches:[]};function fZn(){const n=btt(),e=Jr(Dr),{dataset:r}=e.config(),i=p.useMemo(()=>"".concat(dZn,".").concat(r),[r]),[o,s]=p.useState(YP),a=p.useMemo(()=>n.getKey(i),[n,i]);p.useEffect(()=>{const c=a.pipe(ca(YP),Me(u=>(u==null?void 0:u.version)!==mnt?(n.setKey(i,YP),YP):u)).subscribe({next:s});return()=>c==null?void 0:c.unsubscribe()},[a,n,i]);const l=p.useCallback(c=>{s(c),n.setKey(i,c)},[n,i]);return p.useMemo(()=>[o,l],[l,o])}const hZn=5,gnt=2;function Moe(){const[n,e]=fZn(),r=Ar(),{search:{operators:i,filters:o}}=xi(),{fieldDefinitions:s,filterDefinitions:a,operatorDefinitions:l}=p.useMemo(()=>({fieldDefinitions:fnt(dnt(r,o)),filterDefinitions:Dtt(o),operatorDefinitions:rnt(i)}),[o,i,r]);return{addSearch:(c,u)=>{const h=(u||[]).map(y=>({fieldId:y.fieldId,filterName:y.filterName,operatorType:y.operatorType,value:y.value})).filter(y=>eR({fieldDefinitions:s,filter:y,filterDefinitions:a,operatorDefinitions:l})),m={created:new Date().toISOString(),filters:h,terms:{query:c.query.trim(),typeNames:c.types.map(y=>y.name)}},g=JSON.stringify(Cc(m,"created")),v={version:gnt,recentSearches:[m,...n.recentSearches.filter(y=>JSON.stringify(Cc(y,"created"))!==g)].slice(0,hZn)};return e(v),Fk({fieldDefinitions:s,filterDefinitions:a,operatorDefinitions:l,schema:r,storedSearch:v,setStoredSearch:e})},getRecentSearches:()=>Fk({fieldDefinitions:s,filterDefinitions:a,operatorDefinitions:l,schema:r,storedSearch:n,setStoredSearch:e}),removeSearch:()=>{const c={...n,recentSearches:[]};return e(c),Fk({fieldDefinitions:s,filterDefinitions:a,operatorDefinitions:l,schema:r,storedSearch:c,setStoredSearch:e})},removeSearchAtIndex:c=>{if(c<0||c>n.recentSearches.length)return Fk({fieldDefinitions:s,filterDefinitions:a,operatorDefinitions:l,schema:r,storedSearch:n,setStoredSearch:e});const u={...n,recentSearches:[...n.recentSearches.slice(0,c),...n.recentSearches.slice(c+1)]};return e(u),Fk({fieldDefinitions:s,filterDefinitions:a,operatorDefinitions:l,schema:r,storedSearch:u,setStoredSearch:e})}}}function Fk(n){let{schema:e,fieldDefinitions:r,filterDefinitions:i,operatorDefinitions:o,storedSearch:s,setStoredSearch:a}=n;return pZn({studioSchema:e,filterDefinitions:i,fieldDefinitions:r,operatorDefinitions:o,storedSearch:s,setStoredSearch:a}).recentSearches.filter(l=>!!l.terms).map((l,c)=>({__recent:{index:c,timestamp:new Date(l.created).getTime()},filters:l.filters,query:l.terms.query,types:l.terms.typeNames.map(u=>e.get(u)).filter(u=>!!(u&&u.jsonType==="object"))}))}function pZn(n){let{fieldDefinitions:e,filterDefinitions:r,operatorDefinitions:i,studioSchema:o,storedSearch:s,setStoredSearch:a}=n;const l=aB(o).map(f=>f.name),c=s.recentSearches.filter(f=>f.terms.typeNames.every(h=>l.includes(h))&&f.filters.every(h=>eR({fieldDefinitions:e,filter:h,filterDefinitions:r,operatorDefinitions:i}))),u={version:gnt,recentSearches:c};return u.recentSearches.length<s.recentSearches.length&&a(u),u}function mZn(){const{t:n}=me();return d.jsx(oe,{align:"center",direction:"column",gap:4,paddingX:4,paddingY:5,children:d.jsx(to,{space:3,children:d.jsx(J,{muted:!0,children:d.jsx(bn,{t:n,i18nKey:"search.instructions",components:{ControlsIcon:()=>d.jsx(fJ,{style:{padding:"0 0.25rem"}},0)}})})})})}function gZn(n){let{availableCharacters:e,types:r}=n;const{t:i}=me(),o=p.useMemo(()=>Ftt({availableCharacters:e,types:r,t:i}),[e,r,i]);return d.jsx(ke,{border:!0,padding:2,radius:2,children:d.jsx(J,{muted:!0,size:1,children:o})})}var yTe=Object.freeze,vZn=Object.defineProperty,yZn=(n,e)=>yTe(vZn(n,"raw",{value:yTe(e||n.slice())})),bTe;const bZn=F(ke)(bTe||(bTe=yZn([`
  cursor: default;
`])));function xZn(n){let{filter:e}=n;return d.jsx(bZn,{border:!0,padding:2,radius:2,tone:"primary",children:d.jsx(cnt,{filter:e})})}var xTe=Object.freeze,wZn=Object.defineProperty,pB=(n,e)=>xTe(wZn(n,"raw",{value:xTe(e||n.slice())})),wTe,_Te,ETe,CTe;const _Zn=40,vnt=F(ui)(wTe||(wTe=pB([`
  border-radius: `,`;
  cursor: default;
  width: 100%;
`])),n=>{let{theme:e}=n;return Je(e.sanity.radius[2])}),EZn=F(te)(_Te||(_Te=pB([`
  flex-shrink: 3;
`]))),CZn=F(oe)(ETe||(ETe=pB([`
  flex-shrink: 2;
`]))),SZn=F.div(CTe||(CTe=pB([`
  opacity: 0.8;
  visibility: hidden;

  @media (hover: hover) {
    `,`:hover & {
      visibility: visible;
    }
    &:hover {
      opacity: 0.4;
    }
  }
`])),vnt);function kZn(n){let{index:e,maxVisibleTypePillChars:r=_Zn,value:i,...o}=n;var s;const{dispatch:a}=Rr(),l=Moe(),c=r-i.query.length,u=p.useCallback(()=>{a({type:"TERMS_SET",filters:i==null?void 0:i.filters,terms:i}),l&&(l==null||l.addSearch(i,i==null?void 0:i.filters))},[a,l,i]),f=p.useCallback(h=>{h.stopPropagation(),l&&(l==null||l.removeSearchAtIndex(e))},[e,l]);return d.jsx(te,{...o,children:d.jsx(vnt,{mode:"bleed",onClick:u,paddingLeft:3,paddingRight:1,paddingY:1,tabIndex:-1,children:d.jsxs(oe,{align:"stretch",children:[d.jsxs(to,{paddingY:2,children:[d.jsx(J,{muted:!0,size:1,children:d.jsx(T8,{})}),d.jsx(J,{children:"​"})]}),d.jsxs(oe,{align:"stretch",flex:1,gap:2,justify:"flex-start",marginLeft:3,wrap:"wrap",children:[i.query&&d.jsx(CZn,{align:"center",paddingY:2,children:d.jsx(J,{muted:!0,size:1,textOverflow:"ellipsis",weight:"medium",children:i.query})}),i.types.length>0&&d.jsx(EZn,{children:d.jsx(gZn,{availableCharacters:c,types:i.types})}),(s=i==null?void 0:i.filters)==null?void 0:s.map((h,m)=>d.jsx(xZn,{filter:h},m))]}),d.jsx(oe,{align:"center",children:d.jsx(SZn,{onClick:f,children:d.jsx(oe,{padding:2,children:d.jsx(J,{size:1,children:d.jsx(Is,{})})})})})]})})})}var STe=Object.freeze,TZn=Object.defineProperty,AZn=(n,e)=>STe(TZn(n,"raw",{value:STe(e||n.slice())})),kTe;const IZn=36,DZn=20,RZn=40,OZn=F(ke)(kTe||(kTe=AZn([`
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
`])));function ynt(n){let{inputElement:e}=n;const{dispatch:r,state:{filtersVisible:i,fullscreen:o}}=Rr(),s=Moe(),a=p.useMemo(()=>s==null?void 0:s.getRecentSearches(),[s]),l=p.useRef(null),{t:c}=me(),u=p.useCallback(()=>{var v;s&&s.removeSearch(),(v=l==null?void 0:l.current)==null||v.focusInputElement()},[s]),f=Xx(),h=p.useMemo(()=>f<2?DZn:RZn,[f]),m=p.useCallback((v,y)=>{let{virtualIndex:b}=y;return d.jsx(kZn,{index:b,maxVisibleTypePillChars:h,paddingBottom:1,value:v})},[h]),g=!!a.length;return d.jsx(OZn,{borderTop:g||!g&&!i&&o,flex:1,children:a.length>0?d.jsxs(d.Fragment,{children:[d.jsx(te,{paddingBottom:2,paddingTop:4,paddingX:3,children:d.jsx(J,{muted:!0,size:1,weight:"medium",children:c("search.recent-searches-label")})}),d.jsx(te,{children:d.jsx(Wy,{activeItemDataAttr:"data-hovered",ariaLabel:c("search.recent-searches-aria-label"),inputElement:e,initialIndex:0,itemHeight:IZn,items:a,paddingX:2,paddingY:1,renderItem:m})}),d.jsx(te,{paddingBottom:2,paddingTop:1,paddingX:2,children:d.jsx(ze,{mode:"bleed",onClick:u,tone:"default",text:c("search.action.clear-recent-searches"),muted:!0})})]}):!i&&o&&d.jsx(mZn,{})})}var TTe=Object.freeze,PZn=Object.defineProperty,Foe=(n,e)=>TTe(PZn(n,"raw",{value:TTe(e||n.slice())})),ATe,ITe,DTe;const jZn=Kp(ATe||(ATe=Foe([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),LZn=F(Gx)(ITe||(ITe=Foe([`
  animation: `,` 500ms linear infinite;
`])),jZn),$Zn=F.div(DTe||(DTe=Foe([`
  line-height: 0;
  position: relative;
`]))),bnt=p.forwardRef(function(e,r){let{ariaInputLabel:i,onClose:o}=e;const s=p.useRef(!1),{dispatch:a,state:{filters:l,filtersVisible:c,fullscreen:u,result:{loading:f},terms:{types:h,query:m}}}=Rr(),{t:g}=me(),v=p.useCallback(()=>a({type:"FILTERS_VISIBLE_SET",visible:!c}),[a,c]),y=p.useCallback(_=>a({type:"TERMS_QUERY_SET",query:_.currentTarget.value}),[a]),b=p.useCallback(()=>{a({type:"TERMS_QUERY_SET",query:""})},[a]);p.useEffect(()=>{u||a({type:"FILTERS_VISIBLE_SET",visible:!0})},[a,u]),p.useEffect(()=>{s.current=!0},[]);const x=l.length>0||h.length>0;return d.jsx(ke,{flex:"none",children:d.jsxs(oe,{align:"center",flex:1,gap:u?2:1,padding:u?2:1,children:[u&&d.jsx(ze,{"aria-label":g("search.action.close-search-aria-label"),icon:UI,mode:"bleed",onClick:o,size:"large",tooltipProps:{content:g("search.action.close-search-aria-label")}}),d.jsx(te,{flex:1,children:d.jsx(Poe,{__unstable_disableFocusRing:!0,$background:u,$smallClearButton:u,"aria-label":i,autoComplete:"off",border:!1,clearButton:!!m,fontSize:[2,2,1],icon:f?LZn:Aa,onChange:y,onClear:b,placeholder:g("search.placeholder"),radius:2,ref:r,spellCheck:!1,value:m})}),u&&d.jsx($Zn,{children:d.jsx(nR,{"aria-expanded":c,"aria-label":g("search.action.toggle-filters-aria-label",{context:c?"hide":"show"}),icon:fJ,mode:"bleed",onClick:v,selected:c,size:"large",tone:x?"primary":void 0,tooltipProps:{content:g("search.action.toggle-filters-label",{context:c?"hide":"show"})}})})]})})});function MZn(){const{t:n}=me();return d.jsx(Ya,{width:0,children:d.jsxs(Se,{"aria-live":"assertive",space:4,paddingX:4,paddingY:5,children:[d.jsx(J,{align:"center",muted:!0,size:1,weight:"medium",children:n("search.no-results-title")}),d.jsx(J,{align:"center",muted:!0,size:1,children:n("search.no-results-help-description")})]})})}var RTe=Object.freeze,FZn=Object.defineProperty,NZn=(n,e)=>RTe(FZn(n,"raw",{value:RTe(e||n.slice())})),OTe;const BZn=F(J)(OTe||(OTe=NZn([`
  &:not([data-muted]) {
    &[data-tone='default'] {
      --card-fg-color: var(--card-badge-default-fg-color);
    }
    &[data-tone='primary'] {
      --card-fg-color: var(--card-badge-primary-fg-color);
    }
    &[data-tone='positive'] {
      --card-fg-color: var(--card-badge-positive-fg-color);
    }
    &[data-tone='caution'] {
      --card-fg-color: var(--card-badge-caution-fg-color);
    }
    &[data-tone='critical'] {
      --card-fg-color: var(--card-badge-critical-fg-color);
    }
  }

  &[data-dimmed] {
    opacity: 0.3;
  }
`]))),mo=p.forwardRef(function(e,r){const{tone:i,dimmed:o,muted:s,...a}=e;return d.jsx(BZn,{"data-ui":"TextWithTone","data-dimmed":o?"":void 0,"data-muted":s?"":void 0,"data-tone":i,muted:s,ref:r,...a})});function UZn(){const{t:n}=me();return d.jsxs(oe,{align:"center","aria-live":"assertive",direction:"column",flex:1,gap:3,marginY:2,padding:4,children:[d.jsx(te,{marginBottom:1,children:d.jsx(mo,{tone:"critical",children:d.jsx(as,{})})}),d.jsx(mo,{size:2,tone:"critical",weight:"medium",children:n("search.error.unspecified-error-title")}),d.jsx(mo,{size:1,tone:"critical",children:n("search.error.unspecified-error-help-description")})]})}const yb={createdAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_createdAt"},titleKey:"search.ordering.created-ascending-label"},createdDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_createdAt"},titleKey:"search.ordering.created-descending-label"},relevance:{customMeasurementLabel:"relevance",sort:{direction:"desc",field:"_updatedAt"},titleKey:"search.ordering.best-match-label"},updatedAsc:{ignoreScore:!0,sort:{direction:"asc",field:"_updatedAt"},titleKey:"search.ordering.updated-ascending-label"},updatedDesc:{ignoreScore:!0,sort:{direction:"desc",field:"_updatedAt"},titleKey:"search.ordering.updated-descending-label"}};var PTe=Object.freeze,zZn=Object.defineProperty,VZn=(n,e)=>PTe(zZn(n,"raw",{value:PTe(e||n.slice())})),jTe;const LTe=[yb.relevance,{type:"divider"},yb.createdAsc,yb.createdDesc,{type:"divider"},yb.updatedAsc,yb.updatedDesc],HZn=F(oe)(jTe||(jTe=VZn([`
  box-sizing: border-box;
`])));function $Te(n){return n.type==="divider"}function WZn(n){let{ordering:e}=n;const{t:r}=me(),{dispatch:i,state:{ordering:o}}=Rr(),s=p.useCallback(()=>{i({ordering:e,type:"ORDERING_SET"})},[i,e]),a=p.useMemo(()=>Br(o,e),[o,e]);return d.jsx(Wt,{onClick:s,pressed:a,tone:"default",text:r(e.titleKey)})}function GZn(){const{t:n}=me(),{state:{ordering:e}}=Rr(),r=p.useId(),i=LTe.find(o=>Br(e,o)&&!$Te(o));return i?d.jsx(ke,{borderBottom:!0,children:d.jsx(HZn,{align:"center",flex:1,padding:2,children:d.jsx(Vr,{button:d.jsx(ze,{mode:"bleed",icon:O8,text:n(i.titleKey)}),id:r||"",menu:d.jsx(_r,{children:LTe.map((o,s)=>$Te(o)?d.jsx(Io,{},s):d.jsx(WZn,{ordering:o},s))}),placement:"bottom-start",popover:{portal:!0,radius:2}})})}):null}var MTe=Object.freeze,qZn=Object.defineProperty,KZn=(n,e)=>MTe(qZn(n,"raw",{value:MTe(e||n.slice())})),FTe;const YZn=F(ke)(FTe||(FTe=KZn([`
  cursor: help;
  left: 0;
  position: absolute;
  top: 0;
`])));function ZZn(n){let{data:e}=n;const{score:r}=e;let i="default";r<=.1?i="critical":r>=.5&&(i="primary");const o=e.stories.filter(s=>s.score>0);return d.jsx(d.Fragment,{children:d.jsx(zn,{content:d.jsx(Se,{space:2,children:o.length?d.jsx(d.Fragment,{children:o.map(s=>d.jsxs(to,{space:3,children:[d.jsx(ia,{size:0,weight:"medium",children:s.path}),d.jsx(ia,{size:0,children:s.why})]},s.path))}):d.jsx(ia,{size:0,children:"No matches"})}),placement:"bottom-start",portal:!0,children:d.jsx(YZn,{padding:1,shadow:1,tone:i,children:d.jsxs(ia,{size:0,children:["score: ",r]})})})})}var NTe=Object.freeze,XZn=Object.defineProperty,QZn=(n,e)=>NTe(XZn(n,"raw",{value:NTe(e||n.slice())})),BTe;const JZn=57,eXn=4,tXn=F(oe)(BTe||(BTe=QZn([`
  opacity: `,`;
  overflow-x: hidden;
  overflow-y: auto;
  position: relative;
  transition: 300ms opacity;
  width: 100%;
`])),n=>{let{$loading:e}=n;return e?.5:1});function xnt(n){let{disableIntentLink:e,inputElement:r,onItemSelect:i}=n;const{dispatch:o,onClose:s,setSearchCommandList:a,state:{debug:l,filters:c,fullscreen:u,lastActiveIndex:f,result:h,terms:m}}=Rr(),{t:g}=me(),v=Moe(),y=!!h.hits.length,b=!h.hits.length&&h.loaded,x=h.error,_=p.useCallback(()=>{v&&v.addSearch(m,c),s==null||s()},[c,s,v,m]),w=p.useCallback(()=>{o({type:"PAGE_INCREMENT"})},[o]),C=p.useCallback(S=>d.jsxs(d.Fragment,{children:[d.jsx(Ioe,{disableIntentLink:e,documentId:di(S.hit._id)||"",documentType:S.hit._type,onClick:_,onItemSelect:i,paddingY:1}),l&&d.jsx(ZZn,{data:S})]}),[l,e,_,i]);return d.jsx(oe,{children:d.jsx(ke,{borderTop:u||!!(x||y||b),flex:1,children:d.jsxs(oe,{direction:"column",height:"fill",children:[y&&d.jsx(GZn,{}),d.jsx(tXn,{$loading:h.loading,"aria-busy":h.loading,flex:1,children:x?d.jsx(UZn,{}):d.jsxs(d.Fragment,{children:[y&&d.jsx(Wy,{activeItemDataAttr:"data-hovered",ariaLabel:g("search.search-results-label"),"data-testid":"search-results",fixedHeight:!0,initialIndex:f,inputElement:r,itemHeight:JZn,items:h.hits,overscan:eXn,onEndReached:w,paddingX:2,paddingY:1,ref:a,renderItem:C}),b&&d.jsx(MZn,{})]})})]})})})}var UTe=Object.freeze,nXn=Object.defineProperty,wnt=(n,e)=>UTe(nXn(n,"raw",{value:UTe(e||n.slice())})),zTe,VTe;const HTe={duration:.4,type:"spring"},rXn={open:{opacity:1,scale:1,x:"-50%"},closed:{opacity:0,scale:.99,x:"-50%"}},iXn={open:{opacity:1},closed:{opacity:0}},WTe=12,oXn=F(Xa(ke))(zTe||(zTe=wnt([`
  background-color: var(--card-backdrop-color);
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
`]))),sXn=F(Xa(ke))(VTe||(VTe=wnt([`
  display: flex !important;
  flex-direction: column;
  left: 50%;
  max-height: min(
    calc(100vh - `,"vh - ",`px),
    `,`px
  );
  position: absolute;
  top: `,`vh;
  width: min(calc(100vw - `,"px), ",`px);
`])),WTe,ZY,cqn,WTe,ZY*2,uqn);function _nt(n){let{disableFocusLock:e,disableIntentLink:r,onClose:i,onItemSelect:o,onOpen:s,open:a}=n;const[l,c]=p.useState(null),u=p.useRef(null),{isTopLayer:f,zIndex:h}=Eu(),{t:m}=me(),{onClose:g,state:{filtersVisible:v,terms:y}}=Rr(),b=sB({terms:y}),x=p.useCallback(()=>{f&&g&&a&&g()},[f,g,a]);return ki(x,[u.current]),d.jsx(nnt,{hasValidTerms:b,onClose:i,onOpen:s,open:a,children:d.jsx(Zp,{children:a&&d.jsx(ew,{children:d.jsxs(rv,{autoFocus:!$D,disabled:e,returnFocus:!0,children:[d.jsx(oXn,{animate:"open",exit:"closed",initial:"closed",style:{zIndex:h},transition:HTe,variants:iXn}),d.jsxs(sXn,{animate:"open",exit:"closed",initial:"closed",overflow:"hidden",radius:i2,ref:u,shadow:2,style:{zIndex:h},transition:HTe,variants:rXn,children:[d.jsx(bnt,{ariaInputLabel:m(b?"search.search-results-aria-label":"search.recent-searches-aria-label"),onClose:i,ref:c}),v&&d.jsx(ke,{borderTop:!0,flex:"none",children:d.jsx(unt,{})}),b?d.jsx(xnt,{inputElement:l,onItemSelect:o,disableIntentLink:r}):d.jsx(ynt,{inputElement:l})]})]})})})})}function Ent(n){return typeof n.__recent<"u"}const JY="core:studio:navbar:search:";rg(JY);function aXn(n){const e="".concat(JY).concat(n);return rg&&rg.enabled(e)?rg(e):rg(JY)}function lXn(){return typeof window>"u"?!1:window.location.hash.slice(1).split(";").includes(sqn)}function cXn(n){let{currentUser:e,fullscreen:r,definitions:i,pagination:o}=n;return{currentUser:e,debug:lXn(),documentTypesNarrowed:[],filters:[],filtersVisible:!0,fullscreen:r,lastActiveIndex:-1,ordering:yb.relevance,...o,result:{error:null,hasLocal:!1,hits:[],loaded:!1,loading:!1},terms:{query:"",types:[]},definitions:i}}const uXn=aXn("reducer");function dXn(n,e){var r,i;let o="🔍";switch(e.type.startsWith("SEARCH_REQUEST")&&(o="🚨"),e.type.startsWith("RECENT_SEARCHES")&&(o="💾"),uXn(o,e),e.type){case"FILTERS_VISIBLE_SET":return{...n,filtersVisible:e.visible};case"LAST_ACTIVE_INDEX_SET":return{...n,lastActiveIndex:e.index};case"ORDERING_RESET":return{...n,ordering:yb.relevance,terms:_1(n.terms)};case"ORDERING_SET":return{...n,ordering:e.ordering,terms:_1(n.terms)};case"PAGE_INCREMENT":return{...n,cursor:(r=n.nextCursor)!=null?r:n.cursor,nextCursor:null,terms:_1(n.terms)};case"SEARCH_CLEAR":return{...n,cursor:null,nextCursor:null,result:{...n.result,hasLocal:!1,hits:[]}};case"SEARCH_REQUEST_COMPLETE":return{...n,nextCursor:(i=e.nextCursor)!=null?i:null,result:{...n.result,error:null,hasLocal:!0,hits:n.result.hasLocal?fXn([...n.result.hits,...e.hits]):e.hits,loaded:!0,loading:!1}};case"SEARCH_REQUEST_ERROR":return{...n,result:{...n.result,error:e.error,loaded:!1,loading:!1}};case"SEARCH_REQUEST_START":return{...n,result:{...n.result,loaded:!1,loading:!0}};case"TERMS_FILTERS_ADD":{const s={...e.filter,value:rYn(n.definitions.operators,e.filter.operatorType)},a=[...n.filters,s];return{...n,documentTypesNarrowed:w1({fieldDefinitions:n.definitions.fields,filters:a,types:n.terms.types}),filters:a,lastAddedFilter:s,terms:{...n.terms,filter:x1({fieldDefinitions:n.definitions.fields,filterDefinitions:n.definitions.filters,filters:a,operatorDefinitions:n.definitions.operators})}}}case"TERMS_FILTERS_CLEAR":{const s=[];return{...n,documentTypesNarrowed:w1({fieldDefinitions:n.definitions.fields,filters:s,types:n.terms.types}),filters:s,terms:{...n.terms,filter:x1({fieldDefinitions:n.definitions.fields,filterDefinitions:n.definitions.filters,filters:s,operatorDefinitions:n.definitions.operators})}}}case"TERMS_FILTERS_REMOVE":{const s=n.filters.findIndex(l=>bc(l)===e.filterKey),a=[...n.filters.slice(0,s),...n.filters.slice(s+1)];return{...n,documentTypesNarrowed:w1({fieldDefinitions:n.definitions.fields,filters:a,types:n.terms.types}),filters:a,terms:{...n.terms,filter:x1({fieldDefinitions:n.definitions.fields,filterDefinitions:n.definitions.filters,filters:a,operatorDefinitions:n.definitions.operators})}}}case"TERMS_FILTERS_SET_OPERATOR":{const s=n.filters.find(h=>bc(h)===e.filterKey),a=xy(n.definitions.operators,s==null?void 0:s.operatorType),l=xy(n.definitions.operators,e.operatorType),c=l==null?void 0:l.initialValue,u=(a==null?void 0:a.inputComponent)!=(l==null?void 0:l.inputComponent),f=n.filters.map(h=>bc(h)===e.filterKey?{...h,operatorType:e.operatorType,...u?{value:c}:{}}:h);return{...n,filters:f,terms:{...n.terms,filter:x1({fieldDefinitions:n.definitions.fields,filterDefinitions:n.definitions.filters,filters:f,operatorDefinitions:n.definitions.operators})}}}case"TERMS_FILTERS_SET_VALUE":{const s=n.filters.map(a=>bc(a)===e.filterKey?{...a,value:e.value}:a);return{...n,filters:s,terms:{...n.terms,filter:x1({fieldDefinitions:n.definitions.fields,filterDefinitions:n.definitions.filters,filters:s,operatorDefinitions:n.definitions.operators})}}}case"TERMS_QUERY_SET":return{...n,cursor:null,nextCursor:null,result:{...n.result,loaded:!1,hasLocal:!1},terms:_1({...n.terms,query:e.query})};case"TERMS_SET":{const s=e.filters||[],a=[...n.terms.types||[],...e.terms.types].sort(XY);return{...n,documentTypesNarrowed:w1({fieldDefinitions:n.definitions.fields,filters:s,types:a}),filters:s,lastAddedFilter:null,cursor:null,nextCursor:null,result:{...n.result,loaded:!1,hasLocal:!1},terms:{...e.terms,filter:x1({fieldDefinitions:n.definitions.fields,filterDefinitions:n.definitions.filters,filters:s,operatorDefinitions:n.definitions.operators})}}}case"TERMS_TYPE_ADD":{const s=[...n.terms.types||[],e.schemaType].sort(XY),a=w1({fieldDefinitions:n.definitions.fields,filters:[],types:s}),l=n.filters.filter(c=>{const u=zg(n.definitions.fields,c);return u?u.documentTypes.length===0?!0:a.every(f=>u.documentTypes.findIndex(h=>h===f)>-1):!0});return{...n,documentTypesNarrowed:a,filters:l,cursor:null,nextCursor:null,result:{...n.result,loaded:!1,hasLocal:!1},terms:_1({...n.terms,filter:x1({fieldDefinitions:n.definitions.fields,filterDefinitions:n.definitions.filters,operatorDefinitions:n.definitions.operators,filters:l}),types:s})}}case"TERMS_TYPE_REMOVE":{const s=(n.terms.types||[]).filter(a=>a!==e.schemaType);return{...n,documentTypesNarrowed:w1({fieldDefinitions:n.definitions.fields,filters:n.filters,types:s}),cursor:null,nextCursor:null,result:{...n.result,loaded:!1,hasLocal:!1},terms:_1({...n.terms,types:s})}}case"TERMS_TYPES_CLEAR":{const s=[];return{...n,documentTypesNarrowed:w1({fieldDefinitions:n.definitions.fields,filters:n.filters,types:s}),cursor:null,nextCursor:null,result:{...n.result,loaded:!1,hasLocal:!1},terms:_1({...n.terms,types:[]})}}default:return n}}function _1(n){if(Ent(n)){const{__recent:e,...r}=n;return r}return n}function fXn(n){const e=n.reduce((r,i)=>{const o=di(i.hit._id);return{...r,[o]:i}},{});return Object.values(e)}function Cnt(n){let{children:e,fullscreen:r}=n;const i=p.useRef(null),[o,s]=p.useState(null),a=Ar(),l=ao(),{search:{operators:c,filters:u}}=xi(),{fieldDefinitions:f,filterDefinitions:h,operatorDefinitions:m}=p.useMemo(()=>({fieldDefinitions:fnt(dnt(a,u)),filterDefinitions:Dtt(u),operatorDefinitions:rnt(c)}),[u,c,a]),g=p.useMemo(()=>cXn({currentUser:l,fullscreen:r,definitions:{fields:f,operators:m,filters:h},pagination:{cursor:null,nextCursor:null}}),[l,f,h,r,m]),[v,y]=p.useReducer(dXn,g),{documentTypesNarrowed:b,filters:x,ordering:_,cursor:w,result:C,terms:S}=v,T=p.useRef(!1),A=p.useRef(g.ordering),I=p.useRef(g.cursor),D=p.useRef(g.terms),{handleSearch:R,searchState:P}=$tt({initialState:{...C,terms:S},onComplete:N=>y({...N,type:"SEARCH_REQUEST_COMPLETE"}),onError:N=>y({error:N,type:"SEARCH_REQUEST_ERROR"}),onStart:()=>y({type:"SEARCH_REQUEST_START"}),schema:a}),O=sB({terms:S}),$=b.map(N=>a.get(N)),L=x.filter(N=>eR({fieldDefinitions:f,filter:N,filterDefinitions:h,operatorDefinitions:m})),M=p.useCallback(N=>{i.current=N},[]);return p.useEffect(()=>{const N=!Br(_,A.current),z=w!==I.current,B=!Br(S,D.current);if(N||z||B){const H=(_==null?void 0:_.customMeasurementLabel)||"".concat(_.sort.field," ").concat(_.sort.direction);R({options:{comments:[...Ent(S)?["findability-recent-search:".concat(S.__recent.index)]:[],"findability-selected-types:".concat(S.types.length),"findability-sort:".concat(H),"findability-source: global","findability-filter-count:".concat(L.length)],limit:aqn,skipSortByScore:_.ignoreScore,sort:[_.sort],cursor:w||void 0},terms:{...S,...$?{types:$}:{}}}),I.current=w}A.current=_,D.current=S},[L.length,x,$,R,O,_,P.terms,S,w]),p.useEffect(()=>{!O&&(T!=null&&T.current)&&C.hits.length>0&&y({type:"SEARCH_CLEAR"}),T.current=!0},[y,O,C.hits,S.query,S.types]),d.jsx(Rtt.Provider,{value:{dispatch:y,onClose:i==null?void 0:i.current,searchCommandList:o,setSearchCommandList:s,setOnClose:M,state:{...v,fullscreen:r}},children:e})}const GTe=p.forwardRef(function(e,r){let{onClick:i}=e;const{t:o}=Sh();return d.jsx(ze,{"aria-label":o("search.action-open-aria-label"),"data-testid":"studio-search",icon:Aa,tooltipProps:{content:o("search.button.tooltip"),hotkeys:[lqn,Ltt.toUpperCase()],portal:!0},onClick:i,mode:"bleed",ref:r})});var qTe=Object.freeze,hXn=Object.defineProperty,Snt=(n,e)=>qTe(hXn(n,"raw",{value:qTe(e||n.slice())})),KTe,YTe;const pXn=F(ke)(KTe||(KTe=Snt([`
  flex-direction: column;
  overflow: hidden;
  overflow: clip;
  pointer-events: all;
  position: relative;
`]))),mXn=F(te)(YTe||(YTe=Snt([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  pointer-events: none;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1;
`])));function gXn(n){let{onClose:e,onOpen:r,open:i}=n;const[o,s]=p.useState(null),{scheme:a}=o2(),{t:l}=me(),{state:{filtersVisible:c,terms:u}}=Rr(),f=sB({terms:u});return d.jsx(nnt,{hasValidTerms:f,onClose:e,onOpen:r,open:i,children:i&&d.jsx(ew,{children:d.jsx(rv,{autoFocus:!$D,returnFocus:!0,children:d.jsx(mXn,{children:d.jsxs(pXn,{display:"flex",height:"fill",scheme:a,tone:"default",children:[d.jsx(bnt,{ariaInputLabel:l(f?"search.search-results-aria-label":"search.recent-searches-aria-label"),onClose:e,ref:s}),c&&d.jsx(ke,{borderTop:!0,flex:"none",children:d.jsx(unt,{})}),f?d.jsx(xnt,{inputElement:o}):d.jsx(ynt,{inputElement:o})]})})})})})}function vXn(n){const{activeTool:e}=n;return p.createElement(e.component,{tool:e})}function yXn(){return d.jsx(ke,{height:"fill",children:d.jsx(oe,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:d.jsx(Ya,{width:0,children:d.jsx(ke,{padding:4,radius:2,shadow:1,tone:"caution",children:d.jsxs(oe,{children:[d.jsx(te,{children:d.jsx(J,{size:1,children:d.jsx(as,{})})}),d.jsxs(Se,{flex:1,marginLeft:3,space:3,children:[d.jsx(J,{as:"h1",size:1,weight:"medium",children:"No configured tools"}),d.jsx(J,{as:"p",muted:!0,size:1,children:"Please configure a tool in your Studio configuration."}),d.jsx(J,{as:"p",muted:!0,size:1,children:d.jsx("a",{href:"https://www.sanity.io/docs/studio-tools",rel:"noreferrer",target:"_blank",children:"Learn how to add a tool →"})})]})]})})})})})}function bXn(n){const{reason:e="Redirecting…"}=n;return d.jsx(ke,{height:"fill",children:d.jsx(oe,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:d.jsx(Ya,{width:0,children:d.jsx(ke,{padding:4,radius:2,shadow:1,tone:"primary",children:d.jsxs(oe,{children:[d.jsx(te,{children:d.jsx(J,{size:1,children:d.jsx(mJ,{})})}),d.jsx(Se,{flex:1,marginLeft:3,space:3,children:d.jsx(J,{as:"h1",size:1,weight:"bold",children:e})})]})})})})})}function xXn(n){const{toolName:e}=n;return d.jsx(ke,{height:"fill",children:d.jsx(oe,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:d.jsx(Ya,{width:0,children:d.jsx(ke,{padding:4,radius:2,shadow:1,tone:"caution",children:d.jsxs(oe,{children:[d.jsx(te,{children:d.jsx(J,{size:1,children:d.jsx(as,{})})}),d.jsx(Se,{flex:1,marginLeft:3,space:3,children:d.jsxs(J,{as:"h1",size:1,weight:"medium",children:["Tool not found: ",d.jsx("code",{children:e})]})})]})})})})})}const wXn="https://www.sanity.io/docs/workspaces",knt=rm(n=>Da(n.map(e=>e.auth.state.pipe(Me(r=>[e.name,r])))).pipe(Me(e=>Object.fromEntries(e))));var ZTe=Object.freeze,_Xn=Object.defineProperty,EXn=(n,e)=>ZTe(_Xn(n,"raw",{value:ZTe(e||n.slice())})),XTe;const eZ={"logged-in":"","logged-out":"Signed out","no-access":""},CXn=F.div(XTe||(XTe=EXn([`
  width: `,`;
  height: `,`;

  svg {
    width: 100%;
    height: 100%;
  }
`])),n=>n.$size==="small"?"25px":"41px",n=>n.$size==="small"?"25px":"41px"),Noe=n=>{let{icon:e,size:r="small"}=n;const i=p.useMemo(()=>Tnt(e),[e]);return d.jsx(CXn,{$size:r,children:i})},Tnt=n=>{if(Xr.isValidElementType(n))return p.createElement(n);if(p.isValidElement(n))return n};function QTe(n){const{state:e,subtitle:r,selected:i,title:o,icon:s,iconRight:a}=n,l=p.useMemo(()=>Tnt(a),[a]);return d.jsxs(oe,{align:"center",flex:"none",gap:3,children:[d.jsx(Noe,{icon:s,size:"small"}),d.jsxs(Se,{flex:1,space:2,children:[d.jsx(J,{size:1,textOverflow:"ellipsis",weight:"medium",children:o}),r&&d.jsx(J,{muted:!0,size:1,textOverflow:"ellipsis",children:r})]}),e&&eZ[e]&&d.jsx(te,{paddingLeft:1,children:d.jsx(J,{size:1,muted:!0,textOverflow:"ellipsis",children:eZ[e]})}),(i||l)&&d.jsxs(oe,{align:"center",gap:4,paddingLeft:3,paddingRight:2,children:[i&&d.jsx(J,{children:d.jsx(ec,{})}),l&&d.jsx(J,{muted:!0,children:l})]})]})}var JTe=Object.freeze,SXn=Object.defineProperty,kXn=(n,e)=>JTe(SXn(n,"raw",{value:JTe(e||n.slice())})),eAe;const tAe=[{url:"https://slack.sanity.io/",i18nKey:"workspaces.community-title",title:"Community"},{url:"https://www.sanity.io/docs",i18nKey:"workspaces.docs-title",title:"Docs"},{url:"https://www.sanity.io/legal/privacy",i18nKey:"workspaces.privacy-title",title:"Privacy"},{url:"https://www.sanity.io",i18nKey:"workspaces.sanity-io-title",title:"sanity.io"}],TXn=F(J)(eAe||(eAe=kXn([`
  a {
    color: inherit;
  }
`])));function nAe(n){const{children:e,footer:r,header:i}=n;return me(),d.jsxs(Se,{space:6,children:[d.jsx(ke,{border:!0,radius:3,overflow:"auto",children:d.jsxs(Se,{children:[typeof i=="object"&&d.jsx(te,{children:i}),typeof i=="string"&&d.jsx(te,{paddingY:4,children:d.jsx(Pa,{align:"center",size:1,children:i})}),d.jsx(te,{paddingX:1,children:d.jsx(ke,{borderTop:!!i,borderBottom:!!r,children:e})}),r&&d.jsx(te,{children:r})]})}),d.jsxs(oe,{direction:"column",gap:4,justify:"center",align:"center",paddingBottom:4,children:[d.jsx(J,{size:3,children:d.jsx(I5n,{})}),d.jsx(oe,{align:"center",gap:2,children:tAe.map((o,s)=>d.jsxs(p.Fragment,{children:[d.jsx(TXn,{muted:!0,size:1,children:d.jsx("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",children:o.title})}),s<tAe.length-1&&d.jsx(J,{size:1,muted:!0,children:"•"})]},o.title))})]})]})}function AXn(){var n;const e=MD(),{activeWorkspace:r,setActiveWorkspace:i}=bw(),[o]=knt(e),[s,a]=p.useState((r==null?void 0:r.name)||null),l=e.length===1?e[0]:e.find(h=>h.name===s),c=(n=l==null?void 0:l.auth)==null?void 0:n.LoginComponent,u=p.useCallback(()=>a(null),[]),{t:f}=me();return o?c&&l?d.jsxs(Se,{space:2,children:[e.length>1&&d.jsx(oe,{children:d.jsx(ze,{icon:UI,mode:"bleed",onClick:u,text:f("workspaces.action.choose-another-workspace")})}),d.jsx(nAe,{header:d.jsx(te,{padding:3,children:d.jsx(QTe,{icon:l.icon,title:l.title,subtitle:l==null?void 0:l.subtitle})}),children:d.jsx(Se,{padding:2,paddingBottom:3,paddingTop:4,children:d.jsx(c,{projectId:l.projectId,redirectPath:window.location.pathname.startsWith(l.basePath)?"".concat(window.location.pathname).concat(window.location.search):l.basePath},s)})})]}):d.jsx(nAe,{header:f("workspaces.choose-your-workspace-label"),footer:d.jsx(Se,{padding:1,children:d.jsx(ze,{as:"a",href:wXn,icon:Ta,mode:"bleed",rel:"noopener noreferrer",size:"large",target:"__blank",text:f("workspaces.action.add-workspace")})}),children:d.jsx(Se,{space:1,paddingX:1,paddingY:2,children:e.map(h=>{const g=o[h.name].authenticated?"logged-in":h.auth.LoginComponent?"logged-out":"no-access",v=()=>{g==="logged-in"&&h.name!==r.name&&i(h.name),g==="logged-out"&&a(h.name)};return d.jsx(ke,{as:"button",radius:2,padding:2,onClick:v,children:d.jsx(QTe,{icon:h==null?void 0:h.icon,iconRight:Ch,state:g,subtitle:h==null?void 0:h.subtitle,title:(h==null?void 0:h.title)||h.name})},h.name)})})}):d.jsx(Zr,{showText:!0})}var rAe=Object.freeze,IXn=Object.defineProperty,DXn=(n,e)=>rAe(IXn(n,"raw",{value:rAe(e||n.slice())})),iAe;const RXn=F(_r)(iAe||(iAe=DXn([`
  max-width: 350px;
  min-width: 250px;
`]))),OXn={constrainSize:!0,fallbackPlacements:["bottom-end","bottom"],placement:"bottom-end"};function Ant(){const n=MD(),{activeWorkspace:e,setActiveWorkspace:r}=bw(),[i]=knt(n),{navigateUrl:o}=md(),{t:s}=me();if(!(n.length>1))return null;const l=!i;return d.jsx(Vr,{button:d.jsx(oe,{children:d.jsx(zn,{content:s("workspaces.select-workspace-tooltip"),disabled:l,portal:!0,children:d.jsx(ui,{disabled:l,mode:"bleed",padding:2,width:"fill",children:d.jsxs(oe,{align:"center",gap:2,children:[d.jsx(te,{children:d.jsx(J,{size:1,textOverflow:"ellipsis",weight:"medium",children:e.title})}),d.jsx(J,{size:1,children:d.jsx(qs,{})})]})})})}),id:"workspace-menu",menu:!l&&i?d.jsx(RXn,{children:n.map(c=>{const f=i[c.name].authenticated?"logged-in":c.auth.LoginComponent?"logged-out":"no-access",h=()=>{f==="logged-in"&&c.name!==e.name&&r(c.name),f==="logged-out"&&o({path:c.basePath})},m=c.name===e.name;return d.jsx(Wt,{badgeText:eZ[f],iconRight:m?ec:void 0,onClick:h,pressed:m,preview:d.jsx(Noe,{icon:c.icon,size:"small"}),selected:m,__unstable_subtitle:c.subtitle,__unstable_space:1,text:(c==null?void 0:c.title)||c.name},c.name)})}):void 0,popover:OXn})}function Int(){return d.jsx(ke,{height:"fill",overflow:"auto",paddingX:4,children:d.jsx(oe,{height:"fill",direction:"column",align:"center",justify:"center",paddingTop:4,children:d.jsx(Ya,{width:0,children:d.jsx(AXn,{})})})})}function PXn(){return d.jsx(d.Fragment,{children:"TODO: implement config errors screen"})}var oAe=Object.freeze,jXn=Object.defineProperty,LXn=(n,e)=>oAe(jXn(n,"raw",{value:oAe(e||n.slice())})),sAe;const $Xn=F.label(sAe||(sAe=LXn([`
  clip: rect(0 0 0 0);
  clip-path: inset(50%);
  height: 1px;
  overflow: hidden;
  overflow: clip;
  position: absolute;
  white-space: nowrap;
  width: 1px;
`])));function MXn(n){const{projectId:e}=n,r=window.location.origin,i=p.useMemo(()=>{const o=new URL("https://sanity.io/manage/project/".concat(e,"/api"));return o.searchParams.set("cors","add"),o.searchParams.set("origin",r),o.searchParams.set("credentials",""),o.toString()},[r,e]);return p.useEffect(()=>{const o=()=>{window.location.reload()};return window.addEventListener("focus",o),()=>{window.removeEventListener("focus",o)}},[]),d.jsx(ke,{height:"fill",children:d.jsx(ja,{id:"cors-error-dialog",header:"Before you continue...",width:1,footer:{confirmButton:{text:"Continue",iconRight:Iy,as:"a",href:i,target:"_blank",rel:"noopener noreferrer",tone:"primary"}},children:d.jsxs(Se,{space:4,children:[d.jsxs(J,{children:["To access your content, you need to ",d.jsx("b",{children:"add the following URL as a CORS origin"})," to your Sanity project."]}),d.jsx($Xn,{"aria-hidden":"true",children:"CORS URL to be added"}),d.jsx(ua,{value:r,readOnly:!0})]})})})}function Dnt(){const[n,e]=p.useState(null),[r,i]=p.useState(null);if(r)throw r;const{activeWorkspace:o}=bw(),s=p.useCallback(()=>{var c,u;(u=(c=o.auth).logout)==null||u.call(c)},[o]);p.useEffect(()=>{const c=o.auth.state.subscribe({next:u=>{let{currentUser:f}=u;e(f)},error:i});return()=>{c.unsubscribe()}},[o]);const a=SXe(n==null?void 0:n.provider),l=a?" through ".concat(a):"";return d.jsx(ke,{height:"fill",children:d.jsx(ja,{id:"not-authorized-dialog",header:"Not authorized",width:1,footer:{confirmButton:{text:"Sign out",onClick:s,tone:"default"}},children:d.jsxs(Se,{space:4,children:[d.jsx(J,{children:"You are not authorized to access this studio. Maybe you could ask someone to invite you to collaborate on this project?"}),d.jsxs(J,{children:["If you think this is an error, verify that you are signed in with the correct account. You are currently signed in as"," ",d.jsxs("strong",{children:[n==null?void 0:n.name," (",n==null?void 0:n.email,")"]}),l,"."]})]})})})}function FXn(n){return d.jsx(ke,{height:"fill",sizing:"border",tone:"caution",display:"flex",children:d.jsx(oe,{direction:"row",justify:"center",flex:1,align:"center",children:d.jsxs(Se,{space:4,children:[d.jsx(Pa,{as:"h1",children:"Workspace not found"}),d.jsx(to,{children:d.jsx(ze,{text:"Go to default workspace",onClick:n.onNavigateToDefaultWorkspace,mode:"ghost"})})]})})})}function NXn(n){return n.map(e=>e.kind==="type"?"".concat(e.name||"<unnamed>","(").concat(e.type,")"):e.kind==="property"?e.name:null).filter(Boolean).join(" > ")}function BXn(n){const e=n._validation,r=e==null?void 0:e.filter(i=>i.problems.some(o=>o.severity==="warning"));(r==null?void 0:r.length)!==0&&(console.groupCollapsed("⚠️ Schema has ".concat(r==null?void 0:r.length," warnings")),r==null||r.forEach(i=>{const o=NXn(i.path);console.group("%cAt ".concat(o),"color: #FF7636"),i.problems.forEach(s=>{console.log(s.message)}),console.groupEnd()}),console.groupEnd())}var aAe=Object.freeze,UXn=Object.defineProperty,Rnt=(n,e)=>aAe(UXn(n,"raw",{value:aAe(e||n.slice())})),lAe,cAe;const zXn={error:"critical",warning:"caution"},uAe=F.code(lAe||(lAe=Rnt([`
  && {
    background: none;
    color: inherit;
  }
`]))),VXn=F(J)(cAe||(cAe=Rnt([`
  white-space: pre-line;
`])));function Ont(n){const{problemGroups:e}=n;me();const r=p.useMemo(()=>{const i=[];for(const o of e)for(const s of o.problems)i.push({group:o,problem:s});return i},[e]);return d.jsx(Se,{as:"ul",space:4,children:r.map((i,o)=>{let{group:s,problem:a}=i;const l=a.severity==="error",c=a.severity==="warning",u=HXn(s);return d.jsxs(ke,{border:!0,padding:4,radius:2,tone:zXn[a.severity],children:[d.jsxs(oe,{children:[d.jsx(te,{marginRight:3,children:d.jsxs(J,{muted:!0,size:1,children:[l&&d.jsx(Dc,{}),c&&d.jsx(as,{})]})}),d.jsx(te,{flex:1,children:d.jsx(J,{size:1,weight:"medium",children:u?d.jsxs(d.Fragment,{children:[iw(u.type),' type "',u.name,'"']}):null})})]}),d.jsx(te,{marginTop:4,children:d.jsx(ke,{border:!0,overflow:"auto",padding:2,tone:"inherit",children:d.jsx(mVe,{separator:d.jsx(J,{muted:!0,size:1,children:"→"}),children:s.path.map((f,h)=>{if(f.kind==="type"){const m="".concat(WXn(f.name||"<anonymous ".concat(f.type,">")),":").concat(f.type);return d.jsx(J,{title:m,size:1,textOverflow:"ellipsis",children:d.jsx(uAe,{children:m})},h)}return f.kind==="property"?d.jsx(J,{title:f.name,size:1,textOverflow:"ellipsis",children:d.jsx(uAe,{children:f.name})},h):null})})})}),d.jsx(te,{as:"ul",marginTop:4,children:d.jsx(te,{as:"li",children:d.jsxs(Se,{space:3,children:[d.jsx(VXn,{muted:!0,size:1,children:a.message}),a.helpId&&d.jsx(J,{muted:!0,size:1,children:d.jsx("a",{href:bWe(a.helpId),target:"_blank",rel:"noopener noreferrer",children:"View documentation →"})})]})})})]},o)})})}function HXn(n){const e=n.path[0];return e.kind==="type"?{name:e.name||"<anonymous ".concat(e.type,">"),type:e.type}:null}function WXn(n){if(n!=null&&n.startsWith("<unnamed_type_@_index")){const e=n.slice(1,-1).split("_");return"[".concat(e[4],"]")}return n}function GXn(n){let{schema:e}=n;var r;const i=((r=e._validation)==null?void 0:r.filter(o=>o.problems.some(s=>s.severity==="error")))||[];return p.useEffect(()=>BXn(e),[e]),d.jsx(ke,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",children:d.jsx(Ya,{width:1,children:d.jsxs(Se,{space:5,children:[d.jsx(Pa,{as:"h1",children:"Schema errors"}),d.jsx(Ont,{problemGroups:i})]})})})}function Pnt(n){let{children:e,heading:r="An error occured"}=n;const[{error:i},o]=p.useState({error:null}),s=$n(i)&&typeof i.message=="string"&&i.message,a=$n(i)&&typeof i.stack=="string"&&i.stack,l=p.useCallback(()=>o({error:null}),[o]);return j5n(l),i instanceof fie?d.jsx(MXn,{projectId:i==null?void 0:i.projectId}):i instanceof joe?d.jsx(GXn,{schema:i.schema}):i?d.jsx(ke,{height:"fill",overflow:"auto",paddingY:[4,5,6,7],paddingX:4,sizing:"border",tone:"critical",children:d.jsx(Ya,{width:3,children:d.jsxs(Se,{space:4,children:[d.jsx(Pa,{children:r}),d.jsx("div",{children:d.jsx(ze,{onClick:l,text:"Retry",tone:"default"})}),d.jsx(ke,{border:!0,radius:2,overflow:"auto",padding:4,tone:"inherit",children:d.jsxs(Se,{space:4,children:[s&&d.jsx(ia,{size:1,children:d.jsxs("strong",{children:["Error: ",s]})}),a&&d.jsx(ia,{size:1,children:a})]})})]})})}):d.jsx(dD,{onCatch:o,children:e})}var dAe=Object.freeze,qXn=Object.defineProperty,KXn=(n,e)=>dAe(qXn(n,"raw",{value:dAe(e||n.slice())})),fAe;const YXn=F(ke)(fAe||(fAe=KXn([`
  height: 100%;
  left: 0;
  overflow: hidden;
  overflow: clip;
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 200;
`]))),jnt=p.createContext({onSearchFullscreenOpenChange:()=>"",onSearchOpenChange:()=>"",searchFullscreenOpen:!1,searchFullscreenPortalEl:null,searchOpen:!1});function ZXn(){const n=rQn();return d.jsx(n,{})}function XXn(){var n;const{name:e,title:r,tools:i}=pa(),o=md(),s=sN(p.useCallback(S=>typeof S.tool=="string"?S.tool:void 0,[])),a=p.useMemo(()=>i.find(S=>S.name===s),[s,i]),[l,c]=p.useState(!1),[u,f]=p.useState(null),[h,m]=p.useState(!1),g=p.useMemo(()=>{const S=r||li(e);return s?"".concat(li(s)," | ").concat(S):S},[s,e,r]),v=!!(a!=null&&a.controlsDocumentTitle);p.useEffect(()=>{v||(document.title=g)},[g,v]);const y=p.useCallback(S=>{c(S)},[]),b=p.useCallback(S=>{m(S)},[]),x=p.useMemo(()=>({searchFullscreenOpen:l,searchFullscreenPortalEl:u,searchOpen:h,onSearchFullscreenOpenChange:y,onSearchOpenChange:b}),[l,u,h,y,b]),_=nQn(),w=iQn(),C=!a&&(s==="desk"||!s)&&typeof window<"u"&&/\/desk(\/|$)/.test(window.location.pathname)&&i.some(S=>S.name==="structure");return p.useEffect(()=>{C&&o.navigateUrl({path:window.location.pathname.replace(/\/desk/,"/structure"),replace:!0})},[C,o]),d.jsxs(oe,{"data-ui":"ToolScreen",direction:"column",height:"fill","data-testid":"studio-layout",children:[d.jsx(jnt.Provider,{value:x,children:d.jsx(_,{})}),C&&d.jsx(bXn,{}),i.length===0&&d.jsx(yXn,{}),i.length>0&&!a&&s&&!C&&d.jsx(xXn,{toolName:s}),l&&d.jsx(YXn,{ref:f,overflow:"auto"}),d.jsx(Pnt,{heading:"The ".concat(a==null?void 0:a.name," tool crashed"),children:d.jsx(ke,{flex:1,hidden:l,children:a&&s&&d.jsx($bn,{scope:s,__unsafe_disableScopedSearchParams:(n=a.router)==null?void 0:n.__unsafe_disableScopedSearchParams,children:d.jsx(p.Suspense,{fallback:d.jsx(Zr,{showText:!0}),children:d.jsx(w,{activeTool:a})})})})},a==null?void 0:a.name)]})}function QXn(n){var e,r;return(r=(e=n.studio)==null?void 0:e.components)==null?void 0:r.toolMenu}function JXn(n){var e,r;return(r=(e=n.studio)==null?void 0:e.components)==null?void 0:r.navbar}function eQn(n){var e,r;return(r=(e=n.studio)==null?void 0:e.components)==null?void 0:r.layout}function tQn(n){var e,r;return(r=(e=n.studio)==null?void 0:e.components)==null?void 0:r.activeToolLayout}function Lnt(){return Tf({defaultComponent:XJn,pick:QXn})}function nQn(){return Tf({defaultComponent:VJn,pick:JXn})}function rQn(){return Tf({defaultComponent:XXn,pick:eQn})}function iQn(){return Tf({defaultComponent:vXn,pick:tQn})}function oQn(){var n;const r=((n=Ar()._validation)==null?void 0:n.filter(m=>m.problems.some(g=>g.severity==="warning")))||[],{scheme:i}=o2(),{t:o}=me(),s=p.useId(),[a,l]=p.useState(!1),[c,u]=p.useState(null),f=p.useCallback(()=>l(!0),[]),h=p.useCallback(()=>{l(!1),c&&c.focus()},[c]);return r.length===0?null:d.jsxs(d.Fragment,{children:[d.jsx(nR,{icon:as,mode:"bleed",onClick:f,ref:u,selected:a,tone:"caution",tooltipProps:{scheme:i,content:o("configuration-issues.button.tooltip")}}),a&&d.jsx(ja,{header:"Configuration issues",width:2,onClickOutside:h,onClose:h,scheme:i,id:s,children:d.jsxs(Se,{space:4,children:[d.jsxs(Se,{space:3,children:[d.jsxs(J,{as:"h2",size:1,weight:"medium",children:["Found ",r.length," schema warnings"]})," ",d.jsx(J,{muted:!0,size:1,children:"Configuration checks are only performed during development and will not be visible in production builds"})]}),d.jsx(Ont,{problemGroups:r})]})})]})}const $nt=kf({name:"Trial Dialog Viewed",version:1,description:"User viewed a dialog or popover related to free trial"}),sQn=kf({name:"Trial Dialog Dismissed",version:1,description:"User dismissed a dialog or popover related to free trial"}),hAe=kf({name:"Trial Dialog CTA Clicked",version:1,description:"User clicked a CTA in a dialog or popover related to free trial"});function IT(n){let{showOnLoad:e,dialogId:r}=n;return e&&r.toLowerCase()==="free-upgrade-popover"?"trialStarted":e&&r.toLowerCase()==="trial-ending-popover"?"trialEndingSoon":e&&r.toLowerCase()==="project-downgraded-to-free"?"trialEnded":!e&&r.toLowerCase()==="after-trial-upgrade"?"postTrial":"trialActive"}const pAe=kf({name:"Upsell Dialog Viewed",version:1,description:"User viewed the upsell dialog"}),mAe=kf({name:"Upsell Dialog Dismissed",version:1,description:"User dismissed the upsell dialog"}),gAe=kf({name:"Upsell Dialog Upgrade CTA Clicked",version:1,description:'User clicked the "Upgrade" CTA in the upsell dialog'}),vAe=kf({name:"Upsell Dialog Learn More CTA Clicked",version:1,description:'User clicked the "Learn More" CTA in the upsell dialog'}),yAe={inlineIcon:(n,e,r)=>{var i,o,s,a;if(!ka(r))return r;const l=!!(((i=r.children[e-1])==null?void 0:i._type)==="span"&&((o=r.children[e-1])!=null&&o.text)),c=!!(((s=r.children[e+1])==null?void 0:s._type)==="span"&&((a=r.children[e+1])!=null&&a.text));return{...n,hasTextRight:c,hasTextLeft:l}}},aQn=n=>n.map(e=>{if(ka(e)&&e._type==="block"){const r=e.children.map((i,o)=>yAe[i._type]?yAe[i._type](i,o,e):i);return{...e,children:r}}return e});var bAe=Object.freeze,lQn=Object.defineProperty,xw=(n,e)=>bAe(lQn(n,"raw",{value:bAe(e||n.slice())})),xAe,wAe,_Ae,EAe,CAe,SAe,kAe;const cQn=F(te)(xAe||(xAe=xw([`
  height: 1px;
  background: var(--card-border-color);
  width: 100%;
`]))),uQn=F.div(wAe||(wAe=xw([`
  // Remove margin top of first element
  > div:first-child {
    margin-top: 0;
  }
  // Remove margin bottom to last box.
  > [data-ui='Box']:last-child {
    margin-bottom: 0;
  }
`]))),dQn=F(J)(n=>n.accent?`
    --card-icon-color: var(--card-accent-fg-color);
    `:""),Mnt=F.span(_Ae||(_Ae=xw([`
  color: var(--card-accent-fg-color);
  --card-icon-color: var(--card-accent-fg-color);
`]))),fQn=F.span(n=>{let{theme:e}=n;const{weights:r}=e.sanity.fonts.text;return Ae(EAe||(EAe=xw([`
    font-weight: `,`;
  `])),r.semibold)}),hQn=F(_Be)(CAe||(CAe=xw([`
  &[data-sanity-icon] {
    /* Forces the icon to leave the necessary space to the right or left it has surrounding text */
    margin-left: `,`;
    margin-right: `,`;
  }
`])),n=>n.$hasTextLeft?"0":"",n=>n.$hasTextRight?"0":""),pQn=F.a(SAe||(SAe=xw([`
  font-weight: 600;
  color: `,`;
`])),n=>n.useTextColor?"var(--card-muted-fg-color) !important":""),mQn=F.span(kAe||(kAe=xw([`
  > svg {
    display: inline;
    font-size: calc(21 / 16 * 1rem) !important;
    margin: -0.375rem 0 !important;
    *[stroke] {
      stroke: currentColor;
    }
  }
`]))),gQn=n=>d.jsx(Mnt,{children:n}),TAe=n=>{const[e,r]=p.useState(null);return p.useEffect(()=>{if(!e)return;const i=new AbortController,o=i.signal;return fetch(n.icon.url,{signal:o}).then(s=>{if(!s.ok)throw new Error("HTTP error! status: ".concat(s.status));return s.text()}).then(s=>{e&&(e.innerHTML=s)}).catch(s=>{s.name!=="AbortError"&&console.error(s)}),()=>{i.abort()}},[e,n.icon.url]),d.jsx(mQn,{ref:r})};function ZP(n){const{children:e}=n;return d.jsx(te,{paddingX:2,marginBottom:4,children:d.jsx(J,{size:1,muted:!0,children:e})})}function vQn(n){const{children:e}=n;return d.jsx(te,{paddingX:2,marginY:4,children:d.jsx(Pa,{size:2,as:"h2",children:e})})}const yQn={block:{normal:n=>{let{children:e}=n;return d.jsx(ZP,{children:e})},h2:n=>{let{children:e}=n;return d.jsx(vQn,{children:e})}},list:{bullet:n=>{let{children:e}=n;return e},number:n=>{let{children:e}=n;return d.jsx(d.Fragment,{children:e})},checkmarks:n=>{let{children:e}=n;return d.jsx(d.Fragment,{children:e})}},listItem:{bullet:n=>{let{children:e}=n;return d.jsx(ZP,{children:e})},number:n=>{let{children:e}=n;return d.jsx(ZP,{children:e})},checkmarks:n=>{let{children:e}=n;return d.jsx(ZP,{children:e})}},marks:{strong:n=>{let{children:e}=n;return d.jsx("strong",{children:e})},semibold:n=>{let{children:e}=n;return d.jsx(fQn,{children:e})},link:n=>d.jsxs(pQn,{href:n.value.href,rel:"noopener noreferrer",target:"_blank",useTextColor:n.value.useTextColor,children:[n.children,n.value.showIcon&&d.jsx(ff,{style:{marginLeft:"2px"}})]}),accent:n=>d.jsx(Mnt,{children:n.children})},types:{inlineIcon:n=>d.jsx(E6,{condition:n.value.accent,wrapper:gQn,children:n.value.sanityIcon?d.jsx(hQn,{symbol:n.value.sanityIcon,$hasTextLeft:n.value.hasTextLeft,$hasTextRight:n.value.hasTextRight}):d.jsx(TAe,{icon:n.value.icon})}),divider:()=>d.jsx(te,{marginY:3,children:d.jsx(te,{paddingY:3,children:d.jsx(cQn,{})})}),iconAndText:n=>d.jsxs(oe,{align:"flex-start",paddingX:2,paddingTop:1,paddingBottom:2,marginTop:2,gap:2,children:[d.jsxs(oe,{gap:2,style:{flexShrink:0},children:[d.jsx(dQn,{size:1,accent:n.value.accent,children:n.value.sanityIcon?d.jsx(_Be,{symbol:n.value.sanityIcon}):d.jsx(TAe,{icon:n.value.icon})}),d.jsx(J,{size:1,weight:"semibold",accent:n.value.accent,children:n.value.title})]}),d.jsx(J,{size:1,muted:!0,accent:n.value.accent,children:n.value.text})]})}};function mB(n){const e=p.useMemo(()=>aQn(n.blocks),[n.blocks]);return d.jsx(ke,{tone:"default",children:d.jsx(uQn,{children:d.jsx(sXe,{value:e,components:yQn,onMissingComponent:!1})})})}var AAe=Object.freeze,bQn=Object.defineProperty,Boe=(n,e)=>AAe(bQn(n,"raw",{value:AAe(e||n.slice())})),IAe,DAe,RAe;const xQn=F(ze)(IAe||(IAe=Boe([`
  position: absolute;
  top: 12px;
  right: 12px;
  z-index: 20;
  background: transparent;
  border-radius: 9999px;
  box-shadow: none;
  color: white;
  --card-fg-color: white;
  :hover {
    --card-fg-color: white;
  }
`]))),wQn=F.img(DAe||(DAe=Boe([`
  object-fit: cover;
  width: 100%;
  height: 100%;
  height: 196px;
`]))),_Qn=F(ja)(RAe||(RAe=Boe([`
  > [data-ui='DialogCard'] {
    max-width: 22.5rem;
  }
`])));function EQn(n){let{onClose:e,onOpenNext:r,onOpenUrlCallback:i,content:o,open:s}=n;var a,l,c,u,f;function h(){e("xClick")}function m(){e("outsideClick")}function g(){e("ctaClicked")}const v=fB();return s?d.jsxs(_Qn,{id:"free-trial-modal",onClose:e,onClickOutside:m,padding:!1,__unstable_hideCloseButton:!0,scheme:v,footer:{cancelButton:(a=o.secondaryButton)!=null&&a.text?{text:o.secondaryButton.text,mode:"bleed",tone:"default",onClick:h}:void 0,confirmButton:{text:(l=o.ctaButton)==null?void 0:l.text,mode:"default",tone:"primary",...((c=o.ctaButton)==null?void 0:c.action)==="openUrl"?{href:o.ctaButton.url,target:"_blank",rel:"noopener noreferrer",as:"a",onClick:i}:{onClick:((u=o.ctaButton)==null?void 0:u.action)==="openNext"?r:g}}},children:[d.jsx(xQn,{icon:Is,mode:"bleed",tone:"default",onClick:h,tabIndex:-1,tooltipProps:null}),o.image&&d.jsx(wQn,{src:o.image.asset.url,alt:(f=o.image.asset.altText)!=null?f:""}),d.jsxs(oe,{padding:3,direction:"column",children:[d.jsx(te,{paddingX:2,marginTop:3,children:d.jsx(Pa,{size:2,children:o.headingText})}),d.jsx(te,{marginTop:4,paddingBottom:3,children:d.jsx(mB,{blocks:o.descriptionText})})]})]}):null}var OAe=Object.freeze,CQn=Object.defineProperty,SQn=(n,e)=>OAe(CQn(n,"raw",{value:OAe(e||n.slice())})),PAe;const kQn=F.div(PAe||(PAe=SQn([`
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
`]))),TQn=n=>{let{daysLeft:e,totalDays:r}=n;const i=r-e,o=Math.round(i/r*100),s=10,a=2*Math.PI*s,l=a*((100-o)/100),c=1.2,u=s*2+c;return d.jsx(ke,{children:d.jsx(kQn,{children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:u,height:u,viewBox:"0 0 ".concat(u," ").concat(u),style:{transform:"rotate(-90deg)"},children:[d.jsx("circle",{r:s,cx:u/2,cy:u/2,fill:"transparent",strokeWidth:c,stroke:o>75?jM[600].hex:Q6e[400].hex}),d.jsx("circle",{r:s,cx:u/2,cy:u/2,fill:"transparent",strokeWidth:c,stroke:"var(--card-border-color)",strokeDasharray:a,strokeDashoffset:l})]})})})},AQn=p.forwardRef(function(e,r){let{toggleShowContent:i,daysLeft:o,totalDays:s}=e;const{t:a}=Sh();return d.jsxs(ze,{mode:"bleed",onClick:i,ref:r,tooltipProps:{content:o?a("free-trial.tooltip.days-count",{count:o}):a("free-trial.tooltip.trial-finished")},children:[d.jsx(J,{size:0,children:d.jsx(dJ,{})}),o>0&&d.jsx(TQn,{daysLeft:o,totalDays:s})]})}),IQn=p.forwardRef(function(e,r){let{toggleShowContent:i,daysLeft:o}=e;const{t:s}=Sh();return d.jsx(ze,{ref:r,icon:dJ,justify:"flex-start",mode:"bleed",size:"large",onClick:i,text:o?s("user-menu.action.free-trial",{count:o}):s("user-menu.action.free-trial-finished")})}),Fnt=p.createContext(void 0),DQn=()=>{const n=p.useContext(Fnt);if(!n)throw new Error("useFreeTrial must be used within a FreeTrialProvider");return n};var jAe=Object.freeze,RQn=Object.defineProperty,OQn=(n,e)=>jAe(RQn(n,"raw",{value:jAe(e||n.slice())})),LAe;const PQn=F.img(LAe||(LAe=OQn([`
  object-fit: cover;
  width: 100%;
  height: 100%;
  height: 180px;
`])));function jQn(n){let{content:e,handleClose:r,handleOpenNext:i}=n;var o,s,a,l,c;return d.jsx(ke,{radius:3,overflow:"hidden",width:0,children:d.jsxs(Ya,{width:0,children:[e.image&&d.jsx(PQn,{src:e.image.asset.url,alt:(o=e.image.asset.altText)!=null?o:""}),d.jsxs(oe,{padding:3,direction:"column",children:[d.jsx(te,{paddingX:2,marginTop:3,children:d.jsx(Pa,{size:1,children:e.headingText})}),d.jsx(te,{marginTop:4,children:d.jsx(mB,{blocks:e.descriptionText})})]}),d.jsxs(oe,{width:"full",gap:3,justify:"flex-end",padding:3,children:[((s=e.secondaryButton)==null?void 0:s.text)&&d.jsx(ze,{mode:"bleed",text:e.secondaryButton.text,tone:"default",onClick:()=>r("xClick")}),d.jsx(ze,{mode:"default",tooltipProps:null,text:(a=e.ctaButton)==null?void 0:a.text,autoFocus:!0,tone:"primary",...((l=e.ctaButton)==null?void 0:l.action)==="openUrl"?{href:e.ctaButton.url,target:"_blank",rel:"noopener noreferrer",as:"a"}:{onClick:((c=e.ctaButton)==null?void 0:c.action)==="openNext"?i:()=>r("ctaClicked")}})]})]})})}function Nnt(n){let{type:e}=n;const{data:r,showDialog:i,showOnLoad:o,toggleShowContent:s}=DQn(),a=fB(),l=GS(),[c,u]=p.useState(null),[f,h]=p.useState(!1);p.useEffect(()=>{c&&h(!0)},[c]);const m=p.useCallback(()=>s(!0),[s]),g=p.useCallback(()=>{c==null||c.focus(),s(!1)},[s,c]),v=p.useCallback(C=>S=>{const T=(r==null?void 0:r.showOnLoad)||(r==null?void 0:r.showOnClick);T&&l.log(sQn,{dialogId:T.id,dialogRevision:T._rev,dialogType:C,source:"studio",trialDaysLeft:r.daysLeft,dialogTrialStage:IT({showOnLoad:o,dialogId:T.id}),dialogDismissAction:S}),g()},[r,g,o,l]),y=p.useCallback(C=>()=>{const S=(r==null?void 0:r.showOnLoad)||(r==null?void 0:r.showOnClick);S&&l.log(hAe,{dialogId:S.id,dialogRevision:S._rev,dialogType:"modal",source:"studio",trialDaysLeft:r.daysLeft,dialogTrialStage:IT({showOnLoad:o,dialogId:S.id}),dialogCtaType:C==="openURL"?"upgrade":"learnMore"}),m()},[r,m,l,o]),b=p.useCallback(()=>{r!=null&&r.showOnLoad&&l.log(hAe,{dialogId:r.showOnLoad.id,dialogRevision:r.showOnLoad._rev,dialogType:"popover",source:"studio",trialDaysLeft:r.daysLeft,dialogTrialStage:IT({showOnLoad:!0,dialogId:r.showOnLoad.id}),dialogCtaType:"learnMore"}),m()},[r==null?void 0:r.showOnLoad,r==null?void 0:r.daysLeft,m,l]),x=p.useCallback(()=>{r!=null&&r.showOnClick&&l.log($nt,{dialogId:r.showOnClick.id,dialogRevision:r.showOnClick._rev,dialogTrigger:"fromClick",dialogType:"modal",source:"studio",trialDaysLeft:r.daysLeft,dialogTrialStage:IT({showOnLoad:!0,dialogId:r.showOnClick.id})}),m()},[r==null?void 0:r.showOnClick,r==null?void 0:r.daysLeft,l,m]);if(!(r!=null&&r.id))return null;const _=o?r.showOnLoad:r.showOnClick;if(!_)return null;const w=e==="sidebar"?d.jsx(IQn,{toggleShowContent:x,daysLeft:r.daysLeft,ref:u}):d.jsx(AQn,{toggleShowContent:x,daysLeft:r.daysLeft,totalDays:r.totalDays,ref:u});return(_==null?void 0:_.dialogType)==="popover"?d.jsx(Ai,{open:i&&f,size:0,scheme:a,radius:3,portal:!0,placement:e==="sidebar"?"top":"bottom-end",content:d.jsx(jQn,{content:_,handleClose:v("popover"),handleOpenNext:b}),children:w}):d.jsxs(d.Fragment,{children:[w,d.jsx(EQn,{content:_,onClose:v("modal"),onOpenNext:y("openNext"),onOpenUrlCallback:y("openURL"),open:i})]})}const gB="3.34.0",LQn=n=>{let{children:e}=n;var r;const i=md(),[o,s]=p.useState(null),[a,l]=p.useState(!1),[c,u]=p.useState(!1),f=Jr({apiVersion:"2023-12-11"}),h=GS();p.useEffect(()=>{const v=o==null?void 0:o.showOnLoad;a&&c&&v&&h.log($nt,{dialogId:v.id,dialogRevision:v._rev,dialogTrialStage:IT({showOnLoad:c,dialogId:v.id}),dialogTrigger:c?"auto":"fromClick",dialogType:v.dialogType,source:"studio",trialDaysLeft:o.daysLeft})},[a,o,c,h]);const m=new URLSearchParams(i.state._searchParams).toString();p.useEffect(()=>{const v=new URLSearchParams(m),y=new URLSearchParams;y.append("studioVersion",gB);const b=v.get("trialState");b&&y.append("trialState",b);const x=v.get("seenBefore");x&&y.append("seenBefore",x);const _=y.get("trialState")?"/journey/trial/override":"/journey/trial",w=f.observable.request({url:"".concat(_,"?").concat(y.toString())}).subscribe(C=>{s(C),C!=null&&C.showOnLoad&&(u(!0),l(!0))},()=>{});return()=>{w.unsubscribe()}},[f,m]);const g=p.useCallback(function(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;var y;c?(u(!1),l(v),(y=o==null?void 0:o.showOnLoad)!=null&&y.id&&f.request({url:"/journey/trial/".concat(o==null?void 0:o.showOnLoad.id),method:"POST"})):l(b=>!b)},[f,c,(r=o==null?void 0:o.showOnLoad)==null?void 0:r.id]);return d.jsx(Fnt.Provider,{value:{data:o,showDialog:a,toggleShowContent:g,showOnLoad:c},children:e})};function $Qn(){return d.jsxs("svg",{width:"100%",height:"100%",viewBox:"0 0 33 33",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("rect",{width:"100%",height:"100%",fill:"#EC5446"}),d.jsx("path",{d:"M10.1637 8.5498C10.1637 11.3854 11.9461 13.0725 15.5143 13.9622L19.2955 14.8235C22.6725 15.5855 24.729 17.4783 24.729 20.5619C24.7553 21.9053 24.3107 23.2168 23.4698 24.2765C23.4698 21.1999 21.8499 19.5376 17.9425 18.538L14.2299 17.7086C11.257 17.0423 8.9623 15.4863 8.9623 12.1368C8.94666 10.8433 9.36932 9.58143 10.1637 8.5498Z",fill:"white"}),d.jsx("path",{d:"M21.1463 19.8069C22.7591 20.8206 23.4662 22.2384 23.4662 24.2729C22.1313 25.953 19.7861 26.8958 17.0297 26.8958C12.3899 26.8958 9.1427 24.6521 8.42111 20.7533H12.8769C13.4506 22.5432 14.9695 23.3726 16.9972 23.3726C19.4722 23.3726 21.1175 22.0753 21.1499 19.7998",fill:"#F8B1AA"}),d.jsx("path",{d:"M12.4801 12.7536C11.7436 12.3236 11.1394 11.7057 10.7316 10.9656C10.3238 10.2255 10.1276 9.3907 10.1638 8.54984C11.4518 6.88396 13.6923 5.8667 16.4235 5.8667C21.1499 5.8667 23.8848 8.31945 24.5595 11.7717H20.2732C19.8006 10.4107 18.6172 9.35089 16.4596 9.35089C14.1541 9.35089 12.5811 10.6694 12.4909 12.7536",fill:"#F8B1AA"})]})}var $Ae=Object.freeze,MQn=Object.defineProperty,Bnt=(n,e)=>$Ae(MQn(n,"raw",{value:$Ae(e||n.slice())})),MAe,FAe;const NAe=25,Unt=2,FQn=F(ke).attrs({overflow:"hidden",radius:Unt})(MAe||(MAe=Bnt([`
  height: `,`px;
  width: `,`px;
`])),NAe,NAe),NQn=F(ke)(FAe||(FAe=Bnt([`
  border-radius: `,`;
  display: flex;
  outline: none;
  text-decoration: none;
  &:focus-visible {
    box-shadow: `,`;
  }
`])),n=>{let{theme:e}=n;return Je(e.sanity.radius[Unt])},n=>{let{theme:e}=n;return GN({base:e.sanity.color.base,focusRing:{...e.sanity.focusRing,offset:1}})});function znt(){const n=MD(),{activeWorkspace:e}=bw(),{href:r,onClick:i}=HKe({state:{}}),o=n.length>1;return d.jsx(NQn,{as:"a",href:r,onClick:i,children:d.jsxs(oe,{align:"center",children:[d.jsx(FQn,{children:d.jsx(oe,{align:"center",height:"fill",justify:"center",children:o||e.customIcon?d.jsx(Noe,{icon:e.icon,size:"small"}):d.jsx($Qn,{})})}),!o&&d.jsx(te,{paddingX:2,children:d.jsx(J,{size:1,weight:"medium",children:e.title})})]})})}function BQn(n){let{setScheme:e}=n;const{t:r}=me(),i=tnt(e,r);return d.jsx(ke,{borderTop:!0,flex:"none",padding:2,overflow:"auto",children:d.jsx(Se,{as:"ul",space:1,children:i.map(o=>{let{icon:s,label:a,name:l,onSelect:c,selected:u,title:f}=o;return d.jsx(Se,{as:"li",children:d.jsx(ze,{"aria-label":a,icon:s,iconRight:u&&d.jsx(ec,{}),justify:"flex-start",mode:"bleed",onClick:c,selected:u,size:"large",text:f})},l)})})})}function UQn(){return Cte(),null}function zQn(){const{currentUser:n,projectId:e}=pa(),r=!!(n&&fXe(n,"administrator")),{t:i}=me();return d.jsx(ke,{borderTop:!0,flex:"none",padding:2,children:d.jsxs(Se,{as:"ul",space:1,children:[d.jsx(Se,{as:"li",children:d.jsx(Nnt,{type:"sidebar"})}),d.jsx(Se,{as:"li",children:d.jsx(ze,{"aria-label":i("user-menu.action.manage-project-aria-label"),as:"a",href:"https://sanity.io/manage/project/".concat(e),icon:A8,justify:"flex-start",mode:"bleed",size:"large",target:"_blank",text:i("user-menu.action.manage-project")})}),r&&d.jsx(Se,{as:"li",children:d.jsx(ze,{"aria-label":i("user-menu.action.invite-members-aria-label"),as:"a",href:"https://sanity.io/manage/project/".concat(e,"/members"),icon:j8,justify:"flex-start",mode:"bleed",size:"large",target:"_blank",text:i("user-menu.action.invite-members")})})]})})}var BAe=Object.freeze,VQn=Object.defineProperty,Uoe=(n,e)=>BAe(VQn(n,"raw",{value:BAe(e||n.slice())})),UAe,zAe,VAe;const HAe={bounce:0,damping:20,mass:.5,stiffness:200,type:"spring"},HQn={open:{opacity:1},closed:{opacity:0}},WQn={open:{x:"0%"},closed:{x:"-100%"}},GQn=F(Cu)(UAe||(UAe=Uoe([`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
`]))),qQn=F(Xa(ke))(zAe||(zAe=Uoe([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: var(--card-shadow-penumbra-color);
`]))),KQn=F(Xa(ke))(VAe||(VAe=Uoe([`
  position: relative;
  pointer-events: all;
  flex-direction: column;
  height: 100%;
  min-width: 200px;
  max-width: 280px;
  overflow: auto;
`]))),YQn=p.memo(function(e){const{__internal_actions:r,activeToolName:i,isOpen:o,onClose:s,tools:a}=e,l=Loe(),{auth:c,currentUser:u}=pa(),f=MD(),h=Lnt(),{t:m}=me(),g=p.useCallback(b=>{b.key==="Escape"&&s()},[s]),v=p.useCallback(b=>{b==null||b(),s()},[s]),y=p.useMemo(()=>{var b;return(b=r==null?void 0:r.filter(x=>x.location==="sidebar"))==null?void 0:b.map(x=>d.jsx(ze,{icon:x==null?void 0:x.icon,justify:"flex-start",mode:"bleed",onClick:()=>v(x.onAction),selected:x.selected,size:"large",text:x.title,width:"fill"},x.name))},[r,v]);return d.jsx(Zp,{children:o&&d.jsx(rv,{returnFocus:!0,children:d.jsxs(GQn,{onKeyDown:g,children:[d.jsx(qQn,{animate:"open","data-open":o,exit:"closed",initial:"closed",onClick:s,transition:HAe,variants:HQn}),d.jsxs(KQn,{animate:"open","data-open":o,display:"flex",exit:"closed",height:"fill",initial:"closed",shadow:1,transition:HAe,variants:WQn,children:[d.jsx(ke,{borderBottom:!0,children:d.jsxs(Se,{space:3,padding:3,children:[d.jsxs(oe,{align:"center",children:[d.jsx(oe,{flex:1,align:"center",paddingRight:2,children:d.jsxs(oe,{flex:1,align:"center",children:[d.jsx(gf,{size:1,user:"me"}),d.jsx(te,{flex:1,marginLeft:3,title:(u==null?void 0:u.name)||(u==null?void 0:u.email),children:d.jsx(J,{size:1,textOverflow:"ellipsis",weight:"medium",children:(u==null?void 0:u.name)||(u==null?void 0:u.email)})})]})}),d.jsx(ze,{icon:Is,mode:"bleed",onClick:s,tooltipProps:{content:m("user-menu.close-menu")}})]}),f.length>1&&d.jsxs(oe,{flex:1,gap:1,children:[d.jsx(znt,{}),d.jsx(Ant,{})]})]})}),d.jsxs(oe,{direction:"column",flex:1,justify:"space-between",overflow:"auto",children:[d.jsx(ke,{flex:"none",padding:2,children:d.jsx(h,{activeToolName:i,closeSidebar:s,context:"sidebar",isSidebarOpen:o,tools:a})}),d.jsxs(oe,{direction:"column",children:[y&&d.jsx(ke,{flex:"none",padding:2,children:d.jsx(Se,{space:1,children:y})}),l&&d.jsx(BQn,{setScheme:l}),d.jsx(UQn,{}),d.jsx(zQn,{})]})]}),c.logout&&d.jsx(ke,{flex:"none",padding:2,borderTop:!0,children:d.jsx(Se,{children:d.jsx(ze,{iconRight:yJ,justify:"flex-start",mode:"bleed",onClick:c.logout,size:"large",text:m("user-menu.action.sign-out")})})})]})]})})})});function ZQn(n,e){const r=e.title.toLowerCase();return n.trim().toLowerCase().split(/[\s\-_]+/).every(s=>r.includes(s))}function XQn(n,e,r){const i=e.title.toLowerCase(),o=r.title.toLowerCase(),s=n.trim().toLowerCase();return i.startsWith(s)&&!o.startsWith(s)?-1:o.startsWith(s)&&!i.startsWith(s)?1:i.includes(s)&&!o.includes(s)?-1:o.includes(s)&&!i.includes(s)?1:0}function QQn(n,e,r){return n.map(s=>({...s,title:r({...s,title:(s==null?void 0:s.title)||s.id}).title})).sort((s,a)=>s.title.localeCompare(a.title)).filter(s=>ZQn(e,s)).sort((s,a)=>XQn(e,s,a))}var WAe=Object.freeze,JQn=Object.defineProperty,s2=(n,e)=>WAe(JQn(n,"raw",{value:WAe(e||n.slice())})),GAe,qAe,KAe,YAe,ZAe,XAe;const eJn=F(Ai)(()=>Ae(GAe||(GAe=s2([`
    [data-ui='Popover__wrapper'] {
      width: 320px;
      display: flex;
      flex-direction: column;
      border-radius: `,`px;
      position: relative;
      overflow: hidden;
      overflow: clip;
    }
  `])),n=>{let{theme:e}=n;return e.sanity.radius[3]})),tJn=F(ja)(()=>Ae(qAe||(qAe=s2([`
    [data-ui='DialogCard'] {
      justify-content: flex-start;
    }
  `])))),QAe=F(oe)(KAe||(KAe=s2([""]))),nJn=F(ke)(YAe||(YAe=s2([`
  min-height: max-content;
`]))),rJn=F(ke)(ZAe||(ZAe=s2([`
  min-height: max-content;
`]))),iJn=F(oe)(n=>{const{$maxDisplayedItems:e,$itemHeight:r}=n;return Ae(XAe||(XAe=s2([`
    --item-height: `,`px;
    --max-items: `,`;
    --list-padding: 0.5rem;

    position: relative;
    max-height: calc(var(--item-height) * var(--max-items) + var(--list-padding));
    min-height: calc((var(--item-height) * 1));
  `])),r,e)}),Vnt=33;function oJn(n){const{option:e,currentUser:r,onClick:i,preview:o}=n,s=p.useMemo(()=>({template:e.templateId,type:e.schemaType}),[e.schemaType,e.templateId]),{onClick:a,href:l}=AD({intent:"create",params:s}),c=p.useCallback(f=>{a(f),i(e)},[a,i,e]),{title:u}=sv(e);return d.jsx(zn,{disabled:e.hasPermission,portal:!0,content:d.jsx(Wp,{currentUser:r,context:"create-document"}),children:d.jsx("div",{children:d.jsx(ke,{as:e.hasPermission?"a":"button","data-testid":"create-new-".concat(e.templateId),disabled:!e.hasPermission,href:l,marginBottom:1,onClick:c,padding:o==="inline"?3:4,radius:2,children:d.jsx(J,{size:o==="inline"?1:void 0,children:u})})})},e.id)}var JAe=Object.freeze,sJn=Object.defineProperty,aJn=(n,e)=>JAe(sJn(n,"raw",{value:JAe(e||n.slice())})),e5e;const t5e=F(oe)(e5e||(e5e=aJn([`
  min-height: 100px;
`])));function n5e(n){const{currentUser:e,loading:r,onDocumentClick:i,options:o,preview:s,searchQuery:a,textInputElement:l}=n,{t:c}=me(),u=o.length>0&&!r,f=p.useCallback(()=>{i()},[i]),h=p.useCallback(g=>{var v;return((v=o[g])==null?void 0:v.hasPermission)===!1},[o]),m=p.useCallback(g=>d.jsx(oJn,{currentUser:e,onClick:f,option:g,preview:s},g.id),[e,f,s]);return r?d.jsx(Zr,{showText:!0}):!u&&a?d.jsx(t5e,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:d.jsx(J,{align:"center",muted:!0,size:1,children:d.jsx(bn,{t:c,i18nKey:"new-document.no-results",values:{searchQuery:a}})})}):u?d.jsx(Wy,{activeItemDataAttr:"data-hovered",ariaLabel:c("new-document.new-document"),autoFocus:$D?void 0:"input",getItemDisabled:h,inputElement:l,itemHeight:Vnt,items:o,overscan:5,padding:s==="inline"?1:2,paddingBottom:0,renderItem:m}):d.jsx(t5e,{align:"center",flex:1,height:"fill",justify:"center",padding:4,sizing:"border",children:d.jsx(J,{align:"center",muted:!0,size:1,children:c("new-document.no-document-types-found")})})}const lJn=10;function cJn(n){const{canCreateDocument:e,modal:r="popover",loading:i,options:o}=n,[s,a]=p.useState(!1),[l,c]=p.useState(""),[u,f]=p.useState(null),[h,m]=p.useState(null),[g,v]=p.useState(null),[y,b]=p.useState(null),{t:x}=me(),_=SN(o),{scheme:w}=o2(),C=ao(),S=Ar(),T=o.length>0,A=!e||!T,I=x("new-document.filter-placeholder"),D=x("new-document.title"),R=x("new-document.open-dialog-aria-label"),P=p.useMemo(()=>o.filter(le=>{const K=S.get(le.schemaType);return K&&!O4e(K)}),[o,S]),O=p.useMemo(()=>QQn(P,l,_),[P,l,_]),$=p.useCallback(le=>{c(le.currentTarget.value)},[]),L=p.useCallback(()=>a(le=>!le),[]),M=p.useCallback(()=>{a(!1),c(""),g==null||g.focus()},[g]),N=p.useCallback(le=>{le.key==="ArrowDown"&&!s&&a(!0)},[s]),z=p.useCallback(le=>{(le.key==="Escape"||le.key==="Tab")&&s&&M()},[M,s]);ki(()=>{s&&M()},[g,h,u]);const B=p.useMemo(()=>({currentUser:C,loading:i,onDocumentClick:L,options:O,searchQuery:l,preview:r==="popover"?"inline":"default",textInputElement:y}),[C,O,L,i,r,y,l]),H=p.useMemo(()=>({__unstable_disableFocusRing:!0,border:!1,"data-testid":"new-document-button-search-input",defaultValue:l,disabled:i,icon:Aa,onChange:$,placeholder:I,ref:b}),[$,i,I,l]),X=p.useMemo(()=>({"aria-label":R,"data-testid":"new-document-button",disabled:A||i,icon:Ta,text:x("new-document.button"),mode:"ghost",onClick:L,ref:v,selected:s}),[A,L,i,s,R,x]),G=p.useMemo(()=>T?e?d.jsx(J,{size:1,children:x("new-document.create-new-document-label")}):d.jsx(Wp,{currentUser:C,context:"create-any-document"}):d.jsx(J,{size:1,children:x("new-document.no-document-types-label")}),[e,C,T,x]),ne=p.useMemo(()=>({content:G,disabled:i||s,scheme:w}),[i,s,w,G]);return r==="dialog"?d.jsxs(d.Fragment,{children:[d.jsx(zn,{...ne,children:d.jsx("div",{children:d.jsx(ze,{...X})})}),s&&d.jsx(tJn,{header:D,id:"create-new-document-dialog",onClickOutside:M,onClose:M,ref:m,scheme:w,width:1,children:d.jsxs(QAe,{direction:"column",flex:1,height:"fill",children:[d.jsx(rJn,{padding:2,borderBottom:!0,children:d.jsx(ua,{"data-testid":"new-document-button-search-input",...H})}),d.jsx(oe,{direction:"column",overflow:"hidden",children:d.jsx(n5e,{...B})})]})})]}):d.jsx(eJn,{constrainSize:!0,onKeyDown:z,open:s,portal:!0,radius:3,ref:f,scheme:w,content:d.jsxs(QAe,{direction:"column",flex:1,forwardedAs:rv,height:"fill",returnFocus:!0,children:[d.jsx(nJn,{sizing:"border",children:d.jsx(Se,{children:d.jsx(ke,{borderBottom:!0,padding:1,children:d.jsx(ua,{...H,fontSize:1,radius:1})})})}),d.jsx(iJn,{$itemHeight:Vnt,$maxDisplayedItems:lJn,direction:"column",overflow:"hidden",children:d.jsx(n5e,{...B})})]}),children:d.jsx("div",{children:d.jsx(zn,{...ne,children:d.jsx("div",{children:d.jsx(ze,{...X,"aria-expanded":s,"aria-haspopup":"true",onKeyDown:N})})})})})}function uJn(){const{__internal:{staticInitialValueTemplateItems:n}}=xi(),[e,r]=Coe({templateItems:n}),i=(e==null?void 0:e.some(s=>n.some(a=>a.id===s.id)))||!1,o=p.useMemo(()=>n.map(s=>{var a;return{...s,title:(s==null?void 0:s.title)||s.id,hasPermission:((a=e==null?void 0:e.find(l=>l.id===s.id))==null?void 0:a.granted)||!1}}),[e,n]);return{canCreateDocument:i,loading:r,options:o}}const dJn=p.memo(function(e){const{presence:r,focused:i,onFocus:o}=e,[s,a]=p.useState(null),{t:l}=me(),c=BS(r.locations||[],["lastActiveAt"],["desc"]).find(m=>m.documentId),u=!!(c!=null&&c.documentId);p.useEffect(()=>{i&&s&&(s.focus(),s.setAttribute("data-selected","")),i||s==null||s.removeAttribute("data-selected")},[s,i]);const f=p.useCallback(()=>{o(r.user.id)},[o,r.user.id]),h=p.useMemo(()=>p.forwardRef(function(g,v){return c!=null&&c.path?d.jsx(Sf,{...g,intent:"edit",params:{id:c==null?void 0:c.documentId,path:ns(c==null?void 0:c.path)},ref:v}):null}),[c]);return d.jsx(Wt,{as:c?h:"div","data-as":"a",disabled:!u,onFocus:f,preview:d.jsx(gf,{size:1,user:r.user},r.user.id),ref:a,text:r.user.displayName,tooltipProps:u?void 0:{content:l("presence.not-in-a-document"),placement:"left"}})});var r5e=Object.freeze,fJn=Object.defineProperty,Hnt=(n,e)=>r5e(fJn(n,"raw",{value:r5e(e||n.slice())})),i5e,o5e;const hJn=F(_r)(i5e||(i5e=Hnt([`
  max-width: 260px;
`]))),pJn=F(Se)(o5e||(o5e=Hnt([`
  position: sticky;
  bottom: 0;
  background-color: var(--card-bg-color);
`])));function mJn(){const n=GWn(),{projectId:e}=pa(),{scheme:r}=o2(),{t:i}=me(),o=n.length>0,[s,a]=p.useState(),l=p.useCallback(m=>{a(m)},[]),c=p.useCallback(()=>{a("")},[]),u=p.useCallback(()=>{a("")},[]),f=p.useMemo(()=>d.jsx(nR,{icon:j8,mode:"bleed",tone:o?"positive":void 0,tooltipProps:{content:i("presence.tooltip-content")}}),[o,i]),h=p.useMemo(()=>({constrainSize:!0,fallbackPlacements:["bottom"],placement:"bottom",portal:!0,scheme:r}),[r]);return d.jsx(Vr,{button:f,"aria-label":i("presence.aria-label"),id:"global-presence-menu",menu:d.jsxs(hJn,{children:[o&&n.map(m=>d.jsx(dJn,{focused:s===m.user.id,onFocus:l,presence:m},m.user.id)),!o&&d.jsx(te,{padding:3,children:d.jsxs(Se,{space:3,children:[d.jsx(J,{weight:"medium",size:1,children:i("presence.no-one-else-title")}),d.jsx(J,{size:1,muted:!0,children:i("presence.no-one-else-description")})]})}),d.jsxs(pJn,{space:1,children:[d.jsx(Io,{}),d.jsx(Wt,{as:"a",href:"https://sanity.io/manage/project/".concat(e),iconRight:A8,onFocus:c,rel:"noopener noreferrer",target:"_blank",text:i("presence.action.manage-members")})]})]}),onClose:u,popover:h})}function gJn(n,e){return n.withConfig({apiVersion:"1"}).observable.request({url:"/help",query:{m:["sanity@".concat(gB)],locale:e},tag:"module.version-check",json:!0})}function vJn(){const n=Jr({apiVersion:"1"}),e=Qg().id,r=p.useMemo(()=>gJn(n,e),[n,e]);return dXe(r)}function yJn(n){let{error:e,isLoading:r,value:i}=n;var o;const s=(o=i==null?void 0:i.resources)==null?void 0:o.sectionArray,a=i==null?void 0:i.latestVersion,{t:l}=me();if(r)return d.jsx(Zr,{showText:!0});const c=d.jsxs(d.Fragment,{children:[d.jsx(Wt,{as:"a",text:l("help-resources.action.join-our-community"),href:"https://www.sanity.io/exchange/community",target:"_blank"}),d.jsx(Wt,{as:"a",text:l("help-resources.action.help-and-support"),href:"https://www.sanity.io/contact/support",target:"_blank"}),d.jsx(Wt,{as:"a",text:l("help-resources.action.contact-sales"),href:"https://www.sanity.io/contact/sales?ref=studio",target:"_blank"}),d.jsx(Io,{})]});return d.jsxs(d.Fragment,{children:[(i===void 0||e)&&d.jsx("div",{children:c}),!e&&(s==null?void 0:s.map(u=>u?d.jsx(bJn,{subSection:u},u._key):null)),d.jsxs(te,{padding:3,children:[d.jsx(J,{size:1,muted:!0,weight:"medium",textOverflow:"ellipsis",children:l("help-resources.studio-version",{studioVersion:gB})}),!e&&a&&d.jsx(te,{paddingTop:2,children:d.jsx(J,{size:1,muted:!0,textOverflow:"ellipsis",children:l("help-resources.latest-sanity-version",{latestVersion:a})})})]})]})}function bJn(n){let{subSection:e}=n;var r;return d.jsxs(d.Fragment,{children:[(r=e==null?void 0:e.items)==null?void 0:r.map(i=>{if(!i||!i.title)return null;switch(i._type){case"externalLink":return i.url?d.jsx(Wt,{as:"a",tone:"default",text:i.title,href:i.url,target:"_blank"},i._key):null;case"internalAction":return i.type?i.type==="show-welcome-modal"&&d.jsx(Wt,{text:i.title},i._key):null;default:return null}}),d.jsx(Io,{})]})}var s5e=Object.freeze,xJn=Object.defineProperty,wJn=(n,e)=>s5e(xJn(n,"raw",{value:s5e(e||n.slice())})),a5e;const _Jn=F(_r)(a5e||(a5e=wJn([`
  max-width: 300px;
  min-width: 200px;
`])));function EJn(){const{t:n}=me(),{value:e,error:r,isLoading:i}=vJn();return d.jsx(Vr,{button:d.jsx(ze,{"aria-label":n("help-resources.title"),icon:DC,mode:"bleed",tooltipProps:{content:n("help-resources.title")}}),id:"menu-button-resources",menu:d.jsx(_Jn,{children:d.jsx(yJn,{error:r,isLoading:i,value:e})}),popover:{constrainSize:!0}})}function CJn(){return Cte(),null}function SJn(n){let{setScheme:e}=n;const{t:r}=me(),i=tnt(e,r);return d.jsxs(d.Fragment,{children:[d.jsx(Io,{}),i.map(o=>{let{icon:s,label:a,name:l,onSelect:c,selected:u,title:f}=o;return d.jsx(Wt,{"aria-label":a,icon:s,onClick:c,pressed:u,text:f,iconRight:u&&d.jsx(ec,{})},l)})]})}var l5e=Object.freeze,kJn=Object.defineProperty,TJn=(n,e)=>l5e(kJn(n,"raw",{value:l5e(e||n.slice())})),c5e;const AJn=F.div(c5e||(c5e=TJn([`
  position: absolute;
  width: 18px;
  height: 18px;
  background: var(--card-bg-color);
  bottom: -4px;
  right: -4px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  border: 1px solid var(--card-bg-color);
  box-sizing: content-box;

  svg {
    box-sizing: content-box;
    border: 1px solid var(--card-hairline-soft-color);
    border-radius: 50%;
    padding: 2px;
    width: 12px;
    height: 12px;
  }

  &[data-logo='github'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }

  &[data-logo='saml'] {
    svg {
      path {
        fill: var(--card-fg-color);
      }
    }
  }
`]))),IJn=d.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsxs("g",{clipPath:"url(#clip0)",children:[d.jsx("path",{d:"M12 6.13764C12 5.72977 11.9663 5.31971 11.8943 4.91846H6.12036V7.22895H9.42684C9.28963 7.97412 8.84876 8.63332 8.20322 9.05221V10.5514H10.1759C11.3342 9.50637 12 7.9631 12 6.13764Z",fill:"#4285F4"}),d.jsx("path",{d:"M6.12019 12.0002C7.77118 12.0002 9.16349 11.4688 10.1779 10.5517L8.20529 9.05253C7.65646 9.41851 6.94793 9.62574 6.12244 9.62574C4.52544 9.62574 3.17136 8.56971 2.68552 7.1499H0.649902V8.69537C1.68908 10.7215 3.80567 12.0002 6.12019 12.0002V12.0002Z",fill:"#34A853"}),d.jsx("path",{d:"M2.68332 7.14986C2.4269 6.40469 2.4269 5.59778 2.68332 4.8526V3.30713H0.649951C-0.218278 5.00252 -0.218278 6.99995 0.649951 8.69533L2.68332 7.14986V7.14986Z",fill:"#FBBC04"}),d.jsx("path",{d:"M6.12019 2.37483C6.99291 2.3616 7.8364 2.68348 8.46845 3.27433L10.2161 1.56131C9.1095 0.542752 7.64071 -0.017233 6.12019 0.000404333C3.80566 0.000404333 1.68908 1.27911 0.649902 3.3074L2.68326 4.85288C3.16686 3.43087 4.52319 2.37483 6.12019 2.37483V2.37483Z",fill:"#EA4335"})]}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0",children:d.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),DJn=d.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("g",{clipPath:"url(#clip0)",children:d.jsx("path",{d:"M11.195 3.13503C10.6711 2.22838 9.91808 1.47537 9.01144 0.951471C8.09222 0.414976 7.08837 0.146729 5.99987 0.146729C4.91137 0.146729 3.90752 0.414976 2.98831 0.951471C2.08163 1.47534 1.32862 2.22836 0.804744 3.13503C0.268248 4.05497 0 5.05883 0 6.14659C0 7.45399 0.381531 8.62978 1.14459 9.67394C1.90765 10.7181 2.89327 11.4408 4.10143 11.8419C4.24208 11.868 4.34624 11.8497 4.41392 11.7872C4.44666 11.7577 4.47263 11.7215 4.49006 11.681C4.50749 11.6405 4.51595 11.5967 4.51488 11.5527C4.51488 11.537 4.51361 11.3963 4.51105 11.1307C4.5085 10.8651 4.50722 10.6334 4.50722 10.4355L4.32745 10.4666C4.18407 10.4895 4.03885 10.4986 3.89375 10.494C3.71159 10.4908 3.53001 10.4725 3.35087 10.4393C3.16049 10.4045 2.98119 10.3246 2.82796 10.2064C2.66705 10.0846 2.54715 9.91661 2.48428 9.72484L2.40602 9.54506C2.34022 9.40286 2.25754 9.2691 2.15976 9.14666C2.04775 9.00072 1.93447 8.90176 1.81991 8.84977L1.76518 8.81064C1.72769 8.78356 1.6936 8.75205 1.66367 8.71679C1.63479 8.6841 1.61108 8.64719 1.59334 8.60734C1.57766 8.57085 1.5907 8.54085 1.63247 8.51731C1.67461 8.49405 1.75123 8.48256 1.86068 8.48256L2.01692 8.50582C2.12108 8.52662 2.24996 8.5891 2.40356 8.69326C2.5585 8.79876 2.68797 8.93748 2.78254 9.09932C2.90239 9.31294 3.04695 9.47575 3.21624 9.58775C3.38552 9.69976 3.55609 9.75576 3.72793 9.75576C3.87725 9.7578 4.02641 9.74479 4.17312 9.7169C4.29459 9.69195 4.41264 9.65254 4.52473 9.59952C4.57162 9.25037 4.69931 8.98212 4.90782 8.79477C4.63684 8.76849 4.36827 8.72157 4.10444 8.6544C3.84797 8.58382 3.60133 8.48141 3.37029 8.34958C3.12825 8.218 2.91442 8.04015 2.74095 7.82613C2.57421 7.6178 2.4374 7.34417 2.3305 7.00524C2.2236 6.6663 2.1707 6.27584 2.1718 5.83383C2.1718 5.20357 2.37757 4.66708 2.7891 4.22435C2.59629 3.75006 2.61453 3.21885 2.84383 2.63073C2.99487 2.58385 3.21879 2.61897 3.51559 2.73608C3.81239 2.85319 4.02983 2.95352 4.16792 3.03707C4.30601 3.12025 4.41665 3.19058 4.49983 3.24804C5.48153 2.9773 6.51821 2.9773 7.49991 3.24804L7.79679 3.0606C8.0249 2.92356 8.26549 2.80849 8.51535 2.71693C8.79135 2.61276 9.00231 2.58412 9.14825 2.63101C9.38248 3.21949 9.40327 3.7507 9.21064 4.22462C9.62199 4.66735 9.82776 5.20385 9.82795 5.83411C9.82795 6.27684 9.77459 6.66904 9.66787 7.01071C9.56116 7.35238 9.42325 7.62601 9.25415 7.8316C9.07785 8.04326 8.86311 8.21966 8.62124 8.35149C8.39008 8.48329 8.14337 8.5857 7.88682 8.65632C7.62412 8.72277 7.35674 8.76915 7.087 8.79505C7.35698 9.02927 7.49206 9.3994 7.49225 9.90543V11.5527C7.49115 11.5964 7.49929 11.6398 7.51612 11.6802C7.53295 11.7206 7.5581 11.7569 7.58993 11.7869C7.65505 11.8493 7.75794 11.8675 7.89858 11.8416C9.10693 11.4403 10.0926 10.7177 10.8557 9.67367C11.6188 8.62968 12.0003 7.4539 12.0003 6.14632C11.9997 5.05873 11.7313 4.05497 11.195 3.13503V3.13503Z",fill:"black"})}),d.jsx("defs",{children:d.jsx("clipPath",{id:"clip0",children:d.jsx("rect",{width:"12",height:"12",fill:"white"})})})]}),RJn=d.jsxs("svg",{width:"17",height:"9",viewBox:"0 0 17 9",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("path",{d:"M0.0691681 5.98162C0.115833 7.24157 1.07247 8.00221 2.59841 8.00221C4.17102 8.00221 5.12299 7.19957 5.12299 5.86962C5.12299 4.83832 4.55367 4.25501 3.25172 3.96569L2.56108 3.80703C1.8331 3.64837 1.53445 3.38704 1.53445 2.91106C1.53445 2.40708 1.94977 2.09442 2.61708 2.09442C3.27505 2.09442 3.6997 2.43508 3.75103 2.99039H5.00166C4.95966 1.78643 4.01236 0.997795 2.60308 0.997795C1.14713 0.997795 0.218496 1.79577 0.218496 3.05105C0.218496 4.04968 0.815808 4.69366 2.03376 4.96898L2.73374 5.13231C3.51304 5.30497 3.8117 5.54763 3.8117 6.00495C3.8117 6.55093 3.34972 6.90092 2.62174 6.90092C1.85644 6.90092 1.38045 6.56493 1.31979 5.98162H0.0691681Z"}),d.jsx("path",{d:"M5.97695 5.98162C6.02362 7.24157 6.98025 8.00221 8.5062 8.00221C10.0788 8.00221 11.0308 7.19957 11.0308 5.86962C11.0308 4.83832 10.4615 4.25501 9.15951 3.96569L8.46886 3.80703C7.74089 3.64837 7.44223 3.38704 7.44223 2.91106C7.44223 2.40708 7.85755 2.09442 8.52486 2.09442C9.18284 2.09442 9.60749 2.43508 9.65882 2.99039H10.9094C10.8674 1.78643 9.92015 0.997795 8.51086 0.997795C7.05492 0.997795 6.12628 1.79577 6.12628 3.05105C6.12628 4.04968 6.72359 4.69366 7.94155 4.96898L8.64153 5.13231C9.42083 5.30497 9.71949 5.54763 9.71949 6.00495C9.71949 6.55093 9.2575 6.90092 8.52953 6.90092C7.76422 6.90092 7.28824 6.56493 7.22758 5.98162H5.97695Z"}),d.jsx("path",{d:"M16.9852 5.01565V3.98435C16.9852 2.11309 16.0099 0.997795 14.3953 0.997795C12.7807 0.997795 11.8054 2.11309 11.8054 3.98435V5.01565C11.8054 6.88692 12.7807 8.00221 14.3953 8.00221C16.0099 8.00221 16.9852 6.88692 16.9852 5.01565ZM14.3953 6.82625C13.5833 6.82625 13.154 6.21494 13.154 5.00165V3.99835C13.154 2.78506 13.5833 2.17375 14.3953 2.17375C15.2073 2.17375 15.6366 2.78506 15.6366 3.99835V5.00165C15.6366 6.21494 15.2073 6.82625 14.3953 6.82625Z"})]}),OJn=n=>{let{provider:e}=n;const r=e==null?void 0:e.startsWith("saml-"),i=r?"saml":e;return d.jsxs(AJn,{"data-logo":i,children:[e==="google"&&IJn,e==="github"&&DJn,e==="sanity"&&d.jsx(R5n,{}),r&&RJn]})};function PJn(){const{currentUser:n,projectId:e}=pa(),r=!!(n&&fXe(n,"administrator")),{t:i}=me();return d.jsxs(d.Fragment,{children:[d.jsx(Io,{}),d.jsx(Wt,{as:"a","aria-label":i("user-menu.action.manage-project-aria-label"),href:"https://sanity.io/manage/project/".concat(e),target:"_blank",text:i("user-menu.action.manage-project"),icon:A8}),r&&d.jsx(Wt,{as:"a","aria-label":i("user-menu.action.invite-members-aria-label"),href:"https://sanity.io/manage/project/".concat(e,"/members"),target:"_blank",text:i("user-menu.action.invite-members"),icon:j8})]})}var u5e=Object.freeze,jJn=Object.defineProperty,Wnt=(n,e)=>u5e(jJn(n,"raw",{value:u5e(e||n.slice())})),d5e,f5e;const LJn=F(_r)(d5e||(d5e=Wnt([`
  min-width: 200px;
  max-width: 300px;
`]))),$Jn=F(te)(f5e||(f5e=Wnt([`
  position: relative;
  min-width: `,`px;
  min-height: `,`px;
`])),n=>{let{theme:e}=n;return e.sanity.avatar.sizes[2].size},n=>{let{theme:e}=n;return e.sanity.avatar.sizes[2].size});function MJn(){const{currentUser:n,auth:e}=pa(),r=fB(),i=Loe(),o=SXe(n==null?void 0:n.provider),{t:s}=me(),a=p.useMemo(()=>({placement:"bottom",portal:!0,preventOverflow:!0,scheme:r,constrainSize:!0}),[r]);return d.jsx(Vr,{button:d.jsx(ui,{mode:"bleed",padding:0,radius:"full",children:d.jsx(gf,{size:1,user:"me"})}),id:"user-menu",menu:d.jsxs(LJn,{children:[d.jsx(ke,{padding:2,children:d.jsxs(oe,{align:"center",children:[d.jsx(zn,{disabled:!o,portal:!0,content:s("user-menu.login-provider",{providerTitle:o}),children:d.jsxs($Jn,{marginRight:3,children:[d.jsx(gf,{size:2,user:"me"}),(n==null?void 0:n.provider)&&d.jsx(OJn,{provider:n.provider})]})}),d.jsxs(Se,{space:2,flex:1,children:[d.jsx(J,{size:1,weight:"medium",textOverflow:"ellipsis",children:n==null?void 0:n.name}),d.jsx(J,{size:1,muted:!0,textOverflow:"ellipsis",children:n==null?void 0:n.email})]})]})}),i&&d.jsx(SJn,{setScheme:i}),d.jsx(CJn,{}),d.jsx(PJn,{}),e.logout&&d.jsxs(d.Fragment,{children:[d.jsx(Io,{}),d.jsx(Wt,{iconRight:yJ,text:s("user-menu.action.sign-out"),disabled:!e.logout,...e.logout&&{onClick:e.logout}})]})]}),popover:a})}var h5e=Object.freeze,FJn=Object.defineProperty,zoe=(n,e)=>h5e(FJn(n,"raw",{value:h5e(e||n.slice())})),p5e,m5e,g5e;const NJn=[],BJn=F(Cu)(p5e||(p5e=zoe([`
  min-height: auto;
  position: relative;

  &[data-search-open='true'] {
    top: 0;
    position: sticky;
  }
`]))),UJn=F(ke)(m5e||(m5e=zoe([`
  line-height: 0;
`]))),zJn=F(eo)(g5e||(g5e=zoe([`
  grid-template-columns: auto auto auto;
  @media screen and (min-width: `,`) {
    grid-template-columns: 1fr auto 1fr;
  }
`])),n=>{let{theme:e}=n;return"".concat(e.sanity.media[3],"px")});function VJn(n){const{__internal_actions:e=NJn}=n,{name:r,tools:i}=pa(),o=sN(),s=Xx(),a=typeof o.tool=="string"?o.tool:void 0,l=uJn(),{t:c}=me(),{onSearchFullscreenOpenChange:u,onSearchOpenChange:f,searchFullscreenOpen:h,searchFullscreenPortalEl:m,searchOpen:g}=p.useContext(jnt),v=Lnt(),[y,b]=p.useState(!1),x=p.useRef(o),_=p.useRef(r);p.useEffect(()=>{(x.current.tool!==o.tool||r!==_.current)&&b(!1),x.current=o,_.current=r},[r,o]);const[w,C]=p.useState(null),[S,T]=p.useState(null),A=p.useMemo(()=>({resources:s>1,collapsedPresenceMenu:s<=1,loginStatus:s>1,searchFullscreen:s<=1,configIssues:s>1&&im,newDocumentFullscreen:s<=1,tools:s>=3}),[s]);p.useEffect(()=>{u(h)},[h,u]),p.useEffect(()=>{A.searchFullscreen?f(!1):u(!1)},[u,f,A.searchFullscreen]);const I=p.useCallback(()=>{f(!0)},[f]),D=p.useCallback(()=>{u(!0)},[u]),R=p.useCallback(()=>{f(!1)},[f]),P=p.useCallback(()=>{u(!1),S==null||S.focus()},[u,S]),O=p.useCallback(()=>{b(!1),w==null||w.focus()},[w]),$=p.useCallback(()=>{b(!0)},[]),L=p.useMemo(()=>{var M;return A.tools?(M=e==null?void 0:e.filter(N=>N.location==="topbar"))==null?void 0:M.map(N=>d.jsx(ze,{iconRight:N==null?void 0:N.icon,mode:"bleed",onClick:N==null?void 0:N.onAction,selected:N.selected,text:N.title},N.name)):null},[e,A.tools]);return d.jsx(LQn,{children:d.jsxs(BJn,{zOffset:100,"data-search-open":h,children:[d.jsx(UJn,{borderBottom:!0,"data-testid":"studio-navbar","data-ui":"Navbar",padding:3,sizing:"border",children:d.jsxs(zJn,{gap:1,children:[d.jsx(xu,{children:d.jsxs(oe,{align:"center",gap:2,justify:"flex-start",children:[d.jsxs(oe,{align:"center",gap:2,children:[!A.tools&&d.jsx(ze,{mode:"bleed",icon:lBe,onClick:$,ref:C,tooltipProps:{content:c("user-menu.open-menu"),placement:"bottom"}}),d.jsxs(oe,{gap:1,children:[d.jsx(znt,{}),d.jsx(Ant,{})]})]}),d.jsx(cJn,{...l,modal:A.newDocumentFullscreen?"dialog":"popover"}),!A.searchFullscreen&&d.jsx(GTe,{onClick:I,ref:T})]})}),d.jsx(oe,{align:"center",justify:"center",children:A.tools&&d.jsx(v,{activeToolName:a,closeSidebar:O,context:"topbar",isSidebarOpen:!1,tools:i})}),d.jsx(xu,{children:d.jsxs(oe,{align:"center",gap:1,justify:"flex-end",children:[d.jsxs(oe,{gap:1,children:[d.jsx(zp,{children:d.jsx(Cnt,{fullscreen:A.searchFullscreen,children:d.jsx(hy,{element:document.body,children:A.searchFullscreen?d.jsx(fD,{element:m,children:d.jsx(gXn,{onClose:P,onOpen:D,open:h})}):d.jsx(_nt,{onClose:R,onOpen:I,open:g})})})}),A.tools&&d.jsx(Nnt,{type:"topbar"}),A.configIssues&&d.jsx(oQn,{}),A.resources&&d.jsx(EJn,{}),d.jsx(mJn,{}),A.searchFullscreen&&d.jsx(GTe,{onClick:D,ref:T}),L]}),A.tools&&d.jsx(te,{flex:"none",marginLeft:1,children:d.jsx(MJn,{})})]})})]})}),!A.tools&&d.jsx(YQn,{__internal_actions:e,activeToolName:a,isOpen:y,onClose:O,tools:i})]})})}var v5e=Object.freeze,HJn=Object.defineProperty,Gnt=(n,e)=>v5e(HJn(n,"raw",{value:v5e(e||n.slice())})),y5e,b5e;function WJn(n){return!!n}const GJn=F(Det)(y5e||(y5e=Gnt([`
  list-style: none;
  white-space: nowrap;
  flex-shrink: 0;
  opacity: 0;
  visibility: hidden;
`]))),qJn=F(oe)(b5e||(b5e=Gnt([`
  opacity: 0;
  height: 0.1px;
  overflow: hidden;
`]))),KJn=p.forwardRef(function(e,r){const{children:i,gap:o,menuButtonProps:s,disableRestoreFocusOnClose:a,onMenuClose:l,collapsed:c,...u}=e,[f,h]=p.useState(null),[m,g]=p.useState([]),[v,y]=p.useState(!1),b=p.useMemo(()=>p.Children.toArray(i).filter(WJn),[i]),x=p.useMemo(()=>c||!v?null:b.filter(T=>!m.some(A=>A.key===T.key)),[b,c,m,v]),_=p.useMemo(()=>({root:f,threshold:1,rootMargin:"1px"}),[f]),w=p.useMemo(()=>(s==null?void 0:s.button)||d.jsx(ha,{}),[s]),C=p.useMemo(()=>c?b:b.filter(T=>{let{key:A}=T;return m.find(I=>I.key===A)}),[b,m,c]),S=p.useCallback((T,A)=>{const I=m.some(R=>R.key===A.key);v||y(!0);const D=T.isIntersecting;!I&&!D&&g(R=>[...R,A]),I&&D&&g(R=>R.filter(P=>P.key!==A.key))},[m,v,y,g]);return d.jsxs(oe,{direction:"column",ref:r,sizing:"border",style:{position:"relative"},...u,children:[d.jsxs(oe,{justify:"center",gap:o,flex:1,children:[x,(m.length>0||c)&&d.jsx(uoe,{disableRestoreFocusOnClose:a,menuButton:w,menuButtonProps:s,menuOptions:C,onMenuClose:l})]}),d.jsxs(qJn,{justify:"flex-start",gap:o,ref:h,"data-hidden":!0,"aria-hidden":"true",children:[p.cloneElement(w,{disabled:!0,"aria-hidden":!0}),b==null?void 0:b.map(T=>d.jsx(GJn,{options:_,onIntersectionChange:A=>S(A[0],T),children:p.cloneElement(T,{disabled:!0,"aria-hidden":!0,tabIndex:-1})},"".concat(T.key,"_observer")))]})]})}),qnt=p.forwardRef(function(e,r){const{name:i,...o}=e,s=sN(p.useCallback(()=>({tool:i,[i]:void 0}),[i]));return d.jsx(oN,{state:s,...o,ref:r})});function YJn(n){const{activeToolName:e,tools:r}=n,{scheme:i}=o2(),[o,s]=p.useState(null);srt({rootElement:o,navigation:["arrows"]});const a=p.useMemo(()=>({popover:{constrainSize:!0,portal:!0,scheme:i}}),[i]),l=p.useMemo(()=>r.map((c,u)=>{const f=(c==null?void 0:c.title)||li(c.name),h=p.forwardRef(function(g,v){return d.jsx(qnt,{...g,ref:v,name:c.name,children:g.children})});return d.jsx(ze,{as:h,"data-as":"a",mode:"bleed",selected:e===c.name,text:f},"".concat(c.name,"-").concat(u))}),[e,r]);return d.jsx(oe,{justify:"center",marginX:4,children:d.jsx(KJn,{"data-testid":"tool-collapse-menu",gap:1,menuButtonProps:a,ref:s,children:l})})}function ZJn(n){const{activeToolName:e,isVisible:r,tools:i}=n;return p.useMemo(()=>d.jsx(Se,{as:"ul",space:1,children:i.map(o=>{const s=(o==null?void 0:o.title)||li(o.name),a=p.forwardRef(function(c,u){return d.jsx(qnt,{...c,ref:u,name:o.name,children:c.children})});return d.jsx(Se,{as:"li",children:d.jsx(ze,{as:a,justify:"flex-start",mode:"bleed",selected:e===o.name,size:"large",tabIndex:r?0:-1,text:s})},o.name)})}),[e,r,i])}function XJn(n){const{context:e,isSidebarOpen:r,tools:i,...o}=n;return i.length<=1?null:e==="sidebar"?d.jsx(ZJn,{isVisible:r,tools:i,...o}):d.jsx(YJn,{tools:i,...o})}var x5e=Object.freeze,QJn=Object.defineProperty,JJn=(n,e)=>x5e(QJn(n,"raw",{value:x5e(e||n.slice())})),w5e;const _5e=12,eer=4;function ter(n){const e=encodeURIComponent(n),r="%3Csvg width='9' height='9' viewBox='0 0 9 9' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 8L8 1' stroke='".concat(e,"' stroke-linecap='round'/%3E%3Cpath d='M5 8L8 5' stroke='").concat(e,"' stroke-linecap='round'/%3E%3C/svg%3E%0A");return'url("data:image/svg+xml,'.concat(r,'")')}const ner=rAt(n=>{const{color:e,font:r}=mt(n.theme);return Ae(w5e||(w5e=JJn([`
    ::-webkit-resizer {
      background-image: `,`;
      background-repeat: no-repeat;
      background-position: bottom right;
    }

    ::-webkit-scrollbar {
      width: `,`px;
      height: `,`px;
    }

    ::-webkit-scrollbar-corner {
      background-color: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background-clip: content-box;
      background-color: var(--card-border-color, `,`);
      border: `,`px solid transparent;
    }

    ::-webkit-scrollbar-thumb:hover {
      background-color: var(--card-muted-fg-color, `,`);
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    *::selection {
      background-color: `,`;
    }

    html {
      background-color: `,`;
    }

    body {
      scrollbar-gutter: stable;
    }

    #sanity {
      font-family: `,`;
    }

    b {
      font-weight: `,`;
    }

    strong {
      font-weight: `,`;
    }
  `])),ter(e.icon),_5e,_5e,e.border,eer,e.muted.fg,l8(e.focusRing,.3),e.bg,r.text.family,r.text.weights.medium,r.text.weights.medium)}),E5e=J5n.__sanityErrorChannel;function rer(){const{push:n}=da();return p.useEffect(()=>{if(E5e)return E5e.subscribe(e=>{e.error&&(ier(e.error)||(console.error(e.error),n({id:e.error.message,closable:!0,description:e.error.message,duration:5e3,title:"Uncaught error",status:"error"})))})},[n]),null}function ier(n){return n instanceof joe||n instanceof fie||n instanceof ef}function oer(n){let{children:e,AuthenticateComponent:r=Int,LoadingComponent:i=Zr,NotAuthenticatedComponent:o=Dnt}=n;const[s,a]=p.useState(null);if(s)throw s;const[l,c]=p.useState("loading"),{activeWorkspace:u}=bw();return p.useEffect(()=>{var f,h;(h=(f=u.auth).handleCallbackUrl)==null||h.call(f).catch(a)},[u.auth]),p.useEffect(()=>{const f=u.auth.state.subscribe({next:h=>{let{authenticated:m,currentUser:g}=h;var v;if(((v=g==null?void 0:g.roles)==null?void 0:v.length)===0){c("unauthorized");return}c(m?"logged-in":"logged-out")},error:a});return()=>{f.unsubscribe()}},[u]),l==="loading"?d.jsx(i,{}):l==="unauthorized"?d.jsx(o,{}):l==="logged-out"?d.jsx(r,{}):d.jsx(d.Fragment,{children:e})}const ser={toast:[100,11e3]},aer=q2n();function ler(n){const e=Jr({apiVersion:"v2023-12-18"}),r=e.config().projectId,i=p.useMemo(()=>J2n(aer,{flushInterval:3e4,resolveConsent:()=>e.request({uri:"/intake/telemetry-status"}),sendEvents:o=>e.request({uri:"/intake/batch",method:"POST",json:!0,body:{projectId:r,batch:o}}),sendBeacon:o=>navigator.sendBeacon(e.getUrl("/intake/batch"),JSON.stringify({projectId:r,batch:o}))}),[e,r]);return p.useEffect(()=>{i.logger.updateUserProperties({userAgent:navigator.userAgent,screen:{density:window.devicePixelRatio,height:window.screen.height,width:window.screen.width,innerHeight:window.innerHeight,innerWidth:window.innerWidth},studioVersion:gB,plugins:PS(n.config).flatMap(o=>{var s;return((s=o.plugins)==null?void 0:s.flatMap(a=>({name:a.name||"<unnamed>"})))||[]})})},[n.config,i.logger]),d.jsx(U2n,{store:i,children:n.children})}const XP=lNe(),cer=n=>n.__themer===!0;function C5e(n){var e,r;return{...XP,v2:n.v2,fonts:cer(n)?XP.fonts:(e=n.fonts)!=null?e:XP.fonts,color:(r=n.color)!=null?r:XP.color}}function uer(n){let{children:e}=n;const r=bw().activeWorkspace.theme;if(r.__legacy){const i=r.__dark?"dark":"light";return d.jsx(dB.Provider,{value:!1,children:d.jsx(uB.Provider,{value:i,children:d.jsx(k3,{scheme:i,theme:C5e(r),children:d.jsx(zp,{children:e})})})})}return d.jsx(k3,{theme:C5e(r),children:d.jsx(zp,{children:e})})}var S5e=Object.freeze,der=Object.defineProperty,Knt=(n,e)=>S5e(der(n,"raw",{value:S5e(e||n.slice())})),k5e,T5e;F(oe)(k5e||(k5e=Knt([""])));F(te).attrs({padding:4})(T5e||(T5e=Knt([""])));function fer(n){const{basePath:e="/",tools:r}=n,i=Vl.create("/:tool",o=>{let s=r.find(a=>a.name===o.tool);return!s&&o.tool==="desk"&&(s=r.find(a=>a.name==="structure")),s?Vl.scope(s.name,"/",s.router):Vl.create("/")});return Vl.create(e,[Vl.intents("/intent"),i])}function Voe(n){const r={}.toolSwitcher||{},i=r.order||[],o=r.hidden||[];if(!i.length&&!o.length)return n;const s=n.reduce((c,u)=>{const f=u.title||"<unknown>";if(!u.name)return console.warn('Tool "'.concat(f,'" does not have the required "name" property')),c;if(c[u.name]){const m=c[u.name].tool.title;return console.warn('Tools with duplicate name "'.concat(u.name,'" found ("').concat(f,'" and "').concat(m,'")')),c}const h=i.indexOf(u.name);return c[u.name]={tool:u,index:h===-1?1/0:h},c},{}),a=c=>o.indexOf(c.name)===-1,l=n.filter(a);return l.sort((c,u)=>{const f=s[c.name],h=s[u.name],m=f?f.index:1/0,g=h?h.index:1/0;return m===g?0:m-g}),l}const her=["template"],per=["mode"];function mer(n,e){const i=Voe(n)[0];return!e||e.tool||!i?e:Object.assign({},e,{tool:i.name})}function ger(n,e){return e&&(Voe(n).find(r=>r.name===e.space)?{...e,tool:e.space,space:void 0}:e)}function ver(n,e){return mer(n,ger(n,e))}function yer(n,e,r){var i;const{intent:o,params:s,payload:a}=r;if(typeof o!="string")throw new Error("intent must be a string");if(!$n(s))throw new Error("intent params must be a string");const l=Voe(n),c=e!=null&&e.tool?l.find(g=>g.name===e.tool):null,u=c?l.filter(g=>g!==c):l;let f=[];o==="create"?f=her:o==="edit"&&(f=per);const h={score:-1,tool:null},{tool:m}=(c?[c,...u]:l).reduce((g,v)=>{if(!v||typeof v.canHandleIntent!="function")return g;const y=v.canHandleIntent(o,s,e&&e[v.name]);if(typeof y=="boolean")return y&&g.score<0?{score:0,tool:v}:g;if(!$n(y))return g;const b=f.reduce((x,_)=>_ in s&&y[_]===!0?x+1:x,0);return b>g.score?{score:b,tool:v}:g},h);if(m!=null&&m.getIntentState){const g=m.getIntentState(o,s,e&&e[m.name],a),{_searchParams:v,...y}=g,b={...e,tool:m.name,[m.name]:y};return(i=m.router)!=null&&i.__unsafe_disableScopedSearchParams?b._searchParams=v:y._searchParams=v,{type:"state",isNotFound:!1,state:b}}return{type:"intent",isNotFound:!0,intent:{name:o,params:s}}}function ber(n,e){return{type:"state",state:n.decode(e)||{},isNotFound:n.isNotFound(e)}}function xer(n){let{children:e,LoadingComponent:r,workspace:i}=n;const{basePath:o,tools:s}=i,a=zKn(),l=p.useMemo(()=>fer({basePath:o,tools:s}),[o,s]),[c,u]=wer(a,l,s);return c?d.jsx(jbn,{onNavigate:u,router:l,state:c,children:e}):d.jsx(r,{})}function wer(n,e,r){var i;const o=p.useMemo(()=>{const c=e.getBasePath(),u=new RegExp("^".concat(Jne(c),"(\\/|$)"),"i"),f=h=>c==="/"?!0:u.test(h);return{subscribe:h=>n.listen(h),getSnapshot:()=>"".concat(n.location.pathname).concat(n.location.search||""),getServerSnapshot:()=>null,selector:h=>typeof h=="string"&&f(h)?ber(e,h):null}},[n,e]),s=Qne.useSyncExternalStoreWithSelector(o.subscribe,o.getSnapshot,o.getServerSnapshot,o.selector,Br),a=p.useRef(s);p.useEffect(()=>{var c;if((s==null?void 0:s.type)==="state"&&!((c=s.state)!=null&&c.intent)){const u=ver(r,s.state);u&&u!==s.state&&n.replace(e.encode(u))}},[s==null?void 0:s.state,s==null?void 0:s.type,n,e,r]),p.useEffect(()=>{const c=A5e(s,e,r,a);c?n.replace(c):a.current=s},[s,n,e,r]);const l=p.useMemo(()=>c=>{let{path:u,replace:f}=c;const h=o.selector(u),m=A5e(h,e,r,a),g=typeof m=="string"?m:u;f?n.replace(g):n.push(g)},[n,e,o,r]);return[(i=s==null?void 0:s.state)!=null?i:null,l]}function A5e(n,e,r,i){var o,s;if((n==null?void 0:n.type)==="state"&&((o=n.state)!=null&&o.intent)){const a=yer(r,((s=i.current)==null?void 0:s.type)==="state"?i.current.state:{},n.state);if((a==null?void 0:a.type)==="state")return e.encode(a.state)}return null}function Ynt(n){const[e,r]=p.useState(null);if(e)throw e;const[i,o]=p.useState(null);return p.useEffect(()=>{const s=Da(n.__internal.sources.map(a=>{let{source:l}=a;return l.pipe(vi(c=>{if(c instanceof ef)return Ke(c);throw c}))})).pipe(Me(a=>{const l=a.filter(c=>c instanceof ef);if(l.length)throw new ef({name:n.name,causes:l,type:"workspace"});return a}),Me(a=>{let[l,...c]=a;return{...n,...l,unstable_sources:[l,...c],type:"workspace"}})).subscribe({next:o,error:r});return()=>s.unsubscribe()},[n]),i}function _er(n){let{children:e,LoadingComponent:r}=n;const{activeWorkspace:i}=bw(),o=Ynt(i);return o?d.jsx(gJe,{workspace:o,children:d.jsx(lB,{source:o.unstable_sources[0],children:d.jsx(xer,{LoadingComponent:r,workspace:o,children:e})})}):d.jsx(r,{})}function Znt(n){let{ConfigErrorsComponent:e,...r}=n;const[{error:i},o]=p.useState({error:null});if(i)throw i;return d.jsx(dD,{onCatch:o,children:d.jsx(_er,{...r})})}Cg.registerLanguage(MAn);Cg.registerLanguage(sPt);Cg.registerLanguage(NAn);Cg.registerLanguage(UAn);Cg.registerLanguage(VAn);function Eer(n){let{children:e,config:r,basePath:i,onSchemeChange:o,scheme:s,unstable_history:a,unstable_noAuthBoundary:l}=n;const c=d.jsx(Znt,{LoadingComponent:Zr,ConfigErrorsComponent:PXn,children:d.jsx(ler,{config:r,children:d.jsx(cDn,{children:d.jsx(vtt,{children:e})})})});return d.jsx(XKn,{onSchemeChange:o,scheme:s,children:d.jsxs(L9t,{paddingY:7,zOffset:ser.toast,children:[d.jsx(rer,{}),d.jsx(Pnt,{children:d.jsx(BKn,{config:r,basePath:i,children:d.jsx(ZKn,{unstable_history:a,NotFoundComponent:FXn,LoadingComponent:Zr,children:d.jsx(uer,{children:d.jsx(_Rn,{children:l?c:d.jsx(oer,{LoadingComponent:Zr,AuthenticateComponent:Int,NotAuthenticatedComponent:Dnt,children:c})})})})})})]})})}function Jr(n){const e=xi();return n?e.getClient(n):(console.warn('Calling `useClient()` without specifying an API version is deprecated and will stop working in the next dev-preview release - please migrate to use `useClient({apiVersion: "2021-06-07"})`.'),e.getClient({apiVersion:"2021-06-07"}))}function Hoe(){return xi().dataset}function If(n,e){const r=Fc();return bs(()=>r.pair.editOperations(n,e),[e,r.pair,n])}const tZ=[],I5e={enabled:!0,error:null,features:tZ,isLoading:!0};function Cer(n){let{versionedClient:e}=n;return e.observable.request({uri:"/features",tag:"features"})}const dH=new Map;function vB(n){const e=Jr(Dr),{projectId:r}=xi();if(!dH.get(r)){const o=Cer({versionedClient:e}).pipe(Hs());dH.set(r,o)}return bs(()=>(dH.get(r)||Ke(tZ)).pipe(Me(function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return{isLoading:!1,enabled:!!(o!=null&&o.includes(n)),features:o,error:null}}),ca(I5e),vi(o=>Ke({isLoading:!1,enabled:!1,features:tZ,error:o}))),[n,r],I5e)}function a2(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e=Qg().id;return m0.listFormat(e,n)}function yB(){return xi().projectId}const D5e=1e3*5,Ser=1e3*20,Xnt=1e3*60,R5e=Xnt*60,Qnt={month:"short",day:"numeric"},Jnt={...Qnt,year:"numeric"},ker={...Jnt,hour:"numeric",minute:"numeric"};function wy(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=Ter(n,e),[,i]=p.useReducer(o=>o+1,0);return p.useEffect(()=>{let o;function s(a){o=window.setTimeout(()=>{i(),o=window.setTimeout(()=>s(a),a)},a)}return r.refreshInterval!==null&&s(r.refreshInterval),()=>{o!==null&&clearTimeout(o)}},[i,r.refreshInterval]),r.timestamp}function Ter(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{t:r}=me(),i=Qg().id,{timeZone:o,minimal:s}=e,a=n instanceof Date?n:new Date(n),l=!!e.useTemporalPhrase,c=p.useCallback(function(_,w){const C=w==="day"&&Math.abs(_)===1,S=w==="week"&&Math.abs(_)===1;return l||C?m0.relativeTimeFormat(i,{style:s&&!S?"short":"long",numeric:"auto"}).format(_,w):m0.numberFormat(i,{style:"unit",unit:w,unitDisplay:s?"short":"long"}).format(Math.abs(_))},[i,l,s]);if(!a.getTime())return{timestamp:"",refreshInterval:null};const u=e.relativeTo||Date.now(),f=lVt(u,a),h=dVt(u,a);if(f||h)return e.minimal&&h===0?{timestamp:m0.dateTimeFormat(i,{...Qnt,timeZone:o}).format(a),refreshInterval:null}:e.minimal?{timestamp:m0.dateTimeFormat(i,{...Jnt,timeZone:o}).format(a),refreshInterval:null}:{timestamp:m0.dateTimeFormat(i,{...ker,timeZone:o}).format(a),refreshInterval:null};const m=uVt(a,u);if(m)return{timestamp:c(m,"week"),refreshInterval:R5e};const g=eHe(a,u);if(g)return{timestamp:c(g,"day"),refreshInterval:R5e};const v=iVt(a,u);if(v)return{timestamp:c(v,"hour"),refreshInterval:Xnt};const y=oVt(a,u);if(y)return{timestamp:c(y,"minute"),refreshInterval:Ser};const b=cVt(a,u);return Math.abs(b)>10?{timestamp:c(b,"second"),refreshInterval:D5e}:{timestamp:r("relative-time.just-now"),refreshInterval:D5e}}function Ar(){return xi().schema}function l2(){return xi().templates}var O5e=Object.freeze,Aer=Object.defineProperty,Ier=(n,e)=>O5e(Aer(n,"raw",{value:O5e(e||n.slice())})),P5e;const fH=F(J)(P5e||(P5e=Ier([`
  white-space: nowrap;
`])));function aI(n){let{absoluteDate:e,draft:r,published:i,singleLine:o}=n;const{t:s}=me(),a=r&&"_updatedAt"in r?r._updatedAt:"",l=i&&"_updatedAt"in i?i._updatedAt:"",c=cf({dateStyle:"medium",timeStyle:"short"}),u=a&&c.format(new Date(a)),f=l&&c.format(new Date(l)),h=wy(a||"",{minimal:!0,useTemporalPhrase:!0}),m=wy(l||"",{minimal:!0,useTemporalPhrase:!0}),g=e?f:m,v=e?u:h;return d.jsxs(oe,{align:o?"center":"flex-start",direction:o?"row":"column",gap:2,wrap:"nowrap",children:[!g&&d.jsx(fH,{size:1,weight:"medium",children:s("document-status.not-published")}),g&&d.jsx(fH,{size:1,weight:"medium",children:s("document-status.published",{date:g})}),v&&d.jsx(fH,{muted:!0,size:1,wrap:"nowrap",children:s("document-status.edited",{date:v})})]})}function Der(n){const e=p.useRef(void 0);return Lg(n,e.current)||(e.current=n),[e.current]}function Rer(n,e){p.useEffect(n,Der(e))}const Oer=p.memo(function(e){const{hook:r,args:i,id:o,onNext:s,onReset:a,onRequestUpdate:l}=e,c=r({...i,onComplete:()=>{a(o)}});return Rer(()=>(s(o,c),l(),()=>{s(o,null),l()}),c),null},(n,e)=>n.args===e.args),Per=[];function Wp(n){let{currentUser:e,context:r}=n;const{t:i}=me(),o=a2({style:"short",type:"unit"}),s=(e==null?void 0:e.roles)||Per,a=p.useCallback(()=>d.jsx(d.Fragment,{children:o.formatToParts(s.map(l=>l.title||li(l.name))).map((l,c)=>l.type==="element"?d.jsx("code",{children:l.value},"".concat(l.value,"-").concat(c)):d.jsx(p.Fragment,{children:l.value},"".concat(l.value,"-").concat(c)))}),[s,o]);return d.jsxs(te,{children:[d.jsxs(to,{space:2,children:[d.jsx(J,{size:0,children:d.jsx(sy,{})}),d.jsx(J,{size:1,weight:"medium",children:i("insufficient-permissions-message.title")})]}),d.jsx(to,{marginTop:4,children:d.jsx(J,{size:1,children:d.jsx(bn,{i18nKey:"insufficient-permissions-message.not-authorized-explanation",t:i,context:r})})}),d.jsx(to,{marginTop:4,marginBottom:1,children:d.jsx(J,{size:1,children:d.jsx(bn,{i18nKey:"insufficient-permissions-message.roles",t:i,components:{Roles:a}})})})]})}const jer=F(Ya)(n=>{const{theme:e}=n,{container:r,media:i}=e.sanity;return Xn(i,n.$width,o=>({width:o==="auto"?"none":Je(r[o]),maxWidth:"100%"}))}),Ler=p.forwardRef(function(e,r){const{width:i,...o}=e,s=ot(i);return d.jsx(jer,{...o,"data-ui":"PopoverContainer",$width:s,ref:r})});var j5e=Object.freeze,$er=Object.defineProperty,ert=(n,e)=>j5e($er(n,"raw",{value:j5e(e||n.slice())})),L5e,$5e;const Mer=F(Ai)(()=>Ae(L5e||(L5e=ert([`
    // Make the popover scrollable if it overflows the viewport
    [data-ui='Popover__wrapper'] {
      overflow: auto;
    }
  `])))),Fer=F(Cu)(n=>{const e=n.theme.sanity.radius[3];return Ae($5e||($5e=ert([`
    position: sticky;
    top: 0;
    width: 100%;
    background: var(--card-bg-color);
    border-bottom: 1px solid var(--card-border-color);
    border-top-left-radius: `,`px;
    border-top-right-radius: `,`px;
  `])),e,e)});function Ner(n){const{children:e,header:r,onClose:i,referenceElement:o,containerRef:s,width:a}=n,l=p.useCallback(()=>{i(),o==null||o.focus()},[i,o]),c=d.jsx(Ler,{width:a,children:d.jsx(rv,{autoFocus:!0,children:d.jsxs(Se,{ref:s,children:[d.jsx(Fer,{children:d.jsx(te,{padding:2,paddingLeft:4,children:d.jsxs(oe,{align:"center",gap:2,children:[d.jsx(te,{flex:1,children:d.jsx(J,{size:1,textOverflow:"ellipsis",weight:"medium",children:r})}),d.jsx(ze,{icon:Is,mode:"bleed",onClick:l,tooltipProps:{content:"Close"}})]})})}),d.jsx(te,{padding:4,children:e})]})})});return d.jsx(Mer,{portal:!0,constrainSize:!0,content:c,open:!0,referenceElement:o})}var M5e=Object.freeze,Ber=Object.defineProperty,Uer=(n,e)=>M5e(Ber(n,"raw",{value:M5e(e||n.slice())})),F5e;const zer=F(ke)(()=>Ae(F5e||(F5e=Uer([`
    /* TextWithTone uses its own logic to set color, and we therefore need */
    /* to override this logic in order to set the correct color in different states */
    &[data-selected],
    &[data-pressed],
    &:active {
      [data-ui='TextWithTone'] {
        color: inherit;
      }
    }
  `])))),Ver=p.createContext({selected:!1}),J0=p.forwardRef(function(e,r){const{children:i,selected:o,as:s,...a}=e;return d.jsx(zer,{"data-ui":"PreviewCard",...a,forwardedAs:s,ref:r,selected:o,children:d.jsx(Ver.Provider,{value:{selected:o},children:i})})}),Ra={block:{icon:25,media:{width:33,height:33}},blockImage:{icon:25,media:{width:600,height:400}},compact:{icon:21,media:{width:25,height:25}},default:{icon:21,media:{width:33,height:33}},detail:{icon:25,media:{width:73,height:73}},inline:{icon:15,media:{width:15,height:15}},media:{icon:25,media:{width:160,height:160}}};var N5e=Object.freeze,Her=Object.defineProperty,Wer=(n,e)=>N5e(Her(n,"raw",{value:N5e(e||n.slice())})),B5e;const trt=F.span(n=>{const{$dimensions:e,$layout:r,$radius:i,$responsive:o}=n,s=e.width||0,a=e.width||0,l=Ra[r].icon;return Ae(B5e||(B5e=Wer([`
    position: relative;
    width: `,`;
    height: `,`;
    min-width: `,`;
    border-radius: `,`;
    display: flex;
    overflow: hidden;
    overflow: clip;
    align-items: center;
    justify-content: center;

    & img {
      position: absolute;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      object-fit: contain;
      border-radius: inherit;
    }

    & svg {
      // Shared styles for SVG icons
      color: var(--card-icon-color);
      display: block;
      flex: 1;

      // Specific styles for non Sanity icons
      &:not([data-sanity-icon]) {
        height: 1em;
        width: 1em;
        max-width: 1em;
        max-height: 1em;
      }

      // Specific styles for Sanity icons
      &[data-sanity-icon] {
        display: block;
        font-size: calc(`,` / 16 * 1em);
      }
    }

    & > span[data-border] {
      display: block;
      position: absolute;
      left: 0;
      top: 0;
      right: 0;
      bottom: 0;
      box-shadow: inset 0 0 0 1px var(--card-fg-color);
      opacity: 0.1;
      border-radius: inherit;
      pointer-events: none;
    }
  `])),o?"100%":Je(s),o?"100%":Je(a),o?void 0:Je(s),c=>{let{theme:u}=c;return Je(u.sanity.radius[i])},l)});trt.displayName="MediaWrapper";function c2(n){const{border:e=!0,dimensions:r,layout:i,media:o,radius:s=1,responsive:a=!1,styles:l}=n;return d.jsxs(trt,{$dimensions:r,$layout:i,$radius:s,$responsive:a,className:l==null?void 0:l.media,"data-testid":"Media",children:[Ger({dimensions:r,layout:i,media:o}),e&&d.jsx("span",{"data-border":!0})]})}function Ger(n){const{dimensions:e,layout:r,media:i,styles:o}=n;return Xr.isValidElementType(i)?p.createElement(i,{dimensions:e,layout:r}):typeof i=="string"?d.jsx(J,{as:"span",className:o==null?void 0:o.mediaString,size:1,children:i}):p.isValidElement(i)?i:null}function qer(n,e,r){return Xr.isValidElementType(n)?p.createElement(n,{layout:e,dimensions:r}):typeof n=="string"?d.jsx("div",{children:n}):n}function oa(n,e,r){return typeof n=="string"?n:Xr.isValidElementType(n)?p.createElement(n,{layout:e}):n||r}var U5e=Object.freeze,Ker=Object.defineProperty,nrt=(n,e)=>U5e(Ker(n,"raw",{value:U5e(e||n.slice())})),z5e,V5e;const Yer={...Ra.compact.media,aspect:1,fit:"crop",dpr:zy()},H5e=F(oe)(z5e||(z5e=nrt([`
  height: `,`;
  box-sizing: content-box;
`])),Je(Ra.compact.media.height)),Zer=F(ro).attrs({animated:!0,radius:1,size:1})(V5e||(V5e=nrt([`
  max-width: `,`;
  width: 80%;
`])),Je(160));function Xer(n){const{children:e,isPlaceholder:r,media:i,status:o,title:s}=n,{t:a}=me(),l=o&&d.jsx(te,{"data-testid":"compact-preview__status",paddingLeft:4,paddingRight:1,children:oa(o,"compact")});return r?d.jsx(H5e,{align:"center","data-testid":"default-preview",paddingLeft:i?1:2,paddingRight:2,paddingY:1,children:d.jsxs(oe,{align:"center",flex:1,gap:2,children:[i&&d.jsx(My,{animated:!0,radius:2,style:Ra.compact.media}),d.jsx(Se,{"data-testid":"compact-preview__heading",flex:1,space:2,children:d.jsx(Zer,{})}),l]})}):d.jsxs(H5e,{align:"center","data-testid":"compact-preview",paddingLeft:i?1:2,paddingRight:2,paddingY:1,children:[d.jsxs(oe,{align:"center",flex:1,gap:2,children:[i&&d.jsx(c2,{border:!1,dimensions:Yer,layout:"compact",media:i}),d.jsx(Se,{"data-testid":"compact-preview__header",flex:1,space:2,children:d.jsxs(J,{size:1,style:{color:"inherit"},textOverflow:"ellipsis",weight:"medium",children:[s&&oa(s,"compact"),!s&&d.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:a("preview.default.title-fallback")})]})}),l]}),e&&d.jsx(te,{marginLeft:1,children:e})]})}var W5e=Object.freeze,Qer=Object.defineProperty,Woe=(n,e)=>W5e(Qer(n,"raw",{value:W5e(e||n.slice())})),G5e,q5e,K5e;const Jer={...Ra.default.media,aspect:1,fit:"crop",dpr:zy()},Y5e=F(oe)(G5e||(G5e=Woe([`
  height: `,`;
  box-sizing: content-box;
`])),Je(Ra.default.media.height)),etr=F(ro).attrs({animated:!0,radius:1,size:1})(q5e||(q5e=Woe([`
  max-width: `,`;
  width: 80%;
`])),Je(160)),ttr=F(ro).attrs({animated:!0,radius:1,size:1})(K5e||(K5e=Woe([`
  max-width: `,`;
  width: 60%;
`])),Je(120));function rrt(n){const{title:e,subtitle:r,media:i,status:o,isPlaceholder:s,children:a,styles:l}=n,{t:c}=me(),u=Nbn(l==null?void 0:l.root,!!r&&(l==null?void 0:l.hasSubtitle)),f=o&&d.jsx(te,{className:l==null?void 0:l.status,"data-testid":"default-preview__status",children:oa(o,"default")});return s?d.jsx(Y5e,{align:"center",className:l==null?void 0:l.placeholder,"data-testid":"default-preview",padding:2,paddingLeft:i?2:3,children:d.jsxs(oe,{align:"center",flex:1,gap:2,children:[i&&d.jsx(te,{flex:"none",children:d.jsx(My,{animated:!0,radius:1,style:Ra.default.media})}),d.jsxs(Se,{"data-testid":"default-preview__heading",flex:1,space:2,children:[d.jsx(etr,{}),d.jsx(ttr,{})]}),d.jsx(te,{flex:"none",padding:1,children:f})]})}):d.jsx(Y5e,{align:"center",className:u,"data-testid":"default-preview",padding:2,paddingLeft:i?2:3,children:d.jsxs(oe,{align:"center",flex:1,gap:2,children:[i&&d.jsx(te,{flex:"none",children:d.jsx(c2,{dimensions:Jer,layout:"default",media:i,styles:l})}),d.jsxs(Se,{className:l==null?void 0:l.heading,"data-testid":"default-preview__header",flex:1,space:2,children:[d.jsxs(J,{className:l==null?void 0:l.title,size:1,style:{color:"inherit"},textOverflow:"ellipsis",weight:"medium",children:[e&&oa(e,"default"),!e&&d.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:c("preview.default.title-fallback")})]}),r&&d.jsx(J,{muted:!0,size:1,textOverflow:"ellipsis",className:l==null?void 0:l.subtitle,children:oa(r,"default")})]}),d.jsx(te,{flex:"none",padding:1,children:f}),a&&d.jsx("div",{className:l==null?void 0:l.children,children:a})]})})}var Z5e=Object.freeze,ntr=Object.defineProperty,ww=(n,e)=>Z5e(ntr(n,"raw",{value:Z5e(e||n.slice())})),X5e,Q5e,J5e,eIe,tIe,nIe,rIe;const iIe=F(oe).attrs({align:"center"})(X5e||(X5e=ww([`
  height: `,`;
`])),Je(Ra.detail.media.height)),rtr=F(te)(Q5e||(Q5e=ww([`
  white-space: nowrap;
`]))),itr=F(My).attrs({animated:!0,radius:2})(J5e||(J5e=ww([`
  width: `,`;
  height: `,`;
`])),Je(Ra.detail.media.width),Je(Ra.detail.media.height)),otr=F(ro).attrs({animated:!0,radius:1,size:1})(eIe||(eIe=ww([`
  max-width: `,`; /* 80% of 200px */
  width: 80%;
`])),Je(160)),str=F(ro).attrs({animated:!0,radius:1,size:1})(tIe||(tIe=ww([`
  max-width: `,`; /* 60% of 200px */
  width: 60%;
`])),Je(120)),atr=F(ro).attrs({animated:!0,radius:1,size:1})(nIe||(nIe=ww([`
  max-width: `,`; /* 90% of 200px */
  width: 90%;
`])),Je(180)),ltr=F(J)(n=>{let{theme:e}=n;const{fonts:r}=e.sanity,i=r.text.sizes[1],o=2,s=i.lineHeight*o;return Ae(rIe||(rIe=ww([`
    & > span {
      max-height: `,`;

      /* Multi-line text overflow */
      display: -webkit-box;
      overflow: hidden;
      overflow: clip;
      text-overflow: ellipsis;
      -webkit-line-clamp: `,`;
      -webkit-box-orient: vertical;
    }
  `])),Je(s),o)}),ctr={...Ra.detail.media,fit:"crop",aspect:1,dpr:zy()};function utr(n){const{title:e,subtitle:r,description:i,mediaDimensions:o=ctr,media:s,status:a,children:l,isPlaceholder:c}=n,{t:u}=me(),f=a&&d.jsx(rtr,{marginLeft:3,paddingRight:1,children:oa(a,"detail")});return c?d.jsx(iIe,{"data-testid":"detail-preview",paddingLeft:s?2:3,paddingRight:2,paddingY:2,children:d.jsxs(oe,{align:"center",flex:1,gap:3,children:[s&&d.jsx(itr,{"data-testid":"detail-preview__media"}),d.jsx(oe,{align:"center","data-testid":"detail-preview__header",flex:1,children:d.jsxs(Se,{flex:1,space:2,children:[d.jsx(otr,{}),d.jsx(str,{}),i&&d.jsx(te,{marginTop:1,children:d.jsx(atr,{})})]})}),f]})}):d.jsx(iIe,{"data-testid":"detail-preview",paddingLeft:s?2:3,paddingRight:2,paddingY:2,children:d.jsxs(oe,{align:"center",flex:1,gap:3,children:[s&&d.jsx(c2,{dimensions:o,layout:"detail",media:s}),d.jsxs(oe,{align:"center","data-testid":"detail-preview__header",flex:1,children:[d.jsxs(Se,{flex:1,space:2,children:[d.jsxs(J,{textOverflow:"ellipsis",size:1,style:{color:"inherit"},weight:"medium",children:[e&&oa(e,"detail"),!e&&d.jsx(d.Fragment,{children:u("preview.default.title-fallback")})]}),r&&d.jsx(J,{muted:!0,size:1,textOverflow:"ellipsis",children:oa(r,"detail")}),i&&d.jsx(te,{marginTop:1,children:d.jsx(ltr,{muted:!0,size:1,children:oa(i,"detail")})})]}),f]}),l]})})}var oIe=Object.freeze,dtr=Object.defineProperty,Goe=(n,e)=>oIe(dtr(n,"raw",{value:oIe(e||n.slice())})),sIe,aIe,lIe;const Bf=43,qoe=3,ftr=F.svg(sIe||(sIe=Goe([`
  width: `,`px;
  height: `,`px;
  transform: rotate(-90deg);
`])),Bf,Bf),htr=F.circle(n=>{let{theme:e}=n;const{color:r}=e.sanity;return Ae(aIe||(aIe=Goe([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
  `])),Kt.gray[r.dark?900:100].hex,qoe)}),ptr=F.circle(n=>{let{theme:e}=n;const{color:r}=e.sanity;return Ae(lIe||(lIe=Goe([`
    fill: none;
    stroke: `,`;
    stroke-width: `,`px;
    transition: stroke-dashoffset 75ms;
  `])),Kt.blue[r.dark?400:500].hex,qoe)});function mtr(n){const{value:e}=n,r=Math.min(Math.max(e,0),100),i=Bf/2-qoe/2,o=2*Math.PI*i,s=(100-r)/100*o,a="".concat(Bf/2," ").concat(Bf/2," ").concat(Bf," ").concat(Bf);return d.jsxs(ftr,{viewBox:a,children:[d.jsx(htr,{cx:Bf,cy:Bf,r:i}),d.jsx(ptr,{cx:Bf,cy:Bf,r:i,style:{strokeDasharray:o,strokeDashoffset:"".concat(s,"px")}})]})}var cIe=Object.freeze,gtr=Object.defineProperty,irt=(n,e)=>cIe(gtr(n,"raw",{value:cIe(e||n.slice())})),uIe,dIe;const vtr=.5,ytr=F(ke)(uIe||(uIe=irt([`
  overflow: hidden;
  overflow: clip;
`]))),btr=F(ke)(n=>{let{theme:e}=n;const{color:r}=e.sanity;return Ae(dIe||(dIe=irt([`
    height: `,`rem;
    background: `,`;
    transition: transform 75ms;
  `])),vtr,Kt.blue[r.dark?400:500].hex)});function ort(n){const{value:e}=n;return d.jsx(ytr,{radius:5,children:d.jsx(btr,{radius:5,style:{transform:"translate3d(".concat(e-100,"%, 0, 0)")}})})}var fIe=Object.freeze,xtr=Object.defineProperty,tR=(n,e)=>fIe(xtr(n,"raw",{value:fIe(e||n.slice())})),hIe,pIe,mIe,gIe,vIe;const wtr=F(te)(hIe||(hIe=tR([`
  position: relative;
`]))),_tr=F(oe).attrs({align:"center",justify:"center"})(pIe||(pIe=tR([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
`]))),Etr=F(My).attrs({animated:!0,radius:2})(mIe||(mIe=tR([`
  width: 100%;
  height: 100%;
`]))),Ctr=F(oe).attrs({align:"center",justify:"center"})(gIe||(gIe=tR([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;

  &:before {
    background-color: var(--card-bg-color);
    opacity: 0.75;
    content: '';
    display: block;
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
  }

  > svg {
    position: relative;
    z-index: 2;
  }
`]))),Str=F(Se).attrs({space:2})(vIe||(vIe=tR([`
  max-width: `,`;
`])),Je(200)),ktr={...Ra.media.media,aspect:1,fit:"crop",dpr:zy()};function Ttr(n){const{media:e,mediaDimensions:r=ktr,children:i,isPlaceholder:o,progress:s=-1,subtitle:a,title:l,withBorder:c=!0,withRadius:u=!0}=n,f=r.aspect||1,h=p.useMemo(()=>({paddingBottom:"".concat(100/f,"%")}),[f]),m=p.useMemo(()=>!l||!a?null:d.jsxs(Str,{children:[l&&d.jsx(J,{align:"center",size:1,weight:"medium",children:oa(l,"media")}),a&&d.jsx(J,{align:"center",muted:!0,size:1,children:oa(a,"media")})]}),[a,l]);return d.jsx(te,{padding:2,children:d.jsxs(wtr,{"data-testid":"media-preview",flex:1,overflow:"hidden",children:[d.jsx("div",{style:h}),d.jsx(zn,{content:m,disabled:!m,placement:"top",portal:!0,children:d.jsxs(_tr,{children:[o?d.jsx(Etr,{}):d.jsx(c2,{border:c,dimensions:r,layout:"media",media:e,radius:u?1:0,responsive:!0}),typeof s=="number"&&s>-1&&d.jsx(Ctr,{children:d.jsx(mtr,{value:s})})]})}),i]})})}var yIe=Object.freeze,Atr=Object.defineProperty,Koe=(n,e)=>yIe(Atr(n,"raw",{value:yIe(e||n.slice())})),bIe,xIe,wIe;const Itr=F(oe).attrs({align:"center"})(bIe||(bIe=Koe([`
  height: `,`;
  white-space: nowrap;
  position: relative;
  z-index: 1;
`])),Je(Ra.block.media.height)),Dtr=F(ke)(xIe||(xIe=Koe([`
  overflow: hidden;
  position: relative;
  padding-bottom: `,`%;

  & > span {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  }
`])),n=>{let{$ratio:e}=n;return e}),Rtr=F(te).attrs({overflow:"hidden"})(wIe||(wIe=Koe([`
  border-radius: `,`px;
`])),n=>{let{theme:e}=n;return e.sanity.radius[1]}),Otr={...Ra.blockImage.media,fit:"fillmax",dpr:zy()},Ptr=n=>{const{height:e,width:r}=n;return!e||!r?1:e/r*100};function jtr(n){const{actions:e,title:r,subtitle:i,description:o,fallbackTitle:s="Untitled",mediaDimensions:a=Otr,media:l,children:c,status:u}=n;return d.jsxs(Rtr,{children:[d.jsxs(Se,{children:[d.jsxs(Itr,{paddingBottom:3,paddingLeft:2,paddingRight:1,paddingTop:1,children:[d.jsxs(Se,{flex:1,space:2,children:[(r||s)&&d.jsx(J,{size:1,textOverflow:"ellipsis",weight:"medium",children:r?oa(r,"block"):s}),i&&d.jsx(J,{muted:!0,size:1,textOverflow:"ellipsis",children:oa(i,"block")})]}),d.jsxs(oe,{gap:1,paddingLeft:1,children:[u&&d.jsx(te,{paddingX:2,paddingY:3,children:oa(u,"block")}),e]})]}),d.jsx(Dtr,{$ratio:Ptr(a),__unstable_checkered:!0,display:"flex",sizing:"border",radius:2,tone:"inherit",children:d.jsx(c2,{border:!1,dimensions:a,layout:"blockImage",media:l,radius:0,responsive:!0})})]}),o&&d.jsx(te,{paddingX:2,paddingY:3,children:d.jsx(J,{muted:!0,size:1,children:oa(o,"block")})}),c&&d.jsx("div",{children:c})]})}var _Ie=Object.freeze,Ltr=Object.defineProperty,$tr=(n,e)=>_Ie(Ltr(n,"raw",{value:_Ie(e||n.slice())})),EIe;const Mtr={...Ra.block.media,aspect:1,fit:"crop",dpr:zy()},Ftr=F(oe).attrs({align:"center"})(EIe||(EIe=$tr([`
  min-height: `,`;
`])),Je(Ra.block.media.height));function Ntr(n){const{actions:e,title:r,subtitle:i,description:o,mediaDimensions:s=Mtr,media:a,status:l,children:c}=n;return d.jsxs(Se,{"data-testid":"block-preview",space:1,children:[d.jsxs(Ftr,{"data-testid":"block-preview__header",children:[a&&d.jsx(c2,{dimensions:s,layout:"block",media:a}),d.jsxs(te,{flex:1,paddingLeft:a?2:1,children:[d.jsx(J,{size:1,textOverflow:"ellipsis",weight:"medium",children:r?oa(r,"block"):"Untitled"}),i&&d.jsx(te,{marginTop:2,children:d.jsx(J,{muted:!0,size:1,textOverflow:"ellipsis",children:oa(i,"block")})}),o&&d.jsx(te,{marginTop:3,children:d.jsx(J,{muted:!0,size:1,textOverflow:"ellipsis",children:oa(o,"block")})})]}),d.jsxs(oe,{gap:1,paddingLeft:1,children:[l&&d.jsx(te,{paddingX:2,paddingY:3,children:oa(l,"block")}),e]})]}),c&&d.jsx("div",{"data-testid":"block-preview__children",children:c})]})}var CIe=Object.freeze,Btr=Object.defineProperty,Yoe=(n,e)=>CIe(Btr(n,"raw",{value:CIe(e||n.slice())})),SIe,kIe,TIe;const Utr=F.span(SIe||(SIe=Yoe([`
  display: inline-flex;
  align-items: center;
  vertical-align: top;
  height: calc(1em - 1px);
  max-width: 100%;
`]))),ztr=F.span(kIe||(kIe=Yoe([`
  position: relative;
  display: inline-block;
  width: calc(1em - 1px);
  height: calc(1em - 1px);
  min-width: calc(1em - 1px);

  & img {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: `,`;
  }

  & img + span {
    position: absolute;
    left: 0;
    top: 0;
    right: 0;
    bottom: 0;
    box-shadow: inset 0 0 0 1px var(--card-fg-color);
    opacity: 0.2;
    border-radius: `,`;
  }

  & svg {
    display: block;
    font-size: calc(14 / 16 * 1em);
    margin: 1px 0;

    &[data-sanity-icon] {
      font-size: calc(18 / 16 * 1em);
      margin: calc(1px + (2 / 18 * -1em)) 0;
    }
  }
`])),n=>{let{theme:e}=n;return Je(e.sanity.radius[1])},n=>{let{theme:e}=n;return Je(e.sanity.radius[1])}),Vtr=F(J).attrs({forwardedAs:"span"})(n=>{let{theme:e}=n;const r=e.sanity.fonts.text,i=r.sizes[1];return Ae(TIe||(TIe=Yoe([`
    font-size: calc(`,` / 16 * 1em);
    font-weight: `,`;
    box-sizing: border-box;
    display: inline-block;
    vertical-align: top;
    line-height: `,`;
    padding-left: 0.5em;
    padding-right: calc(0.5em - 2px);
    min-width: 0;

    & > span {
      display: block;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      overflow: clip;
    }
  `])),i.fontSize,r.weights.medium,i.lineHeight/i.fontSize)}),Htr={...Ra.inline.media,fit:"crop",aspect:1,dpr:zy()};function Wtr(n){const{title:e,fallbackTitle:r="Untitled",media:i,mediaDimensions:o=Htr}=n;return d.jsxs(Utr,{"data-testid":"inline-preview",children:[i&&d.jsxs(ztr,{"data-testid":"inline-preview-media",children:[qer(i,"inline",o),d.jsx("span",{})]}),d.jsx(Vtr,{"data-testid":"inline-preview-title",size:1,children:oa(e,"inline",r)})]})}var AIe=Object.freeze,Gtr=Object.defineProperty,bB=(n,e)=>AIe(Gtr(n,"raw",{value:AIe(e||n.slice())})),IIe,DIe,RIe,OIe;({...Ra.default.media,dpr:zy()});F(te)(IIe||(IIe=bB([`
  height: 100%;

  a {
    color: currentColor;
    text-decoration: none;
  }

  svg[data-sanity-icon] {
    margin: 0;
  }
`])));F(oe).attrs({align:"center"})(DIe||(DIe=bB([`
  height: `,`;
`])),Je(Ra.default.media.height));F(ro).attrs({animated:!0,radius:1})(RIe||(RIe=bB([`
  max-width: `,`;
  width: 80%;
`])),Je(160));F(ro).attrs({animated:!0,radius:1,size:1})(OIe||(OIe=bB([`
  max-width: `,`;
  width: 60%;
`])),Je(120));const qtr=["aria-hidden","disabled","href"],Ktr='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';function Ytr(n){return[...n.querySelectorAll(Ktr)].filter(e=>!e.hasAttribute("disabled")&&e.getAttribute("aria-hidden")!=="true")}function srt(n){const{direction:e="horizontal",initialFocus:r,loop:i=!0,navigation:o=["arrows"],pause:s=!1,rootElement:a}=n,[l,c]=p.useState(-1),[u,f]=p.useState([]),h=u.length,m=h-1,g=e==="horizontal"?"ArrowRight":"ArrowDown",v=e==="horizontal"?"ArrowLeft":"ArrowUp",y=p.useCallback(()=>{if(a){const _=Ytr(a);f(_)}},[a]),b=p.useCallback(_=>{c(_)},[]),x=p.useCallback(_=>{if(s)return;const w=()=>{_.preventDefault(),c(S=>{const T=(S+m)%h;return!i&&T===m?S:T})},C=()=>{_.preventDefault(),c(S=>{const T=(S+1)%h;return!i&&T===0?S:T})};_.key==="Tab"&&o.includes("tab")&&(_.shiftKey?w():C()),o.includes("arrows")&&(_.key===v&&w(),_.key===g&&C())},[s,v,o,g,m,h,i]);p.useEffect(()=>{y()},[y,r,e]),p.useEffect(()=>{const _=new MutationObserver(y);return a&&_.observe(a,{childList:!0,subtree:!0,attributeFilter:qtr}),()=>{_.disconnect()}},[u,y,a]),p.useEffect(()=>{var _;u.forEach((w,C)=>{C===l?(w.setAttribute("tabIndex","0"),w.setAttribute("aria-selected","true"),w.focus(),w.onfocus=()=>b(C),w.onblur=()=>b(-1)):(w.setAttribute("tabIndex","-1"),w.setAttribute("aria-selected","false"),w.onfocus=()=>b(C))}),l===-1&&u&&((_=u[r==="last"?m:0])==null||_.setAttribute("tabIndex","0"))},[u,l,b,r,m]),p.useEffect(()=>(a==null||a.addEventListener("keydown",x),()=>{a==null||a.removeEventListener("keydown",x)}),[x,a])}var PIe=Object.freeze,Ztr=Object.defineProperty,Xtr=(n,e)=>PIe(Ztr(n,"raw",{value:PIe(e||n.slice())})),jIe;const Qtr=F(ze)(jIe||(jIe=Xtr([`
  position: relative;
  // The children in button is rendered inside a span, we need to absolutely position it.
  & > span:nth-child(2) {
    position: absolute;
    top: 6px;
    right: 6px;
    padding: 0;
  }
`]))),Jtr=F.div({width:4,height:4,borderRadius:3,boxShadow:"0 0 0 1px var(--card-bg-color)"}),nR=p.forwardRef(function(e,r){const{disabled:i,icon:o,label:s,mode:a="bleed",text:l,tone:c,...u}=e,f=lD(),{t:h}=Sh(),m=c&&f.sanity.color.solid[c],g=p.useMemo(()=>({backgroundColor:m==null?void 0:m.enabled.bg}),[m]),v=!!i;return d.jsx(Qtr,{"data-ui":"StatusButton",...u,"aria-label":s||h("status-button.aria-label"),disabled:v,mode:a,ref:r,text:l,icon:o,children:c&&d.jsx(Jtr,{style:g})})}),Zoe=p.forwardRef(function(e,r){let{children:i,content:o,disabled:s,...a}=e;return d.jsx(zn,{...a,content:o,disabled:s||!o,ref:r,children:d.jsx("div",{children:i})})}),Xoe=p.forwardRef((n,e)=>{const{push:r}=da();return p.useImperativeHandle(e,()=>({push:r})),null});Xoe.displayName="ImperativeToast";const enr={navbar:200,navbarPopover:5e5,navbarDialog:500001,pane:100,paneHeader:[110,15e3],paneFooter:[120,2e4],paneResizer:[130,25e3],paneDialog:[140,5e3],popover:200,modal:200,movingItem:1e4,drawershade:1e6,drawer:1000001,fullscreen:12e5,toast:[100,11e3],portal:200,dropdown:200,navbarFixed:1010,fullscreenEdit:1050,popoverBackground:1060,tooltip:200,modalBackground:2e3,spinner:3e3},tnr=p.createContext(enr);function art(){return p.useContext(tnr)}function Vg(n){let{children:e,zOffset:r}=n;const o=art()[r];return d.jsx(zp,{zOffset:o,children:e})}const nnr=p.memo(function(e){const{transform:r}=e,i=Af(),o=p.useCallback(a=>{const l=a.patches,c=r(l);i.onChange(In.from(c))},[i,r]),s=p.useMemo(()=>({...i,onChange:o}),[i,o]);return d.jsx(Lie.Provider,{value:s,children:e.children})}),rnr=n=>{const e=p.useRef(null),{onSetFocus:r}=p.useContext(hw),[i,o]=p.useState(!1),s=p.useCallback(()=>{o(!0)},[]),a=p.useCallback(()=>{o(!1)},[]);lXe("change-".concat(ns(n.path)),()=>({element:e.current,path:n.path,isChanged:!0,hasFocus:!1,hasHover:i,hasRevertHover:n.hasHover}),B4);const l=p.useCallback(c=>{inr(c,r,n.path)},[r,n.path]);return d.jsx("div",{ref:e,onClick:l,onMouseLeave:a,onMouseEnter:s,children:n.children})};function inr(n,e,r){n.stopPropagation(),e(r)}function LIe(n){return Array.isArray(n)}const onr=["sanity.imageAsset","sanity.fileAsset"];function snr(n){return n.type==="document"&&onr.includes(n.name)}function pLr(n){return n.type==="document"&&!snr(n)}function anr(n,e,r){return p.useMemo(()=>$I(n,e,r),[n,r,e])}function lnr(n){const e=p.useContext(mY);p.useEffect(()=>e==null?void 0:e.subscribe(n),[n,e])}function cnr(n){let{onScroll:e,children:r}=n;return lnr(e),d.jsx(d.Fragment,{children:r})}function $Ie(n,e,r){const i=e.slice(e.indexOf("-")+1)||"[]",o=hh(i),s="".concat(n,"-").concat(ns(o));if(r.has(s))return r.get(s);let a;for(const[l,c]of r){if(!("path"in c)||!l.startsWith(n))continue;const u=Bvt(o,c.path),f=c.path[c.path.length-1],h=u===c.path.length-1&&fh(f);if(u!==0&&!(u!==c.path.length&&!h)&&(a=c,u===o.length))break}return a}function lrt(n){const e=getComputedStyle(n).overflow;return e.includes("auto")||e.includes("scroll")}function unr(n){return(n.scrollHeight!==n.offsetHeight||n.scrollWidth!==n.offsetWidth)&&lrt(n)}const MIe=(n,e)=>{const r={top:0,left:0,height:e.offsetHeight,width:e.offsetWidth},i={top:0,left:0,height:n.offsetHeight,width:n.offsetWidth};let o=!1,s=n;for(;s&&s!==e&&e.contains(s);)o&&(r.top+=s.offsetTop,r.left+=s.offsetLeft),lrt(s)&&(r.top=s.offsetTop,r.height=s.offsetHeight,r.left=s.offsetLeft,r.width=s.offsetWidth,o=!0),i.top+=s.offsetTop-s.scrollTop,i.left+=s.offsetLeft-s.scrollLeft,s=s.offsetParent;return{rect:i,bounds:r}};function dnr(n){return n[0]!=="changePanel"}const fnr=-15;function FIe(n){let r=n.element;for(;!unr(r);)if(r=r.parentElement,!r)return;r.scroll({top:r.scrollTop+n.rect.top-n.bounds.top+fnr,left:0,behavior:"smooth"})}function hnr(n,e){p.useEffect(()=>pY.observe(n,e),[n,e])}function NIe(n,e,r,i){const o=[],s=[];for(const u of n){if(!dnr(u)||!u[1].isChanged)continue;const[f,h]=u;if(f===e){o.push(u);continue}if(h.hasHover){o.push(u);continue}if(h.hasFocus){s.push(u);continue}}const a=o.length>0;return{connectors:(a?o:s).map(u=>{let[f]=u;const h=$Ie("field",f,r),m=$Ie("change",f,r);return!h||!m?null:{field:{id:f,...h},change:{id:f,...m}}}).filter(Ws).map(u=>{let{field:f,change:h}=u;return{hasHover:f.hasHover||h.hasHover,hasFocus:f.hasFocus,hasRevertHover:h.hasRevertHover,field:{...f,...MIe(f.element,i)},change:{...h,...MIe(h.element,i)}}}),isHoverConnector:a}}function pnr(n){const{rootElement:e,onSetFocus:r}=n,[i,o]=p.useState(null),s=lie(),a=p.useMemo(()=>new Map(s),[s]),[{connectors:l},c]=p.useState(()=>NIe(s,i,a,e)),u=p.useMemo(()=>lw(l,h=>0-h.field.path.length).slice(0,1),[l]),f=p.useCallback(()=>{c(NIe(s,i,a,e))},[a,s,i,e]);return hnr(e,f),d.jsx(cnr,{onScroll:f,children:d.jsx(IIn,{style:{zIndex:u[0]&&u[0].field.zIndex},children:u.map(h=>{let{field:m,change:g}=h;return g?d.jsx(mnr,{field:m,change:g,onSetFocus:r,setHovered:o},m.id):null})})})}function mnr(n){const{change:e,field:r,onSetFocus:i,setHovered:o}=n,s=p.useCallback(()=>{FIe(r),FIe(e),i(r.path)},[r,e,i]),a=p.useCallback(()=>o(r.id),[r,o]),l=p.useCallback(()=>o(null),[o]),c=p.useMemo(()=>({rect:{...r.rect,left:r.rect.left+3},bounds:r.bounds}),[r.bounds,r.rect]),u=p.useMemo(()=>({rect:{...e.rect,left:e.rect.left+1},bounds:e.bounds}),[e.bounds,e.rect]);return d.jsxs(d.Fragment,{children:[d.jsx("g",{onClick:s,onMouseEnter:a,onMouseLeave:l,children:d.jsx(kIn,{from:c,to:u})}),K5n]})}function gnr(n){let{children:e,className:r,isReviewChangesOpen:i,onOpenReviewChanges:o,onSetFocus:s,...a}=n;const[l,c]=p.useState(),u=p.useMemo(()=>({isReviewChangesOpen:i,onOpenReviewChanges:o,onSetFocus:s}),[i,o,s]);return d.jsx(hw.Provider,{value:u,children:d.jsx(Y5n,{children:d.jsxs(_N,{...a,ref:c,className:r,children:[e,l&&d.jsx(pnr,{rootElement:l,onSetFocus:s})]})})})}const vnr=gnr;function crt(n){const{fontSize:e=1,children:r="Beta",...i}=n;return d.jsx(_u,{...i,fontSize:e,radius:2,tone:"primary",children:r})}function BIe(n){const e=["projectId"in n&&"`projectId` not allowed in plugin configuration","dataset"in n&&"`dataset` not allowed in plugin configuration"].filter(o8);if(e.length)throw new Error(`Invalid plugin configuration:
`.concat(e.map(r=>"	".concat(r)).join(`
`)))}function rR(n){if(typeof n=="function"){const e=n;return r=>{const i=e(r);return BIe(i),i}}return BIe(n),()=>n}function ynr(n){const{children:e}=n,[r,i]=p.useState([]),o=p.useCallback(l=>{const c=Oi(l);i(u=>u.includes(c)?u:[c,...u])},[]),s=p.useCallback(l=>{const c=Oi(l);i(u=>u.includes(c)?u.filter(f=>f!==c):u)},[]),a=p.useMemo(()=>({hoveredStack:r,onMouseEnter:o,onMouseLeave:s}),[o,s,r]);return d.jsx(fQe.Provider,{value:a,children:e})}function urt(){const n=[];return{publish(e){for(const r of n)r(e)},subscribe(e){return n.push(e),()=>{const r=n.indexOf(e);r>-1&&n.splice(r,1)}}}}function bnr(){return d.jsxs(J,{size:1,children:["This is a example custom marker, please implement ",d.jsx("code",{children:"renderCustomMarkers"})," function."]})}const xnr={publish:()=>{},subscribe:()=>(console.warn("No patch channel provided to form-builder. If you need input based patch updates, please provide one"),()=>{})};function wnr(n){const{__internal_fieldActions:e=ri,__internal_patchChannel:r=xnr,autoFocus:i,changesOpen:o,children:s,collapsedFieldSets:a,collapsedPaths:l,file:c,filterField:u,focusPath:f,focused:h,groups:m,id:g,image:v,onChange:y,onFieldGroupSelect:b,onPathBlur:x,onPathFocus:_,onPathOpen:w,onSetFieldSetCollapsed:C,onSetPathCollapsed:S,presence:T,readOnly:A,renderAnnotation:I,renderBlock:D,renderField:R,renderInlineBlock:P,renderInput:O,renderItem:$,renderPreview:L,schemaType:M,unstable:N,validation:z}=n,B=p.useMemo(()=>({patchChannel:r,components:{ArrayFunctions:roe,CustomMarkers:(N==null?void 0:N.CustomMarkers)||bnr,Markers:(N==null?void 0:N.Markers)||lQe},field:{actions:e},file:{assetSources:c.assetSources,directUploads:(c==null?void 0:c.directUploads)!==!1},filterField:u||(()=>!0),image:{assetSources:v.assetSources,directUploads:(v==null?void 0:v.directUploads)!==!1},onChange:y}),[e,c.assetSources,c==null?void 0:c.directUploads,u,v.assetSources,v==null?void 0:v.directUploads,y,r,N==null?void 0:N.CustomMarkers,N==null?void 0:N.Markers]),H=p.useMemo(()=>({__internal:B,autoFocus:i,changesOpen:o,collapsedFieldSets:a,collapsedPaths:l,focusPath:f,focused:h,groups:m,id:g,readOnly:A,renderAnnotation:I,renderBlock:D,renderField:R,renderInlineBlock:P,renderInput:O,renderItem:$,renderPreview:L,schemaType:M}),[B,i,o,a,l,f,h,m,g,A,I,D,R,P,O,$,L,M]);return d.jsx(aQe.Provider,{value:H,children:d.jsx(qD,{onChange:y,onFieldGroupSelect:b,onPathBlur:x,onPathFocus:_,onPathOpen:w,onSetPathCollapsed:S,onSetFieldSetCollapsed:C,children:d.jsx(h3n,{id:g,children:d.jsx(xjn,{presence:T,children:d.jsx(kjn,{validation:z,children:d.jsx(ynr,{children:s})})})})})})}function _nr(n){const{__internal_fieldActions:e,__internal_patchChannel:r,autoFocus:i,changesOpen:o,children:s,collapsedFieldSets:a,collapsedPaths:l,focusPath:c,focused:u,groups:f,id:h,onChange:m,onPathBlur:g,onPathFocus:v,onPathOpen:y,onFieldGroupSelect:b,onSetPathCollapsed:x,onSetFieldSetCollapsed:_,presence:w,readOnly:C,schemaType:S,validation:T}=n,{file:A,image:I}=xi().form,D=Uet(),R=zet(),P=hoe(),O=Vet(),$=Het(),L=Wet(),M=Get(),N=p.useCallback(le=>d.jsx(D,{...le}),[D]),z=p.useCallback(le=>d.jsx(R,{...le}),[R]),B=p.useCallback(le=>d.jsx(O,{...le}),[O]),H=p.useCallback(le=>d.jsx(foe,{component:P,...le}),[P]),X=p.useCallback(le=>d.jsx($,{...le}),[$]),G=p.useCallback(le=>d.jsx(L,{...le}),[L]),ne=p.useCallback(le=>d.jsx(M,{...le}),[M]);return d.jsx(wnr,{__internal_fieldActions:e,__internal_patchChannel:r,autoFocus:i,changesOpen:o,collapsedFieldSets:a,collapsedPaths:l,file:A,focusPath:c,focused:u,groups:f,id:h,image:I,onChange:m,onPathBlur:g,onPathFocus:v,onPathOpen:y,onFieldGroupSelect:b,onSetPathCollapsed:x,onSetFieldSetCollapsed:_,presence:w,readOnly:C,renderAnnotation:ne,renderBlock:X,renderField:z,renderInlineBlock:G,renderInput:N,renderItem:B,renderPreview:H,schemaType:S,validation:T,children:s})}function drt(n){const{__internal_fieldActions:e,__internal_patchChannel:r,autoFocus:i,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,focusPath:l,focused:c,groups:u,id:f,members:h,onChange:m,onPathBlur:g,onPathFocus:v,onPathOpen:y,onFieldGroupSelect:b,onSetFieldSetCollapsed:x,onSetPathCollapsed:_,presence:w,readOnly:C,schemaType:S,validation:T,value:A}=n,I=p.useCallback(ge=>_([ge],!0),[_]),D=p.useCallback(ge=>_([ge],!1),[_]),R=p.useCallback(()=>g(ri),[g]),P=p.useCallback(()=>v(ri),[v]),O=p.useCallback(ge=>m(In.from(ge)),[m]),$=p.useRef(null),L=p.useCallback(ge=>b(ri,ge),[b]),M=p.useCallback(ge=>y([ge]),[y]),N=p.useCallback(()=>y([]),[y]),z=p.useCallback(ge=>x([ge],!0),[x]),B=p.useCallback(ge=>x([ge],!1),[x]),H=Uet(),X=zet(),G=hoe(),ne=Vet(),le=Het(),K=Wet(),Q=Get(),re=p.useCallback(ge=>d.jsx(H,{...ge}),[H]),se=p.useCallback(ge=>d.jsx(X,{...ge}),[X]),de=p.useCallback(ge=>d.jsx(ne,{...ge}),[ne]),fe=p.useCallback(ge=>d.jsx(foe,{component:G,...ge}),[G]),we=p.useCallback(ge=>d.jsx(le,{...ge}),[le]),ye=p.useCallback(ge=>d.jsx(K,{...ge}),[K]),ve=p.useCallback(ge=>d.jsx(Q,{...ge}),[Q]),_e={focusPath:l,elementProps:{ref:$,id:f,onBlur:R,onFocus:P,"aria-describedby":void 0},changed:h.some(ge=>ge.kind==="field"&&ge.field.changed),focused:c,groups:u,id:f,level:0,members:h,onChange:O,onFieldClose:N,onFieldCollapse:I,onFieldSetCollapse:z,onFieldExpand:D,onFieldSetExpand:B,onPathFocus:v,onFieldOpen:M,onFieldGroupSelect:L,path:ri,presence:ri,readOnly:C,renderAnnotation:ve,renderBlock:we,renderField:se,renderInlineBlock:ye,renderInput:re,renderItem:de,renderPreview:fe,schemaType:S,validation:ri,value:A};return d.jsx(_nr,{__internal_fieldActions:e,__internal_patchChannel:r,autoFocus:i,changesOpen:o,collapsedFieldSets:s,collapsedPaths:a,focusPath:l,focused:c,groups:u,id:f,onChange:m,onPathBlur:g,onPathFocus:v,onPathOpen:y,onFieldGroupSelect:b,onSetPathCollapsed:_,onSetFieldSetCollapsed:x,presence:w,validation:T,readOnly:C,schemaType:S,children:d.jsx(J6n,{value:A,children:d.jsx(S3n,{value:A,children:d.jsx(O$n,{actions:e,children:re(_e)})})})})}const Enr=cm((n,e,r)=>tB(n,e,r).pipe(gn(i=>{let{published:o,draft:s}=i;return ai(o.remoteSnapshot$,s.remoteSnapshot$)})),QD),UIe={isLoaded:!1,documentType:void 0};function Cnr(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"*";const r=Fc(),i=di(n),o=!!(e&&e!=="*"),s=p.useMemo(()=>({documentType:e,isLoaded:!0}),[e]),[a,l]=p.useState(o?s:UIe);return p.useEffect(()=>l(UIe),[i,e]),p.useEffect(()=>{if(o)return;const c=r.resolveTypeForDocument(i,e).subscribe(u=>l({documentType:u,isLoaded:!0}));return()=>c.unsubscribe()},[r,i,e,o]),o?s:a}function wa(n,e){return Qne.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,null,e)}const zIe={chunks:[],diff:null,hasMoreChunks:null,isLoading:!1,isPristine:null,lastNonDeletedRevId:null,onOlderRevision:!1,realRevChunk:null,revTime:null,selectionState:"inactive",sinceAttributes:null,sinceTime:null,timelineDisplayed:null,timelineReady:!1};function Snr(n){let{documentId:e,documentType:r,onError:i,rev:o,since:s}=n;const a=ytt(),l=p.useRef(null),c=p.useRef(zIe),u=Jr(Dr),f=p.useMemo(()=>a.getTimelineController({client:u,documentId:e,documentType:r}),[u,e,r,a]),h=p.useMemo(()=>new z4(f),[f]);return p.useEffect(()=>(f.setRange(s||null,o||null),h.next(f),f.handler=(g,v)=>{g?h.error(g):setTimeout(()=>{v.setRange(s||null,o||null),h.next(v)},0)},f.resume(),()=>f.suspend()),[o,s,f,h]),p.useEffect(()=>(l.current||(l.current=Enr(u,{draftId:"drafts.".concat(e),publishedId:e},r).subscribe(g=>{f.handleRemoteMutation(g)})),()=>{l.current&&(l.current.unsubscribe(),l.current=null)}),[u,f,e,r]),p.useMemo(()=>({findRangeForRev:g=>f.findRangeForNewRev(g),findRangeForSince:g=>f.findRangeForNewSince(g),loadMore:()=>{f.setLoadMore(!0),c.current.isLoading=!0},getSnapshot:()=>c.current,subscribe:g=>{const v=h.pipe(Si(y=>y.setLoadMore(!1)),Me(y=>{var b;const x=y.timeline.mapChunks(S=>S),_=x.filter(S=>!["delete","initial"].includes(S.type)),w=!y.timeline.reachedEarliestEntry,C=!["invalid","loading"].includes(y.selectionState);return{chunks:x,diff:y.sinceTime?y.currentObjectDiff():null,isLoading:!1,isPristine:C?x.length===0&&w===!1:null,hasMoreChunks:!y.timeline.reachedEarliestEntry,lastNonDeletedRevId:(b=_==null?void 0:_[0])==null?void 0:b.id,onOlderRevision:y.onOlderRevision(),realRevChunk:y.realRevChunk,revTime:y.revTime,selectionState:y.selectionState,sinceAttributes:y.sinceAttributes(),sinceTime:y.sinceTime,timelineDisplayed:y.displayed(),timelineReady:C}}),Ro(B4),vi(y=>(i==null||i(y),Ke(zIe))),Si(y=>{c.current=y}),Si(g)).subscribe();return()=>v.unsubscribe()}}),[f,i,h])}function knr(n){const{projectId:e,dataset:r,schema:i,currentUser:o,getClient:s,i18n:a}=n;return p.useMemo(()=>({projectId:e,dataset:r,schema:i,currentUser:o,getClient:s,i18n:a}),[e,r,i,o,s,a])}function Tnr(n){const{projectId:e,dataset:r,schema:i,currentUser:o,getClient:s,i18n:a}=n;return{projectId:e,dataset:r,schema:i,currentUser:o,getClient:s,i18n:a}}const hH="v2023-11-13";function frt(n){const{children:e}=n,{dataset:r,projectId:i}=pa(),o=Jr(Dr),[s,a]=p.useState(null),[l,c]=p.useState(!1),[u,f]=p.useState(!1),h=p.useCallback(async()=>{var y;const b=await o.withConfig({apiVersion:hH}).request({uri:"/projects/".concat(i,"/datasets?datasetProfile=comments&addonFor=").concat(r),tag:"sanity.studio"});return(y=b==null?void 0:b[0])==null?void 0:y.name},[r,o,i]),m=p.useCallback(y=>o.withConfig({apiVersion:hH,dataset:y,projectId:i,requestTagPrefix:"sanity.studio",useCdn:!1,withCredentials:!0}),[o,i]),g=p.useCallback(async()=>{c(!0);try{const y=await h();if(y){const b=m(y);return a(b),c(!1),b}}catch{}try{const y=await o.withConfig({apiVersion:hH}).request({uri:"/comments/".concat(r,"/setup"),method:"POST"}),b=y==null?void 0:y.datasetName;if(!b)return c(!1),null;const x=m(b);return a(x),x}catch(y){throw y}finally{c(!1)}},[r,h,m,o]);p.useEffect(()=>{h().then(y=>{if(!y)return;const b=m(y);a(b),f(!0)})},[h,m]);const v=p.useMemo(()=>({client:s,createAddonDataset:g,isCreatingDataset:l,ready:u}),[s,g,l,u]);return d.jsx(Xtt.Provider,{value:v,children:e})}function xB(){const n=p.useContext(Xtt);if(!n)throw new Error("useAddonDataset: missing context value");return n}_x.fonts.code.family,_x.fonts.text.family,iL.hex,hg.hex,aT[500].hex,hg.hex,iL.hex,oL[500].hex,oL[500].hex,oL[500].hex,KW[500].hex,aT[500].hex,YW[500].hex,jM[500].hex,aT[500].hex,aT[500].hex,YW[500].hex,jM[500].hex,KW[500].hex,iL.hex,hg.hex;function VIe(n){const{basePath:e,config:r,onSchemeChange:i,scheme:o,unstable_globalStyles:s,unstable_history:a,unstable_noAuthBoundary:l}=n;return d.jsxs(Eer,{basePath:e,config:r,onSchemeChange:i,scheme:o,unstable_history:a,unstable_noAuthBoundary:l,children:[s&&d.jsx(ner,{}),d.jsx(ZXn,{})]})}function Anr(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!n)throw new Error("Missing root element to mount application into");const i=typeof r=="boolean"?{reactStrictMode:r}:r,{reactStrictMode:o=!1,basePath:s}=i,a=QZe(n);return a.render(o?d.jsx(p.StrictMode,{children:d.jsx(VIe,{config:e,basePath:s,unstable_globalStyles:!0})}):d.jsx(VIe,{config:e,basePath:s,unstable_globalStyles:!0})),()=>a.unmount()}const HIe="connecting";function hrt(n,e){const r=Fc();return bs(()=>r.pair.documentEvents(n,e).pipe(Me(i=>i.type),Me(i=>i!=="reconnect"),gn(i=>i?Ke("connected"):Za(200).pipe(G4("reconnecting"))),ca(HIe),Ro()),[r.pair,n,e],HIe)}function prt(n,e){const r=Fc();return bs(()=>r.pair.operationEvents(n,e),[r.pair,n,e])}function wB(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";const i=Fc();return bs(()=>{if(r==="low"){const o=i.pair.editState(n,e).pipe(id());return ai(o.pipe(ul(1)),o.pipe(A8e(1),OQ(()=>Za(1e3))))}return i.pair.editState(n,e)},[i.pair,n,e,r])}const Inr={isSyncing:!0},WIe={isSyncing:!1};function mrt(n,e){const r=Fc();return bs(()=>r.pair.consistencyStatus(n,e).pipe(Me(i=>i?WIe:Inr)),[r.pair,e,n],WIe)}function Dnr(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return wy(n,{minimal:e.minimal,useTemporalPhrase:e.agoSuffix})}function Rnr(){return xi().tools}const GIe={data:[],error:null,loading:!0};let qIe=null;function grt(n){const{documentValue:e,permission:r}=n,i=WWn(),o=Soe(),s=Jr(Dr),[a,l]=p.useState(GIe),c=p.useMemo(()=>{const f=i.get().pipe(Me(y=>{var b;return(b=y.members)==null?void 0:b.filter(x=>!x.isRobot)})).pipe(gn(async y=>{const b=y.map(_=>{let{id:w}=_;return w});return await o.getUsers(b)}),Me(y=>y.map(b=>({displayName:b.displayName,id:b.id,granted:!1})))),h=qIe,m=h?Ke(h):s.observable.fetch('*[_type == "system.group"]');return Iyt([f,m]).pipe(On(async y=>{let[b,x]=y;h||(qIe=x);const _=b==null?void 0:b.map(async C=>{const T=[...x.map(I=>I.members.includes(C.id)?I.grants:[])].flat(),{granted:A}=await ftt(C.id,T,r,e);return{...C,granted:A}});return await Promise.all(_||[])})).pipe(Me(y=>({error:null,loading:!1,data:lw(y,"displayName")})))},[s.observable,e,i,o,r]);return p.useEffect(()=>{const u=Ke(GIe),h=Go(u,c).subscribe({next:l,error:m=>{l({data:[],error:m,loading:!1})}});return()=>{h.unsubscribe()}},[c]),a}const Onr={validation:[],isValidating:!1};function _B(n,e){const r=Fc();return bs(()=>r.pair.validation(n,e),[r.pair,n,e],Onr)}const KIe=new WeakMap;let Pnr=0;function YIe(n){const e=KIe.get(n);if(e)return e;const r="".concat(n.name||n.displayName||"<anonymous>","-").concat(Pnr++);return KIe.set(n,r),r}const jnr=n=>{const e=Date.now();return setTimeout(()=>{n({didTimeout:!1,timeRemaining(){return Math.max(0,Date.now()-e)}})},1)},Lnr=n=>clearTimeout(n),$nr=typeof requestIdleCallback>"u"?jnr:requestIdleCallback,Mnr=typeof cancelIdleCallback>"u"?Lnr:cancelIdleCallback,Fnr={trailing:!0};function vrt(n){const{hooks:e,args:r,children:i,group:o,onReset:s}=n,a=p.useRef({}),[l,c]=p.useState(0),[u,f]=p.useState({}),h=p.useRef(null),m=p.useCallback(()=>{h.current&&Mnr(h.current),h.current=$nr(()=>{h.current=null,c(_=>_+1)})},[]),g=anr(m,60,Fnr),v=p.useCallback((_,w)=>{const C=(w==null?void 0:w.group)||["default"];if(w===null||o&&!C.includes(o))delete a.current[_];else{const S=a.current[_];a.current[_]={...S,value:w}}},[o]),y=p.useCallback(_=>{f(w=>({...w,[_]:(w[_]||0)+1})),s&&s()},[s]),b=p.useMemo(()=>e.map(_=>YIe(_)),[e]),x=p.useMemo(()=>b.map(_=>{var w;return(w=a.current[_])==null?void 0:w.value}).filter(Ws),[b,l]);return d.jsxs(d.Fragment,{children:[e.map(_=>{const w=YIe(_),C=u[w]||0;return d.jsx(Oer,{hook:_,id:w,args:r,onNext:v,onRequestUpdate:g,onReset:y},"".concat(w,"-").concat(C))}),i({states:x})]})}function na(n,e){const{currentUser:r,document:i,parent:o,value:s}=e;return typeof n=="boolean"||n===void 0?!!n:n({document:i,parent:o,value:s,currentUser:r})===!0}function mp(n,e,r){var i;if(e.length===0)return{...n||{},value:r};const[o,...s]=e,a=ji(o)?o._key:String(o),l=(i=n==null?void 0:n.children)!=null?i:{};return{value:n==null?void 0:n.value,children:{...l,[a]:mp(l[a]||{},s,r)}}}const Qoe=20,Nnr=3,$0={name:"all-fields",title:"All fields",hidden:!1};function Joe(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if((n==null?void 0:n.collapsible)===!1||(n==null?void 0:n.collapsable)===!1)return{collapsible:!1,collapsed:!1};const r=typeof(n==null?void 0:n.collapsed)=="boolean"?n.collapsed:e>=Nnr?!0:void 0;return{collapsible:(n==null?void 0:n.collapsible)===!0||(n==null?void 0:n.collapsable)===!0||r===!0?!0:void 0,collapsed:r}}function Bnr(n,e){const r=vu(e);return r==="object"&&n.of.length===1?n.of[0]:n.of.find(i=>i.name===r)}function Unr(n,e){const r=vu(e);return n==null?void 0:n.of.find(i=>i.name===r||i.jsonType===r)}function yrt(n,e,r){return r.name===$0.name?!0:e===void 0?!1:n.length===0&&r.name===$0.name?!0:mD(e).includes(r.name)}function ZIe(n){return typeof n>"u"||$n(n)}function znr(n){return typeof n>"u"||Array.isArray(n)}function Vnr(n){return typeof n>"u"||Array.isArray(n)}function Hnr(n){return n.length===0||n.every(e=>$n(e))}function Wnr(n){const e=new Set;return n.reduce((r,i,o)=>(e.has(i._key)&&r.push([o,i._key]),e.add(i._key),r),[])}function Gnr(n){return"_key"in n}function qnr(n){return n==null?void 0:n.every(e=>$n(e)&&Gnr(e))}function aC(n,e){return Array.isArray(n)&&typeof e>"u"||Array.isArray(e)&&typeof n>"u"?!1:n&&!e?!0:!Br(n,e)}function XIe(n){var e,r,i,o,s,a,l,c,u,f,h,m,g,v,y,b,x,_;const{parent:w,field:C,index:S}=n,T=Fp([...w.path,C.name]),A=vFn(C.type,w.level+1),I=w.value,D=w.comparisonValue;if(!ZIe(I))throw new Error("Unexpected non-object value");const R=C.group?mD(C.group):[],P=yrt(w.groups,C.group,w.selectedGroup);if(vf(C.type)){const O=I==null?void 0:I[C.name],$=$n(D)?D==null?void 0:D[C.name]:void 0;if(!ZIe(O))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:vu(O),value:O}};const L={value:O,parent:w.value,document:w.document,currentUser:w.currentUser};if(na(C.type.hidden,L))return{kind:"hidden",key:"field-".concat(C.name),name:C.name,index:S};const N=w.readOnly||na(C.type.readOnly,L),z=(r=(e=w.fieldGroupState)==null?void 0:e.children)==null?void 0:r[C.name],B=(o=(i=w.collapsedPaths)==null?void 0:i.children)==null?void 0:o[C.name],H=(a=(s=w.collapsedFieldSets)==null?void 0:s.children)==null?void 0:a[C.name],X=ese({schemaType:C.type,currentUser:w.currentUser,parent:w.value,document:w.document,value:O,changed:aC(O,$),comparisonValue:$,presence:w.presence,validation:w.validation,fieldGroupState:z,path:T,level:A,focusPath:w.focusPath,openPath:w.openPath,collapsedPaths:B,collapsedFieldSets:H,readOnly:N,changesOpen:w.changesOpen});if(X===null)return null;const G=Joe(C.type.options,A),ne=B?B.value:G.collapsed;return{kind:"field",key:"field-".concat(C.name),name:C.name,index:S,inSelectedGroup:P,groups:R,open:Hl(T,w.openPath),field:X,collapsed:ne,collapsible:G.collapsible}}else if(cd(C.type)){const O=I==null?void 0:I[C.name],$=$n(D)?D==null?void 0:D[C.name]:void 0;if(yQ(C.type)){const L=typeof O<"u";if(L&&!znr(O)){const G=vu(O);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:G,value:O}}}if(L&&!Hnr(O))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MIXED_ARRAY",schemaType:C.type,value:O}};if(L&&!qnr(O))return{kind:"error",key:C.name,fieldName:C.name,error:{type:"MISSING_KEYS",value:O,schemaType:C.type}};const M=L?Wnr(O):[];if(M.length>0)return{kind:"error",key:C.name,fieldName:C.name,error:{type:"DUPLICATE_KEYS",duplicates:M,schemaType:C.type}};const N=(c=(l=w.fieldGroupState)==null?void 0:l.children)==null?void 0:c[C.name],z=(f=(u=w.collapsedPaths)==null?void 0:u.children)==null?void 0:f[C.name],B=(m=(h=w.collapsedFieldSets)==null?void 0:h.children)==null?void 0:m[C.name],H=w.readOnly||na(C.type.readOnly,{value:O,parent:w.value,document:w.document,currentUser:w.currentUser}),X=Ynr({schemaType:C.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:O,changed:aC(O,$),comparisonValue:$,fieldGroupState:N,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:z,collapsedFieldSets:B,level:A,path:T,readOnly:H});return X===null?null:{kind:"field",key:"field-".concat(C.name),name:C.name,index:S,open:Hl(T,w.openPath),inSelectedGroup:P,groups:R,collapsible:!1,collapsed:!1,field:X}}else{if(!Vnr(O)){const H=vu(O);return{kind:"error",key:C.name,fieldName:C.name,error:{type:"INCOMPATIBLE_TYPE",expectedSchemaType:C.type,resolvedValueType:H,value:O}}}const L=(v=(g=w.fieldGroupState)==null?void 0:g.children)==null?void 0:v[C.name],M=(b=(y=w.collapsedPaths)==null?void 0:y.children)==null?void 0:b[C.name],N=(_=(x=w.collapsedFieldSets)==null?void 0:x.children)==null?void 0:_[C.name],z=w.readOnly||na(C.type.readOnly,{value:O,parent:w.value,document:w.document,currentUser:w.currentUser}),B=Knr({changed:aC(O,$),comparisonValue:$,schemaType:C.type,parent:w.value,currentUser:w.currentUser,document:w.document,value:O,fieldGroupState:L,focusPath:w.focusPath,openPath:w.openPath,presence:w.presence,validation:w.validation,collapsedPaths:M,collapsedFieldSets:N,level:A,path:T,readOnly:z});return B===null?null:{kind:"field",key:"field-".concat(C.name),name:C.name,index:S,inSelectedGroup:P,groups:R,open:Hl(T,w.openPath),collapsible:!1,collapsed:!1,field:B}}}else{const O=I==null?void 0:I[C.name],$=$n(D)?D==null?void 0:D[C.name]:void 0,L={value:O,parent:w.value,document:w.document,currentUser:w.currentUser};if(na(C.type.hidden,L))return null;const N=w.readOnly||na(C.type.readOnly,L),z=brt({...w,comparisonValue:$,value:O,schemaType:C.type,path:T,readOnly:N});return{kind:"field",key:"field-".concat(C.name),name:C.name,index:S,open:Hl(T,w.openPath),inSelectedGroup:P,groups:R,collapsible:!1,collapsed:!1,field:z}}}function ese(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;var r;if(n.level===Qoe)return null;const i={value:n.value,parent:n.parent,document:n.document,currentUser:n.currentUser},o=n.readOnly||na(n.schemaType.readOnly,i),s=n.schemaType.groups||[],a=(r=s.find(w=>w.default)||$0)==null?void 0:r.name,l=[$0,...s].flatMap(w=>{var C;const S=na(w.hidden,i),T=w.name===(((C=n.fieldGroupState)==null?void 0:C.value)||a),A=n.changesOpen?w.name===$0.name:T,I=n.changesOpen?!A:!1;return S?[]:[{disabled:I,icon:w==null?void 0:w.icon,name:w.name,selected:A,title:w.title}]}),c=l.find(w=>w.selected),f=(n.schemaType.fieldsets?n.schemaType.fieldsets:n.schemaType.fields.map(w=>({single:!0,field:w}))).flatMap((w,C)=>{var S,T,A,I;if(w.single){const M=w.field,N=XIe({field:M,parent:{...n,readOnly:o,groups:l,selectedGroup:c},index:C});return N?[N]:[]}const D=w.fields.map(M=>M.name),R=na(w.hidden,{currentUser:n.currentUser,document:n.document,parent:n.value,value:lr(n.value,D)}),P=na(w.readOnly,{currentUser:n.currentUser,document:n.document,parent:n.value,value:lr(n.value,D)}),O=w.fields.flatMap(M=>{if(R)return[{kind:"hidden",key:"field-".concat(M.name),name:M.name,index:C}];const N=XIe({field:M,parent:{...n,readOnly:o||P,groups:l,selectedGroup:c},index:C});return N?[N]:[]}),$=Joe(w.options,n.level),L=(A=(T=(((S=n.collapsedFieldSets)==null?void 0:S.children)||{})[w.name])==null?void 0:T.value)!=null?A:$.collapsed;return[{kind:"fieldSet",key:"fieldset-".concat(w.name),_inSelectedGroup:yrt(l,w.group,c),groups:w.group?mD(w.group):[],fieldSet:{path:Fp(n.path.concat(w.name)),name:w.name,title:w.title,description:w.description,hidden:!1,level:n.level+1,members:O.filter(M=>M.kind!=="hidden"),collapsible:$==null?void 0:$.collapsible,collapsed:L,columns:(I=w==null?void 0:w.options)==null?void 0:I.columns}}]}),h=s.length>0,m=n.presence.filter(w=>Ui(w.path,n.path)),g=m.length?m:ri,v=n.validation.filter(w=>Ui(w.path,n.path)).map(w=>({level:w.level,message:w.message,path:w.path})),y=f.filter(w=>w.kind!=="hidden");if(y.length===0&&e)return null;const b=h?l.flatMap(w=>w.name===$0.name||y.some(S=>S.kind==="error"?!1:S.kind==="field"?S.groups.includes(w.name):S.groups.includes(w.name)||S.fieldSet.members.some(T=>T.kind!=="error"&&T.groups.includes(w.name)))?w:[]):[],x=y.flatMap(w=>{if(w.kind==="error")return[w];if(w.kind==="field")return w.inSelectedGroup?[w]:[];const C=w.fieldSet.members.filter(S=>S.kind!=="field"||S.inSelectedGroup);return C.length>0?[{...w,fieldSet:{...w.fieldSet,members:C}}]:[]}),_={value:n.value,changed:aC(n.value,n.comparisonValue),schemaType:n.schemaType,readOnly:o,path:n.path,id:ns(n.path),level:n.level,focused:Ui(n.path,n.focusPath),focusPath:_Q(n.path,n.focusPath),presence:g,validation:v,members:x,groups:b};return Object.defineProperty(_,"_allMembers",{value:f,enumerable:!1}),_}function Knr(n){if(n.level===Qoe)return null;const e={comparisonValue:n.comparisonValue,value:n.value,parent:n.parent,document:n.document,currentUser:n.currentUser};if(na(n.schemaType.hidden,e))return null;const i=n.readOnly||na(n.schemaType.readOnly,e),o=Array.isArray(n.value)?n.value:[],s=n.presence.filter(u=>Ui(u.path,n.path)),a=s.length?s:ri,l=n.validation.filter(u=>Ui(u.path,n.path)).map(u=>({level:u.level,message:u.message,path:u.path})),c=o.flatMap((u,f)=>Xnr({arrayItem:u,parent:n,index:f}));return{changed:n.changed||c.some(u=>u.kind==="item"&&u.item.changed),value:n.value,readOnly:i,schemaType:n.schemaType,focused:Ui(n.path,n.focusPath),focusPath:_Q(n.path,n.focusPath),path:n.path,id:ns(n.path),level:n.level,validation:l,presence:a,members:c}}function Ynr(n){if(n.level===Qoe)return null;const e={value:n.value,parent:n.parent,document:n.document,currentUser:n.currentUser};if(na(n.schemaType.hidden,e))return null;const i=n.readOnly||na(n.schemaType.readOnly,e),o=Array.isArray(n.value)?n.value:[],s=n.presence.filter(u=>Ui(u.path,n.path)),a=s.length?s:ri,l=n.validation.filter(u=>Ui(u.path,n.path)).map(u=>({level:u.level,message:u.message,path:u.path})),c=o.flatMap((u,f)=>Znr({arrayItem:u,parent:n,index:f}));return{changed:n.changed||c.some(u=>u.kind==="item"&&u.item.changed),value:n.value,readOnly:i,schemaType:n.schemaType,focused:Ui(n.path,n.focusPath),focusPath:_Q(n.path,n.focusPath),path:n.path,id:ns(n.path),level:n.level,validation:l,presence:a,members:c}}function Znr(n){var e,r,i,o,s,a,l;const{arrayItem:c,parent:u,index:f}=n,h=Bnr(u.schemaType,c),m=c._key;if(!h){const I=vu(c);return{kind:"error",key:m,index:f,error:{type:"INVALID_ITEM_TYPE",resolvedValueType:I,value:c,validTypes:u.schemaType.of}}}const g=Fp([...u.path,{_key:m}]),v=u.level+1,y={value:u.value,parent:n.parent,document:u.document,currentUser:u.currentUser},b=u.readOnly||na(u.schemaType.readOnly,y),x=(r=(e=u.fieldGroupState)==null?void 0:e.children)==null?void 0:r[m],_=(o=(i=u.collapsedPaths)==null?void 0:i.children)==null?void 0:o[m],w=(a=(s=u.collapsedFieldSets)==null?void 0:s.children)==null?void 0:a[m],C=Array.isArray(u.comparisonValue)&&u.comparisonValue.find(I=>I._key===c._key)||void 0,S=ese({schemaType:h,level:v,document:u.document,value:c,comparisonValue:C,changed:aC(c,C),path:g,focusPath:u.focusPath,openPath:u.openPath,currentUser:u.currentUser,collapsedPaths:_,collapsedFieldSets:w,presence:u.presence,validation:u.validation,fieldGroupState:x,readOnly:b},!1),T=Joe(h.options,v),A=(l=_==null?void 0:_.value)!=null?l:T.collapsed;return{kind:"item",key:m,index:f,open:Hl(g,u.openPath),collapsed:A,collapsible:!0,parentSchemaType:u.schemaType,item:S}}function Xnr(n){var e,r;const{arrayItem:i,parent:o,index:s}=n,a=Unr(o.schemaType,i),l=Fp([...o.path,s]),c=(e=o.value)==null?void 0:e[s],u=(r=o.comparisonValue)==null?void 0:r[s],f=o.level+1,h="".concat((a==null?void 0:a.name)||"invalid-type","-").concat(String(s));if(!a)return{kind:"error",key:h,index:s,error:{type:"INVALID_ITEM_TYPE",validTypes:o.schemaType.of,resolvedValueType:vu(a),value:c}};const m=o.readOnly||na(a.readOnly,{value:c,parent:o.value,document:o.document,currentUser:o.currentUser}),g=brt({...o,path:l,schemaType:a,level:f,value:c,comparisonValue:u,readOnly:m});return{kind:"item",key:h,index:s,parentSchemaType:o.schemaType,open:Ui(l,o.openPath),item:g}}function brt(n){const e=n.presence.filter(o=>Ui(o.path,n.path)),r=e.length?e:ri,i=n.validation.filter(o=>Ui(o.path,n.path)).map(o=>({level:o.level,message:o.message,path:o.path}));return{schemaType:n.schemaType,changed:aC(n.value,n.comparisonValue),value:n.value,level:n.level,id:ns(n.path),readOnly:n.readOnly,focused:Ui(n.path,n.focusPath),path:n.path,presence:r,validation:i}}function Qnr(n){return ese(n)}function xrt(n,e){let{comparisonValue:r,value:i,fieldGroupState:o,collapsedFieldSets:s,collapsedPaths:a,focusPath:l,openPath:c,presence:u,validation:f,readOnly:h,changesOpen:m}=e;const g=ao(),v=p.useRef(null);return p.useLayoutEffect(()=>{v.current=null},[n]),p.useMemo(()=>{const y=Qnr({schemaType:n,document:i,fieldGroupState:o,collapsedFieldSets:s,collapsedPaths:a,value:i,comparisonValue:r,focusPath:l,openPath:c,readOnly:h,path:Fp([]),level:0,currentUser:g,presence:u,validation:f,changesOpen:m}),b=Tie(v.current,y);return v.current=b,b},[n,i,o,s,a,r,l,c,h,g,u,f,m])}function Jnr(n){return vf(n.schemaType)}function err(n){return yQ(n.schemaType)}function wrt(n){return"_allMembers"in n&&Array.isArray(n._allMembers)}function trr(n,e){return[...e.map((r,i)=>({type:"expandPath",path:e.slice(0,i+1)})),..._rt(n,e)]}function _rt(n,e){return e.length===0?[]:Jnr(n)&&wrt(n)?Ert(n,e):err(n)?Crt(n,e):[]}function Ert(n,e){var r,i;if(e.length===0)return[];const[o,...s]=e,a=n._allMembers.find(v=>v.kind==="fieldSet"&&v.fieldSet.members.some(y=>y.kind==="field"&&y.name===o)),c=(a?a.fieldSet.members:n._allMembers).find(v=>v!==null&&v.kind==="field"&&v.name===o),u=n.schemaType.fields.find(v=>v.name===o),f=(r=n.groups.find(v=>v.selected))==null?void 0:r.name,h=(i=(n.schemaType.groups||[]).find(v=>v.default))==null?void 0:i.name,m=f&&(f===$0.name||u&&mD(u.group).includes(f)),g=[];return m||g.push({type:"setSelectedGroup",path:n.path,groupName:h||$0.name}),a&&g.push({type:"expandFieldSet",path:a.fieldSet.path}),c&&wrt(c.field)&&(zie(c)?g.push(...Crt(c.field,s)):zQe(c)&&g.push(...Ert(c.field,s))),g}function Crt(n,e){if(e.length===0)return[];const[r,...i]=e;if(!ji(r))throw new Error("Expected path segment to be an object with a _key property");const o=n.members.find(s=>s.key===r._key);return o?_rt(o.item,i):[]}const nrr=/^\d+$/;function rrr(n){return n.replace(/^['"]/,"").replace(/['"]$/,"")}function irr(n){const[e,r]=n.split("==");return{[e]:rrr(r)}}function orr(n){return nrr.test(n)?Number(n):n}function srr(n){return n.split(/[[.\]]/g).filter(Boolean).map(e=>e.includes("==")?irr(e):orr(e))}function i_(n){return srr(n)}function Srt(n){return n.map(crr)}function nZ(n,e){return Ji(e.map(r=>lrr(n,r)))}const arr=n=>e=>!n.includes(e);function lrr(n,e){return Ji(Object.keys(e).filter(arr(["id","ifRevisionID","query"])).map(r=>{if(r==="unset")return e.unset.map(i=>({type:"unset",path:i_(i),origin:n}));if(r==="insert"){const i="before"in e.insert?"before":"after";return{type:"insert",position:i,path:i_(e.insert[i]),items:e.insert.items,origin:n}}return Object.keys(e[r]).map(i=>r==="set"?{type:"set",path:i_(i),value:e[r][i],origin:n}:r==="inc"||r==="dec"?{type:r,path:i_(i),value:e[r][i],origin:n}:r==="setIfMissing"?{type:"setIfMissing",path:i_(i),value:e[r][i],origin:n}:r==="diffMatchPatch"?{type:r,path:i_(i),value:e[r][i],origin:n}:(console.warn(new Error("Unsupported patch type: ".concat(r))),null)).filter(Boolean)}))}function crr(n){if(n.patchType!==Nx&&n.type)throw new Error('Patch is missing "patchType" - import and use "'.concat(n.type,'()" from "sanity/form"'));if(n.patchType!==Nx)throw new Error('Patch is missing "patchType" - import and use the patch method helpers from "sanity/form"');const e=ZKe(n.path||[]);if(n.type==="insert"){const{position:r,items:i}=n;return{insert:{[r]:e,items:i}}}if(n.type==="unset")return{unset:[e]};if(!n.type)throw new Error("Missing patch type in patch ".concat(JSON.stringify(n)));return e?{[n.type]:{[e]:n.value}}:{[n.type]:n.value}}const urr="vision",drr={locale:"en-US",namespace:urr,resources:()=>Ay(()=>import("./resources-CCBWT7ph-ec508bd8.js"),[])},frr=rR(n=>{const{name:e,title:r,icon:i,...o}=n||{};return{name:"@sanity/vision",tools:[{name:e||"vision",title:r||"Vision",icon:i||vJ,component:p.lazy(()=>Ay(()=>import("./SanityVision-R1OQ_Aqq-39a5d9ca.js"),[])),options:o,router:Vl.create("/*")}],i18n:{bundles:[drr]}}});var hrr=tw,prr=MZe,mrr=k6,grr=prr(function(n,e,r,i){hrr(e,mrr(e),n,i)}),vrr=grr,yrr=Hg,brr=ud,xrr=Tte,wrr="[object DOMException]",_rr="[object Error]";function Err(n){if(!brr(n))return!1;var e=yrr(n);return e==_rr||e==wrr||typeof n.message=="string"&&typeof n.name=="string"&&!xrr(n)}var krt=Err,Crr=GHe,Srr=ow,krr=krt,Trr=Srr(function(n,e){try{return Crr(n,void 0,e)}catch(r){return krr(r)?r:new Error(r)}}),Arr=Trr,Irr=PI,Trt=Object.prototype,Drr=Trt.hasOwnProperty;function Rrr(n,e,r,i){return n===void 0||Irr(n,Trt[r])&&!Drr.call(i,r)?e:n}var Orr=Rrr,Prr={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function jrr(n){return"\\"+Prr[n]}var Lrr=jrr,$rr=/<%=([\s\S]+?)%>/g,Art=$rr,Mrr=EVe,Frr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Nrr=Mrr(Frr),Brr=Nrr,Urr=Brr,zrr=_f,Irt=/[&<>"']/g,Vrr=RegExp(Irt.source);function Hrr(n){return n=zrr(n),n&&Vrr.test(n)?n.replace(Irt,Urr):n}var Wrr=Hrr,Grr=/<%-([\s\S]+?)%>/g,qrr=Grr,Krr=/<%([\s\S]+?)%>/g,Yrr=Krr,Zrr=Wrr,Xrr=qrr,Qrr=Yrr,Jrr=Art,eir={escape:Xrr,evaluate:Qrr,interpolate:Jrr,variable:"",imports:{_:{escape:Zrr}}},tir=eir,QIe=vrr,nir=Arr,rir=LZe,JIe=Orr,iir=Lrr,oir=krt,sir=_6,air=Gg,lir=Art,eDe=tir,cir=_f,uir="Invalid `variable` option passed into `_.template`",dir=/\b__p \+= '';/g,fir=/\b(__p \+=) '' \+/g,hir=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pir=/[()=,{}\[\]\/\s]/,mir=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,QP=/($^)/,gir=/['\n\r\u2028\u2029\\]/g,vir=Object.prototype,tDe=vir.hasOwnProperty;function yir(n,e,r){var i=eDe.imports._.templateSettings||eDe;r&&sir(n,e,r)&&(e=void 0),n=cir(n),e=QIe({},e,i,JIe);var o=QIe({},e.imports,i.imports,JIe),s=air(o),a=rir(o,s),l,c,u=0,f=e.interpolate||QP,h="__p += '",m=RegExp((e.escape||QP).source+"|"+f.source+"|"+(f===lir?mir:QP).source+"|"+(e.evaluate||QP).source+"|$","g"),g=tDe.call(e,"sourceURL")?"//# sourceURL="+(e.sourceURL+"").replace(/\s/g," ")+`
`:"";n.replace(m,function(b,x,_,w,C,S){return _||(_=w),h+=n.slice(u,S).replace(gir,iir),x&&(l=!0,h+=`' +
__e(`+x+`) +
'`),C&&(c=!0,h+=`';
`+C+`;
__p += '`),_&&(h+=`' +
((__t = (`+_+`)) == null ? '' : __t) +
'`),u=S+b.length,b}),h+=`';
`;var v=tDe.call(e,"variable")&&e.variable;if(!v)h=`with (obj) {
`+h+`
}
`;else if(pir.test(v))throw new Error(uir);h=(c?h.replace(dir,""):h).replace(fir,"$1").replace(hir,"$1;"),h="function("+(v||"obj")+`) {
`+(v?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(l?", __e = _.escape":"")+(c?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+h+`return __p
}`;var y=nir(function(){return Function(s,g+"return "+h).apply(void 0,a)});if(y.source=h,oir(y))throw y;return y}var bir=yir;const nDe=Tt(bir);var EB={},xir=function(){var n=document.getSelection();if(!n.rangeCount)return function(){};for(var e=document.activeElement,r=[],i=0;i<n.rangeCount;i++)r.push(n.getRangeAt(i));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return n.removeAllRanges(),function(){n.type==="Caret"&&n.removeAllRanges(),n.rangeCount||r.forEach(function(o){n.addRange(o)}),e&&e.focus()}},wir=xir,rDe={"text/plain":"Text","text/html":"Url",default:"Text"},_ir="Copy to clipboard: #{key}, Enter";function Eir(n){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return n.replace(/#{\s*key\s*}/g,e)}function Cir(n,e){var r,i,o,s,a,l,c=!1;e||(e={}),r=e.debug||!1;try{o=wir(),s=document.createRange(),a=document.getSelection(),l=document.createElement("span"),l.textContent=n,l.ariaHidden="true",l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",function(f){if(f.stopPropagation(),e.format)if(f.preventDefault(),typeof f.clipboardData>"u"){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var h=rDe[e.format]||rDe.default;window.clipboardData.setData(h,n)}else f.clipboardData.clearData(),f.clipboardData.setData(e.format,n);e.onCopy&&(f.preventDefault(),e.onCopy(f.clipboardData))}),document.body.appendChild(l),s.selectNodeContents(l),a.addRange(s);var u=document.execCommand("copy");if(!u)throw new Error("copy command was unsuccessful");c=!0}catch(f){r&&console.error("unable to copy using execCommand: ",f),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",n),e.onCopy&&e.onCopy(window.clipboardData),c=!0}catch(h){r&&console.error("unable to copy using clipboardData: ",h),r&&console.error("falling back to prompt"),i=Eir("message"in e?e.message:_ir),window.prompt(i,n)}}finally{a&&(typeof a.removeRange=="function"?a.removeRange(s):a.removeAllRanges()),l&&document.body.removeChild(l),o()}return c}var Sir=Cir;function rZ(n){"@babel/helpers - typeof";return rZ=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rZ(n)}Object.defineProperty(EB,"__esModule",{value:!0});EB.CopyToClipboard=void 0;var JP=Drt(p),kir=Drt(Sir),Tir=["text","onCopy","options","children"];function Drt(n){return n&&n.__esModule?n:{default:n}}function iDe(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function oDe(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iDe(Object(r),!0).forEach(function(i){tse(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):iDe(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function Air(n,e){if(n==null)return{};var r=Iir(n,e),i,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)i=s[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(r[i]=n[i])}return r}function Iir(n,e){if(n==null)return{};var r={},i=Object.keys(n),o,s;for(s=0;s<i.length;s++)o=i[s],!(e.indexOf(o)>=0)&&(r[o]=n[o]);return r}function Dir(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function sDe(n,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function Rir(n,e,r){return e&&sDe(n.prototype,e),r&&sDe(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}function Oir(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&iZ(n,e)}function iZ(n,e){return iZ=Object.setPrototypeOf||function(i,o){return i.__proto__=o,i},iZ(n,e)}function Pir(n){var e=Lir();return function(){var i=XF(n),o;if(e){var s=XF(this).constructor;o=Reflect.construct(i,arguments,s)}else o=i.apply(this,arguments);return jir(this,o)}}function jir(n,e){if(e&&(rZ(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rrt(n)}function Rrt(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Lir(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function XF(n){return XF=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},XF(n)}function tse(n,e,r){return e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}var Ort=function(n){Oir(r,n);var e=Pir(r);function r(){var i;Dir(this,r);for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return i=e.call.apply(e,[this].concat(s)),tse(Rrt(i),"onClick",function(l){var c=i.props,u=c.text,f=c.onCopy,h=c.children,m=c.options,g=JP.default.Children.only(h),v=(0,kir.default)(u,m);f&&f(u,v),g&&g.props&&typeof g.props.onClick=="function"&&g.props.onClick(l)}),i}return Rir(r,[{key:"render",value:function(){var o=this.props;o.text,o.onCopy,o.options;var s=o.children,a=Air(o,Tir),l=JP.default.Children.only(s);return JP.default.cloneElement(l,oDe(oDe({},a),{},{onClick:this.onClick}))}}]),r}(JP.default.PureComponent);EB.CopyToClipboard=Ort;tse(Ort,"defaultProps",{onCopy:void 0,options:void 0});var $ir=EB,oZ=$ir.CopyToClipboard;oZ.CopyToClipboard=oZ;var Mir=oZ;const Fir=Tt(Mir);var Nir=Hg,Bir=ud,Uir="[object Number]";function zir(n){return typeof n=="number"||Bir(n)&&Nir(n)==Uir}var Vir=zir;const Hir=Tt(Vir);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var aDe=Object.getOwnPropertySymbols,Wir=Object.prototype.hasOwnProperty,Gir=Object.prototype.propertyIsEnumerable;function qir(n){if(n==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(n)}function Kir(){try{if(!Object.assign)return!1;var n=new String("abc");if(n[5]="de",Object.getOwnPropertyNames(n)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var i=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(i.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(s){o[s]=s}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Yir=Kir()?Object.assign:function(n,e){for(var r,i=qir(n),o,s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var a in r)Wir.call(r,a)&&(i[a]=r[a]);if(aDe){o=aDe(r);for(var l=0;l<o.length;l++)Gir.call(r,o[l])&&(i[o[l]]=r[o[l]])}}return i},ej=Yir,Zir={};function $f(n,e,r,i,o,s,a,l){if(!n){var c;if(e===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,i,o,s,a,l],f=0;c=new Error(e.replace(/%s/g,function(){return u[f++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var lDe="mixins";function Xir(n,e,r){var i=[],o={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},s={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},a={displayName:function(C,S){C.displayName=S},mixins:function(C,S){if(S)for(var T=0;T<S.length;T++)c(C,S[T])},childContextTypes:function(C,S){C.childContextTypes=ej({},C.childContextTypes,S)},contextTypes:function(C,S){C.contextTypes=ej({},C.contextTypes,S)},getDefaultProps:function(C,S){C.getDefaultProps?C.getDefaultProps=h(C.getDefaultProps,S):C.getDefaultProps=S},propTypes:function(C,S){C.propTypes=ej({},C.propTypes,S)},statics:function(C,S){u(C,S)},autobind:function(){}};function l(C,S){var T=o.hasOwnProperty(S)?o[S]:null;x.hasOwnProperty(S)&&$f(T==="OVERRIDE_BASE","ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",S),C&&$f(T==="DEFINE_MANY"||T==="DEFINE_MANY_MERGED","ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",S)}function c(C,S){if(S){$f(typeof S!="function","ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),$f(!e(S),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var T=C.prototype,A=T.__reactAutoBindPairs;S.hasOwnProperty(lDe)&&a.mixins(C,S.mixins);for(var I in S)if(S.hasOwnProperty(I)&&I!==lDe){var D=S[I],R=T.hasOwnProperty(I);if(l(R,I),a.hasOwnProperty(I))a[I](C,D);else{var P=o.hasOwnProperty(I),O=typeof D=="function",$=O&&!P&&!R&&S.autobind!==!1;if($)A.push(I,D),T[I]=D;else if(R){var L=o[I];$f(P&&(L==="DEFINE_MANY_MERGED"||L==="DEFINE_MANY"),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",L,I),L==="DEFINE_MANY_MERGED"?T[I]=h(T[I],D):L==="DEFINE_MANY"&&(T[I]=m(T[I],D))}else T[I]=D}}}}function u(C,S){if(S)for(var T in S){var A=S[T];if(S.hasOwnProperty(T)){var I=T in a;$f(!I,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',T);var D=T in C;if(D){var R=s.hasOwnProperty(T)?s[T]:null;$f(R==="DEFINE_MANY_MERGED","ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",T),C[T]=h(C[T],A);return}C[T]=A}}}function f(C,S){$f(C&&S&&typeof C=="object"&&typeof S=="object","mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var T in S)S.hasOwnProperty(T)&&($f(C[T]===void 0,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",T),C[T]=S[T]);return C}function h(C,S){return function(){var A=C.apply(this,arguments),I=S.apply(this,arguments);if(A==null)return I;if(I==null)return A;var D={};return f(D,A),f(D,I),D}}function m(C,S){return function(){C.apply(this,arguments),S.apply(this,arguments)}}function g(C,S){var T=S.bind(C);return T}function v(C){for(var S=C.__reactAutoBindPairs,T=0;T<S.length;T+=2){var A=S[T],I=S[T+1];C[A]=g(C,I)}}var y={componentDidMount:function(){this.__isMounted=!0}},b={componentWillUnmount:function(){this.__isMounted=!1}},x={replaceState:function(C,S){this.updater.enqueueReplaceState(this,C,S)},isMounted:function(){return!!this.__isMounted}},_=function(){};ej(_.prototype,n.prototype,x);function w(C){var S=function(A,I,D){this.__reactAutoBindPairs.length&&v(this),this.props=A,this.context=I,this.refs=Zir,this.updater=D||r,this.state=null;var R=this.getInitialState?this.getInitialState():null;$f(typeof R=="object"&&!Array.isArray(R),"%s.getInitialState(): must return an object or null",S.displayName||"ReactCompositeComponent"),this.state=R};S.prototype=new _,S.prototype.constructor=S,S.prototype.__reactAutoBindPairs=[],i.forEach(c.bind(null,S)),c(S,y),c(S,C),c(S,b),S.getDefaultProps&&(S.defaultProps=S.getDefaultProps()),$f(S.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var T in o)S.prototype[T]||(S.prototype[T]=null);return S}return w}var Qir=Xir,QF=p,Jir=Qir;if(typeof QF>"u")throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var eor=new QF.Component().updater,CB=Jir(QF.Component,QF.isValidElement,eor),tor=Date.now||nor;function nor(){return new Date().getTime()}var cDe=tor,ror=function(e,r,i){var o,s,a,l,c;r==null&&(r=100);function u(){var f=cDe()-l;f<r&&f>0?o=setTimeout(u,r-f):(o=null,i||(c=e.apply(a,s),o||(a=s=null)))}return function(){a=this,s=arguments,l=cDe();var h=i&&!o;return o||(o=setTimeout(u,r)),h&&(c=e.apply(a,s),a=s=null),c}},ior=oor;function oor(n){for(var e=sor(n),r=1732584193,i=-271733879,o=-1732584194,s=271733878,a=0;a<e.length;a+=16){var l=r,c=i,u=o,f=s;r=Dl(r,i,o,s,e[a+0],7,-680876936),s=Dl(s,r,i,o,e[a+1],12,-389564586),o=Dl(o,s,r,i,e[a+2],17,606105819),i=Dl(i,o,s,r,e[a+3],22,-1044525330),r=Dl(r,i,o,s,e[a+4],7,-176418897),s=Dl(s,r,i,o,e[a+5],12,1200080426),o=Dl(o,s,r,i,e[a+6],17,-1473231341),i=Dl(i,o,s,r,e[a+7],22,-45705983),r=Dl(r,i,o,s,e[a+8],7,1770035416),s=Dl(s,r,i,o,e[a+9],12,-1958414417),o=Dl(o,s,r,i,e[a+10],17,-42063),i=Dl(i,o,s,r,e[a+11],22,-1990404162),r=Dl(r,i,o,s,e[a+12],7,1804603682),s=Dl(s,r,i,o,e[a+13],12,-40341101),o=Dl(o,s,r,i,e[a+14],17,-1502002290),i=Dl(i,o,s,r,e[a+15],22,1236535329),r=Rl(r,i,o,s,e[a+1],5,-165796510),s=Rl(s,r,i,o,e[a+6],9,-1069501632),o=Rl(o,s,r,i,e[a+11],14,643717713),i=Rl(i,o,s,r,e[a+0],20,-373897302),r=Rl(r,i,o,s,e[a+5],5,-701558691),s=Rl(s,r,i,o,e[a+10],9,38016083),o=Rl(o,s,r,i,e[a+15],14,-660478335),i=Rl(i,o,s,r,e[a+4],20,-405537848),r=Rl(r,i,o,s,e[a+9],5,568446438),s=Rl(s,r,i,o,e[a+14],9,-1019803690),o=Rl(o,s,r,i,e[a+3],14,-187363961),i=Rl(i,o,s,r,e[a+8],20,1163531501),r=Rl(r,i,o,s,e[a+13],5,-1444681467),s=Rl(s,r,i,o,e[a+2],9,-51403784),o=Rl(o,s,r,i,e[a+7],14,1735328473),i=Rl(i,o,s,r,e[a+12],20,-1926607734),r=Ol(r,i,o,s,e[a+5],4,-378558),s=Ol(s,r,i,o,e[a+8],11,-2022574463),o=Ol(o,s,r,i,e[a+11],16,1839030562),i=Ol(i,o,s,r,e[a+14],23,-35309556),r=Ol(r,i,o,s,e[a+1],4,-1530992060),s=Ol(s,r,i,o,e[a+4],11,1272893353),o=Ol(o,s,r,i,e[a+7],16,-155497632),i=Ol(i,o,s,r,e[a+10],23,-1094730640),r=Ol(r,i,o,s,e[a+13],4,681279174),s=Ol(s,r,i,o,e[a+0],11,-358537222),o=Ol(o,s,r,i,e[a+3],16,-722521979),i=Ol(i,o,s,r,e[a+6],23,76029189),r=Ol(r,i,o,s,e[a+9],4,-640364487),s=Ol(s,r,i,o,e[a+12],11,-421815835),o=Ol(o,s,r,i,e[a+15],16,530742520),i=Ol(i,o,s,r,e[a+2],23,-995338651),r=Pl(r,i,o,s,e[a+0],6,-198630844),s=Pl(s,r,i,o,e[a+7],10,1126891415),o=Pl(o,s,r,i,e[a+14],15,-1416354905),i=Pl(i,o,s,r,e[a+5],21,-57434055),r=Pl(r,i,o,s,e[a+12],6,1700485571),s=Pl(s,r,i,o,e[a+3],10,-1894986606),o=Pl(o,s,r,i,e[a+10],15,-1051523),i=Pl(i,o,s,r,e[a+1],21,-2054922799),r=Pl(r,i,o,s,e[a+8],6,1873313359),s=Pl(s,r,i,o,e[a+15],10,-30611744),o=Pl(o,s,r,i,e[a+6],15,-1560198380),i=Pl(i,o,s,r,e[a+13],21,1309151649),r=Pl(r,i,o,s,e[a+4],6,-145523070),s=Pl(s,r,i,o,e[a+11],10,-1120210379),o=Pl(o,s,r,i,e[a+2],15,718787259),i=Pl(i,o,s,r,e[a+9],21,-343485551),r=M0(r,l),i=M0(i,c),o=M0(o,u),s=M0(s,f)}return tj(r)+tj(i)+tj(o)+tj(s)}var uDe="0123456789abcdef";function nse(n,e){var r=n&1|e&1,i=n>>>1|e>>>1;return i<<1|r}function sZ(n,e){var r=n&1^e&1,i=n>>>1^e>>>1;return i<<1|r}function JF(n,e){var r=n&1&(e&1),i=n>>>1&e>>>1;return i<<1|r}function M0(n,e){var r=(n&65535)+(e&65535),i=(n>>16)+(e>>16)+(r>>16);return i<<16|r&65535}function tj(n){var e="",r;for(r=0;r<=3;r++)e+=uDe.charAt(n>>r*8+4&15)+uDe.charAt(n>>r*8&15);return e}function sor(n){var e=(n.length+8>>6)+1,r=new Array(e*16),i;for(i=0;i<e*16;i++)r[i]=0;for(i=0;i<n.length;i++)r[i>>2]|=n.charCodeAt(i)<<(n.length*8+i)%4*8;r[i>>2]|=128<<(n.length*8+i)%4*8;var o=n.length*8;return r[e*16-2]=o&255,r[e*16-2]|=(o>>>8&255)<<8,r[e*16-2]|=(o>>>16&255)<<16,r[e*16-2]|=(o>>>24&255)<<24,r}function aor(n,e){return n<<e|n>>>32-e}function SB(n,e,r,i,o,s){return M0(aor(M0(M0(e,n),M0(i,s)),o),r)}function Dl(n,e,r,i,o,s,a){return SB(nse(JF(e,r),JF(~e,i)),n,e,o,s,a)}function Rl(n,e,r,i,o,s,a){return SB(nse(JF(e,i),JF(r,~i)),n,e,o,s,a)}function Ol(n,e,r,i,o,s,a){return SB(sZ(sZ(e,r),i),n,e,o,s,a)}function Pl(n,e,r,i,o,s,a){return SB(sZ(r,nse(e,~i)),n,e,o,s,a)}var lor=Math.ceil(Math.random()*10),cor=function(){return++lor},rse=function(n){return Object.prototype.toString.call(n).slice(8,-1)},uor=rse;function dor(n){var e=uor(n);return e!=="Object"&&e!=="Array"}var Prt=dor,hor=p,por=CB,nj=hor.createElement,mor=por({getDefaultProps:function(){return{string:"",highlight:""}},shouldComponentUpdate:function(n){return n.highlight!==this.props.highlight},render:function(){var n=this.props,e=n.string.search(n.highlight);if(!n.highlight||e===-1)return nj("span",null,n.string);var r=n.highlight.source.length,i=n.string.substr(e,r);return nj("span",null,n.string.split(n.highlight).map(function(o,s){return nj("span",{key:s},s>0?nj("span",{className:"json-inspector__hl"},i):null,o)}))}}),gor=p,vor=CB,yor=ior,bor=cor,jrt=rse,s$=Prt,xor=mor,Rd=gor.createElement,wor=".root.",Lrt=vor({getInitialState:function(){return{expanded:this._isInitiallyExpanded(this.props)}},getDefaultProps:function(){return{root:!1,prefix:""}},render:function(){var n="id_"+bor(),e=this.props,r={path:this.keypath(),key:e.label.toString(),value:e.data},i=this._onClick.bind(this,r);return Rd("div",{className:this.getClassName(),id:"leaf-"+this._rootPath()},Rd("input",{className:"json-inspector__radio",type:"radio",name:e.id,id:n,tabIndex:-1}),Rd("label",{className:"json-inspector__line",htmlFor:n,onClick:i},Rd("div",{className:"json-inspector__flatpath"},r.path),Rd("span",{className:"json-inspector__key"},this.format(r.key),":",this.renderInteractiveLabel(r.key,!0)),this.renderTitle(),this.renderShowOriginalButton()),this.renderChildren())},renderTitle:function(){var n=this.data(),e=jrt(n);switch(e){case"Array":var r=n.length;return Rd("span",{className:"json-inspector__value json-inspector__value_helper"},(r>0?"[…] ":"[] ")+_or(r));case"Object":var i=Object.keys(n).length;return Rd("span",{className:"json-inspector__value json-inspector__value_helper"},(i>0?"{…} ":"{} ")+Eor(i));default:return Rd("span",{className:"json-inspector__value json-inspector__value_"+e.toLowerCase()},this.format(String(n)),this.renderInteractiveLabel(n,!1))}},renderChildren:function(){var n=this.props,e=this._rootPath(),r=this.data();return this.state.expanded&&!s$(r)?Object.keys(r).map(function(i){var o=r[i],s=!this.state.original||(n.verboseShowOriginal?n.query:!1);return Rd(Lrt,{data:o,label:i,prefix:e,onClick:n.onClick,id:n.id,query:n.query,getOriginal:s?n.getOriginal:null,key:Cor(i,o),isExpanded:n.isExpanded,interactiveLabel:n.interactiveLabel,verboseShowOriginal:n.verboseShowOriginal})},this):null},renderShowOriginalButton:function(){var n=this.props;return s$(n.data)||this.state.original||!n.getOriginal||!n.query||pH(this.keypath(),n.query)?null:Rd("span",{className:"json-inspector__show-original",onClick:this._onShowOriginalClick})},renderInteractiveLabel:function(n,e){return typeof this.props.interactiveLabel=="function"?Rd(this.props.interactiveLabel,{value:String(n),originalValue:n,isKey:e,keypath:this.keypath()}):null},componentWillReceiveProps:function(n){n.query&&this.setState({expanded:!pH(n.label,n.query)}),this.props.query&&!n.query&&this.setState({expanded:this._isInitiallyExpanded(n)})},_rootPath:function(){return this.props.prefix+"."+this.props.label},keypath:function(){return this._rootPath().substr(wor.length)},data:function(){return this.state.original||this.props.data},format:function(n){return Rd(xor,{string:n,highlight:this.props.query})},getClassName:function(){var n="json-inspector__leaf";return this.props.root&&(n+=" json-inspector__leaf_root"),this.state.expanded&&(n+=" json-inspector__leaf_expanded"),s$(this.props.data)||(n+=" json-inspector__leaf_composite"),n},toggle:function(){this.setState({expanded:!this.state.expanded})},_onClick:function(n,e){this.toggle(),this.props.onClick(n),e.stopPropagation()},_onShowOriginalClick:function(n){this.setState({original:this.props.getOriginal(this.keypath())}),n.stopPropagation()},_isInitiallyExpanded:function(n){var e=this.keypath();return n.root?!0:n.query?!pH(e,n.query)&&typeof n.getOriginal=="function":n.isExpanded(e,n.data)}});function _or(n){return n+(n===1?" item":" items")}function Eor(n){return n+(n===1?" property":" properties")}function Cor(n,e){if(s$(e)){var r=yor(String(e));return n+":"+r}else return n+"["+jrt(e)+"]"}function pH(n,e){return n.indexOf(e)!==-1}var Sor=Lrt,$rt=function(){},kor=p,Tor=CB,Aor=kor.createElement,Ior=$rt,Dor=Tor({getDefaultProps:function(){return{onChange:Ior}},render:function(){return Aor("input",{className:"json-inspector__search",type:"search",placeholder:"Search",onChange:this.onChange})},onChange:function(n){this.props.onChange(n.target.value)}}),Mrt=function(n){return Object.keys(n).length===0},Ror=Object.keys,Oor=Prt,Por=Mrt,jor=function(n,e){e||(e={cacheResults:!0});var r={};return function(i){if(!e.cacheResults)return a$(n,i,e);var o;if(!r[i]){for(var s=i.length-1;s>0;s-=1)if(o=i.substr(0,s),r[o]){r[i]=a$(r[o],i,e);break}}return r[i]||(r[i]=a$(n,i,e)),r[i]}};function a$(n,e,r){return Ror(n).reduce(function(i,o){var s=n[o],a;return Oor(s)?(mH(e,o,r)||mH(e,s,r))&&(i[o]=s):mH(e,o,r)?i[o]=s:(a=a$(s,e,r),Por(a)||Object.assign(i,Lor(o,a))),i},{})}function mH(n,e,r){if(e){var i=String(e),o=n;return r.ignoreCase&&(i=i.toLowerCase(),o=o.toLowerCase()),i.indexOf(o)!==-1}}function Lor(n,e){var r={};return r[n]=e,r}var $or=rse,gH=".";function aZ(n,e){var r=e.split(gH),i=r.shift();if(!i)return n;var o=$or(n);if(o==="Array"&&n[dDe(i)])return aZ(n[dDe(i)],r.join(gH));if(o==="Object"&&n[i])return aZ(n[i],r.join(gH))}function dDe(n){return parseInt(n,10)}var Mor=aZ,For=p,Nor=CB,Bor=ror,Nk=For.createElement,Uor=Sor,zor=Dor,Vor=jor,Hor=Mrt,Wor=Mor,Gor=$rt,qor=Nor({getDefaultProps:function(){return{data:null,search:zor,searchOptions:{debounceTime:0},className:"",id:"json-"+Date.now(),onClick:Gor,filterOptions:{cacheResults:!0,ignoreCase:!1},validateQuery:function(n){return n.length>=2},isExpanded:function(n,e){return!1},verboseShowOriginal:!1}},getInitialState:function(){return{query:this.props.query||""}},render:function(){var n=this.props,e=this.state,r=e.query!==""&&n.validateQuery(e.query),i=r?e.filterer(e.query):n.data,o=r&&Hor(i);return Nk("div",{className:"json-inspector "+n.className},this.renderToolbar(),o?Nk("div",{className:"json-inspector__not-found"},"Nothing found"):Nk(Uor,{data:i,onClick:n.onClick,id:n.id,getOriginal:this.getOriginal,query:r?new RegExp(e.query,n.filterOptions.ignoreCase?"i":""):null,label:"root",root:!0,isExpanded:n.isExpanded,interactiveLabel:n.interactiveLabel,verboseShowOriginal:n.verboseShowOriginal}))},renderToolbar:function(){var n=this.props.search;if(n)return Nk("div",{className:"json-inspector__toolbar"},Nk(n,{onChange:Bor(this.search,this.props.searchOptions.debounceTime),data:this.props.data,query:this.state.query}))},search:function(n){this.setState({query:n})},componentWillMount:function(){this.createFilterer(this.props.data,this.props.filterOptions)},componentWillReceiveProps:function(n){this.createFilterer(n.data,n.filterOptions);var e=typeof n.query=="string"&&n.query!==this.state.query;e&&this.setState({query:n.query})},shouldComponentUpdate:function(n,e){return n.query!==this.props.query||e.query!==this.state.query||n.data!==this.props.data||n.onClick!==this.props.onClick},createFilterer:function(n,e){this.setState({filterer:Vor(n,e)})},getOriginal:function(n){return Wor(this.props.data,n)}});const Kor=Tt(qor);var Yor=function(n){if(!n)throw Error("hashlru must have a max value, of type number, greater than 0");var e=0,r=Object.create(null),i=Object.create(null);function o(s,a){r[s]=a,e++,e>=n&&(e=0,i=r,r=Object.create(null))}return{has:function(s){return r[s]!==void 0||i[s]!==void 0},remove:function(s){r[s]!==void 0&&(r[s]=void 0),i[s]!==void 0&&(i[s]=void 0)},get:function(s){var a=r[s];if(a!==void 0)return a;if((a=i[s])!==void 0)return o(s,a),a},set:function(s,a){r[s]!==void 0?r[s]=a:o(s,a)},clear:function(){r=Object.create(null),i=Object.create(null)}}};const Zor=Tt(Yor);var Xor=iWe,Qor=mte,Jor=Qor(function(n,e,r){return e=e.toLowerCase(),n+(r?Xor(e):e)}),esr=Jor;const fDe=Tt(esr);var tsr=mte,nsr=tsr(function(n,e,r){return n+(r?"-":"")+e.toLowerCase()}),rsr=nsr;const isr=Tt(rsr),Zo="comments",osr={locale:"en-US",namespace:Zo,resources:()=>Ay(()=>import("./resources-C_zJRKZ5-66267cea.js"),[])},ssr=320,asr=600,lZ=320,lsr=540,csr={},cZ="inspect:",usr=[{id:"inspectors"},{id:"links"}],uZ="sanity/structure/history",dsr="sanity/structure/validation",VA="sanity/structure/comments",hDe=d.jsx(J,{muted:!0,children:d.jsx(Ch,{})}),vH=(n,e)=>d.jsx(te,{as:"li",children:d.jsx(J,{textOverflow:"ellipsis",size:1,weight:"medium",children:n})},"".concat(n,"-").concat(e));function fsr(n){const{titlePath:e,maxLength:r}=n,i=p.useMemo(()=>{const s=e.length,a=Math.ceil(r/2),l=Math.floor(r/2);return r&&s>r?[...e.slice(0,a-1),e.slice(a-1,s-l),...e.slice(s-l)]:e},[r,e]),o=p.useMemo(()=>i.map((s,a)=>{const l="".concat(s,"-").concat(a),c=a<i.length-1;return Array.isArray(s)?d.jsxs(p.Fragment,{children:[d.jsx(zn,{content:d.jsx(Se,{space:2,padding:2,children:s.map(vH)}),children:d.jsx(te,{children:vH("...",a)})}),c&&hDe]},l):d.jsxs(p.Fragment,{children:[vH(s,a),c&&hDe]},l)}),[i]);return d.jsx(oe,{align:"center",as:"ol",gap:2,children:o})}function hsr(n){return{thread:{title:n("delete-thread.title"),body:n("delete-thread.body"),confirmButtonText:n("delete-thread.confirm")},comment:{title:n("delete-comment.title"),body:n("delete-comment.body"),confirmButtonText:n("delete-comment.confirm")}}}function psr(n){const{isParent:e,onClose:r,commentId:i,onConfirm:o,loading:s,error:a}=n,{t:l}=me(Zo),c=hsr(l),{title:u,body:f,confirmButtonText:h}=c[e?"thread":"comment"],m=p.useCallback(()=>{o(i)},[i,o]);return d.jsx(ja,{footer:{cancelButton:{onClick:r},confirmButton:{loading:s,onClick:m,text:h,tone:"critical"}},header:u,id:"delete-comment-dialog",onClose:r,width:0,children:d.jsxs(Se,{space:4,children:[d.jsx(J,{size:1,children:f}),a&&d.jsx(mo,{tone:"critical",children:l("delete-dialog.error")})]})})}const msr=p.forwardRef(function(e,r){return d.jsxs("svg",{"data-sanity-icon":"comment-disabled",width:"1em",height:"1em",ref:r,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[d.jsx("path",{d:"M5.92627 14.5381H7.92627V18.5381L11.9263 14.5381H15.9263C17.0308 14.5381 17.9263 13.6427 17.9263 12.5381V6.53809C17.9263 5.43352 17.0308 4.53809 15.9263 4.53809H5.92627C4.8217 4.53809 3.92627 5.43352 3.92627 6.53809V12.5381C3.92627 13.6427 4.8217 14.5381 5.92627 14.5381Z",stroke:"currentColor",strokeWidth:"1.2",strokeLinejoin:"round"}),d.jsx("path",{d:"M2.77256 2.66835C2.54413 2.51319 2.23317 2.57259 2.07802 2.80103L1.40378 3.7937C1.32927 3.9034 1.30139 4.0382 1.32627 4.16845C1.35115 4.29871 1.42676 4.41374 1.53646 4.48825L19.5861 16.7479C19.8146 16.903 20.1255 16.8436 20.2807 16.6152L20.9549 15.6225C21.0294 15.5128 21.0573 15.378 21.0324 15.2478C21.0076 15.1175 20.9319 15.0025 20.8222 14.928L2.77256 2.66835Z",fill:"currentColor",strokeLinejoin:"round"})]})}),gsr=p.forwardRef(function(e,r){return d.jsx("svg",{"data-sanity-icon":"comment",width:"1em",height:"1em",ref:r,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:d.jsx("path",{d:"M7.5 15.5H9.5V19.5L13.5 15.5H17.5C18.6046 15.5 19.5 14.6046 19.5 13.5V7.5C19.5 6.39543 18.6046 5.5 17.5 5.5H7.5C6.39543 5.5 5.5 6.39543 5.5 7.5V13.5C5.5 14.6046 6.39543 15.5 7.5 15.5Z",stroke:"currentColor",strokeLinejoin:"round",strokeWidth:"1.2"})})}),vsr=p.forwardRef(function(e,r){return d.jsxs("svg",{"data-sanity-icon":"mention",fill:"none",height:"1em",ref:r,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:[d.jsx("path",{d:"M16.6633 18.9383C15.539 19.6562 14.2034 20.0723 12.7705 20.0723C8.77022 20.0723 5.52734 16.8294 5.52734 12.8291C5.52734 8.82881 8.77022 5.58594 12.7705 5.58594C16.7708 5.58594 20.0137 8.82881 20.0137 12.8291C20.0137 13.6623 19.8249 14.7093 19.6141 15.2077C19.5578 15.3408 19.479 15.4845 19.3936 15.6238C19.0955 16.1106 18.5507 16.3721 17.9807 16.4018V16.4018C16.8271 16.462 15.8588 15.5428 15.8588 14.3877V9.27302",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"}),d.jsx("circle",{cx:"12.5732",cy:"12.8291",r:"3.08691",stroke:"currentColor",strokeWidth:1.2})]})}),Frt=p.forwardRef(function(e,r){return d.jsxs("svg",{"data-sanity-icon":"add-reaction",fill:"none",height:"1em",ref:r,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:[d.jsx("path",{d:"M10.1044 10.4011L10.1044 10.9972",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square"}),d.jsx("path",{d:"M14.2393 10.4011L14.2393 10.9972",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square"}),d.jsx("path",{d:"M7.12128 14.1151C7.70803 15.0226 9.66113 16.8377 11.7735 16.8377C13.8859 16.8377 15.6713 15.0226 16.4257 14.1151",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"square"}),d.jsx("path",{d:"M16.703 6.43905C15.3486 5.36511 13.6357 4.72374 11.773 4.72374C7.38731 4.72374 3.83203 8.27902 3.83203 12.6647C3.83203 17.0503 7.38731 20.6056 11.773 20.6056C16.0995 20.6056 19.618 17.1455 19.712 12.8415",stroke:"currentColor",strokeWidth:1.2}),d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.1135 9.03425L19.1135 11.4903L20.3135 11.4903L20.3135 9.03425L22.7693 9.03425L22.7693 7.83425L20.3135 7.83425L20.3135 5.37941L19.1135 5.37941L19.1135 7.83425L16.6584 7.83425L16.6584 9.03425L19.1135 9.03425Z",fill:"currentColor"})]})}),ysr=p.forwardRef(function(e,r){return d.jsx("svg",{"data-sanity-icon":"send",fill:"none",height:"1em",ref:r,viewBox:"0 0 25 25",width:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:d.jsx("path",{clipRule:"evenodd",d:"M21.1602 12.5L7.16016 19.5V14.8765L13.6656 12.4989L7.16016 9.97149L7.16016 5.5L21.1602 12.5Z",stroke:"currentColor",strokeWidth:1.2,strokeLinejoin:"round"})})}),Nrt=p.createContext(null);function bsr(n){const{children:e}=n,[r,i]=p.useState(null),o=p.useCallback(a=>{i(a)},[]),s=p.useMemo(()=>({authoringPath:r,setAuthoringPath:o}),[r,o]);return d.jsx(Nrt.Provider,{value:s,children:e})}const Brt=p.createContext(null);function Urt(n,e){var r;const i=hh(e),o=i[0];if(o&&vf(n)){const s=(r=n==null?void 0:n.fields)==null?void 0:r.find(a=>a.name===o);if(s){const a=ns(i.slice(1));return a?Urt(s.type,a):s}}}function xsr(n,e){if(typeof e=="number")return e;const r=$ne(n,e);return r===-1?!1:r}function wsr(n){const{currentUser:e,schemaType:r,fieldPath:i,documentValue:o}=n,s=hh(i),a=[];let l=null;return s.forEach((c,u)=>{var f,h,m,g,v;const y=s.slice(0,u+1),b=s.slice(0,u),x=Urt(r,ns(y)),_=c.hasOwnProperty("_key"),w=lf(o,b),C=lf(o,y),S={document:o,currentUser:e,parent:w,value:C};if(_&&Array.isArray(w)){const T=xsr(w,c),A=typeof T=="number";a.push({invalid:T===!1,isArrayItem:!0,title:A?"#".concat(Number(T)+1):"Unknown array item"});return}if(x!=null&&x.type){const T=na(x.type.hidden,S);a.push({invalid:T,isArrayItem:!1,title:nx(x.type)}),l=x.type;return}if(cd(l)){const T=lf(o,b),A=T==null?void 0:T._type,I=(f=l==null?void 0:l.of)==null?void 0:f.find(L=>L.name===A),D=(h=I==null?void 0:I.fields)==null?void 0:h.find(L=>L.name===c);if(!A&&C){const L=(m=l==null?void 0:l.of)==null?void 0:m.map(z=>z==null?void 0:z.fields).filter(Boolean).flat(),M=L==null?void 0:L.find(z=>(z==null?void 0:z.name)===c),N=na((g=M==null?void 0:M.type)==null?void 0:g.hidden,S);M&&(a.push({invalid:N,isArrayItem:!1,title:nx(M==null?void 0:M.type)}),l=M==null?void 0:M.type);return}if(!D){a.push({invalid:!0,isArrayItem:!1,title:"Unknown field"});return}const R=nx(D==null?void 0:D.type),P=na((v=I==null?void 0:I.type)==null?void 0:v.hidden,S),O=na(D==null?void 0:D.type.hidden,S),$=P||O;a.push({invalid:$,isArrayItem:!1,title:R}),l=D==null?void 0:D.type;return}a.push({invalid:!0,isArrayItem:!1,title:"Unknown field"})}),a}function zrt(n){const e=p.useRef(n);return p.useMemo(()=>!Br(e.current,n),[n])}function _w(n){return n?n==null?void 0:n.some(e=>{var r;return ka(e)&&((r=(e==null?void 0:e.children)||[])==null?void 0:r.some(i=>Yl(i)?i.text:i.userId))}):!1}function _sr(n,e){var r,i;const o=(r=n==null?void 0:n.context)==null?void 0:r.intent,s=(i=e==null?void 0:e.context)==null?void 0:i.intent;if(s&&(!o||"preview"in s.params&&"preview"in o.params&&s.params.preview!==o.params.preview))return s}function u2(n){var e,r,i,o,s,a;return n?!!(((i=(r=(e=n==null?void 0:n.target)==null?void 0:e.path)==null?void 0:r.selection)==null?void 0:i.type)==="text"&&((a=(s=(o=n==null?void 0:n.target)==null?void 0:o.path)==null?void 0:s.selection)!=null&&a.value)):!1}const pDe=[];function Esr(n){const{comments:e,currentUser:r,documentValue:i,schemaType:o,type:s}=n,a=e==null?void 0:e.filter(l=>!l.parentCommentId);return s==="task"?a.map(c=>{const u=e==null?void 0:e.filter(g=>g.parentCommentId===c._id),f=[c,...u].length,h=!1;return{commentsCount:f,parentComment:c,replies:u,threadId:c.threadId,hasReferencedValue:h,breadcrumbs:pDe,fieldPath:""}}):s==="field"?a.map(c=>{var u,f,h;const m=wsr({currentUser:r,documentValue:i,fieldPath:((u=c.target.path)==null?void 0:u.field)||"",schemaType:o});let g=!1;if(u2(c)&&(g=!!((f=c.target.path)!=null&&f.selection&&c.target.path.selection.value.some(w=>w.text))),m.some(w=>w.invalid))return;const y=e==null?void 0:e.filter(w=>w.parentCommentId===c._id),b=[c,...y].length,x=g;return{breadcrumbs:m,commentsCount:b,fieldPath:((h=c.target.path)==null?void 0:h.field)||"",parentComment:c,replies:y,threadId:c.threadId,hasReferencedValue:x}}).filter(Boolean):pDe}const Vrt=15;function mDe(n,e){const r=NS(n,e),i=rN(r),o=ksr(i);return{patches:Yne(n,i,{margin:Vrt}),levenshtein:o}}function Csr(n,e){return Zne(e,n,{allowExceedingIndices:!0,margin:Vrt})[0]}const dZ="";function Ssr(n){return n.children.map(e=>Yl(e)?e.text.replaceAll(dZ," "):"").join(dZ)}const g0=["",""],gDe=new RegExp("[".concat(g0.join(""),"]"),"g"),vDe=[];function Hrt(n){const{value:e,comments:r}=n;if(!e||e.length===0)return vDe;const i=r.filter(u2),o=[];return i.forEach(s=>{var a,l;(l=(a=s.target.path)==null?void 0:a.selection)==null||l.value.forEach(c=>{const u=e.find(T=>T._key===c._key);if(!u||!ka(u))return;const f=c.text.replaceAll(gDe,""),h=Ssr(u),{patches:m}=mDe(f,c.text),g=Csr(h,m),v=g.indexOf(g0[0]),y=g.replaceAll(g0[0],"").indexOf(g0[1]),b=g.replaceAll(gDe,""),x=c.text.substring(c.text.indexOf(g0[0])+1,c.text.indexOf(g0[1])),_=b.substring(v,y),{levenshtein:w}=mDe(_,x),C=Math.round(_.length+x.length/2);let S=!1;if(_.length===0&&(S=!0),w>C&&(S=!0),v+1===y&&(S=!0),v!==-1&&y!==-1){let T=0,A=0,I=0,D=0;for(let R=0;R<b.length&&(b[R]===dZ&&(R<=v&&(A=-1,T++),D=-1,I++),R<v&&A++,R<v+_.length&&D++,R!==v+_.length);R++);o.push({selection:{anchor:{path:[{_key:u._key},"children",{_key:u.children[T]._key}],offset:A},focus:{path:[{_key:u._key},"children",{_key:u.children[I]._key}],offset:D}},comment:s,range:{_key:u._key,text:S?"":g}})}})}),o.length===0?vDe:o}function ksr(n){let e=0,r=0,i=0;for(let o=0;o<n.length;o++){const s=n[o][0],a=n[o][1];switch(s){case po:r+=a.length;break;case zi:i+=a.length;break;case ar:e+=Math.max(r,i),r=0,i=0;break}}return e+=Math.max(r,i),e}const Tsr=p.memo(function(e){const{children:r,commentId:i,currentHoveredCommentId:o,onClick:s,onHoverEnd:a,onHoverStart:l,selectedThreadId:c,threadId:u}=e,f=p.useRef(null),h=p.useRef(!1),m=p.useRef(null);p.useEffect(()=>{var _,w;const C=(_=f.current)==null?void 0:_.previousSibling,S=(w=f.current)==null?void 0:w.nextSibling;if(!C||!S){h.current=!1;return}const[T]=Object.keys(eRe("")),A=C.getAttribute(T),I=S.getAttribute(T),R=!!(A&&I&&A===I);m.current=R?A:null,h.current=R},[]);const g=p.useCallback(()=>l(i),[i,l]),v=p.useCallback(()=>a(null),[a]),y=p.useCallback(()=>s(i),[i,s]),b=o===i||o===m.current&&h.current,x=c===u;return d.jsx(_it,{isAdded:!0,isHovered:b||x,isNested:h.current,onClick:y,onMouseEnter:g,onMouseLeave:v,ref:f,...eRe(u),children:r})});function Asr(n){const{comments:e,currentHoveredCommentId:r,onDecorationClick:i,onDecorationHoverEnd:o,onDecorationHoverStart:s,onDecorationMoved:a,selectedThreadId:l,value:c}=n;return Hrt({comments:e,value:c}).map(h=>{let{selection:m,comment:g,range:v}=h;return{component:b=>{let{children:x}=b;return d.jsx(Tsr,{commentId:g._id,currentHoveredCommentId:r,onClick:i,onHoverEnd:o,onHoverStart:s,selectedThreadId:l,threadId:g.threadId,children:x})},onMoved:a,selection:m,payload:{commentId:g._id,range:v}}})}function Isr(n){const{fragment:e,value:r,selection:i}=n;if(!i)throw new Error("Selection is required");const o=i.backward?{backward:!1,anchor:i.focus,focus:i.anchor}:i;return{type:"text",value:e.map(a=>{const l=r.find(b=>b._key===a._key);if(!ka(l))return{_key:a._key,text:""};const c=ji(o.anchor.path[0])&&o.anchor.path[0]._key,u=ji(o.focus.path[0])&&o.focus.path[0]._key,f=iXe([a]),h=ka(a)?a.children[0]:void 0,m=ka(a)?a.children[a.children.length-1]:void 0;let g="",v=-1;if(c===l._key)for(const b of l.children){if(v++,b._key===(h==null?void 0:h._key)){g+=Yl(b)&&b.text.substring(0,o.anchor.offset)||"";break}g+=b.text}let y="";if(u===l._key)for(const b of l.children.slice(v).reverse()){if(b._key===(m==null?void 0:m._key)){y=(Yl(b)&&b.text.substring(o.focus.offset,b.text.length)||"")+y;break}y=b.text+y}return{_key:l._key,text:"".concat(g).concat(g0[0]).concat(f).concat(g0[1]).concat(y)}})}}function Dsr(n,e){const r={};for(const o of n)r[o._key]={...o};for(const o of e)r[o._key]={...r[o._key],...o};return Object.values(r)}function Rsr(n){return n.reduce((r,i)=>({...r,[i._id]:i}),{})}function Osr(n,e){var r;switch(e.type){case"COMMENTS_SET":{const i=Rsr(e.comments);return{...n,comments:i}}case"COMMENT_ADDED":{const i=e.payload,o=i,s={[i._id]:{...n.comments[i._id],...o,_state:i._state||void 0,_createdAt:i._createdAt||new Date().toISOString()}};return{...n,comments:{...n.comments,...s}}}case"COMMENT_RECEIVED":{const i=e.payload;return{...n,comments:{...n.comments,[i._id]:i}}}case"COMMENT_DELETED":{const{[e.id]:i,...o}=n.comments;return Object.keys(o).forEach(s=>{o[s].parentCommentId===e.id&&delete o[s]}),{...n,comments:o}}case"COMMENT_UPDATED":{const i=e.payload,o=i._id,s=n.comments[o],a=((r=s==null?void 0:s.reactions)==null?void 0:r.filter(f=>f==null?void 0:f._optimisticState))||[],l=i.reactions||[],c=Dsr(a,l),u={...s,...i,reactions:c};return{...n,comments:{...n.comments,[o]:u}}}default:return n}}const Psr={comments:{}},jsr={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"},Lsr="_createdAt",$sr="desc",Msr=['_type == "comment"',"target.document._ref == $documentId"],Fsr=`{
  _createdAt,
  _id,
  authorId,
  contentSnapshot,
  context,
  lastEditedAt,
  message,
  parentCommentId,
  reactions,
  status,
  target,
  threadId
}`,Nsr="order(".concat(Lsr," ").concat($sr,")"),yDe="*[".concat(Msr.join(" && "),"] ").concat(Fsr," | ").concat(Nsr);function Bsr(n){const{client:e,documentId:r,onLatestTransactionIdReceived:i,transactionsIdMap:o}=n,[s,a]=p.useReducer(Osr,Psr),[l,c]=p.useState(e!==null),[u,f]=p.useState(null),h=p.useRef(!1),m=p.useMemo(()=>({documentId:di(r)}),[r]),g=p.useCallback(async()=>{if(!e){c(!1);return}try{const x=await e.fetch(yDe,m);a({type:"COMMENTS_SET",comments:x}),c(!1)}catch(x){f(x)}},[e,m]),v=p.useCallback(async x=>{var _;if(x.type==="welcome"&&!h.current&&(c(!0),await g(),c(!1),h.current=!0),x.type==="reconnect"&&(c(!0),h.current=!1),x.type==="mutation"){if(x.transition==="appear"){const w=x.result;w&&a({type:"COMMENT_RECEIVED",payload:w})}if(x.transition==="disappear"&&a({type:"COMMENT_DELETED",id:x.documentId}),x.transition==="update"){const w=x.result,C=((_=x.result)==null?void 0:_._id)||"",S=x.transactionId,T=o.get(C),A=S===T;if(!A&&T)return;w&&(a({type:"COMMENT_UPDATED",payload:w}),A&&i(C))}}},[g,i,o]),y=p.useMemo(()=>e?e.observable.listen(yDe,m,jsr).pipe(vi(_=>(f(_),Ke(_)))):Ke(),[e,m]);return p.useEffect(()=>{const x=y.subscribe(v);return()=>{x==null||x.unsubscribe()}},[v,y]),{data:p.useMemo(()=>Object.values(s.comments),[s.comments]),dispatch:a,error:u,loading:l}}const fZ=[],Usr={open:fZ,resolved:fZ},Wrt=p.memo(function(e){const{children:r,documentId:i,documentType:o,isCommentsOpen:s,onCommentsOpen:a,sortOrder:l,type:c}=e,u=h2(),[f,h]=p.useState("open"),{client:m,createAddonDataset:g,isCreatingDataset:v}=xB(),y=di(i),b=wB(y,o,"low"),x=Ar().get(o),_=ao(),{name:w,dataset:C,projectId:S}=pa(),T=p.useMemo(()=>new Map,[]),A=p.useCallback(Q=>{T.delete(Q)},[T]),{dispatch:I,data:D=fZ,error:R,loading:P}=Bsr({documentId:y,client:m,transactionsIdMap:T,onLatestTransactionIdReceived:A}),O=p.useCallback((Q,re)=>{T.set(Q,re)},[T]),$=p.useMemo(()=>b.draft||b.published,[b.draft,b.published]),L=p.useMemo(()=>$==null?void 0:$._rev,[$]),M=p.useCallback(Q=>u.mode==="upsell"&&Q==="resolved"?null:h(Q),[h,u]),N=grt(p.useMemo(()=>({documentValue:$,permission:"read"}),[$])),z=p.useMemo(()=>{if(!x||!_)return Usr;const Q=BS(D,["_createdAt"],[l]),re=Esr({comments:Q,currentUser:_,documentValue:$,schemaType:x,type:c});return{open:re.filter(se=>se.parentComment.status==="open"),resolved:re.filter(se=>se.parentComment.status==="resolved")}},[_,D,$,x,l,c]),B=p.useCallback(Q=>z.open.filter(re=>re.threadId===Q).length,[z.open]),H=p.useCallback(Q=>D==null?void 0:D.find(re=>re._id===Q),[D]),X=p.useCallback(Q=>{var re,se;const de=((se=(re=D==null?void 0:D.find(fe=>fe._id===Q._id))==null?void 0:re._state)==null?void 0:se.type)==="createError";I({type:"COMMENT_ADDED",payload:{...Q,_state:de?{type:"createRetrying"}:void 0}})},[D,I]),G=p.useCallback((Q,re)=>{I({type:"COMMENT_UPDATED",payload:{_id:Q,...re}})},[I]),ne=p.useCallback((Q,re)=>{I({type:"COMMENT_UPDATED",payload:{_id:Q,_state:{error:re,type:"createError"}}})},[I]),{operation:le}=ylr(p.useMemo(()=>({client:m,currentUser:_,dataset:C,documentId:y,documentRevisionId:L,documentType:o,getComment:H,getThreadLength:B,projectId:S,schemaType:x,workspace:w,createAddonDataset:g,onCreate:X,onCreateError:ne,onUpdate:G,onTransactionStart:O}),[m,_,C,L,o,H,g,B,X,ne,O,G,S,y,x,w])),K=p.useMemo(()=>({isCreatingDataset:v,status:f,setStatus:M,getComment:H,isCommentsOpen:s,onCommentsOpen:a,comments:{data:z,error:R,loading:P||v},operation:{create:le.create,react:le.react,remove:le.remove,update:le.update},mentionOptions:N}),[R,H,s,v,P,N,a,le.create,le.react,le.remove,le.update,f,M,z]);return d.jsx(Brt.Provider,{value:K,children:r})}),Grt=p.createContext(null),qrt=p.memo(function(e){const{children:r,documentId:i,documentType:o}=e,s=Alr(i,o);return d.jsx(Grt.Provider,{value:s,children:r})}),Krt=p.createContext(void 0);p.memo(function(e){const{children:r,getIntent:i}=e;return d.jsx(Krt.Provider,{value:i,children:r})});const Yrt=p.createContext(null),zsr=1,Zrt="sanityStudio:comments:inspector:onboarding:dismissed:v".concat(zsr),Vsr=n=>{try{window.localStorage.setItem(Zrt,JSON.stringify(n))}catch{}},Hsr=()=>{try{const n=window.localStorage.getItem(Zrt);return n?JSON.parse(n):!1}catch{return!1}};function Wsr(n){const{children:e}=n,[r,i]=p.useState(Hsr()),o=p.useCallback(()=>{i(!0),Vsr(!0)},[i]),s=p.useMemo(()=>({setDismissed:o,isDismissed:r}),[o,r]);return d.jsx(Yrt.Provider,{value:s,children:e})}const Xrt=p.createContext(null),Gsr=_t.memo(function(e){const{children:r}=e,[i,o]=p.useState(null),s=p.useCallback(l=>{Br(i,l)||o(l)},[i]),a=p.useMemo(()=>({selectedPath:i,setSelectedPath:s}),[i,s]);return d.jsx(Xrt.Provider,{value:a,children:r})}),Qrt=p.createContext(null),qsr={apiVersion:"2023-12-11",useProjectHostname:!1,withCredentials:!1,useCdn:!0},Ov="comments",bDe={interpolate:/{{([\s\S]+?)}}/g},xDe="www.sanity.io";function Ksr(n){const[e,r]=p.useState(!1),[i,o]=p.useState(null),s=yB(),a=GS(),l=Jr(Dr),c=p.useMemo(()=>({dialogSecondaryClicked:()=>a.log(vAe,{feature:Ov,type:"modal"}),dialogPrimaryClicked:()=>a.log(gAe,{feature:Ov,type:"modal"}),panelViewed:v=>a.log(pAe,{feature:Ov,type:"inspector",source:v}),panelDismissed:()=>a.log(mAe,{feature:Ov,type:"inspector"}),panelPrimaryClicked:()=>a.log(gAe,{feature:Ov,type:"inspector"}),panelSecondaryClicked:()=>a.log(vAe,{feature:Ov,type:"inspector"})}),[a]),u=p.useCallback(()=>{c.dialogPrimaryClicked()},[c]),f=p.useCallback(()=>{c.dialogSecondaryClicked()},[c]),h=p.useCallback(()=>{r(!1),a.log(mAe,{feature:Ov,type:"modal"})},[a]);p.useEffect(()=>{const y=l.withConfig(qsr).observable.request({uri:"/journey/comments"}).subscribe({next:b=>{if(b)try{const x=nDe(b.ctaButton.url,bDe);b.ctaButton.url=x({baseUrl:xDe,projectId:s});const _=nDe(b.secondaryButton.url,bDe);b.secondaryButton.url=_({baseUrl:xDe,projectId:s}),o(b)}catch{}},error:()=>{}});return()=>{y.unsubscribe()}},[l,s]);const m=p.useCallback(v=>{r(!0),a.log(pAe,{feature:Ov,type:"modal",source:v})},[a]),g=p.useMemo(()=>({upsellDialogOpen:e,handleOpenDialog:m,upsellData:i,telemetryLogs:c}),[m,e,i,c]);return d.jsxs(Qrt.Provider,{value:g,children:[n.children,i&&e&&d.jsx(zur,{data:i,onClose:h,onPrimaryClick:u,onSecondaryClick:f})]})}function Ysr(){return p.useContext(Krt)}const er="structure",Zsr={locale:"en-US",namespace:er,resources:()=>Ay(()=>import("./resources-B_y3iqGc-ea634954.js"),[])};function Jrt(n){const{document:e}=n,i=Ar().get(e._type),{t:o}=me(er),{error:s,value:a}=JN({schemaType:i,value:e});return i?s?d.jsx(d.Fragment,{children:o("doc-title.error.text",{errorMessage:s.message})}):d.jsx(d.Fragment,{children:(a==null?void 0:a.title)||d.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:o("doc-title.fallback.text")})}):d.jsx("code",{children:o("doc-title.unknown-schema-type.text",{schemaType:e._type})})}var wDe=Object.freeze,Xsr=Object.defineProperty,iR=(n,e)=>wDe(Xsr(n,"raw",{value:wDe(e||n.slice())})),_De,EDe,CDe,SDe,kDe;const eit=F(te)(_De||(_De=iR([`
  margin-left: auto;
`]))),Qsr=F.details(EDe||(EDe=iR([`
  flex: none;

  &[open] `,` {
    transform: rotate(180deg);
  }
`])),eit),Jsr=F.summary(CDe||(CDe=iR([`
  list-style: none;

  &::-webkit-details-marker {
    display: none;
  }
`]))),ear=F.table(SDe||(SDe=iR([`
  width: 100%;
  text-align: left;
  padding: 0 `,`;
  border-collapse: collapse;

  th {
    padding: `,`;
  }

  td {
    padding: 0 `,`;
  }

  tr > *:last-child {
    text-align: right;
  }
`])),n=>{let{theme:e}=n;return Je(e.sanity.space[2])},n=>{let{theme:e}=n;return Je(e.sanity.space[1])},n=>{let{theme:e}=n;return Je(e.sanity.space[1])}),tar=F(oe)(kDe||(kDe=iR([`
  min-height: 33px;
`]))),TDe=n=>{const{t:e}=me(er),r=n.totalCount-n.references.length;return r?d.jsx(te,{padding:2,children:d.jsxs(to,{space:2,children:[d.jsx(J,{size:1,muted:!0,children:e("confirm-delete-dialog.other-reference-count.title",{count:r})}),d.jsx(zn,{portal:!0,placement:"top",content:e("confirm-delete-dialog.other-reference-count.tooltip"),children:d.jsx(J,{size:1,muted:!0,children:d.jsx(Wx,{})})})]})}):null};function tit(n){const{icon:e,layout:r,presence:i,schemaType:o,value:s}=n,a=$n(s.title)&&p.isValidElement(s.title)||o8(s.title)||Hir(s.title)?s.title:null,{draft:l,published:c,isLoading:u}=bs(()=>r2(n.documentPreviewStore,o,s._id,a),[n.documentPreviewStore,o,s._id,a]),f=u?null:d.jsx(xu,{children:d.jsxs(oe,{align:"center",gap:3,children:[i&&i.length>0&&d.jsx(jN,{presence:i}),d.jsx(zN,{draft:l,published:c})]})}),h=d.jsx(aI,{draft:l,published:c});return d.jsx(am,{...eB({value:s,draft:l,published:c}),isPlaceholder:u,icon:e,layout:r,status:f,tooltip:h})}function Kc(){throw new Error("Pane is missing router context")}const kB=p.createContext({index:0,groupIndex:0,siblingIndex:0,payload:void 0,params:{},hasGroupSiblings:!1,groupLength:0,routerPanesState:[],BackLink:()=>Kc(),ChildLink:()=>Kc(),ReferenceChildLink:()=>Kc(),handleEditReference:()=>Kc(),ParameterizedLink:()=>Kc(),replaceCurrent:()=>Kc(),closeCurrentAndAfter:()=>Kc(),closeCurrent:()=>Kc(),duplicateCurrent:()=>Kc(),setView:()=>Kc(),setParams:()=>Kc(),setPayload:()=>Kc(),navigateIntent:()=>Kc(),createPathWithParams:()=>Kc()}),nar=p.forwardRef(function(e,r){const{routerPanesState:i,groupIndex:o}=p.useContext(kB),s=p.useMemo(()=>i.slice(0,o),[o,i]),a=p.useMemo(()=>({panes:s}),[s]);return d.jsx(oN,{...e,ref:r,state:a})}),nit=p.createContext(null);function d2(){const n=p.useContext(nit);if(!n)throw new Error("PaneLayout: missing context value");return n}const rar=p.forwardRef(function(e,r){const{childId:i,childPayload:o,childParameters:s,...a}=e,{routerPanesState:l,groupIndex:c}=p.useContext(kB);return d.jsx(oN,{...a,ref:r,state:{panes:[...l.slice(0,c+1),[{id:i,params:s,payload:o}]]}})}),mLr=p.forwardRef(function(e,r){const{routerPanesState:i,groupIndex:o,siblingIndex:s}=p.useContext(kB),{params:a,payload:l,...c}=e,u=Ga(a),f=Ga(l),h=p.useMemo(()=>{const m=i[o],g=m[s],v={...g,params:u??g.params,payload:f??g.payload},y=[...m.slice(0,s),v,...m.slice(s+1)];return{panes:[...i.slice(0,o),y,...i.slice(o+1)]}},[i,o,u,f,s]);return d.jsx(oN,{ref:r,...c,state:h})}),gLr=p.forwardRef(function(e,r){let{documentId:i,documentType:o,parentRefPath:s,children:a,template:l,...c}=e;return d.jsx(rar,{...c,ref:r,childId:i,childPayload:l==null?void 0:l.params,childParameters:{type:o,parentRefPath:ns(s),...l&&{template:l==null?void 0:l.id}},children:a})});function Ah(){return p.useContext(kB)}const ADe=[];function iar(n){const{onClick:e,type:r,value:i}=n,o=di(i==null?void 0:i._id),s=yw(o),a=Qa(),{ReferenceChildLink:l}=Ah(),c=p.useCallback(function(f){return d.jsx(l,{documentId:i==null?void 0:i._id,documentType:r==null?void 0:r.name,parentRefPath:ADe,...f})},[l,r==null?void 0:r.name,i==null?void 0:i._id]);return d.jsx(J0,{__unstable_focusRing:!0,as:c,"data-as":"a",onClick:e,radius:2,children:d.jsx(tit,{documentPreviewStore:a,icon:r==null?void 0:r.icon,layout:"compact",presence:(s==null?void 0:s.length)>0?s:ADe,schemaType:r,value:i})})}function oar(n){let{crossDatasetReferences:e,internalReferences:r,documentTitle:i,totalCount:o,action:s,datasetNames:a,hasUnknownDatasetNames:l,onReferenceLinkClick:c}=n;const u=Ar(),f=da(),{t:h}=me(er),m=p.useCallback(y=>{const b=u.get(y._type);return b?d.jsx(iar,{type:b,value:y,onClick:c}):d.jsx(te,{padding:2,children:d.jsx(am,{icon:Rp,title:h("confirm-delete-dialog.preview-item.preview-unavailable.title"),subtitle:h("confirm-delete-dialog.preview-item.preview-unavailable.subtitle",{documentId:y._id}),layout:"default"})})},[u,h,c]);if((r==null?void 0:r.totalCount)===0&&(e==null?void 0:e.totalCount)===0)return d.jsx(J,{as:"p",size:1,children:d.jsx(bn,{t:h,i18nKey:"confirm-delete-dialog.confirmation.text",context:s,components:{DocumentTitle:()=>d.jsx("strong",{children:i})}})});const g=[...a,...l?["unavailable"]:[]],v=h("confirm-delete-dialog.cdr-summary.subtitle",{count:g.length,datasets:g.join(", "),context:l&&g.length?"unavailable":""});return d.jsxs(oe,{direction:"column",gap:4,children:[d.jsx(ke,{padding:3,radius:2,tone:"caution",flex:"none",children:d.jsxs(oe,{children:[d.jsx(J,{"aria-hidden":"true",size:1,children:d.jsx(as,{})}),d.jsx(te,{flex:1,marginLeft:3,children:d.jsx(J,{size:1,children:d.jsx(bn,{i18nKey:"confirm-delete-dialog.referring-document-count.text",components:{DocumentTitle:()=>i},t:h,values:{count:o}})})})]})}),d.jsx(te,{flex:"none",children:d.jsx(J,{size:1,children:d.jsx(bn,{i18nKey:"confirm-delete-dialog.referring-documents-descriptor.text",t:h,context:s,components:{DocumentTitle:()=>i}})})}),d.jsx(ke,{radius:2,shadow:1,flex:"auto",padding:2,children:d.jsxs(oe,{direction:"column",children:[r.totalCount>0&&d.jsxs(Se,{as:"ul",marginBottom:2,space:2,"data-testid":"internal-references",children:[r==null?void 0:r.references.map(y=>d.jsx(te,{as:"li",children:m(y)},y._id)),r.totalCount>r.references.length&&d.jsx(te,{as:"li",padding:3,children:d.jsx(TDe,{...r})})]}),e.totalCount>0&&d.jsxs(Qsr,{"data-testid":"cross-dataset-references",style:{borderTop:r.totalCount>0?"1px solid var(--card-shadow-outline-color)":void 0},children:[d.jsx(Jsr,{children:d.jsx(ke,{as:"a",marginTop:r.totalCount>0?2:0,radius:2,shadow:1,paddingY:1,children:d.jsxs(oe,{align:"center",gap:3,paddingX:3,paddingY:1,children:[d.jsx(J,{size:1,children:d.jsx(pJ,{})}),d.jsxs(Se,{space:2,children:[d.jsx(J,{textOverflow:"ellipsis",size:1,children:h("confirm-delete-dialog.cdr-summary.title",{count:g.length,documentCount:h("confirm-delete-dialog.cdr-summary.document-count",{count:e.totalCount})})}),d.jsx(J,{title:v,textOverflow:"ellipsis",size:1,muted:!0,children:v})]}),d.jsx(eit,{children:d.jsx(J,{muted:!0,size:1,children:d.jsx(qs,{})})})]})})}),d.jsxs(te,{overflow:"auto",paddingTop:2,children:[d.jsxs(ear,{children:[d.jsx("thead",{children:d.jsxs("tr",{children:[d.jsx("th",{children:d.jsx(J,{muted:!0,size:1,style:{minWidth:"5rem"},weight:"medium",children:h("confirm-delete-dialog.cdr-table.project-id.label")})}),d.jsx("th",{children:d.jsx(J,{muted:!0,size:1,weight:"medium",children:h("confirm-delete-dialog.cdr-table.dataset.label")})}),d.jsx("th",{children:d.jsx(J,{muted:!0,size:1,weight:"medium",children:h("confirm-delete-dialog.cdr-table.document-id.label")})})]})}),d.jsx("tbody",{children:e.references.filter(y=>"projectId"in y).map((y,b)=>{let{projectId:x,datasetName:_,documentId:w}=y;return d.jsxs("tr",{children:[d.jsx("td",{children:d.jsx(J,{size:1,children:x})}),d.jsx("td",{children:d.jsx(J,{size:1,children:_||"unavailable"})}),d.jsx("td",{children:d.jsxs(tar,{align:"center",gap:2,justify:"flex-end",children:[d.jsx(J,{textOverflow:"ellipsis",size:1,children:w||"unavailable"}),w&&d.jsx(Fir,{text:w,onCopy:()=>{f.push({title:h("confirm-delete-dialog.cdr-table.id-copied-toast.title"),status:"success"})},children:d.jsx(ze,{mode:"bleed",icon:Np,tooltipProps:{content:h("confirm-delete-dialog.cdr-table.copy-id-button.tooltip")}})})]})})]},"".concat(w,"-").concat(b))})})]}),d.jsx(TDe,{...e})]})]})]})}),d.jsx(te,{flex:"none",children:d.jsx(J,{size:1,children:d.jsx(bn,{i18nKey:"confirm-delete-dialog.referential-integrity-disclaimer.text",t:h,context:s,components:{DocumentTitle:()=>i}})})})]})}function sar(n){return typeof n!="object"||!n?!1:"statusCode"in n&&"response"in n}const aar=5e3;let yH;const rit=()=>(yH||(yH=Jl(document,"visibilitychange").pipe(ca(null),Me(()=>document.visibilityState==="visible"),Ro(),gn(n=>n?Za(0,aar):Vi),Hs({refCount:!0,bufferSize:1}))),yH);function lar(n,e){let{versionedClient:r}=e;const i=wl(n),o=di(n),s={uri:r.getDataUrl("doc","".concat(i,",").concat(o)),json:!0,query:{excludeContent:"true"},tag:"use-referring-documents.document-existence"};return r.observable.request(s).pipe(Me(a=>{let{omitted:l}=a;const c=l.filter(u=>u.reason==="existence");if(c.length!==2)return c.length===0||c.some(u=>u.id===i)?o:i}))}function car(n,e){const{versionedClient:r}=e;return rit().pipe(gn(()=>lar(n,e)),gn(i=>{if(!i)return Ke({totalCount:0,references:[]});const o=r.config().dataset;return r.observable.request({url:"/data/references/".concat(o,"/documents/").concat(i,"/to?excludeInternalReferences=true&excludePaths=true"),tag:"use-referring-documents.external"}).pipe(vi(s=>{if(sar(s)&&s.statusCode===404)return Ke({totalCount:0,references:[]});throw s}))}))}const uar=rm(n=>{let[e,r]=n;const i="*[references($documentId)][0...100]{_id,_type}",o="count(*[references($documentId)])",s='{"references":'.concat(i,',"totalCount":').concat(o,"}"),a="*[references($documentId)]";return r.listenQuery({fetch:s,listen:a},{documentId:e},{tag:"use-referring-documents",transitions:["appear","disappear"],throttleTime:5e3})}),dar=rm(n=>{let[e,r]=n;return rit().pipe(gn(()=>car(e,{versionedClient:r})))});function far(n){const e=Jr(Dr),r=Fc(),i=di(n),[o,s]=uar(p.useMemo(()=>[i,r],[r,i])),[a,l]=dar(p.useMemo(()=>[i,e],[i,e])),c=p.useMemo(()=>Array.from(new Set(a==null?void 0:a.references.map(h=>h.projectId).filter(Boolean))).sort(),[a==null?void 0:a.references]),u=p.useMemo(()=>Array.from(new Set(a==null?void 0:a.references.map(h=>(h==null?void 0:h.datasetName)||"").filter(h=>!!h&&h!==""))).sort(),[a==null?void 0:a.references]),f=p.useMemo(()=>!!(a!=null&&a.references.some(h=>typeof h.datasetName!="string")),[a==null?void 0:a.references]);return{totalCount:((o==null?void 0:o.totalCount)||0)+((a==null?void 0:a.totalCount)||0),projectIds:c,datasetNames:u,hasUnknownDatasetNames:f,internalReferences:o,crossDatasetReferences:a,isLoading:s||l}}var IDe=Object.freeze,har=Object.defineProperty,iit=(n,e)=>IDe(har(n,"raw",{value:IDe(e||n.slice())})),DDe,RDe;const par=F(te)(DDe||(DDe=iit([`
  box-sizing: border-box;
`]))),mar=F(oe).attrs({align:"center",direction:"column",justify:"center"})(RDe||(RDe=iit([`
  height: 110px;
`])));function gar(n){let{id:e,type:r,action:i="delete",onCancel:o,onConfirm:s}=n;const{t:a}=me(er),l="deletion-confirmation-".concat(p.useId()),{internalReferences:c,crossDatasetReferences:u,isLoading:f,totalCount:h,projectIds:m,datasetNames:g,hasUnknownDatasetNames:v}=far(e),y=d.jsx(Jrt,{document:p.useMemo(()=>({_id:e,_type:r}),[e,r])}),b=!f;return d.jsx(ja,{width:1,id:l,header:a("confirm-delete-dialog.header.text",{context:i}),footer:{cancelButton:{onClick:o,text:a("confirm-delete-dialog.cancel-button.text")},confirmButton:b?{text:h>0?a("confirm-delete-dialog.confirm-anyway-button.text",{context:i}):a("confirm-delete-dialog.confirm-button.text",{context:i}),onClick:s}:void 0},onClose:o,onClickOutside:o,children:d.jsx(par,{children:u&&c&&!f?d.jsx(oar,{crossDatasetReferences:u,internalReferences:c,documentTitle:y,isLoading:f,totalCount:h,action:i,projectIds:m,datasetNames:g,hasUnknownDatasetNames:v,onReferenceLinkClick:o}):d.jsx(mar,{"data-testid":"loading-container",children:d.jsx(Zr,{showText:!0,title:a("confirm-delete-dialog.loading.text")})})})})}function oit(n){const{t:e}=me(er),r=p.useId(),[i,o]=p.useState(null),s=p.useCallback(()=>o(null),[]);return i?d.jsx(ja,{id:"dialog-error-".concat(r),"data-testid":"confirm-delete-error-dialog",header:e("confirm-delete-dialog.error.title.text"),footer:{confirmButton:{text:e("confirm-delete-dialog.error.retry-button.text"),onClick:s,tone:"default"}},onClose:n.onCancel,children:d.jsx(te,{padding:4,children:d.jsx(J,{size:1,children:e("confirm-delete-dialog.error.message.text")})})}):d.jsx(dD,{onCatch:o,children:d.jsx(gar,{...n})})}function sit(n){let{children:e,ms:r=0}=n;const[i,o]=p.useState(r<=0);return p.useEffect(()=>{if(r<=0)return;const s=setTimeout(()=>o(!0),r);return()=>{clearTimeout(s)}},[r]),!i||!e?d.jsx(d.Fragment,{}):typeof e=="function"?e():e}const yar=!1,lC=51,cC=lC*4,ait=p.createContext(null);var ODe=Object.freeze,bar=Object.defineProperty,xar=(n,e)=>ODe(bar(n,"raw",{value:ODe(e||n.slice())})),PDe;const war=F(Cu)(PDe||(PDe=xar([`
  position: relative;
  width: 1px;
  min-width: 1px;

  &:before {
    content: '';
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    width: 1px;
    background-color: var(--card-border-color);
  }

  &:not([data-disabled]) {
    cursor: ew-resize;
    width: 9px;
    min-width: 9px;
    margin: 0 -4px;

    &:before {
      left: 4px;
    }

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 9px;
      bottom: 0;
      background-color: var(--card-border-color);
      opacity: 0;
      transition: opacity 150ms;
    }

    &[data-dragging]:after,
    &:hover:after {
      opacity: 0.2;
    }
  }
`])));function _ar(n){let{disabled:e,element:r}=n;const{resize:i}=d2(),[o,s]=p.useState(!1),a=p.useCallback(l=>{if(!r)return;s(!0),l.preventDefault();const c=l.pageX;i("start",r,0);const u=h=>{h.preventDefault();const m=h.pageX-c;i("move",r,m)},f=h=>{h.preventDefault(),s(!1),window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",f),i("end",r,0)};window.addEventListener("mousemove",u),window.addEventListener("mouseup",f)},[r,i]);return d.jsx(war,{"data-disabled":e?"":void 0,"data-dragging":o?"":void 0,onMouseDown:a})}var jDe=Object.freeze,Ear=Object.defineProperty,Car=(n,e)=>jDe(Ear(n,"raw",{value:jDe(e||n.slice())})),LDe;const Sar=F(ke)(LDe||(LDe=Car([`
  outline: none;

  // NOTE: This will render a border to the right side of each pane
  // without taking up physical space.
  box-shadow: 1px 0 0 var(--card-border-color);
`]))),TB=p.forwardRef(function(e,r){var i,o,s;const{children:a,currentMinWidth:l,currentMaxWidth:c,flex:u=1,id:f,minWidth:h,maxWidth:m,selected:g=!1,...v}=e,[y,b]=p.useState(null),{collapse:x,collapsed:_,expand:w,expandedElement:C,mount:S,panes:T}=d2(),A=T.find(re=>re.element===y),I=A&&T.indexOf(A),D=typeof I=="number"?T[I+1]:void 0,R=I===T.length-1,P=_?!1:(A==null?void 0:A.collapsed)||!1,O=(D==null?void 0:D.collapsed)||!1,$=Ko(r),L=(i=A==null?void 0:A.flex)!=null?i:u,M=(o=A==null?void 0:A.currentMinWidth)!=null?o:l,N=(s=A==null?void 0:A.currentMaxWidth)!=null?s:c,z=p.useCallback(re=>{b(re),$.current=re},[$]);p.useEffect(()=>{if(y)return S(y,{currentMinWidth:l,currentMaxWidth:c,flex:u,id:f,minWidth:h,maxWidth:m})},[l,c,u,f,h,m,S,y]);const B=p.useCallback(()=>{y&&x(y)},[x,y]),H=p.useCallback(()=>{y&&w(y)},[w,y]),X=p.useMemo(()=>({collapse:B,collapsed:_?!1:P,expand:H,index:I,isLast:R,rootElement:y}),[P,B,H,R,_,I,y]),G=p.useMemo(()=>{if(!_)return P?lC:M===0||R?h||cC:M||h||cC},[P,M,R,_,h]),ne=p.useMemo(()=>{if(P)return lC;if(!(_&&R))return R?m?N??m:void 0:N??m},[P,N,R,_,m]),le=_&&!R,K=p.useMemo(()=>!R&&!_&&d.jsx(Vg,{zOffset:"paneResizer",children:d.jsx(_ar,{disabled:P||O,element:y})}),[P,R,_,O,y]),Q=p.useMemo(()=>({flex:L,minWidth:G,maxWidth:ne===1/0?void 0:ne}),[L,G,ne]);return d.jsxs(d.Fragment,{children:[d.jsx(Vg,{zOffset:"pane",children:d.jsx(ait.Provider,{value:X,children:d.jsxs(Sar,{"data-testid":"pane","data-ui":"Pane",tone:"inherit",hidden:le,id:f,overflow:_?void 0:"hidden",...v,"data-pane-collapsed":P?"":void 0,"data-pane-index":I,"data-pane-selected":g?"":void 0,ref:z,style:Q,children:[yar,d.jsx(hy,{element:y,children:!le&&d.jsx(oe,{direction:"column",height:"fill",children:a})})]})})}),K]})});var $De=Object.freeze,kar=Object.defineProperty,Tar=(n,e)=>$De(kar(n,"raw",{value:$De(e||n.slice())})),MDe;const lit=F(ke)(MDe||(MDe=Tar([`
  position: relative;
  outline: none;
`])));lit.displayName="PaneContent__root";function cv(){const n=p.useContext(ait);if(!n)throw new Error("Pane: missing context value");return n}const AB=p.forwardRef(function(e,r){const{as:i,children:o,overflow:s,padding:a,...l}=e,{collapsed:c}=cv(),{collapsed:u}=d2();return d.jsx(lit,{"data-testid":"pane-content",forwardedAs:i,...l,flex:1,hidden:c,overflow:u?void 0:s,padding:a,ref:r,tone:"inherit",children:o})}),Aar={constrainSize:!0,placement:"left-start",portal:!0};function e4(n){const{disabled:e,isAfterGroup:r,node:i}=n,o=SN("i18n"in i?i:void 0);if(i.type==="divider")return d.jsx(Io,{});const{title:s}=o(i);return i.type==="group"?i.children.length===0?null:i.expanded?d.jsxs(d.Fragment,{children:[r&&d.jsx(Io,{}),i.children.map((a,l)=>{var c;return d.jsx(e4,{disabled:e||!!i.disabled,isAfterGroup:((c=i.children[l-1])==null?void 0:c.type)==="group",node:a},a.key)})]}):d.jsxs(d.Fragment,{children:[r&&d.jsx(Io,{}),d.jsx(Ete,{disabled:e,icon:i.icon,popover:Aar,text:s,children:i.children.map((a,l)=>{var c;return d.jsx(e4,{disabled:e||!!i.disabled,isAfterGroup:((c=i.children[l-1])==null?void 0:c.type)==="group",node:a},a.key)})})]}):d.jsxs(d.Fragment,{children:[r&&d.jsx(Io,{}),d.jsx(Iar,{disabled:e,node:i})]})}function Iar(n){const{node:e}=n;return e.intent?d.jsx(Rar,{...n,intent:e.intent}):d.jsx(Dar,{...n})}function Dar(n){var e;const{disabled:r,node:i}=n,o=typeof i.disabled=="object"&&d.jsx(J,{size:1,children:i.disabled.reason}),{title:s}=sv(i);return d.jsx(Zoe,{content:o,placement:"left",children:d.jsx(Wt,{disabled:r||!!i.disabled,hotkeys:(e=i.hotkey)==null?void 0:e.split("+"),icon:i.icon,iconRight:i.iconRight||i.selected&&ec,onClick:i.onAction,pressed:i.selected,text:s,tone:i.tone})})}function Rar(n){var e;const{disabled:r,intent:i,node:o}=n,s=typeof o.disabled=="object"&&d.jsx(J,{size:1,children:o.disabled.reason}),a=AD({intent:i.type,params:i.params}),l=p.useCallback(u=>{a.onClick(u),o.onAction()},[a,o]),{title:c}=sv(o);return d.jsx(Zoe,{content:s,placement:"left",children:d.jsx(Wt,{as:"a",disabled:r||!!o.disabled,hotkeys:(e=o.hotkey)==null?void 0:e.split("+"),href:a.href,icon:o.icon,iconRight:o.selected?ec:void 0,onClick:l,pressed:o.selected,text:c,tone:o.tone})})}const Oar={constrainSize:!0,placement:"bottom",portal:!0};function hZ(n,e){return n.some(r=>r.type==="item"&&r.tone===e||r.type==="group"&&hZ(r.children,e))}function cit(n){const{nodes:e,actionsNodes:r}=n,i=p.useId(),o=hZ(e,"critical"),s=hZ(e,"caution");return d.jsx(Vr,{button:d.jsx(ha,{tone:o?"critical":s?"caution":void 0,"data-testid":"pane-context-menu-button"}),id:i,menu:d.jsxs(_r,{children:[r&&d.jsxs(d.Fragment,{children:[r,d.jsx(Io,{})]}),e.map((a,l)=>{var c;const u=((c=e[l-1])==null?void 0:c.type)==="group";return d.jsx(e4,{isAfterGroup:u,node:a},a.key)})]}),popover:Oar})}var FDe=Object.freeze,Par=Object.defineProperty,uit=(n,e)=>FDe(Par(n,"raw",{value:FDe(e||n.slice())})),NDe,BDe;const jar=F(Cu)(NDe||(NDe=uit([`
  position: sticky;
  bottom: 0;

  &:before {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    top: -1px;
    border-bottom: 1px solid var(--card-border-color);
  }
`]))),Lar=F(ke)(BDe||(BDe=uit([`
  padding-bottom: env(safe-area-inset-bottom);
`]))),$ar=p.forwardRef(function(e,r){const{children:i,padding:o}=e,{collapsed:s}=cv();return d.jsx(Vg,{zOffset:"paneFooter",children:d.jsx(jar,{"data-testid":"pane-footer",hidden:s,ref:r,children:d.jsx(Lar,{tone:"inherit",children:d.jsx(te,{padding:o,children:i})})})})});var UDe=Object.freeze,Mar=Object.defineProperty,f2=(n,e)=>UDe(Mar(n,"raw",{value:UDe(e||n.slice())})),zDe,VDe,HDe,WDe,GDe,qDe;const Far=F(Cu)(n=>{let{$border:e}=n;return Ae(zDe||(zDe=f2([`
    line-height: 0;
    position: sticky;
    top: 0;

    &:not([data-collapsed]):after {
      content: '';
      display: block;
      position: absolute;
      left: 0;
      right: 0;
      bottom: -1px;
      border-bottom: 1px solid `,`;
      opacity: 1;
    }
  `])),e?"var(--card-border-color)":"transparent")}),Nar=F(oe)(VDe||(VDe=f2([`
  transform-origin: calc(51px / 2);

  [data-collapsed] > div > & {
    transform: rotate(90deg);
  }
`]))),Bar=F(ke)(n=>{let{theme:e}=n;const{fg:r,bg:i}=e.sanity.color.card.enabled;return Ae(HDe||(HDe=f2([`
    background-color: `,`;

    [data-ui='Text'] {
      color: `,`;
    }
  `])),i,r)}),Uar=F(ro)(WDe||(WDe=f2([`
  width: 66%;
  max-width: 175px;
`]))),zar=F(J)(GDe||(GDe=f2([`
  cursor: default;
  outline: none;
`]))),Var=F(te)(n=>{let{theme:e}=n;const{color:r,space:i}=e.sanity;return Ae(qDe||(qDe=f2([`
    overflow: hidden;
    overflow: clip;
    position: relative;

    & > div {
      white-space: nowrap;
      overflow: auto;
      /* Hide scrollbars */
      scrollbar-width: none;
      &::-webkit-scrollbar {
        width: 0;
        height: 0;
      }
    }

    /* right padding */
    & > div:after {
      content: '';
      display: inline-block;
      top: 0;
      right: 0;
      bottom: 0;
      width: `,`px;
      height: 1px;
    }

    /* Gradient that makes it look like tabs disappear into nothing (looks nicer) */
    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(to right, `,`, var(--card-bg-color));
      width: `,`px;
      pointer-events: none;
    }
  `])),i[3],ite(r.base.bg,0),i[3])}),ise=p.forwardRef(function(e,r){const{actions:i,backButton:o,border:s,contentAfter:a,loading:l,subActions:c,tabs:u,tabIndex:f,title:h}=e,{collapse:m,collapsed:g,expand:v,rootElement:y}=cv(),b=Ex(y||null),x=p.useMemo(()=>({width:g?(b==null?void 0:b.height)||window.innerHeight:void 0}),[g,b]),_=p.useCallback(()=>{g||m()},[m,g]),w=p.useCallback(()=>{g&&v()},[g,v]),C=!!(!g&&(u||c));return d.jsx(zp,{zOffset:100,children:d.jsx(Far,{$border:s,"data-collapsed":g?"":void 0,"data-testid":"pane-header",ref:r,children:d.jsx(Vg,{zOffset:"paneHeader",children:d.jsxs(ke,{"data-collapsed":g?"":void 0,tone:"inherit",children:[d.jsxs(Nar,{gap:1,onClick:w,padding:3,paddingBottom:g?3:2,sizing:"border",style:x,children:[o&&d.jsx(te,{flex:"none",children:o}),d.jsxs(Bar,{__unstable_focusRing:!0,flex:1,forwardedAs:"button",onClick:_,paddingLeft:o?1:2,padding:2,tabIndex:f,children:[l&&d.jsx(Uar,{animated:!0,radius:1,size:1}),!l&&d.jsx(zar,{size:1,textOverflow:"ellipsis",weight:"semibold",children:h})]}),i&&d.jsx(oe,{align:"center",hidden:g,children:d.jsx(Vg,{zOffset:"paneHeader",children:i})})]}),C&&d.jsxs(oe,{align:"center",hidden:g,overflow:"auto",paddingBottom:3,paddingX:3,children:[d.jsx(Var,{flex:1,marginRight:c?3:0,children:u}),c&&c]}),!g&&a&&a]})})})})});function dit(n){var e;if(!n.disabled)return{disabledReason:void 0,ariaLabel:void 0,isDisabled:!1};const r=typeof n.disabled=="object"?n.disabled.reason:void 0,i=typeof n.disabled=="object"&&typeof((e=n.disabled)==null?void 0:e.reason)=="string"?n.disabled.reason:"This is disabled";return{disabledReason:r,ariaLabel:i,isDisabled:!!n.disabled}}function fit(n){const{node:e}=n;return e.type==="item"?d.jsx(Har,{node:e}):e.type==="group"?d.jsx(Gar,{node:e}):(console.warn('unknown menu node (expected `type: "item" | "group"`):',e),null)}function Har(n){const{node:e}=n,{title:r}=sv(e);if(e.intent)return d.jsx(War,{...n,intent:e.intent});const{disabledReason:i,ariaLabel:o,isDisabled:s}=dit(e);return d.jsx(nR,{disabled:s,icon:e.icon,onClick:e.onAction,selected:e.selected,tone:e.tone,"aria-label":o,tooltipProps:{hotkeys:!s&&e.hotkey?e.hotkey.split("+"):void 0,content:s?i:r}})}function War(n){const{intent:e,node:r}=n,i=AD({intent:e.type,params:e.params}),o=p.useCallback(c=>{i.onClick(c),r.onAction()},[i,r]),{disabledReason:s,ariaLabel:a,isDisabled:l}=dit(r);return d.jsx(nR,{forwardedAs:"a",disabled:l,href:i.href,icon:r.icon,onClick:o,selected:r.selected,tone:r.tone,"aria-label":a,tooltipProps:{hotkeys:!l&&r.hotkey?r.hotkey.split("+"):void 0,content:l?s:r.title,placement:"bottom",portal:!0}})}function Gar(n){var e;const{node:r}=n,{title:i}=sv(r);return d.jsx(Vr,{button:d.jsx(ze,{disabled:!!r.disabled,icon:(e=r.icon)!=null?e:Rp,label:i,mode:"bleed",tooltipProps:{content:r.title,portal:!0}}),id:p.useId(),menu:d.jsx(_r,{children:r.children.map((o,s)=>{var a;return d.jsx(e4,{disabled:!!r.disabled,isAfterGroup:((a=r.children[s-1])==null?void 0:a.type)==="group",node:o},o.key)})})})}var KDe=Object.freeze,qar=Object.defineProperty,Kar=(n,e)=>KDe(qar(n,"raw",{value:KDe(e||n.slice())})),YDe;const Yar=F(ke)(YDe||(YDe=Kar([`
  transition: opacity 200ms;
  position: relative;
  z-index: 1;
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
  opacity: 0;

  &:not([hidden]) {
    display: flex;
  }

  &:not([data-collapsed]) {
    overflow: auto;
  }

  &[data-mounted] {
    opacity: 1;
  }

  &[data-resizing] {
    pointer-events: none;
  }
`])));function Zar(n,e,r,i){var o,s;const a={flex:n.left.flex+n.right.flex,width:n.left.width+n.right.width},l=(o=e.minWidth)!=null?o:cC,c=(s=r.minWidth)!=null?s:cC,u=Math.min(e.maxWidth||1/0,a.width-c),f=Math.min(r.maxWidth||1/0,a.width-l);let h=l-n.left.width;const m=n.right.width-f;h<m&&(h=m);let g=n.right.width-c;const v=u-n.left.width;g>v&&(g=v);const y=Math.min(Math.max(i,h),g),b=n.left.width+y,x=n.right.width-y,_=b/a.width*a.flex,w=x/a.width*a.flex;return{leftFlex:_,leftW:b,rightFlex:w,rightW:x}}function Xar(n,e){const r=[];let i=e;for(;i!==n;){const o=i.parentElement;if(!o)return r;const a=Array.from(o.childNodes).indexOf(i);if(r.unshift(a),o===n)return r;i=o}return r}const ZDe=[];function Qar(n,e){const r=new WeakMap;for(const o of e)r.set(o,Xar(n,o));const i=(o,s)=>{const a=r.get(o)||ZDe,l=r.get(s)||ZDe,c=Math.max(a.length,l.length);for(let u=0;u<c;u+=1){const f=a[u]||-1,h=l[u]||-1;if(f!==h)return f-h}return 0};e.sort(i)}function Jar(){const n=[],e=[],r=new WeakMap,i=new Set,o={};let s=null,a=0,l=null,c=new Map,u=!1;function f(_){i.add(_),l===_&&(l=null),x()}function h(_){i.delete(_),l=_,x()}function m(_,w){return r.set(_,{...w,original:w}),e.push(_),s&&Qar(s,e),h(_),()=>{const C=e.indexOf(_);C>-1&&e.splice(C,1),r.delete(_),x()}}function g(_,w,C){var S,T,A,I;const D=e.indexOf(w),R=r.get(w);if(!R)return;const P=e[D+1],O=r.get(P);if(O){if(_==="start"&&(u=!0,o.left={element:w,flex:R.flex||1,width:w.offsetWidth},o.right={element:P,flex:O.flex||1,width:P.offsetWidth},x()),_==="move"&&o.left&&o.right){c=new Map;const{leftW:$,rightW:L,leftFlex:M,rightFlex:N}=Zar(o,R,O,C);c.set(w,{flex:M,width:$}),c.set(P,{flex:N,width:L}),x()}if(_==="end"){u=!1;const $=c.get(w),L=c.get(P);r.set(w,{...R,currentMinWidth:0,currentMaxWidth:(S=R.maxWidth)!=null?S:1/0,flex:(T=$==null?void 0:$.flex)!=null?T:R.flex}),r.set(P,{...O,currentMinWidth:0,currentMaxWidth:(A=R.maxWidth)!=null?A:1/0,flex:(I=L==null?void 0:L.flex)!=null?I:O.flex}),c=new Map,delete o.left,delete o.right,x()}}}function v(_){s=_}function y(_){a=_,x()}function b(_){return n.push(_),()=>{const w=n.push(_);w>-1&&n.splice(w,1)}}return{collapse:f,expand:h,mount:m,resize:g,setRootElement:v,setRootWidth:y,subscribe:b};function x(){var _,w,C,S;if(!a)return;const T=[];for(const $ of e)$!==l&&T.unshift($);l&&T.unshift(l);const A=new WeakMap,I=T.length,D=T[0],R=(I-1)*lC;let P=a-R;for(const $ of T){const L=r.get($);if(!L)continue;const M=L.currentMinWidth||L.minWidth||cC,N=$===D,z=i.has($),B=M>P,H=N?!1:z||B,X=c.get($);A.set($,{element:$,collapsed:H,currentMinWidth:(_=X==null?void 0:X.width)!=null?_:L.currentMinWidth,currentMaxWidth:(w=X==null?void 0:X.width)!=null?w:L.currentMaxWidth,flex:(S=(C=X==null?void 0:X.flex)!=null?C:L.flex)!=null?S:1}),H?P-=lC:P-=M-lC}const O=[];for(const $ of e){const L=A.get($);L&&O.push(L)}for(const $ of n)$({expandedElement:l||e[e.length-1]||null,panes:O,resizing:u})}}function vLr(n){const{children:e,minWidth:r,onCollapse:i,onExpand:o,...s}=n,a=p.useMemo(()=>Jar(),[]),[l,c]=p.useState(null),u=Ex(l),f=(u==null?void 0:u.width)||0,h=f===void 0||!r?void 0:f<r,[m,g]=p.useState({expandedElement:null,panes:[],resizing:!1});p.useEffect(()=>a.setRootElement(l),[a,l]),p.useEffect(()=>a.setRootWidth(f),[a,f]),p.useEffect(()=>a.subscribe(g),[a]),p.useEffect(()=>{h!==void 0&&(h&&i&&i(),!h&&o&&o())},[h,i,o]);const v=p.useMemo(()=>({collapse:a.collapse,collapsed:h,expand:a.expand,expandedElement:m.expandedElement,mount:a.mount,panes:m.panes,resize:a.resize,resizing:m.resizing}),[h,a,m.expandedElement,m.panes,m.resizing]);return d.jsx(nit.Provider,{value:v,children:d.jsx(Yar,{"data-ui":"PaneLayout",...s,"data-collapsed":h?"":void 0,"data-resizing":m.resizing?"":void 0,"data-mounted":f?"":void 0,ref:c,children:e})})}function ose(n){return(n.type==="item"||n.type==="group")&&n.renderAsButton}const hit=jJt(ose);function pit(n){var e,r;const{fieldActions:i=[],menuItems:o,menuItemGroups:s}=n,a=[];let l=0;for(let f=0;f<i.length;f+=1){const h=i[f];a.push(mit(h,"".concat(f,"-").concat(h.type)))}l+=a.length;const c=[];for(const f of s)c.find(m=>m.key===f.id)||c.push({type:"group",key:f.id,children:[],expanded:!0,renderAsButton:!1,title:f.title,i18n:f.i18n});const u=[];for(let f=0;f<o.length;f+=1){const h=o[f];let m=h.group&&c.find(g=>g.key===h.group);h.group&&!m&&(m={type:"group",key:h.group,expanded:!0,icon:h.icon,title:h.group,children:[],renderAsButton:!1},c.push(m)),m?m.children.push({type:"item",key:"".concat(l+f,"-item"),hotkey:h.shortcut,icon:h.icon,intent:h.intent,onAction:()=>n.actionHandler(h),renderAsButton:(e=h.showAsAction)!=null?e:!1,selected:h.selected,title:h.title,i18n:h.i18n,tone:h.tone}):u.push({type:"item",key:"".concat(l+f,"-item"),hotkey:h.shortcut,icon:h.icon,intent:h.intent,onAction:()=>n.actionHandler(h),renderAsButton:(r=h.showAsAction)!=null?r:!1,selected:h.selected,title:h.title,i18n:h.i18n,tone:h.tone})}return[...u,...c,...a]}function mit(n,e){var r,i,o;return n.type==="divider"?{type:"divider",key:e}:n.type==="group"?{type:"group",key:e,children:n.children.map((s,a)=>mit(s,"".concat(e,"-").concat(a,"-").concat(s.type))),disabled:n.disabled,expanded:(r=n.expanded)!=null?r:!0,icon:n.icon,title:n.title,i18n:n.i18n,renderAsButton:(i=n.renderAsButton)!=null?i:!1}:{type:"item",key:e,intent:n.intent,disabled:n.disabled,icon:n.icon,iconRight:n.iconRight,onAction:n.onAction,renderAsButton:(o=n.renderAsButton)!=null?o:!1,selected:n.selected,title:n.title,i18n:n.i18n,tone:n.tone}}const elr=p.forwardRef(function(e,r){const{intent:i,...o}=e,s=p.useMemo(()=>p.forwardRef(function(l,c){return d.jsx(Sf,{...l,intent:i.type,params:i.params,ref:c})}),[i]);return e.disabled?d.jsx(ze,{...o,as:"a",role:"link","aria-disabled":"true"}):d.jsx(ze,{...o,as:s,"data-as":"a",ref:r})});function bH(n){let{reveal:e,context:r,loading:i,children:o}=n;const s=ao(),{t:a}=me(er);return e?d.jsx(zn,{content:i?a("insufficient-permissions-message-tooltip.loading-text"):d.jsx(Wp,{context:r,currentUser:s}),portal:!0,children:d.jsx("div",{children:o})}):d.jsx(d.Fragment,{children:o})}const tlr={constrainSize:!0,placement:"bottom",portal:!0},XDe=(n,e,r)=>{var i;const o=(i=e.find(a=>a.id===r.templateId))==null?void 0:i.schemaType;if(!o)return null;const s={template:r.templateId,type:o,id:r.initialDocumentId};return{type:"create",params:r.parameters?[s,r.parameters]:s}};function nlr(n){let{templateItems:e}=n;const r=Ar(),i=l2(),{t:o}=me(er),s=SN([...e,...i]),[a,l]=Coe({templateItems:e}),c=p.useMemo(()=>!l&&(a==null?void 0:a.every(f=>!f.granted)),[l,a]),u=p.useMemo(()=>a?a.reduce((f,h)=>(f[h.id]=h,f),{}):{},[a]);if(c)return d.jsx(bH,{context:"create-document-type",reveal:!0,loading:l,children:d.jsx(ze,{"aria-label":o("pane-header.disabled-created-button.aria-label"),icon:Ta,"data-testid":"action-intent-button",disabled:!0,mode:"bleed",tooltipProps:null})});if(e.length===1){const f=e[0],h=u[f.id],m=!(h!=null&&h.granted),g=XDe(r,i,f);return g?d.jsx(bH,{reveal:m,loading:l,context:"create-document-type",children:d.jsx(elr,{"aria-label":s(f).title,icon:f.icon||Ta,intent:g,mode:"bleed",disabled:m,"data-testid":"action-intent-button",tooltipProps:m?null:{content:o("pane-header.create-new-button.tooltip")}})}):null}return d.jsx(Vr,{button:d.jsx(ze,{icon:Ta,mode:"bleed","data-testid":"multi-action-intent-button",tooltipProps:{content:o("pane-header.create-new-button.tooltip")}}),id:"create-menu",menu:d.jsx(_r,{children:e.map((f,h)=>{const m=u[f.id],g=!(m!=null&&m.granted),v=XDe(r,i,f),y=i.find(_=>_.id===f.templateId);if(!y||!v)return null;const b=p.forwardRef((_,w)=>g?d.jsx("button",{type:"button",disabled:!0,..._,ref:w}):d.jsx(Sf,{..._,intent:v.type,params:v.params,ref:w}));b.displayName="Link";const{title:x}=s({...f,title:f.title||s(y).title});return d.jsx(bH,{context:"create-document-type",reveal:g,loading:l,children:d.jsx(Wt,{as:b,"data-as":g?"button":"a",text:x,"aria-label":g?o("pane-header.disabled-created-button.aria-label"):x,disabled:g,"data-testid":"action-intent-button-".concat(h)})},f.id)})}),popover:tlr})}function rlr(n){return n!=null}const ilr=n=>{const e=i=>typeof i!="object"||!i?i:Array.isArray(i)?i.map(e):Object.entries(i).sort((o,s)=>{let[a]=o,[l]=s;return a.localeCompare(l,"en")});return JSON.stringify(e((i=>JSON.parse(JSON.stringify(i)))(n)))},olr=p.memo(function(e){const{initialValueTemplateItems:r=ri,menuItems:i=ri,menuItemGroups:o=ri,actionHandlers:s=X5n}=e,a=l2(),l=p.useCallback(g=>{if(typeof g.action=="string"&&!(g.action in s))return console.warn("No handler for action:",g.action),!1;const v=typeof g.action=="function"?g.action:typeof g.action=="string"?s[g.action]:null;return v?(v(g.params),!0):!1},[s]),c=p.useMemo(()=>pit({actionHandler:l,menuItemGroups:o,menuItems:i.filter(g=>{var v;return((v=g.intent)==null?void 0:v.type)!=="create"})}),[l,o,i]),u=p.useMemo(()=>c.filter(ose),[c]),f=p.useMemo(()=>c.filter(hit),[c]),h=p.useMemo(()=>i.map((g,v)=>{var y;if(((y=g.intent)==null?void 0:y.type)!=="create")return null;const{params:b}=g.intent;if(!b)return null;const x=Array.isArray(b)?b[0]:b,_=Array.isArray(b)?b[1]:void 0,w=x.template||x.type;if(!w)return null;const C=a.find(T=>T.id===w);if(!C)return null;const S=x.id;return{item:g,template:C,templateParams:_,menuItemIndex:v,initialDocumentId:S}}).filter(rlr).map(g=>{let{initialDocumentId:v,item:y,template:b,menuItemIndex:x,templateParams:_}=g;return{id:"menuItem".concat(x),initialDocumentId:v,templateId:b.id,type:"initialValueTemplateItem",title:y.title||b.title,i18n:y.i18n||b.i18n,icon:y.icon,description:b.description,parameters:_,schemaType:b.schemaType}}),[i,a]),m=p.useMemo(()=>vy([...h,...r],g=>ilr([g.initialDocumentId,g.templateId,g.parameters])),[h,r]);return d.jsxs(oe,{gap:1,children:[m.length>0&&d.jsx(nlr,{templateItems:m}),u.map(g=>d.jsx(fit,{node:g},g.key)),f.length>0&&d.jsx(cit,{nodes:f})]})});function slr(n){const{t:e}=me(er),{layout:r,value:i}=n;return d.jsx(am,{title:d.jsx("em",{children:d.jsx(bn,{t:e,i18nKey:"pane-item.missing-schema-type.title",components:{Code:"code"},values:{documentType:i._type}})}),subtitle:d.jsx(bn,{t:e,i18nKey:"pane-item.missing-schema-type.subtitle",components:{Code:"code"},values:{documentId:i._id}}),media:()=>d.jsx(as,{}),layout:r})}function QDe(n,e,r){return n===!1?!1:n||e&&e.icon||r||!1}function alr(n){const{icon:e,id:r,layout:i="default",pressed:o,schemaType:s,selected:a,title:l,value:c,margin:u,marginBottom:f,marginTop:h}=n,m=Ar(),g=Qa(),{ChildLink:v}=Ah(),y=yw(r),b=!!(s&&s.name&&m.get(s.name)),[x,_]=p.useState(!1),w=p.useMemo(()=>c&&kvt(c)?!s||!b?d.jsx(slr,{value:c}):d.jsx(tit,{documentPreviewStore:g,icon:QDe(e,s,gh),layout:i,schemaType:s,value:c,presence:y}):d.jsx(am,{status:d.jsx(te,{style:{opacity:.5},children:d.jsx(J,{muted:!0,size:1,children:d.jsx(Ch,{})})}),icon:QDe(e,s,eBe),layout:"compact",title:l}),[g,b,e,i,s,l,c,y]),C=p.useMemo(()=>function(A){return d.jsx(v,{...A,childId:r})},[v,r]),S=p.useCallback(T=>{if(T.metaKey){_(!1);return}_(!0)},[]);return p.useEffect(()=>_(!1),[a]),d.jsx(J0,{__unstable_focusRing:!0,as:C,"data-as":"a",margin:u,marginBottom:f,marginTop:h,onClick:S,pressed:o,radius:2,selected:a||x,sizing:"border",tabIndex:-1,tone:"inherit",children:w})}const IB=n=>{const{actions:e,children:r,actionProps:i,onActionComplete:o,group:s}=n;return d.jsx(vrt,{onReset:o,hooks:e,args:i,group:s,children:r})},llr=n=>{const{badges:e,children:r,badgeProps:i,...o}=n;return d.jsx(vrt,{...o,hooks:e,args:i,children:r})};function clr(n){const{documentId:e,documentType:r}=n||{},i=Ar().get(r),{title:o}=pa(),{createPathWithParams:s,params:a}=Ah(),l=Qa(),c=bs(()=>!e||!i?Ke(null):r2(l,i,e,""),[e,l,i]),{published:u,draft:f}=c||{},h=(f==null?void 0:f.title)||(u==null?void 0:u.title)||"Sanity document";return{getNotificationValue:p.useCallback(g=>{let{commentId:v}=g;const y=s({...a,comment:v,inspect:VA}),b="".concat(window.location.origin).concat(y);return{documentTitle:h,url:b,workspaceTitle:o}},[s,h,a,o])}}async function ulr(n){const{activeTool:e,client:r,comment:i,currentUser:o,dataset:s,documentId:a,documentRevisionId:l,documentType:c,getIntent:u,getNotificationValue:f,getThreadLength:h,onCreate:m,onCreateError:g,projectId:v,createAddonDataset:y,workspace:b}=n,x=(i==null?void 0:i.id)||Ia(),_=o.id,w=((h==null?void 0:h(i.threadId))||0)+1;let C;if(i.type==="task"&&(C={_id:x,_type:"comment",authorId:_,message:i.message,lastEditedAt:void 0,parentCommentId:i.parentCommentId,status:i.status,threadId:i.threadId,reactions:i.reactions,context:{payload:{workspace:b},notification:i.context.notification,tool:(e==null?void 0:e.name)||""},target:{document:{_ref:a,_type:"reference",_weak:!0},documentType:c}}),i.type==="field"){const{documentTitle:S="",url:T="",workspaceTitle:A=""}=f({commentId:x})||{},I={currentThreadLength:w,documentTitle:S,url:T,workspaceTitle:A},D=u==null?void 0:u({id:a,type:c,path:i.fieldPath});C={_id:x,_type:"comment",authorId:_,message:i.message,lastEditedAt:void 0,parentCommentId:i.parentCommentId,status:i.status,threadId:i.threadId,reactions:i.reactions,context:{payload:{workspace:b},intent:D,notification:I,tool:(e==null?void 0:e.name)||""},contentSnapshot:i.contentSnapshot,target:{documentRevisionId:l||"",path:{field:i.fieldPath,selection:i.selection},document:{_dataset:s,_projectId:v,_ref:a,_type:"crossDatasetReference",_weak:!0},documentType:c}}}if(C){if(m==null||m(C),!r){try{const S=await y();if(!S)throw new Error("Failed to create addon dataset client");await S.create(C)}catch(S){throw g==null||g(C._id,S),S}return}try{await r.create(C)}catch(S){throw g==null||g(C._id,S),S}}}function dlr(n,e){return"".concat(n,"-").concat(e)}async function flr(n){var e;const{client:r,currentUser:i,id:o,reaction:s,getComment:a,onUpdate:l}=n,c=((e=a==null?void 0:a(o))==null?void 0:e.reactions)||[],u=c.filter(m=>m.userId===i.id),f=dlr(i.id,s.shortName),h=u.find(m=>m._key===f&&m._optimisticState!=="removed");if(h){const m=c.map(g=>g._key===h._key?{...g,_optimisticState:"removed"}:g);l==null||l(o,{reactions:m}),await r.patch(o).unset(['reactions[_key=="'.concat(f,'"]')]).commit();return}if(!h){const m={_key:f,addedAt:new Date().toISOString(),shortName:s.shortName,userId:i.id},g={...m,_optimisticState:"added"},v=c.concat(g).filter(y=>!(y._key===m._key&&y._optimisticState==="removed"));l==null||l(o,{reactions:v}),await r.patch(o).setIfMissing({reactions:[]}).append("reactions",[m]).commit()}}async function hlr(n){const{client:e,id:r,onRemove:i}=n;i==null||i(r),await Promise.all([e.delete({query:'*[_type == "comment" && parentCommentId == "'.concat(r,'"]')}),e.delete(r)])}const plr=1e3,mlr={trailing:!0,leading:!1},l$=new Map;function glr(n){if(!l$.has(n)){const e=$I(git,plr,mlr);return l$.set(n,e),e}return l$.get(n)}async function git(n){const{client:e,id:r,comment:i,transactionId:o,onUpdate:s}=n,a=o||Ia(),l=e==null?void 0:e.patch(r).set(i),c=e.transaction().transactionId(a).patch(l);s==null||s(r,i),i.status?(await c.commit(),await e.patch({query:'*[_type == "comment" && parentCommentId == "'.concat(r,'"]')}).set({status:i.status}).commit()):await c.commit(),l$.delete(r)}async function vlr(n){const{id:e,comment:r,throttled:i}=n,o="message"in r,s={...r,lastEditedAt:new Date().toISOString()},a=o?s:r;if(!i){await git({...n,comment:a});return}await glr(e)({...n,comment:a})}function ylr(n){const{client:e,currentUser:r,dataset:i,documentId:o,documentRevisionId:s,documentType:a,getComment:l,getThreadLength:c,onCreate:u,onCreateError:f,onRemove:h,onTransactionStart:m,onUpdate:g,projectId:v,createAddonDataset:y,workspace:b}=n,x=Ysr(),_=sN(p.useCallback(R=>typeof R.tool=="string"?R.tool:void 0,[])),w=Rnr(),C=p.useMemo(()=>w.find(R=>R.name===_),[_,w]),{getNotificationValue:S}=clr({documentId:o,documentType:a}),T=p.useCallback(async R=>{r!=null&&r.id&&await ulr({activeTool:C,client:e,comment:R,currentUser:r,dataset:i,documentId:o,documentRevisionId:s,documentType:a,getIntent:x,getNotificationValue:S,getThreadLength:c,onCreate:u,onCreateError:f,projectId:v,createAddonDataset:y,workspace:b})},[C,e,r,i,o,s,a,x,S,c,u,f,v,y,b]),A=p.useCallback(async R=>{e&&await hlr({client:e,id:R,onRemove:h})},[e,h]),I=p.useCallback(async(R,P,O)=>{if(!e)return;const{throttled:$}=O||{},L=Ia();m(R,L),await vlr({client:e,comment:P,throttled:$,id:R,onUpdate:g,transactionId:L})},[e,m,g]),D=p.useCallback(async(R,P)=>{!e||!(r!=null&&r.id)||await flr({client:e,currentUser:r,id:R,reaction:P,getComment:l,onUpdate:g})},[e,r,l,g]);return p.useMemo(()=>({operation:{create:T,react:D,remove:A,update:I}}),[T,A,I,D])}function DB(){const n=p.useContext(Brt);if(!n)throw new Error("useComments must be used within a CommentsProvider");return n}function blr(){const n=p.useContext(Nrt);if(!n)throw new Error("useCommentsAuthoringPath: missing context value");return n}function h2(){const n=p.useContext(Grt);if(n===null)throw new Error("useCommentsEnabled: missing context value");return n}function xlr(){const n=p.useContext(Yrt);if(!n)throw new Error("useCommentsOnboarding: missing context value");return n}const RB={behavior:"smooth",inline:"center",scrollMode:"if-needed"},wlr={...RB,block:"start"},_lr={...RB,block:"center"},Elr={...RB,block:"center"},Clr={...RB,block:"center"},Slr={comment:Clr,field:Elr,group:wlr,"inline-comment":_lr};function oR(n){const e=/[[\]_"_=.]/g;return n.replace(e,"")}function JDe(n){return{"data-comments-comment-id":oR(n)}}function klr(n){return{"data-comments-field-id":oR(n)}}function Tlr(n){return{"data-comments-group-id":oR(n)}}function eRe(n){return{"data-comments-inline-comment-id":oR(n)}}function sse(n){const{boundaryElement:e}=n||{},[r,i]=p.useState(null),o=p.useMemo(()=>({...Slr[(r==null?void 0:r.type)||"comment"],boundary:e}),[e,r==null?void 0:r.type]),s=p.useCallback(f=>{i({type:"comment",id:f})},[]),a=p.useCallback(f=>{i({type:"group",id:f})},[]),l=p.useCallback(f=>{i({type:"field",id:f})},[]),c=p.useCallback(f=>{i({type:"inline-comment",id:f})},[]);return p.useEffect(()=>{const f=requestAnimationFrame(()=>{if(!r)return;const{type:h,id:m}=r,g=document==null?void 0:document.querySelector("[data-comments-".concat(h,'-id="').concat(oR(m),'"]'));g&&Ox(g,o)});return()=>{cancelAnimationFrame(f)}},[o,r]),p.useMemo(()=>({scrollToComment:s,scrollToField:l,scrollToGroup:a,scrollToInlineComment:c}),[s,l,a,c])}function ase(){const n=p.useContext(Xrt);if(!n)throw new Error("useCommentsSelectedPath: missing context value");return n}function lse(){const n=p.useContext(Qrt);return n||{upsellData:null,handleOpenDialog:()=>null,upsellDialogOpen:!1,telemetryLogs:{dialogSecondaryClicked:()=>null,dialogPrimaryClicked:()=>null,panelViewed:()=>null,panelDismissed:()=>null,panelPrimaryClicked:()=>null,panelSecondaryClicked:()=>null}}}function Alr(n,e){const{enabled:r,isLoading:i,error:o}=vB("studioComments"),{enabled:s}=xi().document.unstable_comments,a=p.useMemo(()=>s({documentType:e,documentId:di(n)}),[n,e,s]);return p.useMemo(()=>i||!a||o?{enabled:!1,mode:null}:{enabled:!0,mode:r?"default":"upsell"},[i,a,o,r])}var tRe=Object.freeze,Ilr=Object.defineProperty,Dlr=(n,e)=>tRe(Ilr(n,"raw",{value:tRe(e||n.slice())})),nRe;const rRe=F(rVe)(nRe||(nRe=Dlr([`
  svg > ellipse {
    stroke: transparent;
  }
`]))),Rlr=/[^\p{Alpha}\p{White_Space}]/gu,Olr=new RegExp("\\p{White_Space}+","u");function Plr(n){const e=n.replace(Rlr,"").split(Olr);return e.length===1?"".concat(e[0].charAt(0)).toUpperCase():"".concat(e[0].charAt(0)).concat(e[e.length-1].charAt(0))}function OB(n){const{user:e,...r}=n,i=e,o=p.useMemo(()=>Plr((i==null?void 0:i.displayName)||""),[i==null?void 0:i.displayName]);return i?d.jsx(rRe,{initials:o,src:i==null?void 0:i.imageUrl,title:i==null?void 0:i.displayName,...r}):d.jsx(rRe,{...r})}var iRe=Object.freeze,jlr=Object.defineProperty,Llr=(n,e)=>iRe(jlr(n,"raw",{value:iRe(e||n.slice())})),oRe;const P_=F.div(n=>{var e;const r=mt(n.theme),{$size:i=1}=n;return Ae(oRe||(oRe=Llr([`
    min-width: `,`px;
  `])),(e=r.avatar.sizes[i])==null?void 0:e.size)}),$lr=Na({name:"mention",type:"object",fields:[{name:"userId",type:"string"}]}),Mlr=Na({type:"block",name:"block",of:[$lr],marks:{annotations:[]},styles:[{title:"Normal",value:"normal"}],lists:[]}),Flr=jvt({type:"array",name:"body",of:[Mlr]}),Nlr=zte.compile({name:"comments",types:[Flr]}),Blr=Nlr.get("body"),Ulr=9999999;function zlr(n){const{t:e}=me(Zo),{onClose:r,onConfirm:i}=n,o=p.useCallback(a=>{a.stopPropagation(),r()},[r]),s=p.useCallback(a=>{a.stopPropagation(),i()},[i]);return d.jsx(qze,{tone:"default",children:d.jsx(Rq,{zOffset:Ulr,children:d.jsx(ja,{header:e("discard.header"),id:"discard-comment-dialog",onClose:r,width:0,onClickOutside:r,footer:{cancelButton:{onClick:o},confirmButton:{onClick:s,text:e("discard.button-confirm"),tone:"critical"}},children:d.jsx(J,{size:1,children:e("discard.text")})})})})}var sRe=Object.freeze,Vlr=Object.defineProperty,Hlr=(n,e)=>sRe(Vlr(n,"raw",{value:sRe(e||n.slice())})),aRe;const Wlr=F(oe)(aRe||(aRe=Hlr([""]))),Glr={width:"50%"};function qlr(n){const{user:e,onSelect:r}=n,[i]=lm(e.id),{t:o}=me(Zo),s=d.jsx(OB,{user:i,status:e.granted?void 0:"inactive"}),a=i?d.jsx(J,{size:1,textOverflow:"ellipsis",title:i.displayName,children:i.displayName}):d.jsx(ro,{size:1,style:Glr}),l=p.useCallback(()=>{r(e.id)},[r,e.id]);return d.jsx(ke,{as:"button",disabled:!e.granted,onClick:l,padding:2,radius:2,children:d.jsxs(oe,{align:"center",gap:3,children:[d.jsxs(Wlr,{align:"center",gap:2,flex:1,children:[s,d.jsx(te,{children:a})]}),!e.granted&&d.jsx(_u,{fontSize:1,mode:"outline",children:o("mentions.unauthorized-user")})]})})}const lRe=[],Klr=F(Se)({maxWidth:"220px"}),cRe=41,Ylr=4,Zlr=7,Xlr=F(oe)({maxHeight:cRe*Zlr+Ylr*2+cRe/2}),Qlr=p.forwardRef(function(e,r){const{t:i}=me(Zo),{loading:o,onSelect:s,options:a=[],inputElement:l}=e,[c,u]=p.useState(""),f=p.useRef(null);p.useImperativeHandle(r,()=>({setSearchTerm(y){u(y)}}),[]);const h=p.useCallback(y=>d.jsx(qlr,{user:y,onSelect:s}),[s]),m=p.useCallback(y=>{var b;return!((b=a==null?void 0:a[y])!=null&&b.granted)},[a]),g=p.useMemo(()=>{var y;if(!c)return a||lRe;const b=I3(c).toLocaleLowerCase(),x=a==null?void 0:a.map(w=>({...w,displayName:I3(w.displayName||"").toLocaleLowerCase()}));return((y=x==null?void 0:x.filter(w=>{var C;return(C=w==null?void 0:w.displayName)==null?void 0:C.includes(b)}))==null?void 0:y.sort((w,C)=>{var S,T;const A=(S=w.displayName)==null?void 0:S.startsWith(b),I=(T=C.displayName)==null?void 0:T.startsWith(b);return A&&!I?-1:!A&&I?1:0}))||lRe},[a,c]);if(o)return d.jsx(Klr,{children:d.jsx(Zr,{showText:!0})});const v=l||void 0;return d.jsxs(oe,{direction:"column",height:"fill","data-testid":"comments-mentions-menu",children:[g.length===0&&d.jsx(te,{padding:5,children:d.jsx(J,{align:"center",size:1,muted:!0,children:i("mentions.no-users-found")})}),g.length>0&&d.jsx(Xlr,{direction:"column",flex:1,overflow:"hidden",children:d.jsx(Wy,{activeItemDataAttr:"data-hovered",ariaLabel:i("mentions.user-list-aria-label"),fixedHeight:!0,getItemDisabled:m,inputElement:v,itemHeight:41,items:g,padding:1,ref:f,renderItem:h})})]})});var uRe=Object.freeze,Jlr=Object.defineProperty,ecr=(n,e)=>uRe(Jlr(n,"raw",{value:uRe(e||n.slice())})),dRe;const tcr=F.span(n=>{let{theme:e}=n;var r,i,o;const{regular:s}=(r=e.sanity.fonts)==null?void 0:r.text.weights,{hovered:a}=(i=e.sanity.color)==null?void 0:i.card,{bg:l}=((o=e.sanity.color.selectable)==null?void 0:o.caution.pressed)||{};return Ae(dRe||(dRe=ecr([`
    font-weight: `,`;
    color: var(--card-link-fg-color);
    border-radius: 2px;
    background-color: `,`;
    padding: 1px;
    box-sizing: border-box;

    &[data-active='true'] {
      background-color: `,`;
    }
  `])),s,a.bg,l)});function vit(n){const{selected:e,userId:r}=n,[i,o]=lm(r),s=ao();return!i||o?d.jsx(ro,{"data-testid":"comment-mentions-loading-skeleton",style:{width:"10ch"},size:0,muted:!0,radius:1,animated:!0}):d.jsx(zn,{portal:!0,content:d.jsxs(oe,{align:"center",gap:2,children:[d.jsx(oe,{children:d.jsx(OB,{user:i})}),d.jsx(J,{size:1,children:i.displayName})]}),children:d.jsxs(tcr,{"data-selected":e,"data-active":(s==null?void 0:s.id)===r,children:["@",i.displayName]})})}var fRe=Object.freeze,ncr=Object.defineProperty,rcr=(n,e)=>fRe(ncr(n,"raw",{value:fRe(e||n.slice())})),hRe;const icr=F(J)(hRe||(hRe=rcr([`
  word-break: break-word;
`])));function Bu(n){const{children:e}=n;return d.jsx(icr,{size:1,children:e})}const ocr=n=>{const{children:e}=n;return d.jsx(Bu,{children:e})},scr=n=>{const{children:e,value:r,selected:i}=n;return r._type==="mention"&&r.userId?d.jsx(vit,{selected:i,userId:r==null?void 0:r.userId}):e},yit=_t.createContext(null);function acr(n){const{children:e,expandOnFocus:r=!1,focused:i,focusOnMount:o=!1,mentionOptions:s,onMentionMenuOpenChange:a,value:l,readOnly:c}=n,u=fa(),[f,h]=p.useState(!1),[m,g]=p.useState(""),[v,y]=p.useState(null),b=p.useMemo(()=>_w(l),[l]),x=zrt(l),_=p.useCallback(()=>{c||ut.focus(u)},[u,c]),w=p.useCallback(()=>{h(!1),g(""),y(null)},[]),C=p.useCallback(()=>{h(!0),g(""),h(!0),y(ut.getSelection(u))},[u]),S=p.useCallback(D=>{const R=ut.getSelection(u),P=R?R.focus.offset:0,O=ut.focusChild(u),$=Yl(O)&&O||void 0,L=D.inputType==="insertText",M=D.inputType==="deleteContentBackward",N=L&&D.data==="@",z=($==null?void 0:$.text.substring(0,P).lastIndexOf("@"))||0,B=($==null?void 0:$.text.substring(P-1,P))===" ",H=L&&D.data===" "&&!m;if(N&&(P<1||B)){C();return}if(H||M&&(($==null?void 0:$.text.length)===1||z===(($==null?void 0:$.text.length)||0)-1)){w();return}if(Yl(O)){let X=O.text.substring(z+1,P);L&&(X+=D.data),M&&(X=X.substring(0,X.length-1)),g(X)}},[w,u,m,C]),T=p.useCallback(()=>{h(!0),ut.focus(u),ut.insertChild(u,u.schemaTypes.span,{text:"@"}),y(ut.getSelection(u))},[u]);rc(f,()=>a==null?void 0:a(f));const A=p.useCallback(D=>{var R;const P=u.schemaTypes.inlineObjects.find(L=>L.name==="mention"),[O,$]=v&&ut.findByPath(u,v.focus.path)||[];if(O&&Yl(O)&&$&&P){ut.focus(u);const L=(R=ut.getSelection(u))==null?void 0:R.focus.offset;typeof L<"u"&&(ut.delete(u,{anchor:{path:$,offset:O.text.lastIndexOf("@")},focus:{path:$,offset:L}},{mode:"selected"}),ut.insertChild(u,P,{userId:D}),ut.insertChild(u,u.schemaTypes.span,{text:" "}))}},[u,v]),I=p.useMemo(()=>({canSubmit:b,closeMentions:w,editor:u,expandOnFocus:r,focused:i,focusEditor:_,focusOnMount:o,hasChanges:x,insertAtChar:T,insertMention:A,mentionOptions:s,mentionsMenuOpen:f,mentionsSearchTerm:m,onBeforeInput:S,openMentions:C,readOnly:!!c,value:l}),[b,w,u,r,i,_,o,x,T,A,s,f,m,S,C,c,l]);return d.jsx(yit.Provider,{value:I,children:e})}function bit(){const n=p.useContext(yit);if(!n)throw new Error("useCommentInputContext must be used within a CommentInputProvider");return n}const lcr={passive:!0};function ccr(n){const{disabled:e,rootElement:r}=n,[i,o]=p.useState(null),s=p.useMemo(()=>i?{getBoundingClientRect:()=>i}:null,[i]),a=p.useCallback(()=>{if(e){o(null);return}const l=window.getSelection();if(!l||!l.isCollapsed||l.rangeCount===0)return;const c=l.getRangeAt(0);if(!(r==null?void 0:r.contains(c.commonAncestorContainer))){o(null);return}const f=c==null?void 0:c.getBoundingClientRect();f&&o(f)},[e,r]);return p.useEffect(()=>(document.addEventListener("selectionchange",a,lcr),()=>{document.removeEventListener("selectionchange",a)}),[a]),s}var pRe=Object.freeze,ucr=Object.defineProperty,xit=(n,e)=>pRe(ucr(n,"raw",{value:pRe(e||n.slice())})),mRe,gRe;const dcr=["bottom","top"],fcr={outline:"none"},vRe=[],hcr=F.span(n=>{const{color:e}=mt(n.theme);return Ae(mRe||(mRe=xit([`
    color: `,`;
    overflow: hidden;
    text-overflow: ellipsis;
    text-wrap: nowrap;
    display: block;
  `])),e.input.default.enabled.placeholder)}),pcr=F(Ai)(n=>{let{theme:e}=n;const{space:r,radius:i}=e.sanity;return Ae(gRe||(gRe=xit([`
    &[data-placement='bottom'] {
      transform: translateY(`,`px);
    }

    &[data-placement='top'] {
      transform: translateY(-`,`px);
    }

    [data-ui='Popover__wrapper'] {
      border-radius: `,`px;
      display: flex;
      flex-direction: column;
      overflow: clip;
      overflow: hidden;
      position: relative;
      width: 300px; // todo: improve
    }
  `])),r[1],r[1],i[3])});function mcr(n){const{t:e}=me(Zo),{focusLock:r,placeholder:i=e("compose.create-comment-placeholder"),onFocus:o,onBlur:s,onKeyDown:a,onSubmit:l}=n,[c,u]=p.useState(null),f=p.useRef(null),h=p.useRef(null),m=p.useRef(null),g=cw(),{canSubmit:v,closeMentions:y,insertMention:b,mentionOptions:x,mentionsMenuOpen:_,mentionsSearchTerm:w,onBeforeInput:C,value:S}=bit(),T=ccr({disabled:!_,rootElement:f.current}),A=p.useCallback(()=>d.jsx(hcr,{children:i}),[i]),I=p.useCallback(()=>{_&&y()},[y,_]);ki(I,[c]);const D=p.useCallback(O=>{switch(O.key){case"Enter":if(O.shiftKey)break;if(O.preventDefault(),O.stopPropagation(),_){y();break}l&&v&&l();break;case"Escape":case"ArrowLeft":case"ArrowRight":_&&(O.preventDefault(),O.stopPropagation(),y());break}a&&a(O)},[v,y,_,a,l]),R=p.useMemo(()=>{if(g)return;const O=(S||vRe).slice(-1)[0],$=ka(O)?O.children.slice(-1)[0]:void 0;if(!$)return;const L={path:[{_key:O._key},"children",{_key:$._key}],offset:Yl($)?$.text.length:0};return{focus:L,anchor:L}},[S,g]);p.useEffect(()=>{var O;(O=m.current)==null||O.setSearchTerm(w)},[w]),p.useEffect(()=>{_&&g&&!Br(g.anchor,g.focus)&&y()},[_,y,g]);const P=d.jsx(Qlr,{inputElement:h.current,loading:x.loading,onSelect:b,options:x.data||vRe,ref:m});return d.jsxs("div",{ref:f,children:[d.jsx(pcr,{arrow:!1,constrainSize:!0,content:P,disabled:!_,fallbackPlacements:dcr,open:_,placement:"bottom",ref:u,referenceElement:T}),d.jsx(Kqe,{"data-testid":"comment-input-editable","data-ui":"EditableElement",onBeforeInput:C,onBlur:s,onFocus:o,onKeyDown:D,ref:h,renderBlock:ocr,renderChild:scr,renderPlaceholder:A,selection:R,style:fcr,tabIndex:r?0:void 0})]})}var yRe=Object.freeze,gcr=Object.defineProperty,wit=(n,e)=>yRe(gcr(n,"raw",{value:yRe(e||n.slice())})),bRe,xRe;const c$=F(te)(bRe||(bRe=wit([`
  max-height: 20vh;
  overflow-y: auto;
`]))),vcr=F(Io)({height:20,width:1});function xH(n){return"inset 0 0 0 ".concat(n.width,"px ").concat(n.color)}const ycr=F(ke)(n=>{let{theme:e}=n;const{color:r,input:i,radius:o}=mt(e),s=o[2];return Ae(xRe||(xRe=wit([`
    border-radius: `,`px;
    box-shadow: var(--input-box-shadow);

    --input-box-shadow: `,`;

    &:not([data-expand-on-focus='false'], :focus-within) {
      background: transparent;
      box-shadow: unset;
    }

    &[data-focused='true']:focus-within {
      `,` {
        min-height: 1em;
      }

      /* box-shadow: inset 0 0 0 1px var(--card-focus-ring-color); */
      --input-box-shadow: `,`;
    }

    &:focus-within {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='false'] {
      `,` {
        min-height: 1em;
      }
    }

    &[data-expand-on-focus='true'] {
      [data-ui='CommentInputActions']:not([hidden]) {
        display: none;
      }

      &:focus-within {
        [data-ui='CommentInputActions'] {
          display: flex;
        }
      }
    }
    &:hover {
      --input-box-shadow: `,`;
    }
  `])),s,xH({color:r.input.default.enabled.border,width:i.border.width}),c$,xH({color:"var(--card-focus-ring-color)",width:i.border.width}),c$,c$,xH({color:r.input.default.hovered.border,width:i.border.width}))}),bcr=F.div(n=>{var e;const r=mt(n.theme);return`
    min-height: `.concat((e=r.avatar.sizes[1])==null?void 0:e.size,`px;
    display: flex;
    align-items: center;
  `)});function xcr(n){const{avatarSize:e=1,currentUser:r,focusLock:i,onBlur:o,onFocus:s,onKeyDown:a,onSubmit:l,placeholder:c,withAvatar:u}=n,[f]=lm(r.id),{canSubmit:h,expandOnFocus:m,focused:g,hasChanges:v,insertAtChar:y,openMentions:b,readOnly:x}=bit(),{t:_}=me(Zo),w=u?d.jsx(bcr,{children:d.jsx(OB,{user:f,size:e})}):null,C=p.useCallback(S=>{S.stopPropagation(),y(),b()},[y,b]);return d.jsxs(oe,{align:"flex-start",gap:2,children:[w,d.jsx(ycr,{id:"comment-input-root","data-expand-on-focus":m&&!h?"true":"false","data-focused":g?"true":"false",flex:1,sizing:"border",tone:x?"transparent":"default",children:d.jsxs(Se,{children:[d.jsx(c$,{paddingX:1,paddingY:2,sizing:"border","data-ui":"editable-wrap",children:d.jsx(mcr,{focusLock:i,onBlur:o,onFocus:s,onKeyDown:a,onSubmit:l,placeholder:c})}),d.jsx(oe,{align:"center","data-ui":"CommentInputActions",gap:1,justify:"flex-end",padding:1,children:d.jsxs(xu,{children:[d.jsx(ze,{"aria-label":_("compose.mention-user-aria-label"),"data-testid":"comment-input-mention-button",disabled:x,icon:vsr,mode:"bleed",type:"button",onClick:C,tooltipProps:{content:_("compose.mention-user-tooltip")}}),l&&d.jsxs(d.Fragment,{children:[d.jsx(vcr,{}),d.jsx(ze,{"aria-label":_("compose.send-comment-aria-label"),"data-testid":"comment-input-send-button",disabled:!h||!v||x,icon:ysr,mode:v&&h?"default":"bleed",onClick:l,tone:v&&h?"primary":"default",tooltipProps:{content:_("compose.send-comment-tooltip")}})]})]})})]})})]})}const wH=[],wcr={behavior:"smooth",block:"center",inline:"center"},Ew=p.forwardRef(function(e,r){const{avatarSize:i,currentUser:o,expandOnFocus:s,focusLock:a=!1,focusOnMount:l,mentionOptions:c,onBlur:u,onChange:f,onDiscardCancel:h,onDiscardConfirm:m,onFocus:g,onKeyDown:v,onMentionMenuOpenChange:y,onSubmit:b,placeholder:x,readOnly:_,value:w=wH,withAvatar:C=!0}=e,[S,T]=p.useState(!1),A=p.useRef(null),I=p.useRef(null),[D,R]=p.useState(!1),P=p.useRef(null),O=p.useRef(null),$=p.useRef(null),[L,M]=p.useState($5()),N=p.useCallback(()=>{requestAnimationFrame(()=>{A.current&&ut.focus(A.current)})},[]),z=p.useCallback(()=>{M($5())},[]),B=p.useCallback(K=>{if(K.type==="ready"&&l&&N(),K.type==="focus"&&T(!0),K.type==="blur"&&T(!1),K.type==="patch"&&A.current){const Q=ut.getValue(A.current);f(Q||wH)}},[l,f,N]),H=p.useCallback(()=>{var K;(K=I.current)==null||K.scrollIntoView(wcr)},[]),X=p.useCallback(()=>{b==null||b(),z(),N(),H()},[b,N,z,H]),G=p.useCallback(()=>{m(),z()},[m,z]),ne=p.useMemo(()=>({open:()=>{R(!0)},close:()=>{R(!1),N()}}),[N]);p.useImperativeHandle(r,()=>({focus:N,blur(){A.current&&ut.blur(A.current)},scrollTo:H,reset:z,discardDialogController:ne}),[ne,N,z,H]);const le=p.useCallback(K=>{if(!a)return;const Q=K.target,re=$.current;if(re&&Q===P.current){ute(re);return}re&&Q===O.current&&Cx(re)},[a]);return d.jsxs(d.Fragment,{children:[D&&h&&d.jsx(zlr,{onClose:h,onConfirm:G}),d.jsx(Se,{ref:I,"data-testid":"comment-input",onFocus:le,children:d.jsx(ut,{onChange:B,readOnly:_,ref:A,schemaType:Blr,value:w||wH,children:d.jsxs(acr,{expandOnFocus:s,focused:S,focusOnMount:l,mentionOptions:c,onMentionMenuOpenChange:y,readOnly:_,value:w,children:[a&&d.jsx("div",{ref:P,tabIndex:0}),d.jsx(Se,{ref:$,children:d.jsx(xcr,{avatarSize:i,currentUser:o,focusLock:a,onBlur:u,onFocus:g,onKeyDown:v,onSubmit:b&&X,placeholder:x,withAvatar:C})}),a&&d.jsx("div",{ref:O,tabIndex:0})]})},L)})]})}),Qm="yellow",pZ=[{shortName:":+1:",title:"Thumbs up"},{shortName:":-1:",title:"Thumbs down"},{shortName:":heart:",title:"Heart"},{shortName:":rocket:",title:"Rocket"},{shortName:":heavy_plus_sign:",title:"Heavy plus sign"},{shortName:":eyes:",title:"Eyes"}],t4={":-1:":"👎",":+1:":"👍",":eyes:":"👀",":heart:":"❤️",":heavy_plus_sign:":"➕",":rocket:":"🚀"};var wRe=Object.freeze,_cr=Object.defineProperty,Ecr=(n,e)=>wRe(_cr(n,"raw",{value:wRe(e||n.slice())})),_Re;const Ccr=F.span(n=>{let{theme:e}=n;var r;const i=(r=e.sanity.v2)==null?void 0:r.color._dark,o=Kt[Qm][i?800:100].hex,s=Kt[Qm][i?700:300].hex,a=Kt[Qm][i?700:200].hex,l=Kt[Qm][i?600:400].hex,c=Kt[Qm][i?700:200].hex,u=Kt[Qm][i?600:400].hex,f=o,h=s;return Ae(_Re||(_Re=Ecr([`
    box-sizing: border-box;
    transition:
      background-color 100ms ease,
      border-color 100ms ease;

    // Make sure that child elements appropriately blend with the
    // background of the highlight span
    * {
      mix-blend-mode: `,`;
    }

    &[data-inline-comment-state='added'][data-inline-comment-nested='false'] {
      background-color: `,`;
      border-bottom: 2px solid `,`;
    }

    &[data-inline-comment-state='added'][data-inline-comment-nested='true'] {
      background-color: `,`;
      border-bottom: 2px solid `,`;
    }

    &[data-inline-comment-state='added'][data-inline-comment-nested='false'][data-hovered='true'] {
      background-color: `,`;
      border-bottom: 2px solid `,`;
    }

    &[data-inline-comment-state='authoring'] {
      background-color: `,`;
      border-bottom: 2px solid `,`;
    }
  `])),i?"screen":"multiply",o,s,c,u,a,l,f,h)}),_it=p.forwardRef(function(e,r){const{children:i,isAdded:o,isAuthoring:s,isHovered:a,isNested:l,...c}=e,u=o?"added":s?"authoring":void 0;return d.jsx(Ccr,{...c,"data-hovered":a?"true":"false","data-inline-comment-nested":l?"true":"false","data-inline-comment-state":u,ref:r,children:i})});var ERe=Object.freeze,Scr=Object.defineProperty,kcr=(n,e)=>ERe(Scr(n,"raw",{value:ERe(e||n.slice())})),CRe;const Tcr=F(Se)(()=>Ae(CRe||(CRe=kcr([`
    & > [data-ui='Text']:not(:first-child) {
      margin-top: 1em; // todo: improve
    }

    & > [data-ui='Text']:has(> span:empty) {
      display: none;
    }
  `])))),Acr=[],Icr={block:{normal:n=>{let{children:e}=n;return d.jsx(Bu,{children:e})},h1:n=>{let{children:e}=n;return d.jsx(Bu,{children:e})},h2:n=>{let{children:e}=n;return d.jsx(Bu,{children:e})},h3:n=>{let{children:e}=n;return d.jsx(Bu,{children:e})},h4:n=>{let{children:e}=n;return d.jsx(Bu,{children:e})},h5:n=>{let{children:e}=n;return d.jsx(Bu,{children:e})},h6:n=>{let{children:e}=n;return d.jsx(Bu,{children:e})},blockquote:n=>{let{children:e}=n;return d.jsx(Bu,{children:e})},code:n=>{let{children:e}=n;return d.jsx(Bu,{children:e})}},list:{bullet:n=>{let{children:e}=n;return e},number:n=>{let{children:e}=n;return d.jsx(d.Fragment,{children:e})},checkmarks:n=>{let{children:e}=n;return d.jsx(d.Fragment,{children:e})}},listItem:{bullet:n=>{let{children:e}=n;return d.jsx(Bu,{children:e})},number:n=>{let{children:e}=n;return d.jsx(Bu,{children:e})},checkmarks:n=>{let{children:e}=n;return d.jsx(Bu,{children:e})}},marks:{strong:n=>{let{children:e}=n;return d.jsx(d.Fragment,{children:e})},em:n=>{let{children:e}=n;return d.jsx(d.Fragment,{children:e})},code:n=>{let{children:e}=n;return d.jsx(d.Fragment,{children:e})},underline:n=>{let{children:e}=n;return d.jsx(d.Fragment,{children:e})},strikeThrough:n=>{let{children:e}=n;return d.jsx(d.Fragment,{children:e})},link:n=>{let{children:e}=n;return d.jsx(d.Fragment,{children:e})}},types:{mention:n=>{var e;return d.jsx(vit,{userId:(e=n==null?void 0:n.value)==null?void 0:e.userId,selected:!1})}}};function Dcr(n){const{blocks:e}=n;return d.jsx(Tcr,{children:d.jsx(sXe,{value:e||Acr,components:Icr})})}const Bk=3;var SRe=Object.freeze,Rcr=Object.defineProperty,Ocr=(n,e)=>SRe(Rcr(n,"raw",{value:SRe(e||n.slice())})),kRe;const cse=F(J)(kRe||(kRe=Ocr([`
  font-family: 'Twemoji Mozilla', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
    'Noto Color Emoji', 'EmojiOne Color', 'Android Emoji', sans-serif;
`]))),Pcr=6;function jcr(n){const{options:e,onSelect:r}=n,{t:i}=me(Zo),[o,s]=p.useState([]),[a,l]=p.useState(null),[c,u]=p.useState(0),f=p.useCallback(m=>{const g=o.length;m.key==="ArrowRight"&&u(v=>(v+1)%g),m.key==="ArrowLeft"&&u(v=>(v-1+g)%g)},[o.length]),h=p.useCallback(m=>{const g=o.indexOf(m.currentTarget);u(g),r(e[g])},[o,r,e]);return p.useEffect(()=>{if(a){const m=a.querySelectorAll("button");s(Array.from(m))}},[a]),p.useEffect(()=>{o.length>0&&o[c].focus()},[o,c]),d.jsx(eo,{columns:Pcr,gap:1,onKeyDown:f,ref:l,role:"menu",children:e.map(m=>{const g=t4[m.shortName];return d.jsx(ui,{"aria-label":i("reactions.react-with-aria-label",{reactionName:m.title||m.shortName}),mode:"bleed",onClick:h,padding:2,role:"menuitem",tabIndex:-1,children:d.jsx(cse,{align:"center",size:2,children:g})},m.shortName)})})}const Lcr=["top","bottom"];function Eit(n){const{onMenuClose:e,onMenuOpen:r,onSelect:i,options:o,readOnly:s,renderMenuButton:a,mode:l}=n,[c,u]=p.useState(null),[f,h]=p.useState(null),[m,g]=p.useState(!1),{t:v}=me(Zo),y=p.useCallback(()=>{const T=!m;g(T),T?r==null||r():e==null||e()},[e,r,m]),b=p.useCallback(()=>{m&&(g(!1),e==null||e(),c==null||c.focus())},[c,e,m]),x=p.useCallback(b,[b]),_=p.useCallback(T=>{const{key:A,shiftKey:I}=T;(I&&A==="Tab"||A==="Escape"||A==="Tab")&&b()},[b]);ki(x,[f,c]);const w=p.useCallback(T=>{i(T),b()},[b,i]),C=p.useMemo(()=>{const T=a({open:m,tooltipContent:v(l==="upsell"?"list-item.context-menu-add-reaction-upsell":"list-item.context-menu-add-reaction"),t:v});return p.cloneElement(T,{"aria-expanded":m,"aria-haspopup":"true",disabled:s||l==="upsell",id:"reactions-menu-button",onClick:y,ref:u})},[y,m,s,a,v,l]),S=d.jsx(ke,{"aria-labelledby":"reactions-menu-button",onKeyDown:_,padding:1,radius:3,tone:"default",children:d.jsx(jcr,{onSelect:w,options:o})});return d.jsx(Ai,{constrainSize:!0,content:S,fallbackPlacements:Lcr,open:m,placement:"bottom",portal:!0,ref:h,tone:"default",children:C})}var TRe=Object.freeze,$cr=Object.defineProperty,PB=(n,e)=>TRe($cr(n,"raw",{value:TRe(e||n.slice())})),ARe,IRe,DRe,RRe;const Mcr=1,Fcr=F(Se)(ARe||(ARe=PB([`
  max-width: 180px;
`]))),Ncr=F.div(IRe||(IRe=PB([`
  display: inline-block;
`]))),OE=F(J).attrs({size:Mcr})(DRe||(DRe=PB([`
  display: inline-block !important;

  & > span {
    white-space: break-spaces;
  }
`]))),Bcr=F(te)(RRe||(RRe=PB([`
  line-height: 1;
  text-align: center;
`]))),ORe=/^\S+/;function PRe(n){const{currentUserId:e,isFirst:r,userId:i}=n,[o]=lm(i),{t:s}=me(Zo);return e===i?s("reactions.user-list.you",{context:r?"leading":void 0,replace:{name:o==null?void 0:o.displayName}}):(o==null?void 0:o.displayName)||s("reactions.user-list.unknown-user-fallback-name")}function Ucr(n){const{children:e,...r}=n;return d.jsx(zn,{content:d.jsx(Vcr,{...r}),placement:"bottom",portal:!0,children:d.jsx("div",{children:e})})}function zcr(n){let{currentUserId:e,userIds:r}=n;const i=a2({style:"long",type:"conjunction"});if(r.length===0)return null;const o=i.formatToParts(r),s=[];for(let a=0;a<o.length;a++){const l=o[a];if(l.type==="literal"){s.push(d.jsx(OE,{children:l.value},"literal-".concat(a)));continue}const c=o[a+1];if(c&&c.type==="literal"&&ORe.test(c.value)){const[f=""]=c.value.match(ORe)||[];s.push(d.jsxs(Ncr,{children:[d.jsx(OE,{weight:"medium",children:d.jsx(PRe,{currentUserId:e,isFirst:a===0,userId:l.value})}),d.jsx(OE,{children:f})]},l.value)),c.value=c.value.slice(f.length);continue}s.push(d.jsx(OE,{weight:"medium",children:d.jsx(PRe,{currentUserId:e,isFirst:a===0,userId:l.value})},l.value))}return s}function Vcr(n){const{currentUser:e,reactionName:r,userIds:i}=n,{t:o}=me(Zo),s=p.useCallback(()=>e?d.jsx(zcr,{currentUserId:e.id,userIds:i}):null,[e,i]);return d.jsxs(Fcr,{padding:1,children:[d.jsx(oe,{justify:"center",paddingBottom:2,paddingTop:1,children:d.jsx(cse,{size:4,children:t4[r]})}),d.jsx(Bcr,{children:d.jsx(bn,{t:o,i18nKey:"reactions.users-reacted-with-reaction",values:{reactionName:r},components:{UserList:s,ReactionName:()=>d.jsx(OE,{muted:!0,children:r}),Text:a=>{let{children:l}=a;return d.jsxs(d.Fragment,{children:[d.jsx(OE,{muted:!0,children:l})," ",d.jsx("wbr",{})," "]})}}})})]})}var jRe=Object.freeze,Hcr=Object.defineProperty,Wcr=(n,e)=>jRe(Hcr(n,"raw",{value:jRe(e||n.slice())})),LRe;const $Re=F(ke)(LRe||(LRe=Wcr([`
  background: none;
`])));function Gcr(n){const e=n.reduce((i,o)=>{const{shortName:s}=o;return i[s]||(i[s]=[]),i[s].push(o),i},{});return Object.entries(e).sort((i,o)=>{let[s]=i,[a]=o;const l=n.findIndex(u=>u.shortName===s),c=n.findIndex(u=>u.shortName===a);return l-c})}const qcr=n=>{let{open:e,tooltipContent:r}=n;return d.jsx(ui,{fontSize:1,mode:"ghost",padding:0,radius:"full",selected:e,children:d.jsx(oe,{paddingX:3,paddingY:2,children:d.jsx(zn,{animate:!0,content:r,disabled:e,children:d.jsx(J,{size:1,children:d.jsx(Frt,{})})})})})},Kcr=_t.memo(function(e){const{currentUser:r,onSelect:i,reactions:o,readOnly:s,mode:a}=e,l=p.useCallback(m=>{const g=pZ.find(v=>v.shortName===m);g&&i(g)},[i]),c=p.useMemo(()=>o.filter(m=>m.userId===(r==null?void 0:r.id)).map(m=>m.shortName),[r==null?void 0:r.id,o]),u=p.useMemo(()=>Gcr(o).filter(g=>{let[v]=g;return t4[v]}),[o]),f=p.useRef(Object.keys(Object.fromEntries(u))),h=p.useMemo(()=>{const m=u.sort((g,v)=>{let[y]=g,[b]=v;const x=f.current.indexOf(y),_=f.current.indexOf(b);return x===-1?1:_===-1?-1:x-_});return f.current=m.map(g=>{let[v]=g;return v}),m},[u]);return d.jsx(oe,{align:"center",gap:1,wrap:"wrap",children:d.jsxs(xu,{children:[h.map(m=>{let[g,v]=m;const y=c.includes(g),b=v.map(_=>_.userId),x=t4[g];return d.jsx(Ucr,{currentUser:r,reactionName:g,userIds:b,children:d.jsx($Re,{tone:"default",children:d.jsx(ui,{disabled:s||a==="upsell",mode:"ghost",onClick:()=>l(g),padding:2,radius:"full",selected:y,tone:y?"primary":"default",children:d.jsxs(oe,{align:"center",gap:1,children:[d.jsx(cse,{size:1,children:x}),d.jsx(J,{size:0,weight:y?"semibold":"medium",children:v==null?void 0:v.length})]})})})},g)}),d.jsx($Re,{tone:"default",children:d.jsx(Eit,{mode:a,onSelect:m=>l(m.shortName),options:pZ,readOnly:s,renderMenuButton:qcr})})]})})});var MRe=Object.freeze,Ycr=Object.defineProperty,Zcr=(n,e)=>MRe(Ycr(n,"raw",{value:MRe(e||n.slice())})),FRe;const Xcr=n=>{let{open:e,tooltipContent:r,t:i}=n;return d.jsx(ze,{"aria-label":i("list-item.context-menu-add-reaction-aria-label"),icon:Frt,mode:"bleed",selected:e,tooltipProps:{content:r}})},Qcr={placement:"bottom-end"},Jcr=F(ke)(FRe||(FRe=Zcr([`
  &:empty {
    display: none;
  }
`])));function eur(n){const{canDelete:e,canEdit:r,isParent:i,mode:o,onCopyLink:s,onDeleteStart:a,onEditStart:l,onMenuClose:c,onMenuOpen:u,onReactionSelect:f,onStatusChange:h,readOnly:m,status:g}=n,v=!!(s||a||l),{t:y}=me(Zo),b=!!(e||r||s);return d.jsx(xu,{children:d.jsx(oe,{children:d.jsxs(Jcr,{display:"flex",shadow:2,padding:1,radius:2,sizing:"border",children:[f&&d.jsx(Eit,{mode:o,onMenuClose:c,onMenuOpen:u,onSelect:f,options:pZ,readOnly:m,renderMenuButton:Xcr}),i&&d.jsx(ze,{"aria-label":y(g==="open"?"list-item.resolved-tooltip-aria-label":"list-item.re-open-resolved-aria-label"),"data-testid":"comments-list-item-status-button",disabled:m,icon:g==="open"?VI:BM,mode:"bleed",onClick:h,tooltipProps:{content:y(g==="open"?"list-item.resolved-tooltip-content":"list-item.re-open-resolved")}}),b&&d.jsx(Vr,{id:"comment-actions-menu",button:d.jsx(ha,{"aria-label":y("list-item.open-menu-aria-label"),disabled:m,hidden:!v}),onOpen:u,onClose:c,menu:d.jsxs(_r,{children:[d.jsx(Wt,{hidden:!r,icon:df,onClick:l,text:y("list-item.edit-comment"),tooltipProps:o==="upsell"?{content:y("list-item.edit-comment-upsell")}:void 0,disabled:o==="upsell"}),d.jsx(Wt,{hidden:!e,icon:vs,onClick:a,text:y("list-item.delete-comment"),tone:"critical"}),d.jsx(Io,{hidden:!e&&!r}),d.jsx(Wt,{hidden:!s,icon:ff,onClick:s,text:y("list-item.copy-link")})]}),popover:Qcr})]})})})}var NRe=Object.freeze,tur=Object.defineProperty,Cit=(n,e)=>NRe(tur(n,"raw",{value:NRe(e||n.slice())})),BRe,URe;function nur(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250;return n.length<=e?n:"".concat(n.slice(0,e),"...")}const rur=F(te).attrs({marginLeft:1,marginRight:2})(BRe||(BRe=Cit([`
  &:not([data-hidden]) {
    display: inline;
  }
`]))),iur=F(Se)(n=>{let{theme:e,$hasReferencedValue:r}=n;var i;const o=(i=e.sanity.v2)==null?void 0:i.color._dark,s=r?Qm:"gray",a=o?Kt[s][700].hex:Kt[s][300].hex;return Ae(URe||(URe=Cit([`
    border-left: 2px solid `,`;
    word-break: break-word;
  `])),a)});function our(n){const{hasReferencedValue:e,value:r}=n,{t:i}=Sh(Zo),o=i("list-item.missing-referenced-value-tooltip-content"),s=p.useMemo(()=>{if(Array.isArray(r)&&(r==null?void 0:r.filter(ka).length)>0){const a=r==null?void 0:r.map(iXe).join(" ");return nur(a)}return null},[r]);return s?d.jsx(iur,{$hasReferencedValue:!!e,"data-testid":"comments-list-item-referenced-value",flex:1,forwardedAs:"blockquote",padding:1,paddingLeft:2,sizing:"border",children:d.jsx(oe,{align:"flex-start",children:d.jsxs(J,{size:1,muted:!0,children:[!e&&d.jsx(zn,{content:o,children:d.jsx(rur,{children:d.jsx(sBe,{})})}),s]})})}):null}var zRe=Object.freeze,sur=Object.defineProperty,Yy=(n,e)=>zRe(sur(n,"raw",{value:zRe(e||n.slice())})),VRe,HRe,WRe,GRe,qRe,KRe,YRe,ZRe;const XRe=n=>n.stopPropagation(),DT=F(te)(VRe||(VRe=Yy([""]))),aur={width:"50%"},lur=[],QRe=F(J)(n=>{let{theme:e}=n;const r=e.sanity.color.dark,i=Kt.gray[r?200:800].hex;return Ae(HRe||(HRe=Yy([`
    min-width: max-content;
    --card-fg-color: `,`;
    color: var(--card-fg-color);
  `])),i)}),cur=F(oe)(n=>{var e;const r=mt(n.theme);return Ae(WRe||(WRe=Yy([`
    min-height: `,`px;
  `])),(e=r.avatar.sizes[n.$size])==null?void 0:e.size)}),uur=F(J)(n=>{let{theme:e}=n;const r=e.sanity.color.dark,i=Kt.gray[r?200:800].hex;return Ae(GRe||(GRe=Yy([`
    --card-fg-color: `,`;
    color: var(--card-fg-color);
  `])),i)}),dur=F(Se)(qRe||(qRe=Yy([`
  transition: opacity 200ms ease;

  &[data-muted='true'] {
    transition: unset;
    opacity: 0.5;
  }
`]))),fur=F(oe)(n=>{var e;const r=mt(n.theme);return Ae(KRe||(KRe=Yy([`
    min-height: `,`px;
  `])),(e=r.avatar.sizes[n.$size])==null?void 0:e.size)}),hur=F(ke)(YRe||(YRe=Yy([`
  // Add not on hover
  &:not(:hover) {
    background-color: transparent;
  }
`]))),pur=F(Se)(n=>{let{theme:e}=n;const{space:r}=e.sanity;return Ae(ZRe||(ZRe=Yy([`
    position: relative;

    // Only show the floating layer on hover when hover is supported.
    // Else, the layer is always visible.
    @media (hover: hover) {
      `,` {
        opacity: 0;
        position: absolute;
        right: 0;
        top: 0;
        transform: translate(`,"px, -",`px);
      }

      `,` {
        &:focus-within {
          opacity: 1;
        }
      }

      &:hover {
        `,` {
          opacity: 1;
        }
      }
    }

    &[data-menu-open='true'] {
      `,` {
        opacity: 1;
      }
    }
  `])),DT,r[1],r[1],DT,DT,DT)}),mur={useTemporalPhrase:!0};function JRe(n){var e;const{avatarSize:r=1,canDelete:i,canEdit:o,comment:s,currentUser:a,hasError:l,hasReferencedValue:c,intent:u,isParent:f,isRetrying:h,mentionOptions:m,mode:g,onCopyLink:v,onCreateRetry:y,onDelete:b,onEdit:x,onInputKeyDown:_,onReactionSelect:w,onStatusChange:C,readOnly:S,withAvatar:T=!0}=n,{_createdAt:A,authorId:I,message:D,_id:R,lastEditedAt:P}=s,[O]=lm(I),{t:$}=me(Zo),[L,M]=p.useState(D),[N,z]=p.useState(!1),[B,H]=p.useState(null),X=p.useRef(D),[G,ne]=p.useState(!1),le=p.useRef(null),K=zrt(L),Q=p.useMemo(()=>_w(L),[L]),re=p.useMemo(()=>{var $t;return((($t=s==null?void 0:s.reactions)==null?void 0:$t.filter(yt=>(yt==null?void 0:yt._optimisticState)!=="removed"))||lur).filter(yt=>"userId"in yt&&"shortName"in yt)},[s==null?void 0:s.reactions]),se=!!(re!=null&&re.length),de=A?new Date(A):new Date,fe=P?new Date(P):null,we=wy(de,mur),ye=cf({dateStyle:"full",timeStyle:"medium"}),ve=ye.format(de),_e=fe?ye.format(fe):null,ge=l||h;p.useEffect(()=>{N||(X.current=D,M(D))},[N,D]);const pe=p.useCallback(()=>ne(!0),[]),Pe=p.useCallback(()=>ne(!1),[]),Re=p.useCallback(()=>v==null?void 0:v(R),[R,v]),Fe=p.useCallback($t=>{$t.stopPropagation(),y==null||y(R)},[R,y]),Ye=p.useCallback(()=>b(R),[R,b]),He=p.useCallback(()=>{z(!1),M(X.current)},[]),lt=p.useCallback(()=>{var $t;if(!Q||!K){He();return}($t=le.current)==null||$t.discardDialogController.open()},[He,K,Q]),Xe=p.useCallback($t=>{$t.isDefaultPrevented()||($t.key==="Escape"&&($t.preventDefault(),$t.stopPropagation(),lt()),_&&_($t))},[_,lt]),st=p.useCallback(()=>{var $t;($t=le.current)==null||$t.discardDialogController.close()},[]),kt=p.useCallback(()=>{var $t;($t=le.current)==null||$t.discardDialogController.close(),He()},[He]),Ge=p.useCallback($t=>{w==null||w(R,$t)},[R,w]),gt=p.useCallback(()=>{x(R,{message:L}),z(!1)},[R,x,L]),At=p.useCallback(()=>{C==null||C(R,s.status==="open"?"resolved":"open")},[R,s.status,C]),Dt=p.useCallback(()=>{z($t=>!$t)},[]),at=p.useCallback(()=>ne(!1),[]),tt=p.useCallback(()=>{K||He()},[He,K]),it=p.useCallback($t=>{$t.key==="Escape"&&!K&&He()},[He,K]);rc(N,at),ki(tt,[B]);const jt=O!=null&&O.displayName?d.jsx(J,{size:1,weight:"medium",textOverflow:"ellipsis",title:O.displayName,children:O.displayName}):d.jsx(ro,{size:1,style:aur});return d.jsxs(pur,{"data-menu-open":G?"true":"false","data-testid":"comments-list-item-layout",onKeyDown:it,ref:H,space:4,children:[d.jsxs(dur,{space:1,"data-muted":ge,children:[d.jsxs(cur,{align:"center",gap:Bk,flex:1,$size:r,children:[T&&d.jsx(OB,{user:O,size:r}),d.jsxs(oe,{direction:"column",gap:2,paddingY:u?2:0,children:[d.jsx(oe,{align:"center",paddingBottom:(e=s.context)!=null&&e.intent?0:1,sizing:"border",flex:1,children:d.jsxs(oe,{align:"flex-end",gap:2,children:[d.jsx(te,{flex:1,children:jt}),!ge&&d.jsxs(oe,{align:"center",gap:1,children:[d.jsx(QRe,{muted:!0,size:0,children:d.jsx("time",{dateTime:de.toISOString(),title:ve,children:we})}),_e&&fe&&d.jsx(QRe,{muted:!0,size:0,title:_e,children:d.jsxs("time",{dateTime:fe.toISOString(),title:_e,children:["(",$("list-item.layout-edited"),")"]})})]})]})}),u&&d.jsx(te,{flex:1,children:d.jsx(uur,{muted:!0,size:0,textOverflow:"ellipsis",children:d.jsx(bn,{t:$,i18nKey:"list-item.layout-context",values:{title:u.title,intent:"edit"},components:{IntentLink:$t=>{let{children:yt}=$t;return u?d.jsx(Sf,{params:u.params,intent:u.name,children:yt}):void 0}}})})})]}),!N&&!ge&&d.jsx(DT,{"data-root-menu":f?"true":"false",onClick:XRe,children:d.jsx(eur,{canDelete:i,canEdit:o,isParent:f,mode:g,onCopyLink:Re,onDeleteStart:Ye,onEditStart:Dt,onMenuClose:Pe,onMenuOpen:pe,onReactionSelect:Ge,onStatusChange:At,readOnly:S,status:s.status})})]}),u2(s)&&!!(s!=null&&s.contentSnapshot)&&d.jsxs(oe,{gap:Bk,marginBottom:3,children:[T&&d.jsx(P_,{$size:r}),d.jsx(our,{hasReferencedValue:c,value:s==null?void 0:s.contentSnapshot})]}),N&&d.jsxs(oe,{align:"flex-start",gap:2,children:[T&&d.jsx(P_,{$size:r}),d.jsx(Se,{flex:1,children:d.jsx(Ew,{currentUser:a,focusOnMount:!0,mentionOptions:m,onChange:M,onDiscardCancel:st,onDiscardConfirm:kt,onKeyDown:Xe,onSubmit:gt,readOnly:S,ref:le,value:L,withAvatar:!1})})]}),!N&&d.jsxs(oe,{gap:Bk,children:[T&&d.jsx(P_,{$size:r}),d.jsx(Dcr,{blocks:D})]}),se&&d.jsxs(oe,{gap:Bk,marginTop:2,children:[T&&d.jsx(P_,{$size:r}),d.jsx(te,{onClick:XRe,children:d.jsx(Kcr,{currentUser:a,mode:g,onSelect:Ge,reactions:re,readOnly:S})})]})]}),ge&&d.jsxs(fur,{gap:Bk,$size:r,children:[T&&d.jsx(P_,{$size:r}),d.jsxs(oe,{align:"center",gap:1,flex:1,children:[d.jsxs(J,{muted:!0,size:1,children:[l&&$("list-item.layout-failed-sent"),h&&$("list-item.layout-posting")]}),d.jsx(oe,{hidden:h,children:d.jsx(hur,{__unstable_focusRing:!0,display:"flex",forwardedAs:"button",onClick:Fe,padding:1,radius:2,tone:"primary",children:d.jsx(J,{size:1,muted:!0,children:$("list-item.layout-retry")})})})]})]})]})}var eOe=Object.freeze,gur=Object.defineProperty,vur=(n,e)=>eOe(gur(n,"raw",{value:eOe(e||n.slice())})),tOe;const Sit=F(ke).attrs({padding:3,radius:3,sizing:"border"})(n=>{const{theme:e}=n,r=e.sanity.color.dark,i=Kt[Qm][r?900:50].hex,o=Kt.gray[r?900:50].hex;return Ae(tOe||(tOe=vur([`
      background-color: `,`;

      &[data-active='true'] {
        background-color: `,`;
      }
    `])),o,i)});var nOe=Object.freeze,yur=Object.defineProperty,use=(n,e)=>nOe(yur(n,"raw",{value:nOe(e||n.slice())})),rOe,iOe,oOe;const o_=[],Uk=5,bur={avatarSize:1,parentCommentAvatar:!0,replyAvatar:!0,threadCommentsAvatar:!0},xur=F(Sit)(()=>Ae(rOe||(rOe=use([`
    position: relative;

    &:has(> [data-ui='GhostButton']:focus:focus-visible) {
      box-shadow:
        inset 0 0 0 1px var(--card-border-color),
        0 0 0 1px var(--card-bg-color),
        0 0 0 2px var(--card-focus-ring-color);
    }

    // The hover styles is managed with the [data-hovered] attribute instead of the :hover pseudo class
    // since we want to show the hover styles when hovering over the menu items in the context menu as well.
    // The context menu is rendered using a portal, so the :hover pseudo class won't work when hovering over
    // the menu items.
    &:not([data-active='true']) {
      @media (hover: hover) {
        &[data-hovered='true'] {
          [data-root-menu='true'] {
            opacity: 1;
          }
        }
      }
    }
  `])))),wur=F(ze)(n=>{let{theme:e}=n;const{medium:r}=e.sanity.fonts.text.weights;return Ae(iOe||(iOe=use([`
    font-weight: `,`;
  `])),r)}),_ur=F.button(oOe||(oOe=use([`
  opacity: 0;
  position: absolute;
  right: 0;
  top: 0;
  bottom: 0;
  left: 0;
`]))),kit=_t.memo(function(e){var r,i,o,s,a;const{avatarConfig:l=bur,canReply:c,currentUser:u,hasReferencedValue:f,innerPadding:h,isSelected:m,mentionOptions:g,mode:v,onCopyLink:y,onCreateRetry:b,onDelete:x,onEdit:_,onKeyDown:w,onPathSelect:C,onReactionSelect:S,onReply:T,onStatusChange:A,parentComment:I,readOnly:D,replies:R=o_}=e,{t:P}=me(Zo),[O,$]=p.useState(o_),[L,M]=p.useState(!0),N=p.useRef(!1),z=p.useRef(null),{isTopLayer:B}=Eu(),H=p.useMemo(()=>_w(O),[O]),[X,G]=p.useState(!1),ne=p.useCallback(()=>G(!0),[]),le=p.useCallback(()=>G(!1),[]),K=p.useCallback(()=>{var pe;const Pe={message:O,parentCommentId:I._id,status:(I==null?void 0:I.status)||"open",threadId:I.threadId,reactions:o_,payload:{fieldPath:((pe=I.target.path)==null?void 0:pe.field)||""}};T==null||T(Pe),$(o_)},[T,I._id,I==null?void 0:I.status,(r=I.target.path)==null?void 0:r.field,I.threadId,O]),Q=p.useCallback(()=>{var pe;if(!H){$(o_);return}(pe=z.current)==null||pe.discardDialogController.open()},[H]),re=p.useCallback(pe=>{pe.isDefaultPrevented()||pe.key==="Escape"&&(pe.preventDefault(),pe.stopPropagation(),Q())},[Q]),se=p.useCallback(()=>{var pe;(pe=z.current)==null||pe.discardDialogController.close()},[]),de=p.useCallback(()=>{var pe,Pe;$(o_),(pe=z.current)==null||pe.discardDialogController.close(),(Pe=z.current)==null||Pe.focus()},[]),fe=p.useCallback(pe=>{var Pe;pe.stopPropagation(),B&&(C==null||C({fieldPath:((Pe=I.target.path)==null?void 0:Pe.field)||"",origin:"inspector",threadId:I.threadId}))},[B,C,(i=I.target.path)==null?void 0:i.field,I.threadId]),we=p.useCallback(pe=>{pe.stopPropagation(),M(!1),N.current=!0},[]),ye=p.useMemo(()=>L?R==null?void 0:R.slice(-Uk):R,[R,L]),ve=p.useMemo(()=>R?R.length>Uk:!1,[R]),_e=p.useMemo(()=>"".concat((R==null?void 0:R.length)-Uk," more ").concat((R==null?void 0:R.length)-Uk===1?"comment":"comments"),[R==null?void 0:R.length]);p.useEffect(()=>{R.length>Uk&&!N.current&&M(!0)},[R]);const ge=p.useMemo(()=>ye.map(pe=>{var Pe,Re;return d.jsx(Se,{as:"li",...JDe(pe._id),children:d.jsx(JRe,{avatarSize:l.avatarSize,canDelete:pe.authorId===u.id,canEdit:pe.authorId===u.id,comment:pe,currentUser:u,hasError:((Pe=pe._state)==null?void 0:Pe.type)==="createError",isRetrying:((Re=pe._state)==null?void 0:Re.type)==="createRetrying",intent:_sr(I,pe),mentionOptions:g,mode:v,onCopyLink:y,onCreateRetry:b,onDelete:x,onEdit:_,onInputKeyDown:re,onReactionSelect:S,readOnly:D,withAvatar:l.threadCommentsAvatar})},pe._id)}),[l.threadCommentsAvatar,l.avatarSize,u,re,g,y,b,x,_,S,I,D,ye,v]);return d.jsxs(xur,{"data-active":m?"true":"false","data-hovered":X?"true":"false","data-testid":"comments-list-item",onClick:fe,onMouseEnter:ne,onMouseLeave:le,children:[d.jsx(_ur,{"data-ui":"GhostButton","aria-label":P("list-item.go-to-field-button.aria-label")}),d.jsxs(Se,{as:"ul",padding:h,paddingBottom:c?void 0:1,space:4,children:[d.jsx(Se,{as:"li",...JDe(I._id),children:d.jsx(JRe,{avatarSize:l.avatarSize,canDelete:I.authorId===u.id,canEdit:I.authorId===u.id,comment:I,currentUser:u,hasError:((o=I._state)==null?void 0:o.type)==="createError",hasReferencedValue:f,intent:(s=I.context)==null?void 0:s.intent,isParent:!0,isRetrying:((a=I._state)==null?void 0:a.type)==="createRetrying",mentionOptions:g,mode:v,onCopyLink:y,onCreateRetry:b,onDelete:x,onEdit:_,onInputKeyDown:w,onReactionSelect:S,onStatusChange:A,readOnly:D,withAvatar:l.parentCommentAvatar})}),ve&&!N.current&&d.jsxs(oe,{gap:1,paddingY:1,sizing:"border",children:[d.jsx(P_,{}),d.jsx(wur,{iconRight:qs,mode:"bleed",onClick:we,text:_e})]}),ge,c&&d.jsx(Ew,{avatarSize:l.avatarSize,currentUser:u,expandOnFocus:!0,mentionOptions:g,onChange:$,onDiscardCancel:se,onDiscardConfirm:de,onKeyDown:re,onSubmit:K,placeholder:P(v==="upsell"?"compose.reply-placeholder-upsell":"compose.reply-placeholder"),readOnly:D||v==="upsell",ref:z,value:O,withAvatar:l.replyAvatar})]})]})});function Eur(n){return{open:{title:n("list-status.empty-state-open-title"),message:n("list-status.empty-state-open-text")},resolved:{title:n("list-status.empty-state-resolved-title"),message:n("list-status.empty-state-resolved-text")}}}function Cur(n){const{status:e,error:r,loading:i,hasNoComments:o}=n,{t:s}=me(Zo),a=Eur(s);return r?d.jsx(oe,{align:"center",justify:"center",flex:1,padding:4,children:d.jsx(oe,{align:"center",children:d.jsx(J,{size:1,muted:!0,children:s("list-status.error")})})}):i?d.jsx(Zr,{showText:!0,title:s("list-status.loading")}):o?d.jsx(oe,{align:"center",justify:"center",flex:1,sizing:"border",children:d.jsx(Ya,{width:0,padding:4,children:d.jsxs(Se,{space:3,children:[d.jsx(J,{align:"center",size:1,muted:!0,weight:"medium",children:a[e].title}),d.jsx(J,{align:"center",size:1,muted:!0,children:a[e].message})]})})}):null}function Sur(n){const{currentUser:e,fieldTitle:r,mentionOptions:i,mode:o,onBlur:s,onFocus:a,onKeyDown:l,onNewThreadCreate:c,readOnly:u}=n,{t:f}=me(Zo),[h,m]=p.useState(ri),g=p.useRef(null),v=p.useCallback(()=>{c==null||c(h),m(ri)},[c,h]),y=p.useMemo(()=>_w(h),[h]),b=p.useCallback(()=>{var S;y&&((S=g.current)==null||S.discardDialogController.open())},[y]),x=p.useCallback(S=>{S.isDefaultPrevented()||(S.key==="Escape"&&(S.preventDefault(),S.stopPropagation(),b()),l&&l(S))},[l,b]),_=p.useCallback(()=>{var S,T;m(ri),(S=g.current)==null||S.discardDialogController.close(),(T=g.current)==null||T.focus()},[]),w=p.useCallback(()=>{var S;(S=g.current)==null||S.discardDialogController.close()},[]),C=o==="upsell"?f("compose.add-comment-input-placeholder-upsell"):d.jsx(bn,{t:f,i18nKey:"compose.add-comment-input-placeholder",values:{field:r}});return d.jsx(Ew,{currentUser:e,expandOnFocus:!0,mentionOptions:i,onBlur:s,onChange:m,onDiscardCancel:w,onDiscardConfirm:_,onKeyDown:x,onFocus:a,onSubmit:v,placeholder:C,readOnly:u||o==="upsell",ref:g,value:h})}var sOe=Object.freeze,kur=Object.defineProperty,Tit=(n,e)=>sOe(kur(n,"raw",{value:sOe(e||n.slice())})),aOe,lOe;const Tur=F(oe)(aOe||(aOe=Tit([`
  min-height: 25px;
`]))),Aur=F(ui)(n=>{let{theme:e}=n;const r=e.sanity.color.base.fg;return Ae(lOe||(lOe=Tit([`
    --card-fg-color: `,`;

    // The width is needed to make the text ellipsis work
    // in the breadcrumbs component
    max-width: 100%;
  `])),r)});function Iur(n){const{breadcrumbs:e,canCreateNewThread:r,children:i,currentUser:o,fieldPath:s,isSelected:a,mentionOptions:l,mode:c,onNewThreadCreate:u,onPathSelect:f,readOnly:h}=n,{t:m}=me(Zo),g=p.useCallback(_=>{const w={message:_,parentCommentId:void 0,status:"open",threadId:Ia(),reactions:[],payload:{fieldPath:s}};u==null||u(w)},[u,s]),v=p.useCallback(_=>{_.stopPropagation(),f==null||f({fieldPath:s,origin:"inspector",threadId:null})},[s,f]),y=p.useCallback(_=>{_.stopPropagation(),_.detail!==0&&(f==null||f({fieldPath:s,origin:"inspector",threadId:null}))},[s,f]),b=p.useMemo(()=>(e==null?void 0:e.map(_=>_.title))||[],[e]),x=b[b.length-1];return d.jsxs(Se,{space:2,children:[d.jsx(Tur,{align:"center",gap:2,paddingRight:1,sizing:"border",children:d.jsx(Se,{flex:1,children:d.jsx(oe,{align:"center",children:d.jsx(Aur,{"aria-label":m("list-item.breadcrumb-button-go-to-field-aria-label",{field:x}),mode:"bleed",onClick:v,padding:2,space:2,children:d.jsx(fsr,{maxLength:3,titlePath:b})})})})}),r&&d.jsx(Sit,{onClick:y,"data-active":a,children:d.jsx(Sur,{currentUser:o,fieldTitle:x,mentionOptions:l,mode:c,onNewThreadCreate:g,readOnly:h})}),d.jsx(Se,{space:2,children:i})]})}function Dur(n){return n.reduce((e,r)=>{const i=r.fieldPath;return e[i]||(e[i]=[]),e[i].push(r),e},{})}const Rur=p.forwardRef(function(e,r){const{beforeListNode:i,comments:o,currentUser:s,error:a,loading:l,mentionOptions:c,mode:u,onCopyLink:f,onCreateRetry:h,onDelete:m,onEdit:g,onNewThreadCreate:v,onPathSelect:y,onReactionSelect:b,onReply:x,onStatusChange:_,readOnly:w,selectedPath:C,status:S}=e,[T,A]=p.useState(null),I=p.useMemo(()=>Object.entries(Dur(o)),[o]),D=!l&&!a&&I.length>0;return d.jsxs(oe,{"data-testid":"comments-list",direction:"column",flex:1,height:"fill",overflow:"hidden",ref:A,sizing:"border",children:[u!=="upsell"&&d.jsx(Cur,{error:a,hasNoComments:I.length===0,loading:l,status:S}),(D||i)&&d.jsxs(Se,{as:"ul",flex:1,overflow:"auto",padding:3,paddingTop:1,paddingBottom:6,sizing:"border",space:1,ref:r,children:[i,d.jsx(hy,{element:T,children:I==null?void 0:I.map(R=>{let[P,O]=R;const $=O[0].breadcrumbs,L=O[0].threadId,M=(C==null?void 0:C.fieldPath)===P&&!C.threadId;return d.jsx(Se,{as:"li",paddingTop:3,...Tlr(L),children:d.jsx(Iur,{breadcrumbs:$,canCreateNewThread:S==="open",currentUser:s,fieldPath:P,isSelected:M,mentionOptions:c,mode:u,onNewThreadCreate:v,onPathSelect:y,readOnly:w,children:O.map(N=>{var z,B,H;const X=N.replies.slice().reverse(),G=S==="open"&&((z=N.parentComment._state)==null?void 0:z.type)!=="createError"&&((B=N.parentComment._state)==null?void 0:B.type)!=="createRetrying",ne=(C==null?void 0:C.threadId)===N.parentComment.threadId&&(C==null?void 0:C.fieldPath)===((H=N.parentComment.target.path)==null?void 0:H.field);return d.jsx(kit,{canReply:G,currentUser:s,hasReferencedValue:N.hasReferencedValue,isSelected:ne,mentionOptions:c,mode:u,onCopyLink:f,onCreateRetry:h,onDelete:m,onEdit:g,onPathSelect:y,onReactionSelect:b,onReply:x,onStatusChange:_,parentComment:N.parentComment,readOnly:w,replies:X},N.parentComment._id)})},P)},P)})})]})]})}),Our=p.memo(Rur);var cOe=Object.freeze,Pur=Object.defineProperty,dse=(n,e)=>cOe(Pur(n,"raw",{value:cOe(e||n.slice())})),uOe,dOe,fOe;const jur=F(te)(uOe||(uOe=dse([`
  max-width: 280px;
`]))),Lur=Kp(dOe||(dOe=dse([`
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
`]))),$ur=F(Ai)(fOe||(fOe=dse([`
  opacity: 0;
  // Fade in the popover after 500ms
  animation: `,` 200ms 500ms forwards;
`])),Lur);function Mur(n){const{onDismiss:e}=n,{t:r}=me(Zo);return d.jsx($ur,{content:d.jsx(jur,{padding:4,children:d.jsxs(Se,{space:3,children:[d.jsx(J,{weight:"medium",size:1,children:r("onboarding.header")}),d.jsx(J,{size:1,children:r("onboarding.body")}),d.jsx(oe,{justify:"flex-end",marginTop:2,children:d.jsx(ze,{text:r("onboarding.dismiss"),tone:"primary",onClick:e})})]})}),open:!0,portal:!0,...n})}var hOe=Object.freeze,Fur=Object.defineProperty,Nur=(n,e)=>hOe(Fur(n,"raw",{value:hOe(e||n.slice())})),pOe;const Bur=F(ze)(n=>{let{theme:e}=n;const{space:r}=mt(e);return`
      position: absolute;
      top: `.concat(r[3],`px;
      right: `).concat(r[3],`px;
      z-index: 20;
      background: transparent;
      border-radius: 9999px;
      box-shadow: none;
      color: `).concat(hg.hex,`;
      --card-fg-color: `).concat(hg.hex,`;
      :hover {
        --card-fg-color: `).concat(hg.hex,`;
      }
    `)}),Uur=F.img(pOe||(pOe=Nur([`
  object-fit: cover;
  width: 100%;
  height: 100%;
  height: 200px;
`])));function zur(n){var e,r,i;const{data:o,onClose:s,onPrimaryClick:a,onSecondaryClick:l}=n;return d.jsxs(ja,{id:"comments-upsell",onClose:s,onClickOutside:s,__unstable_hideCloseButton:!0,bodyHeight:"fill",padding:!1,footer:{cancelButton:(e=o.secondaryButton)!=null&&e.text?{text:o.secondaryButton.text,mode:"bleed",tone:"default",iconRight:Iy,...o.secondaryButton.url&&{target:"_blank",rel:"noopener noreferrer",as:"a",href:o.secondaryButton.url},onClick:l}:void 0,confirmButton:{text:(r=o.ctaButton)==null?void 0:r.text,mode:"default",tone:"primary",...o.ctaButton.url&&{target:"_blank",rel:"noopener noreferrer",as:"a",href:o.ctaButton.url},onClick:a}},children:[d.jsx(Bur,{icon:Is,mode:"bleed",tone:"default",onClick:s,tabIndex:-1,tooltipProps:null}),o.image&&d.jsx(Uur,{src:o.image.asset.url,alt:(i=o.image.asset.altText)!=null?i:""}),d.jsx(te,{padding:3,marginTop:2,children:d.jsx(Se,{space:4,paddingBottom:2,children:d.jsx(mB,{blocks:o.descriptionText})})})]})}var mOe=Object.freeze,Vur=Object.defineProperty,Hur=(n,e)=>mOe(Vur(n,"raw",{value:mOe(e||n.slice())})),gOe;const Wur=F.img(gOe||(gOe=Hur([`
  object-fit: cover;
  width: 100%;
  height: 100%;
  height: 180px;
`])));function Gur(n){var e;const{data:r,onPrimaryClick:i,onSecondaryClick:o}=n;return d.jsx(Ya,{width:1,children:d.jsx(te,{marginBottom:6,children:d.jsxs(ke,{radius:3,overflow:"hidden",border:!0,children:[r.image&&d.jsx(Wur,{src:r.image.asset.url,alt:(e=r.image.asset.altText)!=null?e:""}),d.jsxs(te,{padding:3,marginTop:2,children:[d.jsx(Se,{space:4,children:d.jsx(mB,{blocks:r.descriptionText})}),d.jsxs(oe,{gap:2,justify:"flex-end",marginTop:5,children:[d.jsx(ze,{mode:"bleed",text:r.secondaryButton.text,tone:"primary",iconRight:Iy,...r.secondaryButton.url&&{target:"_blank",rel:"noopener noreferrer",as:"a",href:r.secondaryButton.url},onClick:o}),d.jsx(ze,{text:r.ctaButton.text,tone:"primary",...r.ctaButton.url&&{target:"_blank",rel:"noopener noreferrer",as:"a",href:r.ctaButton.url},onClick:i})]})]})]})})})}function qur(n){const{documentId:e,documentType:r}=n;return d.jsx(qrt,{documentId:e,documentType:r,children:d.jsx(Kur,{...n})})}function Kur(n){const{documentId:e,documentType:r}=n,i=h2(),{openInspector:o,inspector:s}=go(),a=p.useCallback(()=>{(s==null?void 0:s.name)!==VA&&o(VA)},[s==null?void 0:s.name,o]);return i.enabled?d.jsx(Wrt,{documentId:e,documentType:r,isCommentsOpen:(s==null?void 0:s.name)===VA,onCommentsOpen:a,sortOrder:"desc",type:"field",children:d.jsx(Gsr,{children:d.jsx(bsr,{children:n.renderDefault(n)})})}):n.renderDefault(n)}var vOe=Object.freeze,Yur=Object.defineProperty,Zur=(n,e)=>vOe(Yur(n,"raw",{value:vOe(e||n.slice())})),yOe;const Xur=F(Se)(yOe||(yOe=Zur([`
  width: 320px;
`])));function Qur(n){const{count:e,currentUser:r,fieldTitle:i,isCreatingDataset:o,mentionOptions:s,onChange:a,onClick:l,onClose:c,onCommentAdd:u,onDiscard:f,onInputKeyDown:h,open:m,value:g}=n,{t:v}=me(Zo),[y,b]=p.useState(null),[x,_]=p.useState(null),w=p.useRef(null),C=e>0,S=p.useCallback(()=>{m&&(c(),x==null||x.focus())},[x,m,c]),T=p.useCallback(()=>{u(),S()},[S,u]),A=p.useMemo(()=>_w(g),[g]),I=p.useCallback(()=>{var L;if(!A){S();return}(L=w.current)==null||L.discardDialogController.open()},[S,A]),D=p.useCallback(L=>{L.isDefaultPrevented()||h&&h(L)},[h]),R=p.useCallback(()=>{var L;(L=w.current)==null||L.discardDialogController.close()},[]),P=p.useCallback(()=>{var L;(L=w.current)==null||L.discardDialogController.close(),S(),f()},[S,f]),O=p.useCallback(L=>{L.key==="Escape"&&(L.preventDefault(),L.stopPropagation(),I())},[I]),$=p.useCallback(()=>{m&&I()},[m,I]);if(ki($,[y]),!C){const L=d.jsx(bn,{t:v,i18nKey:"compose.add-comment-input-placeholder",values:{field:i}}),M=d.jsx(Xur,{padding:2,space:4,children:d.jsx(Ew,{currentUser:r,focusLock:!0,focusOnMount:!0,mentionOptions:s,onChange:a,onDiscardCancel:R,onDiscardConfirm:P,onKeyDown:D,onSubmit:T,placeholder:L,readOnly:o,ref:w,value:g})});return d.jsx(Ai,{constrainSize:!0,content:M,fallbackPlacements:["bottom-end"],open:m,placement:"right-start",portal:!0,ref:b,onKeyDown:O,children:d.jsx("div",{children:d.jsx(ze,{"aria-label":v("field-button.aria-label-add"),disabled:o,icon:uJ,mode:"bleed",onClick:l,ref:_,selected:m,tooltipProps:{content:v("field-button.title"),placement:"top"}})})})}return d.jsx(zn,{portal:!0,placement:"top",content:v("field-button.content",{count:e}),children:d.jsx(ui,{"aria-label":v("field-button.aria-label-open"),mode:"bleed",onClick:l,padding:2,space:2,children:d.jsxs(oe,{align:"center",gap:2,children:[d.jsx(J,{size:1,children:d.jsx(gsr,{})}),d.jsx(J,{size:0,children:e>9?"9+":e})]})})})}var bOe=Object.freeze,Jur=Object.defineProperty,Ait=(n,e)=>bOe(Jur(n,"raw",{value:bOe(e||n.slice())})),xOe,wOe;const _H=new Map,edr=[],tdr={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};function ndr(n){const{enabled:e,mode:r}=h2();return e?d.jsx(odr,{...n,mode:r}):n.renderDefault(n)}const rdr=F(Xa.div)(n=>{let{theme:e}=n;const{radius:r,space:i,color:o}=e.sanity,s=Kt[Qm][o.dark?900:50].hex;return Ae(xOe||(xOe=Ait([`
    mix-blend-mode: `,`;
    border-radius: `,`px;
    top: -`,`px;
    left: -`,`px;
    bottom: -`,`px;
    right: -`,`px;
    pointer-events: none;
    position: absolute;
    z-index: 1;
    width: calc(100% + `,`px);
    height: calc(100% + `,`px);
    background-color: `,`;
  `])),o.dark?"screen":"multiply",r[3],i[2],i[2],i[2],i[2],i[2]*2,i[2]*2,s)}),idr=F(Se)(wOe||(wOe=Ait([`
  position: relative;
`])));function odr(n){const{mode:e}=n,r=ao(),{element:i}=Jx(),o=p.useRef(null),{comments:s,isCommentsOpen:a,isCreatingDataset:l,mentionOptions:c,onCommentsOpen:u,operation:f,setStatus:h,status:m}=DB(),{upsellData:g,handleOpenDialog:v}=lse(),{selectedPath:y,setSelectedPath:b}=ase(),{authoringPath:x,setAuthoringPath:_}=blr(),{scrollToGroup:w}=sse({boundaryElement:i}),C=p.useMemo(()=>nx(n.schemaType),[n.schemaType]),S=p.useMemo(()=>ns(n.path),[n.path]),T=_H.get(S)||null,[A,I]=p.useState(T),D=p.useMemo(()=>x===S,[x,S]),R=p.useMemo(()=>!a||(y==null?void 0:y.origin)==="form"||(y==null?void 0:y.origin)==="url"?!1:(y==null?void 0:y.fieldPath)===S,[a,y==null?void 0:y.fieldPath,y==null?void 0:y.origin,S]),P=p.useMemo(()=>s.data.open.filter(X=>X.threadId===(y==null?void 0:y.threadId)).some(X=>u2(X.parentComment)),[s.data.open,y==null?void 0:y.threadId]),O=p.useMemo(()=>s.data.open.map(G=>G.fieldPath===S?G.commentsCount:0).reduce((G,ne)=>G+ne,0)||0,[s.data.open,S]),$=O>0,L=p.useCallback(()=>{I(null),_H.delete(S)},[S]),M=p.useCallback(()=>{var X;if($){m==="resolved"&&h("open"),_(null),u==null||u();const G=(X=s.data.open.find(ne=>ne.fieldPath===ns(n.path)))==null?void 0:X.threadId;G&&(b({threadId:G,origin:"form",fieldPath:ns(n.path)}),w(G));return}if(e==="upsell"){g?v("field_action"):u==null||u();return}_(D?null:S)},[s.data.open,v,$,D,e,u,n.path,w,_,b,h,m,S,g]),N=p.useCallback(()=>{if(A){const X=Ia(),G={type:"field",fieldPath:ns(n.path),message:A,parentCommentId:void 0,status:"open",threadId:X,reactions:edr};f.create(G),u==null||u(),m==="resolved"&&h("open"),L(),b({threadId:X,origin:"form",fieldPath:ns(n.path)}),w(X)}},[u,f,n.path,L,w,b,h,m,A]),z=p.useCallback(()=>_(null),[_]),B=p.useCallback(X=>{I(X),_H.set(S,X)},[S]),H=p.useMemo(()=>({button:r&&d.jsx(Qur,{count:Number(O),currentUser:r,fieldTitle:C,isCreatingDataset:l,mentionOptions:c,onChange:B,onClick:M,onClose:z,onCommentAdd:N,onDiscard:L,open:D,value:A}),hasComments:$,isAddingComment:D}),[r,O,C,l,c,B,M,z,N,L,D,A,$]);return d.jsxs(idr,{...klr(ns(n.path)),ref:o,children:[n.renderDefault({...n,__internal_comments:H}),d.jsx(Zp,{children:R&&!P&&d.jsx(rdr,{animate:"animate",exit:"exit",initial:"initial",variants:tdr})})]})}function sdr(n){if(!n||!n.length)return null;const e=n.map(a=>a.getBoundingClientRect()),r=Math.min(...e.map(a=>a.x))||0,i=Math.min(...e.map(a=>a.y))||0,o=Math.max(...e.map(a=>a.right))||0,s=Math.max(...e.map(a=>a.bottom))||0;return{x:r,y:i,width:o-r,height:s-i,top:i,right:o,bottom:s,left:r}}function adr(n){const{scrollElement:e,disabled:r,selector:i}=n,[o,s]=p.useState(null),a=p.useCallback(()=>{const l=document==null?void 0:document.querySelectorAll(i);if(!l)return;const c=sdr(Array.from(l));s(c)},[i]);return p.useEffect(()=>{if(r)return;const l=setTimeout(()=>{a()},1);return()=>{clearTimeout(l)}},[a,r]),p.useEffect(()=>{if(!(r||!e))return e.addEventListener("wheel",a),()=>{e.removeEventListener("wheel",a)}},[a,r,e]),o}function ldr(n){const{scrollElement:e,disabled:r,selector:i}=n,o=adr({scrollElement:e,disabled:r,selector:i});return p.useMemo(()=>o?{getBoundingClientRect:()=>o}:null,[o])}function cdr(){const n=window.getSelection(),e=n==null?void 0:n.getRangeAt(0);return(e==null?void 0:e.getBoundingClientRect())||null}var _Oe=Object.freeze,udr=Object.defineProperty,ddr=(n,e)=>_Oe(udr(n,"raw",{value:_Oe(e||n.slice())})),EOe;const fdr=F(Xa(Ai))(EOe||(EOe=ddr([`
  user-select: none;
`]))),hdr=["bottom","top"],pdr={hidden:{opacity:0,y:-4},visible:{opacity:1,y:0}};function mdr(n){const{disabled:e,onClick:r,onClickOutside:i,referenceElement:o}=n,[s,a]=p.useState(null),{t:l}=Sh(Zo);ki(i,[s]);const c=l("inline-add-comment-button.disabled-overlap-title"),u=l("inline-add-comment-button.title"),f=e?c:u,h=d.jsx(ze,{"data-testid":"inline-comment-button",disabled:e,icon:e?msr:uJ,mode:"bleed",onClick:r,ref:a,text:f});return d.jsx(fdr,{animate:"visible",content:h,contentEditable:!1,fallbackPlacements:hdr,initial:"hidden",open:!0,padding:1,placement:"bottom",portal:!0,referenceElement:o,variants:pdr})}var COe=Object.freeze,gdr=Object.defineProperty,vdr=(n,e)=>COe(gdr(n,"raw",{value:COe(e||n.slice())})),SOe;const ydr=["bottom","top"],bdr=Xa(Ai),xdr=F(Se)(SOe||(SOe=vdr([`
  width: 250px;
`]))),wdr={hidden:{opacity:0},visible:{opacity:1}};function _dr(n){const{currentUser:e,mentionOptions:r,onChange:i,onClickOutside:o,onDiscardConfirm:s,onSubmit:a,referenceElement:l,value:c}=n,u=p.useRef(null),[f,h]=p.useState(null),m=p.useCallback(()=>{var b;(b=u.current)==null||b.discardDialogController.close(),s()},[s]),g=p.useCallback(()=>{var b;(b=u.current)==null||b.discardDialogController.close()},[]),v=p.useCallback(()=>{var b;if(_w(c)){(b=u.current)==null||b.discardDialogController.open();return}o()},[o,c]);ki(v,[f]);const y=d.jsx(xdr,{padding:2,ref:h,children:d.jsx(Ew,{currentUser:e,focusLock:!0,focusOnMount:!0,mentionOptions:r,onChange:i,onDiscardCancel:g,onDiscardConfirm:m,onSubmit:a,ref:u,value:c})});return d.jsx(bdr,{animate:"visible",content:y,"data-ui":"InlineCommentInputPopover",fallbackPlacements:ydr,initial:"hidden",open:!0,placement:"bottom",portal:!0,referenceElement:l,variants:wdr})}const Od=[],Edr="sanity.assist.instruction.prompt";function Cdr(n){const{enabled:e,mode:r}=h2(),i=n.schemaType.name===Edr;return!e||i?n.renderDefault(n):d.jsx(Sdr,{...n,mode:r})}const Sdr=_t.memo(function(e){var r,i;const{mode:o}=e,s=ao(),a=Ly(),{mentionOptions:l,comments:c,operation:u,onCommentsOpen:f,getComment:h,setStatus:m,status:g}=DB(),{setSelectedPath:v,selectedPath:y}=ase(),{scrollToComment:b,scrollToGroup:x}=sse(),{handleOpenDialog:_}=lse(),w=p.useRef(null),C=p.useRef(!1),[S,T]=p.useState(null),[A,I]=p.useState(null),[D,R]=p.useState(null),[P,O]=p.useState(null),[$,L]=p.useState(null),[M,N]=p.useState(!1),[z,B]=p.useState(null),[H,X]=p.useState(!1),[G,ne]=p.useState(Od),le=p.useMemo(()=>ns(e.path),[e.path]),K=p.useCallback(()=>{const at=cdr();O(at)},[]),Q=p.useCallback(()=>{R(null),O(null),I(null),T(null),N(!1)},[]),re=p.useCallback(()=>{if(o==="upsell"){_("pte");return}I(D)},[D,_,o]),se=p.useCallback(()=>{Q()},[Q]),de=p.useMemo(()=>c.data.open.filter(at=>at.fieldPath===le).filter(at=>u2(at.parentComment)).map(at=>at.parentComment),[c.data.open,le]),fe=p.useCallback(()=>w.current?ut.getFragment(w.current):Od,[]),we=p.useCallback(()=>{if(!A||!w.current)return;const at=fe()||Od,tt=ut.getValue(w.current);if(!tt)return;const it=Isr({fragment:at,selection:A,value:tt}),jt=Ia();u.create({type:"field",contentSnapshot:at,fieldPath:le,message:S,parentCommentId:void 0,reactions:Od,selection:it,status:"open",threadId:jt}),f==null||f(),g==="resolved"&&m("open"),v({fieldPath:le,threadId:jt,origin:"form"}),x(jt),Q()},[A,fe,u,le,S,f,g,v,x,Q,m]),ye=p.useCallback(at=>{var tt;const it=h(at);it&&(v({fieldPath:((tt=it.target.path)==null?void 0:tt.field)||"",threadId:it.threadId,origin:"form"}),f==null||f(),b(it._id))},[h,f,b,v]),ve=p.useCallback(at=>{const tt=(at==null?void 0:at.anchor.offset)!==(at==null?void 0:at.focus.offset),it=fe();if(!(it==null?void 0:it.every(ka))||!tt){N(!1);return}C.current||K(),R(at),N(!0)},[fe,K]),_e=p.useMemo(()=>LI(ve,200),[ve]),ge=p.useCallback(()=>{C.current=!0},[]),pe=p.useCallback(()=>{C.current=!1,K()},[K]),Pe=p.useCallback(at=>{var tt;const{rangeDecoration:it,newSelection:jt}=at,$t=(tt=it.payload)==null?void 0:tt.commentId;ne(yt=>yt.map(Lt=>{var Vn;return((Vn=Lt.payload)==null?void 0:Vn.commentId)===$t?{...it,selection:jt,payload:{...it.payload,dirty:!0}}:Lt}))},[]),Re=p.useCallback(()=>{const at=G.filter(tt=>{var it;return(it=tt.payload)==null?void 0:it.dirty});at.length!==0&&(at.forEach(tt=>{var it,jt,$t,yt,Gt;const Lt=(it=tt.payload)==null?void 0:it.commentId,Vn=h(Lt||"");if(!Vn||!w.current)return;const Oo=ut.getValue(w.current)||Od,[Po]=Hrt({comments:[Vn],value:Oo}),wi=Po!=null&&Po.range?[Po.range]:Od,pr=Po?[...(($t=(jt=Vn.target.path)==null?void 0:jt.selection)==null?void 0:$t.value.filter(Ct=>{var ht;return Ct._key!==((ht=wi[0])==null?void 0:ht._key)}).concat(wi).flat())||Od]:Od,fn={target:{...Vn.target,path:{...((yt=Vn.target)==null?void 0:yt.path)||{},field:((Gt=Vn.target.path)==null?void 0:Gt.field)||"",selection:{type:"text",value:pr}}}};u.update(Vn._id,fn)}),ne(tt=>tt.map(jt=>{var $t,yt;return((yt=($t=at.find(Lt=>{var Vn,Oo;return((Vn=Lt.payload)==null?void 0:Vn.commentId)===((Oo=jt.payload)==null?void 0:Oo.commentId)}))==null?void 0:$t.payload)==null?void 0:yt.dirty)?{...jt,payload:{...jt.payload,dirty:!1}}:jt}).filter(jt=>jt.selection!==null)))},[G,h,u]),Fe=p.useCallback(at=>{if(!w.current)return Od;const tt=ut.getValue(w.current)||Od;return Asr({comments:at,currentHoveredCommentId:$,onDecorationClick:ye,onDecorationHoverEnd:L,onDecorationHoverStart:L,onDecorationMoved:Pe,selectedThreadId:(y==null?void 0:y.threadId)||null,value:tt})},[$,ye,Pe,y==null?void 0:y.threadId]),Ye=p.useCallback(at=>{at.type==="mutation"&&Re(),at.type==="selection"&&_e(at.selection)},[_e,Re]),He=p.useMemo(()=>A?{component:at=>{let{children:tt}=at;return d.jsx(_it,{isAuthoring:!0,children:tt})},selection:A}:null,[A]),lt=p.useMemo(()=>[...(e==null?void 0:e.rangeDecorations)||Od,...He?[He]:Od,...G],[G,He,e==null?void 0:e.rangeDecorations]),Xe=p.useMemo(()=>!D||G.length===0?!1:G.some(at=>{if(!w.current)return!1;const tt=ut.isSelectionsOverlapping(w.current,D,at.selection),it=ut.isSelectionsOverlapping(w.current,at.selection,D);return tt||it}),[G,D]),st=H?document.body:((r=a.elements)==null?void 0:r.documentScrollElement)||document.body,kt=H?((i=a.elements)==null?void 0:i.documentScrollElement)||document.body:z,Ge=ldr({scrollElement:st,disabled:!A,selector:'[data-inline-comment-state="authoring"]'}),gt=p.useMemo(()=>P?{getBoundingClientRect:()=>P}:null,[P]);p.useEffect(()=>{if(D)return st==null||st.addEventListener("wheel",K),()=>{st==null||st.removeEventListener("wheel",K)}},[D,st,K]),p.useEffect(()=>{const at=Fe(de);ne(tt=>at.map(it=>{var jt;const $t=tt.find(yt=>{var Gt,Lt;return((Gt=yt.payload)==null?void 0:Gt.commentId)===((Lt=it.payload)==null?void 0:Lt.commentId)});return(jt=$t==null?void 0:$t.payload)!=null&&jt.dirty?{...it,payload:{...it.payload,dirty:$t.payload.dirty}}:it}))},[Fe,de]);const At=!!(D&&M&&gt&&!C.current),Dt=!!(A&&Ge);return d.jsxs(d.Fragment,{children:[d.jsx(hy,{element:kt,children:d.jsxs(Zp,{children:[Dt&&s&&d.jsx(_dr,{currentUser:s,mentionOptions:l,onChange:T,onClickOutside:Q,onDiscardConfirm:se,onSubmit:we,referenceElement:Ge,value:S}),At&&!Dt&&d.jsx(mdr,{disabled:Xe,onClick:re,onClickOutside:Q,referenceElement:gt})]})}),d.jsx(Se,{ref:B,onMouseDown:ge,onMouseUp:pe,children:e.renderDefault({...e,onEditorChange:Ye,editorRef:w,rangeDecorations:lt,onFullScreenChange:X})})]})});function kdr(n){return Uj(n.schemaType)}function Tdr(n){return kdr(n)?d.jsx(Cdr,{...n}):n.renderDefault(n)}const Adr=!1,Iit={},yLr=Symbol("LOADING_PANE"),Dit="documentPanelPortalElement",Rit=p.createContext(null);function go(){const n=p.useContext(Rit);if(!n)throw new Error("DocumentPane: missing context value");return n}var kOe=Object.freeze,Idr=Object.defineProperty,Oit=(n,e)=>kOe(Idr(n,"raw",{value:kOe(e||n.slice())})),TOe,AOe;const Ddr="https://snty.link/comments-beta-feedback",Rdr=F.span(TOe||(TOe=Oit([`
  margin-right: 0.2em;
`]))),Odr=F.a(AOe||(AOe=Oit([`
  white-space: nowrap;
`]))),Pdr=F(ke)({position:"relative",zIndex:1});function jdr(){const{t:n}=me(Zo);return d.jsx(Pdr,{padding:4,children:d.jsxs(J,{muted:!0,size:1,children:[n("feature-feedback.title")," ",d.jsxs(Odr,{href:Ddr,target:"_blank",rel:"noreferrer",children:[d.jsxs(Rdr,{children:[n("feature-feedback.link")," "]})," ",d.jsx(Iy,{})]})]})})}const Ldr=F(ke)({position:"relative",zIndex:1,lineHeight:0}),$dr=p.forwardRef(function(e,r){const{t:i}=me(Zo),{onClose:o,onViewChange:s,view:a,mode:l}=e,c=p.useCallback(()=>s("open"),[s]),u=p.useCallback(()=>s("resolved"),[s]);return d.jsx(Ldr,{ref:r,children:d.jsxs(oe,{padding:2,children:[d.jsxs(oe,{align:"center",flex:1,gap:2,paddingY:2,padding:3,children:[d.jsx(J,{as:"h1",size:1,weight:"medium",children:i("feature-name")}),d.jsx(crt,{})]}),d.jsxs(oe,{flex:"none",padding:1,gap:2,children:[d.jsx(Vr,{id:"comment-status-menu-button",button:d.jsx(ze,{text:i(a==="open"?"status-filter.status-open":"status-filter.status-resolved"),mode:"bleed",iconRight:qs}),menu:d.jsxs(_r,{style:{width:"180px"},children:[d.jsx(Wt,{iconRight:a==="open"?ec:void 0,onClick:c,text:i("status-filter.status-open-full")}),d.jsx(Wt,{iconRight:a==="resolved"?ec:void 0,onClick:u,text:i("status-filter.status-resolved-full"),tooltipProps:l==="upsell"?{content:i("status-filter.status-resolved-full-upsell")}:void 0,disabled:l==="upsell"})]}),popover:{placement:"bottom-end"}}),d.jsx(ze,{"aria-label":i("close-pane-button-text-aria-label"),icon:mJ,mode:"bleed",onClick:o,tooltipProps:{content:i("close-pane-button-text")}})]})]})})});var IOe=Object.freeze,Mdr=Object.defineProperty,Fdr=(n,e)=>IOe(Mdr(n,"raw",{value:IOe(e||n.slice())})),DOe;const Ndr=F(Cu)(DOe||(DOe=Fdr([`
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
`])));function Bdr(n){const{enabled:e,mode:r}=h2();return e?d.jsx(Ndr,{children:d.jsx(Udr,{...n,mode:r})}):null}function Udr(n){const{t:e}=me(Zo),{onClose:r,mode:i}=n,[o,s]=p.useState(!1),[a,l]=p.useState(null),[c,u]=p.useState(!1),[f,h]=p.useState(null),m=p.useRef(null),g=ao(),{params:v,createPathWithParams:y,setParams:b}=Ah(),x=Ga(v)||Iit,_=p.useRef(x==null?void 0:x.comment),w=p.useRef(!1),C=da().push,{isTopLayer:S}=Eu(),{onPathOpen:T,connectionState:A}=go(),{scrollToComment:I,scrollToField:D,scrollToInlineComment:R}=sse(),{selectedPath:P,setSelectedPath:O}=ase(),{isDismissed:$,setDismissed:L}=xlr(),{comments:M,getComment:N,isCreatingDataset:z,mentionOptions:B,setStatus:H,status:X,operation:G}=DB(),{upsellData:ne,telemetryLogs:le}=lse(),K=p.useMemo(()=>M.data[X],[M,X]),Q=p.useMemo(()=>M.loading||A==="connecting",[M.loading,A]);p.useEffect(()=>(i==="upsell"&&((P==null?void 0:P.origin)==="form"?le.panelViewed("field_action"):_.current?le.panelViewed("link"):le.panelViewed("document_action")),()=>{i==="upsell"&&le.panelDismissed()}),[]);const re=p.useCallback(Xe=>{H(Xe),O(null)},[O,H]),se=p.useCallback(()=>{r(),O(null)},[r,O]),de=p.useCallback(Xe=>{const st=y({...v,comment:Xe}),kt="".concat(window.location.origin).concat(st);navigator.clipboard.writeText(kt).then(()=>{C({closable:!0,status:"info",title:e("copy-link-success-message")})}).catch(()=>{C({closable:!0,status:"error",title:e("copy-link-error-message")})})},[y,v,C,e]),fe=p.useCallback(Xe=>{var st;const kt=N(Xe);kt&&G.create({type:"field",fieldPath:((st=kt.target.path)==null?void 0:st.field)||"",id:kt._id,message:kt.message,parentCommentId:kt.parentCommentId,reactions:kt.reactions||[],status:kt.status,threadId:kt.threadId})},[N,G]),we=p.useCallback(()=>{c||(s(!1),l(null))},[c]),ye=p.useCallback(Xe=>{if(O(Xe),Xe!=null&&Xe.fieldPath){const st=hh(Xe.fieldPath);T(st),D(Xe.fieldPath),M.data.open.filter(Ge=>Ge.threadId===(Xe==null?void 0:Xe.threadId)).some(Ge=>u2(Ge.parentComment))&&Xe.threadId&&R(Xe.threadId)}},[M.data.open,T,D,R,O]),ve=p.useCallback(Xe=>{var st;const kt=((st=Xe==null?void 0:Xe.payload)==null?void 0:st.fieldPath)||"";G.create({type:"field",fieldPath:kt,message:Xe.message,parentCommentId:Xe.parentCommentId,reactions:Xe.reactions,status:Xe.status,threadId:Xe.threadId}),O({fieldPath:kt,origin:"inspector",threadId:Xe.threadId})},[G,O]),_e=p.useCallback(Xe=>{var st;G.create({...Xe,type:"field",fieldPath:((st=Xe==null?void 0:Xe.payload)==null?void 0:st.fieldPath)||""})},[G]),ge=p.useCallback((Xe,st)=>{G.update(Xe,st)},[G]),pe=p.useCallback(Xe=>{var st;const kt=K.find(gt=>{var At;return((At=gt.parentComment)==null?void 0:At._id)===Xe}),Ge=!!(kt&&((st=kt==null?void 0:kt.replies)==null?void 0:st.length)>0);s(!0),l({commentId:Xe,isParent:Ge})},[K]),Pe=p.useCallback(async Xe=>{try{u(!0),await G.remove(Xe),we()}catch(st){h(st)}finally{u(!1)}},[we,G]),Re=p.useCallback((Xe,st)=>{var kt;if(G.update(Xe,{status:st}),st==="open"){H("open");const Ge=N(Xe);if(!Ge)return;O({fieldPath:((kt=Ge.target.path)==null?void 0:kt.field)||null,origin:"inspector",threadId:Ge.threadId||null}),I(Xe)}},[N,G,I,O,H]),Fe=p.useCallback((Xe,st)=>{G.react(Xe,st)},[G]),Ye=p.useCallback(()=>{P&&S&&O(null)},[S,P,O]),He=p.useCallback(Xe=>{var st;Xe.target instanceof HTMLElement&&((st=Xe.target)==null?void 0:st.hasAttribute("data-slate-string"))||Ye()},[Ye]);ki(He,[m.current]),p.useEffect(()=>{var Xe;const st=N(_.current||"");!Q&&st&&w.current===!1&&(H(st.status||"open"),O({fieldPath:((Xe=st.target.path)==null?void 0:Xe.field)||null,origin:"url",threadId:st.threadId||null}),I(st._id),w.current=!0,_.current=void 0,b({...v,comment:void 0}))},[N,Q,v,I,b,O,H]);const lt=p.useMemo(()=>i==="upsell"&&ne?d.jsx(Gur,{data:ne,onPrimaryClick:le.panelPrimaryClicked,onSecondaryClick:le.panelSecondaryClicked}):null,[i,le.panelPrimaryClicked,le.panelSecondaryClicked,ne]);return d.jsxs(p.Fragment,{children:[a&&o&&d.jsx(psr,{...a,error:f,loading:c,onClose:we,onConfirm:Pe}),d.jsxs(oe,{direction:"column",flex:1,height:"fill",onClick:Ye,overflow:"hidden",ref:m,children:[d.jsx(Mur,{onDismiss:L,open:!$,placement:"left-start",children:d.jsx($dr,{onClose:se,onViewChange:re,view:X,mode:i})}),g&&d.jsx(Our,{beforeListNode:lt,comments:K,currentUser:g,error:M.error,loading:Q,mentionOptions:B,mode:i,onCopyLink:de,onCreateRetry:fe,onDelete:pe,onEdit:ge,onNewThreadCreate:ve,onPathSelect:ye,onReactionSelect:Fe,onReply:_e,onStatusChange:Re,readOnly:z,selectedPath:P,status:X}),i==="default"&&d.jsx(jdr,{})]})]})}function zdr(){const{t:n}=me(Zo),{enabled:e}=h2();return{hidden:!e,icon:GNe,showAsAction:!0,title:n("feature-name")}}const Vdr={name:VA,component:Bdr,useMenuItem:zdr};function Hdr(n){const{enabled:e,isLoading:r}=vB("studioComments");return d.jsx(frt,{children:d.jsx(Wsr,{children:d.jsx(E6,{condition:!e&&!r,wrapper:i=>d.jsx(Ksr,{children:i}),children:n.renderDefault(n)})})})}const Wdr=rR({name:"sanity/structure/comments",document:{inspectors:[Vdr],components:{unstable_layout:qur}},form:{components:{field:ndr,input:Tdr}},studio:{components:{layout:Hdr}},i18n:{bundles:[osr]}});function Pit(n){const{children:e,currentMinWidth:r,flex:i,minWidth:o,paneKey:s,title:a="Error",tone:l="critical"}=n;return d.jsxs(TB,{currentMinWidth:r,flex:i,id:s,minWidth:o,tone:l,children:[d.jsx(ise,{title:a}),d.jsx(AB,{overflow:"auto",children:d.jsx(te,{paddingX:4,paddingY:5,children:e})})]})}function Gdr(n){const e=[{ms:300,messageKey:"panes.resolving.default-message"},{ms:5e3,messageKey:"panes.resolving.slow-resolve-message"}],r=Ke(null);return ai(...e.map(i=>r.pipe(G4("messageKey"in i?{messageKey:i.messageKey}:{message:i.message}),_8e(i.ms))))}var ROe=Object.freeze,qdr=Object.defineProperty,Kdr=(n,e)=>ROe(qdr(n,"raw",{value:ROe(e||n.slice())})),OOe;const Ydr="panes.resolving.default-message",Zdr=F(oe)(OOe||(OOe=Kdr([`
  opacity: 0;
  transition: opacity 200ms;

  &[data-mounted] {
    opacity: 1;
  }
`]))),jit=p.memo(n=>{const{delay:e=300,flex:r,message:i=Gdr,minWidth:o,paneKey:s,path:a,selected:l,title:c,tone:u}=n,{t:f}=me(er),h=p.useMemo(()=>typeof i=="function"?i(a?a.split(";"):[]):i,[i,a]),[m,g]=p.useState(()=>typeof h=="string"?h:Ydr);p.useEffect(()=>{if(typeof h!="object"||typeof h.subscribe=="function")return;const w=h.subscribe(C=>{g("messageKey"in C?f(C.messageKey):C.message)});return()=>w.unsubscribe()},[h,f]);const[v,y]=p.useState(null),[b,x]=p.useState(!1);p.useEffect(()=>{if(v)return aBt(()=>x(!0))},[v]);const _=d.jsx(Zdr,{align:"center","data-mounted":b?"":void 0,direction:"column",height:"fill",justify:"center",ref:y,children:d.jsx(Zr,{showText:!0,title:c||m})});return d.jsx(TB,{flex:r,id:s,minWidth:o,selected:l,tone:u,children:d.jsx(AB,{children:_})})});jit.displayName="LoadingPane";const Lit=p.createContext(null);function Cw(){const n=p.useContext(Lit);if(!n)throw new Error("StructureTool: missing context value");return n}const Xdr=p.memo(function(e){const{documentId:r,documentType:i,index:o,setMenuItem:s,useMenuItem:a}=e,l=Ga(a({documentId:r,documentType:i}));return p.useEffect(()=>{s(o,l)},[o,l,s]),d.jsx(d.Fragment,{})});function Qdr(n){const{documentId:e,documentType:r,inspectors:i,onMenuItems:o}=n,s=i.length,a=p.useRef(s),[l,c]=p.useState(()=>Array.from(new Array(s))),u=p.useRef(l);p.useEffect(()=>{if(a.current!==s){const h=Array.from(new Array(s));for(let m=0;m<s;m++)h[m]=u.current[m];a.current=s,c(()=>(u.current=h,h))}},[s]);const f=p.useCallback((h,m)=>{c(g=>{const v=[...g];return v[h]=m,u.current=v,v})},[]);return p.useEffect(()=>{o(l.filter(Boolean))},[l,o]),d.jsx(d.Fragment,{children:i.map((h,m)=>h.useMenuItem&&d.jsx(Xdr,{documentId:e,documentType:r,index:m,setMenuItem:f,useMenuItem:h.useMenuItem},h.name))})}function $it(){const{connectionState:n,schemaType:e,title:r,value:i}=go(),o=!!i&&n!=="connecting",{error:s,value:a}=JN({enabled:o,schemaType:e,value:i});return n==="connecting"?{error:void 0,title:void 0}:r?{error:void 0,title:r}:i?s?{error:"Error: ".concat(s.message),title:void 0}:{error:void 0,title:a==null?void 0:a.title}:{error:void 0,title:"New ".concat((e==null?void 0:e.title)||(e==null?void 0:e.name))}}const Jdr=["patch","commit"],efr=p.memo(function(){const{push:e}=da(),{documentId:r,documentType:i}=go(),{title:o}=$it(),s=prt(r,i),a=p.useRef(s),l=Ah(),{t:c}=me(er),u=o||c("panes.document-operation-results.operation-undefined-title"),f=u.length>25?"".concat(u.slice(0,25),"..."):u;return p.useEffect(()=>{if(!s||s===a.current)return;let h;return s.type==="error"&&e({closable:!0,duration:3e4,status:"error",title:c("panes.document-operation-results.operation-error",{context:s.op}),description:d.jsxs("details",{children:[d.jsx("summary",{children:c("panes.document-operation-results.error.summary.title")}),s.error.message]})}),s.type==="success"&&!Jdr.includes(s.op)&&e({closable:!0,status:"success",title:d.jsx(bn,{context:s.op,i18nKey:"panes.document-operation-results.operation-success",t:c,values:{title:f},components:{Strong:"strong"}})}),s.type==="success"&&s.op==="delete"&&(h=setTimeout(()=>l.closeCurrentAndAfter(),0)),a.current=s,()=>clearTimeout(h)},[s,l,e,c,f]),null}),tfr=F(ke)({position:"relative",zIndex:1,lineHeight:0});function Mit(n){const{as:e,children:r,closeButtonLabel:i,onClose:o,title:s,...a}=n,{t:l}=me(er);return d.jsxs(tfr,{...a,as:e,children:[d.jsxs(oe,{padding:2,children:[d.jsx(te,{flex:1,padding:3,children:d.jsx(J,{as:"h1",size:1,weight:"medium",children:s})}),d.jsx(te,{flex:"none",padding:1,children:d.jsx(ze,{"aria-label":i,icon:Is,mode:"bleed",onClick:o,tooltipProps:{content:l("document-inspector.close-button.tooltip")}})})]}),r]})}var POe=Object.freeze,nfr=Object.defineProperty,rfr=(n,e)=>POe(nfr(n,"raw",{value:POe(e||n.slice())})),jOe;const ifr=F.div(jOe||(jOe=rfr([`
  position: absolute;
  top: 0;
  left: -4px;
  bottom: 0;
  width: 9px;
  z-index: 201;
  cursor: ew-resize;

  /* Border */
  & > span:nth-child(1) {
    display: block;
    border-left: 1px solid var(--card-border-color);
    position: absolute;
    top: 0;
    left: 4px;
    bottom: 0;
    transition: opacity 200ms;
  }

  /* Hover effect */
  & > span:nth-child(2) {
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 9px;
    bottom: 0;
    background-color: var(--card-border-color);
    opacity: 0;
    transition: opacity 150ms;
  }

  @media (hover: hover) {
    &:hover > span:nth-child(2) {
      opacity: 0.2;
    }
  }
`])));function ofr(n){const{onResize:e,onResizeStart:r}=n,i=p.useRef(0),o=p.useCallback(s=>{s.preventDefault(),i.current=s.pageX,r();const a=c=>{c.preventDefault(),e(c.pageX-i.current)},l=()=>{window.removeEventListener("mousemove",a),window.removeEventListener("mouseup",l)};window.addEventListener("mousemove",a),window.addEventListener("mouseup",l)},[e,r]);return d.jsxs(ifr,{onMouseDown:o,children:[d.jsx("span",{}),d.jsx("span",{})]})}var LOe=Object.freeze,sfr=Object.defineProperty,afr=(n,e)=>LOe(sfr(n,"raw",{value:LOe(e||n.slice())})),$Oe;const lfr=F(te)($Oe||($Oe=afr([`
  position: relative;
  flex: 1;
  padding-left: 1px;
`])));function cfr(n){const{as:e,children:r,minWidth:i,maxWidth:o,...s}=n,[a,l]=p.useState(null),c=p.useRef(),[u,f]=p.useState(),h=p.useCallback(()=>{c.current=a==null?void 0:a.offsetWidth},[a]),m=p.useCallback(v=>{const y=c.current;y&&f(Math.min(Math.max(y-v,i),o))},[i,o]),g=p.useMemo(()=>u?{flex:"none",width:u}:{minWidth:i,maxWidth:o},[i,o,u]);return d.jsxs(lfr,{as:e,...s,ref:l,style:g,children:[r,d.jsx(ofr,{onResize:m,onResizeStart:h})]})}function ufr(n){const{documentId:e,documentType:r,flex:i}=n,{collapsed:o}=cv(),{closeInspector:s,inspector:a}=go(),{features:l}=Cw(),c=p.useCallback(()=>{a&&s(a.name)},[s,a]);if(o||!a)return null;const u=p.createElement(a.component,{onClose:c,documentId:e,documentType:r});return l.resizablePanes?d.jsx(cfr,{as:"aside","data-ui":"DocumentInspectorPanel",flex:i,maxWidth:lsr,minWidth:lZ,children:u}):d.jsx(te,{as:"aside","data-ui":"DocumentInspectorPanel",flex:i,children:u})}const dfr="studio.structure-tool";function mZ(n,e,r){const i=btt(),[o,s]=p.useState(r),a=[dfr,n,e].filter(Boolean).join("."),l=p.useMemo(()=>i.getKey(a),[i,a]);p.useEffect(()=>{const u=l.pipe(ca(r),Me(f=>f===null?r:f)).subscribe({next:s});return()=>u==null?void 0:u.unsubscribe()},[r,a,l]);const c=p.useCallback(u=>{s(u),i.setKey(a,u)},[i,a]);return p.useMemo(()=>[o,c],[c,o])}const j_={id:"parsed",title:"document-inspector.view-mode.parsed"},L_={id:"raw",title:"document-inspector.view-mode.raw-json"},ffr=[j_,L_],n4=Zor(1e3);function Fit(n,e){const r=n4.get(n);return r===void 0?(n4.set(n,Array.isArray(e)||$n(e)),Fit(n,e)):r}function hfr(n){const{path:e}=n,r=n4.get(e);r!==void 0&&n4.set(e,!r)}function Nit(n){const e=window.getSelection();if(e){const r=document.createRange();e.removeAllRanges(),r.selectNodeContents(n),e.addRange(r)}}function MOe(n){Nit(n.currentTarget)}function pfr(n){n.keyCode===65&&(n.metaKey||n.ctrlKey)&&(n.preventDefault(),Nit(n.currentTarget))}function mfr(n){return $n(n)&&ex(n._id)&&ex(n._type)}var FOe=Object.freeze,gfr=Object.defineProperty,vfr=(n,e)=>FOe(gfr(n,"raw",{value:FOe(e||n.slice())})),NOe;const yfr=F.div(n=>{let{theme:e}=n;const{color:r,fonts:i,space:o}=e.sanity;return Ae(NOe||(NOe=vfr([`
    & .json-inspector,
    & .json-inspector .json-inspector__selection {
      font-family: `,`;
      font-size: `,`px;
      line-height: `,`px;
      color: var(--card-code-fg-color);
    }

    & .json-inspector .json-inspector__leaf {
      padding-left: `,`;
    }

    & .json-inspector .json-inspector__leaf.json-inspector__leaf_root {
      padding-top: `,`;
      padding-left: 0;
    }

    & .json-inspector > .json-inspector__leaf_root > .json-inspector__line > .json-inspector__key {
      display: none;
    }

    & .json-inspector .json-inspector__line {
      display: block;
      position: relative;
      cursor: default;
    }

    & .json-inspector .json-inspector__line::after {
      content: '';
      position: absolute;
      top: 0;
      left: -200px;
      right: -50px;
      bottom: 0;
      z-index: -1;
      pointer-events: none;
    }

    & .json-inspector .json-inspector__line:hover::after {
      background: var(--card-code-bg-color);
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line {
      cursor: pointer;
    }

    & .json-inspector .json-inspector__leaf_composite > .json-inspector__line::before {
      content: '▸ ';
      margin-left: calc(0 - `,` + 3px);
      font-size: `,`px;
      line-height: `,`px;
    }

    &
      .json-inspector
      .json-inspector__leaf_expanded.json-inspector__leaf_composite
      > .json-inspector__line::before {
      content: '▾ ';
      font-size: `,`px;
      line-height: `,`px;
    }

    & .json-inspector .json-inspector__radio,
    & .json-inspector .json-inspector__flatpath {
      display: none;
    }

    & .json-inspector .json-inspector__value {
      margin-left: `,`;
    }

    &
      .json-inspector
      > .json-inspector__leaf_root
      > .json-inspector__line
      > .json-inspector__key
      + .json-inspector__value {
      margin: 0;
    }

    & .json-inspector .json-inspector__key {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_helper,
    & .json-inspector .json-inspector__value_null {
      color: `,`;
    }

    & .json-inspector .json-inspector__not-found {
      padding-top: `,`;
    }

    & .json-inspector .json-inspector__value_string {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_boolean {
      color: `,`;
    }

    & .json-inspector .json-inspector__value_number {
      color: `,`;
    }

    & .json-inspector .json-inspector__show-original {
      display: inline-block;
      padding: 0 6px;
      cursor: pointer;
    }

    & .json-inspector .json-inspector__show-original:hover {
      color: inherit;
    }

    & .json-inspector .json-inspector__show-original::before {
      content: '↔';
    }

    & .json-inspector .json-inspector__show-original:hover::after {
      content: ' expand';
    }
  `])),i.code.family,i.code.sizes[1].fontSize,i.code.sizes[1].lineHeight,Je(o[4]),Je(o[3]),Je(o[4]),i.code.sizes[1].fontSize,i.code.sizes[1].lineHeight,i.code.sizes[1].fontSize,i.code.sizes[1].lineHeight,Je(o[4]/2),r.syntax.property,r.syntax.constant,Je(o[3]),r.syntax.string,r.syntax.boolean,r.syntax.number)});function bfr(n){const{onChange:e,query:r}=n,i=p.useCallback(s=>e(s.target.value),[e]),{t:o}=me(er);return d.jsx(ua,{icon:Aa,onChange:i,placeholder:o("document-inspector.search.placeholder"),radius:2,value:r||""})}function xfr(n){const{value:e}=n,{onInspectClose:r,paneKey:i}=go(),o="".concat(i,"_inspect_"),[s,a]=mZ("inspect-view-mode",null,"parsed"),l=ffr.find(h=>h.id===s),c=p.useCallback(()=>{a(j_.id)},[a]),u=p.useCallback(()=>{a(L_.id)},[a]),{t:f}=me(er);return d.jsx(ja,{bodyHeight:"fill",id:"".concat(o,"dialog"),header:mfr(e)?d.jsx(bn,{t:f,i18nKey:"document-inspector.dialog.title",components:{DocumentTitle:()=>d.jsx("em",{children:d.jsx(Jrt,{document:e})})}}):d.jsx("em",{children:f("document-inspector.dialog.title-no-value")}),onClose:r,onClickOutside:r,padding:!1,width:2,children:d.jsxs(oe,{direction:"column",height:"fill",children:[d.jsx(ke,{padding:3,paddingTop:0,shadow:1,style:{position:"sticky",bottom:0,zIndex:3},children:d.jsxs(y6,{space:1,children:[d.jsx(E5,{"aria-controls":"".concat(o,"tabpanel"),id:"".concat(o,"tab-").concat(j_.id),label:f(j_.title),onClick:c,selected:l===j_}),d.jsx(E5,{"aria-controls":"".concat(o,"tabpanel"),id:"".concat(o,"tab-").concat(L_.id),label:f(L_.title),onClick:u,selected:l===L_})]})}),d.jsxs(E9t,{"aria-labelledby":"".concat(o,"tab-").concat(s),flex:1,id:"".concat(o,"tabpanel"),overflow:"auto",padding:4,style:{outline:"none"},children:[l===j_&&d.jsx(yfr,{children:d.jsx(Kor,{data:e,isExpanded:Fit,onClick:hfr,search:bfr})}),l===L_&&d.jsx(ia,{language:"json",tabIndex:0,onKeyDown:pfr,onDoubleClick:MOe,onFocus:MOe,size:1,children:JSON.stringify(e,null,2)})]})]})})}function gZ(n){let{size:e}=n;return d.jsx(ze,{"aria-hidden":!0,disabled:!0,size:e,style:{pointerEvents:"none",visibility:"hidden",width:0},text:"-"})}function jB(n){const{action:e,content:r,icon:i,tone:o="transparent",...s}=n;return d.jsx(ke,{borderBottom:!0,paddingX:4,paddingY:2,tone:o,...s,children:d.jsxs(oe,{align:"center",gap:3,children:[i&&d.jsx(J,{size:0,children:d.jsx(i,{})}),d.jsx(oe,{align:"center",flex:1,gap:2,paddingY:3,children:r}),d.jsx(gZ,{}),e&&d.jsx(ze,{as:e==null?void 0:e.as,mode:"ghost",onClick:e==null?void 0:e.onClick,text:e.text,tone:e.tone||"default"})]})})}function wfr(n){let{revisionId:e}=n;const{documentId:r,documentType:i}=go(),{restore:o}=If(r,i),{navigateIntent:s}=md(),a=p.useCallback(()=>{e&&(o.execute(e),s("edit",{id:r,type:i}))},[r,i,s,o,e]),{t:l}=me(er);return d.jsx(jB,{action:e?{onClick:a,text:l("banners.deleted-document-banner.restore-button.text")}:void 0,content:d.jsx(J,{size:1,weight:"medium",children:l("banners.deleted-document-banner.text")}),"data-testid":"deleted-document-banner",icon:HI})}function _fr(){const{schemaType:n}=go(),{t:e}=me(er);return O4e(n)?d.jsx(jB,{content:d.jsxs(J,{size:1,weight:"medium",children:[d.jsx(bn,{t:e,i18nKey:"banners.deprecated-document-type-banner.text"})," ",n.deprecated.reason]}),"data-testid":"deprecated-document-type-banner",icon:Dc}):null}function Efr(n){let{granted:e,requiredPermission:r}=n;const i=ao(),o=a2({style:"short"}),{t:s}=me(er);if(e)return null;const a=((i==null?void 0:i.roles)||[]).map(c=>c.title),l=o.formatToParts(a).map(c=>c.type==="element"?d.jsx("code",{children:c.value},c.value):c.value);return d.jsx(jB,{content:d.jsx(J,{size:1,weight:"medium",children:d.jsx(bn,{t:s,i18nKey:"banners.permission-check-banner.missing-permission",components:{Roles:()=>d.jsx(d.Fragment,{children:l})},values:{count:l.length,roles:a},context:r})}),"data-testid":"permission-check-banner",icon:HI})}const Bit=p.memo(()=>{var n,e,r,i,o,s,a;const l=Qa(),{params:c,groupIndex:u,routerPanesState:f,replaceCurrent:h,BackLink:m}=Ah(),g=(n=f[u])==null?void 0:n[0].id,v=f[u-1],y=v==null?void 0:v[0],b=y==null?void 0:y.id,x=!!((e=y==null?void 0:y.params)!=null&&e.rev),_=p.useMemo(()=>(c==null?void 0:c.parentRefPath)&&hh(c.parentRefPath)||null,[c==null?void 0:c.parentRefPath]),{t:w}=me(er),C=bs(()=>{const A=_==null?void 0:_[0];if(!b||!A||!_)return Ke({loading:!1});const I=di(b),D=hh(A),R=D.findIndex(P=>typeof P=="object"&&"_key"in P);return Go(Ke({loading:!0}),l.unstable_observePathsDocumentPair(I,R===-1?D:D.slice(0,R)).pipe(PQ(750),Me(P=>{let{draft:O,published:$}=P;var L;return{loading:!1,result:{availability:{draft:O.availability,published:$.availability},refValue:(L=fS(O.snapshot||$.snapshot,_))==null?void 0:L._ref}}})))},[l,b,_],{loading:!0}),S=p.useCallback(()=>{var A;C.loading||(A=C.result)!=null&&A.refValue&&h({id:C.result.refValue,params:c})},[C.loading,C.result,h,c]);return!b||!_||x||C.loading||!((r=C.result)!=null&&r.availability.draft.available)&&!((i=C.result)!=null&&i.availability.published.available)||((o=C.result)==null?void 0:o.refValue)===g?null:d.jsx(jB,{action:(s=C.result)!=null&&s.refValue?{onClick:S,icon:ES,text:w("banners.reference-changed-banner.reason-changed.reload-button.text")}:{as:m,icon:Is,text:w("banners.reference-changed-banner.reason-removed.close-button.text")},"data-testid":"reference-changed-banner",content:d.jsx(J,{size:1,weight:"medium",children:(a=C.result)!=null&&a.refValue?w("banners.reference-changed-banner.reason-changed.text"):w("banners.reference-changed-banner.reason-removed.text")}),icon:as,tone:"caution"})});Bit.displayName="ReferenceChangedBanner";var BOe=Object.freeze,Cfr=Object.defineProperty,UOe=(n,e)=>BOe(Cfr(n,"raw",{value:BOe(e||n.slice())})),zOe,VOe;const Sfr=F(Se)(VOe||(VOe=UOe([`
  `,`
`])),n=>{let{theme:e}=n;return Ae(zOe||(zOe=UOe([`
      @supports not (container-type: inline-size) {
        display: none !important;
      }

      container-type: inline-size;

      [data-heading] {
        font-size: `,`px;
        line-height: `,`px;
        overflow-wrap: break-word;
        text-wrap: pretty;
      }

      @container (max-width: 560px) {
        [data-heading] {
          font-size: `,`px;
          line-height: `,`px;
        }
      }

      @container (max-width: 420px) {
        [data-heading] {
          font-size: `,`px;
          line-height: `,`px;
        }
      }
    `])),e.sanity.fonts.heading.sizes[4].fontSize,e.sanity.fonts.heading.sizes[4].lineHeight,e.sanity.fonts.heading.sizes[3].fontSize,e.sanity.fonts.heading.sizes[3].lineHeight,e.sanity.fonts.heading.sizes[2].fontSize,e.sanity.fonts.heading.sizes[2].lineHeight)}),kfr=n=>{let{documentId:e,schemaType:r,title:i}=n;var o;const s=e===r.name,{t:a}=Sh(er);return r.__experimental_formPreviewTitle===!1?null:d.jsxs(Sfr,{marginBottom:6,space:4,children:[!s&&d.jsx(J,{muted:!0,size:1,children:(o=r.title)!=null?o:r.name}),d.jsx(Pa,{as:"h2","data-heading":!0,muted:!i,children:i??a("document-view.form-view.form-title-fallback")})]})};function Tfr(n){const e=p.useRef();return p.useEffect(()=>{e.current=n},[n]),e.current}const Afr=1e3*60*60*24*24;function Ifr(n){const e=da(),r=Tfr(n.enabled);p.useEffect(()=>{!r&&n.enabled&&e.push({...n,duration:Afr}),r&&!n.enabled&&e.push({...n,duration:.01})},[n,e,r])}const Dfr=n=>n.preventDefault(),Rfr=p.forwardRef(function(e,r){var i;const{hidden:o,margins:s}=e,{collapsedFieldSets:a,collapsedPaths:l,displayed:c,editState:u,documentId:f,documentType:h,fieldActions:m,onChange:g,validation:v,ready:y,formState:b,onFocus:x,connectionState:_,onBlur:w,onSetCollapsedPath:C,onPathOpen:S,onSetCollapsedFieldSet:T,onSetActiveFieldGroup:A}=go(),I=Fc(),D=yw(f),{title:R}=$it(),P=p.useMemo(()=>urt(),[]),O=(i=u==null?void 0:u.transactionSyncLock)==null?void 0:i.enabled,{t:$}=me(er);Ifr({id:"sync-lock-".concat(f),status:"warning",enabled:O,title:$("document-view.form-view.sync-lock-toast.title"),description:$("document-view.form-view.sync-lock-toast.description")}),p.useEffect(()=>{const B=I.pair.documentEvents(f,h).pipe(Si(H=>{H.type==="mutation"&&P.publish(Ofr(H)),H.type==="rebase"&&P.publish(Pfr(H))})).subscribe();return()=>{B.unsubscribe()}},[f,I,h,P]);const L=!!(c!=null&&c._rev);p.useEffect(()=>{L&&P.publish({type:"mutation",patches:[],snapshot:c})},[L]);const[M,N]=p.useState(null);p.useEffect(()=>{y&&!(b!=null&&b.focusPath.length)&&M&&Cx(M)},[y]);const z=p.useCallback(B=>{N(B),typeof r=="function"?r(B):r&&(r.current=B)},[r]);return d.jsx(Ya,{hidden:o,paddingX:4,paddingTop:5,paddingBottom:9,sizing:"border",width:1,children:d.jsx(WD,{margins:s,children:d.jsx(te,{as:"form",onSubmit:Dfr,ref:z,children:_==="connecting"?d.jsx(sit,{ms:300,children:d.jsxs(oe,{align:"center",direction:"column",height:"fill",justify:"center",children:[d.jsx(Qx,{muted:!0}),d.jsx(te,{marginTop:3,children:d.jsx(J,{align:"center",muted:!0,size:1,children:$("document-view.form-view.loading")})})]})}):b===null||o?d.jsx(te,{padding:2,children:d.jsx(J,{children:$("document-view.form-view.form-hidden")})}):d.jsxs(d.Fragment,{children:[d.jsx(kfr,{documentId:f,schemaType:b.schemaType,title:R}),d.jsx(drt,{__internal_fieldActions:m,__internal_patchChannel:P,collapsedFieldSets:a,collapsedPaths:l,focusPath:b.focusPath,changed:b.changed,focused:b.focused,groups:b.groups,id:"root",members:b.members,onChange:g,onFieldGroupSelect:A,onPathBlur:w,onPathFocus:x,onPathOpen:S,onSetFieldSetCollapsed:T,onSetPathCollapsed:C,presence:D,readOnly:_==="reconnecting"||b.readOnly,schemaType:b.schemaType,validation:v,value:b.value})]})})})})});function Ofr(n){const e=n.mutations.map(r=>r.patch).filter(Boolean);return{type:"mutation",snapshot:n.document,patches:nZ(n.origin,e)}}function Pfr(n){const e=n.remoteMutations.map(i=>i.patch).filter(Boolean),r=n.localMutations.map(i=>i.patch).filter(Boolean);return{type:"rebase",snapshot:n.document,patches:nZ("remote",e).concat(nZ("local",r))}}var HOe=Object.freeze,jfr=Object.defineProperty,Lfr=(n,e)=>HOe(jfr(n,"raw",{value:HOe(e||n.slice())})),WOe;const $fr=F(te)({position:"relative"}),Mfr=F(_N)(n=>{let{$disabled:e}=n;return e?{height:"100%"}:Ae(WOe||(WOe=Lfr([`
    height: 100%;
    overflow: auto;
    position: relative;
    scroll-behavior: smooth;
    outline: none;
  `])))}),Ffr=function(e){const{footerHeight:r,headerHeight:i,isInspectOpen:o,rootElement:s,setDocumentPanelPortalElement:a}=e,{activeViewId:l,displayed:c,documentId:u,editState:f,inspector:h,value:m,views:g,ready:v,schemaType:y,permissions:b,isPermissionsLoading:x,isDeleting:_,isDeleted:w,timelineStore:C}=go(),{collapsed:S}=d2(),{collapsed:T}=cv(),A=Ly(),{features:I}=Cw(),D=p.useRef(null),[R,P]=p.useState(null),O=p.useRef(null),$=m._createdAt?"update":"create",L=p.useMemo(()=>g.find(ne=>ne.id===l)||g[0]||{type:"form"},[l,g]),M=I.splitPanes&&D.current||A.element,N=p.useMemo(()=>S?[i||0,0,r?r+2:2,0]:[0,0,2,0],[S,r,i]),z=L.type!=="form",B=p.useMemo(()=>L.type==="component"&&L.component&&p.createElement(L.component,{document:{draft:(f==null?void 0:f.draft)||null,displayed:c||m,historical:c,published:(f==null?void 0:f.published)||null},documentId:u,options:L.options,schemaType:y}),[L,c,u,f==null?void 0:f.draft,f==null?void 0:f.published,y,m]),H=wa(C,ne=>ne.lastNonDeletedRevId);p.useEffect(()=>{R!=null&&R.scrollTo&&R.scrollTo(0,0)},[u,R]),p.useEffect(()=>{M&&a(M)},[M,a]);const X=p.useMemo(()=>o?d.jsx(xfr,{value:c||m}):null,[o,c,m]),G=!!(!T&&h);return d.jsx(AB,{children:d.jsxs(oe,{height:"fill",children:[(I.resizablePanes||!G)&&d.jsx($fr,{flex:2,overflow:"hidden",children:d.jsx(fD,{element:M,__unstable_elements:{documentScrollElement:R},children:d.jsx(hy,{element:R,children:d.jsxs(nI,{scrollElement:R,containerElement:O,children:[L.type==="form"&&!x&&v&&d.jsxs(d.Fragment,{children:[d.jsx(Efr,{granted:!!(b!=null&&b.granted),requiredPermission:$}),!_&&w&&d.jsx(wfr,{revisionId:H}),d.jsx(Bit,{}),d.jsx(_fr,{})]}),d.jsxs(Mfr,{$disabled:S||!1,"data-testid":"document-panel-scroller",ref:P,children:[d.jsx(Rfr,{hidden:z,margins:N,ref:O},u+(v?"_ready":"_pending")),B]}),X,d.jsx("div",{"data-testid":"document-panel-portal",ref:D})]})})})}),G&&d.jsx(hy,{element:s,children:d.jsx(ufr,{documentId:u,documentType:y.name,flex:1})})]})})},Uit=["left","bottom"],Nfr={small:0,medium:1,large:2,full:"auto"};function Bfr(n){const{dialog:e,referenceElement:r}=n;return d.jsx($y,{content:d.jsx(Ufr,{dialog:e}),fallbackPlacements:Uit,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:r})}function Ufr(n){const{dialog:e}=n,{cancelButtonIcon:r,cancelButtonText:i,confirmButtonIcon:o,confirmButtonText:s,message:a,onCancel:l,onConfirm:c,tone:u}=e,{t:f}=me(er),{isTopLayer:h}=Eu(),[m,g]=p.useState(null),v=p.useCallback(()=>{h&&l()},[h,l]),y=p.useCallback(b=>{b.key==="Escape"&&h&&l()},[h,l]);return ki(v,[m]),wu(y),d.jsxs(oe,{direction:"column",ref:g,style:{minWidth:320-16,maxWidth:400},children:[d.jsx(te,{flex:1,overflow:"auto",padding:4,children:d.jsx(J,{children:a})}),d.jsx(te,{paddingX:4,paddingY:3,style:{borderTop:"1px solid var(--card-border-color)"},children:d.jsxs(eo,{columns:2,gap:2,children:[d.jsx(ui,{icon:r,onClick:l,mode:"ghost",text:i||f("confirm-dialog.cancel-button.fallback-text")}),d.jsx(ui,{icon:o,onClick:c,text:s||f("confirm-dialog.confirm-button.fallback-text"),tone:u})]})})]})}function zfr(n){const{dialog:e}=n,r=p.useId(),i=e.footer&&d.jsx(te,{paddingX:4,paddingY:3,children:e.footer});return d.jsx(Vg,{zOffset:"fullscreen",children:d.jsx(vVe,{__unstable_hideCloseButton:e.showCloseButton===!1,footer:i,header:e.header,id:r,onClose:e.onClose,onClickOutside:e.onClose,width:e.width===void 0?1:Nfr[e.width],children:d.jsx(te,{padding:4,children:e.content})})})}function Vfr(n){const{dialog:e,referenceElement:r}=n;return d.jsx($y,{content:d.jsx(Hfr,{dialog:e}),fallbackPlacements:Uit,open:!0,placement:"top",portal:!0,preventOverflow:!0,referenceElement:r})}function Hfr(n){const{dialog:e}=n,{content:r,onClose:i}=e,{isTopLayer:o}=Eu(),[s,a]=p.useState(null),l=p.useCallback(()=>{o&&i()},[o,i]),c=p.useCallback(u=>{u.key==="Escape"&&o&&i()},[o,i]);return ki(l,[s]),wu(c),d.jsx("div",{ref:a,children:r})}function GOe(n){const{children:e}=n,{element:r,elements:i}=Ly(),o=(i==null?void 0:i[Dit])||r;return d.jsx(fD,{element:o,children:e})}function fse(n){const{dialog:e,referenceElement:r=null}=n,i=p.useId();if(e.type==="confirm")return d.jsx(Bfr,{dialog:e,referenceElement:r});if(e.type==="popover")return d.jsx(Vfr,{dialog:e,referenceElement:r});if(e.type==="dialog"||!e.type)return d.jsx(GOe,{children:d.jsx(zfr,{dialog:e})});if(e.type==="custom")return d.jsx(GOe,{children:e==null?void 0:e.component});const o=e;return console.warn("Unsupported modal type ".concat(o.type)),d.jsx(ja,{id:i,onClose:o.onClose,onClickOutside:o.onClose,width:1,children:o.content||d.jsxs(J,{size:1,children:["Unexpected modal type (",d.jsx("code",{children:o.type}),")"]})})}function zit(n){let{actionStates:e,children:r,referenceElement:i}=n;const[o,s]=p.useState(-1),a=e[o],l=p.useCallback(c=>{s(c)},[]);return d.jsxs(d.Fragment,{children:[a&&a.dialog&&d.jsx(Vg,{zOffset:"paneFooter",children:d.jsx(fse,{dialog:a.dialog,referenceElement:i})}),r({handleAction:l})]})}function Wfr(n){const{actionStates:e,disabled:r}=n,i=p.useId(),[o,s]=p.useState(null),a=p.useMemo(()=>({placement:"top-end",portal:!0,preventOverflow:!0}),[]),{t:l}=me(er);return d.jsx(zit,{actionStates:e,referenceElement:o,children:c=>{let{handleAction:u}=c;return d.jsx(Vr,{id:"".concat(i,"-action-menu"),button:d.jsx(ha,{"aria-label":l("buttons.action-menu-button.aria-label"),disabled:r,"data-testid":"action-menu-button",size:"large",tooltipProps:{content:l("buttons.action-menu-button.tooltip")}}),menu:d.jsx(_r,{padding:1,children:e.map((f,h)=>d.jsx(Vit,{actionState:f,disabled:r,index:h,onAction:u},h))}),popover:a,ref:s})}})}function Vit(n){const{actionState:e,disabled:r,index:i,onAction:o}=n,{onHandle:s}=e,a=p.useCallback(()=>{o(i),s&&s()},[i,o,s]),l=p.useMemo(()=>e.shortcut?String(e.shortcut).split("+").map(c=>c.slice(0,1).toUpperCase()+c.slice(1)):void 0,[e.shortcut]);return d.jsx(Wt,{"data-testid":"action-".concat(e.label.replace(" ","")),disabled:r||!!e.disabled,hotkeys:l,icon:e.icon,onClick:a,text:e.label,tone:e.tone,...e.disabled&&{tooltipProps:{content:e.title}}})}const Gfr={create:oG,delete:vs,discardDraft:Is,initial:oG,editDraft:df,editLive:df,publish:UE,unpublish:UM};function qfr(n){return Gfr[n]}var qOe=Object.freeze,Kfr=Object.defineProperty,r4=(n,e)=>qOe(Kfr(n,"raw",{value:qOe(e||n.slice())})),KOe,YOe,ZOe,XOe;const Yfr=F(Se)(KOe||(KOe=r4([`
  max-width: 200px;
`]))),Zfr=F(oe)(YOe||(YOe=r4([`
  max-height: calc(100vh - 198px);
  min-width: 244px;
`]))),Xfr=F(te)(n=>{let{$visible:e}=n;return Ae(XOe||(XOe=r4([`
    opacity: 0;
    pointer-events: none;

    `,`
  `])),e&&Ae(ZOe||(ZOe=r4([`
      opacity: 1;
      pointer-events: auto;
    `]))))}),Hit={initial:"timeline.operation.created-initial",create:"timeline.operation.created",publish:"timeline.operation.published",editLive:"timeline.operation.edited-live",editDraft:"timeline.operation.edited-draft",unpublish:"timeline.operation.unpublished",discardDraft:"timeline.operation.draft-discarded",delete:"timeline.operation.deleted"};var QOe=Object.freeze,Qfr=Object.defineProperty,uC=(n,e)=>QOe(Qfr(n,"raw",{value:QOe(e||n.slice())})),JOe,ePe,tPe,nPe,rPe,iPe;const u$=F(oe)(n=>{let{theme:e}=n;var r;const i=(r=e.sanity.color.base.skeleton)==null?void 0:r.from;return Ae(JOe||(JOe=uC([`
    --timeline-hairline-width: 1px;
    position: relative;
    z-index: 2;
    margin: 0;
    padding: 0;

    &::before {
      position: absolute;
      content: '';
      height: 100%;
      width: var(--timeline-hairline-width);
      background: `,`;
      top: 0;
      left: calc((100% - var(--timeline-hairline-width)) / 2);
      z-index: 1;
    }
  `])),i)}),Jfr=F(ui)(n=>{let{$selected:e,$disabled:r}=n;return Ae(nPe||(nPe=uC([`
    position: relative;
    width: 100%;

    /* Line styling */
    &[data-first] `,`::before {
      height: 50%;
      top: unset;
      bottom: 0;
    }

    &[data-last] `,`::before {
      height: 50%;
    }

    `,`

    `,`
  `])),u$,u$,e&&Ae(ePe||(ePe=uC([`
      `,`::before {
        background: transparent;
      }
    `])),u$),r&&Ae(tPe||(tPe=uC([`
      cursor: not-allowed;
    `]))))}),ehr=F(te)(rPe||(rPe=uC([`
  background: var(--card-bg-color);
  border-radius: 50px;
  position: relative;
  z-index: 2;
`]))),thr=F(te)(iPe||(iPe=uC([`
  min-width: 1rem;
  margin-left: `,`;
`])),n=>{let{theme:e}=n;return"-".concat(Je(e.sanity.space[1]))});function nhr(n){let{maxLength:e,userIds:r}=n;return d.jsx(p6,{maxLength:e,children:r.map(i=>d.jsx(gf,{user:i,withTooltip:!0},i))})}const oPe={initial:"primary",create:"primary",publish:"positive",editLive:"caution",editDraft:"caution",unpublish:"critical",discardDraft:"critical",delete:"critical",withinSelection:"primary"};function rhr(n){let{chunk:e,isFirst:r,isLast:i,isLatest:o,isSelected:s,onSelect:a,timestamp:l,type:c}=n;const{t:u}=me("studio"),f=qfr(c),h=Array.from(e.authors),m=c!=="delete",g=cf({dateStyle:"medium",timeStyle:"short"}),v=p.useMemo(()=>{const b=new Date(l);return g.format(b)},[l,g]),y=p.useCallback(b=>{b.preventDefault(),b.stopPropagation(),m&&a(e)},[a,e,m]);return d.jsx(Jfr,{$selected:s,$disabled:!m,"data-chunk-id":e.id,"data-first":r?!0:void 0,"data-last":i?!0:void 0,"data-ui":"timelineItem",mode:s?"default":"bleed",onClick:y,padding:0,radius:2,tone:s?"primary":oPe[e.type],children:d.jsx(te,{paddingX:2,children:d.jsxs(oe,{align:"stretch",children:[d.jsx(u$,{align:"center",children:d.jsx(ehr,{padding:2,children:d.jsx(J,{size:2,children:f&&p.createElement(f)})})}),d.jsxs(Se,{space:2,margin:2,children:[o&&d.jsx(oe,{children:d.jsx(ke,{padding:1,radius:2,shadow:1,tone:s?"primary":oPe[e.type],children:d.jsx(J,{muted:!0,size:0,weight:"medium",children:u("timeline.latest")})})}),d.jsx(te,{children:d.jsx(J,{size:1,weight:"medium",children:u(Hit[c])||d.jsx("code",{children:c})})}),d.jsx(thr,{paddingX:1,children:d.jsx(J,{as:"time",size:0,muted:!0,dateTime:l,children:v})})]}),d.jsx(oe,{flex:1,justify:"flex-end",align:"center",children:d.jsx(nhr,{maxLength:3,userIds:h})})]})})})}const vZ=n=>{let{chunks:e,disabledBeforeFirstChunk:r,hasMoreChunks:i,lastChunk:o,onLoadMore:s,onSelect:a,firstChunk:l}=n;const[c,u]=p.useState(!1),{t:f}=me("studio"),h=p.useMemo(()=>e.filter(v=>r&&l?v.index<l.index:!0),[e,r,l]),m=p.useMemo(()=>o!=null&&o.id?h.findIndex(v=>v.id===o.id):-1,[o==null?void 0:o.id,h]),g=p.useCallback((v,y)=>{let{activeIndex:b}=y;const x=b===0,_=h&&b===h.length-1||!1;return d.jsxs(te,{paddingBottom:_?1:0,paddingTop:x?1:0,paddingX:1,children:[d.jsx(rhr,{chunk:v,isFirst:x,isLast:_,isLatest:b===0&&!r,isSelected:b===m,onSelect:a,timestamp:v.endTimestamp,type:v.type}),b===h.length-1&&i&&d.jsx(Zr,{})]})},[r,h,i,a,m]);return p.useEffect(()=>u(!0),[]),d.jsxs(Xfr,{$visible:!m||c,"data-ui":"timeline",children:[h.length===0&&d.jsxs(Yfr,{padding:3,space:3,children:[d.jsx(J,{size:1,weight:"medium",children:f("timeline.error.no-document-history-title")}),d.jsx(J,{muted:!0,size:1,children:f("timeline.error.no-document-history-description")})]}),h.length>0&&d.jsx(Zfr,{direction:"column",children:d.jsx(Wy,{activeItemDataAttr:"data-hovered",ariaLabel:f("timeline.list.aria-label"),autoFocus:"list",initialIndex:m,initialScrollAlign:"center",itemHeight:40,items:h,onEndReached:s,onEndReachedIndexOffset:20,overscan:5,renderItem:g,wrapAround:!1})})]})};vZ.displayName="Timeline";function ihr(){const{t:n}=me("studio");return d.jsxs(oe,{align:"flex-start",gap:3,padding:4,children:[d.jsx(mo,{tone:"critical",children:d.jsx(Dc,{})}),d.jsxs(Se,{space:4,children:[d.jsx(mo,{size:1,tone:"critical",weight:"medium",children:n("timeline.error.load-document-changes-title")}),d.jsx(mo,{size:1,tone:"critical",children:n("timeline.error.load-document-changes-description")})]})]})}var sPe=Object.freeze,ohr=Object.defineProperty,shr=(n,e)=>sPe(ohr(n,"raw",{value:sPe(e||n.slice())})),aPe;const ahr=F(Ai)(aPe||(aPe=shr([`
  overflow: hidden;
  overflow: clip;
`])));function Wit(n){let{chunk:e,mode:r,placement:i}=n;const{setTimelineRange:o,setTimelineMode:s,timelineError:a,ready:l,timelineStore:c}=go(),[u,f]=p.useState(!1),[h,m]=p.useState(null),[g,v]=p.useState(null),y=da(),b=wa(c,B=>B.chunks),x=wa(c,B=>B.isLoading),_=wa(c,B=>B.hasMoreChunks),w=wa(c,B=>B.realRevChunk),C=wa(c,B=>B.sinceTime),{t:S}=me("studio"),T=p.useCallback(()=>{s(r),f(!0)},[r,s]),A=p.useCallback(()=>{s("closed"),f(!1)},[s]),I=p.useCallback(()=>{u&&A()},[A,u]),D=p.useCallback(B=>{u&&(B.key==="Escape"||B.key==="Tab")&&(A(),h==null||h.focus())},[h,A,u]);ki(I,[h,g]),wu(D);const R=p.useCallback(B=>{try{const[H,X]=c.findRangeForRev(B);s("closed"),o(H,X)}catch(H){y.push({closable:!0,description:H.message,status:"error",title:S("timeline.error.unable-to-load-revision")})}},[s,o,S,c,y]),P=p.useCallback(B=>{try{const[H,X]=c.findRangeForSince(B);s("closed"),o(H,X)}catch(H){y.push({closable:!0,description:H.message,status:"error",title:S("timeline.error.unable-to-load-revision")})}},[s,o,S,c,y]),O=p.useCallback(()=>{x||c.loadMore()},[x,c]),$=a?d.jsx(ihr,{}):d.jsxs(d.Fragment,{children:[r==="rev"&&d.jsx(vZ,{chunks:b,firstChunk:w,hasMoreChunks:_,lastChunk:w,onLoadMore:O,onSelect:R}),r==="since"&&d.jsx(vZ,{chunks:b,disabledBeforeFirstChunk:!0,firstChunk:w,hasMoreChunks:_,lastChunk:C,onLoadMore:O,onSelect:P})]}),L={timestamp:{dateStyle:"medium",timeStyle:"short"}},M=e?S(Hit[e.type],{context:"timestamp",timestamp:new Date(e==null?void 0:e.endTimestamp),formatParams:L}):S("timeline.latest-version"),N=e?S("timeline.since",{timestamp:new Date(e==null?void 0:e.endTimestamp),formatParams:L}):S("timeline.since-version-missing"),z=r==="rev"?M:N;return d.jsx(ahr,{constrainSize:!0,content:u&&$,"data-ui":"versionMenu",open:u,placement:i,portal:!0,ref:v,children:d.jsx(ze,{disabled:!l,mode:"bleed",iconRight:qs,onClick:u?A:T,ref:m,selected:u,style:{maxWidth:"100%"},text:l?z:S("timeline.loading-history")})})}function lhr(){const{activeViewId:n,paneKey:e,views:r}=go(),i="".concat(e,"tabpanel");return d.jsx(y6,{space:1,children:r.map((o,s)=>{var a;return d.jsx(chr,{icon:o.icon,id:"".concat(e,"tab-").concat(o.id),isActive:n===o.id,label:o.title,tabPanelId:i,viewId:s===0?null:(a=o.id)!=null?a:null},o.id)})})}function chr(n){const{icon:e,id:r,isActive:i,label:o,tabPanelId:s,viewId:a,...l}=n,{ready:c}=go(),{setView:u}=Ah(),f=p.useCallback(()=>u(a),[u,a]);return d.jsx(E5,{...l,"aria-controls":s,disabled:!c,icon:e,id:r,label:o,onClick:f,selected:i})}function uhr(){const{connectionState:n,schemaType:e,title:r,value:i}=go(),o=!!i&&n!=="connecting",{error:s,value:a}=JN({enabled:o,schemaType:e,value:i}),{t:l}=me(er);return n==="connecting"?d.jsx(d.Fragment,{}):r?d.jsx(d.Fragment,{children:r}):i?s?d.jsx(d.Fragment,{children:l("panes.document-header-title.error.text",{error:s.message})}):d.jsx(d.Fragment,{children:(a==null?void 0:a.title)||d.jsx("span",{style:{color:"var(--card-muted-fg-color)"},children:l("panes.document-header-title.untitled.text")})}):d.jsx(d.Fragment,{children:l("panes.document-header-title.new.text",{schemaType:(e==null?void 0:e.title)||(e==null?void 0:e.name)})})}const dhr=p.memo(p.forwardRef(function(e,r){const{menuItems:i}=e,{actions:o,editState:s,onMenuAction:a,onPaneClose:l,onPaneSplit:c,menuItemGroups:u,schemaType:f,timelineStore:h,connectionState:m,views:g,unstable_languageFilter:v}=go(),{features:y}=Cw(),{index:b,BackLink:x,hasGroupSiblings:_}=Ah(),{actions:w}=Iie(),[C,S]=p.useState(null),T=p.useMemo(()=>pit({actionHandler:a,fieldActions:w,menuItems:i,menuItemGroups:u}),[a,w,u,i]),A=p.useMemo(()=>T.filter(ose),[T]),I=p.useMemo(()=>T.filter(hit),[T]),D=g.length>1,R=wa(h,H=>H.revTime),{collapsed:P,isLast:O}=cv(),$=O&&!P?-1:0,L=y.splitViews&&c&&g.length>1,M=L&&_,N=y.backButton&&b>0,z=!M&&!N&&!!x,{t:B}=me(er);return d.jsx(xu,{children:d.jsx(ise,{border:!0,ref:r,loading:m==="connecting",title:d.jsx(uhr,{}),tabs:D&&d.jsx(lhr,{}),tabIndex:$,backButton:N&&d.jsx(ze,{as:x,"data-as":"a",icon:UI,mode:"bleed",tooltipProps:{content:B("pane-header.back-button.text")}}),subActions:d.jsx(Wit,{chunk:R,mode:"rev",placement:"bottom-end"}),actions:d.jsxs(oe,{align:"center",gap:1,children:[v.length>0&&d.jsx(d.Fragment,{children:v.map((H,X)=>p.createElement(H,{key:"language-filter-".concat(X),schemaType:f}))}),A.map(H=>d.jsx(fit,{node:H},H.key)),s&&d.jsx(IB,{actions:o||[],actionProps:s,group:"paneActions",children:H=>{let{states:X}=H;return d.jsx(zit,{actionStates:X,referenceElement:C,children:G=>{let{handleAction:ne}=G;return d.jsx("div",{ref:S,children:d.jsx(cit,{nodes:I,actionsNodes:X.length>0?X.map((le,K)=>d.jsx(Vit,{actionState:le,disabled:!!le.disabled,index:K,onAction:ne},le.label)):void 0},"context-menu")})}})}}),L&&d.jsx(ze,{"aria-label":B("buttons.split-pane-button.aria-label"),icon:gBe,mode:"bleed",onClick:c,tooltipProps:{content:B("buttons.split-pane-button.tooltip")}},"split-pane-button"),M&&d.jsx(ze,{icon:Is,mode:"bleed",onClick:l,tooltipProps:{content:B("buttons.split-pane-close-button.title")}},"close-view-button"),z&&d.jsx(ze,{icon:Is,mode:"bleed",tooltipProps:{content:B("buttons.split-pane-close-group-button.title")},as:x},"close-view-button")]})})})})),fhr={primary:"primary",success:"positive",warning:"caution",danger:"critical"};function hhr(n){let{states:e}=n;return e.length===0?null:d.jsx(to,{space:1,children:e.map((r,i)=>d.jsx(zn,{content:r.title,disabled:!r.title,placement:"top",portal:!0,children:d.jsx(_u,{fontSize:1,mode:"outline",paddingX:2,paddingY:1,radius:4,tone:r.color?fhr[r.color]:void 0,style:{whiteSpace:"nowrap"},children:r.label})},String(i)))})}function phr(){const{badges:n,editState:e}=go();return!e||!n?null:d.jsx(llr,{badges:n,badgeProps:e,children:r=>{let{states:i}=r;return d.jsx(hhr,{states:i})}})}const mhr={NOTHING_TO_DELETE:"action.delete.disabled.nothing-to-delete",NOT_READY:"action.delete.disabled.not-ready"},Git=n=>{let{id:e,type:r,draft:i,onComplete:o}=n;const{setIsDeleting:s}=go(),{delete:a}=If(e,r),[l,c]=p.useState(!1),[u,f]=p.useState(!1),{t:h}=me(er),m=p.useCallback(()=>{f(!1),o()},[o]),g=p.useCallback(()=>{c(!0),f(!1),s(!0),a.execute(),o()},[a,o,s]),v=p.useCallback(()=>{f(!0)},[]),[y,b]=qy({id:e,type:r,permission:"delete"}),x=ao();return!b&&!(y!=null&&y.granted)?{tone:"critical",icon:vs,disabled:!0,label:h("action.delete.label"),title:d.jsx(Wp,{context:"delete-document",currentUser:x})}:{tone:"critical",icon:vs,disabled:l||!!a.disabled||b,title:a.disabled&&h(mhr[a.disabled])||"",label:h(l?"action.delete.running.label":"action.delete.label"),shortcut:"Ctrl+Alt+D",onHandle:v,dialog:u&&{type:"custom",component:d.jsx(oit,{action:"delete",id:(i==null?void 0:i._id)||e,type:r,onCancel:m,onConfirm:g})}}};Git.action="delete";const ghr={NO_CHANGES:"action.discard-changes.disabled.no-changes",NOT_PUBLISHED:"action.discard-changes.disabled.not-published",NOT_READY:"action.discard-changes.disabled.not-ready"},qit=n=>{let{id:e,type:r,published:i,liveEdit:o,onComplete:s}=n;const{discardChanges:a}=If(e,r),[l,c]=p.useState(!1),[u,f]=qy({id:e,type:r,permission:"discardDraft"}),h=ao(),{t:m}=me(er),g=p.useCallback(()=>{a.execute(),s()},[a,s]),v=p.useCallback(()=>{c(!0)},[]),y=p.useMemo(()=>l&&{type:"confirm",tone:"critical",onCancel:s,onConfirm:g,message:m("action.discard-changes.confirm-dialog.confirm-discard-changes")},[g,l,s,m]);return!i||o?null:!f&&!(u!=null&&u.granted)?{tone:"critical",icon:Bp,disabled:!0,label:m("action.discard-changes.label"),title:d.jsx(Wp,{context:"discard-changes",currentUser:h})}:{tone:"critical",icon:Bp,disabled:!!a.disabled||f,title:a.disabled&&ghr[a.disabled]||"",label:m("action.discard-changes.label"),onHandle:v,dialog:y}};qit.action="discardChanges";const vhr={NOTHING_TO_DUPLICATE:"action.duplicate.disabled.nothing-to-duplicate",NOT_READY:"action.duplicate.disabled.not-ready"},Kit=n=>{let{id:e,type:r,onComplete:i}=n;const o=Fc(),{duplicate:s}=If(e,r),{navigateIntent:a}=md(),[l,c]=p.useState(!1),[u,f]=qy({id:e,type:r,permission:"duplicate"}),{t:h}=me(er),m=ao(),g=p.useCallback(async()=>{const v=Ia();c(!0);const y=yyt(o.pair.operationEvents(e,r).pipe(Bn(b=>b.op==="duplicate"&&b.type==="success")));s.execute(v),await y,a("edit",{id:v,type:r}),i()},[o.pair,s,e,a,i,r]);return!f&&!(u!=null&&u.granted)?{icon:Np,disabled:!0,label:h("action.duplicate.label"),title:d.jsx(Wp,{context:"duplicate-document",currentUser:m})}:{icon:Np,disabled:l||!!s.disabled||f,label:h(l?"action.duplicate.running.label":"action.duplicate.label"),title:s.disabled?h(vhr[s.disabled]):"",onHandle:g}};Kit.action="duplicate";const hse=n=>{let{id:e,type:r,revision:i,onComplete:o}=n;const{restore:s}=If(e,r),a=prt(e,r),{navigateIntent:l}=md(),c=p.useRef(a),[u,f]=p.useState(!1),{t:h}=me(er),m=p.useCallback(()=>{s.execute(i),o()},[s,i,o]);p.useEffect(()=>{!a||a===c.current||(a.type==="success"&&a.op==="restore"&&l("edit",{id:e,type:r}),c.current=a)},[a,e,l,r]);const g=p.useCallback(()=>{f(!0)},[]),v=p.useMemo(()=>u?{type:"confirm",tone:"critical",onCancel:o,onConfirm:m,message:h("action.restore.confirm.message")}:null,[m,u,o,h]),y=i==="@initial";return i===void 0?null:{label:h("action.restore.label"),color:"primary",onHandle:g,title:h(y?"action.restore.disabled.cannot-restore-initial":"action.restore.tooltip"),icon:xJ,dialog:v,disabled:y}};hse.action="restore";const yhr=kf({name:"Document Published",version:1,description:'User clicked the "Publish" button in the document pane'}),bhr={LIVE_EDIT_ENABLED:"action.publish.live-edit.publish-disabled",ALREADY_PUBLISHED:"action.publish.already-published.no-time-ago.tooltip",NO_CHANGES:"action.publish.no-changes.tooltip",NOT_READY:"action.publish.disabled.not-ready"};function xhr(n,e,r){return n==="ALREADY_PUBLISHED"&&e?d.jsx(whr,{publishedAt:e}):r(bhr[n])}function whr(n){let{publishedAt:e}=n;const{t:r}=me(er),i=wy(e);return d.jsx("span",{children:r("action.publish.already-published.tooltip",{timeSincePublished:i})})}const Yit=n=>{var e;const{id:r,type:i,liveEdit:o,draft:s,published:a}=n,[l,c]=p.useState(null),{publish:u}=If(r,i),f=_B(r,i),h=mrt(r,i),{changesOpen:m,onHistoryOpen:g,documentId:v,documentType:y}=go(),b=wB(v,y),{t:x}=me(er),_=((b==null?void 0:b.draft)||(b==null?void 0:b.published)||{})._rev,w=f.validation.some(Tvt),[C,S]=p.useState(!1),T=h.isSyncing,A=f.isValidating,[I,D]=qy({id:r,type:i,permission:"publish"}),R=ao(),P=u.disabled?xhr(u.disabled,(a||{})._updatedAt,x)||"":w?x("action.publish.validation-issues.tooltip"):"",O=!!s,$=p.useCallback(()=>{u.execute(),c("publishing")},[u]);p.useEffect(()=>{const z=f.isValidating===!1&&f.revision!==_;!C||T||!z||(w||$(),S(!1))},[T,$,w,C,f.revision,_,A,f.isValidating]),p.useEffect(()=>{const z=l==="publishing"&&!O;z&&m&&g();const B=z?"published":null,X=setTimeout(()=>{c(B)},z?200:4e3);return()=>clearTimeout(X)},[m,l,O,g]);const L=GS(),M=p.useCallback(()=>{L.log(yhr,{publishedImmediately:!(s!=null&&s._createdAt),previouslyPublished:!!a}),h.isSyncing||f.isValidating||f.revision!==_?S(!0):$()},[L,s==null?void 0:s._createdAt,a,h.isSyncing,f.isValidating,f.revision,_,$]);if(o)return{tone:"default",icon:UE,label:x("action.publish.live-edit.label"),title:x("action.publish.live-edit.tooltip"),disabled:!0};if(!D&&!(I!=null&&I.granted))return{tone:"default",icon:UE,label:"Publish",title:d.jsx(Wp,{context:"publish-document",currentUser:R}),disabled:!0};const N=!!(C||(e=b==null?void 0:b.transactionSyncLock)!=null&&e.enabled||l==="publishing"||l==="published"||w||u.disabled);return{disabled:N||D,tone:"default",label:x(l==="published"?"action.publish.published.label":C||l==="publishing"?"action.publish.running.label":"action.publish.draft.label"),icon:UE,title:C?x("action.publish.waiting"):l==="published"||l==="publishing"?null:P,shortcut:N||C?null:"Ctrl+Alt+P",onHandle:M}};Yit.action="publish";const _hr={NOT_PUBLISHED:"action.unpublish.disabled.not-published",NOT_READY:"action.unpublish.disabled.not-ready",LIVE_EDIT_ENABLED:"action.unpublish.disabled.live-edit-enabled"},Zit=n=>{let{id:e,type:r,draft:i,onComplete:o,liveEdit:s}=n;const{unpublish:a}=If(e,r),[l,c]=p.useState(!1),[u,f]=qy({id:e,type:r,permission:"unpublish"}),h=ao(),{t:m}=me(er),g=p.useCallback(()=>{c(!1),o()},[o]),v=p.useCallback(()=>{c(!1),a.execute(),o()},[o,a]),y=p.useMemo(()=>l?{type:"dialog",onClose:o,content:d.jsx(oit,{id:(i==null?void 0:i._id)||e,type:r,action:"unpublish",onCancel:g,onConfirm:v})}:null,[i,e,g,v,l,o,r]);return s?null:!f&&!(u!=null&&u.granted)?{tone:"critical",icon:UM,label:"Unpublish",title:d.jsx(Wp,{context:"unpublish-document",currentUser:h}),disabled:!0}:{tone:"critical",icon:UM,disabled:!!a.disabled||f,label:m("action.unpublish.label"),title:a.disabled?m(_hr[a.disabled]):"",onHandle:()=>c(!0),dialog:y}};Zit.action="unpublish";function Xit(n){const{disabled:e,showMenu:r,states:i}=n,{__internal_tasks:o}=go(),[s,...a]=i,[l,c]=p.useState(null),u=p.useMemo(()=>!s||!s.title&&!s.shortcut?null:d.jsxs(oe,{style:{maxWidth:300},align:"center",gap:3,children:[s.title&&d.jsx(J,{size:1,children:s.title}),s.shortcut&&d.jsx(g6,{fontSize:1,style:{marginTop:-4,marginBottom:-4},keys:String(s.shortcut).split("+").map(f=>f.slice(0,1).toUpperCase()+f.slice(1).toLowerCase())})]}),[s]);return d.jsxs(oe,{align:"center",gap:1,children:[o&&o.footerAction,s&&d.jsx(zp,{zOffset:200,children:d.jsx(zn,{disabled:!u,content:u,placement:"top",children:d.jsx(Se,{children:d.jsx(ze,{"data-testid":"action-".concat(s.label),disabled:e||!!s.disabled,icon:s.icon,onClick:s.onHandle,ref:c,size:"large",text:s.label,tone:s.tone||"primary"})})})}),r&&a.length>0&&d.jsx(Wfr,{actionStates:a,disabled:e}),s&&s.dialog&&d.jsx(fse,{dialog:s.dialog,referenceElement:l})]})}const Ehr=p.memo(function(){const{actions:e,connectionState:r,documentId:i,editState:o}=go();return!e||!o?null:d.jsx(IB,{actions:e,actionProps:o,group:"default",children:s=>{let{states:a}=s;return d.jsx(Xit,{disabled:r!=="connected",showMenu:e.length>1,states:a},i)}})}),Chr=p.memo(function(){const{connectionState:e,editState:r,timelineStore:i}=go(),o=wa(i,u=>u.revTime),s=(o==null?void 0:o.id)||"",a=((r==null?void 0:r.draft)||(r==null?void 0:r.published)||{})._rev===s,l=p.useMemo(()=>({...r||{},revision:s}),[r,s]),c=p.useMemo(()=>[hse],[]);return d.jsx(IB,{actions:c,actionProps:l,group:"default",children:u=>{let{states:f}=u;return d.jsx(Xit,{disabled:e!=="connected"||!!a,showMenu:!1,states:f})}})});var lPe=Object.freeze,Shr=Object.defineProperty,pse=(n,e)=>lPe(Shr(n,"raw",{value:lPe(e||n.slice())})),cPe,uPe,dPe;const khr=F(Xa.path)(cPe||(cPe=pse([`
  transform-origin: center;
`]))),Thr=n=>d.jsx(Xa.circle,{fill:"none",r:"8",cx:"12.5",cy:"12.5",strokeWidth:"1.2",...n}),Ahr=n=>d.jsx(khr,{fill:"none",d:"M14 17.5619L11.5 20.5L14.5 23.0619M11 7.43811L13.5 4.50001L10.5 1.93811",...n}),Ihr=n=>d.jsx(Xa.path,{d:"M9.5 12.1316L11.7414 14.5L16 10",...n}),Dhr=Kp(uPe||(uPe=pse([`
  0% {
    transform: rotate(0);
  }
  100% {
    transform: rotate(360deg);
  }
`]))),Rhr=F.g(dPe||(dPe=pse([`
  transform-origin: center;

  &[data-rotate] {
    animation: `,` 1s ease-in-out infinite;
  }
`])),Dhr),Ohr={syncing:{scale:1,transition:{duration:0}},saved:{scale:[1,.8,1.2,.9,1.1,.95,1.05,.99,1],transition:{duration:.5,delay:.2}},changes:{transition:{duration:0}}},Phr={syncing:{strokeDasharray:"0, 0, 23, 3, 23, 3",strokeDashoffset:10,opacity:1,transition:{duration:0}},saved:{strokeDasharray:"0, 0, 23, 0, 23, 0",strokeDashoffset:10,opacity:1,transition:{duration:.2}},changes:{strokeDasharray:"0, 60, 23, 0, 23, 0",strokeDashoffset:0,opacity:0,transition:{duration:.5}}},jhr={syncing:{opacity:1,transition:{duration:0}},saved:{opacity:0,transition:{duration:.2}},changes:{opacity:0}},Lhr={syncing:{pathLength:0,transition:{duration:0}},saved:{pathLength:1,transition:{delay:.4,duration:.3}},changes:{pathLength:0,transition:{duration:.2}}};function $hr(n){const{status:e}=n;return e?d.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 25 25",fill:"none",stroke:"currentColor",strokeWidth:"1.2","data-sanity-icon":"animated-status-icon",children:d.jsxs(Xa.g,{variants:Ohr,initial:e,animate:e,children:[d.jsxs(Rhr,{"data-rotate":e==="changes"?void 0:"",children:[d.jsx(Ahr,{variants:jhr,initial:e,animate:e}),d.jsx(Thr,{variants:Phr,initial:e,animate:e})]}),d.jsx(Ihr,{variants:Lhr,initial:e,animate:e})]})}):null}const Mhr={saved:{i18nKey:"status-bar.document-status-pulse.status.saved.text",tone:"positive"},syncing:{i18nKey:"status-bar.document-status-pulse.status.syncing.text",tone:"default"}},Fhr=n=>{const{status:e}=n,{t:r}=me(er);if(e!=="saved"&&e!=="syncing")return null;const i=Mhr[e];return d.jsxs(oe,{align:"center",gap:2,children:[d.jsx(mo,{size:1,tone:i.tone,children:d.jsx($hr,{status:e})}),d.jsx(J,{muted:!0,size:1,children:r(i.i18nKey)})]})},Nhr=1e3,Bhr=3e3;function Uhr(n){let{singleLine:e}=n;const{documentId:r,documentType:i,editState:o,value:s}=go(),[a,l]=p.useState(null),c=mrt(r,i),u=s==null?void 0:s._updatedAt;return p.useEffect(()=>{if(a==="syncing"&&!c.isSyncing){const f=setTimeout(()=>l("saved"),Nhr);return()=>clearTimeout(f)}if(a==="saved"){const f=setTimeout(()=>l(null),Bhr);return()=>clearTimeout(f)}},[a,u,c.isSyncing]),p.useLayoutEffect(()=>{l(null)},[r]),p.useLayoutEffect(()=>{c.isSyncing&&l("syncing")},[c.isSyncing,u]),a?d.jsx(Fhr,{status:a||void 0}):d.jsx(zn,{content:d.jsx(aI,{absoluteDate:!0,draft:o==null?void 0:o.draft,published:o==null?void 0:o.published}),placement:"top",children:d.jsxs(oe,{align:"center",gap:3,children:[d.jsx(zN,{draft:o==null?void 0:o.draft,published:o==null?void 0:o.published}),d.jsx(aI,{draft:o==null?void 0:o.draft,published:o==null?void 0:o.published,singleLine:e})]})})}function zhr(n){let{element:e,onResize:r}=n;p.useLayoutEffect(()=>(e&&pY.observe(e,r),()=>{e&&pY.unobserve(e)}),[e,r])}const Vhr=480;function Hhr(n){const{actionsBoxRef:e}=n,{editState:r,timelineStore:i}=go(),o=wa(i,h=>h.onOlderRevision),[s,a]=p.useState(null),[l,c]=p.useState(null),u=p.useCallback(h=>{a(h.contentRect.width<Vhr)},[]);zhr({element:l,onResize:u});const f=(r==null?void 0:r.ready)&&typeof s=="boolean";return d.jsx(oe,{direction:"column",ref:c,sizing:"border",children:f&&d.jsxs(oe,{align:"stretch",gap:1,justify:"space-between",paddingY:2,paddingLeft:4,paddingRight:3,children:[d.jsxs(oe,{align:"center",flex:1,gap:s?2:3,wrap:"wrap",paddingRight:3,children:[d.jsxs(oe,{align:"center",children:[d.jsx(Uhr,{singleLine:!s}),d.jsx(gZ,{size:"large"})]}),d.jsx(phr,{})]}),d.jsxs(oe,{align:"flex-start",justify:"flex-end",ref:e,style:{flexShrink:0,marginLeft:"auto"},children:[d.jsx(gZ,{size:"large"}),o?d.jsx(Chr,{}):d.jsx(Ehr,{})]})]})})}function Whr(n){const{actionsBoxElement:e,activeIndex:r,as:i="div",children:o,id:s,onActionStart:a,onKeyDown:l,rootRef:c,states:u,...f}=n,h=u[r],m=p.useCallback(g=>{const v=u.filter(b=>b.shortcut&&Fl(b.shortcut,g)),y=v[0];if(v.length>1&&console.warn('Keyboard shortcut conflict: More than one document action matches the shortcut "'.concat(y.shortcut,'"')),y&&!y.disabled&&y.onHandle){g.preventDefault(),y.onHandle(),a(u.indexOf(y));return}l&&l(g)},[a,l,u]);return p.createElement(i,{id:s,onKeyDown:m,tabIndex:-1,...f,ref:c},[o,h&&h.dialog&&d.jsx(Vg,{zOffset:"paneFooter",children:d.jsx(fse,{dialog:h.dialog,referenceElement:e})})])}const Qit=p.memo(n=>{const{actionsBoxElement:e,as:r="div",children:i,...o}=n,{actions:s,editState:a}=go(),[l,c]=p.useState(-1),u=p.useCallback(h=>{c(h)},[]),f=p.useMemo(()=>a&&{...a,onComplete:()=>{},revision:void 0},[a]);return!f||!s?null:d.jsx(IB,{actionProps:f,actions:s,children:h=>{let{states:m}=h;return d.jsx(Whr,{...o,activeIndex:l,actionsBoxElement:e,as:r,onActionStart:u,states:m,children:i})}})});Qit.displayName="DocumentActionShortcuts";function Ghr(n){let{currentInspector:e,hasValue:r,inspectors:i,inspectorMenuItems:o}=n;return i.map((s,a)=>{var l;const c=o[a];return!c||c.hidden?null:{action:"".concat(cZ).concat(s.name),group:c.showAsAction?void 0:"inspectors",icon:c.icon,isDisabled:!r,selected:(e==null?void 0:e.name)===s.name,shortcut:(l=c.hotkeys)==null?void 0:l.join("+"),showAsAction:c.showAsAction,title:c.title,tone:c.tone}}).filter(Boolean)}function qhr(n){let{hasValue:e,t:r}=n;return{action:"inspect",group:"inspectors",title:r("document-inspector.menu-item.title"),icon:oBe,isDisabled:!e,shortcut:"Ctrl+Alt+I"}}function Khr(n){let{previewUrl:e,t:r}=n;return e?{action:"production-preview",group:"links",title:r("production-preview.menu-item.title"),icon:XNe,shortcut:"Ctrl+Alt+O"}:null}function Yhr(n){const e=Ghr(n),r=[Khr(n)].filter(Boolean);return[...e,qhr(n),...r]}const Zhr=n=>$n(n)&&typeof n._id=="string"&&typeof n._type=="string";function Jit(n){const[e,r]=p.useState(void 0),[i,o]=p.useState(null),{resolveProductionUrl:s}=xi().document,a=i1t(n);if(i)throw i;return p.useEffect(()=>{a.pipe(PQ(500),gn(l=>Zhr(l)?Gi(s({document:l})):Ke(void 0)),vi(l=>{const c=$n(l)&&typeof l.message=="string"?l.message:"Unknown error";throw new Error("An error was thrown while trying to get your preview url: ".concat(c))})).subscribe({next:r,error:o})},[s,a]),e}function Xhr(n){const{documentType:e,value:r,currentMinWidth:i,paneKey:o,minWidth:s}=n,{t:a}=me();return d.jsx(Pit,{currentMinWidth:i,flex:2.5,minWidth:s,paneKey:o,title:d.jsx(bn,{t:a,i18nKey:"panes.document-pane.document-unknown-type.title",values:{documentType:e}}),tone:"caution",children:d.jsxs(Se,{space:4,children:[e&&d.jsx(J,{as:"p",children:d.jsx(bn,{t:a,i18nKey:"panes.document-pane.document-unknown-type.text",values:{documentType:e}})}),!e&&d.jsx(J,{as:"p",children:a("panes.document-pane.document-unknown-type.without-schema.text")}),im]})})}var fPe=Object.freeze,Qhr=Object.defineProperty,Jhr=(n,e)=>fPe(Qhr(n,"raw",{value:fPe(e||n.slice())})),hPe;const pPe=[],mPe=["fixed","fixed","absolute"],epr=F(vnr)(hPe||(hPe=Jhr([`
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 0;
  min-width: 0;
`])));function tpr(){const{changesOpen:n,documentId:e,documentType:r,fieldActions:i,inspectOpen:o,inspector:s,inspectors:a,onFocus:l,onHistoryOpen:c,onMenuAction:u,onPathOpen:f,paneKey:h,schemaType:m,value:g}=go(),{features:v}=Cw(),{t:y}=Sh(er),{collapsed:b}=d2(),x=art(),_=Jit(g),[w,C]=p.useState(null),[S,T]=p.useState(null),[A,I]=p.useState(null),[D,R]=p.useState(null),[P,O]=p.useState(null),[$,L]=p.useState([]),[M,N]=p.useState([]),z=Ex(S),B=Ex(A),H=z==null?void 0:z.height,X=B==null?void 0:B.height,G=asr+(s?lZ:0),ne=ssr+(s?lZ:0),le=p.useMemo(()=>a==null?void 0:a.find(de=>de.name===(s==null?void 0:s.name)),[a,s==null?void 0:s.name]),K=!!g,Q=p.useMemo(()=>Yhr({currentInspector:le,features:v,hasValue:K,inspectorMenuItems:$,inspectors:a,previewUrl:_,t:y}),[le,v,K,$,a,_,y]),re=p.useCallback(de=>{for(const fe of Q)if(fe.shortcut&&Fl(fe.shortcut,de)){de.preventDefault(),de.stopPropagation(),u(fe);return}},[u,Q]),se=p.useCallback(de=>{f(de),l(de)},[f,l]);return m?d.jsxs(d.Fragment,{children:[a.length>0&&d.jsx(Qdr,{documentId:e,documentType:r,inspectors:a,onMenuItems:L}),i.length>0&&m&&d.jsx(VD,{actions:i,documentId:e,documentType:r,onActions:N,path:pPe,schemaType:m}),d.jsx(zD,{actions:M,path:pPe,children:d.jsxs(Qit,{actionsBoxElement:D,as:TB,currentMinWidth:G,"data-testid":"document-pane",flex:2.5,id:h,minWidth:ne,onKeyUp:re,rootRef:C,children:[d.jsx(dhr,{ref:I,menuItems:Q}),d.jsx(Rq,{position:mPe,zOffset:x.paneDialog,children:d.jsx(oe,{direction:"column",flex:1,height:b?void 0:"fill",children:d.jsx(epr,{"data-testid":"change-connector-root",isReviewChangesOpen:n,onOpenReviewChanges:c,onSetFocus:se,children:d.jsx(Ffr,{footerHeight:H||null,headerHeight:X||null,isInspectOpen:o,rootElement:w,setDocumentPanelPortalElement:O})})})}),d.jsx(fD,{__unstable_elements:{[Dit]:P},children:d.jsx(Rq,{position:mPe,zOffset:x.portal,children:d.jsx($ar,{ref:T,children:d.jsx(xu,{children:d.jsx(Hhr,{actionsBoxRef:R})})})})}),d.jsx(efr,{})]})})]}):d.jsx(Xhr,{currentMinWidth:G,documentType:r,minWidth:ne,paneKey:h,value:g})}function npr(n){var e,r;return(r=(e=n.document)==null?void 0:e.components)==null?void 0:r.unstable_layout}function rpr(){return Tf({pick:npr,defaultComponent:tpr})}function ipr(n,e){const r=e.panePayload||{},i=e.templateName;e.urlTemplate&&i&&i!==e.urlTemplate&&console.warn('Conflicting templates: URL says "'.concat(e.urlTemplate,'", structure node says "').concat(i,'". Using "').concat(i,'".'));const o=i||e.urlTemplate,s=n.filter(c=>c.schemaType===e.documentType),a={...e.templateParams,...typeof r=="object"?r||{}:{}};let l=o;return!o&&s.length===1&&(l=s[0].id),{templateName:l,templateParams:a}}const eot=p.memo(n=>{const{children:e,index:r,pane:i,paneKey:o,onFocusPath:s}=n,a=Ar(),l=l2(),{__internal_tasks:c,document:{actions:u,badges:f,unstable_fieldActions:h,unstable_languageFilter:m,inspectors:g}}=xi(),v=Toe(),y=Ah(),b=y.setParams,{features:x}=Cw(),{push:_}=da(),{options:w,menuItemGroups:C=usr,title:S=null,views:T=[]}=i,A=Ga(w),I=A.id,D=di(I),R=w.type,P=Ga(y.params)||csr,O=Ga(y.payload),{templateName:$,templateParams:L}=p.useMemo(()=>ipr(l,{documentType:R,templateName:A.template,templateParams:A.templateParameters,panePayload:O,urlTemplate:P.template}),[R,A,P,O,l]),M=BHn({documentId:D,documentType:R,templateName:$,templateParams:L}),N=Ga(M),{patch:z}=If(D,R),B=wB(D,R),{validation:H}=_B(D,R),X=hrt(D,R),G=a.get(R),ne=(B==null?void 0:B.draft)||(B==null?void 0:B.published)||N.value,[le,K]=p.useState(!1),Q=p.useMemo(()=>u({schemaType:R,documentId:D}),[u,D,R]),re=p.useMemo(()=>f({schemaType:R,documentId:D}),[f,D,R]),se=p.useMemo(()=>m({schemaType:R,documentId:D}),[D,R,m]),de=Ga(H),fe=Ga(T),[we,ye]=p.useState(()=>P.path?hh(P.path):ri),ve=p.useRef(we),_e=P.view||fe[0]&&fe[0].id||null,[ge,pe]=p.useState("closed"),[Pe,Re]=p.useState(null),Fe=Snr({documentId:D,documentType:R,onError:Re,rev:P.rev,since:P.since}),Ye=wa(Fe,tn=>tn.onOlderRevision),He=wa(Fe,tn=>tn.revTime),lt=wa(Fe,tn=>tn.sinceAttributes),Xe=wa(Fe,tn=>tn.timelineDisplayed),st=wa(Fe,tn=>tn.timelineReady),kt=wa(Fe,tn=>tn.isPristine),Ge=p.useMemo(()=>st?!(B!=null&&B.draft)&&!(B!=null&&B.published)&&!kt:!1,[B==null?void 0:B.draft,B==null?void 0:B.published,kt,st]),gt=Jit(ne),[At,Dt]=p.useState([]);p.useEffect(()=>{const tn=v.documentPresence(D).subscribe(yo=>{Dt(yo)});return()=>{tn.unsubscribe()}},[D,v]);const at=p.useMemo(()=>g({documentId:D,documentType:R}),[D,R,g]),[tt,it]=p.useState(()=>P.inspect||null),jt=p.useRef(P.inspect);p.useEffect(()=>{jt.current!==P.inspect&&(jt.current=P.inspect,it(P.inspect||null))},[P.inspect]);const $t=at==null?void 0:at.find(tn=>tn.name===tt),yt=at.find(tn=>tn.name===uZ),Gt=($t==null?void 0:$t.name)===uZ,{t:Lt}=me(er),Vn=P.inspect==="on",Oo=Gt?lt:(B==null?void 0:B.published)||null,Po=p.useMemo(()=>G?h({documentId:D,documentType:R,schemaType:G}):[],[D,R,h,G]),wi=X==="connected"&&B.ready&&(st||!!Pe),pr=p.useMemo(()=>Ye?Xe||{_id:ne._id,_type:ne._type}:ne,[Ye,Xe,ne]),fn=p.useCallback((tn,yo)=>{b({...P,since:tn,rev:yo||void 0})},[P,b]),Ct=p.useCallback(tn=>{ye(tn),ve.current!==tn&&(ve.current=tn,s==null||s(tn)),v.setLocation([{type:"document",documentId:D,path:tn,lastActiveAt:new Date().toISOString()}])},[D,s,v,ye]),ht=p.useCallback(tn=>{t1.current||(ye(ri),ve.current!==ri&&(ve.current=ri,s==null||s(ri)))},[s,ye]),en=p.useRef(()=>{throw new Error("Nope")});en.current=tn=>{z.execute(Srt(tn.patches),N.value)};const Hn=p.useCallback(tn=>en.current(tn),[]),rr=p.useCallback(tn=>{var yo,ei,lo,Uc;const ic=tn&&at.find(Os=>Os.name===tn);if(tn&&!ic){console.warn('No inspector named "'.concat(tn,'"'));return}if($t){if(ic){const Os=(ei=(yo=ic.onClose)==null?void 0:yo.call(ic,{params:P}))!=null?ei:{params:P};it(null),jt.current=void 0,b({...Os.params,inspect:void 0});return}if($t){const Os=(Uc=(lo=$t.onClose)==null?void 0:lo.call($t,{params:P}))!=null?Uc:{params:P};it(null),jt.current=void 0,b({...Os.params,inspect:void 0})}}},[$t,at,P,b]),_i=p.useCallback((tn,yo)=>{var ei,lo,Uc,ic;const Os=at.find(mm=>mm.name===tn);if(!Os){console.warn('No inspector named "'.concat(tn,'"'));return}if(($t==null?void 0:$t.name)===Os.name){b({...P,...yo,inspect:Os.name});return}let Ph=P;$t&&(Ph=((lo=(ei=Os.onClose)==null?void 0:ei.call(Os,{params:Ph}))!=null?lo:{params:Ph}).params);const pv=(ic=(Uc=Os.onOpen)==null?void 0:Uc.call(Os,{params:Ph}))!=null?ic:{params:Ph};it(Os.name),jt.current=Os.name,b({...pv.params,...yo,inspect:Os.name})},[$t,at,P,b]),Li=p.useCallback(()=>{yt&&rr(yt.name)},[rr,yt]),vo=p.useCallback(()=>{x.reviewChanges&&yt&&_i(yt.name)},[x.reviewChanges,_i,yt]),jo=p.useCallback(()=>y.closeCurrent(),[y]),Cl=p.useCallback(()=>y.duplicateCurrent(),[y]),Sl=p.useCallback(function(){let tn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!Vn;b(tn?{...P,inspect:"on"}:Cc(P,"inspect"))},[Vn,P,b]),um=p.useCallback(tn=>{if(tn.action==="production-preview"&&gt)return window.open(gt),!0;if(tn.action==="inspect")return Sl(!0),!0;if(tn.action==="reviewChanges")return vo(),!0;if(typeof tn.action=="string"&&tn.action.startsWith(cZ)){const yo=tn.action.slice(cZ.length),ei=at.find(lo=>lo.name===yo);if(ei)return ei.name===tt?rr(ei.name):_i(ei.name),!0}return!1},[rr,vo,tt,at,_i,gt,Sl]),gd=p.useCallback(()=>Sl(!1),[Sl]),[vd,Dh]=p.useState([]),[_2,Tw]=p.useState(),[hv,Jy]=p.useState(),[Rh,Aw]=p.useState(),Iw=p.useCallback((tn,yo)=>{Jy(ei=>mp(ei,tn,yo))},[]),Dw=p.useCallback((tn,yo)=>{Aw(ei=>mp(ei,tn,yo))},[]),Nc=p.useCallback((tn,yo)=>Tw(ei=>mp(ei,tn,yo)),[]),E2=ne._createdAt?"update":"create",e1=!!(G!=null&&G.liveEdit),Oh=ne._id?ne._id:"dummy-id",C2=p.useMemo(()=>({...ne,_id:e1?di(Oh):wl(Oh)}),[e1,ne,Oh]),[Bc,dm]=GHn({document:C2,permission:E2}),Df=!(ne!=null&&ne._id),fm=p.useMemo(()=>{var tn;const yo=!dm&&!(Bc!=null&&Bc.granted),ei=!pge(G,"update"),lo=Df&&!pge(G,"create"),Uc=X==="reconnecting",ic=(tn=B.transactionSyncLock)==null?void 0:tn.enabled;return!wi||He!==null||yo||ei||lo||Uc||ic||le||Ge},[X,B.transactionSyncLock,Df,Ge,le,dm,Bc==null?void 0:Bc.granted,wi,He,G]),hm=xrt(G,{value:pr,readOnly:fm,comparisonValue:Oo,focusPath:we,openPath:vd,collapsedPaths:hv,presence:At,validation:de,collapsedFieldSets:Rh,fieldGroupState:_2,changesOpen:Gt}),pm=p.useRef(hm);pm.current=hm;const yd=p.useCallback(tn=>{trr(pm.current,tn).forEach(ei=>{ei.type==="expandPath"&&Jy(lo=>mp(lo,ei.path,!1)),ei.type==="expandFieldSet"&&Aw(lo=>mp(lo,ei.path,!1)),ei.type==="setSelectedGroup"&&Tw(lo=>mp(lo,ei.path,ei.groupName))}),Dh(tn)},[pm]),S2=p.useMemo(()=>({actions:Q,activeViewId:_e,badges:re,changesOpen:Gt,closeInspector:rr,collapsedFieldSets:Rh,collapsedPaths:hv,compareValue:Oo,connectionState:X,displayed:pr,documentId:D,documentIdRaw:I,documentType:R,editState:B,fieldActions:Po,focusPath:we,inspector:$t||null,inspectors:at,__internal_tasks:c,onBlur:ht,onChange:Hn,onFocus:Ct,onPathOpen:yd,onHistoryClose:Li,onHistoryOpen:vo,onInspectClose:gd,onMenuAction:um,onPaneClose:jo,onPaneSplit:Cl,onSetActiveFieldGroup:Nc,onSetCollapsedPath:Iw,onSetCollapsedFieldSet:Dw,openInspector:_i,index:r,inspectOpen:Vn,validation:de,menuItemGroups:C||[],paneKey:o,previewUrl:gt,ready:wi,schemaType:G,isPermissionsLoading:dm,permissions:Bc,setTimelineMode:pe,setTimelineRange:fn,setIsDeleting:K,isDeleting:le,isDeleted:Ge,timelineError:Pe,timelineMode:ge,timelineStore:Fe,title:S,value:ne,views:fe,formState:hm,unstable_languageFilter:se}),[c,Q,_e,re,Gt,rr,Rh,hv,Oo,X,$t,pr,D,I,R,B,Po,we,hm,ht,Hn,Ct,Li,vo,gd,um,Dw,Iw,jo,Cl,Nc,r,Vn,at,Ge,le,dm,se,C,_i,o,Bc,gt,wi,G,yd,fn,Pe,ge,Fe,S,de,ne,fe]);p.useEffect(()=>{X==="reconnecting"&&_({id:"sanity/structure/reconnecting",status:"warning",title:Lt("panes.document-pane-provider.reconnecting.title")})},[X,_,Lt]);const t1=p.useRef(!1);return p.useEffect(()=>{var tn;if(wi&&P.path){const{path:yo,...ei}=P,lo=Uvt((tn=pm.current)==null?void 0:tn.value,hh(yo));t1.current=!0,ye(lo),yd(lo),ve.current!==lo&&(ve.current=lo,s==null||s(lo));const Uc=setTimeout(()=>{t1.current=!1},0);return y.setParams(ei),()=>clearTimeout(Uc)}},[P,D,s,yd,wi,y]),d.jsx(Rit.Provider,{value:S2,children:e})});eot.displayName="DocumentPaneProvider";const bLr=p.memo(function(e){const{name:r}=xi();return d.jsx(lB,{name:e.pane.source||r,children:d.jsx(opr,{...e})})});function opr(n){var e;const{pane:r,paneKey:i}=n,{resolveNewDocumentOptions:o}=xi().document,s=Ah(),a=spr(r.options,s.params),{documentType:l,isLoaded:c}=Cnr(a.id,a.type),u=rpr(),f=p.useMemo(()=>o({type:"document",documentId:a.id,schemaType:a.type}),[a.id,a.type,o]),[h,m]=Coe({templateItems:f}),g=c&&!m,v=p.useMemo(()=>g&&l&&a.type!==l?apr(n,a,l):n,[n,l,g,a]),{ReferenceChildLink:y,handleEditReference:b,groupIndex:x,routerPanesState:_}=s,w=((e=_[x+1])==null?void 0:e[0].params)||{},C=_.length,{parentRefPath:S}=w,T=p.useMemo(()=>S?{path:hh(S),state:x>=C-1?"none":x>=C-2?"selected":"pressed"}:{path:[],state:"none"},[S,x,C]),{t:A}=me(er);return a.type==="*"&&!g?d.jsx(jit,{flex:2.5,minWidth:320,paneKey:i,title:A("panes.document-pane.document-not-found.loading")}):l?d.jsx(eot,{...v,children:d.jsx(f3n,{EditReferenceLinkComponent:y,onEditReference:b,initialValueTemplateItems:h,activePath:T,children:d.jsx(u,{documentId:a.id,documentType:a.type})})},"".concat(l,"-").concat(a.id)):d.jsx(Pit,{flex:2.5,minWidth:320,paneKey:i,title:A("panes.document-pane.document-not-found.title"),children:d.jsx(Se,{space:4,children:d.jsx(J,{as:"p",children:d.jsx(bn,{t:A,i18nKey:"panes.document-pane.document-not-found.text",values:{id:a.id}})})})})}function spr(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=l2();return p.useMemo(()=>{if(n.type&&n.type!=="*")return n;const i=n.template||e.template,o=i?r.find(a=>a.id===i):void 0,s=o==null?void 0:o.schemaType;return s?{...n,type:s}:n},[n,e.template,r])}function apr(n,e,r){return{...n,pane:{...n.pane,options:{...e,type:r}}}}const gPe=100,yZ=2e3,tot={by:[{field:"_updatedAt",direction:"desc"}]},lpr={};var vPe=Object.freeze,cpr=Object.defineProperty,not=(n,e)=>vPe(cpr(n,"raw",{value:vPe(e||n.slice())})),yPe,bPe;const upr=F(te)(yPe||(yPe=not([`
  position: relative;
`]))),dpr=F(te)(bPe||(bPe=not([`
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
`]))),fpr=[...Array(30).keys()];function hpr(n){const{layout:e}=n;return d.jsx(Se,{paddingX:3,paddingY:2,paddingTop:0,space:1,children:fpr.map(r=>d.jsx(am,{isPlaceholder:!0,layout:e},r))})}function ppr(n){const{childItemId:e,error:r,filterIsSimpleTypeConstraint:i,hasMaxItems:o,hasSearchQuery:s,isActive:a,isLazyLoading:l,isLoading:c,items:u,layout:f,loadingVariant:h,onListChange:m,onRetry:g,paneTitle:v,searchInputElement:y,showIcons:b}=n,x=Ar(),{collapsed:_}=d2(),{collapsed:w,index:C}=cv(),[S,T]=p.useState(!1),{t:A}=me(er),I=p.useCallback(()=>{c||l||!S||m()},[l,c,m,S]);p.useEffect(()=>{if(w)return;const O=setTimeout(()=>{T(!0)},0);return()=>{clearTimeout(O)}},[w,u]);const D=p.useCallback((O,$)=>{let{activeIndex:L}=$;const M=di(O._id),N=e===M,z=!a&&N,B=a&&N,H=L===u.length-1,X=H&&l,G=H&&o;return d.jsxs(d.Fragment,{children:[d.jsx(alr,{icon:b===!1?!1:void 0,id:M,layout:f,marginBottom:1,pressed:z,schemaType:x.get(O._type),selected:B,value:O}),X&&d.jsx(Zr,{}),G&&d.jsx(te,{marginY:1,paddingX:3,paddingY:4,children:d.jsx(J,{align:"center",muted:!0,size:1,children:A("panes.document-list-pane.max-items.text",{limit:yZ})})})]})},[e,a,u.length,f,x,b,o,l,A]),R=p.useMemo(()=>s?d.jsx(oe,{align:"center",direction:"column",height:"fill",justify:"center",children:d.jsx(Ya,{width:1,children:d.jsx(te,{paddingX:4,paddingY:5,children:d.jsx(J,{align:"center",muted:!0,children:A("panes.document-list-pane.no-documents.text")})})})}):d.jsx(oe,{align:"center",direction:"column",height:"fill",justify:"center",children:d.jsx(Ya,{width:1,children:d.jsx(te,{paddingX:4,paddingY:5,children:d.jsx(J,{align:"center",muted:!0,children:A(i?"panes.document-list-pane.no-documents-of-type.text":"panes.document-list-pane.no-matching-documents.text")})})})}),[i,s,A]),P=p.useMemo(()=>{if(!S)return null;if(r)return d.jsx(oe,{align:"center",direction:"column",height:"fill",justify:"center",children:d.jsx(Ya,{width:1,children:d.jsxs(Se,{paddingX:4,paddingY:5,space:4,children:[d.jsx(Pa,{as:"h3",children:A("panes.document-list-pane.error.title")}),d.jsx(J,{as:"p",children:d.jsx(bn,{t:A,i18nKey:"panes.document-list-pane.error.text",values:{error:r.message},components:{Code:$=>{let{children:L}=$;return d.jsx("code",{children:L})}}})}),g&&d.jsx(te,{children:d.jsx(ze,{icon:ES,onClick:g,text:A("panes.document-list-pane.error.retry-button.text"),tone:"primary"})})]})})});if(!c&&u.length===0)return R;if(h==="initial"&&c)return d.jsx(sit,{ms:300,children:d.jsx(hpr,{layout:f})});if(h==="spinner"&&c)return null;const O="".concat(C,"-").concat(w);return d.jsx(upr,{overflow:"hidden",height:"fill",children:d.jsx(dpr,{children:d.jsx(Wy,{activeItemDataAttr:"data-hovered",ariaLabel:v,canReceiveFocus:!0,inputElement:y,itemHeight:51,items:u,onEndReached:I,onlyShowSelectionWhenActive:!0,overscan:10,paddingBottom:1,paddingX:3,renderItem:D,wrapAround:!1},O)})})},[w,r,I,C,c,u,f,h,g,D,y,S]);return d.jsx(AB,{overflow:_||h==="initial"?"hidden":"auto",children:P})}const rot=p.memo(n=>{let{contentAfter:e,index:r,initialValueTemplates:i=[],menuItemGroups:o=[],menuItems:s=[],setLayout:a,setSortOrder:l,title:c}=n;const{features:u}=Cw(),{collapsed:f,isLast:h}=cv(),m=h&&!f?-1:0,g=p.useMemo(()=>({setLayout:v=>{let{layout:y}=v;a(y)},setSortOrder:v=>{l(v)}}),[a,l]);return d.jsx(xu,{children:d.jsx(ise,{actions:d.jsx(olr,{initialValueTemplateItems:i,actionHandlers:g,menuItemGroups:o,menuItems:s}),backButton:u.backButton&&r>0&&d.jsx(ze,{as:nar,"data-as":"a",icon:UI,mode:"bleed",tooltipProps:{content:"Back"}}),contentAfter:e,tabIndex:m,title:c})})});rot.displayName="DocumentListPaneHeader";function mpr(n){return qS(n).map(e=>({...e.draft||e.published,hasPublished:!!e.published,hasDraft:!!e.draft}))}const gpr=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type\b/;function iot(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=n.match(gpr);if(!r)return null;const i=(r[1]||r[2]).trim().replace(/^["']|["']$/g,"");if(i[0]==="$"){const o=i.slice(1),s=e[o];return typeof s=="string"?s:null}return i}function vpr(n){return/^_type\s*==\s*['"$]\w+['"]?\s*$/.test(n.trim())}function ypr(n,e){const r=n.by.map(i=>{if(i.mapWith)return i;const o=bpr(e,i.field);return o?wpr(o,"datetime")?{...i,mapWith:"dateTime"}:o.jsonType==="string"?{...i,mapWith:"lower"}:i:i});return r.every((i,o)=>i===n.by[o])?n:{...n,by:r}}function bpr(n,e){const r=hh(e);let i=n;for(const o of r){if(!i)return;if(typeof o=="string"){i=xpr(i,o);continue}if(!(ji(o)||Qu(o))||i.jsonType!=="array")return;const[a,l]=i.of||[];if(l||!a)return;if(!Eg(a)){i=a;continue}const[c,u]=a.to||[];if(u||!c)return;i=c}return i}function xpr(n,e){if(!("fields"in n))return;const r=n.fields.find(i=>i.name===e);return r?r.type:void 0}function wpr(n,e){let r=n.type;for(;r;){if(r.name===e||!r.type&&r.jsonType===e)return!0;r=r.type}return!1}const _pr=["_id","_type","_createdAt","_updatedAt","_rev"];function bZ(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const[i,...o]=e;if(!("fields"in n))return"";const s=n.fields.find(c=>c.name===i);if(!s){if(!_pr.includes(i)){const c='The current ordering config targeted the nonexistent field "'.concat(i,'" on schema type "').concat(n.name,'". It should be one of ').concat(n.fields.map(u=>u.name).join(", "));if(r)throw new Error(c);console.warn(c)}return""}if("to"in s.type&&s.type.name==="reference"){const c=s.type.to;return"".concat(i,"->{").concat(c.map(u=>bZ(u,o)).join(","),"}")}const a=o.length>0&&bZ(s.type,o),l=a?"{".concat(a,"}"):"";return o.length>0?"".concat(i).concat(l):i}function oot(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e.map(i=>bZ(n,i.field.split("."),r)).join(", ")}function Epr(n){const{client:e,schema:r,sort:i,limit:o,params:s,filter:a,searchQuery:l,staticTypeNames:c,maxFieldDepth:u,unstable_enableNewSearch:f}=n,h=i.by,m=i==null?void 0:i.extendedProjection,g=ms(()=>e.listen("*[".concat(a,"]"),s,{events:["welcome","mutation","reconnect"],includeResult:!1,visibility:"query"})).pipe(On((b,x)=>x===0&&b.type!=="welcome"?Zl(()=>new Error(b.type==="reconnect"?"Could not establish EventSource connection":'Received unexpected type of first event "'.concat(b.type,'"'))):Ke(b)),id()),[v,y]=RQ(g,b=>b.type==="welcome");return ai(v.pipe(ul(1)),y.pipe(QA(1e3,ph,{leading:!0,trailing:!0}))).pipe(Ere(b=>(c?Ke(c):e.observable.fetch("array::unique(*[".concat(a,"][]._type)"),s)).pipe(On(_=>{const w=uJe(r).filter(T=>_.includes(T.name)?(oot(T,i.by,!0),!0):!1),C=HN(w,e,{filter:a,params:s,unstable_enableNewSearch:f,maxDepth:u}),S=()=>{const T={filter:a,query:l||"",types:w},A={__unstable_extendedProjection:m,comments:["findability-source: ".concat(l?"list-query":"list")],limit:o,skipSortByScore:!0,sort:h};return C(T,A).pipe(Me(I=>I.hits.map(D=>{let{hit:R}=D;return R})))};return b.type==="mutation"&&b.visibility!=="query"?Za(1200).pipe(On(S)):S()}))))}const Cpr=[],xPe={error:null,onRetry:void 0,result:null},Spr={result:null,error:null};function kpr(n){const{filter:e,params:r,sortOrder:i,searchQuery:o,apiVersion:s}=n,a=Jr({...Dr,apiVersion:s||Dr.apiVersion}),{unstable_enableNewSearch:l=!1}=pa().search,c=Ar(),u=WN(),[f,h]=p.useState(xPe),{onRetry:m,error:g,result:v}=f,y=v==null?void 0:v.documents,b=p.useMemo(()=>y?mpr(y):Cpr,[y]),[x,_]=p.useState(!1),[w,C]=p.useState(!1),[S,T]=p.useState(!1),A=p.useMemo(()=>iot(e,r),[e,r]),I=v===null&&!g,D=(y==null?void 0:y.length)===yZ,R=p.useCallback(()=>{I||w||S||T(!0)},[I,w,S]),P=p.useCallback(L=>{var M,N;if(L.error){h(L);return}const z=((N=(M=L.result)==null?void 0:M.documents)==null?void 0:N.length)||0;if(!L.error&&(L==null?void 0:L.result)===null&&S){_(!0);return}if(z<gPe&&z!==0&&!S&&C(!0),(L==null?void 0:L.result)===null){h(H=>({...H.error?L:H}));return}_(!1),h(L)},[S]),O=p.useMemo(()=>{const L=new ho,M=()=>L.next();return Epr({client:a,filter:e,limit:S?yZ:gPe,params:r,schema:c,searchQuery:o||"",sort:i||tot,staticTypeNames:A?[A]:void 0,maxFieldDepth:u,unstable_enableNewSearch:l}).pipe(Me(B=>({result:{documents:B},error:null})),ca(Spr),vi(B=>B instanceof ProgressEvent?Zl(()=>new Error("Request error")):Zl(()=>B)),vi((B,H)=>Go(Ke({result:null,error:B}),ai(Jl(window,"online"),L).pipe(ul(1),On(()=>H)))),rd((B,H)=>({...B,...H,onRetry:M})))},[S,i,a,e,r,c,o,A,u,l]);p.useEffect(()=>{const L=O.subscribe(P);return()=>{L.unsubscribe()}},[P,O]);const $=p.useCallback(()=>{C(!1),_(!1),h(xPe),T(!1)},[]);return p.useEffect(()=>{$()},[$,e,r,i,o]),{error:g,hasMaxItems:D,isLazyLoading:x,isLoading:I,isSearchReady:!g,items:b,onListChange:R,onRetry:m}}var wPe=Object.freeze,Tpr=Object.defineProperty,sot=(n,e)=>wPe(Tpr(n,"raw",{value:wPe(e||n.slice())})),_Pe,EPe;const xZ=[],Apr=Kp(_Pe||(_Pe=sot([`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`]))),Ipr=F(Gx)(EPe||(EPe=sot([`
  animation: `,` 500ms linear infinite;
`])),Apr);function Dpr(n){const e=p.useRef(n);return Lg(e.current,n)||(e.current=n),e.current}const Rpr=n=>{const{menuItems:e,sortOrderRaw:r,layout:i}=n;return e==null?void 0:e.map(o=>{var s,a,l,c;return(s=o.params)!=null&&s.layout?{...o,selected:i===((a=o.params)==null?void 0:a.layout)}:(l=o==null?void 0:o.params)!=null&&l.by?{...o,selected:Br(r==null?void 0:r.by,((c=o==null?void 0:o.params)==null?void 0:c.by)||xZ)}:{...o,selected:!1}})},xLr=p.memo(function(e){const{childItemId:r,index:i,isActive:o,isSelected:s,pane:a,paneKey:l}=e,c=Ar(),{name:u}=xi(),{defaultLayout:f="default",displayOptions:h,initialValueTemplates:m=xZ,menuItemGroups:g,menuItems:v,options:y}=a,{apiVersion:b,defaultOrdering:x=xZ,filter:_}=y,w=Dpr(y.params||lpr),C=a.source,S=p.useMemo(()=>iot(_,w),[_,w]),T=(h==null?void 0:h.showIcons)!==!1,[A,I]=mZ("layout",S,f),{t:D}=me(er),{title:R}=sv(a),[P,O]=p.useState(""),[$,L]=p.useState(""),[M,N]=p.useState(null),z=p.useRef(!1),B=p.useMemo(()=>(x==null?void 0:x.length)>0?{by:x}:tot,[x]),[H,X]=mZ("sort-order",S,B),G=S&&H?ypr(H,c.get(S)):H,ne=Ga(G),le=vpr(_),{error:K,hasMaxItems:Q,isLazyLoading:re,isLoading:se,isSearchReady:de,items:fe,onListChange:we,onRetry:ye}=kpr({apiVersion:b,filter:_,params:w,searchQuery:P==null?void 0:P.trim(),sortOrder:ne}),ve=p.useMemo(()=>Rpr({menuItems:v,sortOrderRaw:H,layout:A}),[A,v,H]),_e=K4(Fe=>Fe.pipe(Me(Ye=>Ye.target.value),Si(L),OQ(Ye=>Ye===""?Ke(""):Za(300)),Si(O)),[]),ge=p.useCallback(()=>{O(""),L("")},[]),pe=p.useCallback(Fe=>{Fe.key==="Escape"&&ge()},[ge]);p.useEffect(()=>(z.current===!1&&!se&&(z.current=!0),()=>{z.current=!1}),[se]),p.useEffect(()=>{ge(),z.current=!1},[l,ge]);const Pe=p.useMemo(()=>se&&fe.length===0&&z.current?"spinner":"initial",[se,fe.length]),Re=d.jsx(te,{paddingX:3,paddingBottom:3,children:d.jsx(ua,{"aria-label":D("panes.document-list-pane.search-input.aria-label"),autoComplete:"off",border:!1,clearButton:!!P,disabled:!de,fontSize:[2,2,1],icon:Pe==="spinner"?Ipr:Aa,onChange:_e,onClear:ge,onKeyDown:pe,padding:2,placeholder:D("panes.document-list-pane.search-input.placeholder"),radius:2,ref:N,spellCheck:!1,value:$})});return d.jsx(lB,{name:C||u,children:d.jsxs(TB,{currentMaxWidth:350,"data-ui":"DocumentListPane",id:l,maxWidth:640,minWidth:320,selected:s,children:[Adr,d.jsx(rot,{contentAfter:Re,index:i,initialValueTemplates:m,menuItemGroups:g,menuItems:ve,setLayout:I,setSortOrder:X,title:R}),d.jsx(ppr,{childItemId:r,error:K,filterIsSimpleTypeConstraint:le,hasMaxItems:Q,hasSearchQuery:!!P,isActive:o,isLazyLoading:re,isLoading:se,items:fe,layout:A,loadingVariant:Pe,onListChange:we,onRetry:ye,paneTitle:R,searchInputElement:M,showIcons:T},l)]})})});class ci extends Error{constructor(e,r,i,o){super(e);const s=typeof i>"u"?"<unknown>":"".concat(i);this.path=(r||[]).concat(o?"".concat(s," (").concat(o,")"):s)}withHelpUrl(e){return this.helpId=e,this}}var no=(n=>(n.ID_REQUIRED="structure-node-id-required",n.TITLE_REQUIRED="structure-title-required",n.FILTER_REQUIRED="structure-filter-required",n.INVALID_LIST_ITEM="structure-invalid-list-item",n.COMPONENT_REQUIRED="structure-view-component-required",n.DOCUMENT_ID_REQUIRED="structure-document-id-required",n.DOCUMENT_TYPE_REQUIRED="structure-document-type-required",n.SCHEMA_TYPE_REQUIRED="structure-schema-type-required",n.SCHEMA_TYPE_NOT_FOUND="structure-schema-type-not-found",n.LIST_ITEMS_MUST_BE_ARRAY="structure-list-items-must-be-array",n.QUERY_PROVIDED_FOR_FILTER="structure-query-provided-for-filter",n.ACTION_OR_INTENT_REQUIRED="structure-action-or-intent-required",n.LIST_ITEM_IDS_MUST_BE_UNIQUE="structure-list-item-ids-must-be-unique",n.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE="structure-action-and-intent-mutually-exclusive",n.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER="structure-api-version-required-for-custom-filter",n))(no||{});const aot={title:"Last edited",i18n:{title:{key:"menu-items.sort-by.last-edited",ns:er}},name:"lastEditedDesc",by:[{field:"_updatedAt",direction:"desc"}]},Opr={title:"Created",i18n:{title:{key:"menu-items.sort-by.created",ns:er}},name:"lastCreatedDesc",by:[{field:"_createdAt",direction:"desc"}]},Ppr=aot,CPe=[aot,Opr];function lot(n,e,r){return n instanceof _y?n.serialize({path:r,index:e}):n}class _y{constructor(e,r){this._context=e,this.spec=r||{}}action(e){return this.clone({action:e})}getAction(){return this.spec.action}intent(e){return this.clone({intent:e})}getIntent(){return this.spec.intent}title(e){return this.clone({title:e})}getTitle(){return this.spec.title}i18n(e){return this.clone({i18n:e})}getI18n(){return this.spec.i18n}group(e){return this.clone({group:e})}getGroup(){return this.spec.group}icon(e){return this.clone({icon:e})}getIcon(){return this.spec.icon}params(e){return this.clone({params:e})}getParams(){return this.spec.params}showAsAction(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({showAsAction:!!e})}getShowAsAction(){return this.spec.showAsAction}serialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{title:r,action:i,intent:o}=this.spec;if(!r){const s=typeof i=="string"?'action: "'.concat(i,'"'):void 0;throw new ci("`title` is required for menu item",e.path,e.index,s).withHelpUrl(no.TITLE_REQUIRED)}if(!i&&!o)throw new ci("`action` or `intent` required for menu item with title ".concat(this.spec.title),e.path,e.index,'"'.concat(r,'"')).withHelpUrl(no.ACTION_OR_INTENT_REQUIRED);if(o&&i)throw new ci("cannot set both `action` AND `intent`",e.path,e.index,'"'.concat(r,'"')).withHelpUrl(no.ACTION_AND_INTENT_MUTUALLY_EXCLUSIVE);return{...this.spec,title:r}}clone(e){const r=new _y(this._context);return r.spec={...this.spec,...e||{}},r}}function cot(n,e,r){let{by:i,title:o,i18n:s}=e,a=new _y(n).group("sorting").title(n.i18n.t("default-menu-item.fallback-title",{ns:"studio",replace:{title:o}})).icon(O8).action("setSortOrder").params({by:i,extendedProjection:r});return s&&(a=a.i18n(s)),a}function uot(n,e){const{schema:r}=n,i=typeof e=="string"?r.get(e):e;return!i||!("orderings"in i)?[]:(i.orderings?i.orderings.concat(CPe):CPe).map(o=>cot(n,o,oot(i,o.by)))}function dot(n,e,r){return n instanceof dC?n.serialize({path:r,index:e}):n}class dC{constructor(e,r){this._context=e,this._id=r?r.id:"",this._title=r?r.title:"",this._i18n=r?r.i18n:void 0}id(e){return new dC(this._context,{id:e,title:this._title,i18n:this._i18n})}getId(){return this._id}title(e){return new dC(this._context,{title:e,id:this._id,i18n:this._i18n})}getTitle(){return this._title}i18n(e){return new dC(this._context,{i18n:e,id:this._id,title:this._title})}getI18n(){return this._i18n}serialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{_id:r,_title:i,_i18n:o}=this;if(!r)throw new ci("`id` is required for a menu item group",e.path,e.index,i).withHelpUrl(no.ID_REQUIRED);if(!i)throw new ci("`title` is required for a menu item group",e.path,r).withHelpUrl(no.TITLE_REQUIRED);return{id:r,title:i,i18n:o}}}const fot=/([^A-Za-z0-9-_.])/;function sR(n,e,r){if(typeof n!="string")throw new ci("Structure node id must be of type string, got ".concat(typeof n),e,r);const[i]=n.match(fot)||[];if(i)throw new ci('Structure node id cannot contain character "'.concat(i,'"'),e,r);if(n.startsWith("__edit__"))throw new ci("Structure node id cannot start with __edit__",e,r);return n}function LB(n,e){if(e)return e;const r=fDe(n);return fot.test(r)?fDe(DZe(n)):r}class lI{constructor(e){this.spec={options:{},...e||{}}}id(e){return this.clone({id:e})}getId(){return this.spec.id}title(e){return this.clone({title:e,id:LB(e,this.spec.id)})}getTitle(){return this.spec.title}i18n(e){return this.clone({i18n:e})}getI18n(){return this.spec.i18n}child(e){return this.clone({child:e})}getChild(){return this.spec.child}component(e){return this.clone({component:e})}getComponent(){return this.spec.component}options(e){return this.clone({options:e})}getOptions(){return this.spec.options||{}}menuItems(e){return this.clone({menuItems:e})}getMenuItems(){return this.spec.menuItems}menuItemGroups(e){return this.clone({menuItemGroups:e})}getMenuItemGroups(){return this.spec.menuItemGroups}serialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:r,title:i,child:o,options:s,component:a}=this.spec;if(!r)throw new ci("`id` is required for `component` structure item",e.path,e.index).withHelpUrl(no.ID_REQUIRED);if(!a)throw new ci("`component` is required for `component` structure item",e.path,e.index).withHelpUrl(no.ID_REQUIRED);return{id:sR(r,e.path,e.index),title:i,type:"component",child:o,component:a,options:s||{},menuItems:(this.spec.menuItems||[]).map((l,c)=>lot(l,c,e.path)),menuItemGroups:(this.spec.menuItemGroups||[]).map((l,c)=>dot(l,c,e.path))}}clone(e){const r=new lI;return r.spec={...this.spec,...e||{}},r}}async function hot(n,e){const r="*[_id in [$documentId, $draftId]]._type",i=di(e),o=wl(e);return(await n(Dr).fetch(r,{documentId:i,draftId:o},{tag:"structure.resolve-type"}))[0]}class mse{constructor(){this.spec={}}id(e){return this.clone({id:e})}getId(){return this.spec.id}title(e){return this.clone({title:e,id:this.spec.id||isr(e)})}getTitle(){return this.spec.title}icon(e){return this.clone({icon:e})}getIcon(){return this.spec.icon}serialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:r,title:i,icon:o}=this.spec;if(!r)throw new ci("`id` is required for view item",e.path,e.index).withHelpUrl(no.ID_REQUIRED);if(!i)throw new ci("`title` is required for view item",e.path,e.index).withHelpUrl(no.TITLE_REQUIRED);return{id:sR(r,e.path,e.index),title:i,icon:o}}}function jpr(n){return typeof n.serialize=="function"}function pot(n,e,r){return jpr(n)?n.serialize({path:r,index:e}):n}const Lpr=n=>$n(n)&&n.type==="component";class $B extends mse{constructor(e){const r=Lpr(e)?{...e}:{options:{}};super(),this.spec=r;const i=typeof e=="function"?e:this.spec.component;i&&(this.spec=this.component(i).spec)}component(e){return this.clone({component:e})}getComponent(){return this.spec.component}options(e){return this.clone({options:e})}getOptions(){return this.spec.options||{}}serialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const r=super.serialize(e),i=this.spec.component;if(typeof i!="function")throw new ci("`component` is required and must be a function for `component()` view item",e.path,e.index).withHelpUrl(no.COMPONENT_REQUIRED);return{...r,component:i,options:this.spec.options||{},type:"component"}}clone(e){const r=new $B;return r.spec={...this.spec,...e||{}},r}}class MB extends mse{constructor(e){super(),this.spec={id:"editor",title:"Editor",...e||{}}}serialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};return{...super.serialize(e),type:"form"}}clone(e){const r=new MB;return r.spec={...this.spec,...e||{}},r}}const mot=n=>new MB(n),$pr=n=>new $B(n);var Mpr=Object.freeze({__proto__:null,ComponentViewBuilder:$B,FormViewBuilder:MB,GenericViewBuilder:mse,component:$pr,form:mot,maybeSerializeView:pot});const Fpr=n=>{let{resolveDocumentNode:e,getClient:r}=n;return async(i,o)=>{let{params:s,path:a}=o,l=s.type;const c=a.slice(0,a.length-1),u=a[a.length-1];if(l||(l=await hot(r,i)),!l)throw new ci("Failed to resolve document, and no type provided in parameters.",c,u);return e({documentId:i,schemaType:l})}};class Ey{constructor(e,r){this._context=e,this.spec=r||{}}id(e){return this.clone({id:e})}getId(){return this.spec.id}title(e){return this.clone({title:e,id:LB(e,this.spec.id)})}getTitle(){return this.spec.title}i18n(e){return this.clone({i18n:e})}getI18n(){return this.spec.i18n}child(e){return this.clone({child:e})}getChild(){return this.spec.child}documentId(e){const r=this.spec.id||e;return this.clone({id:r,options:{...this.spec.options||{},id:e}})}getDocumentId(){var e;return(e=this.spec.options)==null?void 0:e.id}schemaType(e){return this.clone({options:{...this.spec.options||{},type:typeof e=="string"?e:e.name}})}getSchemaType(){var e;return(e=this.spec.options)==null?void 0:e.type}initialValueTemplate(e,r){return this.clone({options:{...this.spec.options||{},template:e,templateParameters:r}})}getInitialValueTemplate(){var e;return(e=this.spec.options)==null?void 0:e.template}getInitialValueTemplateParameters(){var e;return(e=this.spec.options)==null?void 0:e.templateParameters}views(e){return this.clone({views:e})}getViews(){return this.spec.views||[]}serialize(){let{path:e=[],index:r,hint:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const o=e[r||e.length-1],s=this.spec.id||o&&"".concat(o)||"",a={id:s,type:void 0,template:void 0,templateParameters:void 0,...this.spec.options};if(typeof s!="string"||!s)throw new ci("`id` is required for document nodes",e,r,i).withHelpUrl(no.ID_REQUIRED);if(!a||!a.id)throw new ci("document id (`id`) is required for document nodes",e,s,i).withHelpUrl(no.DOCUMENT_ID_REQUIRED);if(!a||!a.type)throw new ci("document type (`schemaType`) is required for document nodes",e,s,i);const l=(this.spec.views&&this.spec.views.length>0?this.spec.views:[mot()]).map((f,h)=>pot(f,h,e)),c=l.map(f=>f.id),u=la(c.filter((f,h)=>c.includes(f,h+1)));if(u.length>0)throw new ci("document node has views with duplicate IDs: ".concat(u.join(",  ")),e,s,i);return{...this.spec,child:this.spec.child||Fpr(this._context),id:sR(s,e,r),type:"document",options:Npr(a),views:l}}clone(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=new Ey(this._context),i={...this.spec.options||{},...e.options||{}};return r.spec={...this.spec,...e,options:i},r}}function Npr(n){const e={id:n.id||"",type:n.type||"*"};return n.template&&(e.template=n.template),n.templateParameters&&(e.templateParameters=n.templateParameters),e}function Bpr(n,e){let r=e!=null&&e.type?n.resolveDocumentNode({schemaType:e.type}):new Ey(n);if(!e)return r;const{id:i,type:o,template:s,templateParameters:a}=e.options;return r=r.id(e.id).documentId(i),o&&(r=r.schemaType(o)),s&&(r=r.initialValueTemplate(s,a)),e.child&&(r=r.child(e.child)),r}function Upr(n,e,r){let{resolveDocumentNode:i,templates:o}=n;const s=o.find(a=>a.id===e);if(!s)throw new Error('Template with ID "'.concat(e,'" not defined'));return i({schemaType:s.schemaType}).initialValueTemplate(e,r)}class FB{constructor(e,r){this._context=e,this.spec=r||{}}id(e){return this.clone({id:e})}getId(){return this.spec.id}title(e){return this.clone({title:e})}getTitle(){return this.spec.title}description(e){return this.clone({description:e})}getDescription(){return this.spec.description}templateId(e){const r=this.spec.id||e;return this.clone({id:r,templateId:e})}getTemplateId(){return this.spec.templateId}parameters(e){return this.clone({parameters:e})}getParameters(){return this.spec.parameters}serialize(){let{path:e=[],index:r,hint:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{spec:o,_context:s}=this,{templates:a}=s;if(typeof o.id!="string"||!o.id)throw new ci("`id` is required for initial value template item nodes",e,r,i).withHelpUrl(no.ID_REQUIRED);if(!o.templateId)throw new ci("template id (`templateId`) is required for initial value template item nodes",e,o.id,i).withHelpUrl(no.ID_REQUIRED);const l=a.find(c=>c.id===o.templateId);if(!l)throw new ci("template id (`templateId`) is required for initial value template item nodes",e,o.id,i).withHelpUrl(no.ID_REQUIRED);return{id:o.id,templateId:o.id,schemaType:l.schemaType,type:"initialValueTemplateItem",description:o.description||l.description,title:o.title||l.title,subtitle:o.subtitle,icon:o.icon||l.icon,initialDocumentId:o.initialDocumentId,parameters:o.parameters}}clone(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=new FB(this._context);return r.spec={...this.spec,...e},r}}function zpr(n){const{schema:e,getStructureBuilder:r,templates:i}=n,o=e.getTypeNames();return i.filter(a=>{var l;return!((l=a.parameters)!=null&&l.length)}).sort((a,l)=>o.indexOf(a.schemaType)-o.indexOf(l.schemaType)).map(a=>r().initialValueTemplateItem(a.id))}function Vpr(n,e,r){return n instanceof FB?n.serialize({path:r,index:e}):n}function Hpr(n,e){const{schema:r,templates:i}=n;return e.map(o=>{const s=i.find(m=>m.id===o.templateId),a=o.title||(s==null?void 0:s.title)||"Create",l={};s&&s.schemaType&&(l.type=s.schemaType),o.templateId&&(l.template=o.templateId);const c=o.parameters?[l,o.parameters]:l,u=s&&r.get(s.schemaType),f=o.i18n||(s==null?void 0:s.i18n);let h=new _y(n).title(a).icon(s&&s.icon||(u==null?void 0:u.icon)||Ta).intent({type:"create",params:c});return f&&(h=h.i18n(f)),h.serialize()})}const got=Symbol("Document type list canHandleIntent"),gse=(n,e,r)=>{let{pane:i}=r;var o,s;const a=n==="edit",l=n==="create",c=i,u=((o=c.options)==null?void 0:o.filter)||"",f=((s=c.options)==null?void 0:s.params)||{},h=c.schemaTypeName?[c.schemaTypeName]:vse(u,f),m=c.initialValueTemplates||[];return l&&e.template?m.some(g=>g.templateId===e.template):a&&e.id&&h.includes(e.type)||l&&h.includes(e.type)};gse.identity=got;const SPe=["default","card","media","detail","block"];function Wpr(){}const vot=(n,e,r)=>{let{pane:i,index:o}=r;return o<=1&&gse(n,e,{pane:i,index:o})};class yot{constructor(){this.initialValueTemplatesSpecified=!1,this.spec={}}id(e){return this.clone({id:e})}getId(){return this.spec.id}title(e){return this.clone({title:e,id:LB(e,this.spec.id)})}getTitle(){return this.spec.title}i18n(e){return this.clone({i18n:e})}getI18n(){return this.spec.i18n}defaultLayout(e){return this.clone({defaultLayout:e})}getDefaultLayout(){return this.spec.defaultLayout}menuItems(e){return this.clone({menuItems:e})}getMenuItems(){return this.spec.menuItems}menuItemGroups(e){return this.clone({menuItemGroups:e})}getMenuItemGroups(){return this.spec.menuItemGroups}child(e){return this.clone({child:e})}getChild(){return this.spec.child}canHandleIntent(e){return this.clone({canHandleIntent:e})}getCanHandleIntent(){return this.spec.canHandleIntent}showIcons(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcons:e}})}getShowIcons(){return this.spec.displayOptions?this.spec.displayOptions.showIcons:void 0}initialValueTemplates(e){return this.initialValueTemplatesSpecified=!0,this.clone({initialValueTemplates:Array.isArray(e)?e:[e]})}getInitialValueTemplates(){return this.spec.initialValueTemplates}serialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const r=this.spec.id||"",i=e.path,o=this.spec.defaultLayout;if(o&&!SPe.includes(o))throw new ci("`layout` must be one of ".concat(SPe.map(a=>'"'.concat(a,'"')).join(", ")),i,r||e.index,this.spec.title);const s=(this.spec.initialValueTemplates||[]).map((a,l)=>Vpr(a,l,i));return{id:sR(r,e.path,r||e.index),title:this.spec.title,i18n:this.spec.i18n,type:"genericList",defaultLayout:o,child:this.spec.child||Wpr,canHandleIntent:this.spec.canHandleIntent||vot,displayOptions:this.spec.displayOptions,initialValueTemplates:s,menuItems:(this.spec.menuItems||[]).map((a,l)=>lot(a,l,i)),menuItemGroups:(this.spec.menuItemGroups||[]).map((a,l)=>dot(a,l,i))}}}const Gpr=(n,e)=>{var r;const i=((r=n.options)==null?void 0:r.filter.trim())||"";if(["*","{"].includes(i[0]))throw new ci("`filter` cannot start with `".concat(i[0],"` - looks like you are providing a query, not a filter"),e.path,n.id,n.title).withHelpUrl(no.QUERY_PROVIDED_FOR_FILTER);return i},qpr=n=>(e,r)=>{var i;const o=r.parent,s=(i=r.params)!=null&&i.template?n.templates.find(l=>l.id===r.params.template):void 0,a=s?s.schemaType:o.schemaTypeName||hot(n.getClient,e);return Promise.resolve(a).then(l=>l?n.resolveDocumentNode({schemaType:l,documentId:e}):new Ey(n).id("editor").documentId(e).schemaType(""))};class aR extends yot{constructor(e,r){super(),this._context=e,this.spec=r||{},this.initialValueTemplatesSpecified=!!(r!=null&&r.initialValueTemplates)}apiVersion(e){return this.clone({options:{...this.spec.options||{filter:""},apiVersion:e}})}getApiVersion(){var e;return(e=this.spec.options)==null?void 0:e.apiVersion}filter(e){return this.clone({options:{...this.spec.options||{},filter:e}})}getFilter(){var e;return(e=this.spec.options)==null?void 0:e.filter}schemaType(e){const r=typeof e=="string"?e:e.name;return this.clone({schemaTypeName:r})}getSchemaType(){return this.spec.schemaTypeName}params(e){return this.clone({options:{...this.spec.options||{filter:""},params:e}})}getParams(){var e;return(e=this.spec.options)==null?void 0:e.params}defaultOrdering(e){if(!Array.isArray(e))throw new Error("`defaultOrdering` must be an array of order clauses");return this.clone({options:{...this.spec.options||{filter:""},defaultOrdering:e}})}getDefaultOrdering(){var e;return(e=this.spec.options)==null?void 0:e.defaultOrdering}serialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};var r;if(typeof this.spec.id!="string"||!this.spec.id)throw new ci("`id` is required for document lists",e.path,e.index,this.spec.title).withHelpUrl(no.ID_REQUIRED);if(!this.spec.options||!this.spec.options.filter)throw new ci("`filter` is required for document lists",e.path,this.spec.id,this.spec.title).withHelpUrl(no.FILTER_REQUIRED);return!(((r=this.spec.options)==null?void 0:r.filter)==="_type == $type")&&this.spec.options.filter&&!this.spec.options.apiVersion&&console.warn("No apiVersion specified for document type list with custom filter: `".concat(this.spec.options.filter,"`. This will be required in the future. See %s for more info."),bWe(no.API_VERSION_REQUIRED_FOR_CUSTOM_FILTER)),{...super.serialize(e),type:"documentList",schemaTypeName:this.spec.schemaTypeName,child:this.spec.child||qpr(this._context),options:{...this.spec.options,apiVersion:this.spec.options.apiVersion||Dr.apiVersion,filter:Gpr(this.spec,e)}}}clone(e){const r=new aR(this._context);return r.spec={...this.spec,...e||{}},this.initialValueTemplatesSpecified||(r.spec.initialValueTemplates=Kpr(this._context,r.spec)),r.spec.schemaTypeName||(r.spec.schemaTypeName=Ypr(r.spec)),r}getSpec(){return this.spec}}function Kpr(n,e){const{document:r}=n,{schemaTypeName:i,options:o}=e,{filter:s,params:a}=o||{filter:"",params:{}},l=i?[i]:Array.from(new Set(vse(s,a)));if(l.length!==0)return l.flatMap(c=>r.resolveNewDocumentOptions({type:"structure",schemaType:c})).map(c=>({...c,icon:Ta}))}function Ypr(n){const{options:e}=n,{filter:r,params:i}=e||{filter:"",params:{}},o=vse(r,i);return o.length===1?o[0]:void 0}function vse(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=Zpr(n,e);return r.length===0&&(r=Xpr(n,e)),r}function Zpr(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=/\b_type\s*==\s*(['"].*?['"]|\$.*?(?:\s|$))|\B(['"].*?['"]|\$.*?(?:\s|$))\s*==\s*_type/g,i=[];let o;for(;(o=r.exec(n))!==null;)i.push(o[1]||o[2]);return i.map(s=>((s[0]==="$"?e[s.slice(1)]:s)||"").trim().replace(/^["']|["']$/g,"")).filter(Boolean)}function Xpr(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=/\b_type\s+in\s+\[(.*?)\]/,i=n.match(r);return i?i[1].split(/,\s*/).map(o=>o.trim().replace(/^["']+|["']+$/g,"")).map(o=>o[0]==="$"?e[o.slice(1)]:o).filter(Boolean):[]}const Qpr=n=>n instanceof p2?"ListBuilder":rmr(n)?"Promise":Array.isArray(n)?"array":typeof n,Jpr=n=>n.type==="listItem",emr=(n,e,r)=>(r.pane.items||[]).filter(omr).some(s=>s.schemaType.name===e.type&&s._id===e.id)||vot(n,e,r),tmr=(n,e)=>{const o=(e.parent.items.filter(Jpr).find(s=>s.id===n)||{child:void 0}).child;return!o||typeof o!="function"?o:typeof o=="function"?o(n,e):o};function nmr(n,e,r){if(n instanceof m2)return n.serialize({path:r,index:e});const i=n;if(i&&i.type==="divider")return n;if(!i||i.type!=="listItem"){const o=i&&i.type||Qpr(i),s=o==="array"?" - did you forget to spread (...moreItems)?":"";throw new ci('List items must be of type "listItem", got "'.concat(o,'"').concat(s),r,e).withHelpUrl(no.INVALID_LIST_ITEM)}return n}function rmr(n){return $n(n)&&typeof n.then=="function"}class p2 extends yot{constructor(e,r){super(),this._context=e,this.spec=r||{},this.initialValueTemplatesSpecified=!!(r&&r.initialValueTemplates)}items(e){return this.clone({items:e})}getItems(){return this.spec.items}serialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const r=this.spec.id;if(typeof r!="string"||!r)throw new ci("`id` is required for lists",e.path,e.index).withHelpUrl(no.ID_REQUIRED);const i=typeof this.spec.items>"u"?[]:this.spec.items;if(!Array.isArray(i))throw new ci("`items` must be an array of items",e.path,e.index).withHelpUrl(no.LIST_ITEMS_MUST_BE_ARRAY);const o=(e.path||[]).concat(r),s=i.map((l,c)=>nmr(l,c,o)),a=s.filter((l,c)=>jZe(s,{id:l.id},c+1));if(a.length>0){const l=a.map(u=>u.id).slice(0,5),c=a.length>5?"".concat(l.join(", "),"..."):l.join(", ");throw new ci("List items with same ID found (".concat(c,")"),e.path,e.index).withHelpUrl(no.LIST_ITEM_IDS_MUST_BE_UNIQUE)}return{...super.serialize(e),type:"list",canHandleIntent:this.spec.canHandleIntent||emr,child:this.spec.child||tmr,items:s}}clone(e){const r=new p2(this._context);return r.spec={...this.spec,...e||{}},r}}class m2{constructor(e,r){this._context=e,this.spec=r||{}}id(e){return this.clone({id:e})}getId(){return this.spec.id}title(e){return this.clone({title:e,id:LB(e,this.spec.id)})}getTitle(){return this.spec.title}i18n(e){return this.clone({i18n:e})}getI18n(){return this.spec.i18n}icon(e){return this.clone({icon:e})}showIcon(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.clone({displayOptions:{...this.spec.displayOptions||{},showIcon:e}})}getShowIcon(){return this.spec.displayOptions?this.spec.displayOptions.showIcon:void 0}getIcon(){return this.spec.icon}child(e){return this.clone({child:e})}getChild(){return this.spec.child}schemaType(e){return this.clone({schemaType:e})}getSchemaType(){const e=this.spec.schemaType;return typeof e=="string"?this._context.schema.get(e):this.spec.schemaType}serialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const{id:r,title:i,child:o}=this.spec;if(typeof r!="string"||!r)throw new ci("`id` is required for list items",e.path,e.index).withHelpUrl(no.ID_REQUIRED);if(!e.titleIsOptional&&(typeof i!="string"||!i))throw new ci("`title` is required for list items",e.path,r).withHelpUrl(no.TITLE_REQUIRED);let s=this.spec.schemaType;if(typeof s=="string"){const c=this._context.schema.get(s);if(!c)throw new ci('Could not find type "'.concat(s,'" in schema'),e.path,r).withHelpUrl(no.SCHEMA_TYPE_NOT_FOUND);s=c}const a={path:e.path.concat(r),hint:"child"};let l=o instanceof lI||o instanceof aR||o instanceof Ey||o instanceof p2?o.serialize(a):o;if(typeof l=="function"){const c=l;l=(u,f)=>c(u,{...f,serializeOptions:a})}return{...this.spec,id:sR(r,e.path,e.index),schemaType:s,child:l,title:i,type:"listItem"}}clone(e){const r=new m2(this._context);return r.spec={...this.spec,...e||{}},r}}const imr=(n,e)=>r=>{const i=e.schemaType&&(typeof e.schemaType=="string"?e.schemaType:e.schemaType.name);return i?n.resolveDocumentNode({schemaType:i,documentId:r}):new Ey(n).id("documentEditor").documentId(r)};class yse extends m2{constructor(e,r){super(e,r),this._context=e,this.spec=r||{}}serialize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:[]};const r=super.serialize({...e,titleIsOptional:!0});if(!r.schemaType)throw new ci("`schemaType` is required for document list items",e.path,e.index).withHelpUrl(no.SCHEMA_TYPE_REQUIRED);const i=r.child||imr(this._context,r);return{...r,child:i,schemaType:r.schemaType,_id:r.id}}clone(e){const r=new yse(this._context);return r.spec={...this.spec,...e||{}},r}}function omr(n){return $n(n)&&typeof n.schemaType<"u"&&typeof n._id=="string"}class i4 extends aR{constructor(e,r){super(e),this._context=e,this.spec=r||{}}child(e){return this.cloneWithoutDefaultIntentHandler({child:e})}clone(e){const r=super.clone(e),i=new i4(this._context);return i.spec={...this.spec,...r.getSpec(),...e||{}},i}cloneWithoutDefaultIntentHandler(e){const r=super.clone(e),i=new i4(this._context),o=this.spec.canHandleIntent,a=o&&o.identity===got?{canHandleIntent:void 0}:{};return i.spec={...r.getSpec(),...this.spec,...e||{},...a},i}}const smr=["sanity.imageAsset","sanity.fileAsset"];function amr(n){return smr.includes(n)}function lmr(n){var e;return((e=n.type)==null?void 0:e.name)==="document"}function cmr(n){return n.type==="list"}function umr(n){let{schema:e}=n;return e.getTypeNames().filter(r=>{const i=e.get(r);return i&&lmr(i)}).filter(r=>!amr(r))}function bot(n){return umr(n).map(r=>xot(n,r))}function xot(n,e){const{schema:r}=n,i=r.get(e);if(!i)throw new Error('Schema type with name "'.concat(e,'" not found'));const o=i.title||li(e);return new m2(n).id(e).title(o).schemaType(i).child((s,a)=>{const l=a.parent,c=cmr(l)?l.items.find(f=>f.id===s):null;let u=wot(n,e);return c&&c.title&&(u=u.title(c.title)),u})}function wot(n,e){const{schema:r,resolveDocumentNode:i}=n,o=typeof e=="string"?e:e.schemaType,s=typeof o=="string"?o:o.name,a=typeof e=="string"?{schemaType:o}:e,l=r.get(s);if(!l)throw new Error('Schema type with name "'.concat(s,'" not found'));const c=l.title||li(s);return new i4(n).id(a.id||s).title(a.title||c).filter("_type == $type").params({type:s}).schemaType(l).defaultOrdering(Ppr.by).menuItemGroups(a.menuItemGroups||[{id:"sorting",title:"Sort",i18n:{title:{key:"menu-item-groups.actions-group",ns:er}}},{id:"layout",title:"Layout",i18n:{title:{key:"menu-item-groups.layout-group",ns:er}}},{id:"actions",title:"Actions",i18n:{title:{key:"menu-item-groups.sorting-group",ns:er}}}]).child(a.child||(u=>i({schemaType:s,documentId:u}))).canHandleIntent(a.canHandleIntent||gse).menuItems(a.menuItems||[...uot(n,l),new _y(n).group("layout").i18n({title:{key:"menu-items.layout.compact-view",ns:er}}).title("Compact view").icon(vBe).action("setLayout").params({layout:"default"}),new _y(n).group("layout").i18n({title:{key:"menu-items.layout.detailed-view",ns:er}}).title("Detailed view").icon(yBe).action("setLayout").params({layout:"detail"})])}function dmr(n){return!n||typeof n=="string"?!1:!!n.icon}function fmr(n){const e=bot(n);return new p2(n).id("__root__").title("Content").i18n({title:{key:"default-definition.content-title",ns:er}}).items(e).showIcons(e.some(r=>dmr(r.getSchemaType())))}function hmr(n){let{defaultDocumentNode:e,source:r}=n;const i=Tnr(r),o={...r,getStructureBuilder:()=>s,resolveDocumentNode:a=>{let l=(e==null?void 0:e(s,{...a,...i}))||new Ey(o);return l.getId()||(l=l.id("documentEditor")),a.documentId&&(l=l.documentId(di(a.documentId))),l.schemaType(a.schemaType)}},s={defaults:()=>fmr(o),documentTypeList:function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return wot(o,...l)},documentTypeListItem:function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return xot(o,...l)},documentTypeListItems:function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return bot(o,...l)},document:function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return new Ey(o,...l)},documentWithInitialValueTemplate:function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return Upr(o,...l)},defaultDocument:o.resolveDocumentNode,list:function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return new p2(o,...l)},listItem:function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return new m2(o,...l)},menuItem:function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return new _y(o,...l)},menuItemGroup:function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return new dC(o,...l)},menuItemsFromInitialValueTemplateItems:function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return Hpr(o,...l)},documentList:function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return new aR(o,...l)},documentListItem:function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return new yse(o,...l)},orderingMenuItem:function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return cot(o,...l)},orderingMenuItemsForType:function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return uot(o,...l)},editor:function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return Bpr(o,...l)},defaultInitialValueTemplateItems:function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];return zpr(o,...l)},initialValueTemplateItem:(a,l)=>new FB(o,{id:a,parameters:l,templateId:a}),component:a=>Xr.isValidElementType(a)?new lI().component(a):new lI(a),divider:()=>({id:JVe("__divider__"),type:"divider"}),view:Mpr,context:o};return s}const _ot="2024-03-05";function pmr(){return d.jsx("div",{children:"Config errors"})}function bse(n){let{children:e}=n;return d.jsx(Znt,{LoadingComponent:Zr,ConfigErrorsComponent:pmr,children:e})}function Eot(n){let{documentId:e,documentType:r,dataset:i,projectId:o}=n;return{documentType:r,document:{_ref:di(e),_type:"crossDatasetReference",_dataset:i,_projectId:o,_weak:!0}}}function o4(n){if(!n)return[];const e=[];return n==null||n.forEach(r=>{ka(r)&&r.children.forEach(i=>{i._type==="mention"&&typeof i.userId=="string"&&!e.includes(i.userId)&&e.push(i.userId)})}),e}const mmr=["title","description","target"],gmr=2*60*1e3;function vmr(n){const e=[];for(const r of n){const i=e[e.length-1];if(!i){e.push(r);continue}if(!mmr.includes(r.field)){e.push(r);continue}if(i.author===r.author&&i.field===r.field){const o=new Date(i.timestamp),s=new Date(r.timestamp);if(Math.abs(o.getTime()-s.getTime())<=gmr){i.to=r.to,i.timestamp=r.timestamp;continue}}e.push(r)}return e}function ymr(n){const{_rev:e,...r}=n;return r}function bmr(n,e,r){let i=ymr(n);const o=[];let s=i;for(const c of e){const{timestamp:u,effects:f}=c,h=c.documentIDs[0],m=f[h];!m||!m.revert||(s=FF(i,m.revert),r.forEach(g=>{(s==null?void 0:s[g])!==(i==null?void 0:i[g])&&o.push({field:g,from:s==null?void 0:s[g],to:i==null?void 0:i[g],timestamp:u,author:c.author})}),i=s)}const a=o.sort((c,u)=>c.timestamp.localeCompare(u.timestamp)),l=a.findIndex(c=>c.field==="createdByUser");return vmr(a.slice(l+1))}const cI=[{value:"open",title:"To Do",icon:d.jsx(IC,{})},{value:"closed",title:"Done",icon:d.jsx(VI,{})}];function xse(n){var e;const{documentId:r,documentType:i}=n||{},o=Ar().get(i),s=Qa(),a=bs(()=>!r||!o?Ke(null):r2(s,o,r,""),[r,s,o]),l=(e=a==null?void 0:a.isLoading)!=null?e:!0,{published:c,draft:u}=a||{},f=(u==null?void 0:u.title)||(c==null?void 0:c.title),h=(u==null?void 0:u.subtitle)||(c==null?void 0:c.subtitle),m=(u==null?void 0:u.description)||(c==null?void 0:c.description),g=(u==null?void 0:u.media)||(c==null?void 0:c.media);return{isLoading:l,value:{title:f,subtitle:h,media:g,description:m}}}var kPe=Object.freeze,xmr=Object.defineProperty,Cot=(n,e)=>kPe(xmr(n,"raw",{value:kPe(e||n.slice())})),TPe,APe;const wmr={month:"long",day:"2-digit",minute:"2-digit",hour:"2-digit",second:"2-digit"},_mr={minimal:!0,useTemporalPhrase:!0},wse=F.strong(TPe||(TPe=Cot([`
  font-weight: 600;
`])));function Sot(n){const e=new Date(n),i=cf(wmr).format(e);return{timeAgo:wy(e||"",_mr),formattedDate:i}}function kot(n){let{userId:e}=n;const[r,i]=lm(e);return i?d.jsx(ro,{style:{width:"15ch"}}):d.jsx(wse,{children:r==null?void 0:r.displayName})}const Emr={month:"short",day:"numeric"};function IPe(n){let{date:e}=n;const r=new Date(e),o=cf(Emr).format(r);return d.jsx(wse,{children:o})}const Cmr=F.span(APe||(APe=Cot([`
  > a {
    color: var(--card-fg-muted-color);
    text-decoration: underline;
    text-underline-offset: 1px;
    font-weight: 600;
  }
`])));function Smr(n){let{target:e}=n;const r=Ar(),i=e.document._ref,o=e.documentType,s=r.get(o),{isLoading:a,value:l}=xse({documentId:i,documentType:o});return a?d.jsx(ro,{style:{width:"15ch"}}):s?d.jsx(Cmr,{children:d.jsx(Sf,{intent:"edit",params:{id:i,type:o},children:l==null?void 0:l.title})}):null}function kmr(n){var e,r;switch(n.field){case"status":{const i=(e=cI.find(o=>o.value===n.to))==null?void 0:e.title;return{text:"changed status to",icon:((r=cI.find(o=>o.value===n.to))==null?void 0:r.icon)||d.jsx(IC,{}),changeTo:d.jsx(wse,{children:i})}}case"target":return n.to?{text:"set target content to",icon:d.jsx(ff,{}),changeTo:d.jsx(Smr,{target:n.to})}:{text:"removed target content",icon:d.jsx(ff,{}),changeTo:void 0};case"dueBy":return n.from?n.to?{text:"changed the due date to",icon:d.jsx(Xd,{}),changeTo:d.jsx(IPe,{date:n.to})}:{text:"removed the due date",icon:d.jsx(Xd,{}),changeTo:void 0}:{text:"set the due date to",icon:d.jsx(Xd,{}),changeTo:d.jsx(IPe,{date:n.to})};case"assignedTo":return n.to?{text:"assigned to",icon:d.jsx(RC,{}),changeTo:d.jsx(kot,{userId:n.to})}:{text:"unassigned this task",icon:d.jsx(RC,{}),changeTo:void 0};case"description":return{text:"updated the task description",icon:d.jsx(df,{}),changeTo:void 0};case"title":return{text:"updated the task title",icon:d.jsx(df,{}),changeTo:void 0};default:return{text:"",icon:d.jsx(IC,{})}}}const Tmr=p.memo(function(e){const{activity:r}=e,{formattedDate:i,timeAgo:o}=Sot(r.timestamp),{icon:s,text:a,changeTo:l}=kmr(r);return d.jsxs(oe,{gap:1,children:[d.jsx(te,{marginTop:1,marginLeft:1,marginRight:3,children:d.jsx(te,{marginRight:1,children:d.jsx(J,{children:s})})}),d.jsxs(J,{muted:!0,size:1,children:[d.jsx(kot,{userId:r.author})," ",a," ",l," •"," ",d.jsx(zn,{content:i,placement:"top-end",children:d.jsx("time",{dateTime:i,children:o})})]})]})},(n,e)=>n.activity.timestamp===e.activity.timestamp);var DPe=Object.freeze,Amr=Object.defineProperty,Tot=(n,e)=>DPe(Amr(n,"raw",{value:DPe(e||n.slice())})),RPe,OPe;const PPe=F.div(n=>{var e,r;const i=mt(n.theme);return Ae(RPe||(RPe=Tot([`
      min-height: `,`px;
      min-width: `,`px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      `,`;
      `,`
    `])),(e=i.avatar.sizes[n.$size])==null?void 0:e.size,(r=i.avatar.sizes[n.$size])==null?void 0:r.size,n.$border?"box-shadow: inset 0 0 0 1px var(--card-border-color);":"",n.$removeBg?"--card-avatar-gray-bg-color: transparent;":"")}),Imr=F(My)(n=>{var e,r;const i=mt(n.theme);return Ae(OPe||(OPe=Tot([`
    height: `,`px;
    width: `,`px;
    border-radius: 50%;
  `])),(e=i.avatar.sizes[n.$size])==null?void 0:e.size,(r=i.avatar.sizes[n.$size])==null?void 0:r.size)});function g2(n){const{user:e,size:r=0,border:i=!0}=n,[o,s]=lm((e==null?void 0:e.id)||"");return s?d.jsx(Imr,{$size:r,animated:!0}):!e||!o?d.jsx(PPe,{$size:r,$border:i,children:d.jsx(J,{size:r,children:d.jsx(RC,{})})}):d.jsx(PPe,{$size:r,$removeBg:!!(o!=null&&o.imageUrl),children:d.jsx(gf,{user:o,size:r,...o!=null&&o.imageUrl?{color:void 0}:{}})})}var jPe=Object.freeze,Dmr=Object.defineProperty,Rmr=(n,e)=>jPe(Dmr(n,"raw",{value:jPe(e||n.slice())})),LPe;const Omr=F.div(LPe||(LPe=Rmr([`
  width: 100%;
`])));function _se(n){let{userId:e,children:r}=n;return d.jsxs(oe,{gap:1,children:[d.jsx(te,{marginRight:3,paddingTop:1,children:d.jsx(g2,{user:{id:e},size:0})}),d.jsx(Omr,{children:r})]})}function Pmr(n){const{mentionOptions:e,currentUser:r,onSubmit:i}=n,[o,s]=p.useState(null),a=p.useRef(null),l=p.useMemo(()=>_w(o),[o]),c=p.useCallback(g=>{s(g)},[]),u=p.useCallback(()=>{l&&(i(o),s(null))},[l,i,o]),f=p.useCallback(()=>{var g;(g=a.current)==null||g.discardDialogController.close()},[]),h=p.useCallback(()=>{var g;(g=a.current)==null||g.discardDialogController.close(),s(null)},[]),m=p.useCallback(g=>{var v,y;g.key==="Escape"&&(g.preventDefault(),g.stopPropagation(),l?(v=a.current)==null||v.discardDialogController.open():((y=a.current)==null||y.discardDialogController.close(),s(null)))},[l]);return d.jsx(_se,{userId:r.id,children:d.jsx(ke,{tone:"transparent",radius:3,paddingY:1,paddingX:2,children:d.jsx(Ew,{withAvatar:!1,currentUser:r,expandOnFocus:!0,mentionOptions:e,onChange:c,onDiscardConfirm:h,onDiscardCancel:f,onKeyDown:m,onSubmit:u,placeholder:"Add a comment...",ref:a,value:o})})})}var $Pe=Object.freeze,jmr=Object.defineProperty,Lmr=(n,e)=>$Pe(jmr(n,"raw",{value:$Pe(e||n.slice())})),MPe;const $mr=F(ro)(MPe||(MPe=Lmr([`
  max-width: 15ch;
  width: '100%';
`]))),Mmr=p.memo(function(e){var r;const{createdAt:i,authorId:o}=e,[s,a]=lm(o),{timeAgo:l,formattedDate:c}=Sot(i);return d.jsx(_se,{userId:o,children:d.jsx(oe,{align:"center",paddingTop:1,children:d.jsxs(J,{size:1,muted:!0,children:[d.jsxs("strong",{style:{fontWeight:600},children:[a?d.jsx($mr,{}):(r=s==null?void 0:s.displayName)!=null?r:"Unknown user"," "]}),"created this task •"," ",d.jsx(zn,{content:c,placement:"top-end",children:d.jsx("time",{dateTime:i,children:l})})]})})})},(n,e)=>n.createdAt===e.createdAt);function Fmr(n){var e,r;const{value:i,onChange:o,path:s,currentUserId:a}=n,c=((e=i.subscribers)==null?void 0:e.includes(a))?"Unsubscribe":"Subscribe",u=p.useCallback(()=>{const f=i.subscribers||[];f.includes(a)||o(rn(f.concat(a),s)),f.includes(a)&&o(rn(f.filter(h=>h!==a),s))},[i.subscribers,a,o,s]);return d.jsxs(oe,{gap:1,align:"center",children:[d.jsx(ze,{mode:"bleed",text:c,onClick:u}),i.subscribers&&((r=i.subscribers)==null?void 0:r.length)>0&&d.jsx(Nmr,{subscriberIds:i.subscribers})]})}function Nmr(n){const{subscriberIds:e}=n;return d.jsx(Zp,{initial:!1,children:d.jsx(p6,{maxLength:3,size:0,children:e&&e.map(r=>d.jsx(Xa.div,{exit:{opacity:0,translateX:"2px",scale:.9},animate:{opacity:1,translateX:0,scale:1,transition:{type:"just",duration:.2}},initial:{opacity:0,translateX:"2px",scale:.9},children:d.jsx(g2,{user:{id:r},size:0})},r))})})}var FPe=Object.freeze,Bmr=Object.defineProperty,Umr=(n,e)=>FPe(Bmr(n,"raw",{value:FPe(e||n.slice())})),NPe;function zmr(n){const[e,r]=p.useState([]),i=Jr({apiVersion:_ot}),{dataset:o,token:s}=i.config(),a="tag=sanity.studio.tasks.history&effectFormat=mendoza&excludeContent=true&includeIdentifiedDocumentsOnly=true&reverse=true",l=i.getUrl("/data/history/".concat(o,"/transactions/").concat(di(n._id),"?").concat(a)),c=p.useCallback(async u=>{try{const f=[],m=(await OHe(l,s)).getReader();let g;for(;g=await m.read(),!g.done;){if("error"in g.value)throw new Error(g.value.error.description||g.value.error.type);f.push(g.value)}const v=["createdByUser","title","description","dueBy","assignedTo","status","target"],y=await bmr(u,[...f],v);r(y)}catch(f){console.error("Failed to fetch and parse activity log",f)}},[l,s]);return p.useEffect(()=>{c(n)},[c,n._rev]),{changes:e}}const EH=[],Vmr={hidden:{opacity:0,x:0},visible:{opacity:1,x:0}},Hmr={parentCommentAvatar:!1,threadCommentsAvatar:!0,replyAvatar:!0,avatarSize:0},Wmr=F(Xa(Se))(NPe||(NPe=Umr([""])));function Gmr(n){const{value:e,onChange:r,path:i}=n,o=ao(),{title:s,basePath:a}=pa(),{comments:l,mentionOptions:c,operation:u,getComment:f}=DB(),h=l.loading,m=l.data.open,g=p.useCallback((T,A)=>{const I=new URL("".concat(window.location.origin).concat(a,"/"));I.searchParams.set("sidebar","tasks"),I.searchParams.set("selectedTask",e==null?void 0:e._id),I.searchParams.set("viewMode","edit"),I.searchParams.set("commentId",A);const D=o4(T),R=Array.from(new Set([...e.subscribers||[],...D]));return{documentTitle:e.title||"Sanity task",url:I.toString(),workspaceTitle:s,subscribers:R}},[a,e==null?void 0:e._id,e.title,s,e.subscribers]),v=p.useCallback(T=>{const A=Ia(),I=g(T,A),D={id:A,type:"task",message:T,parentCommentId:void 0,reactions:EH,status:"open",threadId:Ia(),context:{notification:I}};r(rn(I.subscribers,["subscribers"])),u.create(D)},[u,g,r]),y=p.useCallback(T=>{const A=Ia(),I=g(T.message,A);r(rn(I.subscribers,["subscribers"])),u.create({id:A,type:"task",message:T.message,parentCommentId:T.parentCommentId,reactions:EH,status:"open",threadId:T.threadId,context:{notification:I}})},[u,g,r]),b=p.useCallback(T=>{const A=f(T);if(!A)return;const I=g(A.message,A._id);r(rn(I.subscribers,["subscribers"])),u.create({type:"task",id:A._id,message:A.message,parentCommentId:A.parentCommentId,reactions:A.reactions||EH,status:A.status,threadId:A.threadId,context:{notification:I}})},[f,u,g,r]),x=p.useCallback((T,A)=>{u.react(T,A)},[u]),_=p.useCallback(T=>{u.remove(T)},[u]),w=p.useCallback((T,A)=>{u.update(T,A)},[u]),C=zmr(e).changes,S=p.useMemo(()=>{const T=C.map(I=>({_type:"activity",payload:I,timestamp:I.timestamp})),A=m.map(I=>({_type:"comment",payload:I,timestamp:I.parentComment._createdAt}));return T.concat(A).sort((I,D)=>new Date(I.timestamp).getTime()-new Date(D.timestamp).getTime())},[C,m]);return d.jsxs(Se,{space:5,children:[d.jsxs(oe,{align:"center",children:[d.jsx(te,{flex:1,children:d.jsx(J,{size:2,weight:"semibold",children:"Activity"})}),(o==null?void 0:o.id)&&d.jsx(Fmr,{currentUserId:o.id,value:e,onChange:r,path:i})]}),h&&d.jsx(Zr,{showText:!0,title:"Loading activity"}),d.jsx(Zp,{children:!h&&d.jsxs(Wmr,{animate:"visible",initial:"hidden",space:3,variants:Vmr,children:[e.createdByUser&&d.jsx(Se,{paddingBottom:1,children:d.jsx(Mmr,{createdAt:e.createdByUser,authorId:e.authorId})}),o&&d.jsx(bse,{children:d.jsxs(Se,{space:4,marginTop:1,children:[S.map(T=>T._type==="activity"?d.jsx(Tmr,{activity:T.payload},T.timestamp):d.jsx(_se,{userId:T.payload.parentComment.authorId,children:d.jsx(kit,{avatarConfig:Hmr,canReply:!0,currentUser:o,innerPadding:1,isSelected:!1,mentionOptions:c,mode:"default",onCreateRetry:b,onDelete:_,onEdit:w,onReactionSelect:x,onReply:y,parentComment:T.payload.parentComment,replies:T.payload.replies},T.payload.parentComment._id)},T.payload.parentComment._id)),d.jsx(Pmr,{currentUser:o,mentionOptions:c,onSubmit:v})]})})]})})]})}const Aot=p.createContext(null);function qmr(n){let{children:e}=n;var r;const{enabled:i,isLoading:o}=vB("studioTasks"),s=(r=pa().tasks)==null?void 0:r.enabled,a=p.useMemo(()=>!i||!s||o?{enabled:!1,mode:null}:{enabled:!0,mode:"default"},[i,o,s]);return d.jsx(Aot.Provider,{value:a,children:e})}function Sw(){const n=p.useContext(Aot);if(!n)throw new Error("useTasks must be used within a TasksEnabledProvider");return n}const Iot=p.createContext(null);function Kmr(n){const[e,r]=p.useState(null),i=grt({documentValue:e,permission:"read"}),o=p.useMemo(()=>({mentionOptions:i,selectedDocument:e,setSelectedDocument:r}),[i,e,r]);return d.jsx(Iot.Provider,{value:o,children:n.children})}function lR(){const n=p.useContext(Iot);if(!n)throw new Error("useMentionUser must be used within a MentionUserProvider");return n}const Dot=p.createContext(null),Rot={viewMode:"list",selectedTask:null,activeTabId:"assigned",duplicateTaskValues:null,isOpen:!1};function Ymr(n,e){switch(e.type){case"TOGGLE_TASKS_VIEW":return e.payload===!1?{...Rot,isOpen:e.payload}:{...n,isOpen:e.payload};case"CREATE_TASK":return{...n,viewMode:"create",selectedTask:Ia()};case"EDIT_TASK":return{...n,viewMode:"edit",selectedTask:e.payload.id};case"EDIT_DRAFT":return{...n,viewMode:"draft",selectedTask:e.payload.id};case"DUPLICATE_TASK":return{...n,viewMode:"duplicate",selectedTask:Ia(),duplicateTaskValues:e.payload.duplicateTaskValues};case"SET_ACTIVE_TAB":return{...n,viewMode:"list",activeTabId:e.payload};case"NAVIGATE_TO_LIST":return{...n,viewMode:"list"};default:return n}}const Zmr=n=>{let{children:e}=n;const[r,i]=p.useReducer(Ymr,Rot),o=md(),s=da(),a=p.useCallback(m=>{switch(m.type){case"list":i({type:"NAVIGATE_TO_LIST"});break;case"create":i({type:"CREATE_TASK"});break;case"edit":i({type:"EDIT_TASK",payload:{id:m.id}});break;case"duplicate":i({type:"DUPLICATE_TASK",payload:{duplicateTaskValues:m.duplicateTaskValues}});break;case"draft":i({type:"EDIT_DRAFT",payload:{id:m.id}});break}},[]),l=p.useCallback(m=>{i({type:"SET_ACTIVE_TAB",payload:m})},[]),c=p.useCallback(()=>{i({type:"TOGGLE_TASKS_VIEW",payload:!1})},[]),u=p.useCallback(()=>{i({type:"TOGGLE_TASKS_VIEW",payload:!0})},[]),f=p.useCallback(()=>{const m=new URL(window.location.href);m.searchParams.set("sidebar","tasks"),m.searchParams.set("viewMode",r.viewMode),r.selectedTask&&m.searchParams.set("selectedTask",r.selectedTask),navigator.clipboard.writeText(m.toString()).then(()=>{s.push({closable:!0,status:"info",title:"Copied link to clipboard"})}).catch(()=>{s.push({closable:!0,status:"error",title:"Failed to copy link to clipboard"})})},[r.selectedTask,r.viewMode,s]),h=new URLSearchParams(o.state._searchParams).toString();return p.useEffect(()=>{if(h){const m=new URLSearchParams(h);if(m.get("sidebar")!=="tasks")return;i({type:"TOGGLE_TASKS_VIEW",payload:!0});const v=m.get("viewMode"),y=m.get("selectedTask");v==="edit"&&y&&i({type:"EDIT_TASK",payload:{id:y}})}},[h]),d.jsx(Dot.Provider,{value:{state:r,setViewMode:a,setActiveTab:l,handleCloseTasks:c,handleOpenTasks:u,handleCopyLinkToTask:f},children:e})};function Ih(){const n=p.useContext(Dot);return n||{state:{activeTabId:"assigned",viewMode:"list",selectedTask:null,isOpen:!1,duplicateTaskValues:null},setActiveTab:()=>null,setViewMode:()=>null,handleCloseTasks:()=>null,handleCopyLinkToTask:()=>null,handleOpenTasks:()=>null}}const Oot=p.createContext(null);function Xmr(n){return n.reduce((r,i)=>({...r,[i._id]:i}),{})}function Qmr(n,e){switch(e.type){case"TASKS_SET":{const r=Xmr(e.tasks);return{...n,tasks:r}}case"TASK_ADDED":{const r=e.payload,i=r,o={[r._id]:{...n.tasks[r._id],...i,_state:r._state||void 0,_createdAt:r._createdAt||new Date().toISOString()}};return{...n,tasks:{...n.tasks,...o}}}case"TASK_RECEIVED":{const r=e.payload;return{...n,tasks:{...n.tasks,[r._id]:r}}}case"TASK_DELETED":{const{[e.id]:r,...i}=n.tasks;return{...n,tasks:i}}case"TASK_UPDATED":{const r=e.payload,i=r._id,s={...n.tasks[i],...r};return{...n,tasks:{...n.tasks,[i]:s}}}default:return n}}const Jmr={tasks:{}},egr={events:["welcome","mutation","reconnect"],includeResult:!0,visibility:"query"},tgr="_createdAt",ngr="desc",rgr=['_type == "tasks.task"'],igr=`{
  ...,
}`,ogr="order(".concat(tgr," ").concat(ngr,")"),BPe="*[".concat(rgr.join(" && "),"] ").concat(igr," | ").concat(ogr);function sgr(n){const{client:e}=xB(),{documentId:r}=n,[i,o]=p.useReducer(Qmr,Jmr),[s,a]=p.useState(e!==null),[l,c]=p.useState(null),u=p.useMemo(()=>({documentId:r?di(r):null}),[r]),f=p.useCallback(async()=>{if(!e){a(!1);return}try{const v=await e.fetch(BPe,u);o({type:"TASKS_SET",tasks:v}),a(!1)}catch(v){c(v)}},[e,u]),h=p.useCallback(async v=>{if(v.type==="welcome"&&(a(!0),await f(),a(!1)),v.type==="reconnect"&&a(!0),v.type==="mutation"){if(v.transition==="appear"){const y=v.result;y&&o({type:"TASK_RECEIVED",payload:y})}if(v.transition==="disappear"&&o({type:"TASK_DELETED",id:v.documentId}),v.transition==="update"){const y=v.result;y&&o({type:"TASK_UPDATED",payload:y})}}},[f]),m=p.useMemo(()=>e?e.observable.listen(BPe,u,egr).pipe(vi(y=>(c(y),Ke(y)))):Ke(),[e,u]);return p.useEffect(()=>{const v=m.subscribe(h);return()=>{v==null||v.unsubscribe()}},[h,m]),{data:p.useMemo(()=>Object.values(i.tasks),[i.tasks]),dispatch:o,error:l,isLoading:s}}const agr=[];function lgr(n){const{children:e}=n,[r,i]=p.useState(null),{data:o=agr,isLoading:s}=sgr({}),a=p.useMemo(()=>({activeDocument:r,setActiveDocument:i,isLoading:s,data:o??[]}),[r,o,s]);return d.jsx(Oot.Provider,{value:a,children:e})}function v2(){const n=p.useContext(Oot);return n||{activeDocument:null,setActiveDocument:()=>null,data:[],isLoading:!1}}var UPe=Object.freeze,cgr=Object.defineProperty,ugr=(n,e)=>UPe(cgr(n,"raw",{value:UPe(e||n.slice())})),zPe;function dgr(n){const{user:e,onSelect:r,pressed:i}=n,o=p.useCallback(()=>r(e.id),[e,r]);return d.jsx(pte,{onClick:o,padding:1,disabled:!e.granted,pressed:i,children:d.jsxs(oe,{align:"center",gap:3,children:[d.jsxs(oe,{align:"center",gap:2,flex:1,children:[d.jsx(g2,{user:e.id?e:void 0,size:1}),d.jsx(J,{size:1,textOverflow:"ellipsis",title:e.displayName,children:e.displayName})]}),!e.granted&&d.jsx(_u,{fontSize:1,mode:"outline",children:"Unauthorized"})]})})}const fgr=F(_r)(zPe||(zPe=ugr([`
  width: 308px;
  border-radius: 3px;
`]))),hgr=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],pgr={id:"",displayName:"No assignee",granted:!0};function mgr(n){let{onSelect:e,value:r=""}=n;const[i,o]=p.useState(""),{mentionOptions:s}=lR(),a=p.useRef(null),l=[pgr].concat(s.data||[]),c=p.useCallback(m=>{o(m.currentTarget.value)},[]),u=p.useMemo(()=>{var m;if(!i)return l||[];const g=I3(i).toLocaleLowerCase(),v=l==null?void 0:l.map(b=>({...b,displayName:I3(b.displayName||"").toLocaleLowerCase()}));return((m=v==null?void 0:v.filter(b=>{var x;return(x=b==null?void 0:b.displayName)==null?void 0:x.includes(g)}))==null?void 0:m.sort((b,x)=>{var _,w;const C=(_=b.displayName)==null?void 0:_.startsWith(g),S=(w=x.displayName)==null?void 0:w.startsWith(g);return C&&!S?-1:!C&&S?1:0}))||[]},[l,i]),f=p.useCallback(m=>d.jsx(dgr,{user:m,onSelect:e,pressed:m.id===r},m.id),[e,r]),h=p.useCallback(m=>{var g;m.target!==a.current&&(hgr.includes(m.key)||(g=a.current)==null||g.focus())},[]);return s.loading?d.jsx(Ya,{width:0,children:d.jsx(Zr,{showText:!0})}):d.jsxs("div",{onKeyDown:h,children:[d.jsx(ua,{placeholder:"Search username",autoFocus:!0,border:!1,onChange:c,value:i,fontSize:1,icon:RC,ref:a}),d.jsx("div",{style:{maxHeight:"320px",overflowY:"scroll",paddingTop:"8px"},children:u.length===0?d.jsx(te,{padding:3,children:d.jsx(J,{align:"center",size:1,muted:!0,children:"No users found"})}):u.map(f)})]})}function Pot(n){const{onSelect:e,menuButton:r,value:i}=n,o=p.useRef(null);return d.jsx(Xa.div,{initial:{opacity:0},animate:{opacity:1},ref:o,children:d.jsx(Vr,{button:r,id:"assign-user-menu",menu:d.jsx(fgr,{children:d.jsx(mgr,{onSelect:e,value:i})}),popover:{placement:"bottom",portal:!0}})})}var VPe=Object.freeze,ggr=Object.defineProperty,vgr=(n,e)=>VPe(ggr(n,"raw",{value:VPe(e||n.slice())})),HPe;const ygr=F(ke)(n=>{const e=mt(n.theme);return Ae(HPe||(HPe=vgr([`
    &[data-as='button'] {
      border: 1px solid var(--card-border-color);
      &:focus-within {
        border: 1px solid var(--card-focus-ring-color);
      }
      --card-muted-fg-color: `,`;
    }
  `])),e.color.input.default.enabled.placeholder)});function bgr(n){const{value:e,onChange:r}=n,{mentionOptions:i}=lR(),o=p.useMemo(()=>{var l;return(l=i.data)==null?void 0:l.find(c=>c.id===e)},[i.data,e]),s=p.useCallback(l=>r(rn(l)),[r]),a=p.useMemo(()=>{if(e){if(i.loading)return d.jsx(ro,{animated:!0,style:{width:"10ch"}});if(o)return o.displayName||o.email;if(!o)return"User not found"}return"Search username"},[i.loading,o,e]);return d.jsx(Pot,{onSelect:s,value:e,menuButton:d.jsx(ygr,{"data-as":"button",padding:1,radius:2,tabIndex:0,children:d.jsxs(oe,{align:"center",gap:3,children:[d.jsxs(oe,{align:"center",gap:1,flex:1,children:[d.jsx(g2,{user:o,size:1,border:!1}),d.jsx(J,{size:1,textOverflow:"ellipsis",muted:!o,children:a})]}),e&&o&&!o.granted&&d.jsx(_u,{fontSize:1,mode:"outline",children:"Unauthorized"})]})})})}var WPe=Object.freeze,xgr=Object.defineProperty,wgr=(n,e)=>WPe(xgr(n,"raw",{value:WPe(e||n.slice())})),GPe;const _gr=F(ui)(GPe||(GPe=wgr([`
  padding: 3px 6px;
`])));function Egr(n){const{value:e,onChange:r,path:i}=n,o=YD(["subscribers"]),{mentionOptions:s}=lR(),a=p.useMemo(()=>{var u;return(u=s.data)==null?void 0:u.find(f=>f.id===e)},[s.data,e]),l=p.useCallback(u=>{r(rn(u,i)),o&&!o.includes(u)&&r(rn([...o,u],["subscribers"]))},[r,i,o]),c=p.useMemo(()=>{if(e){if(s.loading)return d.jsx(ro,{animated:!0,style:{width:"10ch"}});if(a)return a.displayName||a.email;if(!a)return"User not found"}return"Not assigned"},[s.loading,a,e]);return d.jsx(Pot,{onSelect:l,value:e,menuButton:d.jsx(_gr,{mode:"ghost",padding:0,children:d.jsxs(oe,{align:"center",gap:3,children:[d.jsxs(oe,{align:"center",gap:2,flex:1,children:[d.jsx(g2,{user:a,size:0}),d.jsx(te,{children:d.jsx(J,{size:1,textOverflow:"ellipsis",children:c})})]}),e&&a&&!a.granted&&d.jsx(_u,{fontSize:1,mode:"outline",children:"Unauthorized"})]})})})}const Cgr=n=>MS(n,Uy),Sgr=n=>V6(n,Uy);function kgr(n){var e;const{value:r,onChange:i,path:o}=n,{t:s}=me(),[a,l]=p.useState(!1),[c,u]=p.useState(null),f=p.useRef(null),h=cf({dateStyle:"long"}),m=p.useMemo(()=>{if(!r)return{short:"----",full:"----"};const C=h.format(new Date(r)),[S]=C.split(",");return{short:S,full:C}},[h,r]);ki(()=>l(!1),[c]);const g=p.useCallback(C=>{C.key==="Escape"&&l(!1)},[]),v=p.useCallback(()=>l(C=>!C),[]),y=p.useMemo(()=>Ste(s),[s]),b=p.useCallback(C=>{i(C?rn(Cgr(C),o):un(o)),l(!1)},[i,o]),x=Sgr(r),_=p.useCallback(()=>{var C;(C=f.current)==null||C.focus()},[f]),w=((e=x==null?void 0:x.date)==null?void 0:e.getFullYear())===new Date().getFullYear();return d.jsx(Ai,{constrainSize:!0,"data-testid":"date-input-dialog",portal:!0,ref:u,content:d.jsx(te,{overflow:"auto",children:d.jsxs(rv,{onDeactivation:_,children:[d.jsx(RHe,{calendarLabels:y,selectTime:!1,timeStep:1,onKeyUp:g,value:x.date,onChange:b}),r&&d.jsx(oe,{justify:"flex-start",padding:3,paddingTop:0,children:d.jsx(ze,{mode:"bleed",text:"Remove",onClick:()=>b(null),tone:"critical"})})]})}),open:a,placement:"bottom",fallbackPlacements:["bottom-start","bottom-end"],children:d.jsx(ze,{icon:Xd,mode:"ghost",text:w?m.short:m.full,onClick:v,ref:f})})}var qPe=Object.freeze,Tgr=Object.defineProperty,Agr=(n,e)=>qPe(Tgr(n,"raw",{value:qPe(e||n.slice())})),KPe;const Igr=F.div(n=>{const e=mt(n.theme),r=n.$mode==="edit"?e.space[1]:e.space[3];return Ae(KPe||(KPe=Agr([`
    /* select editable-wrap and change the padding */
    [data-ui='editable-wrap'] {
      overflow: hidden;
      padding: `,`;
      min-height: `,`px !important;
    }
    #comment-input-root {
      box-shadow: `,`;
    }
    [data-ui='CommentInputActions'] {
      display: none !important;
    }
  `])),n.$mode==="edit"?"".concat(r,"px 0px"):"".concat(r,"px ").concat(e.space[2],"px"),Math.max(n.$minHeight+r,200),n.$mode==="edit"?"none":"")});function Dgr(n){const{value:e,mode:r,inputProps:{onChange:i}}=n,o=e,s=ao(),{mentionOptions:a}=lR(),l=p.useCallback(g=>i(rn(g)),[i]),c=p.useRef(null),[u,f]=p.useState(200),h=p.useCallback(g=>{const v=g.querySelector('[role="textbox"]');if(!v)return;const y=v.scrollHeight;f(y)},[]),m=p.useCallback(g=>{g&&(h(g),c.current=g)},[h]);return p.useEffect(()=>{c.current&&h(c.current)},[o,h]),s?d.jsx(Igr,{$mode:r,ref:m,$minHeight:u||200,children:d.jsx(Ew,{expandOnFocus:!1,currentUser:s,mentionOptions:a,onChange:l,value:o??[],withAvatar:!1,placeholder:"Optional additional description",onDiscardConfirm:()=>null})}):null}var YPe=Object.freeze,Rgr=Object.defineProperty,Ogr=(n,e)=>YPe(Rgr(n,"raw",{value:YPe(e||n.slice())})),ZPe;const jot=F.div(n=>{const e=mt(n.theme);return Ae(ZPe||(ZPe=Ogr([`
    // Reset the padding of the field header content box
    [data-ui='fieldHeaderContentBox'] {
      padding: 0;
      label {
        font-weight: `,`;
      }
    }
  `])),e.font.text.weights.regular)});function XPe(n){return d.jsx(jot,{children:n.renderDefault(n)})}const Pgr=p.forwardRef(function(e,r){var i;const{value:o,options:s,...a}=e,l=s.find(u=>u.value===o),c=(i=cI.find(u=>u.value===o))==null?void 0:i.icon;return d.jsx(ze,{...a,ref:r,tooltipProps:null,icon:c,text:(l==null?void 0:l.title)||o,tone:"default",mode:"ghost"})});function jgr(n){const{value:e,onChange:r,options:i,path:o}=n;return d.jsx(Vr,{button:d.jsx(Pgr,{value:e,options:i}),id:"reference-menuButton",menu:d.jsx(_r,{children:i.map(s=>{var a;const l=e===s.value,c=(a=cI.find(u=>u.value===s.value))==null?void 0:a.icon;return d.jsx(Wt,{icon:ex(s.value)&&c||IC,text:s.title||s.value,pressed:l,iconRight:l&&d.jsx(ec,{}),onClick:()=>r(rn(s.value,o))},s.title)})})})}var QPe=Object.freeze,Lgr=Object.defineProperty,Ese=(n,e)=>QPe(Lgr(n,"raw",{value:QPe(e||n.slice())})),JPe,eje,tje;const $gr=F(ke)(n=>{const e=mt(n.theme);return Ae(JPe||(JPe=Ese([`
    &:focus {
      border: 1px solid var(--card-focus-ring-color);
    }
    &:focus-visible {
      outline: none;
      border: 1px solid var(--card-focus-ring-color);
    }
    &:hover {
      border-color: `,`;
    }
  `])),e.color.input.default.hovered.border)}),Mgr=F(J)(n=>{const e=mt(n.theme);return`
      color: `.concat(e.color.input.default.enabled.placeholder,`;
      margin-left: 3px;
  `)}),Fgr=F(ke)(eje||(eje=Ese([`
  position: relative;
  [data-ui='show-on-hover'] {
    opacity: 0;
    position: absolute;
    right: 6px;
    top: 4px;
    display: flex;
  }
  &:focus-within,
  &:hover {
    padding-right: 36px;
    /* Hides the preview status dot, the button will take it's position. */
    [data-testid='compact-preview__status'] {
      opacity: 0;
    }
    [data-ui='show-on-hover'] {
      transition: opacity 200ms;
      opacity: 1;
    }
  }
`]))),Ngr=F(Sf)(()=>Ae(tje||(tje=Ese([`
    text-decoration: none;
    width: 100%;
    overflow: hidden;
    cursor: pointer;
    &:focus {
      box-shadow: 0 0 0 1px var(--card-focus-ring-color);
    }
    &:focus-visible {
      outline: none;
      box-shadow: 0 0 0 1px var(--card-focus-ring-color);
    }
  `]))));function Bgr(n){const{value:e,handleRemove:r}=n,i=e.document._ref,o=e.documentType,a=Ar().get(e.documentType),l=yw(i),c=p.useMemo(()=>p.forwardRef(function(f,h){return d.jsx(Ngr,{...f,intent:"edit",params:{id:i,type:o},ref:h})}),[i,o]);return a?d.jsx(Fgr,{border:!0,radius:2,children:d.jsxs(oe,{gap:1,align:"center",justify:"space-between",children:[d.jsx(ke,{as:c,radius:2,"data-as":"button",children:d.jsx(Ptt,{documentId:e.document._ref,layout:"compact",presence:l,schemaType:a,showBadge:!1})}),d.jsx("div",{"data-ui":"show-on-hover",children:d.jsx(ze,{icon:Is,mode:"bleed",onClick:r,tooltipProps:{content:"Remove target content"}})})]})}):d.jsx(J,{children:"Schema not found"})}function Ugr(n){const[e,r]=p.useState(!1),{dataset:i,projectId:o}=pa(),{mode:s,inputProps:{onChange:a},value:l}=n,c=l,u=p.useCallback(v=>{a(rn(Eot({documentId:v._id,documentType:v._type,dataset:i,projectId:o})))},[i,o,a]),f=p.useCallback(()=>{a(un())},[a]),h=p.useCallback(()=>{r(!0)},[r]),m=p.useCallback(()=>{r(!1)},[r]),g=p.useCallback(v=>{(v.key==="Enter"||v.key===" ")&&r(!0)},[]);return d.jsx(ke,{borderBottom:s==="edit",paddingBottom:s==="edit"?4:0,children:d.jsx(jot,{children:d.jsx(zp,{zOffset:100,children:d.jsxs(bse,{children:[d.jsxs(Se,{space:2,children:[s==="create"&&d.jsx(te,{"data-ui":"fieldHeaderContentBox",children:d.jsx(Oie,{description:n.description,inputId:n.inputId,title:n.title,validation:n.validation,deprecated:void 0})}),c?d.jsx(Bgr,{value:c,handleRemove:f}):d.jsx($gr,{border:!0,radius:2,paddingX:2,paddingY:3,onClick:h,onKeyDown:g,tabIndex:0,children:d.jsxs(oe,{gap:1,justify:"flex-start",align:"center",children:[d.jsx(te,{paddingX:1,children:d.jsx(J,{size:1,children:d.jsx(gh,{})})}),d.jsx(Mgr,{size:1,children:"Search document"})]})})]}),d.jsx(Cnt,{children:d.jsx(_nt,{open:e,onClose:m,onOpen:h,onItemSelect:u,disableIntentLink:!0})})]})})})})}var nje=Object.freeze,zgr=Object.defineProperty,Vgr=(n,e)=>nje(zgr(n,"raw",{value:nje(e||n.slice())})),rje;const Hgr=F.div(n=>{const e=mt(n.theme);return`
      display: grid;
      grid-template-columns: 1fr;
      padding-top: `.concat(e.space[3],`px;
    `)}),Wgr=F.textarea(n=>{const{color:e,font:r}=mt(n.theme);return Ae(rje||(rje=Vgr([`
    resize: none;
    overflow: hidden;
    appearance: none;
    background: none;
    border: 0;
    padding: 0;
    border-radius: 0;
    outline: none;
    width: 100%;
    box-sizing: border-box;
    font-family: `,`;
    font-weight: `,`;
    font-size: `,`px;
    line-height: `,`px;
    margin: 0;
    position: relative;
    z-index: 1;
    display: block;
    transition: height 500ms;
    /* NOTE: This is a hack to disable Chrome’s autofill styles */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      -webkit-text-fill-color: var(--input-fg-color) !important;
      transition: background-color 5000s;
      transition-delay: 86400s /* 24h */;
    }

    color: `,`;

    &::placeholder {
      color: `,`;
    }
  `])),r.text.family,r.text.weights.semibold,r.text.sizes[3].fontSize,r.text.sizes[3].lineHeight,e.input.default.enabled.fg,e.input.default.enabled.placeholder)});function Lot(n){const{value:e,onChange:r,placeholder:i,path:o}=n,s=p.useRef(null);p.useEffect(()=>{s.current&&(s.current.style.height="auto",s.current.style.height="".concat(s.current.scrollHeight,"px"))},[e]);const a=p.useCallback(l=>{const c=l.currentTarget.value;return c||r(un(o)),r(rn(c.replace(/\n/g,""),o))},[r,o]);return d.jsx(Hgr,{children:d.jsx(Wgr,{ref:s,autoFocus:!e,value:e,placeholder:i,onChange:a,rows:1})})}function Ggr(n){const{value:e,inputProps:r}=n,{onChange:i,schemaType:o}=r;return d.jsx(Lot,{value:e,onChange:i,placeholder:o.placeholder})}function $ot(){const{client:n,createAddonDataset:e}=xB(),r=ao(),i=p.useCallback(async l=>{if(!r)throw new Error("No current user found. Unable to create task.");const c={...l,authorId:r.id,_type:"tasks.task"};if(!n)try{const u=await e();if(!u)throw new Error("No addon client found. Unable to create task.");return await u.create(c)}catch(u){throw u}try{return await n.create(c)}catch(u){throw u}},[n,e,r]),o=p.useCallback(async(l,c)=>{try{if(!n)throw new Error("No client. Unable to create task.");return await n.patch(l).set(c).commit()}catch(u){throw u}},[n]),s=p.useCallback(async l=>{try{if(!n)throw new Error("No client. Unable to create task.");await n.delete(l)}catch(c){throw c}},[n]);return p.useMemo(()=>({create:i,edit:o,remove:s}),[i,o,s])}function Mot(n){let{id:e,onError:r,onRemoved:i}=n;const[o,s]=p.useState("idle"),[a,l]=p.useState(!1),[c,u]=p.useState(null),f=$ot(),h=p.useCallback(async()=>{try{s("loading"),await f.remove(e),i==null||i(),s("idle"),await new Promise(v=>setTimeout(v,300)),l(!1)}catch(v){r==null||r(v.message),u(v.message),s("error")}finally{s("idle")}},[e,f,r,i]),m=p.useCallback(()=>{l(!0)},[l]),g=p.useCallback(()=>{l(!1)},[l]);return{removeStatus:o,showDialog:a,error:c,handleRemove:h,handleOpenDialog:m,handleCloseDialog:g}}const qgr=n=>{const e=n.subscribers||[];return o4(n.description).forEach(r=>{e.includes(r)||e.push(r)}),n.assignedTo&&(e.includes(n.assignedTo)||e.push(n.assignedTo)),e};function Kgr(n){const[e,r]=p.useState(!1),{setViewMode:i,setActiveTab:o,state:{viewMode:s}}=Ih(),a=da(),l=p.useCallback(()=>r(v=>!v),[]),{onChange:c}=n,u=n.value,f=p.useCallback(()=>{i({type:"list"})},[i]),{handleRemove:h,removeStatus:m}=Mot({id:u._id,onRemoved:f}),g=p.useCallback(()=>{if(!(u!=null&&u.title)){a.push({closable:!0,status:"error",title:"Title is required"});return}c([rn(qgr(u),["subscribers"]),rn(new Date().toISOString(),["createdByUser"])]),e?i({type:"create"}):o("subscribed"),a.push({closable:!0,status:"success",title:"Task created"})},[i,o,c,e,a,u]);return d.jsxs(d.Fragment,{children:[n.renderDefault(n),d.jsx(te,{paddingTop:5,children:d.jsxs(oe,{justify:"flex-end",paddingTop:1,gap:3,children:[d.jsxs(oe,{align:"center",gap:2,style:{flexGrow:s==="draft"?1:0},children:[d.jsx(fte,{onChange:l,checked:e}),d.jsx(J,{size:1,muted:!0,children:"Create more"})]}),s==="draft"&&d.jsx(ze,{text:"Discard",onClick:h,mode:"bleed",disabled:m==="loading",loading:m==="loading"}),d.jsx(ze,{text:"Create Task",onClick:g})]})})]})}function Ygr(n){const{handleCloseDialog:e,handleRemove:r,removeStatus:i,showDialog:o}=n;return o?d.jsx(ja,{id:"remove-task",header:"Remove task",onClose:e,footer:{cancelButton:{text:"Cancel",onClick:e},confirmButton:{text:"Remove",tone:"critical",onClick:r,loading:i==="loading"}},children:d.jsxs(Se,{space:3,children:[d.jsx(J,{as:"p",children:"Are you sure you want to delete this task?"}),d.jsx(J,{as:"p",children:"Once deleted, it cannot be restored."})]})}):null}var ije=Object.freeze,Zgr=Object.defineProperty,Xgr=(n,e)=>ije(Zgr(n,"raw",{value:ije(e||n.slice())})),oje;const Qgr=F(oe)(n=>{const e=mt(n.theme);return Ae(oje||(oje=Xgr([`
    column-gap: `,`px;
    row-gap: `,`px;
  `])),e.space[2],e.space[3])});function Jgr(n){let{id:e,value:r}=n;const{setViewMode:i,handleCopyLinkToTask:o}=Ih(),s=p.useCallback(()=>{i({type:"list"})},[i]),a=Mot({id:e,onRemoved:s}),l=p.useCallback(()=>{i({type:"duplicate",duplicateTaskValues:r})},[i,r]);return d.jsxs(d.Fragment,{children:[d.jsx(te,{paddingTop:3,children:d.jsx(Vr,{id:"edit-task-menu",button:d.jsx(ha,{}),popover:{placement:"bottom",fallbackPlacements:["bottom-end","bottom-start"]},menu:d.jsxs(_r,{children:[d.jsx(Wt,{text:"Duplicate task",icon:Np,onClick:l}),d.jsx(Wt,{text:"Copy link to task",icon:ff,onClick:o}),d.jsx(Io,{}),d.jsx(Wt,{text:"Delete task",icon:vs,onClick:a.handleOpenDialog,tone:"critical"})]})})}),d.jsx(Ygr,{...a})]})}function evr(n){var e,r,i,o,s,a;const l=n.schemaType.fields.find(h=>h.name==="status"),c=n.value,u=ao(),f=p.useCallback(h=>{const m=c.subscribers||[];n.onChange(h),u&&(m.includes(u.id)||n.onChange(rn([...m,u.id],["subscribers"])))},[u,n,c.subscribers]);if(!l)throw new Error("Status field not found");return(e=n.value)!=null&&e._id?d.jsxs(d.Fragment,{children:[d.jsxs(oe,{align:"flex-start",gap:3,children:[d.jsx("div",{style:{flex:1},children:d.jsx(Lot,{onChange:f,value:(r=n.value)==null?void 0:r.title,path:["title"],placeholder:"Task title"})}),d.jsx(Jgr,{id:(i=n.value)==null?void 0:i._id,value:c})]}),d.jsx(ke,{borderTop:!0,marginTop:3,children:d.jsxs(Qgr,{paddingBottom:3,paddingTop:4,align:"flex-start",justify:"flex-start",wrap:"wrap",children:[d.jsx(jgr,{value:(o=n.value)==null?void 0:o.status,path:["status"],onChange:f,options:l.type.options.list}),d.jsx(Egr,{value:(s=n.value)==null?void 0:s.assignedTo,onChange:f,path:["assignedTo"]}),d.jsx(kgr,{value:(a=n.value)==null?void 0:a.dueBy,onChange:f,path:["dueBy"]})]})}),n.renderDefault(n),d.jsx(Wrt,{documentId:c._id,documentType:"tasks.task",sortOrder:"asc",type:"task",children:d.jsx(ke,{borderTop:!0,paddingTop:4,marginTop:4,children:d.jsx(Gmr,{value:c,onChange:n.onChange,path:["subscribers"]})})})]}):d.jsx(Zr,{})}function tvr(n){const e=n.value,r=ao(),i=p.useCallback(o=>{if(!r||o.some(u=>u.path[0]==="subscribers"))return o;const s=e.subscribers||[],a=[...s],l=o.find(u=>u.path[0]==="assignedTo");l&&l.type==="set"&&typeof l.value=="string"&&!a.includes(l.value)&&a.push(l.value),a.includes(r.id)||a.push(r.id);const c=o.find(u=>u.path[0]==="description"&&u.type==="set");if(c){const u=o4(e.description),f=c.type==="set"?c.value:void 0;o4(f).filter(g=>!u.includes(g)).forEach(g=>{a.includes(g)||a.push(g)})}return a.length!==s.length&&o.push(rn(a,["subscribers"])),o},[r,e.subscribers,e.description]);return d.jsx(nnr,{transform:i,children:d.jsx(evr,{...n})})}function nvr(n){var e,r,i;const{inputProps:o}=n,{onChange:s}=o,{target:a,_id:l,context:c}=YD([]),{title:u,basePath:f}=pa(),h=Jr(Dr),m=p.useMemo(()=>kD(h),[h]),g=(r=(e=a==null?void 0:a.document)==null?void 0:e._ref)!=null?r:"",v=(i=a==null?void 0:a.documentType)!=null?i:"",{isLoading:y,value:b}=xse({documentId:g,documentType:v}),x=(b==null?void 0:b.title)||null,_=tC(b==null?void 0:b.media)?m.image(b.media).width(96).height(96).url():null;return p.useEffect(()=>{if(g&&v&&y)return;const w=new URL("".concat(window.location.origin).concat(f,"/"));w.searchParams.set("sidebar","tasks"),w.searchParams.set("selectedTask",l),w.searchParams.set("viewMode","edit");const C={url:w.toString(),workspaceTitle:u,targetContentImageUrl:_,targetContentTitle:x};B4(C,c==null?void 0:c.notification)||s(rn(C,["notification"]))},[l,f,u,g,v,y,x,_,s,c]),null}function rvr(n){return d.jsx(bse,{children:d.jsx(nvr,{...n})})}const sje=n=>Na({type:"object",name:"target",title:"Target content",components:{field:e=>d.jsx(Ugr,{...e,mode:n})},fields:[{name:"document",type:"crossDatasetReference",dataset:"playground",weak:!0,studioUrl:e=>{let{id:r,type:i}=e;return"intent/edit/id=".concat(r,";type=").concat(i,"/")},to:[{type:"any_document",preview:{select:{title:"title"}}}]},{name:"documentType",type:"string",title:"Document type"}]}),aje=n=>Na({type:"array",name:"description",title:"Description",components:{field:e=>d.jsx(Dgr,{...e,mode:n})},of:[{type:"block",name:"block",of:[{name:"mention",type:"object",fields:[{name:"userId",type:"string"}]}],marks:{annotations:[]},styles:[{title:"Normal",value:"normal"}],lists:[]}]}),ivr=n=>wQ({type:"document",name:"tasks.task",liveEdit:!0,components:{input:n==="edit"?tvr:Kgr},fields:[{type:"string",title:"Title",name:"title",placeholder:"Task title",components:{field:Ggr},hidden:n==="edit"},...n==="edit"?[sje(n),aje(n)]:[aje(n),sje(n)],{type:"string",name:"assignedTo",title:"Assigned to",placeholder:"Search username",components:{field:XPe,input:bgr},hidden:n==="edit"},{type:"date",name:"dueBy",title:"Deadline",placeholder:"Select date",components:{field:XPe},hidden:n==="edit"},{type:"string",name:"authorId",hidden:!0},{type:"string",name:"createdByUser",hidden:!0},{type:"array",of:[{type:"string"}],name:"subscribers",hidden:!0},{type:"string",name:"status",title:"Status",options:{list:cI.map(e=>({value:e.value,title:e.title}))},hidden:!0},{type:"object",name:"context",components:{field:rvr},fields:[{type:"object",name:"notification",fields:[{type:"string",name:"url"},{type:"string",name:"workspaceTitle"},{type:"string",name:"targetContentImageUrl"},{type:"string",name:"targetContentTitle"}]}]}]});function ovr(n){let{children:e,mode:r,addonDataset:i}=n;const s=Jr({apiVersion:_ot}).config().apiHost,a="",l=xi(),c=p.useMemo(()=>({basePath:a,dataset:i,name:"addon-dataset-".concat(i),projectId:l.projectId,apiHost:s,schema:{types:[ivr(r)]}}),[l.projectId,r,s,i,a]),{workspaces:u}=p.useMemo(()=>Ktt(c,{basePath:a}),[c,a]),f=Ynt(u[0]);return f?d.jsx(gJe,{workspace:f,children:d.jsx(lB,{source:f.unstable_sources[0],children:d.jsx(vtt,{children:e})})}):null}function svr(n){const{client:e,ready:r,createAddonDataset:i}=xB(),o=e==null?void 0:e.config().dataset;return p.useEffect(()=>{!o&&r&&i()},[o,r,i]),o?d.jsx(ovr,{...n,addonDataset:o}):d.jsx(Zr,{})}function avr(n){const{documentType:e="tasks.task",documentId:r,initialValue:i={}}=n,s=Ar().get(e);if(!s)throw new Error("Schema type for '".concat(e,"' not found"));const{validation:a}=_B(r,e),l=Ga(a),[c,u]=p.useState([]),[f,h]=p.useState([]),[m,g]=p.useState(),[v,y]=p.useState(),[b,x]=p.useState(),[_]=p.useState([]),w=p.useCallback(z=>{u(z)},[u]),C=p.useCallback(()=>{u([])},[]),S=p.useCallback((z,B)=>{g(H=>mp(H,z,B))},[]),T=p.useCallback((z,B)=>{y(H=>mp(H,z,B))},[]),A=p.useCallback((z,B)=>x(H=>mp(H,z,B)),[]),{patch:I}=If(r,e),D=p.useRef(()=>{throw new Error("Nope")});D.current=z=>{I.execute(Srt(z.patches),i)};const R=p.useCallback(z=>D.current(z),[]),P=hrt(r,e),O=wB(r,e),$=(O==null?void 0:O.draft)||(O==null?void 0:O.published)||i,L=xrt(s,{value:$,comparisonValue:$,readOnly:!1,changesOpen:!1,presence:_,focusPath:c,openPath:f,collapsedPaths:m,collapsedFieldSets:v,fieldGroupState:b,validation:l}),M=O.ready&&P==="connected",N=p.useMemo(()=>urt(),[]);return L===null||!M?{loading:!0}:{id:"root",onChange:R,__internal_patchChannel:N,__internal_fieldActions:void 0,onPathFocus:w,onPathOpen:h,onPathBlur:C,onFieldGroupSelect:A,onSetFieldSetCollapsed:T,onSetPathCollapsed:S,collapsedPaths:m,collapsedFieldSets:v,focusPath:L.focusPath,changed:L.changed,focused:L.focused,groups:L.groups,validation:L.validation,members:L.members,presence:L.presence,schemaType:s,value:L.value}}const lvr=F.div(n=>{const e=mt(n.theme);return`
    // Update spacing for the form builder
    & > [data-ui='Stack'] {
      grid-gap: `.concat(Je(e.space[4]),`;
    }
`)}),cvr=n=>{let{documentId:e,initialValue:r}=n;var i,o;const s=avr({documentType:"tasks.task",documentId:e,initialValue:r}),{setSelectedDocument:a}=lR(),l=s.loading||(i=s.value)==null?void 0:i.target,c=(o=l==null?void 0:l.document)==null?void 0:o._ref,u=l==null?void 0:l.documentType;return p.useEffect(()=>{a(c&&u?{_id:c,_type:u}:null)},[c,u,a]),d.jsx(qrt,{documentId:"",documentType:"",children:d.jsx(te,{paddingX:4,children:s.loading?d.jsx(Zr,{showText:!0}):d.jsx(lvr,{id:"wrapper",children:d.jsx(drt,{...s})})})})};function uvr(){const n=ao(),{activeDocument:e}=v2(),{dataset:r,projectId:i}=pa(),{state:{selectedTask:o,viewMode:s,duplicateTaskValues:a}}=Ih(),l=p.useMemo(()=>{if(n&&o){if(s==="duplicate")return{...a,title:"".concat(a==null?void 0:a.title," (copy)"),createdByUser:void 0,_id:o,_type:"tasks.task",authorId:n.id,status:"open"};if(s==="create")return{_id:o,_type:"tasks.task",authorId:n.id,status:"open",subscribers:[n.id],target:e?Eot({documentId:e.documentId,documentType:e.documentType,dataset:r,projectId:i}):void 0}}},[e,n,r,a,i,o,s]);return n?o?d.jsx(Kmr,{children:d.jsx(svr,{mode:s==="edit"?"edit":"create",children:d.jsx(cvr,{documentId:o,currentUser:n,initialValue:l})})}):null:d.jsx(Zr,{showText:!0,title:"Loading current user"})}const dvr=F(Sf)(n=>{const e=mt(n.theme);return`
  text-decoration: underline;
  text-decoration-color: `.concat(e.color.input.default.enabled.border,`;
  text-underline-offset: 2px;
`)});function fvr(n){let{documentId:e,documentType:r}=n;const o=Ar().get(r),{isLoading:s,value:a}=xse({documentId:e,documentType:r}),l=p.useMemo(()=>p.forwardRef(function(u,f){return d.jsx(dvr,{...u,intent:"edit",params:{id:e,type:r},ref:f})}),[e,r]);return o?d.jsxs(oe,{align:"center",gap:2,children:[d.jsx(J,{size:1,children:d.jsx(gh,{})}),s?d.jsx(ro,{size:1,muted:!0}):d.jsx(J,{size:1,as:l,weight:"medium",children:(a==null?void 0:a.title)||"Untitled"})]}):null}function hvr(n){const e=$ot(),{documentId:r,status:i}=n,[o,s]=p.useState(i==="closed"),[a,l]=p.useState(!1),c=p.useCallback(async u=>{const f=u.target.checked;s(f),l(!0);try{f?await e.edit(r,{status:"closed"}):f||await e.edit(r,{status:"open"})}catch(h){console.error("An error occurred while updating the task status",h)}finally{l(!1)}},[r,e]);return d.jsx(oe,{children:a?d.jsx("div",{style:{height:"17px",width:"17px"},children:d.jsx(Qx,{style:{marginLeft:"3.5px",marginRight:"3.5px",marginTop:"3.5px"}})}):d.jsx(m6,{onChange:c,checked:o,disabled:a})})}var lje=Object.freeze,pvr=Object.defineProperty,Cse=(n,e)=>lje(pvr(n,"raw",{value:lje(e||n.slice())})),cje,uje,dje;const mvr=F(ui)(cje||(cje=Cse([`
  &:hover {
    text-decoration: underline;
    background-color: transparent;
  }
`]))),gvr=F(oe)(uje||(uje=Cse([`
  /* Checkbox width is 17px and first row gap is 12px. */
  margin-left: 29px;
`]))),vvr=F.div(dje||(dje=Cse([`
  margin-left: auto;
  display: flex;
  align-items: center;
`])));function yvr(n){var e;if((e=n==null?void 0:n.document)!=null&&e._ref)return{_ref:n==null?void 0:n.document._ref,_type:n==null?void 0:n.documentType}}function bvr(n){let{dueBy:e}=n;const r=cf({dateStyle:"medium"}),i=cf({month:"short",day:"numeric"}),o=cf({weekday:"long"}),s=p.useMemo(()=>{const h=new Date(e);return{fullDate:r.format(h),monthAndDay:i.format(h),day:o.format(h),isDueByToday:wWt(h),isDueThisWeek:xWt(h)}},[o,e,r,i]),{fullDate:a,monthAndDay:l,day:c,isDueByToday:u,isDueThisWeek:f}=s;return d.jsx(zn,{content:a,children:d.jsx(ke,{tone:u?"critical":"transparent",padding:1,radius:2,children:d.jsx(oe,{align:"center",gap:2,children:d.jsx(J,{as:"time",size:1,dateTime:e,muted:!0,children:u?"Today":f?c:l})})})})}function xvr(n){let{assignedTo:e,title:r,dueBy:i,target:o,onSelect:s,documentId:a,status:l}=n;const c=p.useMemo(()=>yvr(o),[o]);return d.jsx(ke,{sizing:"border",paddingBottom:3,borderBottom:!0,children:d.jsxs(Se,{space:2,paddingY:1,children:[d.jsxs(oe,{align:"center",paddingY:1,gap:3,children:[d.jsx(hvr,{documentId:a,status:l}),d.jsx(mvr,{mode:"bleed",padding:0,onClick:s,children:d.jsx(J,{size:1,weight:"semibold",children:r||"Untitled"})}),d.jsx(vvr,{children:d.jsx(g2,{user:e?{id:e}:void 0})})]}),(i||c)&&d.jsxs(gvr,{align:"center",gap:2,paddingY:1,paddingX:0,children:[i&&d.jsx(bvr,{dueBy:i}),c&&d.jsx(te,{marginLeft:1,children:d.jsx(fvr,{documentId:c._ref,documentType:c._type})})]})]})})}var fje=Object.freeze,wvr=Object.defineProperty,Sse=(n,e)=>fje(wvr(n,"raw",{value:fje(e||n.slice())})),hje,pje,mje;const _vr=[{name:"open",label:"To Do"},{name:"closed",label:"Done"}],Evr=n=>{const e=_vr.find(r=>r.name===n);return e==null?void 0:e.label},Cvr=F(te)(hje||(hje=Sse([`
  max-height: calc(100% - 140px);
  overflow-y: auto;
  // Hide scrollbar
  scrollbar-width: none;
`]))),Svr=F.details(pje||(pje=Sse([`
  [data-ui='summary-icon'] {
    transition: transform 0.2s;
    transform: rotate(-90deg);
  }
  &[open] [data-ui='summary-icon'] {
    transform: rotate(0);
  }
`]))),kvr=F.summary(mje||(mje=Sse([`
  list-style: none;
  ::-webkit-details-marker {
    display: none;
  }
`])));function Tvr(n){var e,r;const{items:i,onTaskSelect:o}=n,s=p.useMemo(()=>i.reduce((u,f)=>(u[f.status]||(u[f.status]=[]),u[f.status].push(f),u),{}),[i]),a=p.useCallback(u=>{const f=s[u]||[];return f.length===0?null:d.jsxs(Svr,{open:u==="open",children:[d.jsx(kvr,{children:d.jsxs(oe,{align:"center",gap:1,paddingY:1,children:[d.jsx(J,{size:1,weight:"medium",muted:!0,children:Evr(u)}),d.jsx(J,{muted:!0,size:1,children:d.jsx(qs,{"data-ui":"summary-icon"})})]})}),d.jsx(Se,{space:3,marginTop:3,paddingBottom:5,children:f.map(h=>d.jsx(xvr,{documentId:h._id,title:h.title,dueBy:h.dueBy,assignedTo:h.assignedTo,target:h.target,onSelect:()=>o(h._id),status:h.status},h._id))})]})},[o,s]),l=((e=s.open)==null?void 0:e.length)>0,c=((r=s.closed)==null?void 0:r.length)>0;return d.jsx(Cvr,{paddingX:3,paddingY:4,children:d.jsx(Se,{space:4,paddingTop:2,paddingX:1,children:!l&&!c?d.jsx(te,{paddingX:2,children:d.jsx(J,{as:"p",size:1,muted:!0,children:"No tasks"})}):d.jsxs(d.Fragment,{children:[a("open"),a("closed")]})})})}const Avr={marginLeft:"-0.5em",justifyContent:"space-between",display:"flex"};function Ivr(n){let{activeTabId:e,onChange:r}=n;const{activeDocument:i}=v2(),o=i==null?void 0:i.documentId,[s,a]=p.useState(!o);p.useEffect(()=>{let u=null;return!o&&!s&&(u=setTimeout(()=>{a(!0),r("assigned")},1e3)),s&&o&&a(!1),()=>{u&&clearTimeout(u)}},[o,s,r]);const l=p.useMemo(()=>[{id:"assigned",label:"Assigned"},{id:"subscribed",label:"Subscribed"},{id:"document",label:"Open Document",isDisabled:s}],[s]),c=p.useCallback(u=>{u.isDisabled||r(u.id)},[r]);return d.jsx(y6,{space:2,style:Avr,children:l.map(u=>d.jsx(E5,{"aria-controls":"".concat(u.id,"-panel"),id:"".concat(u.id,"-tab"),onClick:()=>c(u),disabled:u==null?void 0:u.isDisabled,selected:u.id===e,children:d.jsx(J,{size:1,weight:"medium",children:u.label})},"".concat(u.id,"-tab")))})}function Dvr(n){let{items:e,onTaskSelect:r,activeTabId:i,setActiveTabId:o}=n;return d.jsxs(d.Fragment,{children:[d.jsx(ke,{paddingX:3,paddingY:2,borderBottom:!0,children:d.jsx(Ivr,{activeTabId:i,onChange:o})}),d.jsx(Tvr,{items:e,onTaskSelect:r})]})}const Rvr=F.div(n=>{const e=mt(n.theme);return`
    height: 25px;
    width: 1px;
    background-color: `.concat(e.color.input.default.enabled.border,`;
  `)});function Ovr(n){const{items:e}=n,{state:r,setViewMode:i}=Ih(),{selectedTask:o}=r,s=e.filter(u=>u.status==="open"),a=s.findIndex(u=>u._id===o),l=p.useCallback(()=>{const u=a>0?s[a-1]._id:s[s.length-1]._id;i({type:"edit",id:u})},[a,s,i]),c=p.useCallback(()=>{const u=a<s.length-1?s[a+1]._id:s[0]._id;i({type:"edit",id:u})},[a,s,i]);return s.length?d.jsx(xu,{children:d.jsxs(oe,{gap:1,align:"center",children:[d.jsx(ze,{tooltipProps:{content:"Go to previous task"},mode:"bleed",icon:k8,onClick:l}),d.jsx(zn,{content:"Open tasks",children:d.jsx(te,{paddingY:2,children:d.jsxs(J,{size:1,children:[a+1," / ",s.length]})})}),d.jsx(ze,{tooltipProps:{content:"Go to next task"},mode:"bleed",icon:Ch,onClick:c}),d.jsx(Rvr,{})]})}):null}function Pvr(){const{data:n}=v2(),{state:e,setViewMode:r}=Ih(),{viewMode:i,selectedTask:o}=e,s=ao(),a=p.useMemo(()=>s!=null&&s.id?n.filter(c=>{const u=c.authorId===s.id,f=!c.createdByUser,h=i==="create"?c._id!==o:!0;return u&&f&&h}):[],[n,o,s==null?void 0:s.id,i]),l=p.useCallback(c=>{const u=()=>{r({type:"draft",id:c._id})},f=c.title||"Untitled",h=o===c._id?"(editing) ".concat(f):f;return d.jsx(Wt,{text:h,onClick:u},c._id)},[r,o]);return a.length?d.jsx(Vr,{id:"edit-task-menu",button:d.jsx(ze,{text:"Drafts",mode:"ghost",iconRight:qs}),popover:{placement:"bottom-end",portal:!0},menu:d.jsxs(_r,{children:[d.jsxs(oe,{padding:3,gap:2,align:"flex-end",children:[d.jsx(J,{size:1,weight:"semibold",children:"Drafts"}),d.jsx(J,{size:0,muted:!0,children:"continue working on your drafts"})]}),d.jsx(Io,{}),a.map(l)]})}):null}function jvr(n){const{items:e}=n,{state:r,setViewMode:i,handleCloseTasks:o}=Ih(),{viewMode:s,activeTabId:a}=r,l=p.useCallback(()=>{i({type:"create"})},[i]),c=p.useCallback(()=>{i({type:"list"})},[i]);return d.jsx(te,{padding:2,children:d.jsxs(oe,{padding:1,justify:"space-between",align:"center",gap:1,children:[d.jsxs(oe,{align:"center",flex:1,children:[s==="list"?d.jsx(te,{padding:2,children:d.jsx(J,{size:2,weight:"semibold",children:"Tasks"})}):d.jsxs(d.Fragment,{children:[d.jsx(ui,{mode:"bleed",space:2,padding:2,onClick:c,children:d.jsx(J,{size:1,children:"Tasks"})}),d.jsx(Ch,{}),d.jsx(te,{paddingX:2,children:d.jsx(J,{size:1,weight:"semibold",style:{textTransform:"capitalize"},children:s==="create"||s==="draft"?"Create":a})})]}),d.jsx(crt,{marginLeft:2})]}),(s==="create"||s==="draft")&&d.jsx(Pvr,{}),s==="edit"&&d.jsx(Ovr,{items:e}),d.jsxs(oe,{gap:1,children:[s==="list"&&d.jsx(ze,{icon:Ta,onClick:l,mode:"bleed",text:"New task"}),d.jsx(ze,{tooltipProps:{content:"Close sidebar"},iconRight:Is,mode:"bleed",onClick:o})]})]})})}var gje=Object.freeze,Lvr=Object.defineProperty,Fot=(n,e)=>gje(Lvr(n,"raw",{value:gje(e||n.slice())})),vje,yje;const $vr=F(ke)(vje||(vje=Fot([`
  flex: 1;
`]))),Mvr=F.div(yje||(yje=Fot([`
  max-height: calc(100% - 52px);
  overflow: scroll;
`])));function Fvr(){const{activeDocument:n,data:e,isLoading:r}=v2(),{state:i,setActiveTab:o,setViewMode:s}=Ih(),{activeTabId:a,viewMode:l,selectedTask:c}=i,u=ao(),f=p.useCallback(m=>s({type:"edit",id:m}),[s]),h=p.useMemo(()=>e.filter(m=>{var g,v;return m.createdByUser?a==="assigned"?m.assignedTo===(u==null?void 0:u.id):a==="subscribed"?(u==null?void 0:u.id)&&((g=m.subscribers)==null?void 0:g.includes(u.id)):a==="document"?(n==null?void 0:n.documentId)&&((v=m.target)==null?void 0:v.document._ref)===n.documentId:!1:!1}),[n==null?void 0:n.documentId,a,e,u]);return d.jsxs($vr,{height:"fill",flex:1,children:[d.jsx(jvr,{items:h}),d.jsx(Mvr,{children:l==="list"?d.jsx(d.Fragment,{children:r?d.jsx(te,{padding:3,children:d.jsx(oe,{align:"center",justify:"center",children:d.jsx(Qx,{})})}):d.jsx(Dvr,{items:h,onTaskSelect:f,setActiveTabId:o,activeTabId:a})}):d.jsx(uvr,{},c)})]})}function Nvr(){const{enabled:n}=Sw();return n?d.jsx(Fvr,{}):null}function Bvr(){const{handleOpenTasks:n,setViewMode:e}=Ih(),{enabled:r}=Sw(),i=p.useCallback(()=>{n(),e({type:"create"})},[n,e]);return r?{icon:P8,label:"Create new task",title:"Create new task",group:["paneActions"],onHandle:i}:null}function Uvr(n){const{documentId:e,documentType:r}=n,{isLast:i}=cv(),{setActiveDocument:o}=v2();return p.useEffect(()=>(e&&i&&r&&(o==null||o({documentId:di(e),documentType:r})),()=>{i&&(o==null||o(null))}),[e,r,i,o]),null}function zvr(n){const{enabled:e}=Sw();return e?d.jsx(Uvr,{...n}):null}function Vvr(n){var e,r;const i=(e=n.value)==null?void 0:e._id,o=(r=n.value)==null?void 0:r._type;return d.jsxs(d.Fragment,{children:[d.jsx(zvr,{documentId:i,documentType:o}),n.renderDefault(n)]})}var bje=Object.freeze,Hvr=Object.defineProperty,Wvr=(n,e)=>bje(Hvr(n,"raw",{value:bje(e||n.slice())})),xje;const Gvr=F.div(xje||(xje=Wvr([`
  position: relative;
  [data-ui='Badge'] {
    position: absolute;
    top: -2px;
    right: -2px;
  }
`])));function qvr(){const{data:n,activeDocument:e}=v2(),{handleOpenTasks:r,setActiveTab:i}=Ih(),{enabled:o}=Sw(),s=Xx(),a=p.useMemo(()=>n.filter(u=>{var f;return((f=u.target)==null?void 0:f.document._ref)===(e==null?void 0:e.documentId)&&u.status==="open"&&u.createdByUser}),[e,n]),l=p.useCallback(()=>{r(),i("document")},[r,i]);if(a.length===0||!o)return null;const c="task".concat(a.length>1?"s":"");return s<3?d.jsxs(Gvr,{children:[d.jsx(ze,{mode:"bleed",icon:P8,size:"large",onClick:l,tooltipProps:{content:"Open ".concat(c)}}),d.jsx(_u,{tone:"primary",fontSize:0,children:a.length})]}):d.jsx(ze,{mode:"bleed",tooltipProps:{content:"Open ".concat(c)},text:"".concat(a.length," open ").concat(c),onClick:l})}var wje=Object.freeze,Kvr=Object.defineProperty,Not=(n,e)=>wje(Kvr(n,"raw",{value:wje(e||n.slice())})),_je,Eje;const Yvr={hidden:{opacity:0},visible:{opacity:1}},Zvr={duration:.2},Bot=1,Uot=2,Xvr=F(oe)(n=>{let{theme:e}=n;const r=e.sanity.media;return Ae(_je||(_je=Not([`
    min-height: 100%;

    @media (max-width: `,`px) {
      position: relative;
    }
  `])),r[Uot])}),Qvr=F(Xa(Cu))(n=>{let{theme:e}=n;const r=e.sanity.media;return Ae(Eje||(Eje=Not([`
    display: flex;
    flex-direction: column;
    height: 100%;
    width: 360px;
    border-left: 1px solid var(--card-border-color);
    box-sizing: border-box;

    box-shadow:
      0px 6px 8px -4px var(--card-shadow-umbra-color),
      0px 12px 17px -1px var(--card-shadow-penumbra-color);

    @media (max-width: `,`px) {
      bottom: 0;
      position: absolute;
      right: 0;
      top: 0;
    }

    @media (max-width: `,`px) {
      border-left: 0;
      min-width: 100%;
      left: 0;
    }
  `])),r[Uot],r[Bot])});function Jvr(n){const e=Xx(),{state:{isOpen:r}}=Ih(),i=e<=Bot&&r;return d.jsxs(Xvr,{sizing:"border",height:"fill",children:[d.jsx(te,{flex:1,height:"fill",overflow:i?"hidden":"auto",children:n.renderDefault(n)}),d.jsx(Zp,{initial:!1,children:r&&d.jsx(Qvr,{animate:"visible",height:"fill",initial:"hidden",transition:Zvr,variants:Yvr,children:d.jsx(Nvr,{})})})]})}function e0r(n){const{enabled:e}=Sw();return e?d.jsx(Jvr,{...n}):n.renderDefault(n)}const t0r=n=>{const{enabled:e}=Sw();return e?d.jsx(frt,{children:d.jsx(lgr,{children:d.jsx(Zmr,{children:n.renderDefault(n)})})}):n.renderDefault(n)};function n0r(n){return d.jsx(qmr,{children:d.jsx(t0r,{...n})})}const r0r=[];function i0r(n){const{handleCloseTasks:e,handleOpenTasks:r,state:{isOpen:i}}=Ih(),o=p.useCallback(()=>{i?e():r()},[e,r,i]),s=p.useMemo(()=>[...(n==null?void 0:n.__internal_actions)||r0r,{icon:fBe,location:"topbar",name:"tasks-topbar",onAction:o,selected:i,title:"Tasks"},{icon:P8,location:"sidebar",name:"tasks-sidebar",onAction:o,selected:i,title:"Tasks"}],[o,i,n==null?void 0:n.__internal_actions]);return n.renderDefault({...n,__internal_actions:s})}function o0r(n){const{enabled:e}=Sw();return e?d.jsx(i0r,{...n}):n.renderDefault(n)}const s0r=rR({name:"sanity/tasks",__internal_tasks:{footerAction:d.jsx(qvr,{})},document:{actions:n=>[...n,Bvr].filter(Boolean)},studio:{components:{layout:n0r,navbar:o0r,activeToolLayout:e0r}},form:{components:{input:n=>{var e;return n.id==="root"&&((e=n.schemaType.type)==null?void 0:e.name)==="document"?d.jsx(Vvr,{...n}):n.renderDefault(n)}}}}),a0r=n=>{const{liveEdit:e}=n;return e?{label:"Live",color:"danger"}:null},zot={activePanes:[]};function wLr(n){zot.activePanes=n}function l0r(n,e,r,i){var o;const s=(r==null?void 0:r.panes)||[],a=zot.activePanes||[],l=e.id||Ia(),c=n==="create"&&e.template;for(let u=a.length-1;u>=0;u--){const f=a[u];if(typeof f=="object"&&((o=f.canHandleIntent)!=null&&o.call(f,n,e,{pane:f,index:u})||f.type==="documentList"&&f.schemaTypeName===e.type&&f.options.filter==="_type == $type")){const h=c?{template:e.template}:Iit;return{panes:s.slice(0,u).concat([[{id:l,params:h,payload:i}]])}}}return{intent:n,params:e,payload:i}}function c0r(n){const e=new Map;return TN(n,r=>{if(r.action==="unchanged"||!("annotation"in r)||!r.annotation)return!0;const{author:i,timestamp:o}=r.annotation,s=e.get(i);return(!s||s.timestamp<o)&&e.set(i,r.annotation),!0}),Array.from(e.values()).sort((r,i)=>r.timestamp<i.timestamp?1:-1)}var Cje=Object.freeze,u0r=Object.defineProperty,d0r=(n,e)=>Cje(u0r(n,"raw",{value:Cje(e||n.slice())})),Sje;const f0r=F(_N)(Sje||(Sje=d0r([`
  height: 100%;
  overflow: auto;
  position: relative;
  scroll-behavior: smooth;
`])));function h0r(n){const{onClose:e}=n,{documentId:r,schemaType:i,timelineError:o,timelineStore:s,value:a}=go(),l=p.useRef(null),c=wa(s,x=>x.diff),u=wa(s,x=>x.onOlderRevision),f=wa(s,x=>x.selectionState),h=wa(s,x=>x.sinceTime),m=f==="loading",g=!u,{t:v}=me("studio"),y=p.useMemo(()=>({documentId:r,schemaType:i,FieldWrapper:rnr,rootDiff:c,isComparingCurrent:g,value:a}),[r,c,g,i,a]),b=p.useMemo(()=>c?c0r(c):[],[c]);return d.jsxs(oe,{"data-testid":"review-changes-pane",direction:"column",height:"fill",overflow:"hidden",children:[d.jsx(Mit,{as:"header",closeButtonLabel:v("changes.action.close-label"),flex:"none",onClose:e,title:v("changes.title"),children:d.jsxs(oe,{gap:1,padding:3,paddingTop:0,paddingBottom:2,children:[d.jsx(te,{flex:1,children:d.jsx(Wit,{mode:"since",chunk:h,placement:"bottom-start"})}),d.jsx(te,{flex:"none",children:d.jsx(wc,{annotations:b,description:v("changes.changes-by-author"),portal:!0,children:d.jsx(p6,{maxLength:4,"aria-label":v("changes.changes-by-author"),children:b.map(x=>{let{author:_}=x;return d.jsx(gf,{user:_},_)})})})})]})}),d.jsx(ke,{flex:1,children:d.jsx(hy,{element:l.current,children:d.jsx(f0r,{"data-ui":"Scroller",ref:l,children:d.jsx(te,{flex:1,padding:4,children:d.jsx(p0r,{diff:c,documentContext:y,error:o,loading:m,schemaType:i})})})})})]})}function p0r(n){let{error:e,diff:r,documentContext:i,loading:o,schemaType:s}=n;return e?d.jsx(TY,{}):o?d.jsx(Zr,{showText:!0}):r?d.jsx(VXe.Provider,{value:i,children:d.jsx(UD,{diff:r,schemaType:s})}):d.jsx(TY,{})}const m0r={name:uZ,useMenuItem:()=>{const{features:n}=Cw(),{t:e}=me();return{hidden:!n.reviewChanges,icon:xJ,title:e("changes.title")}},component:h0r,onClose:n=>{let{params:e}=n;return{params:{...e,since:void 0}}},onOpen:n=>{let{params:e}=n;return{params:{...e,since:"@lastPublished"}}}};function g0r(n){const{path:e,schemaType:r,value:i}=n,o=[];let s=r,a=i;for(const l of e){if(typeof l=="string"){if(!$n(a)&&a!==void 0)throw new Error("Parent value is not an object, cannot get path segment: .".concat(l));if(s.jsonType!=="object")throw new Error("Parent type is not an object schema type, cannot get path segment: .".concat(l));a=a==null?void 0:a[l];const c=s.fields.find(u=>u.name===l);if(!c)return o.push({name:l}),o;s=c.type,o.push(s);continue}if(typeof l=="number"){if(!LIe(a)&&a!==void 0)throw new Error("Parent value is not an array, cannot get path segment: [".concat(l,"]"));if(s.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: [".concat(l,"]"));a=a==null?void 0:a[l];const c=s.of.find(u=>typeof a=="string"?u.jsonType==="string":typeof a=="number"?u.jsonType==="number":typeof a=="boolean"?u.jsonType==="boolean":$n(a)?u.name===(a==null?void 0:a._type):!1);if(!c)throw new Error("Item type not found: [".concat(l,"]"));s=c,o.push(s);continue}if($n(l)&&l._key){if(!LIe(a))throw new Error("Parent value is not an array, cannot get path segment: [_key == ".concat(l,"]"));if(s.jsonType!=="array")throw new Error("Parent type is not an array schema type, cannot get path segment: .".concat(l));if(a=(a??[]).find(f=>$n(f)&&f._key===l._key),!$n(a))throw new Error("Array item not found: [_key == ".concat(l._key,"]"));const u=s.of.find(f=>$n(a)&&f.name===(a==null?void 0:a._type));if(!u)throw new Error("Array item type not found: .".concat(a==null?void 0:a._type));s=u,o.push(s);continue}throw new Error("Invalid path segment: ".concat(JSON.stringify(l)))}return o}const v0r={error:Dc,warning:as,info:Wx},y0r={error:"critical",warning:"caution",info:"primary"};function b0r(n){const{onClose:e}=n,{onFocus:r,onPathOpen:i,schemaType:o,validation:s,value:a}=go(),{t:l}=me("validation"),c=p.useCallback(u=>{i(u),r(u)},[r,i]);return d.jsxs(oe,{direction:"column",height:"fill",overflow:"hidden",children:[d.jsx(Mit,{as:"header",closeButtonLabel:l("panel.close-button-aria-label"),flex:"none",onClose:e,title:l("panel.title")}),d.jsxs(ke,{flex:1,overflow:"auto",padding:3,children:[s.length===0&&d.jsx(te,{padding:2,children:d.jsx(J,{muted:!0,size:1,children:l("panel.no-errors-message")})}),s.length>0&&d.jsx(Se,{space:2,children:s.map((u,f)=>d.jsx(x0r,{marker:u,onOpen:c,schemaType:o,value:a},f))})]})]})}function x0r(n){const{marker:e,onOpen:r,schemaType:i,value:o}=n,s=p.useCallback(()=>r(e.path),[e,r]),[a,l]=p.useState(null);return d.jsxs(dD,{onCatch:l,children:[a&&d.jsx(ke,{padding:3,radius:2,tone:"critical",children:d.jsx(J,{size:1,children:a.error.message})}),!a&&d.jsx(ke,{__unstable_focusRing:!0,as:"button",onClick:s,padding:3,radius:2,tone:y0r[e.level],children:d.jsxs(oe,{align:"flex-start",gap:3,children:[d.jsx(te,{flex:"none",children:d.jsx(J,{size:1,children:p.createElement(v0r[e.level])})}),d.jsxs(Se,{flex:1,space:2,children:[d.jsx(w0r,{path:e.path,schemaType:i,value:o}),d.jsx(J,{muted:!0,size:1,children:e.message})]})]})})]})}function w0r(n){const{path:e,schemaType:r,value:i}=n,o=p.useMemo(()=>g0r({path:e,schemaType:r,value:i}),[e,r,i]);return o.length?d.jsx(J,{size:1,children:o.map((s,a)=>d.jsxs(p.Fragment,{children:[a>0&&d.jsx("span",{style:{color:"var(--card-muted-fg-color)",opacity:.5},children:" / "}),d.jsx("span",{style:{fontWeight:500},children:s.title||s.name})]},a))}):null}function _0r(n){const{documentId:e,documentType:r}=n,{t:i}=me("validation"),{validation:o}=_B(e,r),s=p.useMemo(()=>o.map(f=>({level:f.level,message:f.message,path:f.path})),[o]),a=s.some($vt),l=s.some(Mvt),c=p.useMemo(()=>a?Dc:l?as:VI,[a,l]),u=p.useMemo(()=>a?"critical":l?"caution":"positive",[a,l]);return{hidden:s.length===0,icon:c,title:i("panel.title"),tone:u,showAsAction:!0}}const E0r={name:dsr,component:b0r,useMenuItem:_0r},C0r={};function S0r(n){try{return JSON.parse(decodeURIComponent(n))}catch{return console.warn("Failed to parse JSON parameters"),{}}}function k0r(n){return(n||[]).map(e=>e.map($0r).join("|")).map(encodeURIComponent).join(";")}function T0r(n){return JSON.stringify(n)}function A0r(n){return M0r(decodeURIComponent(n))}function I0r(n){return k0r(n)}const D0r=Vl.create("/",[Vl.intents("/intent"),Vl.create("/edit/:type/:editDocumentId",[Vl.create({path:"/:params",transform:{params:{toState:S0r,toPath:T0r}}})]),Vl.create({path:"/:panes",children:[Vl.create("/:action",Vl.create("/:legacyEditDocumentId"))],transform:{panes:{toState:A0r,toPath:I0r}}})]),R0r=/^([.a-z0-9_-]+),?({.*?})?(?:(;|$))/i,O0r=n=>/^[a-z0-9]+=[^=]+/i.test(n),P0r=n=>/^[A-Za-z0-9\-_]+(?:={0,2})$/.test(n),Vot=["view","since","rev","inspect","comment"],j0r=Boolean;function L0r(n,e){const r={...e,params:C0r,payload:void 0};return n.reduce((i,o)=>{if(O0r(o)){const s=o.slice(0,o.indexOf("=")),a=o.slice(s.length+1);i.params={...i.params,[decodeURIComponent(s)]:decodeURIComponent(a)}}else P0r(o)?i.payload=B0r(o):console.warn("Unknown pane segment: %s - skipping",o);return i},r)}function $0r(n,e,r){const{payload:i,params:o={},id:s}=n,[a]=r,l=n===a,c=e!==0&&s===a.id,u=typeof i>"u"?void 0:VKe(i),f=Object.entries(o).filter(h=>{var m;const[g,v]=h;if(!v)return!1;if(l)return!0;const y=(m=a.params)==null?void 0:m[g];return!(v===y&&!Vot.includes(g))}).map(h=>{let[m,g]=h;return"".concat(encodeURIComponent(m),"=").concat(encodeURIComponent(g))});return[c?"":s].concat([f.length>0&&f,u].filter(j0r).flat()).join(",")||","}function M0r(n){return n.indexOf(",{")!==-1?F0r(n):n.split(";").map(e=>{const[r,...i]=e.split("|").map(o=>{const[s,...a]=o.split(",");return L0r(a,{id:s})});return[r,...i.map(o=>({...r,...o,id:o.id||r.id,params:{...Cc(r.params,Vot),...o.params},payload:o.payload||r.payload}))]}).filter(e=>e.length>0)}function F0r(n){const e=[];let r=n;for(;r.length;){const[i,o,s]=r.match(R0r)||[];if(!i){r=r.slice(1);continue}const a=s&&N0r(s);e.push({id:o,payload:a}),r=r.slice(i.length)}return[e]}function N0r(n){try{return JSON.parse(n)}catch(e){console.warn("Failed to parse parameters: ".concat(e.message));return}}function B0r(n){try{return n?zKe(n):void 0}catch(e){console.warn("Failed to parse parameters: ".concat(e.message));return}}const U0r=[Yit,Zit,qit,Kit,Git,hse],z0r=[a0r],V0r=[E0r,m0r],H0r=rR(n=>{const e=(n==null?void 0:n.icon)||aBe;return{name:"sanity/structure",document:{actions:r=>Array.from(new Set([...r,...U0r])),badges:r=>Array.from(new Set([...r,...z0r])),inspectors:r=>Array.from(new Set([...r,...V0r]))},plugins:[Wdr(),s0r()],tools:[{name:(n==null?void 0:n.name)||"structure",title:(n==null?void 0:n.title)||"Structure",icon:e,component:p.lazy(()=>Ay(()=>import("./index-Bn6gWj4A-0f02795f.js"),[])),canHandleIntent:(r,i)=>r==="create"?W0r(i):r==="edit"?G0r(i):!1,getIntentState:l0r,controlsDocumentTitle:!0,options:n,router:D0r}],i18n:{bundles:[Zsr]}}});function W0r(n){return"type"in n?"template"in n?{template:!0}:!0:!1}function G0r(n){return"id"in n?"mode"in n?{mode:n.mode==="structure"}:!0:!1}function _Lr(n){let{defaultDocumentNode:e,structure:r,children:i}=n;const[o,s]=p.useState(!1),a=xi(),l=knr(a),c=Fc(),u=p.useMemo(()=>hmr({defaultDocumentNode:e,source:a}),[e,a]),f=p.useMemo(()=>r?r(u,{...l,documentStore:c}):u.defaults(),[u,r,l,c]),h=p.useMemo(()=>({backButton:o,resizablePanes:!o,reviewChanges:!o,splitPanes:!o,splitViews:!o}),[o]),m=p.useMemo(()=>({features:h,layoutCollapsed:o,setLayoutCollapsed:s,rootPaneNode:f,structureContext:u.context}),[h,o,f,u.context]);return d.jsx(Lit.Provider,{value:m,children:i})}const q0r={}.NEXT_PUBLIC_SANITY_API_VERSION||"2024-03-18",K0r="production",Y0r="7chqlkzm",Z0r=wQ({name:"teamMember",title:"Team Member",icon:RC,type:"document",fields:[Na({name:"name",title:"Name",type:"string",validation:n=>n.required()}),Na({name:"bio",title:"Bio",type:"text",validation:n=>n.required()}),Na({name:"picture",title:"Picture",type:"image",fields:[{name:"alt",type:"string",title:"Alternative text",description:"Important for SEO and accessiblity.",validation:n=>n.custom((e,r)=>{var i,o,s;return(s=(o=(i=r.document)==null?void 0:i.picture)==null?void 0:o.asset)!=null&&s._ref&&!e?"Required":!0})}],validation:n=>n.required()})]}),X0r=wQ({name:"project",title:"Project",icon:pBe,type:"document",fields:[Na({name:"title",title:"Title",type:"string",validation:n=>n.required()}),Na({name:"slug",title:"Slug",type:"string",validation:n=>n.required()}),Na({name:"loopText",title:"Loop Text",type:"text",validation:n=>n.required()}),Na({name:"descriptionTitle",title:"Description Title",type:"text",validation:n=>n.required()}),Na({name:"descriptionExcerpt",title:"Description Excerpt",type:"text",validation:n=>n.required()}),Na({name:"description",title:"Description",type:"text",validation:n=>n.required()}),Na({name:"featuredSize",title:"Featured Size",type:"string",initialValue:"small",options:{list:[{title:"Small",value:"small"},{title:"Medium",value:"medium"},{title:"Large",value:"large"},{title:"Square",value:"square"}]},validation:n=>n.required()}),Na({name:"featuredImage",title:"Featured Image",type:"image",fields:[{name:"alt",type:"string",title:"Alternative text",description:"Important for SEO and accessiblity.",validation:n=>n.custom((e,r)=>{var i,o,s;return(s=(o=(i=r.document)==null?void 0:i.picture)==null?void 0:o.asset)!=null&&s._ref&&!e?"Required":!0})}],validation:n=>n.required()}),Na({name:"featuredVideo",title:"Featured Video",type:"document",fields:[{title:"Title",name:"title",type:"string"},{title:"Video file",name:"video",type:"mux.video"}]}),Na({name:"videos",title:"Videos",type:"array",of:[{title:"Video",name:"video",type:"document",fields:[{title:"Title",name:"title",type:"string"},{title:"Video file",name:"video",type:"mux.video"}]}],validation:n=>n.required()}),Na({name:"images",title:"Images",type:"array",of:[{name:"image",title:"Image",type:"image",options:{hotspot:!0},fields:[{name:"alt",type:"string",title:"Alternative text",description:"Important for SEO and accessiblity.",validation:n=>n.custom((e,r)=>{var i,o,s;return(s=(o=(i=r.document)==null?void 0:i.picture)==null?void 0:o.asset)!=null&&s._ref&&!e?"Required":!0})}]}],validation:n=>n.required()})]}),Q0r={types:[Z0r,X0r]},J0r="#101112",eyr="#fff",tyr={50:{title:"Gray 50",hex:"#f2f3f5"},100:{title:"Gray 100",hex:"#e6e8ec"},200:{title:"Gray 200",hex:"#ced2d9"},300:{title:"Gray 300",hex:"#b6bcc6"},400:{title:"Gray 400",hex:"#9ea6b3"},500:{title:"Gray 500",hex:"#8690a0"},600:{title:"Gray 600",hex:"#6e7683"},700:{title:"Gray 700",hex:"#565d67"},800:{title:"Gray 800",hex:"#3f434a"},900:{title:"Gray 900",hex:"#272a2e"},950:{title:"Gray 950",hex:"#1b1d20"}},nyr={50:{title:"Blue 50",hex:"#e8f1fe"},100:{title:"Blue 100",hex:"#d2e3fe"},200:{title:"Blue 200",hex:"#a6c8fd"},300:{title:"Blue 300",hex:"#7aacfd"},400:{title:"Blue 400",hex:"#4e91fc"},500:{title:"Blue 500",hex:"#2276fc"},600:{title:"Blue 600",hex:"#1e61cd"},700:{title:"Blue 700",hex:"#1a4d9e"},800:{title:"Blue 800",hex:"#17396f"},900:{title:"Blue 900",hex:"#132540"},950:{title:"Blue 950",hex:"#111b29"}},ryr={50:{title:"Purple 50",hex:"#f8e9fe"},100:{title:"Purple 100",hex:"#f2d3fe"},200:{title:"Purple 200",hex:"#e6a7fd"},300:{title:"Purple 300",hex:"#d97bfd"},400:{title:"Purple 400",hex:"#cd4efc"},500:{title:"Purple 500",hex:"#c123fc"},600:{title:"Purple 600",hex:"#9d1fcd"},700:{title:"Purple 700",hex:"#7a1b9e"},800:{title:"Purple 800",hex:"#56186f"},900:{title:"Purple 900",hex:"#331440"},950:{title:"Purple 950",hex:"#211229"}},iyr={50:{title:"Magenta 50",hex:"#fcebf5"},100:{title:"Magenta 100",hex:"#f9d7eb"},200:{title:"Magenta 200",hex:"#f4afd8"},300:{title:"Magenta 300",hex:"#ef87c4"},400:{title:"Magenta 400",hex:"#ea5fb1"},500:{title:"Magenta 500",hex:"#e5389e"},600:{title:"Magenta 600",hex:"#ba3082"},700:{title:"Magenta 700",hex:"#8f2866"},800:{title:"Magenta 800",hex:"#65204a"},900:{title:"Magenta 900",hex:"#3a182d"},950:{title:"Magenta 950",hex:"#25141f"}},oyr={50:{title:"Red 50",hex:"#fdebea"},100:{title:"Red 100",hex:"#fcd8d5"},200:{title:"Red 200",hex:"#f9b1ab"},300:{title:"Red 300",hex:"#f68b82"},400:{title:"Red 400",hex:"#f36458"},500:{title:"Red 500",hex:"#f03e2f"},600:{title:"Red 600",hex:"#c33529"},700:{title:"Red 700",hex:"#962c23"},800:{title:"Red 800",hex:"#69231d"},900:{title:"Red 900",hex:"#3c1a17"},950:{title:"Red 950",hex:"#261514"}},syr={50:{title:"Orange 50",hex:"#fef0e6"},100:{title:"Orange 100",hex:"#fee2ce"},200:{title:"Orange 200",hex:"#fdc59d"},300:{title:"Orange 300",hex:"#fca86d"},400:{title:"Orange 400",hex:"#fb8b3c"},500:{title:"Orange 500",hex:"#e57322"},600:{title:"Orange 600",hex:"#ba5f1f"},700:{title:"Orange 700",hex:"#904b1b"},800:{title:"Orange 800",hex:"#653818"},900:{title:"Orange 900",hex:"#3a2415"},950:{title:"Orange 950",hex:"#251a13"}},ayr={50:{title:"Yellow 50",hex:"#fef7da"},100:{title:"Yellow 100",hex:"#fdefb6"},200:{title:"Yellow 200",hex:"#fcdf6d"},300:{title:"Yellow 300",hex:"#fbd024"},400:{title:"Yellow 400",hex:"#d9b421"},500:{title:"Yellow 500",hex:"#b7991e"},600:{title:"Yellow 600",hex:"#967e1c"},700:{title:"Yellow 700",hex:"#746219"},800:{title:"Yellow 800",hex:"#534717"},900:{title:"Yellow 900",hex:"#312c14"},950:{title:"Yellow 950",hex:"#201e13"}},lyr={50:{title:"Green 50",hex:"#e7f9ed"},100:{title:"Green 100",hex:"#d0f4dc"},200:{title:"Green 200",hex:"#a1eaba"},300:{title:"Green 300",hex:"#72e097"},400:{title:"Green 400",hex:"#43d675"},500:{title:"Green 500",hex:"#3ab564"},600:{title:"Green 600",hex:"#329454"},700:{title:"Green 700",hex:"#297343"},800:{title:"Green 800",hex:"#215233"},900:{title:"Green 900",hex:"#183122"},950:{title:"Green 950",hex:"#14211a"}},cyr={50:{title:"Cyan 50",hex:"#e3fafd"},100:{title:"Cyan 100",hex:"#c7f5fc"},200:{title:"Cyan 200",hex:"#90ecf9"},300:{title:"Cyan 300",hex:"#59e3f6"},400:{title:"Cyan 400",hex:"#22daf4"},500:{title:"Cyan 500",hex:"#1fb8ce"},600:{title:"Cyan 600",hex:"#1c97a8"},700:{title:"Cyan 700",hex:"#197583"},800:{title:"Cyan 800",hex:"#16545d"},900:{title:"Cyan 900",hex:"#133237"},950:{title:"Cyan 950",hex:"#112124"}},Bt={gray:tyr,blue:nyr,purple:ryr,magenta:iyr,red:oyr,orange:syr,yellow:ayr,green:lyr,cyan:cyr},E1={title:"Black",hex:J0r},C1={title:"White",hex:eyr},Hot=n=>{const{element:e,padding:r}=n;function i(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:n,fn(o){return e&&i(e)?e.current!=null?WM({element:e.current,padding:r}).fn(o):{}:e?WM({element:e,padding:r}).fn(o):{}}}};var d$=typeof document<"u"?p.useLayoutEffect:p.useEffect;function s4(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let r,i,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(r=n.length,r!=e.length)return!1;for(i=r;i--!==0;)if(!s4(n[i],e[i]))return!1;return!0}if(o=Object.keys(n),r=o.length,r!==Object.keys(e).length)return!1;for(i=r;i--!==0;)if(!{}.hasOwnProperty.call(e,o[i]))return!1;for(i=r;i--!==0;){const s=o[i];if(!(s==="_owner"&&n.$$typeof)&&!s4(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function Wot(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function kje(n,e){const r=Wot(n);return Math.round(e*r)/r}function Tje(n){const e=p.useRef(n);return d$(()=>{e.current=n}),e}function Got(n){n===void 0&&(n={});const{placement:e="bottom",strategy:r="absolute",middleware:i=[],platform:o,elements:{reference:s,floating:a}={},transform:l=!0,whileElementsMounted:c,open:u}=n,[f,h]=p.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=p.useState(i);s4(m,i)||g(i);const[v,y]=p.useState(null),[b,x]=p.useState(null),_=p.useCallback(N=>{N!=T.current&&(T.current=N,y(N))},[y]),w=p.useCallback(N=>{N!==A.current&&(A.current=N,x(N))},[x]),C=s||v,S=a||b,T=p.useRef(null),A=p.useRef(null),I=p.useRef(f),D=Tje(c),R=Tje(o),P=p.useCallback(()=>{if(!T.current||!A.current)return;const N={placement:e,strategy:r,middleware:m};R.current&&(N.platform=R.current),p7e(T.current,A.current,N).then(z=>{const B={...z,isPositioned:!0};O.current&&!s4(I.current,B)&&(I.current=B,Kd.flushSync(()=>{h(B)}))})},[m,e,r,R]);d$(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(N=>({...N,isPositioned:!1})))},[u]);const O=p.useRef(!1);d$(()=>(O.current=!0,()=>{O.current=!1}),[]),d$(()=>{if(C&&(T.current=C),S&&(A.current=S),C&&S){if(D.current)return D.current(C,S,P);P()}},[C,S,P,D]);const $=p.useMemo(()=>({reference:T,floating:A,setReference:_,setFloating:w}),[_,w]),L=p.useMemo(()=>({reference:C,floating:S}),[C,S]),M=p.useMemo(()=>{const N={position:r,left:0,top:0};if(!L.floating)return N;const z=kje(L.floating,f.x),B=kje(L.floating,f.y);return l?{...N,transform:"translate("+z+"px, "+B+"px)",...Wot(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:z,top:B}},[r,l,L.floating,f.x,f.y]);return p.useMemo(()=>({...f,update:P,refs:$,elements:L,floatingStyles:M}),[f,P,$,L,M])}const cR=[],ey={},qot={top:"bottom",right:"left",bottom:"top",left:"right"};function uyr(n,e){return n.reduce((r,i)=>(r[i]=e,r),{})}function sn(n){return n===0?0:"".concat(n/16,"rem")}function tr(n,e,r){return((e==null?void 0:e.map(r))||[]).map((o,s)=>s===0?o:{["@media screen and (min-width: ".concat(n[s-1],"px)")]:o})}function dyr(n,e){return n===void 0?e||cR:Array.isArray(n)?n:[n]}function su(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cR;if(!Array.isArray(r))throw new Error("the property must be array of numbers");return r.length===0?null:tr(n.sanity.media,r,i=>uyr(e,sn(n.sanity.space[i])))}function aS(n,e){const{$size:r,$weight:i,theme:o}=e,{fonts:s,media:a}=o.sanity,{family:l,sizes:c,weights:u}=s[n],f=i&&u[i]||u.regular,h=c[2],m={position:"relative",fontFamily:l,fontWeight:f,padding:"1px 0",margin:0,"&:before":{content:'""',display:"block",height:0},"&:after":{content:'""',display:"block",height:0},"& > code, & > span":{display:"block"},"&:not([hidden])":{display:"block"}};if(!r)return aS.warned||(console.warn("No size specified for responsive font",{fontKey:n,$size:r,props:e,base:m}),aS.warned=!0),[m];const g=tr(a,r,v=>fyr(c[v]||h));return[m,...g]}function fyr(n){const{ascenderHeight:e,descenderHeight:r,fontSize:i,iconSize:o,letterSpacing:s,lineHeight:a}=n,l=e+r,c=a-l,u=(c-o)/2,f=Math.floor(i*1.125/2)*2+1,h=(c-f)/2;return{fontSize:sn(i),lineHeight:"calc(".concat(a," / ").concat(i,")"),letterSpacing:sn(s),transform:"translateY(".concat(sn(r),")"),"&:before":{marginTop:"calc(".concat(sn(0-l)," - 1px)")},"&:after":{marginBottom:"-1px"},"& svg:not([data-sanity-icon])":{fontSize:"calc(".concat(f," / 16 * 1rem)"),margin:sn(h)},"& [data-sanity-icon]":{fontSize:"calc(".concat(o," / 16 * 1rem)"),margin:sn(u)}}}function hyr(n){return aS("code",n)}function pyr(n){return aS("heading",n)}function myr(n){return aS("label",n)}function kse(n){const{theme:e}=n;return tr(e.sanity.media,n.$align,r=>({textAlign:r}))}function gyr(n){return aS("text",n)}function ct(n,e){const r=p.useMemo(()=>JSON.stringify(n??e),[e,n]);return p.useMemo(()=>dyr(n,e),[r])}function Aje(n,e){const r=[n];for(const i of e)Array.isArray(i)?r.push(...i):r.push(i);return r.filter(Boolean)}function NB(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cR,r=arguments.length>2?arguments[2]:void 0;const[i,o]=p.useState(null),[s,a]=p.useState(()=>Aje(i,e)),l=p.useRef(s);return p.useEffect(()=>{const c=l.current,u=Aje(i,e);if(c.length!==u.length){a(u),l.current=u;return}for(const f of c)if(!u.includes(f)){a(u),l.current=u;return}for(const f of u)if(!c.includes(f)){a(u),l.current=u;return}},[i,e]),p.useEffect(()=>{if(!n)return;const c=u=>{const f=u.target;if(f instanceof Node&&!(r&&!r.contains(f))){for(const h of s)if(f===h||h.contains(f))return;n(u)}};return window.addEventListener("mousedown",c),()=>{window.removeEventListener("mousedown",c)}},[r,n,s]),o}var rx=[],vyr=function(){return rx.some(function(n){return n.activeTargets.length>0})},yyr=function(){return rx.some(function(n){return n.skippedTargets.length>0})},Ije="ResizeObserver loop completed with undelivered notifications.",byr=function(){var n;typeof ErrorEvent=="function"?n=new ErrorEvent("error",{message:Ije}):(n=document.createEvent("Event"),n.initEvent("error",!1,!1),n.message=Ije),window.dispatchEvent(n)},uI;(function(n){n.BORDER_BOX="border-box",n.CONTENT_BOX="content-box",n.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(uI||(uI={}));var ix=function(n){return Object.freeze(n)},xyr=function(){function n(e,r){this.inlineSize=e,this.blockSize=r,ix(this)}return n}(),Kot=function(){function n(e,r,i,o){return this.x=e,this.y=r,this.width=i,this.height=o,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,ix(this)}return n.prototype.toJSON=function(){var e=this,r=e.x,i=e.y,o=e.top,s=e.right,a=e.bottom,l=e.left,c=e.width,u=e.height;return{x:r,y:i,top:o,right:s,bottom:a,left:l,width:c,height:u}},n.fromRect=function(e){return new n(e.x,e.y,e.width,e.height)},n}(),Tse=function(n){return n instanceof SVGElement&&"getBBox"in n},Yot=function(n){if(Tse(n)){var e=n.getBBox(),r=e.width,i=e.height;return!r&&!i}var o=n,s=o.offsetWidth,a=o.offsetHeight;return!(s||a||n.getClientRects().length)},Dje=function(n){var e;if(n instanceof Element)return!0;var r=(e=n==null?void 0:n.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(r&&n instanceof r.Element)},wyr=function(n){switch(n.tagName){case"INPUT":if(n.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},HA=typeof window<"u"?window:{},rj=new WeakMap,Rje=/auto|scroll/,_yr=/^tb|vertical/,Eyr=/msie|trident/i.test(HA.navigator&&HA.navigator.userAgent),Uh=function(n){return parseFloat(n||"0")},fC=function(n,e,r){return n===void 0&&(n=0),e===void 0&&(e=0),r===void 0&&(r=!1),new xyr((r?e:n)||0,(r?n:e)||0)},Oje=ix({devicePixelContentBoxSize:fC(),borderBoxSize:fC(),contentBoxSize:fC(),contentRect:new Kot(0,0,0,0)}),Zot=function(n,e){if(e===void 0&&(e=!1),rj.has(n)&&!e)return rj.get(n);if(Yot(n))return rj.set(n,Oje),Oje;var r=getComputedStyle(n),i=Tse(n)&&n.ownerSVGElement&&n.getBBox(),o=!Eyr&&r.boxSizing==="border-box",s=_yr.test(r.writingMode||""),a=!i&&Rje.test(r.overflowY||""),l=!i&&Rje.test(r.overflowX||""),c=i?0:Uh(r.paddingTop),u=i?0:Uh(r.paddingRight),f=i?0:Uh(r.paddingBottom),h=i?0:Uh(r.paddingLeft),m=i?0:Uh(r.borderTopWidth),g=i?0:Uh(r.borderRightWidth),v=i?0:Uh(r.borderBottomWidth),y=i?0:Uh(r.borderLeftWidth),b=h+u,x=c+f,_=y+g,w=m+v,C=l?n.offsetHeight-w-n.clientHeight:0,S=a?n.offsetWidth-_-n.clientWidth:0,T=o?b+_:0,A=o?x+w:0,I=i?i.width:Uh(r.width)-T-S,D=i?i.height:Uh(r.height)-A-C,R=I+b+S+_,P=D+x+C+w,O=ix({devicePixelContentBoxSize:fC(Math.round(I*devicePixelRatio),Math.round(D*devicePixelRatio),s),borderBoxSize:fC(R,P,s),contentBoxSize:fC(I,D,s),contentRect:new Kot(h,c,I,D)});return rj.set(n,O),O},Xot=function(n,e,r){var i=Zot(n,r),o=i.borderBoxSize,s=i.contentBoxSize,a=i.devicePixelContentBoxSize;switch(e){case uI.DEVICE_PIXEL_CONTENT_BOX:return a;case uI.BORDER_BOX:return o;default:return s}},Cyr=function(){function n(e){var r=Zot(e);this.target=e,this.contentRect=r.contentRect,this.borderBoxSize=ix([r.borderBoxSize]),this.contentBoxSize=ix([r.contentBoxSize]),this.devicePixelContentBoxSize=ix([r.devicePixelContentBoxSize])}return n}(),Qot=function(n){if(Yot(n))return 1/0;for(var e=0,r=n.parentNode;r;)e+=1,r=r.parentNode;return e},Syr=function(){var n=1/0,e=[];rx.forEach(function(a){if(a.activeTargets.length!==0){var l=[];a.activeTargets.forEach(function(u){var f=new Cyr(u.target),h=Qot(u.target);l.push(f),u.lastReportedSize=Xot(u.target,u.observedBox),h<n&&(n=h)}),e.push(function(){a.callback.call(a.observer,l,a.observer)}),a.activeTargets.splice(0,a.activeTargets.length)}});for(var r=0,i=e;r<i.length;r++){var o=i[r];o()}return n},Pje=function(n){rx.forEach(function(r){r.activeTargets.splice(0,r.activeTargets.length),r.skippedTargets.splice(0,r.skippedTargets.length),r.observationTargets.forEach(function(o){o.isActive()&&(Qot(o.target)>n?r.activeTargets.push(o):r.skippedTargets.push(o))})})},kyr=function(){var n=0;for(Pje(n);vyr();)n=Syr(),Pje(n);return yyr()&&byr(),n>0},CH,Jot=[],Tyr=function(){return Jot.splice(0).forEach(function(n){return n()})},Ayr=function(n){if(!CH){var e=0,r=document.createTextNode(""),i={characterData:!0};new MutationObserver(function(){return Tyr()}).observe(r,i),CH=function(){r.textContent="".concat(e?e--:e++)}}Jot.push(n),CH()},Iyr=function(n){Ayr(function(){requestAnimationFrame(n)})},f$=0,Dyr=function(){return!!f$},Ryr=250,Oyr={attributes:!0,characterData:!0,childList:!0,subtree:!0},jje=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Lje=function(n){return n===void 0&&(n=0),Date.now()+n},SH=!1,Pyr=function(){function n(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return n.prototype.run=function(e){var r=this;if(e===void 0&&(e=Ryr),!SH){SH=!0;var i=Lje(e);Iyr(function(){var o=!1;try{o=kyr()}finally{if(SH=!1,e=i-Lje(),!Dyr())return;o?r.run(1e3):e>0?r.run(e):r.start()}})}},n.prototype.schedule=function(){this.stop(),this.run()},n.prototype.observe=function(){var e=this,r=function(){return e.observer&&e.observer.observe(document.body,Oyr)};document.body?r():HA.addEventListener("DOMContentLoaded",r)},n.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),jje.forEach(function(r){return HA.addEventListener(r,e.listener,!0)}))},n.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),jje.forEach(function(r){return HA.removeEventListener(r,e.listener,!0)}),this.stopped=!0)},n}(),wZ=new Pyr,$je=function(n){!f$&&n>0&&wZ.start(),f$+=n,!f$&&wZ.stop()},jyr=function(n){return!Tse(n)&&!wyr(n)&&getComputedStyle(n).display==="inline"},Lyr=function(){function n(e,r){this.target=e,this.observedBox=r||uI.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return n.prototype.isActive=function(){var e=Xot(this.target,this.observedBox,!0);return jyr(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},n}(),$yr=function(){function n(e,r){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=r}return n}(),ij=new WeakMap,Mje=function(n,e){for(var r=0;r<n.length;r+=1)if(n[r].target===e)return r;return-1},oj=function(){function n(){}return n.connect=function(e,r){var i=new $yr(e,r);ij.set(e,i)},n.observe=function(e,r,i){var o=ij.get(e),s=o.observationTargets.length===0;Mje(o.observationTargets,r)<0&&(s&&rx.push(o),o.observationTargets.push(new Lyr(r,i&&i.box)),$je(1),wZ.schedule())},n.unobserve=function(e,r){var i=ij.get(e),o=Mje(i.observationTargets,r),s=i.observationTargets.length===1;o>=0&&(s&&rx.splice(rx.indexOf(i),1),i.observationTargets.splice(o,1),$je(-1))},n.disconnect=function(e){var r=this,i=ij.get(e);i.observationTargets.slice().forEach(function(o){return r.unobserve(e,o.target)}),i.activeTargets.splice(0,i.activeTargets.length)},n}(),Myr=function(){function n(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");oj.connect(this,e)}return n.prototype.observe=function(e,r){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Dje(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");oj.observe(this,e,r)},n.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Dje(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");oj.unobserve(this,e)},n.prototype.disconnect=function(){oj.disconnect(this)},n.toString=function(){return"function ResizeObserver () { [polyfill code] }"},n}();const est=typeof document<"u"&&typeof window<"u"&&window.ResizeObserver?window.ResizeObserver:Myr,Fyr=Byr();function Nyr(){return{subscribe(n,e){const r=new est(i=>{let[o]=i;e({_contentRect:o.contentRect,border:{width:o.borderBoxSize[0].inlineSize,height:o.borderBoxSize[0].blockSize},content:{width:o.contentRect.width,height:o.contentRect.height}})});return r.observe(n),()=>{r.unobserve(n),r.disconnect()}}}}function Byr(){const n=new WeakMap,e=new WeakMap;return{subscribe(r,i){const o=e.get(r)||[];let s=n.get(r);return e.has(r)||(e.set(r,o),s=Nyr().subscribe(r,l=>{for(const c of o)c(l)})),o.push(i),()=>{const a=o.indexOf(i);a>-1&&o.splice(a,1),o.length===0&&s&&s()}}}}function tst(n){const[e,r]=p.useState(null);return p.useEffect(()=>{if(n)return Fyr.subscribe(n,r)},[n]),e}function nst(n){return p.useEffect(()=>(addEventListener("keydown",n),()=>removeEventListener("keydown",n)),[n])}function kH(n,e){return n*e}function Uyr(n,e){return{r:Math.round(TH(kH(n.r/255,e.r/255)*255)),g:Math.round(TH(kH(n.g/255,e.g/255)*255)),b:Math.round(TH(kH(n.b/255,e.b/255)*255))}}function TH(n){return Math.max(Math.min(n,255),0)}function AH(n,e){return n+e-n*e}function zyr(n,e){return{r:Math.round(IH(AH(n.r/255,e.r/255)*255)),g:Math.round(IH(AH(n.g/255,e.g/255)*255)),b:Math.round(IH(AH(n.b/255,e.b/255)*255))}}function IH(n){return Math.max(Math.min(n,255),0)}function Vyr(n){if(n.length===4){const e=n.slice(1,2),r=n.slice(2,3),i=n.slice(3,4);return{r:parseInt(e+e,16),g:parseInt(r+r,16),b:parseInt(i+i,16)}}return{r:parseInt(n.slice(1,3),16),g:parseInt(n.slice(3,5),16),b:parseInt(n.slice(5,7),16)}}function rst(n){let{r:e,g:r,b:i}=n;return"#"+((1<<24)+(e<<16)+(r<<8)+i).toString(16).slice(1)}function Hyr(n){const e=n.s/100,r=n.l/100,i=(1-Math.abs(2*r-1))*e,o=i*(1-Math.abs(n.h/60%2-1)),s=r-i/2;let a=0,l=0,c=0;return 0<=n.h&&n.h<60?(a=i,l=o,c=0):60<=n.h&&n.h<120?(a=o,l=i,c=0):120<=n.h&&n.h<180?(a=0,l=i,c=o):180<=n.h&&n.h<240?(a=0,l=o,c=i):240<=n.h&&n.h<300?(a=o,l=0,c=i):300<=n.h&&n.h<360&&(a=i,l=0,c=o),{r:Math.round((a+s)*255),g:Math.round((l+s)*255),b:Math.round((c+s)*255)}}const Wyr="0123456789ABCDEFabcdef",Gyr=/hsl\(\s*(\d+)\s*,\s*((\d+(?:\.\d+)?)%)\s*,\s*((\d+(?:\.\d+)?)%)\s*\)/i;function qyr(n){for(const e of n)if(Wyr.indexOf(e)===-1)return!1;return!0}function Kyr(n){return n[0]!=="#"||!(n.length===4||n.length===7)?!1:qyr(n.slice(1))}function Yyr(n){const e=Gyr.exec(n);if(!e)throw new Error('parseHsl: string is not a HSL color: "'.concat(n,'"'));return{h:parseInt(e[1]),s:parseFloat(e[3]),l:parseFloat(e[5])}}function dI(n){if(!n)return{r:0,g:0,b:0};if(typeof n!="string")throw new Error("parseColor: expected a string");if(Kyr(n))return Vyr(n);if(n.startsWith("hsl("))return Hyr(Yyr(n));throw new Error('parseColor: unexpected color format: "'.concat(n,'"'))}function jr(n,e){const r=dI(n);return"rgba(".concat(r.r,",").concat(r.g,",").concat(r.b,",").concat(e,")")}function DH(n,e,r,i,o,s){return{default:n.button({base:e,dark:r,solid:i.default,muted:o.default,mode:s}),primary:n.button({base:e,dark:r,solid:i.primary,muted:o.primary,mode:s}),positive:n.button({base:e,dark:r,solid:i.positive,muted:o.positive,mode:s}),caution:n.button({base:e,dark:r,solid:i.caution,muted:o.caution,mode:s}),critical:n.button({base:e,dark:r,solid:i.critical,muted:o.critical,mode:s})}}function Zyr(n,e,r,i,o){return{default:DH(n,e,r,i,o,"default"),ghost:DH(n,e,r,i,o,"ghost"),bleed:DH(n,e,r,i,o,"bleed")}}function Xyr(n,e,r,i,o,s){return{enabled:n.card({base:e,dark:r,name:i,state:"enabled",solid:o,muted:s}),disabled:n.card({base:e,dark:r,name:i,state:"disabled",solid:o,muted:s}),hovered:n.card({base:e,dark:r,name:i,state:"hovered",solid:o,muted:s}),pressed:n.card({base:e,dark:r,name:i,state:"pressed",solid:o,muted:s}),selected:n.card({base:e,dark:r,name:i,state:"selected",solid:o,muted:s})}}const bt="hsl(0, 0%, 0%)",s_="hsl(0, 0%, 100%)",Qn={default:{lightest:"hsl(0, 0%, 95%)",lighter:"hsl(0, 0%, 70%)",light:"hsl(0, 0%, 65%)",base:"hsl(0, 0%, 50%)",dark:"hsl(0, 0%, 35%)",darker:"hsl(0, 0%, 20%)",darkest:"hsl(0, 0%, 5%)"},transparent:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},primary:{lightest:"hsl(240, 100%, 95%)",lighter:"hsl(240, 100%, 70%)",light:"hsl(240, 100%, 65%)",base:"hsl(240, 100%, 50%)",dark:"hsl(240, 100%, 35%)",darker:"hsl(240, 100%, 20%)",darkest:"hsl(240, 100%, 5%)"},positive:{lightest:"hsl(120, 100%, 95%)",lighter:"hsl(120, 100%, 70%)",light:"hsl(120, 100%, 65%)",base:"hsl(120, 100%, 50%)",dark:"hsl(120, 100%, 35%)",darker:"hsl(120, 100%, 20%)",darkest:"hsl(120, 100%, 5%)"},caution:{lightest:"hsl(60, 100%, 95%)",lighter:"hsl(60, 100%, 70%)",light:"hsl(60, 100%, 65%)",base:"hsl(60, 100%, 50%)",dark:"hsl(60, 100%, 35%)",darker:"hsl(60, 100%, 20%)",darkest:"hsl(60, 100%, 5%)"},critical:{lightest:"hsl(0, 100%, 95%)",lighter:"hsl(0, 100%, 70%)",light:"hsl(0, 100%, 65%)",base:"hsl(0, 100%, 50%)",dark:"hsl(0, 100%, 35%)",darker:"hsl(0, 100%, 20%)",darkest:"hsl(0, 100%, 5%)"}},Qyr={gray:"hsl(0, 0%, 50%)",red:"hsl(0, 100%, 50%)",orange:"hsl(30, 100%, 50%)",yellow:"hsl(60, 100%, 50%)",green:"hsl(120, 100%, 50%)",cyan:"hsl(180, 100%, 50%)",blue:"hsl(240, 100%, 50%)",purple:"hsl(270, 100%, 50%)",magenta:"hsl(300, 100%, 50%)"},sj={transparent:{bg:[Qn.transparent.darkest,Qn.transparent.lightest],fg:[Qn.transparent.lightest,Qn.transparent.darkest],border:[Qn.transparent.darker,Qn.transparent.lighter],focusRing:[Qn.transparent.base,Qn.transparent.base]},primary:{bg:[Qn.primary.darkest,Qn.primary.lightest],fg:[Qn.primary.lightest,Qn.primary.darkest],border:[Qn.primary.darker,Qn.primary.lighter],focusRing:[Qn.primary.base,Qn.primary.base]},positive:{bg:[Qn.positive.darkest,Qn.positive.lightest],fg:[Qn.positive.lightest,Qn.positive.darkest],border:[Qn.positive.darker,Qn.positive.lighter],focusRing:[Qn.positive.base,Qn.positive.base]},caution:{bg:[Qn.caution.darkest,Qn.caution.lightest],fg:[Qn.caution.lightest,Qn.caution.darkest],border:[Qn.caution.darker,Qn.caution.lighter],focusRing:[Qn.caution.base,Qn.caution.base]},critical:{bg:[Qn.critical.darkest,Qn.critical.lightest],fg:[Qn.critical.lightest,Qn.critical.darkest],border:[Qn.critical.darker,Qn.critical.lighter],focusRing:[Qn.critical.base,Qn.critical.base]}},Jyr={base:n=>{let{dark:e,name:r}=n;return r==="default"?{bg:e?bt:s_,fg:e?s_:bt,border:e?Qn.default.darkest:Qn.default.lightest,focusRing:Qn.primary.base,shadow:{outline:bt,umbra:bt,penumbra:bt,ambient:bt},skeleton:{from:e?s_:bt,to:e?s_:bt}}:{bg:sj[r].bg[e?0:1],fg:sj[r].fg[e?0:1],border:sj[r].border[e?0:1],focusRing:sj[r].focusRing[e?0:1],shadow:{outline:bt,umbra:bt,penumbra:bt,ambient:bt},skeleton:{from:e?s_:bt,to:e?s_:bt}}},solid:n=>{let{base:e,dark:r,state:i,tone:o}=n;const s=Qn[o];return i==="hovered"?{bg:r?s.light:s.dark,bg2:r?s.light:s.dark,border:r?s.lighter:s.darker,fg:r?s.darkest:s.lightest,muted:{fg:bt},accent:{fg:bt},link:{fg:bt},code:{bg:bt,fg:bt},skeleton:e.skeleton}:{bg:s.base,bg2:s.base,border:r?s.light:s.dark,fg:r?s.darkest:s.lightest,muted:{fg:bt},accent:{fg:bt},link:{fg:bt},code:{bg:bt,fg:bt},skeleton:e.skeleton}},muted:n=>{let{base:e,dark:r,state:i,tone:o}=n;const s=Qn[o];return i==="hovered"?{bg:r?s.darker:s.lighter,bg2:r?s.darker:s.lighter,border:r?s.lighter:s.darker,fg:r?s.lightest:s.darkest,muted:{fg:bt},accent:{fg:bt},link:{fg:bt},code:{bg:bt,fg:bt},skeleton:e.skeleton}:{bg:r?s.darkest:s.lightest,bg2:r?s.darkest:s.lightest,border:r?s.darker:s.lighter,fg:r?s.lighter:s.darker,muted:{fg:bt},accent:{fg:bt},link:{fg:bt},code:{bg:bt,fg:bt},skeleton:e.skeleton}},button:n=>{let{base:e,mode:r,muted:i,solid:o}=n;return r==="bleed"?{...i,enabled:{bg:"transparent",bg2:"transparent",fg:i.enabled.fg,border:"transparent",muted:{fg:bt},accent:{fg:bt},link:{fg:bt},code:{bg:bt,fg:bt},skeleton:e.skeleton},hovered:{bg:i.enabled.bg,bg2:i.enabled.bg,fg:i.hovered.fg,border:"transparent",muted:{fg:bt},accent:{fg:bt},link:{fg:bt},code:{bg:bt,fg:bt},skeleton:e.skeleton}}:r==="ghost"?{...o,enabled:i.enabled}:o},card:n=>{let{base:e}=n;return{bg:bt,bg2:bt,fg:bt,border:bt,muted:{fg:bt},accent:{fg:bt},link:{fg:bt},code:{bg:bt,fg:bt},skeleton:e.skeleton}},input:()=>({bg:bt,fg:bt,border:bt,placeholder:bt}),selectable:n=>{let{muted:e,state:r,tone:i}=n;return e[i][r]},spot:n=>{let{key:e}=n;return Qyr[e]},syntax:()=>({atrule:bt,attrName:bt,attrValue:bt,attribute:bt,boolean:bt,builtin:bt,cdata:bt,char:bt,class:bt,className:bt,comment:bt,constant:bt,deleted:bt,doctype:bt,entity:bt,function:bt,hexcode:bt,id:bt,important:bt,inserted:bt,keyword:bt,number:bt,operator:bt,prolog:bt,property:bt,pseudoClass:bt,pseudoElement:bt,punctuation:bt,regex:bt,selector:bt,string:bt,symbol:bt,tag:bt,unit:bt,url:bt,variable:bt})};function e1r(n,e,r,i,o){return{default:{enabled:n.input({base:e,dark:r,mode:"default",state:"enabled",solid:i.default,muted:o.default}),disabled:n.input({base:e,dark:r,mode:"default",state:"disabled",solid:i.default,muted:o.default}),hovered:n.input({base:e,dark:r,mode:"default",state:"hovered",solid:i.default,muted:o.default}),readOnly:n.input({base:e,dark:r,mode:"default",state:"readOnly",solid:i.default,muted:o.default})},invalid:{enabled:n.input({base:e,dark:r,mode:"invalid",state:"enabled",solid:i.default,muted:o.default}),disabled:n.input({base:e,dark:r,mode:"invalid",state:"disabled",solid:i.default,muted:o.default}),hovered:n.input({base:e,dark:r,mode:"invalid",state:"hovered",solid:i.default,muted:o.default}),readOnly:n.input({base:e,dark:r,mode:"invalid",state:"readOnly",solid:i.default,muted:o.default})}}}function t1r(n,e,r,i){return{default:{enabled:n.muted({base:e,dark:r,tone:"default",name:i,state:"enabled"}),disabled:n.muted({base:e,dark:r,tone:"default",name:i,state:"disabled"}),hovered:n.muted({base:e,dark:r,tone:"default",name:i,state:"hovered"}),pressed:n.muted({base:e,dark:r,tone:"default",name:i,state:"pressed"}),selected:n.muted({base:e,dark:r,tone:"default",name:i,state:"selected"})},transparent:{enabled:n.muted({base:e,dark:r,tone:"transparent",name:i,state:"enabled"}),disabled:n.muted({base:e,dark:r,tone:"transparent",name:i,state:"disabled"}),hovered:n.muted({base:e,dark:r,tone:"transparent",name:i,state:"hovered"}),pressed:n.muted({base:e,dark:r,tone:"transparent",name:i,state:"pressed"}),selected:n.muted({base:e,dark:r,tone:"transparent",name:i,state:"selected"})},primary:{enabled:n.muted({base:e,dark:r,tone:"primary",name:i,state:"enabled"}),disabled:n.muted({base:e,dark:r,tone:"primary",name:i,state:"disabled"}),hovered:n.muted({base:e,dark:r,tone:"primary",name:i,state:"hovered"}),pressed:n.muted({base:e,dark:r,tone:"primary",name:i,state:"pressed"}),selected:n.muted({base:e,dark:r,tone:"primary",name:i,state:"selected"})},positive:{enabled:n.muted({base:e,dark:r,tone:"positive",name:i,state:"enabled"}),disabled:n.muted({base:e,dark:r,tone:"positive",name:i,state:"disabled"}),hovered:n.muted({base:e,dark:r,tone:"positive",name:i,state:"hovered"}),pressed:n.muted({base:e,dark:r,tone:"positive",name:i,state:"pressed"}),selected:n.muted({base:e,dark:r,tone:"positive",name:i,state:"selected"})},caution:{enabled:n.muted({base:e,dark:r,tone:"caution",name:i,state:"enabled"}),disabled:n.muted({base:e,dark:r,tone:"caution",name:i,state:"disabled"}),hovered:n.muted({base:e,dark:r,tone:"caution",name:i,state:"hovered"}),pressed:n.muted({base:e,dark:r,tone:"caution",name:i,state:"pressed"}),selected:n.muted({base:e,dark:r,tone:"caution",name:i,state:"selected"})},critical:{enabled:n.muted({base:e,dark:r,tone:"critical",name:i,state:"enabled"}),disabled:n.muted({base:e,dark:r,tone:"critical",name:i,state:"disabled"}),hovered:n.muted({base:e,dark:r,tone:"critical",name:i,state:"hovered"}),pressed:n.muted({base:e,dark:r,tone:"critical",name:i,state:"pressed"}),selected:n.muted({base:e,dark:r,tone:"critical",name:i,state:"selected"})}}}function n1r(n,e,r,i,o){return{default:zk(n,e,r,i,o,"default"),primary:zk(n,e,r,i,o,"primary"),positive:zk(n,e,r,i,o,"positive"),caution:zk(n,e,r,i,o,"caution"),critical:zk(n,e,r,i,o,"critical")}}function zk(n,e,r,i,o,s){return{enabled:n.selectable({base:e,dark:r,solid:i,muted:o,state:"enabled",tone:s}),hovered:n.selectable({base:e,dark:r,solid:i,muted:o,state:"hovered",tone:s}),pressed:n.selectable({base:e,dark:r,solid:i,muted:o,state:"pressed",tone:s}),selected:n.selectable({base:e,dark:r,solid:i,muted:o,state:"selected",tone:s}),disabled:n.selectable({base:e,dark:r,solid:i,muted:o,state:"disabled",tone:s})}}function r1r(n,e,r,i){return{default:{enabled:n.solid({base:e,dark:r,tone:"default",name:i,state:"enabled"}),disabled:n.solid({base:e,dark:r,tone:"default",name:i,state:"disabled"}),hovered:n.solid({base:e,dark:r,tone:"default",name:i,state:"hovered"}),pressed:n.solid({base:e,dark:r,tone:"default",name:i,state:"pressed"}),selected:n.solid({base:e,dark:r,tone:"default",name:i,state:"selected"})},transparent:{enabled:n.solid({base:e,dark:r,tone:"transparent",name:i,state:"enabled"}),disabled:n.solid({base:e,dark:r,tone:"transparent",name:i,state:"disabled"}),hovered:n.solid({base:e,dark:r,tone:"transparent",name:i,state:"hovered"}),pressed:n.solid({base:e,dark:r,tone:"transparent",name:i,state:"pressed"}),selected:n.solid({base:e,dark:r,tone:"transparent",name:i,state:"selected"})},primary:{enabled:n.solid({base:e,dark:r,tone:"primary",name:i,state:"enabled"}),disabled:n.solid({base:e,dark:r,tone:"primary",name:i,state:"disabled"}),hovered:n.solid({base:e,dark:r,tone:"primary",name:i,state:"hovered"}),pressed:n.solid({base:e,dark:r,tone:"primary",name:i,state:"pressed"}),selected:n.solid({base:e,dark:r,tone:"primary",name:i,state:"selected"})},positive:{enabled:n.solid({base:e,dark:r,tone:"positive",name:i,state:"enabled"}),disabled:n.solid({base:e,dark:r,tone:"positive",name:i,state:"disabled"}),hovered:n.solid({base:e,dark:r,tone:"positive",name:i,state:"hovered"}),pressed:n.solid({base:e,dark:r,tone:"positive",name:i,state:"pressed"}),selected:n.solid({base:e,dark:r,tone:"positive",name:i,state:"selected"})},caution:{enabled:n.solid({base:e,dark:r,tone:"caution",name:i,state:"enabled"}),disabled:n.solid({base:e,dark:r,tone:"caution",name:i,state:"disabled"}),hovered:n.solid({base:e,dark:r,tone:"caution",name:i,state:"hovered"}),pressed:n.solid({base:e,dark:r,tone:"caution",name:i,state:"pressed"}),selected:n.solid({base:e,dark:r,tone:"caution",name:i,state:"selected"})},critical:{enabled:n.solid({base:e,dark:r,tone:"critical",name:i,state:"enabled"}),disabled:n.solid({base:e,dark:r,tone:"critical",name:i,state:"disabled"}),hovered:n.solid({base:e,dark:r,tone:"critical",name:i,state:"hovered"}),pressed:n.solid({base:e,dark:r,tone:"critical",name:i,state:"pressed"}),selected:n.solid({base:e,dark:r,tone:"critical",name:i,state:"selected"})}}}function i1r(n,e,r){return{gray:n.spot({base:e,dark:r,key:"gray"}),blue:n.spot({base:e,dark:r,key:"blue"}),purple:n.spot({base:e,dark:r,key:"purple"}),magenta:n.spot({base:e,dark:r,key:"magenta"}),red:n.spot({base:e,dark:r,key:"red"}),orange:n.spot({base:e,dark:r,key:"orange"}),yellow:n.spot({base:e,dark:r,key:"yellow"}),green:n.spot({base:e,dark:r,key:"green"}),cyan:n.spot({base:e,dark:r,key:"cyan"})}}function o1r(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={...Jyr,...n};return{light:Fje(e,!1),dark:Fje(e,!0)}}function Fje(n,e){return{default:a_(n,e,"default"),transparent:a_(n,e,"transparent"),primary:a_(n,e,"primary"),positive:a_(n,e,"positive"),caution:a_(n,e,"caution"),critical:a_(n,e,"critical")}}function a_(n,e,r){const i=n.base({dark:e,name:r}),o=r1r(n,i,e,r),s=t1r(n,i,e,r);return{base:i,button:Zyr(n,i,e,o,s),card:Xyr(n,i,e,r,o,s),dark:e,input:e1r(n,i,e,o,s),selectable:n1r(n,i,e,o,s),spot:i1r(n,i,e),syntax:n.syntax({base:i,dark:e}),solid:o,muted:s}}function S1(n,e){const r=dI(n),i=dI(e);return rst(Uyr(r,i))}function k1(n,e){const r=dI(n),i=dI(e);return rst(zyr(r,i))}const fc={default:Bt.gray,transparent:Bt.gray,primary:Bt.blue,positive:Bt.green,caution:Bt.yellow,critical:Bt.red},Vk=["default","transparent"];o1r({base:n=>{let{dark:e,name:r}=n;if(r==="default"){const s=Bt.gray,a=e?s[900].hex:s[100].hex;return{fg:e?C1.hex:E1.hex,bg:e?E1.hex:C1.hex,border:s[e?800:200].hex,focusRing:Bt.blue[500].hex,shadow:{outline:jr(s[500].hex,.4),umbra:e?jr(s[950].hex,.4):jr(s[500].hex,.2),penumbra:e?jr(s[950].hex,.28):jr(s[500].hex,.14),ambient:e?jr(s[950].hex,.24):jr(s[500].hex,.12)},skeleton:{from:a,to:jr(a,.5)}}}if(r==="transparent"){const s=fc.default,a=s[e?800:200].hex;return{fg:s[e?100:900].hex,bg:s[e?950:50].hex,border:s[e?800:300].hex,focusRing:Bt.blue[500].hex,shadow:{outline:jr(s[500].hex,.4),umbra:e?jr(s[900].hex,.4):jr(s[500].hex,.2),penumbra:e?jr(s[900].hex,.28):jr(s[500].hex,.14),ambient:e?jr(s[900].hex,.24):jr(s[500].hex,.12)},skeleton:{from:a,to:jr(a,.5)}}}const i=fc[r]||fc.default,o=i[e?800:200].hex;return{fg:i[e?100:900].hex,bg:i[e?950:50].hex,border:i[e?800:200].hex,focusRing:i[500].hex,shadow:{outline:jr(i[500].hex,.4),umbra:e?jr(i[900].hex,.4):jr(i[500].hex,.2),penumbra:e?jr(i[900].hex,.28):jr(i[500].hex,.14),ambient:e?jr(i[900].hex,.24):jr(i[500].hex,.12)},skeleton:{from:o,to:jr(o,.5)}}},solid:n=>{let{base:e,dark:r,name:i,state:o,tone:s}=n;const a=r?k1:S1,l=r?S1:k1,c=fc[i]||fc.default,u=Vk.includes(i)&&Vk.includes(s);let f=fc[s==="default"?i:s]||c;if(o==="disabled"){f=c;const g=a(e.bg,f[r?800:200].hex),v=l(g,f[r?200:800].hex);return{bg:g,bg2:l(g,f[r?50:950].hex),border:a(e.bg,f[r?800:200].hex),fg:a(e.bg,r?E1.hex:C1.hex),muted:{fg:a(e.bg,f[r?950:50].hex)},accent:{fg:a(e.bg,f[r?950:50].hex)},link:{fg:a(e.bg,f[r?950:50].hex)},code:{bg:g,fg:a(e.bg,f[r?950:50].hex)},skeleton:{from:v,to:jr(v,.5)}}}if(o==="hovered"){const g=a(e.bg,f[r?300:600].hex),v=l(g,f[r?200:800].hex);return{bg:g,bg2:l(g,f[r?50:950].hex),border:a(e.bg,f[r?300:600].hex),fg:a(e.bg,r?E1.hex:C1.hex),muted:{fg:a(e.bg,f[r?800:200].hex)},accent:{fg:l(g,Bt.red[r?800:200].hex)},link:{fg:l(g,Bt.blue[r?800:200].hex)},code:{bg:a(g,f[r?950:50].hex),fg:a(e.bg,f[r?800:200].hex)},skeleton:{from:v,to:jr(v,.5)}}}if(o==="pressed"){const g=a(e.bg,f[r?200:800].hex),v=l(g,f[r?200:800].hex);return{bg:a(e.bg,f[r?200:800].hex),bg2:l(g,f[r?50:950].hex),border:a(e.bg,f[r?200:800].hex),fg:a(e.bg,r?E1.hex:C1.hex),muted:{fg:a(e.bg,f[r?800:200].hex)},accent:{fg:l(g,Bt.red[r?800:200].hex)},link:{fg:l(g,Bt.blue[r?800:200].hex)},code:{bg:a(g,f[r?950:50].hex),fg:a(e.bg,f[r?800:200].hex)},skeleton:{from:v,to:jr(v,.5)}}}if(o==="selected"){u&&(f=fc.primary);const g=a(e.bg,f[r?200:800].hex),v=l(g,f[r?200:800].hex);return{bg:g,bg2:l(g,f[r?50:950].hex),border:a(e.bg,f[r?200:800].hex),fg:a(e.bg,r?E1.hex:C1.hex),muted:{fg:a(e.bg,f[r?800:200].hex)},accent:{fg:l(g,Bt.red[r?800:200].hex)},link:{fg:l(g,Bt.blue[r?800:200].hex)},code:{bg:a(g,f[r?950:50].hex),fg:a(e.bg,f[r?800:200].hex)},skeleton:{from:v,to:jr(v,.5)}}}const h=a(e.bg,f[r?400:500].hex),m=l(h,f[r?200:800].hex);return{bg:h,bg2:l(h,f[r?50:950].hex),border:a(e.bg,f[r?400:500].hex),fg:a(e.bg,r?E1.hex:C1.hex),muted:{fg:a(e.bg,f[r?900:100].hex)},accent:{fg:l(h,Bt.red[r?900:100].hex)},link:{fg:l(h,Bt.blue[r?900:100].hex)},code:{bg:a(h,f[r?950:50].hex),fg:a(e.bg,f[r?900:100].hex)},skeleton:{from:m,to:jr(m,.5)}}},muted:n=>{let{base:e,dark:r,name:i,state:o,tone:s}=n;const a=r?k1:S1,l=fc[i]||fc.default,c=Vk.includes(i)&&Vk.includes(s);let u=fc[s==="default"?i:s]||l;if(o==="disabled"){u=l;const m=e.bg,g=a(m,u[r?900:100].hex);return{bg:m,bg2:a(m,u[r?950:50].hex),border:a(m,u[r?950:50].hex),fg:a(m,u[r?800:200].hex),muted:{fg:a(m,u[r?900:100].hex)},accent:{fg:a(m,u[r?900:100].hex)},link:{fg:a(m,u[r?900:100].hex)},code:{bg:m,fg:a(m,u[r?900:100].hex)},skeleton:{from:jr(g,.5),to:jr(g,.25)}}}if(o==="hovered"){const m=a(e.bg,u[r?950:50].hex),g=a(m,u[r?900:100].hex);return{bg:m,bg2:a(m,u[r?950:50].hex),border:a(m,u[r?900:100].hex),fg:a(e.bg,u[r?200:800].hex),muted:{fg:a(e.bg,u[r?400:600].hex)},accent:{fg:a(e.bg,Bt.red[r?400:500].hex)},link:{fg:a(e.bg,Bt.blue[r?400:600].hex)},code:{bg:a(m,u[r?950:50].hex),fg:a(e.bg,u[r?400:600].hex)},skeleton:{from:g,to:jr(g,.5)}}}if(o==="pressed"){c&&(u=fc.primary);const m=a(e.bg,u[r?900:100].hex),g=a(m,u[r?900:100].hex);return{bg:m,bg2:a(m,u[r?950:50].hex),border:a(m,u[r?900:100].hex),fg:a(e.bg,u[r?200:800].hex),muted:{fg:a(e.bg,u[r?400:600].hex)},accent:{fg:a(m,Bt.red[r?400:500].hex)},link:{fg:a(m,Bt.blue[r?400:600].hex)},code:{bg:a(m,u[r?950:50].hex),fg:a(e.bg,u[r?400:600].hex)},skeleton:{from:g,to:jr(g,.5)}}}if(o==="selected"){c&&(u=fc.primary);const m=a(e.bg,u[r?900:100].hex),g=a(m,u[r?900:100].hex);return{bg:m,bg2:a(m,u[r?950:50].hex),border:a(m,u[r?900:100].hex),fg:a(e.bg,u[r?200:800].hex),muted:{fg:a(e.bg,u[r?400:600].hex)},accent:{fg:a(m,Bt.red[r?400:500].hex)},link:{fg:a(m,Bt.blue[r?400:600].hex)},code:{bg:a(m,u[r?950:50].hex),fg:a(e.bg,u[r?400:600].hex)},skeleton:{from:g,to:jr(g,.5)}}}const f=e.bg,h=a(f,u[r?900:100].hex);return{bg:f,bg2:a(f,u[r?950:50].hex),border:a(f,u[r?900:100].hex),fg:a(e.bg,u[r?300:700].hex),muted:{fg:a(e.bg,u[r?400:600].hex)},accent:{fg:a(e.bg,Bt.red[r?400:500].hex)},link:{fg:a(e.bg,Bt.blue[r?400:600].hex)},code:{bg:a(e.bg,u[r?950:50].hex),fg:a(e.bg,u[r?400:600].hex)},skeleton:{from:h,to:jr(h,.5)}}},button:n=>{let{base:e,mode:r,muted:i,solid:o}=n;return r==="bleed"?{enabled:{...i.enabled,border:i.enabled.bg},hovered:{...i.hovered,border:i.hovered.bg},pressed:{...i.pressed,border:i.pressed.bg},selected:{...i.selected,border:i.selected.bg},disabled:{...i.disabled,border:i.disabled.bg}}:r==="ghost"?{...o,enabled:{...i.enabled,border:e.border},disabled:i.disabled}:o},card:n=>{let{base:e,dark:r,muted:i,name:o,solid:s,state:a}=n;if(a==="hovered")return i[o].hovered;if(a==="disabled")return i[o].disabled;const l=Vk.includes(o),c=fc[o]||fc.default,u=r?k1:S1;if(a==="pressed")return l?i.primary.pressed:i[o].pressed;if(a==="selected")return l?s.primary.enabled:s[o].enabled;const f=e.bg,h=u(e.bg,c[r?900:100].hex);return{bg:f,bg2:u(f,c[r?950:50].hex),fg:e.fg,border:e.border,muted:{fg:u(e.bg,c[r?400:600].hex)},accent:{fg:u(e.bg,Bt.red[r?400:500].hex)},link:{fg:u(e.bg,Bt.blue[r?400:600].hex)},code:{bg:u(e.bg,c[r?950:50].hex),fg:c[r?400:600].hex},skeleton:{from:h,to:jr(h,.5)}}},input:n=>{let{base:e,dark:r,mode:i,state:o}=n;const s=r?k1:S1;if(i==="invalid"){const a=fc.critical;return{bg:s(e.bg,a[r?950:50].hex),fg:s(e.bg,a[r?400:600].hex),border:s(e.bg,a[r?800:200].hex),placeholder:s(e.bg,a[r?600:400].hex)}}return o==="hovered"?{bg:e.bg,fg:e.fg,border:s(e.bg,Bt.gray[r?700:300].hex),placeholder:s(e.bg,Bt.gray[r?600:400].hex)}:o==="disabled"?{bg:s(e.bg,Bt.gray[r?950:50].hex),fg:s(e.bg,Bt.gray[r?700:300].hex),border:s(e.bg,Bt.gray[r?900:100].hex),placeholder:s(e.bg,Bt.gray[r?800:200].hex)}:o==="readOnly"?{bg:s(e.bg,Bt.gray[r?950:50].hex),fg:s(e.bg,Bt.gray[r?200:800].hex),border:s(e.bg,Bt.gray[r?800:200].hex),placeholder:s(e.bg,Bt.gray[r?600:400].hex)}:{bg:e.bg,fg:e.fg,border:e.border,placeholder:s(e.bg,Bt.gray[r?600:400].hex)}},selectable:n=>{let{base:e,muted:r,tone:i,solid:o,state:s}=n;return s==="enabled"?{...r[i].enabled,bg:e.bg}:s==="pressed"?i==="default"?r.primary.pressed:r[i].pressed:s==="selected"?i==="default"?o.primary.enabled:o[i].enabled:s==="disabled"?{...r[i].disabled,bg:e.bg}:r[i][s]},spot:n=>{let{base:e,dark:r,key:i}=n;return(r?k1:S1)(e.bg,Bt[i][r?400:500].hex)},syntax:n=>{let{base:e,dark:r}=n;const i=r?k1:S1,o=r?400:600,s=r?600:400;return{atrule:i(e.bg,Bt.purple[o].hex),attrName:i(e.bg,Bt.green[o].hex),attrValue:i(e.bg,Bt.yellow[o].hex),attribute:i(e.bg,Bt.yellow[o].hex),boolean:i(e.bg,Bt.purple[o].hex),builtin:i(e.bg,Bt.purple[o].hex),cdata:i(e.bg,Bt.yellow[o].hex),char:i(e.bg,Bt.yellow[o].hex),class:i(e.bg,Bt.orange[o].hex),className:i(e.bg,Bt.cyan[o].hex),comment:i(e.bg,Bt.gray[s].hex),constant:i(e.bg,Bt.purple[o].hex),deleted:i(e.bg,Bt.red[o].hex),doctype:i(e.bg,Bt.gray[s].hex),entity:i(e.bg,Bt.red[o].hex),function:i(e.bg,Bt.green[o].hex),hexcode:i(e.bg,Bt.blue[o].hex),id:i(e.bg,Bt.purple[o].hex),important:i(e.bg,Bt.purple[o].hex),inserted:i(e.bg,Bt.yellow[o].hex),keyword:i(e.bg,Bt.magenta[o].hex),number:i(e.bg,Bt.purple[o].hex),operator:i(e.bg,Bt.magenta[o].hex),prolog:i(e.bg,Bt.gray[s].hex),property:i(e.bg,Bt.blue[o].hex),pseudoClass:i(e.bg,Bt.yellow[o].hex),pseudoElement:i(e.bg,Bt.yellow[o].hex),punctuation:i(e.bg,Bt.gray[o].hex),regex:i(e.bg,Bt.blue[o].hex),selector:i(e.bg,Bt.red[o].hex),string:i(e.bg,Bt.yellow[o].hex),symbol:i(e.bg,Bt.purple[o].hex),tag:i(e.bg,Bt.red[o].hex),unit:i(e.bg,Bt.orange[o].hex),url:i(e.bg,Bt.red[o].hex),variable:i(e.bg,Bt.red[o].hex)}}});const s1r={dialog:{zOffset:600},popover:{zOffset:400},tooltip:{zOffset:200}};function a1r(){if(typeof globalThis<"u")return globalThis;if(typeof window<"u")return window;if(typeof self<"u")return self;if(typeof global<"u")return global;throw new Error("@sanity/ui: could not locate global scope")}const Yr=a1r(),_Z=Symbol.for("@sanity/ui/context/theme");Yr[_Z]=Yr[_Z]||p.createContext(null);const EZ=Yr[_Z];function l1r(n){const e=p.useContext(EZ),{children:r,scheme:i=(e==null?void 0:e.scheme)||"light",theme:o=(e==null?void 0:e.theme)||null,tone:s=(e==null?void 0:e.tone)||"default"}=n,a=p.useMemo(()=>{if(!o)return null;const{color:c,layer:u,...f}=o,h=c[i]||c.light,m=h[s]||h.default;return{sanity:{...f,color:m,layer:u||s1r}}},[i,o,s]),l=p.useMemo(()=>o&&{version:0,theme:o,scheme:i,tone:s},[o,i,s]);return a?d.jsx(EZ.Provider,{value:l,children:d.jsx($Ne,{theme:a,children:r})}):d.jsx("pre",{children:'ThemeProvider: no "theme" property provided'})}function y2(n){return!!(n&&typeof n=="object")}function BB(){const n=p.useContext(EZ);if(!n)throw new Error("useRootTheme(): missing context value");if(!y2(n)||n.version!==0)throw new Error("useRootTheme(): the context value is not compatible");return n}function c1r(n){const{children:e,scheme:r,tone:i}=n,o=BB();return d.jsx(l1r,{scheme:r||o.scheme,theme:o.theme,tone:i,children:e})}function Zy(){return cJ()}const Nje=new WeakMap;function u1r(n,e){return e===0?"screen and (max-width: ".concat(n[e]-1,"px)"):e===n.length?"screen and (min-width: ".concat(n[e-1],"px)"):"screen and (min-width: ".concat(n[e-1],"px) and (max-width: ").concat(n[e]-1,"px)")}function d1r(n){const e=n.length;let r;const i=()=>{if(!r){r=[];for(let a=e;a>-1;a-=1){const l=u1r(n,a);r.push({index:a,mq:window.matchMedia(l)})}}return r};return{getSnapshot:()=>{for(const{index:a,mq:l}of i())if(l.matches)return a;return 0},subscribe:a=>{const l=[];for(const{mq:c}of i()){const u=()=>{c.matches&&a()};c.addEventListener("change",u),l.push(()=>c.removeEventListener("change",u))}return()=>{for(const c of l)c()}}}}function f1r(){return 0}function ist(){const n=Zy(),{media:e}=n.sanity;let r=Nje.get(e);return r||(r=d1r(e),Nje.set(e,r)),p.useSyncExternalStore(r.subscribe,r.getSnapshot,f1r)}const h1r=typeof window<"u"?p.useLayoutEffect:p.useEffect;function El(n){const e=p.useRef(null);return h1r(()=>{n&&(typeof n=="function"?n(e.current):n.current=e.current)}),e}function uR(n,e){p.useEffect(()=>{n.current&&n.current.setCustomValidity(e||"")},[e,n])}const dR="1px solid var(--card-border-color)";function p1r(){return[m1r,g1r,v1r,y1r,b1r]}function m1r(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$border,i=>i?{"&&":{border:dR}}:{"&&":{border:0}})}function g1r(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$borderTop,i=>i?{"&&":{borderTop:dR}}:{"&&":{borderTop:0}})}function v1r(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$borderRight,i=>i?{"&&":{borderRight:dR}}:{"&&":{borderRight:0}})}function y1r(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$borderBottom,i=>i?{"&&":{borderBottom:dR}}:{"&&":{borderBottom:0}})}function b1r(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$borderLeft,i=>i?{"&&":{borderLeft:dR}}:{"&&":{borderLeft:0}})}const x1r={'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},w1r={content:"content-box",border:"border-box"},_1r={stretch:"stretch",fill:"100%"};function E1r(){return x1r}function C1r(){return[k1r,T1r,A1r,S1r]}function S1r(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$display,i=>({"&:not([hidden])":{display:i}}))}function k1r(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$sizing,i=>({boxSizing:w1r[i]}))}function T1r(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$height,i=>({height:_1r[i]}))}function A1r(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$overflow,i=>({overflow:i}))}const I1r={"&&:not([hidden])":{display:"flex"}};function D1r(){return[I1r,R1r,O1r,P1r,j1r,L1r]}function R1r(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$align,i=>({alignItems:i}))}function O1r(n){const{theme:e}=n,{media:r,space:i}=e.sanity;return tr(r,n.$gap,o=>({gap:o?sn(i[o]):void 0}))}function P1r(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$wrap,i=>({flexWrap:i}))}function j1r(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$justify,i=>({justifyContent:i}))}function L1r(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$direction,i=>({flexDirection:i}))}const $1r={minWidth:0,minHeight:0};function ost(){return[$1r,M1r]}function M1r(n){const{theme:e}=n,{media:r}=e.sanity;return n.$flex?tr(r,n.$flex,i=>({flex:i})):cR}function Sa(n){return"inset 0 0 0 ".concat(n.width,"px ").concat(n.color)}function Gp(n){const{base:e,border:r,focusRing:i}=n,o=i.offset+i.width,s=0-i.offset,a=e?e.bg:"var(--card-bg-color)";return[s>0&&"inset 0 0 0 ".concat(s,"px var(--card-focus-ring-color)"),r&&Sa(r),s<0&&"0 0 0 ".concat(0-s,"px ").concat(a),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}const F1r={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"}},N1r={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},B1r={auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"};function U1r(){return[F1r,z1r,V1r,H1r,W1r,G1r,q1r,K1r,Y1r]}function z1r(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$autoFlow,i=>({gridAutoFlow:i}))}function V1r(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$autoRows,i=>({gridAutoRows:i&&B1r[i]}))}function H1r(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$autoCols,i=>({gridAutoColumns:i&&N1r[i]}))}function W1r(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$columns,i=>({gridTemplateColumns:i&&"repeat(".concat(i,",minmax(0,1fr));")}))}function G1r(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$rows,i=>({gridTemplateRows:i&&"repeat(".concat(i,",minmax(0,1fr));")}))}function q1r(n){const{theme:e}=n,{media:r,space:i}=e.sanity;return tr(r,n.$gap,o=>({gridGap:o?sn(i[o]):void 0}))}function K1r(n){const{theme:e}=n,{media:r,space:i}=e.sanity;return tr(r,n.$gapX,o=>({columnGap:o?sn(i[o]):void 0}))}function Y1r(n){const{theme:e}=n,{media:r,space:i}=e.sanity;return tr(r,n.$gapY,o=>({rowGap:o?sn(i[o]):void 0}))}function Z1r(){return[J1r,ebr,tbr,nbr,rbr,ibr]}const X1r={auto:"auto",full:"1 / -1"},Q1r={auto:"auto",full:"1 / -1"};function J1r(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$row,i=>typeof i=="number"?{gridRow:"span ".concat(i," / span ").concat(i)}:{gridRow:X1r[i]})}function ebr(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$rowStart,i=>({gridRowStart:i}))}function tbr(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$rowEnd,i=>({gridRowEnd:i}))}function nbr(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$column,i=>typeof i=="number"?{gridColumn:"span ".concat(i," / span ").concat(i)}:{gridColumn:Q1r[i]})}function rbr(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$columnStart,i=>({gridColumnStart:i}))}function ibr(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$columnEnd,i=>({gridColumnEnd:i}))}function Ase(n){const{$fontSize:e,$iconLeft:r,$iconRight:i,$padding:o,$space:s,theme:a}=n,{fonts:l,media:c,space:u}=a.sanity,f=Math.max(o.length,s.length,e.length),h=[],m=[],g=[];for(let v=0;v<f;v+=1)g[v]=e[v]===void 0?g[v-1]:e[v],h[v]=o[v]===void 0?h[v-1]:o[v],m[v]=s[v]===void 0?m[v-1]:s[v];return tr(c,h,(v,y)=>{const b=l.text.sizes[g[y]]||l.text.sizes[2],x=b.lineHeight-b.ascenderHeight-b.descenderHeight,_=u[h[y]],w=u[m[y]],C={paddingTop:sn(_-b.ascenderHeight),paddingRight:sn(_),paddingBottom:sn(_-b.descenderHeight),paddingLeft:sn(_)};return i&&(C.paddingRight=sn(_+x+w)),r&&(C.paddingLeft=sn(_+x+w)),C})}function obr(n){return Ase({...n,$iconRight:!0})}var Bje=Object.freeze,sbr=Object.defineProperty,Ise=(n,e)=>Bje(sbr(n,"raw",{value:Bje(e||n.slice())})),Uje,zje,Vje;const abr=Ae(Uje||(Uje=Ise([`
  &:not([hidden]) {
    display: flex;
  }

  align-items: center;
`])));function sst(){return abr}function ast(n){const{theme:e,$scheme:r,$tone:i,$weight:o}=n,s=e.sanity.fonts.text,a=e.sanity.color.input;return Ae(zje||(zje=Ise([`
    appearance: none;
    background: none;
    border: 0;
    border-radius: 0;
    outline: none;
    width: 100%;
    box-sizing: border-box;
    font-family: `,`;
    font-weight: `,`;
    margin: 0;
    position: relative;
    z-index: 1;
    display: block;

    /* NOTE: This is a hack to disable Chrome’s autofill styles */
    &:-webkit-autofill,
    &:-webkit-autofill:hover,
    &:-webkit-autofill:focus,
    &:-webkit-autofill:active {
      -webkit-text-fill-color: var(--input-fg-color) !important;
      transition: background-color 5000s;
      transition-delay: 86400s /* 24h */;
    }

    /* &:is(textarea) */
    &[data-as='textarea'] {
      resize: none;
    }

    color: var(--input-fg-color);

    &::placeholder {
      color: var(--input-placeholder-color);
    }

    &[data-scheme='`,"'][data-tone='",`'] {
      --input-fg-color: `,`;
      --input-placeholder-color: `,`;

      /* enabled */
      &:not(:invalid):not(:disabled):not(:read-only) {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* disabled */
      &:not(:invalid):disabled {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* invalid */
      &:invalid {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }

      /* readOnly */
      &:read-only {
        --input-fg-color: `,`;
        --input-placeholder-color: `,`;
      }
    }
  `])),s.family,o&&s.weights[o]||s.weights.regular,r,i,a.default.enabled.fg,a.default.enabled.placeholder,a.default.enabled.fg,a.default.enabled.placeholder,a.default.disabled.fg,a.default.disabled.placeholder,a.invalid.enabled.fg,a.invalid.enabled.placeholder,a.default.readOnly.fg,a.default.readOnly.placeholder)}function lst(n){const{theme:e}=n,{fonts:r,media:i}=e.sanity;return tr(i,n.$fontSize,o=>{const s=r.text.sizes[o]||r.text.sizes[2];return{fontSize:sn(s.fontSize),lineHeight:s.lineHeight/s.fontSize}})}function cst(n){const{$hasPrefix:e,$hasSuffix:r,$scheme:i,$tone:o,theme:s}=n,{focusRing:a,input:l}=s.sanity,c=s.sanity.color.input;return Ae(Vje||(Vje=Ise([`
    --input-box-shadow: none;

    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    display: block;
    pointer-events: none;
    z-index: 0;

    background-color: var(--card-bg-color);
    box-shadow: var(--input-box-shadow);

    border-top-left-radius: `,`;
    border-bottom-left-radius: `,`;
    border-top-right-radius: `,`;
    border-bottom-right-radius: `,`;

    &[data-scheme='`,"'][data-tone='",`'] {
      --card-bg-color: `,`;
      --card-fg-color: `,`;

      /* enabled */
      *:not(:disabled) + &[data-border] {
        --input-box-shadow: `,`;
      }

      /* invalid */
      *:not(:disabled):invalid + & {
        --card-bg-color: `,`;
        --card-fg-color: `,`;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* focused */
      *:not(:disabled):focus + & {
        &[data-border] {
          --input-box-shadow: `,`;
        }

        &:not([data-border]) {
          --input-box-shadow: `,`;
        }
      }

      /* disabled */
      *:disabled + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;

        &[data-border] {
          --input-box-shadow: `,`;
        }
      }

      /* readOnly */
      *:read-only + & {
        --card-bg-color: `,` !important;
        --card-fg-color: `,` !important;
      }

      /* hovered */
      @media (hover: hover) {
        *:not(:disabled):not(:read-only):not(:invalid):hover + & {
          --card-bg-color: `,`;
          --card-fg-color: `,`;
        }

        *:not(:disabled):not(:read-only):not(:invalid):not(:focus):hover + &[data-border] {
          --input-box-shadow: `,`;
        }
      }
    }
  `])),e?0:void 0,e?0:void 0,r?0:void 0,r?0:void 0,i,o,c.default.enabled.bg,c.default.enabled.fg,Sa({color:c.default.enabled.border,width:l.border.width}),c.invalid.enabled.bg,c.invalid.enabled.fg,Sa({color:c.invalid.enabled.border,width:l.border.width}),Gp({border:{color:c.default.enabled.border,width:l.border.width},focusRing:a}),Gp({focusRing:a}),c.default.disabled.bg,c.default.disabled.fg,Sa({color:c.default.disabled.border,width:l.border.width}),c.default.readOnly.bg,c.default.readOnly.fg,c.default.hovered.bg,c.default.hovered.fg,Sa({color:c.default.hovered.border,width:l.border.width}))}function lbr(n){const{theme:e}=n;return[su(e,["margin"],n.$margin),su(e,["marginLeft","marginRight"],n.$marginX),su(e,["marginTop","marginBottom"],n.$marginY),su(e,["marginTop"],n.$marginTop),su(e,["marginRight"],n.$marginRight),su(e,["marginBottom"],n.$marginBottom),su(e,["marginLeft"],n.$marginLeft)].filter(Boolean)}function ust(n){const{theme:e}=n;return[su(e,["padding"],n.$padding),su(e,["paddingLeft","paddingRight"],n.$paddingX),su(e,["paddingTop","paddingBottom"],n.$paddingY),su(e,["paddingTop"],n.$paddingTop),su(e,["paddingRight"],n.$paddingRight),su(e,["paddingBottom"],n.$paddingBottom),su(e,["paddingLeft"],n.$paddingLeft)].filter(Boolean)}function uv(n){const{theme:e}=n,{media:r,radius:i}=e.sanity;return tr(r,n.$radius,o=>({borderRadius:sn(i[o])}))}function RH(n,e){return"".concat(n.map(sn).join(" ")," ").concat(e)}function cbr(n){if(!n)return ey;const e="0 0 0 ".concat(sn(1)," var(--card-shadow-outline-color)"),r=RH(n.umbra,"var(--card-shadow-umbra-color)"),i=RH(n.penumbra,"var(--card-shadow-penumbra-color)"),o=RH(n.ambient,"var(--card-shadow-ambient-color)");return{boxShadow:"".concat(e,", ").concat(r,", ").concat(i,", ").concat(o)}}function ubr(n){const{theme:e}=n,{media:r,shadows:i}=e.sanity;return tr(r,n.$shadow,o=>cbr(i[o]))}var Hje=Object.freeze,dbr=Object.defineProperty,OH=(n,e)=>Hje(dbr(n,"raw",{value:Hje(e||n.slice())})),Wje,Gje,qje;function fbr(n){const{$accent:e,$muted:r,theme:i}=n,{weights:o}=i.sanity.fonts.text;return Ae(qje||(qje=OH([`
    color: var(--card-fg-color);

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
      background-color: var(--card-code-bg-color);
      color: var(--card-code-fg-color);
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & strong {
      font-weight: `,`;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),e&&Ae(Wje||(Wje=OH([`
      color: var(--card-accent-fg-color);
    `]))),r&&Ae(Gje||(Gje=OH([`
      color: var(--card-muted-fg-color);
    `]))),i.sanity.fonts.code.family,o.bold)}var Kje=Object.freeze,hbr=Object.defineProperty,pbr=(n,e)=>Kje(hbr(n,"raw",{value:Kje(e||n.slice())})),Yje;const mbr=F.div(gyr,kse,fbr),gbr=F.span(Yje||(Yje=pbr([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Rn=p.forwardRef(function(e,r){const{accent:i=!1,align:o,children:s,muted:a=!1,size:l=2,textOverflow:c,weight:u,...f}=e;let h=s;return c==="ellipsis"&&(h=d.jsx(gbr,{children:h})),d.jsx(mbr,{"data-ui":"Text",...f,$accent:i,$align:ct(o),$muted:a,ref:r,$size:ct(l),$weight:u,children:d.jsx("span",{children:h})})}),fR={root:ybr,arrow:vbr,bgStroke:wbr,stroke:_br,initials:xbr};function vbr(){return{position:"absolute",boxSizing:"border-box",zIndex:0,opacity:0,transition:"all 0.2s linear",transform:"rotate(-90deg) translate3d(0, 6px, 0)",left:0,right:0,top:0,bottom:0,"& > svg":{width:"11px",height:"7px",position:"absolute",top:"-5px",left:"50%",transform:"translateX(-6px)","&:not([hidden])":{display:"block"}},"[data-arrow-position='inside'] > &":{transform:"rotate(-90deg) translate3d(0, 6px, 0)",opacity:0},"[data-arrow-position='top'] > &":{opacity:1,transform:"rotate(0deg)"},"[data-arrow-position='bottom'] > &":{opacity:1,transform:"rotate(-180deg)"}}}function ybr(n){const{$color:e,theme:r}=n,{focusRing:i}=r.sanity;return{backgroundColor:e,position:"relative",boxSizing:"border-box",userSelect:"none",boxShadow:"0 0 0 1px var(--card-bg-color)",'&[data-status="inactive"]':{opacity:.5},"&>svg":{"&:not([hidden])":{display:"block"}},'&[data-as="button"]':{WebkitFontSmoothing:"inherit",appearance:"none",margin:0,padding:0,border:0,font:"inherit",color:"inherit",outline:"none","&:focus":{boxShadow:Gp({focusRing:i})},"&:focus:not(:focus-visible)":{boxShadow:"none"}}}}function bbr(n){const{theme:e}=n,{avatar:r,media:i}=e.sanity;return tr(i,n.$size,o=>{const s=r.sizes[o]||r.sizes[0];return{width:sn(s.size),height:sn(s.size),borderRadius:sn(s.size/2),"&>svg":{width:sn(s.size),height:sn(s.size),borderRadius:sn(s.size/2)}}})}function xbr(n){const{theme:e}=n,{base:r}=e.sanity.color;return{width:"100%",height:"100%",color:r.fg,alignItems:"center",justifyContent:"center",textTransform:"uppercase",textAlign:"center",borderRadius:"50%","&:not([hidden])":{display:"flex"}}}function wbr(){return{strokeWidth:"4px",stroke:"var(--card-bg-color)"}}function _br(){return{strokeWidth:"3px",'[data-status="editing"] &':{strokeDasharray:"2 4",strokeLinecap:"round"}}}const Ebr=F.div(bbr,fR.root),Cbr=F.div(fR.arrow),Sbr=F.ellipse(fR.bgStroke),kbr=F.ellipse(fR.stroke),Tbr=F.div(fR.initials);p.forwardRef(function(e,r){const{as:i,color:o="gray",src:s,title:a,initials:l,onImageLoadError:c,arrowPosition:u,animateArrowFrom:f,status:h="online",size:m=0,...g}=e,v=dNe.isValidElementType(i)?i:"div",y=ct(m),b=Zy(),x=b.sanity.color.spot[o]||b.sanity.color.spot.gray,w=(b.sanity.avatar.sizes[y[0]]||b.sanity.avatar.sizes[0]).size,C=w/2,S=p.useId(),[T,A]=p.useState(f||u||"inside"),[I,D]=p.useState(!1),R="avatar-image-".concat(S);p.useEffect(()=>{if(T===u)return;const $=requestAnimationFrame(()=>A(u));return()=>cancelAnimationFrame($)},[T,u]),p.useEffect(()=>{s&&D(!1)},[s]);const P=p.useCallback(()=>{D(!0),c&&c(new Error("Avatar: the image failed to load"))},[c]),O=p.useMemo(()=>y.map($=>$===0?0:$+1),[y]);return d.jsxs(Ebr,{as:v,"data-as":typeof v=="string"?v:void 0,"data-ui":"Avatar",...g,$size:y,$color:x,"aria-label":a,"data-arrow-position":T,"data-status":h,ref:r,title:a,children:[d.jsx(Cbr,{children:d.jsx("svg",{width:"11",height:"7",viewBox:"0 0 11 7",fill:"none",children:d.jsx("path",{d:"M6.67948 1.50115L11 7L0 7L4.32052 1.50115C4.92109 0.736796 6.07891 0.736795 6.67948 1.50115Z",fill:x})})}),!I&&s&&d.jsxs("svg",{viewBox:"0 0 ".concat(w," ").concat(w),fill:"none",children:[d.jsx("defs",{children:d.jsx("pattern",{id:R,patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:d.jsx("image",{href:s,width:"1",height:"1",onError:P})})}),d.jsx("circle",{cx:C,cy:C,r:C,fill:"url(#".concat(R,")")}),d.jsx(Sbr,{cx:C,cy:C,rx:C,ry:C,vectorEffect:"non-scaling-stroke"}),d.jsx(kbr,{cx:C,cy:C,rx:C,ry:C,stroke:x,vectorEffect:"non-scaling-stroke"})]}),(I||!s)&&l&&d.jsx(d.Fragment,{children:d.jsx(Tbr,{children:d.jsx(Rn,{as:"span",size:O,children:d.jsx("strong",{children:l})})})})]})});var Zje=Object.freeze,Abr=Object.defineProperty,Ibr=(n,e)=>Zje(Abr(n,"raw",{value:Zje(e||n.slice())})),Xje;function Dbr(n){const{theme:e}=n,{avatar:r,media:i}=e.sanity;return tr(i,n.$size,o=>{const s=r.sizes[o];return s?{borderRadius:sn(s.size/2),minWidth:sn(s.size),height:sn(s.size)}:ey})}function Rbr(n){const{theme:e}=n;return Ae(Xje||(Xje=Ibr([`
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    user-select: none;
    color: inherit;
    color: var(--card-fg-color);
    background: var(--card-bg-color);
    box-shadow:
      0 0 0 1px var(--card-bg-color),
      inset 0 0 0 1.5px var(--card-hairline-hard-color);
    padding: 0 `,`;

    &:not([hidden]) {
      display: flex;
    }
  `])),sn(e.sanity.space[2]))}const Obr=F.div(Dbr,Rbr),Qje=p.forwardRef(function(e,r){const{count:i,size:o=0}=e,s=ct(o),a=p.useMemo(()=>s.map(l=>l===0?0:l+1),[s]);return d.jsx(Obr,{$size:s,"data-ui":"AvatarCounter",ref:r,children:d.jsx(Rn,{as:"span",size:a,children:d.jsx("strong",{children:i})})})});function dst(n){return(Array.isArray(n)?n:[n]).filter(r=>Xr.isElement(r)||Xr.isFragment(r)||typeof r=="string")}var Jje=Object.freeze,Pbr=Object.defineProperty,jbr=(n,e)=>Jje(Pbr(n,"raw",{value:Jje(e||n.slice())})),eLe;const Lbr=Ae(eLe||(eLe=jbr([`
  white-space: nowrap;

  & > div {
    vertical-align: top;

    &:not([hidden]) {
      display: inline-block;
    }
  }
`])));function $br(){return Lbr}function Mbr(n){const{theme:e}=n,{avatar:r,media:i}=e.sanity;return tr(i,n.$size,o=>{const s=r.sizes[o];return s?{"& > div + div":{marginLeft:sn(s.distance)}}:ey})}const Fbr=F.div(Mbr,$br);p.forwardRef(function(e,r){const{children:i,maxLength:o=4,size:s=0,...a}=e,l=dst(i).filter(v=>typeof v!="string"),c=Math.max(o,0),u=ct(s),f=l.length,h=c-1,m=f-h,g=m>1?l.slice(m,f):l;return d.jsxs(Fbr,{"data-ui":"AvatarStack",...a,ref:r,$size:u,children:[f===0&&d.jsx("div",{children:d.jsx(Qje,{count:f})}),f!==0&&m>1&&d.jsx("div",{children:d.jsx(Qje,{count:m,size:u})}),g.map((v,y)=>d.jsx("div",{children:p.cloneElement(v,{size:u})},String(y)))]})});const Nbr=F.div(E1r,ost,C1r,Z1r,lbr,ust),Gn=p.forwardRef(function(e,r){const{as:i="div",column:o,columnStart:s,columnEnd:a,display:l="block",flex:c,height:u,margin:f=0,marginX:h,marginY:m,marginTop:g,marginRight:v,marginBottom:y,marginLeft:b,overflow:x,padding:_=0,paddingX:w,paddingY:C,paddingTop:S,paddingRight:T,paddingBottom:A,paddingLeft:I,row:D,rowStart:R,rowEnd:P,sizing:O,...$}=e;return d.jsx(Nbr,{"data-as":typeof i=="string"?i:void 0,"data-ui":"Box",...$,$column:ct(o),$columnStart:ct(s),$columnEnd:ct(a),$display:ct(l),$flex:ct(c),$height:ct(u),$margin:ct(f),$marginX:ct(h),$marginY:ct(m),$marginTop:ct(g),$marginRight:ct(v),$marginBottom:ct(y),$marginLeft:ct(b),$overflow:ct(x),$padding:ct(_),$paddingX:ct(w),$paddingY:ct(C),$paddingTop:ct(S),$paddingRight:ct(T),$paddingBottom:ct(A),$paddingLeft:ct(I),$row:ct(D),$rowStart:ct(R),$rowEnd:ct(P),$sizing:ct(O),as:i,ref:r,children:e.children})});var tLe=Object.freeze,Bbr=Object.defineProperty,PH=(n,e)=>tLe(Bbr(n,"raw",{value:tLe(e||n.slice())})),nLe,rLe,iLe;function Ubr(n){const{$accent:e,$muted:r,theme:i}=n,{fonts:o}=i.sanity;return Ae(iLe||(iLe=PH([`
    text-transform: uppercase;

    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),e&&Ae(nLe||(nLe=PH([`
      color: var(--card-accent-fg-color);
    `]))),r&&Ae(rLe||(rLe=PH([`
      color: var(--card-muted-fg-color);
    `]))),o.code.family)}var oLe=Object.freeze,zbr=Object.defineProperty,Vbr=(n,e)=>oLe(zbr(n,"raw",{value:oLe(e||n.slice())})),sLe;const Hbr=F.div(myr,kse,Ubr),Wbr=F.span(sLe||(sLe=Vbr([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),Dse=p.forwardRef(function(e,r){const{accent:i,align:o,children:s,muted:a=!1,size:l=2,textOverflow:c,weight:u,...f}=e;let h=s;return c==="ellipsis"?h=d.jsx(Wbr,{children:h}):h=d.jsx("span",{children:h}),d.jsx(Hbr,{"data-ui":"Label",...f,$accent:i,$align:ct(o),$muted:a,$size:ct(l),$weight:u,ref:r,children:h})});function Gbr(n){const{$mode:e,$tone:r,theme:i}=n,o=i.sanity.color[e==="outline"?"muted":"solid"],s=o[r]||o.default;return{backgroundColor:s.enabled.bg,color:s.enabled.fg,boxShadow:"inset 0 0 0 1px ".concat(s.enabled.border),cursor:"default","&:not([hidden])":{display:"inline-block"}}}const qbr=F(Gn)(uv,Gbr);p.forwardRef(function(e,r){const{children:i,fontSize:o,mode:s="default",padding:a=1,radius:l=2,tone:c="default",...u}=e;return d.jsx(qbr,{"data-ui":"Badge",...u,$mode:s,$tone:c,$radius:ct(l),padding:ct(a),ref:r,children:d.jsx(Dse,{size:o,children:i})})});const Kbr=F(Gn)(ost,D1r),Pi=p.forwardRef(function(e,r){const{align:i,as:o,direction:s="row",gap:a,justify:l,wrap:c,...u}=e;return d.jsx(Kbr,{"data-ui":"Flex",...u,$align:ct(i),$direction:ct(s),$gap:ct(a),$justify:ct(l),$wrap:ct(c),forwardedAs:o,ref:r})});var aLe=Object.freeze,Ybr=Object.defineProperty,fst=(n,e)=>aLe(Ybr(n,"raw",{value:aLe(e||n.slice())})),lLe,cLe;const Zbr=Kp(lLe||(lLe=fst([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),Xbr=F(Rn)(cLe||(cLe=fst([`
  & > span > svg {
    animation: `,` 500ms linear infinite;
  }
`])),Zbr),UB=p.forwardRef(function(e,r){return d.jsx(Xbr,{"data-ui":"Spinner",...e,ref:r,children:d.jsx(Gx,{})})});function Mr(n,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var i,o,s,a,l,c,u,f;return{"--card-shadow-outline-color":n.shadow.outline,"--card-shadow-umbra-color":n.shadow.umbra,"--card-shadow-penumbra-color":n.shadow.penumbra,"--card-shadow-ambient-color":n.shadow.ambient,"--card-focus-ring-color":n.focusRing,"--card-bg-color":e.bg,"--card-bg-image":r?"repeating-conic-gradient(".concat(e.bg," 0% 25%, ").concat(e.bg2||e.bg," 0% 50%)"):void 0,"--card-fg-color":e.fg,"--card-border-color":e.border,"--card-muted-fg-color":(i=e.muted)==null?void 0:i.fg,"--card-accent-fg-color":(o=e.accent)==null?void 0:o.fg,"--card-link-fg-color":(s=e.link)==null?void 0:s.fg,"--card-code-bg-color":(a=e.code)==null?void 0:a.bg,"--card-code-fg-color":(l=e.code)==null?void 0:l.fg,"--card-skeleton-color-from":(c=e.skeleton)==null?void 0:c.from,"--card-skeleton-color-to":(u=e.skeleton)==null?void 0:u.to,"--card-link-color":(f=e.link)==null?void 0:f.fg,"--card-hairline-soft-color":e.border,"--card-hairline-hard-color":e.border}}var uLe=Object.freeze,Qbr=Object.defineProperty,Jbr=(n,e)=>uLe(Qbr(n,"raw",{value:uLe(e||n.slice())})),dLe;function exr(){return Ae(dLe||(dLe=Jbr([`
    -webkit-font-smoothing: inherit;
    appearance: none;
    display: inline-flex;
    align-items: center;
    font: inherit;
    border: 0;
    outline: none;
    user-select: none;
    text-decoration: none;
    border: 0;
    box-sizing: border-box;
    padding: 0;
    margin: 0;
    white-space: nowrap;
    text-align: left;
    position: relative;

    & > span {
      display: block;
      flex: 1;
      min-width: 0;
      border-radius: inherit;
    }

    &::-moz-focus-inner {
      border: 0;
      padding: 0;
    }
  `])))}const txr={border:{width:1}};function nxr(n){var e,r;const{$mode:i,theme:o}=n,{focusRing:s}=o.sanity,a=o.sanity.color.base,l=o.sanity.color.button[i]||o.sanity.color.button.default,c=l[n.$tone]||l.default,u={width:txr.border.width,color:"var(--card-border-color)"};return[Mr(a,c.enabled),{backgroundColor:"var(--card-bg-color)",color:"var(--card-fg-color)",boxShadow:Sa(u),'&:disabled, &[data-disabled="true"]':Mr(a,c.disabled),"&:not([data-disabled='true'])":{"&:focus":{boxShadow:Gp({base:a,border:u,focusRing:s})},"&:focus:not(:focus-visible)":{boxShadow:Sa(u)},"@media (hover: hover)":{"&:hover":Mr(a,c.hovered),"&:active":Mr(a,c.pressed),"&[data-hovered]":Mr(a,c.hovered)},"&[data-selected]":Mr(a,c.pressed)}},(r=(e=o.sanity.styles)==null?void 0:e.button)==null?void 0:r.root].filter(Boolean)}var fLe=Object.freeze,rxr=Object.defineProperty,ixr=(n,e)=>fLe(rxr(n,"raw",{value:fLe(e||n.slice())})),hLe;const oxr=F.button(uv,exr,nxr),sxr=F.div(hLe||(hLe=ixr([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--card-bg-color);
  border-radius: inherit;
  z-index: 1;
  box-shadow: inherit;
`]))),ss=p.forwardRef(function(e,r){const{children:i,disabled:o,fontSize:s,icon:a,iconRight:l,justify:c="center",loading:u,mode:f="default",padding:h=3,paddingX:m,paddingY:g,paddingTop:v,paddingBottom:y,paddingLeft:b,paddingRight:x,radius:_=2,selected:w,space:C=3,text:S,textAlign:T,tone:A="default",type:I="button",...D}=e,R=ct(c),P=ct(h),O=ct(m),$=ct(g),L=ct(v),M=ct(y),N=ct(b),z=ct(x),B=ct(_),H=ct(C),X=Zy(),G=p.useMemo(()=>({padding:P,paddingX:O,paddingY:$,paddingTop:L,paddingBottom:M,paddingLeft:N,paddingRight:z}),[P,O,$,L,M,N,z]);return d.jsxs(oxr,{"data-ui":"Button",...D,$mode:f,$radius:B,$tone:A,"data-disabled":!!(u||o),"data-selected":w?"":void 0,disabled:!!(u||o),ref:r,type:I,children:[!!u&&d.jsx(sxr,{children:d.jsx(UB,{})}),(a||S||l)&&d.jsx(Gn,{as:"span",...G,children:d.jsxs(Pi,{as:"span",justify:R,children:[a&&d.jsxs(Rn,{size:s,children:[p.isValidElement(a)&&a,Xr.isValidElementType(a)&&p.createElement(a)]}),S&&d.jsx(Gn,{flex:l?1:void 0,marginLeft:a?H:void 0,marginRight:l?H:void 0,children:d.jsx(Rn,{align:T,size:s,textOverflow:"ellipsis",weight:X.sanity.button.textWeight,children:S})}),l&&d.jsxs(Rn,{size:s,children:[p.isValidElement(l)&&l,Xr.isValidElementType(l)&&p.createElement(l)]})]})}),i&&d.jsx(Gn,{as:"span",...G,children:i})]})});var pLe=Object.freeze,axr=Object.defineProperty,CZ=(n,e)=>pLe(axr(n,"raw",{value:pLe(e||n.slice())})),mLe,gLe,vLe;function lxr(n){return[cxr(n),uxr(n)]}function cxr(n){const{$checkered:e,theme:r}=n,i=r.sanity.space;return Ae(gLe||(gLe=CZ([`
    `,`

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      outline: none;
      text-decoration: none;
    }

    /* &:is(pre) */
    &[data-as='pre'] {
      font: inherit;
    }
  `])),e&&Ae(mLe||(mLe=CZ([`
      background-size: `,"px ",`px;
      background-position: 50% 50%;
      background-image: var(--card-bg-image);
    `])),i[3],i[3]))}function uxr(n){var e,r;const{$checkered:i,$focusRing:o,theme:s}=n,{focusRing:a}=s.sanity,{base:l,card:c,dark:u}=s.sanity.color,f={width:0,color:"var(--card-border-color)"};return Ae(vLe||(vLe=CZ([`
    color-scheme: `,`;

    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);

    /* &:is(button) */
    &[data-as='button'] {
      --card-focus-ring-box-shadow: none;

      cursor: default;
      box-shadow: var(--card-focus-ring-box-shadow);

      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      cursor: pointer;
      box-shadow: var(--card-focus-ring-box-shadow);

      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-pressed]):not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }

        &:focus {
          --card-focus-ring-box-shadow: `,`;
        }

        &:focus:not(:focus-visible) {
          --card-focus-ring-box-shadow: `,`;
        }
      }
    }

    `,`
  `])),u?"dark":"light",Mr(l,c.enabled,i),Mr(l,c.disabled,i),Mr(l,c.pressed,i),Mr(l,c.selected,i),Mr(l,c.hovered,i),Mr(l,c.pressed,i),o?Gp({base:l,border:f,focusRing:a}):void 0,o?Sa(f):void 0,Mr(l,c.disabled,i),Mr(l,c.pressed,i),Mr(l,c.selected,i),Mr(l,c.hovered,i),Mr(l,c.pressed,i),o?Gp({base:l,border:f,focusRing:a}):void 0,o?Sa(f):void 0,(r=(e=s.sanity.styles)==null?void 0:e.card)==null?void 0:r.root)}const dxr=F(Gn)(p1r,uv,ubr,lxr),kr=p.forwardRef(function(e,r){const{__unstable_checkered:i=!1,__unstable_focusRing:o=!1,as:s,border:a,borderTop:l,borderRight:c,borderBottom:u,borderLeft:f,pressed:h,radius:m=0,scheme:g,selected:v,shadow:y,tone:b="default",...x}=e,_=Xr.isValidElementType(s)?s:"div",w=BB(),C=b==="inherit"?w.tone:b;return d.jsx(c1r,{scheme:g,tone:C,children:d.jsx(dxr,{"data-as":typeof _=="string"?_:void 0,"data-scheme":w.scheme,"data-ui":"Card","data-tone":C,...x,$border:ct(a),$borderTop:ct(l),$borderRight:ct(c),$borderBottom:ct(u),$borderLeft:ct(f),$checkered:i,$focusRing:o,$radius:ct(m),$shadow:ct(y),$tone:C,"data-checkered":i?"":void 0,"data-pressed":h?"":void 0,"data-selected":v?"":void 0,forwardedAs:_,ref:r,selected:v})})});var yLe=Object.freeze,fxr=Object.defineProperty,hst=(n,e)=>yLe(fxr(n,"raw",{value:yLe(e||n.slice())})),bLe,xLe;function hxr(){return Ae(bLe||(bLe=hst([`
    position: relative;
    display: inline-block;
  `])))}function pxr(n){const{theme:e}=n,r=e.sanity.color.input,{focusRing:i,input:o,radius:s}=e.sanity;return Ae(xLe||(xLe=hst([`
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    outline: none;
    opacity: 0;
    z-index: 1;
    padding: 0;
    margin: 0;

    & + span {
      position: relative;
      display: block;
      height: `,`;
      width: `,`;
      box-sizing: border-box;
      box-shadow: `,`;
      border-radius: `,`;
      line-height: 1;
      background-color: `,`;

      & > svg {
        display: block;
        position: absolute;
        opacity: 0;
        height: 100%;
        width: 100%;

        & > path {
          vector-effect: non-scaling-stroke;
          stroke-width: 2 !important;
        }
      }
    }

    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span > svg:first-child {
      opacity: 1;
    }

    &[data-read-only] + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:not([data-read-only]):disabled + span {
      background-color: `,`;
      box-shadow: `,`;
      color: `,`;
    }

    &:indeterminate + span > svg:last-child {
      opacity: 1;
    }
  `])),sn(o.checkbox.size),sn(o.checkbox.size),Sa({color:r.default.enabled.border,width:o.border.width}),sn(s[2]),r.default.enabled.bg,Gp({border:{width:o.border.width,color:r.default.enabled.border},focusRing:i}),Sa({color:r.default.enabled.border,width:o.border.width}),r.default.readOnly.bg,Sa({width:o.border.width,color:r.default.readOnly.border}),r.default.readOnly.fg,r.default.disabled.bg,Sa({width:o.border.width,color:r.default.disabled.border}),r.default.disabled.fg)}const mxr=F.div(hxr),gxr=F.input(pxr),SZ=p.forwardRef(function(e,r){const{checked:i,className:o,disabled:s,indeterminate:a,customValidity:l,readOnly:c,style:u,...f}=e,h=El(r);return uR(h,l),p.useEffect(()=>{h.current&&(h.current.indeterminate=a||!1)},[a,h]),d.jsxs(mxr,{className:o,"data-ui":"Checkbox",style:u,children:[d.jsx(gxr,{"data-read-only":!s&&c?"":void 0,...f,checked:i,disabled:s||c,type:"checkbox",readOnly:c,ref:h}),d.jsxs("span",{children:[d.jsx(ec,{}),d.jsx(bJ,{})]})]})});var wLe=Object.freeze,vxr=Object.defineProperty,yxr=(n,e)=>wLe(vxr(n,"raw",{value:wLe(e||n.slice())})),_Le;function bxr(n){let{theme:e}=n;const r=e.sanity.color.syntax;return{"&.atrule":{color:r.atrule},"&.attr-name":{color:r.attrName},"&.attr-value":{color:r.attrValue},"&.attribute":{color:r.attribute},"&.boolean":{color:r.boolean},"&.builtin":{color:r.builtin},"&.cdata":{color:r.cdata},"&.char":{color:r.char},"&.class":{color:r.class},"&.class-name":{color:r.className},"&.comment":{color:r.comment},"&.constant":{color:r.constant},"&.deleted":{color:r.deleted},"&.doctype":{color:r.doctype},"&.entity":{color:r.entity},"&.function":{color:r.function},"&.hexcode":{color:r.hexcode},"&.id":{color:r.id},"&.important":{color:r.important},"&.inserted":{color:r.inserted},"&.keyword":{color:r.keyword},"&.number":{color:r.number},"&.operator":{color:r.operator},"&.prolog":{color:r.prolog},"&.property":{color:r.property},"&.pseudo-class":{color:r.pseudoClass},"&.pseudo-element":{color:r.pseudoElement},"&.punctuation":{color:r.punctuation},"&.regex":{color:r.regex},"&.selector":{color:r.selector},"&.string":{color:r.string},"&.symbol":{color:r.symbol},"&.tag":{color:r.tag},"&.unit":{color:r.unit},"&.url":{color:r.url},"&.variable":{color:r.variable}}}function xxr(){return Ae(_Le||(_Le=yxr([`
    color: var(--card-code-fg-color);

    & code {
      font-family: inherit;

      &.refractor .token {
        `,`
      }
    }

    & a {
      color: inherit;
      text-decoration: underline;
      border-radius: 1px;
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),bxr)}const wxr=F.pre(xxr,hyr),Rse=p.forwardRef(function(e,r){const{children:i,language:o,size:s=2,weight:a,...l}=e,c=typeof o=="string"?o:void 0,u=c?Cg.hasLanguage(c):!1;return d.jsxs(wxr,{"data-ui":"Code",...l,$size:ct(s),$weight:a,ref:r,children:[!(c&&u)&&d.jsx("code",{children:i}),c&&u&&d.jsx(Cg,{inline:!0,language:c,value:String(i)})]})}),_xr={width:"100%",margin:"0 auto"};function Exr(){return _xr}function Cxr(n){const{theme:e}=n,{container:r,media:i}=e.sanity;return tr(i,n.$width,o=>({maxWidth:o==="auto"?"none":sn(r[o])}))}const Sxr=F(Gn)(Exr,Cxr),kxr=p.forwardRef(function(e,r){const{as:i,width:o=2,...s}=e;return d.jsx(Sxr,{"data-ui":"Container",...s,$width:ct(o),forwardedAs:i,ref:r})}),Txr=F(Gn)(U1r),Ose=p.forwardRef(function(e,r){const{as:i,autoRows:o,autoCols:s,autoFlow:a,columns:l,gap:c,gapX:u,gapY:f,rows:h,children:m,...g}=e;return d.jsx(Txr,{"data-as":typeof i=="string"?i:void 0,"data-ui":"Grid",...g,$autoRows:ct(o),$autoCols:ct(s),$autoFlow:ct(a),$columns:ct(l),$gap:ct(c),$gapX:ct(u),$gapY:ct(f),$rows:ct(h),forwardedAs:i,ref:r,children:m})});var ELe=Object.freeze,Axr=Object.defineProperty,jH=(n,e)=>ELe(Axr(n,"raw",{value:ELe(e||n.slice())})),CLe,SLe,kLe;function Ixr(n){const{$accent:e,$muted:r,theme:i}=n;return Ae(kLe||(kLe=jH([`
    `,`

    `,`

    & code {
      font-family: `,`;
      border-radius: 1px;
    }

    & a {
      text-decoration: none;
      border-radius: 1px;
      color: var(--card-link-color);
      outline: none;

      @media (hover: hover) {
        &:hover {
          text-decoration: underline;
        }
      }

      &:focus {
        box-shadow:
          0 0 0 1px var(--card-bg-color),
          0 0 0 3px var(--card-focus-ring-color);
      }

      &:focus:not(:focus-visible) {
        box-shadow: none;
      }
    }

    & svg {
      /* Certain popular CSS libraries changes the defaults for SVG display */
      /* Make sure SVGs are rendered as inline elements */
      display: inline;
    }

    & [data-sanity-icon] {
      vertical-align: baseline;
    }
  `])),e&&Ae(CLe||(CLe=jH([`
      color: var(--card-accent-fg-color);
    `]))),r&&Ae(SLe||(SLe=jH([`
      color: var(--card-muted-fg-color);
    `]))),i.sanity.fonts.code.family)}var TLe=Object.freeze,Dxr=Object.defineProperty,Rxr=(n,e)=>TLe(Dxr(n,"raw",{value:TLe(e||n.slice())})),ALe;const Oxr=F.div(Ixr,kse,pyr),Pxr=F.span(ALe||(ALe=Rxr([`
  display: block;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  overflow: clip;
`]))),v0=p.forwardRef(function(e,r){const{accent:i=!1,align:o,children:s,muted:a=!1,size:l=2,textOverflow:c,weight:u,...f}=e;let h=s;return c==="ellipsis"&&(h=d.jsx(Pxr,{children:h})),d.jsx(Oxr,{"data-ui":"Heading",...f,$accent:i,$align:ct(o),$muted:a,$size:ct(l),$weight:u,ref:r,children:d.jsx("span",{children:h})})});function jxr(){return{lineHeight:0,"&&:not([hidden])":{display:"block"},"& > div":{display:"inline-block",verticalAlign:"middle"}}}function Lxr(n){const{theme:e}=n;return tr(e.sanity.media,n.$space,r=>{const i=sn(e.sanity.space[r]);return{margin:"-".concat(i," 0 0 -").concat(i),"& > div":{padding:"".concat(i," 0 0 ").concat(i)}}})}const $xr=F(Gn)(jxr,Lxr),nd=p.forwardRef(function(e,r){const{as:i,children:o,space:s,...a}=e,l=p.useMemo(()=>dst(o).filter(Boolean).map((c,u)=>d.jsx("div",{children:c},u)),[o]);return d.jsx($xr,{"data-ui":"Inline",...a,$space:ct(s),forwardedAs:i,ref:r,children:l})});var ILe=Object.freeze,Mxr=Object.defineProperty,Fxr=(n,e)=>ILe(Mxr(n,"raw",{value:ILe(e||n.slice())})),DLe;function Nxr(){return Ae(DLe||(DLe=Fxr([`
    background: var(--card-bg-color);
    font: inherit;
    box-shadow: inset 0 0 0 1px var(--card-hairline-hard-color);

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}const Bxr=F.kbd(uv,Nxr),Uxr=p.forwardRef(function(e,r){const{children:i,fontSize:o=1,padding:s=1,radius:a=2,...l}=e;return d.jsx(Bxr,{"data-ui":"KBD",...l,$radius:ct(a),ref:r,children:d.jsx(Gn,{as:"span",padding:s,children:d.jsx(Rse,{as:"span",muted:!0,size:o,children:i})})})}),kZ=Symbol.for("@sanity/ui/context/boundaryElement");Yr[kZ]=Yr[kZ]||p.createContext(null);const zxr=Yr[kZ],Vxr={version:0,element:null};function zB(){const n=p.useContext(zxr);if(n&&(!y2(n)||n.version!==0))throw new Error("useBoundaryElement(): the context value is not compatible");return n||Vxr}function Hxr(n,e){const r=[];for(let i=0;i<n.length;i+=1)n[i]>e&&r.push(i);return r}function Wxr(n,e){const r=[];for(let i=0;i<n.length;i+=1)n[i]<=e&&r.push(i);return r}p.forwardRef(function(e,r){const i=Zy(),{children:o,media:s=i.sanity.media,...a}=e,l=El(r),[c,u]=p.useState(null),f=tst(c),h=p.useMemo(()=>{var y;return(y=f==null?void 0:f.border.width)!=null?y:window.innerWidth},[f]),m=p.useMemo(()=>Hxr(s,h),[s,h]),g=p.useMemo(()=>Wxr(s,h),[s,h]),v=p.useCallback(y=>{l.current=y,u(y)},[l]);return d.jsx("div",{"data-ui":"ElementQuery",...a,"data-eq-max":m.length?m.join(" "):void 0,"data-eq-min":g.length?g.join(" "):void 0,ref:v,children:o})});function pst(n){if(!y2(n)||n.version!==0)throw new Error("the context value is not compatible");if(!n)throw new Error("components using `useLayer()` should be wrapped in a <LayerProvider>.");if(n.version===0)return n;throw new Error("could not get layer context")}const TZ=Symbol.for("@sanity/ui/context/layer");Yr[TZ]=Yr[TZ]||p.createContext(null);const AZ=Yr[TZ];function VB(){const n=p.useContext(AZ);if(!n)throw new Error("useLayer(): missing context value");try{return pst(n)}catch(e){throw e instanceof Error?new Error("useLayer(): ".concat(e.message)):new Error("useLayer(): ".concat(e))}}function Gxr(n){const e=requestAnimationFrame(n);return()=>{cancelAnimationFrame(e)}}function qxr(n){return Pse(n)||jse(n)}function dv(n){return n instanceof Node&&n.nodeType===Node.ELEMENT_NODE}function Pse(n){return dv(n)&&n.nodeName==="A"}function Kxr(n){return dv(n)&&n.nodeName==="INPUT"}function jse(n){return dv(n)&&n.nodeName==="BUTTON"}function Yxr(n){return dv(n)&&n.nodeName==="SELECT"}function Zxr(n){return dv(n)&&n.nodeName==="TEXTAREA"}function IZ(n,e){return n.contains(e)||n===e}function Xxr(n){return!!document.activeElement&&n.contains(document.activeElement)}function Qxr(n){return n.tabIndex>0||n.tabIndex===0&&n.getAttribute("tabIndex")!==null?!0:Pse(n)?!!n.href&&n.rel!=="ignore":Kxr(n)?n.type!=="hidden"&&n.type!=="file"&&!n.disabled:jse(n)||Yxr(n)||Zxr(n)?!n.disabled:!1}function mst(n){if(!Qxr(n))return!1;try{n.focus()}catch{}return document.activeElement===n}function fI(n){for(let e=0;e<n.childNodes.length;e++){const r=n.childNodes[e];if(dv(r)&&(mst(r)||fI(r)))return!0}return!1}function gst(n){for(let e=n.childNodes.length-1;e>=0;e--){const r=n.childNodes[e];if(dv(r)&&(mst(r)||gst(r)))return!0}return!1}function Jxr(n){if(!(n instanceof Element))return!1;const e=window.getComputedStyle(n);return e.overflowX.includes("auto")||e.overflowX.includes("scroll")||e.overflowY.includes("auto")||e.overflowY.includes("scroll")}function vst(n){var e;const{children:r,zOffset:i=0}=n,o=p.useContext(AZ),s=o&&pst(o),a=s==null?void 0:s.registerChild,c=((e=s==null?void 0:s.level)!=null?e:0)+1,u=ct(i),f=u.length-1,h=Math.min(ist(),f),m=s?s.zIndex+u[h]:u[h],[,g]=p.useState({}),[v,y]=p.useState(0),b=v===0,x=p.useCallback(w=>{const C=a==null?void 0:a(w);return w!==void 0?g(S=>{var T;const A=(T=S[w])!=null?T:0,I={...S,[w]:A+1};return y(Object.keys(I).length),I}):y(S=>S+1),()=>{w!==void 0?g(S=>{const T={...S};return T[w]===1?(delete T[w],y(Object.keys(T).length)):T[w]-=1,T}):y(S=>S-1),C==null||C()}},[a]);p.useEffect(()=>a==null?void 0:a(c),[c,a]);const _=p.useMemo(()=>({version:0,isTopLayer:b,level:c,registerChild:x,size:v,zIndex:m}),[b,c,x,v,m]);return d.jsx(AZ.Provider,{value:_,children:r})}const ewr=F.div({position:"relative"}),twr=p.forwardRef(function(e,r){const{children:i,onActivate:o,onFocus:s,style:a=ey,...l}=e,{zIndex:c,isTopLayer:u}=VB(),f=p.useRef(null),h=El(r),m=p.useRef(u);p.useEffect(()=>{m.current!==u&&u&&(o==null||o({activeElement:f.current})),m.current=u},[u,o]);const g=p.useCallback(v=>{s==null||s(v);const y=h.current,b=document.activeElement;!u||!y||!b||dv(b)&&IZ(y,b)&&(f.current=b)},[h,u,s]);return d.jsx(ewr,{...l,"data-ui":"Layer",onFocus:g,ref:h,style:{...a,zIndex:c},children:i})}),Lse=p.forwardRef(function(e,r){const{children:i,zOffset:o=1,...s}=e;return d.jsx(vst,{zOffset:o,children:d.jsx(twr,{...s,ref:r,children:i})})}),DZ=Symbol.for("@sanity/ui/context/portal"),W1=Symbol.for("@sanity/ui/context/portal/element");Yr[W1]=null;const nwr={version:0,boundaryElement:null,get element(){return typeof document>"u"?null:(Yr[W1]||(Yr[W1]=document.createElement("div"),Yr[W1].setAttribute("data-portal",""),document.body.appendChild(Yr[W1])),Yr[W1])}};Yr[DZ]=Yr[DZ]||p.createContext(nwr);const rwr=Yr[DZ];function HB(){const n=p.useContext(rwr);if(!n)throw new Error("usePortal(): missing context value");if(!y2(n)||n.version!==0)throw new Error("usePortal(): the context value is not compatible");return n}function $se(n){var e;const{children:r,__unstable_name:i}=n,o=HB(),s=(i?o.elements&&o.elements[i]:o.element)||((e=o.elements)==null?void 0:e.default);return s?Kd.createPortal(r,s):null}var RLe=Object.freeze,iwr=Object.defineProperty,owr=(n,e)=>RLe(iwr(n,"raw",{value:RLe(e||n.slice())})),OLe;const swr=F.div(OLe||(OLe=owr([`
  display: block;
  width: 0;
  height: 0;
  position: absolute;
  overflow: hidden;
  overflow: clip;
`])));p.forwardRef(function(e,r){const{as:i,children:o}=e;return d.jsx(swr,{"aria-hidden":!0,as:i,"data-ui":"SrOnly",ref:r,children:o})});var PLe=Object.freeze,awr=Object.defineProperty,yst=(n,e)=>PLe(awr(n,"raw",{value:PLe(e||n.slice())})),jLe,LLe;const lwr=F.div(jLe||(jLe=yst([`
  position: relative;
`]))),$Le=F.div(LLe||(LLe=yst([`
  position: absolute;
  left: 0;
  right: 0;
`])));p.forwardRef(function(e,r){const{as:i="div",gap:o=0,getItemKey:s,items:a=[],onChange:l,renderItem:c,...u}=e,{space:f}=Zy().sanity,h=El(r),m=p.useRef(null),[g,v]=p.useState(0),[y,b]=p.useState(0),[x,_]=p.useState(-1);p.useEffect(()=>{if(!m.current)return;const D=m.current.firstChild;D instanceof HTMLElement&&_(D.offsetHeight)},[c]),p.useEffect(()=>{if(!h.current)return;let D=h.current.parentNode;for(;D&&!Jxr(D);)D=D.parentNode;if(D){const O=D;if(!(O instanceof HTMLElement))return;const $=()=>{v(O.scrollTop)};O.addEventListener("scroll",$,{passive:!0});const L=new est(M=>{b(M[0].contentRect.height)});return L.observe(O),$(),()=>{O.removeEventListener("scroll",$),L.unobserve(O),L.disconnect()}}const R=()=>{v(window.scrollY)},P=()=>{b(window.innerHeight)};return window.addEventListener("scroll",R,{passive:!0}),window.addEventListener("resize",P),b(window.innerHeight),R(),()=>{window.removeEventListener("scroll",R),window.removeEventListener("resize",P)}},[h]);const w=a.length,C=x?w*(x+f[o])-f[o]:0,S=C?Math.max(Math.floor(g/C*w)-2,0):0,T=C?Math.ceil((g+y)/C*w)+1:0;p.useEffect(()=>{l&&l({fromIndex:S,gap:f[o],itemHeight:x,scrollHeight:y,scrollTop:g,toIndex:T})},[S,o,x,l,y,g,f,T]);const A=p.useMemo(()=>!c||a.length===0?null:x===-1?[d.jsx($Le,{children:c(a[0])},0)]:a.slice(S,T).map((D,R)=>{const P=S+R,O=c(D),$=s?s(D,P):P;return d.jsx($Le,{style:{top:P*(x+f[o])},children:O},$)}),[S,o,s,x,a,c,f,T]),I=p.useMemo(()=>({height:C}),[C]);return d.jsx(lwr,{as:i,"data-ui":"VirtualList",...u,ref:h,children:d.jsx("div",{ref:m,style:I,children:A})})});const cwr=4,$_=4,ap=27,uwr=11,bst=[0,0,0,0],dwr={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};function fwr(n){const{apply:e,margins:r,padding:i=0}=n;return{name:"@sanity/ui/size",async fn(o){const{elements:s,placement:a,platform:l,rects:c}=o,{floating:u,reference:f}=c,h=await PC(o,{altBoundary:!0,boundary:n.boundaryElement||void 0,elementContext:"floating",padding:i,rootBoundary:"viewport"});let m=1/0,g=1/0;const v=u.width,y=u.height;a.includes("top")&&(m=v-(h.left+h.right),g=y-h.top),a.includes("right")&&(m=v-h.right,g=y-(h.top+h.bottom)),a.includes("bottom")&&(m=v-(h.left+h.right),g=y-h.bottom),a.includes("left")&&(m=v-h.left,g=y-(h.top+h.bottom)),e({availableWidth:m-r[1]-r[3],availableHeight:g-r[0]-r[2],elements:s,referenceWidth:f.width-r[1]-r[3]});const b=await l.getDimensions(s.floating),x=b.height,_=b.width;return v!==_||y!==x?{reset:{rects:!0}}:{}}}}function hwr(n){const{mediaIndex:e,theme:r,width:i}=n,o=i[e],s=o===void 0?i[i.length-1]:o;return typeof s=="number"?r.sanity.container[s]:void 0}function pwr(n){const{boundaryWidth:e,currentWidth:r}=n;if(!(r===void 0&&e===void 0))return Math.min(r??1/0,(e||1/0)-$_*2)}var MLe=Object.freeze,mwr=Object.defineProperty,Mse=(n,e)=>MLe(mwr(n,"raw",{value:MLe(e||n.slice())})),FLe,NLe,BLe;const gwr=F.div(FLe||(FLe=Mse([`
  position: absolute;
  pointer-events: none;
  width: `,`px;
  height: `,`px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: `,"px ",`px;
  }

  [data-placement^='top'] > & {
    bottom: -`,`px;
  }

  [data-placement^='right'] > & {
    left: -`,`px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -`,`px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -`,`px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`])),ap,ap,ap/2,ap/2,ap,ap,ap,ap),vwr=F.path(NLe||(NLe=Mse([`
  fill: var(--card-shadow-outline-color);
`]))),ywr=F.path(BLe||(BLe=Mse([`
  fill: var(--card-bg-color);
`]))),bwr=p.forwardRef(function(e,r){return d.jsx(gwr,{"data-ui":"Popover__arrow",...e,ref:r,children:d.jsxs("svg",{width:ap,height:uwr,viewBox:"0 0 27 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx(vwr,{d:"M1.18708 1C3.29803 1.0011 5.29585 1.95479 6.62414 3.59561L11.1683 9.20895C12.369 10.6922 14.631 10.6922 15.8317 9.20894L20.3759 3.59561C21.7042 1.95478 23.702 1.0011 25.8129 1H21.9436C21.0533 1.49255 20.2545 2.15618 19.5986 2.96641L15.0545 8.57975C14.254 9.56855 12.746 9.56855 11.9455 8.57975L7.40139 2.96642C6.74548 2.15618 5.94673 1.49255 5.05643 1H1.18708Z"}),d.jsx(ywr,{d:"M1.18342 0C3.59749 0 5.88246 1.0901 7.40138 2.96642L11.9455 8.57975C12.746 9.56855 14.254 9.56855 15.0545 8.57975L19.5986 2.96641C21.1175 1.0901 23.4025 0 25.8166 0H27H0H1.18342Z"})]})})}),xwr=F(kr)({"&:not([hidden])":{display:"flex"},flexDirection:"column",width:"max-content",minWidth:"min-content"}),xst=p.memo(p.forwardRef(function(e,r){const{__unstable_margins:i,arrow:o,arrowRef:s,arrowX:a,arrowY:l,children:c,padding:u,placement:f,overflow:h,radius:m,scheme:g,shadow:v,strategy:y,style:b,tone:x,width:_,x:w,y:C,...S}=e,{zIndex:T}=VB(),A=p.useMemo(()=>i||bst,[i]),I=(w??0)+A[3],D=(C??0)+A[0],R=p.useMemo(()=>({position:y,top:D,left:I,width:_,zIndex:T,...b}),[y,b,_,I,D,T]),P=f&&qot[f.split("-")[0]],O=p.useMemo(()=>{const $={left:a!==null?a:void 0,top:l!==null?l:void 0,right:void 0,bottom:void 0};return P&&($[P]=0-ap),$},[a,l,P]);return d.jsxs(xwr,{"data-ui":"Popover",...S,"data-placement":f,radius:m,ref:r,scheme:g,shadow:v,sizing:"border",style:R,tone:x,children:[d.jsx(Pi,{"data-ui":"Popover__wrapper",direction:"column",flex:1,overflow:h,children:d.jsx(Pi,{direction:"column",flex:1,padding:u,children:c})}),o&&d.jsx(bwr,{ref:s,style:O})]})}));xst.displayName="PopoverCard";const hR=p.memo(p.forwardRef(function(e,r){var i,o,s,a,l,c,u,f,h;const m=Zy(),g=zB(),{__unstable_margins:v=bst,arrow:y=!0,boundaryElement:b=g.element,children:x,constrainSize:_=!1,content:w,disabled:C,fallbackPlacements:S=(o=e.fallbackPlacements)!=null?o:dwr[(i=e.placement)!=null?i:"bottom"],matchReferenceWidth:T,floatingBoundary:A=(s=e.boundaryElement)!=null?s:g.element,open:I,overflow:D="hidden",padding:R,placement:P="bottom",portal:O,preventOverflow:$=!0,radius:L=3,referenceBoundary:M=(a=e.boundaryElement)!=null?a:g.element,referenceElement:N,scheme:z,shadow:B=3,tone:H="inherit",width:X="auto",zOffset:G=(l=m.sanity.layer)==null?void 0:l.popover.zOffset,updateRef:ne,...le}=e,K=(c=tst(b))==null?void 0:c.border,Q=ct(R),re=ct(L),se=ct(B),de=ct(X),fe=ct(G),we=El(r),ye=p.useRef(null),ve="viewport",_e=ist(),ge=_||$?K==null?void 0:K.width:void 0,pe=hwr({mediaIndex:_e,theme:m,width:de}),Pe=p.useRef(pe);p.useEffect(()=>{Pe.current=pe},[pe]);const Re=pwr({boundaryWidth:ge,currentWidth:pe}),Fe=p.useRef(Re);p.useEffect(()=>{Fe.current=Re},[Re]);const Ye=p.useRef();p.useEffect(()=>{const Lt=we.current;if(!I||!Lt)return;const Vn=Ye.current;T?Vn!==void 0&&(Lt.style.width="".concat(Vn,"px")):pe!==void 0&&(Lt.style.width="".concat(pe,"px")),typeof Re=="number"&&(Lt.style.maxWidth="".concat(Re,"px"))},[pe,we,T,Re,I]);const He=p.useMemo(()=>{const Lt=[];return(_||$)&&Lt.push(V8({boundary:A||void 0,fallbackPlacements:S,padding:$_,rootBoundary:ve})),Lt.push(F8({mainAxis:y?cwr:0})),(_||T)&&Lt.push(fwr({apply(Vn){let{availableWidth:Oo,availableHeight:Po,elements:wi,referenceWidth:pr}=Vn;Ye.current=pr;const fn=Pe.current,Ct=Fe.current;T?wi.floating.style.width="".concat(pr,"px"):fn!==void 0&&(wi.floating.style.width="".concat(fn,"px")),_&&(wi.floating.style.maxWidth="".concat(Math.min(Oo,Ct??1/0),"px"),wi.floating.style.maxHeight="".concat(Po,"px"))},boundaryElement:A||void 0,constrainSize:_,margins:v,matchReferenceWidth:T,padding:$_})),$&&Lt.push(z8({boundary:A||void 0,rootBoundary:ve,padding:$_})),y&&Lt.push(Hot({element:ye,padding:$_})),Lt.push(h7e({boundary:M||void 0,padding:$_,strategy:"referenceHidden"})),Lt},[y,_,S,A,v,T,$,M]),{x:lt,y:Xe,middlewareData:st,placement:kt,refs:Ge,strategy:gt,update:At}=Got({middleware:He,placement:P,whileElementsMounted:U8}),Dt=(u=st.hide)==null?void 0:u.referenceHidden,at=(f=st.arrow)==null?void 0:f.x,tt=(h=st.arrow)==null?void 0:h.y,it=p.useCallback(Lt=>{ye.current=Lt},[]),jt=p.useCallback(Lt=>{we.current=Lt,Ge.setFloating(Lt)},[we,Ge]),$t=p.useCallback(Lt=>{Ge.setReference(Lt);const Vn=x==null?void 0:x.ref;typeof Vn=="function"?Vn(Lt):Vn&&(Vn.current=Lt)},[x,Ge]),yt=p.useMemo(()=>!x||N?null:p.cloneElement(x,{ref:$t}),[x,N,$t]);if(p.useEffect(()=>{ne&&(typeof ne=="function"?ne(At):ne&&(ne.current=At))},[At,ne]),p.useEffect(()=>{Ge.setReference(N||null)},[N,Ge]),C)return x||d.jsx(d.Fragment,{});const Gt=d.jsx(vst,{zOffset:fe,children:d.jsx(xst,{...le,__unstable_margins:v,arrow:y,arrowRef:it,arrowX:at,arrowY:tt,hidden:Dt,overflow:D,padding:Q,placement:kt,radius:re,ref:jt,scheme:z,shadow:se,strategy:gt,tone:H,width:T?Ye.current:pe,x:lt,y:Xe,children:w})});return d.jsxs(d.Fragment,{children:[I&&d.jsx(d.Fragment,{children:O?d.jsx($se,{__unstable_name:typeof O=="string"?O:void 0,children:Gt}):Gt}),yt]})}));hR.displayName="Popover";var ULe=Object.freeze,wwr=Object.defineProperty,wst=(n,e)=>ULe(wwr(n,"raw",{value:ULe(e||n.slice())})),zLe,VLe;function _wr(){return Ae(zLe||(zLe=wst([`
    position: relative;

    &:not([hidden]) {
      display: inline-block;
    }

    &[data-read-only] {
      outline: 1px solid red;
    }
  `])))}function Ewr(n){const{theme:e}=n,{focusRing:r,input:i}=e.sanity,o=e.sanity.color.input,s=(i.radio.size-i.radio.markSize)/2;return Ae(VLe||(VLe=wst([`
    appearance: none;
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    z-index: 1;
    padding: 0;
    margin: 0;
    border-radius: `,`;
    border: none;

    /* enabled */
    & + span {
      display: block;
      position: relative;
      height: `,`;
      width: `,`;
      border-radius: `,`;
      background: `,`;
      box-shadow: `,`;

      &::after {
        content: '';
        position: absolute;
        top: `,`;
        left: `,`;
        height: `,`;
        width: `,`;
        border-radius: `,`;
        background: `,`;
        opacity: 0;
      }
    }

    /* focused */
    &:not(:disabled):focus + span {
      box-shadow: `,`;
    }

    &:not(:disabled):focus:not(:focus-visible) + span {
      box-shadow: `,`;
    }

    &:checked + span::after {
      opacity: 1;
    }

    /* read only */
    &[data-read-only] + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }

    /* disabled */
    &:not([data-read-only]):disabled + span {
      box-shadow: 0 0 0 1px `,`;
      background: `,`;

      &::after {
        background: `,`;
      }
    }
  `])),sn(i.radio.size/2),sn(i.radio.size),sn(i.radio.size),sn(i.radio.size/2),o.default.enabled.bg,Sa({color:o.default.enabled.border,width:i.border.width}),sn(s),sn(s),sn(i.radio.markSize),sn(i.radio.markSize),sn(i.radio.markSize/2),o.default.enabled.fg,Gp({border:{width:i.border.width,color:o.default.enabled.border},focusRing:r}),Sa({color:o.default.enabled.border,width:i.border.width}),o.default.readOnly.border,o.default.readOnly.bg,o.default.readOnly.fg,o.default.disabled.border,o.default.disabled.bg,o.default.disabled.fg)}const Cwr=F.div(_wr),Swr=F.input(Ewr);p.forwardRef(function(e,r){const{className:i,disabled:o,style:s,customValidity:a,readOnly:l,...c}=e,u=El(r);return uR(u,a),d.jsxs(Cwr,{className:i,"data-ui":"Radio",style:s,children:[d.jsx(Swr,{"data-read-only":!o&&l?"":void 0,...c,disabled:o||l,readOnly:l,ref:u,type:"radio"}),d.jsx("span",{})]})});var HLe=Object.freeze,kwr=Object.defineProperty,WB=(n,e)=>HLe(kwr(n,"raw",{value:HLe(e||n.slice())})),WLe,GLe,qLe,KLe;function Twr(){return Ae(WLe||(WLe=WB([`
    position: relative;
    width: -webkit-fill-available;
    width: stretch;

    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function Awr(n){const{theme:e}=n,r=e.sanity.fonts.text;return Ae(GLe||(GLe=WB([`
    -webkit-font-smoothing: antialiased;
    appearance: none;
    border: 0;
    font-family: `,`;
    color: inherit;
    width: 100%;
    outline: none;
    margin: 0;

    &:disabled {
      opacity: 1;
    }
  `])),r.family)}function Iwr(n){const{theme:e}=n,{focusRing:r,input:i}=e.sanity,o=e.sanity.color.input;return Ae(qLe||(qLe=WB([`
    /* enabled */
    background-color: `,`;
    color: `,`;
    box-shadow: `,`;

    /* hovered */
    @media (hover: hover) {
      &:not(:disabled):hover {
        background-color: `,`;
        color: `,`;
        box-shadow: `,`;
      }
    }

    /* focused */
    &:not(:disabled):focus {
      box-shadow: `,`;
    }

    /* read-only */
    &[data-read-only] {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }

    /* disabled */
    &:not([data-read-only]):disabled {
      background-color: `,`;
      color: `,`;
      box-shadow: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,Sa({color:o.default.enabled.border,width:i.border.width}),o.default.hovered.bg,o.default.hovered.fg,Sa({color:o.default.hovered.border,width:i.border.width}),Gp({border:{width:i.border.width,color:o.default.enabled.border},focusRing:r}),o.default.readOnly.bg,o.default.readOnly.fg,Sa({color:o.default.readOnly.border,width:i.border.width}),o.default.disabled.bg,o.default.disabled.fg,Sa({color:o.default.disabled.border,width:i.border.width}))}function Dwr(n){return{fontSize:sn(n.fontSize),lineHeight:sn(n.lineHeight)}}function Rwr(n){const{theme:e,$fontSize:r}=n,{sizes:i}=e.sanity.fonts.text;return tr(e.sanity.media,r,o=>Dwr(i[o]||i[2]))}function Owr(){return[uv,Awr,Iwr,Rwr,obr]}function Pwr(n){const{theme:e}=n,r=e.sanity.color.input;return Ae(KLe||(KLe=WB([`
    pointer-events: none;
    position: absolute;
    top: 0;
    right: 0;

    /* enabled */
    --card-fg-color: `,`;

    /* hover */
    @media (hover: hover) {
      select:not(disabled):not(:read-only):hover + && {
        --card-fg-color: `,`;
      }
    }

    /* disabled */
    select:disabled + && {
      --card-fg-color: `,`;
    }

    /* read-only */
    select[data-read-only] + && {
      --card-fg-color: `,`;
    }
  `])),r.default.enabled.fg,r.default.hovered.fg,r.default.disabled.fg,r.default.readOnly.fg)}const Fse={root:Twr,input:Owr,iconBox:Pwr},jwr=F.div(Fse.root),Lwr=F.select(Fse.input),$wr=F(Gn)(Fse.iconBox);p.forwardRef(function(e,r){const{children:i,customValidity:o,disabled:s,fontSize:a=2,padding:l=3,radius:c=1,readOnly:u,space:f=3,...h}=e,m=El(r);return uR(m,o),d.jsxs(jwr,{"data-ui":"Select",children:[d.jsx(Lwr,{"data-read-only":!s&&u?"":void 0,"data-ui":"Select",...h,$fontSize:ct(a),$padding:ct(l),$radius:ct(c),$space:ct(f),disabled:s||u,ref:m,children:i}),d.jsx($wr,{padding:l,children:d.jsx(Rn,{size:a,children:d.jsx(mBe,{})})})]})});const Mwr={"&&:not([hidden])":{display:"grid"},'&[data-as="ul"],&[data-as="ol"]':{listStyle:"none"},gridTemplateColumns:"minmax(0, 1fr)",gridAutoRows:"min-content"};function Fwr(){return Mwr}function Nwr(n){const{theme:e}=n,{media:r,space:i}=e.sanity;return tr(r,n.$space,o=>({gridGap:sn(i[o])}))}const Bwr=F(Gn)(Fwr,Nwr),is=p.forwardRef(function(e,r){const{as:i,space:o,...s}=e;return d.jsx(Bwr,{"data-as":typeof i=="string"?i:void 0,"data-ui":"Stack",...s,$space:ct(o),forwardedAs:i,ref:r})});var YLe=Object.freeze,Uwr=Object.defineProperty,ox=(n,e)=>YLe(Uwr(n,"raw",{value:YLe(e||n.slice())})),ZLe,XLe,QLe,JLe,e$e,t$e,n$e;function zwr(){return Ae(ZLe||(ZLe=ox([`
    position: relative;
    &:not([hidden]) {
      display: inline-block;
    }
  `])))}function Vwr(){return Ae(XLe||(XLe=ox([`
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    opacity: 0;
    height: 100%;
    width: 100%;
    outline: none;
    padding: 0;
    margin: 0;

    /* Place the input element above the representation element */
    z-index: 1;
  `])))}function Hwr(n){const{theme:e}=n,{focusRing:r,input:i}=e.sanity,o=e.sanity.color.button.default;return Ae(QLe||(QLe=ox([`
    --switch-bg-color: `,`;
    --switch-fg-color: `,`;
    --switch-box-shadow: none;

    &:not([hidden]) {
      display: block;
    }
    position: relative;
    width: `,`;
    height: `,`;
    border-radius: `,`;

    /* Make sure it’s not possible to interact with the wrapper element */
    pointer-events: none;

    &:after {
      content: '';
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 1;
      box-shadow: var(--switch-box-shadow);
      border-radius: inherit;
    }

    /* Focus styles */
    input:focus + && {
      --switch-box-shadow: `,`;
    }

    input:focus:not(:focus-visible) + && {
      --switch-box-shadow: none;
    }

    input:checked + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }

    @media (hover: hover) {
      input:not(:disabled):hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }

      input:not(:disabled):checked:hover + && {
        --switch-bg-color: `,`;
        --switch-fg-color: `,`;
      }
    }

    input:not([data-read-only]):disabled + && {
      --switch-bg-color: `,`;
      --switch-fg-color: `,`;
    }
  `])),o.default.enabled.bg,o.default.enabled.fg,sn(i.switch.width),sn(i.switch.height),sn(i.switch.height/2),Gp({focusRing:r}),o.positive.enabled.bg,o.positive.enabled.fg,o.default.hovered.bg,o.default.hovered.fg,o.positive.hovered.bg,o.positive.hovered.fg,o.default.disabled.bg,o.default.disabled.fg)}function Wwr(n){const{theme:e}=n,{input:r}=e.sanity;return Ae(JLe||(JLe=ox([`
    &:not([hidden]) {
      display: block;
    }
    background-color: var(--switch-bg-color);
    position: absolute;
    left: 0;
    top: 0;
    width: `,`;
    height: `,`;
    border-radius: `,`;
  `])),sn(r.switch.width),sn(r.switch.height),sn(r.switch.height/2))}function Gwr(n){const{$indeterminate:e,theme:r}=n,{input:i}=r.sanity,o=i.switch.width,s=i.switch.height,a=i.switch.padding,l=s-i.switch.padding*2,c=o-a*2-l,u=o/2-l/2-a,f=e!==!0&&n.$checked===!0;return Ae(n$e||(n$e=ox([`
    &:not([hidden]) {
      display: block;
    }
    position: absolute;
    left: `,`;
    top: `,`;
    height: `,`;
    width: `,`;
    border-radius: `,`;
    transition-property: transform;
    transition-duration: `,`ms;
    transition-timing-function: `,`;
    background: var(--switch-fg-color);
    transform: translate3d(0, 0, 0);

    `,`

    `,`
  `])),sn(a),sn(a),sn(l),sn(l),sn(l/2),i.switch.transitionDurationMs,i.switch.transitionTimingFunction,f&&Ae(e$e||(e$e=ox([`
      transform: translate3d(`,`px, 0, 0);
    `])),c),e&&Ae(t$e||(t$e=ox([`
      transform: translate3d(`,`px, 0, 0);
    `])),u))}const qwr=F.span(zwr),Kwr=F.input(Vwr),Ywr=F.span(Hwr),Zwr=F.span(Wwr),Xwr=F.span(Gwr);p.forwardRef(function(e,r){const{checked:i,className:o,disabled:s,indeterminate:a,readOnly:l,style:c,...u}=e,f=El(r);return p.useEffect(()=>{f.current&&(f.current.indeterminate=a||!1)},[a,f]),d.jsxs(qwr,{className:o,"data-ui":"Switch",style:c,children:[d.jsx(Kwr,{"data-read-only":!s&&l?"":void 0,...u,checked:a!==!0&&i,disabled:s||l,type:"checkbox",ref:f}),d.jsxs(Ywr,{"aria-hidden":!0,"data-name":"representation",children:[d.jsx(Zwr,{}),d.jsx(Xwr,{$checked:i,$indeterminate:a})]})]})});var r$e=Object.freeze,Qwr=Object.defineProperty,Jwr=(n,e)=>r$e(Qwr(n,"raw",{value:r$e(e||n.slice())})),i$e;const e_r=F.span(sst),t_r=F.span(i$e||(i$e=Jwr([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),n_r=F.textarea(Ase,ast,lst),r_r=F.div(uv,cst);p.forwardRef(function(e,r){const{border:i=!0,customValidity:o,disabled:s=!1,fontSize:a=2,padding:l=3,radius:c=1,weight:u,...f}=e,h=El(r),m=BB();return uR(h,o),d.jsx(e_r,{"data-ui":"TextArea",children:d.jsxs(t_r,{children:[d.jsx(n_r,{"data-as":"textarea","data-scheme":m.scheme,"data-tone":m.tone,...f,$fontSize:ct(a),$padding:ct(l),$scheme:m.scheme,$space:ct(0),$tone:m.tone,$weight:u,disabled:s,ref:h}),d.jsx(r_r,{$radius:ct(c),$scheme:m.scheme,$tone:m.tone,"data-border":i?"":void 0,"data-scheme":m.scheme,"data-tone":m.tone})]})})});var o$e=Object.freeze,i_r=Object.defineProperty,b2=(n,e)=>o$e(i_r(n,"raw",{value:o$e(e||n.slice())})),s$e,a$e,l$e,c$e,u$e,d$e;const o_r={zIndex:2},s_r=F(kr).attrs({forwardedAs:"span"})(sst),a_r=F.span(s$e||(s$e=b2([`
  flex: 1;
  min-width: 0;
  display: block;
  position: relative;
`]))),l_r=F(kr).attrs({forwardedAs:"span"})(a$e||(a$e=b2([`
  border-top-right-radius: 0;
  border-bottom-right-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),c_r=F(kr).attrs({forwardedAs:"span"})(l$e||(l$e=b2([`
  border-top-left-radius: 0;
  border-bottom-left-radius: 0;

  & > span {
    display: block;
    margin: -1px;
  }
`]))),u_r=F.input(Ase,ast,lst),d_r=F.span(uv,cst),f_r=F(Gn)(c$e||(c$e=b2([`
  position: absolute;
  top: 0;
  left: 0;
`]))),h_r=F(Gn)(u$e||(u$e=b2([`
  position: absolute;
  top: 0;
  right: 0;
`]))),p_r=F(kr)(d$e||(d$e=b2([`
  background-color: transparent;
  position: absolute;
  top: 0;
  right: 0;
`]))),m_r=F(ss)({"&:not([hidden])":{display:"block"}}),hI=p.forwardRef(function(e,r){const{border:i=!0,clearButton:o,disabled:s=!1,fontSize:a=2,icon:l,iconRight:c,onClear:u,padding:f=3,prefix:h,radius:m=1,readOnly:g,space:v=3,suffix:y,customValidity:b,type:x="text",weight:_,...w}=e,C=El(r),S=BB(),T=ct(a),A=ct(f),I=ct(m),D=ct(v),R=!!o,P=!!l,O=!!c,$=!!y,L=!!h;uR(C,b);const M=p.useCallback(K=>{K.preventDefault(),K.stopPropagation()},[]),N=p.useCallback(K=>{var Q;K.preventDefault(),K.stopPropagation(),u&&u(),(Q=C.current)==null||Q.focus()},[u,C]),z=p.useMemo(()=>h&&d.jsx(l_r,{borderTop:!0,borderLeft:!0,borderBottom:!0,radius:I,sizing:"border",tone:"inherit",children:d.jsx("span",{children:h})}),[h,I]),B=p.useMemo(()=>d.jsxs(d_r,{$hasPrefix:L,$hasSuffix:$,$radius:I,$scheme:S.scheme,$tone:S.tone,"data-border":i?"":void 0,"data-scheme":S.scheme,"data-tone":S.tone,children:[l&&d.jsx(f_r,{padding:A,children:d.jsxs(Rn,{size:T,children:[p.isValidElement(l)&&l,Xr.isValidElementType(l)&&p.createElement(l)]})}),!R&&c&&d.jsx(h_r,{padding:A,children:d.jsxs(Rn,{size:T,children:[p.isValidElement(c)&&c,Xr.isValidElementType(c)&&p.createElement(c)]})})]}),[i,T,l,c,A,I,S,R,L,$]),H=p.useMemo(()=>A.map(K=>K===0?0:K===1||K===2?1:K-2),[A]),X=p.useMemo(()=>A.map(K=>K===0||K===1?0:K===2?1:K-1),[A]),G=p.useMemo(()=>typeof o=="object"?o:ey,[o]),ne=p.useMemo(()=>!s&&!g&&o&&d.jsx(p_r,{forwardedAs:"span",padding:H,style:o_r,tone:b?"critical":"inherit",children:d.jsx(m_r,{"aria-label":"Clear","data-qa":"clear-button",fontSize:T,icon:Is,mode:"bleed",padding:X,radius:I,...G,onClick:N,onMouseDown:M})}),[o,H,X,G,b,s,T,N,M,I,g]),le=p.useMemo(()=>y&&d.jsx(c_r,{borderTop:!0,borderRight:!0,borderBottom:!0,radius:I,sizing:"border",tone:"inherit",children:d.jsx("span",{children:y})}),[I,y]);return d.jsxs(s_r,{"data-ui":"TextInput",tone:S.tone,children:[z,d.jsxs(a_r,{children:[d.jsx(u_r,{"data-as":"input","data-scheme":S.scheme,"data-tone":S.tone,...w,$fontSize:T,$iconLeft:P,$iconRight:O||R,$padding:A,$scheme:S.scheme,$space:D,$tone:S.tone,$weight:_,disabled:s,readOnly:g,ref:C,type:x}),B,ne]}),le]})});function g_r(n){const[e,r]=p.useState(n),i=p.useRef(),o=p.useCallback((s,a)=>{const l=()=>{r(s)};if(i.current&&(clearTimeout(i.current),i.current=void 0),!a)return l();i.current=setTimeout(l,a)},[]);return[e,o]}const LH=4,v_r={top:["bottom","left","right"],"top-start":["bottom-start","left-start","right-start"],"top-end":["bottom-end","left-end","right-end"],bottom:["top","left","right"],"bottom-start":["top-start","left-start","right-start"],"bottom-end":["top-end","left-end","right-end"],left:["right","top","bottom"],"left-start":["right-start","top-start","bottom-start"],"left-end":["right-end","top-end","bottom-end"],right:["left","top","bottom"],"right-start":["left-start","top-start","bottom-start"],"right-end":["left-end","top-end","bottom-end"]};var f$e=Object.freeze,y_r=Object.defineProperty,Nse=(n,e)=>f$e(y_r(n,"raw",{value:f$e(e||n.slice())})),h$e,p$e,m$e;const b_r=F.div(h$e||(h$e=Nse([`
  position: absolute;
  pointer-events: none;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    display: block;
    transform-origin: 7.5px 7.5px;
  }

  /* position: absolute;
  width: 15px;
  height: 15px;
  fill: none;

  :empty + & {
    display: none;
  }

  & > svg {
    &:not([hidden]) {
      display: block;
    }
    transform-origin: 7.5px 7.5px;
  } */

  [data-placement^='top'] > & {
    bottom: -27px;
  }

  [data-placement^='right'] > & {
    left: -27px;

    & > svg {
      transform: rotate(90deg);
    }
  }

  [data-placement^='left'] > & {
    right: -27px;

    & > svg {
      transform: rotate(-90deg);
    }
  }

  [data-placement^='bottom'] > & {
    top: -27px;

    & > svg {
      transform: rotate(180deg);
    }
  }
`]))),x_r=F.path(p$e||(p$e=Nse([`
  fill: var(--card-shadow-outline-color);
`]))),w_r=F.path(m$e||(m$e=Nse([`
  fill: var(--card-bg-color);
`]))),__r=p.forwardRef(function(e,r){const{...i}=e;return d.jsx(b_r,{"data-ui":"Tooltip__arrow",...i,ref:r,children:d.jsxs("svg",{width:"15",height:"15",viewBox:"0 0 15 15",children:[d.jsx(x_r,{d:"M11.5266 1C11.032 1.32802 10.5837 1.73105 10.1995 2.20057L9.04792 3.6081C8.24771 4.58614 6.7523 4.58614 5.95209 3.6081L4.80047 2.20057C4.41632 1.73105 3.96796 1.32802 3.47341 1H0.156727C1.65639 1 3.07687 1.67313 4.02651 2.83381L5.17813 4.24134C6.37844 5.70839 8.62156 5.70839 9.82187 4.24134L10.9735 2.83381C11.9231 1.67313 13.3436 1 14.8433 1H11.5266Z"}),d.jsx(w_r,{d:"M0.156725 0C1.95632 0 3.66089 0.80776 4.80047 2.20057L5.95209 3.6081C6.75229 4.58614 8.24771 4.58614 9.04791 3.6081L10.1995 2.20057C11.3391 0.80776 13.0437 0 14.8433 0H15H0H0.156725Z"})]})})}),RZ=Symbol.for("@sanity/ui/context/tooltipDelayGroup");Yr[RZ]=Yr[RZ]||p.createContext(null);const E_r=Yr[RZ];function C_r(){return p.useContext(E_r)}var g$e=Object.freeze,S_r=Object.defineProperty,k_r=(n,e)=>g$e(S_r(n,"raw",{value:g$e(e||n.slice())})),v$e;const T_r=F(Lse)(v$e||(v$e=k_r([`
  pointer-events: none;
  max-width: `,`px;
`])),n=>{let{$maxWidth:e}=n;return e}),GB=p.forwardRef(function(e,r){var i,o,s,a,l,c;const u=zB(),f=Zy(),{boundaryElement:h=u==null?void 0:u.element,children:m,content:g,disabled:v,fallbackPlacements:y=(o=e.fallbackPlacements)!=null?o:v_r[(i=e.placement)!=null?i:"bottom"],padding:b,placement:x="bottom",portal:_,scheme:w,shadow:C=2,zOffset:S=(s=f.sanity.layer)==null?void 0:s.tooltip.zOffset,delay:T,...A}=e,I=ct(y),D=El(r),[R,P]=p.useState(null),O=p.useRef(null),$="viewport",L=HB(),M=typeof _=="string"?((a=L.elements)==null?void 0:a[_])||null:L.element,N=p.useMemo(()=>{const tt=[...h?[h.offsetWidth]:[],(M==null?void 0:M.offsetWidth)||document.body.offsetWidth];return Math.min(...tt)-LH*2},[h,M==null?void 0:M.offsetWidth]),z=p.useMemo(()=>{const tt=[];return tt.push(V8({boundary:h||void 0,fallbackPlacements:I,padding:LH,rootBoundary:$})),tt.push(F8({mainAxis:3})),tt.push(z8({boundary:h||void 0,rootBoundary:$,padding:LH})),tt.push(Hot({element:O,padding:2})),tt},[h,I]),{floatingStyles:B,placement:H,middlewareData:X,refs:G,update:ne}=Got({middleware:z,placement:x,whileElementsMounted:U8}),le=H&&qot[H.split("-")[0]],K=(l=X.arrow)==null?void 0:l.x,Q=(c=X.arrow)==null?void 0:c.y,re=p.useMemo(()=>{const tt={left:K!==null?K:void 0,top:Q!==null?Q:void 0,right:void 0,bottom:void 0};return le&&(tt[le]=-15),tt},[K,Q,le]),se=p.useId(),[de,fe]=g_r(!1),we=C_r(),ye=de||(we==null?void 0:we.openTooltipId)===se,ve=we!==null,_e=typeof T=="number"?T:(T==null?void 0:T.open)||0,ge=typeof T=="number"?T:(T==null?void 0:T.close)||0,pe=ve?we.openDelay:_e,Pe=ve?we.closeDelay:ge,Re=p.useCallback((tt,it)=>{if(ve)if(tt){const jt=it?0:pe;we.setIsGroupActive(tt,jt),we.setOpenTooltipId(se,jt)}else{const $t=Pe>200?Pe:200;we.setIsGroupActive(tt,$t),we.setOpenTooltipId(null,it?0:Pe)}else fe(tt,it?0:tt?pe:Pe)},[ve,we,pe,se,Pe,fe]),Fe=p.useCallback(tt=>{var it,jt;Re(!1),(jt=(it=m==null?void 0:m.props)==null?void 0:it.onBlur)==null||jt.call(it,tt)},[m==null?void 0:m.props,Re]),Ye=p.useCallback(tt=>{var it,jt;Re(!1,!0),(jt=m==null?void 0:(it=m.props).onClick)==null||jt.call(it,tt)},[m==null?void 0:m.props,Re]),He=p.useCallback(tt=>{var it,jt;Re(!1,!0),(jt=m==null?void 0:(it=m.props).onContextMenu)==null||jt.call(it,tt)},[m==null?void 0:m.props,Re]),lt=p.useCallback(tt=>{var it,jt;Re(!0),(jt=(it=m==null?void 0:m.props)==null?void 0:it.onFocus)==null||jt.call(it,tt)},[m==null?void 0:m.props,Re]),Xe=p.useCallback(tt=>{var it,jt;Re(!0),(jt=(it=m==null?void 0:m.props)==null?void 0:it.onMouseEnter)==null||jt.call(it,tt)},[m==null?void 0:m.props,Re]),st=p.useCallback(tt=>{var it,jt;Re(!1),(jt=(it=m==null?void 0:m.props)==null?void 0:it.onMouseLeave)==null||jt.call(it,tt)},[m==null?void 0:m.props,Re]);p.useEffect(()=>{if(!de)return;function tt(it){if(!R)return;R===it.target||it.target instanceof Node&&R.contains(it.target)||(Re(!1),window.removeEventListener("mousemove",tt))}return window.addEventListener("mousemove",tt),()=>{window.removeEventListener("mousemove",tt)}},[de,R,Re]),p.useEffect(()=>{v&&Re(!1)},[v,Re]),p.useEffect(()=>{g||Re(!1)},[g,Re]),p.useEffect(()=>G.setReference(R),[R,G]),p.useEffect(()=>{if(!ye)return;function tt(it){it.key==="Escape"&&Re(!1,!0)}return window.addEventListener("keydown",tt),()=>{window.removeEventListener("keydown",tt)}},[Re,ye]);const kt=p.useCallback(tt=>{O.current=tt,ne()},[ne]),Ge=p.useCallback(tt=>{D.current=tt,G.setFloating(tt)},[D,G]),gt=m==null?void 0:m.ref,At=p.useCallback(tt=>{typeof gt=="function"?gt(tt):gt&&(gt.current=tt),P(tt)},[gt]),Dt=p.useMemo(()=>m?p.cloneElement(m,{onBlur:Fe,onFocus:lt,onMouseEnter:Xe,onMouseLeave:st,onClick:Ye,onContextMenu:He,ref:At}):null,[m,Fe,Ye,He,lt,Xe,st,At]);if(!Dt)return d.jsx(d.Fragment,{});if(v)return Dt;const at=d.jsx(T_r,{"data-ui":"Tooltip",...A,ref:Ge,style:B,zOffset:S,$maxWidth:N,children:d.jsxs(kr,{"data-ui":"Tooltip__card","data-placement":H,padding:b,radius:2,scheme:w,shadow:C,children:[g,d.jsx(__r,{ref:kt,style:re})]})});return d.jsxs(d.Fragment,{children:[Dt,ye&&d.jsx(d.Fragment,{children:_?d.jsx($se,{__unstable_name:typeof _=="string"?_:void 0,children:at}):at})]})});var y$e=Object.freeze,A_r=Object.defineProperty,qB=(n,e)=>y$e(A_r(n,"raw",{value:y$e(e||n.slice())})),b$e,x$e,w$e,_$e;const I_r=F.div(b$e||(b$e=qB([`
  line-height: 0;
`]))),D_r=F(Gn)(x$e||(x$e=qB([`
  & > ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
`]))),R_r=Kp(w$e||(w$e=qB([`
  from {
    transform: rotate(0deg);
  }

  to {
    transform: rotate(360deg);
  }
`]))),O_r=F(Gx)(_$e||(_$e=qB([`
  animation: `,` 500ms linear infinite;
`])),R_r);function P_r(n){const{children:e,id:r,onSelect:i,selected:o,value:s}=n,a=p.useCallback(()=>{setTimeout(()=>{i(s)},0)},[i,s]),l=p.useCallback(c=>{c.key==="Enter"&&!qxr(c.currentTarget)&&a()},[a]);return d.jsx("li",{"aria-selected":o,"data-ui":"AutocompleteOption",id:r,role:"option",onClick:a,onKeyDown:l,children:e})}function j_r(n,e){return e.type==="input/change"?{...n,activeValue:null,focused:!0,query:e.query}:e.type==="input/focus"?{...n,focused:!0}:e.type==="root/blur"?{...n,focused:!1,query:null}:e.type==="root/clear"?{...n,activeValue:null,query:null,value:null}:e.type==="root/escape"?{...n,focused:!1,query:null}:e.type==="root/open"?{...n,query:n.query||e.query}:e.type==="root/setActiveValue"?{...n,activeValue:e.value,listFocused:e.listFocused||n.listFocused}:e.type==="root/setListFocused"?{...n,listFocused:e.listFocused}:e.type==="value/change"?{...n,activeValue:e.value,query:null,value:e.value}:n}const L_r=["Control","Shift","Alt","Enter","Home","End","PageUp","PageDown","Meta","Tab","CapsLock"],$_r="bottom-start",M_r=["bottom-start","top-start"],F_r=(n,e)=>e?e.value:n,N_r=(n,e)=>e.value.toLowerCase().indexOf(n.toLowerCase())>-1;p.forwardRef(function(e,r){const{border:i=!0,customValidity:o,disabled:s,filterOption:a,fontSize:l=2,icon:c,id:u,listBox:f=ey,loading:h,onBlur:m,onChange:g,onFocus:v,onQueryChange:y,onSelect:b,openButton:x,options:_,padding:w=3,popover:C=ey,prefix:S,radius:T=3,readOnly:A,relatedElements:I,renderOption:D,renderPopover:R,renderValue:P=F_r,suffix:O,value:$,...L}=e,[M,N]=p.useReducer(j_r,{activeValue:$||null,focused:!1,listFocused:!1,query:null,value:$||null}),{activeValue:z,focused:B,listFocused:H,query:X,value:G}=M,ne=p.useCallback(ht=>{let{value:en}=ht;return d.jsx(kr,{"data-as":"button",padding:w,radius:2,tone:"inherit",children:d.jsx(Rn,{size:l,textOverflow:"ellipsis",children:en})})},[l,w]),le=typeof D=="function"?D:ne,K=typeof a=="function"?a:N_r,Q=p.useRef(null),re=p.useRef(null),se=p.useRef(null),de=p.useRef(null),fe=p.useRef(!1),we=p.useRef(G),ye=p.useRef($),ve=p.useRef(!1),_e=El(r),ge="".concat(u,"-listbox"),pe=Array.isArray(_)?_:cR,Pe=ct(w),Re=p.useMemo(()=>G!==null?pe.find(ht=>ht.value===G):void 0,[pe,G]),Fe=p.useMemo(()=>pe.filter(ht=>X?K(X,ht):!0),[K,pe,X]),Ye=Fe.length,He=z?"".concat(u,"-option-").concat(z):void 0,lt=X!==null&&h||B&&X!==null,Xe=p.useCallback(ht=>{setTimeout(()=>{if(ve.current)return;const en=(I||[]).concat(Q.current?[Q.current]:[],re.current?[re.current]:[]);let Hn=!1;if(document.activeElement){for(const rr of en)if(rr===document.activeElement||rr.contains(document.activeElement)){Hn=!0;break}}Hn===!1&&(N({type:"root/blur"}),ve.current=!1,y&&y(null),m&&m(ht))},0)},[m,y,I]),st=p.useCallback(ht=>{const en=de.current,Hn=ht.target instanceof HTMLElement?ht.target:null,rr=(en==null?void 0:en.contains(Hn))||!1;rr!==fe.current&&(fe.current=rr,N({type:"root/setListFocused",listFocused:rr}))},[]),kt=p.useCallback(ht=>{var en;N({type:"value/change",value:ht}),ve.current=!1,b&&b(ht),we.current=ht,g&&g(ht),y&&y(null),(en=se.current)==null||en.focus()},[g,b,y]),Ge=p.useCallback(ht=>{var en,Hn;if(ht.key==="ArrowDown"){if(ht.preventDefault(),!Ye)return;const Li=Fe.find(Cl=>Cl.value===z),vo=Li?Fe.indexOf(Li):-1,jo=Fe[(vo+1)%Ye];jo&&N({type:"root/setActiveValue",value:jo.value,listFocused:!0});return}if(ht.key==="ArrowUp"){if(ht.preventDefault(),!Ye)return;const Li=Fe.find(Cl=>Cl.value===z),vo=Li?Fe.indexOf(Li):-1,jo=Fe[vo===-1?Ye-1:(Ye+vo-1)%Ye];jo&&N({type:"root/setActiveValue",value:jo.value,listFocused:!0});return}if(ht.key==="Escape"){N({type:"root/escape"}),ve.current=!1,y&&y(null),(en=se.current)==null||en.focus();return}const rr=ht.target,_i=de.current;if((_i===rr||_i!=null&&_i.contains(rr))&&!L_r.includes(ht.key)){(Hn=se.current)==null||Hn.focus();return}},[z,Fe,Ye,y]),gt=p.useCallback(ht=>{const en=ht.currentTarget.value;N({type:"input/change",query:en}),y&&y(en)},[y]),At=p.useCallback(ht=>{B||(N({type:"input/focus"}),v&&v(ht))},[B,v]),Dt=p.useCallback(()=>{ve.current=!0},[]),at=p.useCallback(()=>{ve.current=!1},[]),tt=p.useCallback(()=>{var ht;N({type:"root/clear"}),we.current="",g&&g(""),y&&y(null),(ht=se.current)==null||ht.focus()},[g,y]),it=p.useCallback(()=>{N({type:"input/focus"})},[]);p.useEffect(()=>{if($!==ye.current){ye.current=$,$!==void 0&&(N({type:"value/change",value:$}),we.current=$);return}$!==we.current&&(we.current=$||null,N({type:"value/change",value:$||null}))},[$]),p.useEffect(()=>{!B&&we.current&&N({type:"root/setActiveValue",value:we.current})},[B]),p.useEffect(()=>{const ht=de.current;if(!ht)return;const en=Fe.find(Hn=>Hn.value===z);if(en){const Hn=Fe.indexOf(en),rr=ht.childNodes[Hn];if(rr){if(Xxr(rr))return;fI(rr)}}},[z,Fe]);const jt=p.useCallback(ht=>{se.current=ht,_e.current=ht},[_e]),$t=p.useMemo(()=>{if(!h&&!s&&G)return{"aria-label":"Clear",onFocus:it}},[s,it,h,G]),yt=p.useMemo(()=>Pe.map(ht=>ht===0?0:ht===1||ht===2?1:ht-2),[Pe]),Gt=p.useMemo(()=>Pe.map(ht=>Math.max(ht-1,0)),[Pe]),Lt=p.useMemo(()=>typeof x=="object"?x:ey,[x]),Vn=p.useCallback(ht=>{N({type:"root/open",query:G?P(G,Re):""}),Lt.onClick&&Lt.onClick(ht),Gxr(()=>{var en;return(en=se.current)==null?void 0:en.focus()})},[Re,Lt,P,G]),Oo=p.useMemo(()=>!s&&!A&&x?d.jsx(Gn,{"aria-hidden":lt,padding:yt,children:d.jsx(ss,{"aria-label":"Open",disabled:lt,fontSize:l,icon:qs,mode:"bleed",padding:Gt,...Lt,onClick:Vn})}):void 0,[s,lt,l,Vn,x,yt,Gt,Lt,A]),Po=p.useMemo(()=>X===null?G!==null?P(G,Re):"":X,[Re,X,P,G]),wi=d.jsx(hI,{...L,"aria-activedescendant":He,"aria-autocomplete":"list","aria-expanded":lt,"aria-owns":ge,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",border:i,clearButton:$t,customValidity:o,disabled:s,fontSize:l,icon:c,iconRight:h&&O_r,id:u,inputMode:"search",onChange:gt,onClear:tt,onFocus:At,padding:Pe,prefix:S,radius:T,readOnly:A,ref:jt,role:"combobox",spellCheck:!1,suffix:O||Oo,value:Po}),pr=p.useCallback(ht=>{var en;ht.key==="Tab"&&H&&((en=se.current)==null||en.focus())},[H]),fn=p.useMemo(()=>Fe.length===0?null:d.jsx(D_r,{"data-ui":"AutoComplete__results",onKeyDown:pr,padding:1,...f,tabIndex:-1,children:d.jsx(is,{as:"ul","aria-multiselectable":!1,"data-ui":"AutoComplete__resultsList",id:ge,ref:de,role:"listbox",space:1,children:Fe.map(ht=>{const en=z!==null?ht.value===z:Re===ht;return d.jsx(P_r,{id:"".concat(u,"-option-").concat(ht.value),onSelect:kt,selected:en,value:ht.value,children:p.cloneElement(le(ht),{disabled:h,selected:en,tabIndex:H&&en?0:-1})},ht.value)})})}),[z,Re,Fe,kt,pr,u,f,ge,H,h,le]),Ct=p.useMemo(()=>R?R({content:fn,hidden:!lt,inputElement:se.current,onMouseEnter:Dt,onMouseLeave:at},re):Ye===0?null:d.jsx(hR,{arrow:!1,constrainSize:!0,content:fn,fallbackPlacements:M_r,matchReferenceWidth:!0,onMouseEnter:Dt,onMouseLeave:at,open:lt,overflow:"auto",placement:$_r,portal:!0,radius:T,ref:re,referenceElement:se.current,...C}),[fn,lt,Ye,Dt,at,C,T,R]);return d.jsxs(I_r,{"data-ui":"Autocomplete",onBlur:Xe,onFocus:st,onKeyDown:Ge,ref:Q,children:[wi,Ct]})});var E$e=Object.freeze,B_r=Object.defineProperty,_st=(n,e)=>E$e(B_r(n,"raw",{value:E$e(e||n.slice())})),C$e,S$e;const U_r=F.ol(C$e||(C$e=_st([`
  margin: 0;
  padding: 0;
  display: flex;
  list-style: none;
  align-items: center;
  white-space: nowrap;
  line-height: 0;
`]))),z_r=F(ss)(S$e||(S$e=_st([`
  appearance: none;
  margin: -4px;
`])));p.forwardRef(function(e,r){const{children:i,maxLength:o,separator:s,space:a=2,...l}=e,c=ct(a),[u,f]=p.useState(!1),[h,m]=p.useState(null),[g,v]=p.useState(null),y=p.useCallback(()=>f(!1),[]),b=p.useCallback(()=>f(!0),[]);NB(y,[h,g]);const x=p.useMemo(()=>p.Children.toArray(i).filter(w=>p.isValidElement(w)),[i]),_=p.useMemo(()=>{const w=x.length;if(o&&w>o){const C=Math.ceil(o/2),S=Math.floor(o/2);return[...x.slice(0,C-1),d.jsx(hR,{constrainSize:!0,content:d.jsx(is,{as:"ol",overflow:"auto",padding:c,space:c,children:x.slice(C-1,w-S)}),open:u,placement:"top",portal:!0,ref:v,children:d.jsx(z_r,{fontSize:1,mode:"bleed",onClick:u?y:b,padding:1,ref:m,selected:u,text:"…"})},"button"),...x.slice(w-S)]}return x},[y,b,o,u,x,c]);return d.jsx(U_r,{"data-ui":"Breadcrumbs",...l,ref:r,children:_.map((w,C)=>d.jsxs(p.Fragment,{children:[C>0&&d.jsx(Gn,{"aria-hidden":!0,as:"li",paddingX:c,children:s||d.jsx(Rn,{muted:!0,children:"/"})}),d.jsx(Gn,{as:"li",children:w})]},C))})});function V_r(n){let{theme:e}=n;const r=e.sanity.color.base;return{"&:not([hidden])":{display:"flex"},top:0,left:0,right:0,bottom:0,alignItems:"center",justifyContent:"center",outline:"none",background:r.shadow.umbra}}function H_r(n){const{theme:e}=n,{media:r}=e.sanity;return tr(r,n.$position,i=>({"&&":{position:i}}))}const OZ=Symbol.for("@sanity/ui/context/dialog");Yr[OZ]=Yr[OZ]||p.createContext({version:0});const W_r=Yr[OZ];function G_r(){return p.useContext(W_r)}var k$e=Object.freeze,q_r=Object.defineProperty,x2=(n,e)=>k$e(q_r(n,"raw",{value:k$e(e||n.slice())})),T$e,A$e,I$e,D$e,R$e,O$e;function PZ(n,e,r){return!n||!e?!0:IZ(n,r)||IZ(e,r)}const K_r=F(Lse)(ust,V_r,H_r),Y_r=F(kxr)(T$e||(T$e=x2([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  height: 100%;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`]))),Z_r=F(kr)(A$e||(A$e=x2([`
  &:not([hidden]) {
    display: flex;
  }
  width: 100%;
  min-height: 0;
  max-height: 100%;
  overflow: hidden;
  overflow: clip;
`]))),X_r=F(Pi)(I$e||(I$e=x2([`
  flex: 1;
  min-height: 0;
  width: 100%;
`]))),Q_r=F(kr)(D$e||(D$e=x2([`
  position: relative;
  z-index: 2;

  &:after {
    content: '';
    display: block;
    position: absolute;
    left: 0;
    right: 0;
    bottom: -1px;
    border-bottom: 1px solid var(--card-hairline-soft-color);
  }
`]))),J_r=F(Gn)(R$e||(R$e=x2([`
  position: relative;
  z-index: 1;
  overflow: auto;
  outline: none;
`]))),eEr=F(Gn)(O$e||(O$e=x2([`
  position: relative;
  z-index: 3;
  border-top: 1px solid var(--card-hairline-soft-color);
`]))),tEr=p.forwardRef(function(e,r){var i;const{__unstable_autoFocus:o,__unstable_hideCloseButton:s,children:a,contentRef:l,footer:c,header:u,id:f,onClickOutside:h,onClose:m,portal:g,radius:v,scheme:y,shadow:b,width:x}=e,_=HB(),w=g?((i=_.elements)==null?void 0:i[g])||null:_.element,C=zB().element,S=ct(v),T=ct(b),A=ct(x),I=El(r),[D,R]=p.useState(null),P=p.useRef(null),O=VB(),{isTopLayer:$}=O,L="".concat(f,"_label"),M=!!m&&s===!1,N=!!u||M;p.useEffect(()=>{o&&I.current&&fI(I.current)},[o,I]),nst(p.useCallback(H=>{if(!$||!m)return;const X=document.activeElement;X&&!PZ(C,w,X)||H.key==="Escape"&&(H.preventDefault(),H.stopPropagation(),m())},[C,$,m,w])),NB(p.useCallback(H=>{if(!$||!h)return;const X=H.target;X&&!PZ(C,w,X)||h()},[C,$,h,w]),[D]);const z=p.useCallback(H=>{R(H),I.current=H},[I]),B=p.useCallback(H=>{P.current=H,typeof l=="function"?l(H):l&&(l.current=H)},[l]);return d.jsx(Y_r,{"data-ui":"DialogCard",width:A,children:d.jsx(Z_r,{radius:S,ref:z,scheme:y,shadow:T,children:d.jsxs(X_r,{direction:"column",children:[N&&d.jsx(Q_r,{children:d.jsxs(Pi,{children:[d.jsx(Gn,{flex:1,padding:4,children:u&&d.jsx(Rn,{id:L,weight:"semibold",children:u})}),M&&d.jsx(Gn,{padding:2,children:d.jsx(ss,{"aria-label":"Close dialog",disabled:!m,icon:Is,mode:"bleed",onClick:m,padding:3})})]})}),d.jsx(J_r,{flex:1,ref:B,tabIndex:-1,children:a}),c&&d.jsx(eEr,{children:c})]})})})}),pI=p.forwardRef(function(e,r){var i,o;const s=G_r(),a=Zy(),{__unstable_autoFocus:l=!0,__unstable_hideCloseButton:c=!1,cardRadius:u=3,cardShadow:f=4,children:h,contentRef:m,footer:g,header:v,id:y,onActivate:b,onClickOutside:x,onClose:_,onFocus:w,padding:C=4,portal:S,position:T=s.position||"fixed",scheme:A,width:I=0,zOffset:D=s.zOffset||((i=a.sanity.layer)==null?void 0:i.dialog.zOffset),...R}=e,P=HB(),O=S?((o=P.elements)==null?void 0:o[S])||null:P.element,$=zB().element,L=ct(u),M=ct(C),N=ct(T),z=ct(I),B=ct(D),H=p.useRef(null),X=p.useRef(null),G=p.useRef(null),ne=p.useRef(null),le=p.useCallback(se=>{w==null||w(se);const de=se.target,fe=G.current;if(fe&&de===H.current){gst(fe);return}if(fe&&de===X.current){fI(fe);return}dv(se.target)&&(ne.current=se.target)},[w]),K="".concat(y,"_label"),Q=p.useRef(),re=p.useCallback(()=>{Q.current&&clearTimeout(Q.current),Q.current=setTimeout(()=>{const se=document.activeElement;if(se&&!PZ($,O,se)){const de=ne.current;if(!de||!document.body.contains(de)){const fe=G.current;fe&&fI(fe);return}de.focus()}},0)},[$,O]);return d.jsx($se,{__unstable_name:S,children:d.jsxs(K_r,{...R,$padding:M,$position:N,"aria-labelledby":K,"aria-modal":!0,"data-ui":"Dialog",id:y,onActivate:b,onClick:re,onFocus:le,ref:r,role:"dialog",zOffset:B,children:[d.jsx("div",{ref:H,tabIndex:0}),d.jsx(tEr,{__unstable_autoFocus:l,__unstable_hideCloseButton:c,contentRef:m,footer:g,header:v,id:y,onClickOutside:x,onClose:_,portal:S,radius:L,ref:G,scheme:A,shadow:f,width:z,children:h}),d.jsx("div",{ref:X,tabIndex:0})]})})});var P$e=Object.freeze,nEr=Object.defineProperty,Est=(n,e)=>P$e(nEr(n,"raw",{value:P$e(e||n.slice())})),j$e,L$e;const rEr=F.kbd(j$e||(j$e=Est([`
  &:not([hidden]) {
    display: block;
  }
  font: inherit;
`]))),iEr=F(Uxr)(L$e||(L$e=Est([`
  &:not([hidden]) {
    display: block;
  }
`]))),oEr=p.forwardRef(function(e,r){const{fontSize:i,keys:o,padding:s,radius:a,space:l=1,...c}=e,u=ct(l);return!o||o.length===0?d.jsx(d.Fragment,{}):d.jsx(rEr,{"data-ui":"Hotkeys",...c,ref:r,children:d.jsx(nd,{as:"span",space:u,children:o.map((f,h)=>d.jsx(iEr,{fontSize:i,padding:s,radius:a,children:f},h))})})}),jZ=Symbol.for("@sanity/ui/context/menu");Yr[jZ]=Yr[jZ]||p.createContext(null);const Cst=Yr[jZ];function sEr(n){return Pse(n)&&n.getAttribute("data-disabled")!=="true"||jse(n)&&!n.disabled}function l_(n){return n.filter(sEr)}function aEr(n,e){const r=[];let i=e;for(;i!==n;){const o=i.parentElement;if(!o)return r;const a=Array.from(o.childNodes).indexOf(i);if(r.unshift(a),o===n)return r;i=o}return r}const $$e=[];function lEr(n,e){if(!n)return;const r=new WeakMap;for(const o of e)r.set(o,aEr(n,o));const i=(o,s)=>{const a=r.get(o)||$$e,l=r.get(s)||$$e,c=Math.max(a.length,l.length);for(let u=0;u<c;u+=1){const f=a[u]||-1,h=l[u]||-1;if(f!==h)return f-h}return 0};e.sort(i)}function cEr(n){const{onKeyDown:e,originElement:r,shouldFocus:i}=n,o=p.useRef([]),[s,a]=p.useState(null),[l,c]=p.useState(-1),u=p.useRef(l),f=o.current[l]||null,h=!!s,m=p.useCallback(x=>{c(x),u.current=x},[]),g=p.useCallback((x,_)=>{if(!x)return()=>{};if(o.current.indexOf(x)===-1&&(o.current.push(x),lEr(s,o.current)),_){const w=o.current.indexOf(x);m(w)}return()=>{const w=o.current.indexOf(x);w>-1&&o.current.splice(w,1)}},[s,m]),v=p.useCallback(x=>{if(x.key==="Tab"){r&&r.focus();return}if(x.key==="Home"){x.preventDefault(),x.stopPropagation();const w=l_(o.current)[0];if(!w)return;const C=o.current.indexOf(w);m(C);return}if(x.key==="End"){x.preventDefault(),x.stopPropagation();const _=l_(o.current),w=_[_.length-1];if(!w)return;const C=o.current.indexOf(w);m(C);return}if(x.key==="ArrowUp"){x.preventDefault(),x.stopPropagation();const _=l_(o.current),w=_.length;if(w===0)return;const C=o.current[u.current];let S=_.indexOf(C);S=(S-1+w)%w;const T=_[S],A=o.current.indexOf(T);m(A);return}if(x.key==="ArrowDown"){x.preventDefault(),x.stopPropagation();const _=l_(o.current),w=_.length;if(w===0)return;const C=o.current[u.current];let S=_.indexOf(C);S=(S+1)%w;const T=_[S],A=o.current.indexOf(T);m(A);return}e&&e(x)},[e,r,m]),y=p.useCallback(x=>{const _=x.currentTarget,w=o.current.indexOf(_);m(w)},[m]),b=p.useCallback(()=>{m(-2),s==null||s.focus()},[m,s]);return p.useEffect(()=>{if(!h)return;const x=window.requestAnimationFrame(()=>{const _=u.current;if(_===-1){if(i==="first"){const S=l_(o.current)[0];if(S){const T=o.current.indexOf(S);m(T),u.current=T}}if(i==="last"){const C=l_(o.current),S=C[C.length-1];if(S){const T=o.current.indexOf(S);m(T),u.current=T}}return}const w=o.current[_]||null;w==null||w.focus()});return()=>{window.cancelAnimationFrame(x)}},[l,h,m,i]),{activeElement:f,activeIndex:l,handleItemMouseEnter:y,handleItemMouseLeave:b,handleKeyDown:v,mount:g,rootElement:s,setRootElement:a}}var M$e=Object.freeze,uEr=Object.defineProperty,dEr=(n,e)=>M$e(uEr(n,"raw",{value:M$e(e||n.slice())})),F$e;const fEr=F(Gn)(F$e||(F$e=dEr([`
  outline: none;
  overflow: auto;
`]))),Sst=p.forwardRef(function(e,r){const{children:i,focusFirst:o,focusLast:s,onClickOutside:a,onEscape:l,onItemClick:c,onItemSelect:u,onKeyDown:f,originElement:h,padding:m=1,registerElement:g,shouldFocus:v=e.focusFirst&&"first"||e.focusLast&&"last"||null,space:y=1,...b}=e,x=El(r),{isTopLayer:_}=VB(),{activeElement:w,activeIndex:C,handleItemMouseEnter:S,handleItemMouseLeave:T,handleKeyDown:A,mount:I,rootElement:D,setRootElement:R}=cEr({onKeyDown:f,originElement:h,shouldFocus:v}),P=p.useCallback($=>{R($),x.current=$},[x,R]);p.useEffect(()=>{u&&u(C)},[C,u]),NB(p.useCallback($=>_&&a&&a($),[_,a]),[D]),nst(p.useCallback($=>{_&&$.key==="Escape"&&($.stopPropagation(),l&&l())},[_,l])),p.useEffect(()=>{if(!(!D||!g))return g(D)},[g,D]);const O=p.useMemo(()=>({version:0,activeElement:w,activeIndex:C,mount:I,onClickOutside:a,onEscape:l,onItemClick:c,onItemMouseEnter:S,onItemMouseLeave:T,registerElement:g,onMouseEnter:S,onMouseLeave:T}),[w,C,I,S,T,a,l,c,g]);return d.jsx(Cst.Provider,{value:O,children:d.jsx(fEr,{"data-ui":"Menu",...b,onKeyDown:A,padding:m,ref:P,role:"menu",tabIndex:-1,children:d.jsx(is,{space:y,children:i})})})}),hEr=p.forwardRef(function(e,r){const{__unstable_disableRestoreFocusOnClose:i=!1,boundaryElement:o,button:s,id:a,menu:l,onClose:c,onOpen:u,placement:f,popoverScheme:h,portal:m=!0,popover:g,popoverRadius:v,preventOverflow:y}=e,[b,x]=p.useState(!1),[_,w]=p.useState(null),[C,S]=p.useState(null),[T,A]=p.useState([]),I=p.useRef(b);p.useEffect(()=>{u&&b&&!I.current&&u()},[u,b]),p.useEffect(()=>{c&&!b&&I.current&&c()},[c,b]),p.useEffect(()=>{I.current=b},[b]);const D=p.useCallback(()=>{x(G=>!G),w(null)},[]),R=p.useCallback(G=>{if(G.key==="ArrowDown"||G.key==="Enter"||G.key===" "){G.preventDefault(),x(!0),w("first");return}if(G.key==="ArrowUp"){G.preventDefault(),x(!0),w("last");return}},[]),P=p.useCallback(G=>{const ne=G.target;if(ne instanceof Node&&!(C&&(ne===C||C.contains(ne)))){for(const le of T)if(ne===le||le.contains(ne))return;x(!1)}},[C,T]),O=p.useCallback(()=>{x(!1),!i&&C&&C.focus()},[C,i]),$=p.useCallback(G=>{const ne=G.relatedTarget;if(ne instanceof Node){for(const le of T)if(le===ne||le.contains(ne))return;x(!1)}},[T]),L=p.useCallback(()=>{x(!1),!i&&C&&C.focus()},[C,i]),M=p.useCallback(G=>(A(ne=>ne.concat([G])),()=>{A(ne=>ne.filter(le=>le!==G))}),[]),N=p.useMemo(()=>({"aria-labelledby":a,onBlurCapture:$,onClickOutside:P,onEscape:O,onItemClick:L,originElement:C,registerElement:M,shouldFocus:_}),[C,P,O,L,a,$,M,_]),z=Xr.isElement(l)?p.cloneElement(l,N):null,B=p.useCallback(G=>{typeof r=="function"?r(G):r&&(r.current=G),S(G)},[r]),H=p.useMemo(()=>Xr.isElement(s)?p.cloneElement(s,{"data-ui":"MenuButton",id:a,onClick:D,onKeyDown:R,"aria-haspopup":!0,"aria-expanded":b,ref:B,selected:b}):null,[s,D,R,a,b,B]),X=p.useMemo(()=>({boundaryElement:o,overflow:"auto",placement:f,portal:m,preventOverflow:y,radius:v,scheme:h,...g||{}}),[o,f,v,h,m,y,g]);return d.jsx(hR,{"data-ui":"MenuButton__popover",...X,content:z,open:b,children:H||d.jsx(d.Fragment,{})})});var N$e=Object.freeze,pEr=Object.defineProperty,mEr=(n,e)=>N$e(pEr(n,"raw",{value:N$e(e||n.slice())})),B$e;const U$e=F.hr(B$e||(B$e=mEr([`
  height: 1px;
  border: 0;
  background: var(--card-hairline-soft-color);
  margin: 0;
`])));var z$e=Object.freeze,gEr=Object.defineProperty,kst=(n,e)=>z$e(gEr(n,"raw",{value:z$e(e||n.slice())})),V$e,H$e;function vEr(){return Ae(V$e||(V$e=kst([`
    background-color: inherit;
    color: inherit;

    &[data-as='button'] {
      -webkit-font-smoothing: inherit;
      appearance: none;
      outline: none;
      font: inherit;
      text-align: inherit;
      border: 0;
      width: -webkit-fill-available;
      width: stretch;
    }

    /* &:is(a) */
    &[data-as='a'] {
      text-decoration: none;
    }
  `])))}function yEr(n){var e,r;const{$tone:i,theme:o}=n,{base:s,muted:a,selectable:l}=o.sanity.color,c=l?l[i]||l.default:a[i]||a.default;return Ae(H$e||(H$e=kst([`
    `,`

    background-color: var(--card-bg-color);
    color: var(--card-fg-color);
    outline: none;

    /* &:is(button) */
    &[data-as='button'] {
      &:disabled {
        `,`
      }

      &:not(:disabled) {
        &[aria-pressed='true'] {
          `,`
        }

        &[data-selected],
        &[aria-selected='true'] > & {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    /* &:is(a) */
    &[data-as='a'] {
      &[data-disabled] {
        `,`
      }

      &:not([data-disabled]) {
        &[data-pressed] {
          `,`
        }

        &[data-selected] {
          `,`
        }

        @media (hover: hover) {
          &:not([data-selected]) {
            &[data-hovered],
            &:hover {
              `,`
            }

            &:active {
              `,`
            }
          }
        }
      }
    }

    `,`
  `])),Mr(s,c.enabled),Mr(s,c.disabled),Mr(s,c.pressed),Mr(s,c.selected),Mr(s,c.hovered),Mr(s,c.pressed),Mr(s,c.disabled),Mr(s,c.pressed),Mr(s,c.selected),Mr(s,c.hovered),Mr(s,c.pressed),(r=(e=o.sanity.styles)==null?void 0:e.card)==null?void 0:r.root)}const bEr=F(Gn)(uv,vEr,yEr);function xEr(){const n=p.useContext(Cst);if(!n)throw new Error("useMenu(): missing context value");if(!y2(n)||n.version!==0)throw new Error("useMenu(): the context value is not compatible");return n}const WA=p.forwardRef(function(e,r){const{as:i="button",children:o,disabled:s,fontSize:a=2,hotkeys:l,icon:c,iconRight:u,onClick:f,padding:h=3,paddingX:m,paddingY:g,paddingTop:v,paddingRight:y,paddingBottom:b,paddingLeft:x,pressed:_,radius:w=2,selected:C,space:S=3,text:T,tone:A="default",...I}=e,D=xEr(),{activeElement:R,mount:P,onItemClick:O,onItemMouseEnter:$=D.onMouseEnter,onItemMouseLeave:L=D.onMouseLeave}=D,[M,N]=p.useState(null),z=!!R&&R===M;p.useEffect(()=>P(M,C),[P,M,C]);const B=El(r),H=p.useCallback(ne=>{s||(f&&f(ne),O&&O())},[s,f,O]),X=p.useMemo(()=>({padding:h,paddingX:m,paddingY:g,paddingTop:v,paddingRight:y,paddingBottom:b,paddingLeft:x}),[h,m,g,v,y,b,x]),G=p.useCallback(ne=>{B.current=ne,N(ne)},[B]);return d.jsxs(bEr,{"data-ui":"MenuItem",...I,"aria-pressed":i==="button"&&_,"data-pressed":i!=="button"&&_?"":void 0,"data-selected":z?"":void 0,"data-disabled":s?"":void 0,forwardedAs:i,$radius:ct(w),$padding:ct(0),$tone:A,disabled:s,onClick:H,onMouseEnter:$,onMouseLeave:L,ref:G,role:"menuitem",tabIndex:-1,type:i==="button"?"button":void 0,children:[(c||T||u)&&d.jsx(Gn,{as:"span",...X,children:d.jsxs(Pi,{as:"span",children:[c&&d.jsxs(Rn,{size:a,children:[p.isValidElement(c)&&c,Xr.isValidElementType(c)&&p.createElement(c)]}),T&&d.jsx(Gn,{flex:1,marginLeft:c?S:void 0,marginRight:u?S:void 0,children:d.jsx(Rn,{size:a,textOverflow:"ellipsis",children:T})}),l&&d.jsx(Gn,{marginLeft:S,style:{marginTop:-4,marginBottom:-4},children:d.jsx(oEr,{fontSize:a,keys:l})}),u&&d.jsxs(Rn,{size:a,children:[p.isValidElement(u)&&u,Xr.isValidElementType(u)&&p.createElement(u)]})]})}),o&&d.jsx(Gn,{as:"span",...X,children:o})]})});var W$e=Object.freeze,wEr=Object.defineProperty,a4=(n,e)=>W$e(wEr(n,"raw",{value:W$e(e||n.slice())})),G$e,q$e,K$e,Y$e;const _Er=Kp(G$e||(G$e=a4([`
  0% {
    background-position: 100%;
  }
  100% {
    background-position: -100%;
  }
`]))),EEr=Ae(q$e||(q$e=a4([`
  background-image: linear-gradient(
    to right,
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-to),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from),
    var(--card-skeleton-color-from)
  );
  background-position: 100%;
  background-size: 200% 100%;
  background-attachment: fixed;
  animation-name: `,`;
  animation-timing-function: ease-in-out;
  animation-iteration-count: infinite;
  animation-duration: 2000ms;
`])),_Er),CEr=Ae(Y$e||(Y$e=a4([`
  opacity: `,`;
  transition: opacity 200ms ease-in;

  @media screen and (prefers-reduced-motion: no-preference) {
    `,`
  }

  @media screen and (prefers-reduced-motion: reduce) {
    background-color: var(--card-skeleton-color-from);
  }
`])),n=>{let{$visible:e}=n;return e?1:0},n=>{let{$animated:e}=n;return e?EEr:Ae(K$e||(K$e=a4([`
            background-color: var(--card-skeleton-color-from);
          `])))}),SEr=F(Gn)(uv,CEr),kEr=p.forwardRef(function(e,r){const{animated:i=!1,delay:o,radius:s,...a}=e,[l,c]=p.useState(!o);return p.useEffect(()=>{if(!o)return c(!0);const u=setTimeout(()=>{c(!0)},o);return()=>{clearTimeout(u)}},[o]),d.jsx(SEr,{...a,$animated:i,$radius:ct(s),$visible:l,ref:r})}),KB=F(kEr)(n=>{let{$size:e,$style:r,theme:i}=n;const{media:o}=i.sanity,s=i.sanity.fonts[r];return tr(o,e,l=>{const c=s.sizes[l];return{height:c.lineHeight-c.ascenderHeight-c.descenderHeight}})});p.forwardRef(function(e,r){const{size:i=2,...o}=e,s=ct(i);return d.jsx(KB,{...o,$size:s,ref:r,$style:"text"})});p.forwardRef(function(e,r){const{size:i=2,...o}=e,s=ct(i);return d.jsx(KB,{...o,$size:s,ref:r,$style:"label"})});p.forwardRef(function(e,r){const{size:i=2,...o}=e,s=ct(i);return d.jsx(KB,{...o,$size:s,ref:r,$style:"heading"})});p.forwardRef(function(e,r){const{size:i=2,...o}=e,s=ct(i);return d.jsx(KB,{...o,$size:s,ref:r,$style:"code"})});var Z$e=Object.freeze,TEr=Object.defineProperty,AEr=(n,e)=>Z$e(TEr(n,"raw",{value:Z$e(e||n.slice())})),X$e;const IEr=F(ss)(X$e||(X$e=AEr([`
  max-width: 100%;
`]))),Q$e=p.forwardRef(function(e,r){const{icon:i,id:o,focused:s,fontSize:a,label:l,onClick:c,onFocus:u,padding:f=2,selected:h,...m}=e,g=p.useRef(null),v=p.useRef(!1),y=p.useCallback(()=>{v.current=!1},[]),b=p.useCallback(w=>{v.current=!0,u&&u(w)},[u]),x=El(r);p.useEffect(()=>{s&&!v.current&&(g.current&&g.current.focus(),v.current=!0)},[s]);const _=w=>{g.current=w,x.current=w};return d.jsx(IEr,{"data-ui":"Tab",...m,"aria-selected":h?"true":"false",fontSize:a,icon:i,id:o,mode:"bleed",onClick:c,onBlur:y,onFocus:b,padding:f,ref:_,role:"tab",selected:h,tabIndex:h?0:-1,text:l,type:"button"})});var J$e=Object.freeze,DEr=Object.defineProperty,REr=(n,e)=>J$e(DEr(n,"raw",{value:J$e(e||n.slice())})),eMe;function OEr(n){return!!n}const PEr=F(nd)(eMe||(eMe=REr([`
  & > div {
    display: inline-block;
    vertical-align: middle;
    max-width: 100%;
    box-sizing: border-box;
  }
`]))),jEr=p.forwardRef(function(e,r){const{children:i,...o}=e,[s,a]=p.useState(-1),c=p.useMemo(()=>i.filter(OEr),[i]).map((m,g)=>p.cloneElement(m,{focused:s===g,key:g,onFocus:()=>f(g)})),u=c.length,f=p.useCallback(m=>{a(m)},[]),h=p.useCallback(m=>{m.key==="ArrowLeft"&&a(g=>(g+u-1)%u),m.key==="ArrowRight"&&a(g=>(g+1)%u)},[u]);return d.jsx(PEr,{"data-ui":"TabList",...o,onKeyDown:h,ref:r,role:"tablist",children:c})}),tMe=p.forwardRef(function(e,r){const{flex:i,...o}=e;return d.jsx(Gn,{"data-ui":"TabPanel",...o,flex:i,ref:r,role:"tabpanel",tabIndex:e.tabIndex===void 0?0:e.tabIndex,children:e.children})});var nMe=Object.freeze,LEr=Object.defineProperty,Tst=(n,e)=>nMe(LEr(n,"raw",{value:nMe(e||n.slice())})),rMe,iMe;F(kr)(rMe||(rMe=Tst([`
  pointer-events: all;
`])));F(Pi)(iMe||(iMe=Tst([`
  overflow-x: auto;
`])));const LZ=Symbol.for("@sanity/ui/context/toast");Yr[LZ]=Yr[LZ]||p.createContext(null);const $Er=Yr[LZ];var oMe=Object.freeze,MEr=Object.defineProperty,Ast=(n,e)=>oMe(MEr(n,"raw",{value:oMe(e||n.slice())})),sMe,aMe;F(Lse)(sMe||(sMe=Ast([`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
`])));F.div(aMe||(aMe=Ast([`
  box-sizing: border-box;
  position: absolute;
  right: 0;
  bottom: 0;
  max-width: 420px;
  width: 100%;
`])));function Bse(){const n=p.useContext($Er);if(!n)throw new Error("useToast(): missing context value");if(!y2(n)||n.version!==0)throw new Error("useToast(): the context value is not compatible");return n}function FEr(n,e,r){var i;const o=e.indexOf(r),s=e.slice(0,o),a=s.length;for(let l=a-1;l>=0;l-=1){const c=s[l].getAttribute("data-tree-key");if(!c)continue;const u=c.split("/");u.pop();const f=[];let h=!0;for(let m=0;m<u.length;m+=1){f.push(u[m]);const g=f.join("/");if(!((i=n[g])!=null&&i.expanded)){h=!1;break}}if(h)return s[l]}return null}function NEr(n,e,r){var i;const o=e.indexOf(r),s=e.slice(o),a=e.length;for(let l=1;l<a;l+=1){if(!s[l])continue;const c=s[l].getAttribute("data-tree-key");if(!c)continue;const u=c.split("/");u.pop();const f=[];let h=!0;for(let m=0;m<u.length;m+=1){f.push(u[m]);const g=f.join("/");if(!((i=n[g])!=null&&i.expanded)){h=!1;break}}if(h)return s[l]}return null}function lMe(n){if(n.getAttribute("role")==="treeitem"&&n.focus(),n.getAttribute("role")==="none"){const e=n.firstChild;e&&e instanceof HTMLElement&&e.focus()}}const $Z=Symbol.for("@sanity/ui/context/tree");Yr[$Z]=Yr[$Z]||p.createContext(null);const l4=Yr[$Z],BEr=p.memo(p.forwardRef(function(e,r){const{children:i,space:o=1,onFocus:s,...a}=e,l=El(r),[c,u]=p.useState(null),f=p.useRef(c),h=p.useMemo(()=>[],[]),[m,g]=p.useState([]),[v,y]=p.useState({}),b=p.useRef(v);p.useEffect(()=>{f.current=c},[c]),p.useEffect(()=>{b.current=v},[v]);const x=p.useCallback((T,A,I,D)=>(y(R=>({...R,[A]:{element:T,expanded:I}})),D&&u(T),()=>{y(R=>{const P={...R};return delete P[A],P})}),[]),_=p.useCallback((T,A)=>{y(I=>{const D=I[T];return D?{...I,[T]:{...D,expanded:A}}:I})},[]),w=p.useMemo(()=>({version:0,focusedElement:c||m[0]||null,level:0,path:h,registerItem:x,setExpanded:_,setFocusedElement:u,space:o,state:v}),[c,m,h,x,_,o,v]),C=p.useCallback(T=>{var A;if(f.current){if(T.key==="ArrowDown"){T.preventDefault();const I=NEr(b.current,m,f.current);I&&(lMe(I),u(I));return}if(T.key==="ArrowUp"){T.preventDefault();const I=FEr(b.current,m,f.current);I&&(lMe(I),u(I));return}if(T.key==="ArrowLeft"){T.preventDefault();const I=f.current.getAttribute("data-tree-key");if(!I)return;const D=b.current[I];if(!D)return;if(D.expanded)y(R=>{const P=R[I];return P?{...R,[I]:{...P,expanded:!1}}:R});else{const R=I.split("/");R.pop();const P=R.join("/"),O=P&&b.current[P];O&&(O.element.focus(),u(O.element))}return}if(T.key==="ArrowRight"){T.preventDefault();const I=f.current.getAttribute("data-tree-key");if(!I)return;(A=b.current[I])!=null&&A.expanded||y(D=>{const R=D[I];return R?{...D,[I]:{...R,expanded:!0}}:D});return}}},[m]),S=p.useCallback(T=>{u(T.target),s==null||s(T)},[s]);return p.useEffect(()=>{if(!l.current)return;const T=Array.from(l.current.querySelectorAll('[data-ui="TreeItem"]'));g(T)},[i,l]),d.jsx(l4.Provider,{value:w,children:d.jsx(is,{as:"ul","data-ui":"Tree",...a,onFocus:S,onKeyDown:C,ref:l,role:"tree",space:o,children:i})})}));BEr.displayName="Tree";var cMe=Object.freeze,UEr=Object.defineProperty,Use=(n,e)=>cMe(UEr(n,"raw",{value:cMe(e||n.slice())})),uMe,dMe,fMe;function zEr(){return Ae(uMe||(uMe=Use([`
    &[role='none'] > [role='treeitem'] {
      outline: none;
      cursor: default;
      border-radius: 3px;

      &:focus {
        position: relative;
      }
    }

    &[role='treeitem'] {
      outline: none;

      & > div {
        cursor: default;
        border-radius: 3px;
      }

      &:focus > div {
        position: relative;
      }
    }
  `])))}function VEr(n){const{theme:e}=n,r="default",{base:i,muted:o,selectable:s}=e.sanity.color,a=s?s[r]||s.default:o[r]||o.default;return Ae(dMe||(dMe=Use([`
    /* <div role="none"><a data-ui="TreeItem__box" role="treeitem" tabIndex="0"></div> */
    &[role='none'] {
      & > [role='treeitem'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--treeitem-fg-color);
      }

      &[data-selected] > [role='treeitem'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]) > [role='treeitem']:not(:focus):hover {
          `,`
        }

        & > [role='treeitem']:focus {
          `,`
        }
      }
    }

    /* <div role="treeitem" tabIndex="0"><div data-ui="TreeItem__box"></div> */
    &[role='treeitem'] {
      & > [data-ui='TreeItem__box'] {
        `,`

        background-color: var(--card-bg-color);
        color: var(--card-fg-color);
      }

      &[data-selected] > [data-ui='TreeItem__box'] {
        `,`
      }

      @media (hover: hover) {
        &:not([data-selected]):not(:focus) > [data-ui='TreeItem__box']:hover {
          `,`
        }

        &:focus > [data-ui='TreeItem__box'] {
          `,`
        }
      }
    }
  `])),Mr(i,a.enabled),Mr(i,a.pressed),Mr(i,a.hovered),Mr(i,a.selected),Mr(i,a.enabled),Mr(i,a.pressed),Mr(i,a.hovered),Mr(i,a.selected))}function HEr(n){const{$level:e,theme:r}=n,{space:i}=r.sanity;return Ae(fMe||(fMe=Use([`
    padding-left: `,`;

    &[data-as='a'] {
      text-decoration: none;
    }
  `])),sn(i[2]*e))}function Ist(){const n=p.useContext(l4);if(!n)throw new Error("Tree: missing context value");return n}const hMe=p.memo(function(e){const{children:r,expanded:i=!1,...o}=e,s=Ist();return d.jsx(is,{as:"ul","data-ui":"TreeGroup",...o,hidden:!i,marginTop:s.space,role:"group",space:s.space,children:r})});var pMe=Object.freeze,WEr=Object.defineProperty,GEr=(n,e)=>pMe(WEr(n,"raw",{value:pMe(e||n.slice())})),mMe;const gMe=p.memo(F.li(zEr,VEr)),vMe=F(Gn).attrs({forwardedAs:"a"})(HEr),qEr=F(Rn)(mMe||(mMe=GEr([`
  & > svg {
    transition: transform 100ms;
  }
`])));p.memo(function(e){const{children:r,expanded:i=!1,fontSize:o,href:s,icon:a,id:l,linkAs:c,muted:u,onClick:f,padding:h=3,selected:m=!1,space:g=2,text:v,weight:y,...b}=e,x=p.useRef(null),_=p.useRef(null),w=Ist(),{path:C,registerItem:S,setExpanded:T,setFocusedElement:A}=w,I=p.useId(),D=l||I,R=p.useMemo(()=>C.concat([D||""]),[D,C]),P=R.join("/"),O=w.state[P],$=w.focusedElement===x.current,L=(O==null?void 0:O.expanded)===void 0?i:(O==null?void 0:O.expanded)||!1,M=w.focusedElement&&w.focusedElement===x.current?0:-1,N=p.useMemo(()=>({...w,level:w.level+1,path:R}),[R,w]),z=p.useCallback(X=>{f&&f(X);const G=X.target;G instanceof HTMLElement&&(G.getAttribute("data-ui")==="TreeItem"||G.closest('[data-ui="TreeItem__box"]'))&&(X.stopPropagation(),T(P,!L),A(x.current))},[L,P,f,T,A]),B=p.useCallback(X=>{if($&&X.key==="Enter"){const G=_.current||x.current;G==null||G.click()}},[$]);p.useEffect(()=>{if(x.current)return S(x.current,R.join("/"),L,m)},[L,R,S,m]);const H=d.jsxs(Pi,{padding:h,children:[d.jsxs(Gn,{marginRight:g,style:{visibility:a||r?"visible":"hidden",pointerEvents:"none"},children:[a&&d.jsx(Rn,{muted:u,size:o,weight:y,children:p.createElement(a)}),!a&&d.jsx(qEr,{muted:u,size:o,weight:y,children:d.jsx(WI,{style:{transform:L?"rotate(90deg)":void 0}})})]}),d.jsx(Gn,{flex:1,children:d.jsx(Rn,{muted:u,size:o,textOverflow:"ellipsis",weight:y,children:v})})]});return s?d.jsxs(gMe,{"data-selected":m?"":void 0,"data-tree-id":D,"data-tree-key":P,"data-ui":"TreeItem",...b,onClick:z,ref:x,role:"none",children:[d.jsx(vMe,{$level:w.level,"aria-expanded":L,as:c,"data-ui":"TreeItem__box",href:s,ref:_,role:"treeitem",tabIndex:M,children:H}),d.jsx(l4.Provider,{value:N,children:r&&d.jsx(hMe,{hidden:!L,children:r})})]}):d.jsxs(gMe,{"data-selected":m?"":void 0,"data-ui":"TreeItem","data-tree-id":D,"data-tree-key":P,...b,"aria-expanded":L,onClick:z,onKeyDown:B,ref:x,role:"treeitem",tabIndex:M,children:[d.jsx(vMe,{$level:w.level,as:"div","data-ui":"TreeItem__box",children:H}),d.jsx(l4.Provider,{value:N,children:r&&d.jsx(hMe,{expanded:L,children:r})})]})});var c4={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */c4.exports;(function(n,e){(function(){var r,i="4.17.21",o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",u=500,f="__lodash_placeholder__",h=1,m=2,g=4,v=1,y=2,b=1,x=2,_=4,w=8,C=16,S=32,T=64,A=128,I=256,D=512,R=30,P="...",O=800,$=16,L=1,M=2,N=3,z=1/0,B=9007199254740991,H=17976931348623157e292,X=0/0,G=4294967295,ne=G-1,le=G>>>1,K=[["ary",A],["bind",b],["bindKey",x],["curry",w],["curryRight",C],["flip",D],["partial",S],["partialRight",T],["rearg",I]],Q="[object Arguments]",re="[object Array]",se="[object AsyncFunction]",de="[object Boolean]",fe="[object Date]",we="[object DOMException]",ye="[object Error]",ve="[object Function]",_e="[object GeneratorFunction]",ge="[object Map]",pe="[object Number]",Pe="[object Null]",Re="[object Object]",Fe="[object Promise]",Ye="[object Proxy]",He="[object RegExp]",lt="[object Set]",Xe="[object String]",st="[object Symbol]",kt="[object Undefined]",Ge="[object WeakMap]",gt="[object WeakSet]",At="[object ArrayBuffer]",Dt="[object DataView]",at="[object Float32Array]",tt="[object Float64Array]",it="[object Int8Array]",jt="[object Int16Array]",$t="[object Int32Array]",yt="[object Uint8Array]",Gt="[object Uint8ClampedArray]",Lt="[object Uint16Array]",Vn="[object Uint32Array]",Oo=/\b__p \+= '';/g,Po=/\b(__p \+=) '' \+/g,wi=/(__e\(.*?\)|\b__t\)) \+\n'';/g,pr=/&(?:amp|lt|gt|quot|#39);/g,fn=/[&<>"']/g,Ct=RegExp(pr.source),ht=RegExp(fn.source),en=/<%-([\s\S]+?)%>/g,Hn=/<%([\s\S]+?)%>/g,rr=/<%=([\s\S]+?)%>/g,_i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Li=/^\w*$/,vo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,jo=/[\\^$.*+?()[\]{}|]/g,Cl=RegExp(jo.source),Sl=/^\s+/,um=/\s/,gd=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,vd=/\{\n\/\* \[wrapped with (.+)\] \*/,Dh=/,? & /,_2=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Tw=/[()=,{}\[\]\/\s]/,hv=/\\(\\)?/g,Jy=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Rh=/\w*$/,Aw=/^[-+]0x[0-9a-f]+$/i,Iw=/^0b[01]+$/i,Dw=/^\[object .+?Constructor\]$/,Nc=/^0o[0-7]+$/i,E2=/^(?:0|[1-9]\d*)$/,e1=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Oh=/($^)/,C2=/['\n\r\u2028\u2029\\]/g,Bc="\\ud800-\\udfff",dm="\\u0300-\\u036f",Df="\\ufe20-\\ufe2f",fm="\\u20d0-\\u20ff",hm=dm+Df+fm,pm="\\u2700-\\u27bf",yd="a-z\\xdf-\\xf6\\xf8-\\xff",S2="\\xac\\xb1\\xd7\\xf7",t1="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",tn="\\u2000-\\u206f",yo=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ei="A-Z\\xc0-\\xd6\\xd8-\\xde",lo="\\ufe0e\\ufe0f",Uc=S2+t1+tn+yo,ic="['’]",Os="["+Bc+"]",Ph="["+Uc+"]",pv="["+hm+"]",mm="\\d+",m7="["+pm+"]",k2="["+yd+"]",xR="[^"+Bc+Uc+mm+pm+yd+ei+"]",n1="\\ud83c[\\udffb-\\udfff]",g7="(?:"+pv+"|"+n1+")",wR="[^"+Bc+"]",xs="(?:\\ud83c[\\udde6-\\uddff]){2}",mv="[\\ud800-\\udbff][\\udc00-\\udfff]",gv="["+ei+"]",_R="\\u200d",ER="(?:"+k2+"|"+xR+")",v7="(?:"+gv+"|"+xR+")",vv="(?:"+ic+"(?:d|ll|m|re|s|t|ve))?",Rw="(?:"+ic+"(?:D|LL|M|RE|S|T|VE))?",T2=g7+"?",A2="["+lo+"]?",yv="(?:"+_R+"(?:"+[wR,xs,mv].join("|")+")"+A2+T2+")*",y7="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",b7="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",CR=A2+T2+yv,x7="(?:"+[m7,xs,mv].join("|")+")"+CR,w7="(?:"+[wR+pv+"?",pv,xs,mv,Os].join("|")+")",_7=RegExp(ic,"g"),E7=RegExp(pv,"g"),I2=RegExp(n1+"(?="+n1+")|"+w7+CR,"g"),C7=RegExp([gv+"?"+k2+"+"+vv+"(?="+[Ph,gv,"$"].join("|")+")",v7+"+"+Rw+"(?="+[Ph,gv+ER,"$"].join("|")+")",gv+"?"+ER+"+"+vv,gv+"+"+Rw,b7,y7,mm,x7].join("|"),"g"),Ow=RegExp("["+_R+Bc+hm+lo+"]"),D2=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,SR=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],R2=-1,co={};co[at]=co[tt]=co[it]=co[jt]=co[$t]=co[yt]=co[Gt]=co[Lt]=co[Vn]=!0,co[Q]=co[re]=co[At]=co[de]=co[Dt]=co[fe]=co[ye]=co[ve]=co[ge]=co[pe]=co[Re]=co[He]=co[lt]=co[Xe]=co[Ge]=!1;var Ki={};Ki[Q]=Ki[re]=Ki[At]=Ki[Dt]=Ki[de]=Ki[fe]=Ki[at]=Ki[tt]=Ki[it]=Ki[jt]=Ki[$t]=Ki[ge]=Ki[pe]=Ki[Re]=Ki[He]=Ki[lt]=Ki[Xe]=Ki[st]=Ki[yt]=Ki[Gt]=Ki[Lt]=Ki[Vn]=!0,Ki[ye]=Ki[ve]=Ki[Ge]=!1;var S7={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},k7={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},T7={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},A7={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},I7=parseFloat,D7=parseInt,kR=typeof _a=="object"&&_a&&_a.Object===Object&&_a,TR=typeof self=="object"&&self&&self.Object===Object&&self,Ii=kR||TR||Function("return this")(),gm=e&&!e.nodeType&&e,vm=gm&&!0&&n&&!n.nodeType&&n,AR=vm&&vm.exports===gm,Y=AR&&kR.process,V=function(){try{var Ie=vm&&vm.require&&vm.require("util").types;return Ie||Y&&Y.binding&&Y.binding("util")}catch{}}(),q=V&&V.isArrayBuffer,W=V&&V.isDate,ce=V&&V.isMap,Ee=V&&V.isRegExp,he=V&&V.isSet,$e=V&&V.isTypedArray;function Ve(Ie,Qe,We){switch(We.length){case 0:return Ie.call(Qe);case 1:return Ie.call(Qe,We[0]);case 2:return Ie.call(Qe,We[0],We[1]);case 3:return Ie.call(Qe,We[0],We[1],We[2])}return Ie.apply(Qe,We)}function Oe(Ie,Qe,We,Xt){for(var nr=-1,Ei=Ie==null?0:Ie.length;++nr<Ei;){var ma=Ie[nr];Qe(Xt,ma,We(ma),Ie)}return Xt}function Mt(Ie,Qe){for(var We=-1,Xt=Ie==null?0:Ie.length;++We<Xt&&Qe(Ie[We],We,Ie)!==!1;);return Ie}function Cn(Ie,Qe){for(var We=Ie==null?0:Ie.length;We--&&Qe(Ie[We],We,Ie)!==!1;);return Ie}function mr(Ie,Qe){for(var We=-1,Xt=Ie==null?0:Ie.length;++We<Xt;)if(!Qe(Ie[We],We,Ie))return!1;return!0}function an(Ie,Qe){for(var We=-1,Xt=Ie==null?0:Ie.length,nr=0,Ei=[];++We<Xt;){var ma=Ie[We];Qe(ma,We,Ie)&&(Ei[nr++]=ma)}return Ei}function xn(Ie,Qe){var We=Ie==null?0:Ie.length;return!!We&&kn(Ie,Qe,0)>-1}function Sn(Ie,Qe,We){for(var Xt=-1,nr=Ie==null?0:Ie.length;++Xt<nr;)if(We(Qe,Ie[Xt]))return!0;return!1}function Wn(Ie,Qe){for(var We=-1,Xt=Ie==null?0:Ie.length,nr=Array(Xt);++We<Xt;)nr[We]=Qe(Ie[We],We,Ie);return nr}function bo(Ie,Qe){for(var We=-1,Xt=Qe.length,nr=Ie.length;++We<Xt;)Ie[nr+We]=Qe[We];return Ie}function ws(Ie,Qe,We,Xt){var nr=-1,Ei=Ie==null?0:Ie.length;for(Xt&&Ei&&(We=Ie[++nr]);++nr<Ei;)We=Qe(We,Ie[nr],nr,Ie);return We}function Yi(Ie,Qe,We,Xt){var nr=Ie==null?0:Ie.length;for(Xt&&nr&&(We=Ie[--nr]);nr--;)We=Qe(We,Ie[nr],nr,Ie);return We}function Tu(Ie,Qe){for(var We=-1,Xt=Ie==null?0:Ie.length;++We<Xt;)if(Qe(Ie[We],We,Ie))return!0;return!1}var ym=xo("length");function Xo(Ie){return Ie.split("")}function vn(Ie){return Ie.match(_2)||[]}function Ft(Ie,Qe,We){var Xt;return We(Ie,function(nr,Ei,ma){if(Qe(nr,Ei,ma))return Xt=Ei,!1}),Xt}function Rt(Ie,Qe,We,Xt){for(var nr=Ie.length,Ei=We+(Xt?1:-1);Xt?Ei--:++Ei<nr;)if(Qe(Ie[Ei],Ei,Ie))return Ei;return-1}function kn(Ie,Qe,We){return Qe===Qe?Vut(Ie,Qe,We):Rt(Ie,cr,We)}function qn(Ie,Qe,We,Xt){for(var nr=We-1,Ei=Ie.length;++nr<Ei;)if(Xt(Ie[nr],Qe))return nr;return-1}function cr(Ie){return Ie!==Ie}function ti(Ie,Qe){var We=Ie==null?0:Ie.length;return We?bd(Ie,Qe)/We:X}function xo(Ie){return function(Qe){return Qe==null?r:Qe[Ie]}}function uo(Ie){return function(Qe){return Ie==null?r:Ie[Qe]}}function Or(Ie,Qe,We,Xt,nr){return nr(Ie,function(Ei,ma,fo){We=Xt?(Xt=!1,Ei):Qe(We,Ei,ma,fo)}),We}function Ks(Ie,Qe){var We=Ie.length;for(Ie.sort(Qe);We--;)Ie[We]=Ie[We].value;return Ie}function bd(Ie,Qe){for(var We,Xt=-1,nr=Ie.length;++Xt<nr;){var Ei=Qe(Ie[Xt]);Ei!==r&&(We=We===r?Ei:We+Ei)}return We}function bm(Ie,Qe){for(var We=-1,Xt=Array(Ie);++We<Ie;)Xt[We]=Qe(We);return Xt}function r1(Ie,Qe){return Wn(Qe,function(We){return[We,Ie[We]]})}function oc(Ie){return Ie&&Ie.slice(0,Zae(Ie)+1).replace(Sl,"")}function Ps(Ie){return function(Qe){return Ie(Qe)}}function i1(Ie,Qe){return Wn(Qe,function(We){return Ie[We]})}function xm(Ie,Qe){return Ie.has(Qe)}function bv(Ie,Qe){for(var We=-1,Xt=Ie.length;++We<Xt&&kn(Qe,Ie[We],0)>-1;);return We}function Au(Ie,Qe){for(var We=Ie.length;We--&&kn(Qe,Ie[We],0)>-1;);return We}function R7(Ie,Qe){for(var We=Ie.length,Xt=0;We--;)Ie[We]===Qe&&++Xt;return Xt}var O7=uo(S7),P7=uo(k7);function j7(Ie){return"\\"+A7[Ie]}function Nut(Ie,Qe){return Ie==null?r:Ie[Qe]}function Pw(Ie){return Ow.test(Ie)}function But(Ie){return D2.test(Ie)}function Uut(Ie){for(var Qe,We=[];!(Qe=Ie.next()).done;)We.push(Qe.value);return We}function L7(Ie){var Qe=-1,We=Array(Ie.size);return Ie.forEach(function(Xt,nr){We[++Qe]=[nr,Xt]}),We}function Yae(Ie,Qe){return function(We){return Ie(Qe(We))}}function xv(Ie,Qe){for(var We=-1,Xt=Ie.length,nr=0,Ei=[];++We<Xt;){var ma=Ie[We];(ma===Qe||ma===f)&&(Ie[We]=f,Ei[nr++]=We)}return Ei}function IR(Ie){var Qe=-1,We=Array(Ie.size);return Ie.forEach(function(Xt){We[++Qe]=Xt}),We}function zut(Ie){var Qe=-1,We=Array(Ie.size);return Ie.forEach(function(Xt){We[++Qe]=[Xt,Xt]}),We}function Vut(Ie,Qe,We){for(var Xt=We-1,nr=Ie.length;++Xt<nr;)if(Ie[Xt]===Qe)return Xt;return-1}function Hut(Ie,Qe,We){for(var Xt=We+1;Xt--;)if(Ie[Xt]===Qe)return Xt;return Xt}function jw(Ie){return Pw(Ie)?Gut(Ie):ym(Ie)}function Rf(Ie){return Pw(Ie)?qut(Ie):Xo(Ie)}function Zae(Ie){for(var Qe=Ie.length;Qe--&&um.test(Ie.charAt(Qe)););return Qe}var Wut=uo(T7);function Gut(Ie){for(var Qe=I2.lastIndex=0;I2.test(Ie);)++Qe;return Qe}function qut(Ie){return Ie.match(I2)||[]}function Kut(Ie){return Ie.match(C7)||[]}var Yut=function Ie(Qe){Qe=Qe==null?Ii:Lw.defaults(Ii.Object(),Qe,Lw.pick(Ii,SR));var We=Qe.Array,Xt=Qe.Date,nr=Qe.Error,Ei=Qe.Function,ma=Qe.Math,fo=Qe.Object,$7=Qe.RegExp,Zut=Qe.String,xd=Qe.TypeError,DR=We.prototype,Xut=Ei.prototype,$w=fo.prototype,RR=Qe["__core-js_shared__"],OR=Xut.toString,$i=$w.hasOwnProperty,Qut=0,Xae=function(){var E=/[^.]+$/.exec(RR&&RR.keys&&RR.keys.IE_PROTO||"");return E?"Symbol(src)_1."+E:""}(),PR=$w.toString,Jut=OR.call(fo),edt=Ii._,tdt=$7("^"+OR.call($i).replace(jo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),jR=AR?Qe.Buffer:r,wv=Qe.Symbol,LR=Qe.Uint8Array,Qae=jR?jR.allocUnsafe:r,$R=Yae(fo.getPrototypeOf,fo),Jae=fo.create,ele=$w.propertyIsEnumerable,MR=DR.splice,tle=wv?wv.isConcatSpreadable:r,O2=wv?wv.iterator:r,o1=wv?wv.toStringTag:r,FR=function(){try{var E=u1(fo,"defineProperty");return E({},"",{}),E}catch{}}(),ndt=Qe.clearTimeout!==Ii.clearTimeout&&Qe.clearTimeout,rdt=Xt&&Xt.now!==Ii.Date.now&&Xt.now,idt=Qe.setTimeout!==Ii.setTimeout&&Qe.setTimeout,NR=ma.ceil,BR=ma.floor,M7=fo.getOwnPropertySymbols,odt=jR?jR.isBuffer:r,nle=Qe.isFinite,sdt=DR.join,adt=Yae(fo.keys,fo),ga=ma.max,kl=ma.min,ldt=Xt.now,cdt=Qe.parseInt,rle=ma.random,udt=DR.reverse,F7=u1(Qe,"DataView"),P2=u1(Qe,"Map"),N7=u1(Qe,"Promise"),Mw=u1(Qe,"Set"),j2=u1(Qe,"WeakMap"),L2=u1(fo,"create"),UR=j2&&new j2,Fw={},ddt=d1(F7),fdt=d1(P2),hdt=d1(N7),pdt=d1(Mw),mdt=d1(j2),zR=wv?wv.prototype:r,$2=zR?zR.valueOf:r,ile=zR?zR.toString:r;function ae(E){if(_s(E)&&!ir(E)&&!(E instanceof Pr)){if(E instanceof wd)return E;if($i.call(E,"__wrapped__"))return oce(E)}return new wd(E)}var Nw=function(){function E(){}return function(k){if(!ls(k))return{};if(Jae)return Jae(k);E.prototype=k;var j=new E;return E.prototype=r,j}}();function VR(){}function wd(E,k){this.__wrapped__=E,this.__actions__=[],this.__chain__=!!k,this.__index__=0,this.__values__=r}ae.templateSettings={escape:en,evaluate:Hn,interpolate:rr,variable:"",imports:{_:ae}},ae.prototype=VR.prototype,ae.prototype.constructor=ae,wd.prototype=Nw(VR.prototype),wd.prototype.constructor=wd;function Pr(E){this.__wrapped__=E,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=G,this.__views__=[]}function gdt(){var E=new Pr(this.__wrapped__);return E.__actions__=zc(this.__actions__),E.__dir__=this.__dir__,E.__filtered__=this.__filtered__,E.__iteratees__=zc(this.__iteratees__),E.__takeCount__=this.__takeCount__,E.__views__=zc(this.__views__),E}function vdt(){if(this.__filtered__){var E=new Pr(this);E.__dir__=-1,E.__filtered__=!0}else E=this.clone(),E.__dir__*=-1;return E}function ydt(){var E=this.__wrapped__.value(),k=this.__dir__,j=ir(E),U=k<0,ee=j?E.length:0,ue=Dft(0,ee,this.__views__),be=ue.start,Te=ue.end,Le=Te-be,nt=U?Te:be-1,rt=this.__iteratees__,ft=rt.length,Nt=0,hn=kl(Le,this.__takeCount__);if(!j||!U&&ee==Le&&hn==Le)return Ale(E,this.__actions__);var Pn=[];e:for(;Le--&&Nt<hn;){nt+=k;for(var gr=-1,jn=E[nt];++gr<ft;){var Ir=rt[gr],Hr=Ir.iteratee,Ru=Ir.type,lc=Hr(jn);if(Ru==M)jn=lc;else if(!lc){if(Ru==L)continue e;break e}}Pn[Nt++]=jn}return Pn}Pr.prototype=Nw(VR.prototype),Pr.prototype.constructor=Pr;function s1(E){var k=-1,j=E==null?0:E.length;for(this.clear();++k<j;){var U=E[k];this.set(U[0],U[1])}}function bdt(){this.__data__=L2?L2(null):{},this.size=0}function xdt(E){var k=this.has(E)&&delete this.__data__[E];return this.size-=k?1:0,k}function wdt(E){var k=this.__data__;if(L2){var j=k[E];return j===c?r:j}return $i.call(k,E)?k[E]:r}function _dt(E){var k=this.__data__;return L2?k[E]!==r:$i.call(k,E)}function Edt(E,k){var j=this.__data__;return this.size+=this.has(E)?0:1,j[E]=L2&&k===r?c:k,this}s1.prototype.clear=bdt,s1.prototype.delete=xdt,s1.prototype.get=wdt,s1.prototype.has=_dt,s1.prototype.set=Edt;function wm(E){var k=-1,j=E==null?0:E.length;for(this.clear();++k<j;){var U=E[k];this.set(U[0],U[1])}}function Cdt(){this.__data__=[],this.size=0}function Sdt(E){var k=this.__data__,j=HR(k,E);if(j<0)return!1;var U=k.length-1;return j==U?k.pop():MR.call(k,j,1),--this.size,!0}function kdt(E){var k=this.__data__,j=HR(k,E);return j<0?r:k[j][1]}function Tdt(E){return HR(this.__data__,E)>-1}function Adt(E,k){var j=this.__data__,U=HR(j,E);return U<0?(++this.size,j.push([E,k])):j[U][1]=k,this}wm.prototype.clear=Cdt,wm.prototype.delete=Sdt,wm.prototype.get=kdt,wm.prototype.has=Tdt,wm.prototype.set=Adt;function _m(E){var k=-1,j=E==null?0:E.length;for(this.clear();++k<j;){var U=E[k];this.set(U[0],U[1])}}function Idt(){this.size=0,this.__data__={hash:new s1,map:new(P2||wm),string:new s1}}function Ddt(E){var k=nO(this,E).delete(E);return this.size-=k?1:0,k}function Rdt(E){return nO(this,E).get(E)}function Odt(E){return nO(this,E).has(E)}function Pdt(E,k){var j=nO(this,E),U=j.size;return j.set(E,k),this.size+=j.size==U?0:1,this}_m.prototype.clear=Idt,_m.prototype.delete=Ddt,_m.prototype.get=Rdt,_m.prototype.has=Odt,_m.prototype.set=Pdt;function a1(E){var k=-1,j=E==null?0:E.length;for(this.__data__=new _m;++k<j;)this.add(E[k])}function jdt(E){return this.__data__.set(E,c),this}function Ldt(E){return this.__data__.has(E)}a1.prototype.add=a1.prototype.push=jdt,a1.prototype.has=Ldt;function Of(E){var k=this.__data__=new wm(E);this.size=k.size}function $dt(){this.__data__=new wm,this.size=0}function Mdt(E){var k=this.__data__,j=k.delete(E);return this.size=k.size,j}function Fdt(E){return this.__data__.get(E)}function Ndt(E){return this.__data__.has(E)}function Bdt(E,k){var j=this.__data__;if(j instanceof wm){var U=j.__data__;if(!P2||U.length<o-1)return U.push([E,k]),this.size=++j.size,this;j=this.__data__=new _m(U)}return j.set(E,k),this.size=j.size,this}Of.prototype.clear=$dt,Of.prototype.delete=Mdt,Of.prototype.get=Fdt,Of.prototype.has=Ndt,Of.prototype.set=Bdt;function ole(E,k){var j=ir(E),U=!j&&f1(E),ee=!j&&!U&&kv(E),ue=!j&&!U&&!ee&&Vw(E),be=j||U||ee||ue,Te=be?bm(E.length,Zut):[],Le=Te.length;for(var nt in E)(k||$i.call(E,nt))&&!(be&&(nt=="length"||ee&&(nt=="offset"||nt=="parent")||ue&&(nt=="buffer"||nt=="byteLength"||nt=="byteOffset")||km(nt,Le)))&&Te.push(nt);return Te}function sle(E){var k=E.length;return k?E[Z7(0,k-1)]:r}function Udt(E,k){return rO(zc(E),l1(k,0,E.length))}function zdt(E){return rO(zc(E))}function B7(E,k,j){(j!==r&&!Pf(E[k],j)||j===r&&!(k in E))&&Em(E,k,j)}function M2(E,k,j){var U=E[k];(!($i.call(E,k)&&Pf(U,j))||j===r&&!(k in E))&&Em(E,k,j)}function HR(E,k){for(var j=E.length;j--;)if(Pf(E[j][0],k))return j;return-1}function Vdt(E,k,j,U){return _v(E,function(ee,ue,be){k(U,ee,j(ee),be)}),U}function ale(E,k){return E&&Lh(k,La(k),E)}function Hdt(E,k){return E&&Lh(k,Hc(k),E)}function Em(E,k,j){k=="__proto__"&&FR?FR(E,k,{configurable:!0,enumerable:!0,value:j,writable:!0}):E[k]=j}function U7(E,k){for(var j=-1,U=k.length,ee=We(U),ue=E==null;++j<U;)ee[j]=ue?r:w9(E,k[j]);return ee}function l1(E,k,j){return E===E&&(j!==r&&(E=E<=j?E:j),k!==r&&(E=E>=k?E:k)),E}function _d(E,k,j,U,ee,ue){var be,Te=k&h,Le=k&m,nt=k&g;if(j&&(be=ee?j(E,U,ee,ue):j(E)),be!==r)return be;if(!ls(E))return E;var rt=ir(E);if(rt){if(be=Oft(E),!Te)return zc(E,be)}else{var ft=Tl(E),Nt=ft==ve||ft==_e;if(kv(E))return Rle(E,Te);if(ft==Re||ft==Q||Nt&&!ee){if(be=Le||Nt?{}:Zle(E),!Te)return Le?wft(E,Hdt(be,E)):xft(E,ale(be,E))}else{if(!Ki[ft])return ee?E:{};be=Pft(E,ft,Te)}}ue||(ue=new Of);var hn=ue.get(E);if(hn)return hn;ue.set(E,be),Sce(E)?E.forEach(function(jn){be.add(_d(jn,k,j,jn,E,ue))}):Ece(E)&&E.forEach(function(jn,Ir){be.set(Ir,_d(jn,k,j,Ir,E,ue))});var Pn=nt?Le?a9:s9:Le?Hc:La,gr=rt?r:Pn(E);return Mt(gr||E,function(jn,Ir){gr&&(Ir=jn,jn=E[Ir]),M2(be,Ir,_d(jn,k,j,Ir,E,ue))}),be}function Wdt(E){var k=La(E);return function(j){return lle(j,E,k)}}function lle(E,k,j){var U=j.length;if(E==null)return!U;for(E=fo(E);U--;){var ee=j[U],ue=k[ee],be=E[ee];if(be===r&&!(ee in E)||!ue(be))return!1}return!0}function cle(E,k,j){if(typeof E!="function")throw new xd(a);return H2(function(){E.apply(r,j)},k)}function F2(E,k,j,U){var ee=-1,ue=xn,be=!0,Te=E.length,Le=[],nt=k.length;if(!Te)return Le;j&&(k=Wn(k,Ps(j))),U?(ue=Sn,be=!1):k.length>=o&&(ue=xm,be=!1,k=new a1(k));e:for(;++ee<Te;){var rt=E[ee],ft=j==null?rt:j(rt);if(rt=U||rt!==0?rt:0,be&&ft===ft){for(var Nt=nt;Nt--;)if(k[Nt]===ft)continue e;Le.push(rt)}else ue(k,ft,U)||Le.push(rt)}return Le}var _v=$le(jh),ule=$le(V7,!0);function Gdt(E,k){var j=!0;return _v(E,function(U,ee,ue){return j=!!k(U,ee,ue),j}),j}function WR(E,k,j){for(var U=-1,ee=E.length;++U<ee;){var ue=E[U],be=k(ue);if(be!=null&&(Te===r?be===be&&!Du(be):j(be,Te)))var Te=be,Le=ue}return Le}function qdt(E,k,j,U){var ee=E.length;for(j=dr(j),j<0&&(j=-j>ee?0:ee+j),U=U===r||U>ee?ee:dr(U),U<0&&(U+=ee),U=j>U?0:Tce(U);j<U;)E[j++]=k;return E}function dle(E,k){var j=[];return _v(E,function(U,ee,ue){k(U,ee,ue)&&j.push(U)}),j}function Ja(E,k,j,U,ee){var ue=-1,be=E.length;for(j||(j=Lft),ee||(ee=[]);++ue<be;){var Te=E[ue];k>0&&j(Te)?k>1?Ja(Te,k-1,j,U,ee):bo(ee,Te):U||(ee[ee.length]=Te)}return ee}var z7=Mle(),fle=Mle(!0);function jh(E,k){return E&&z7(E,k,La)}function V7(E,k){return E&&fle(E,k,La)}function GR(E,k){return an(k,function(j){return Tm(E[j])})}function c1(E,k){k=Cv(k,E);for(var j=0,U=k.length;E!=null&&j<U;)E=E[$h(k[j++])];return j&&j==U?E:r}function hle(E,k,j){var U=k(E);return ir(E)?U:bo(U,j(E))}function sc(E){return E==null?E===r?kt:Pe:o1&&o1 in fo(E)?Ift(E):zft(E)}function H7(E,k){return E>k}function Kdt(E,k){return E!=null&&$i.call(E,k)}function Ydt(E,k){return E!=null&&k in fo(E)}function Zdt(E,k,j){return E>=kl(k,j)&&E<ga(k,j)}function W7(E,k,j){for(var U=j?Sn:xn,ee=E[0].length,ue=E.length,be=ue,Te=We(ue),Le=1/0,nt=[];be--;){var rt=E[be];be&&k&&(rt=Wn(rt,Ps(k))),Le=kl(rt.length,Le),Te[be]=!j&&(k||ee>=120&&rt.length>=120)?new a1(be&&rt):r}rt=E[0];var ft=-1,Nt=Te[0];e:for(;++ft<ee&&nt.length<Le;){var hn=rt[ft],Pn=k?k(hn):hn;if(hn=j||hn!==0?hn:0,!(Nt?xm(Nt,Pn):U(nt,Pn,j))){for(be=ue;--be;){var gr=Te[be];if(!(gr?xm(gr,Pn):U(E[be],Pn,j)))continue e}Nt&&Nt.push(Pn),nt.push(hn)}}return nt}function Xdt(E,k,j,U){return jh(E,function(ee,ue,be){k(U,j(ee),ue,be)}),U}function N2(E,k,j){k=Cv(k,E),E=ece(E,k);var U=E==null?E:E[$h(Cd(k))];return U==null?r:Ve(U,E,j)}function ple(E){return _s(E)&&sc(E)==Q}function Qdt(E){return _s(E)&&sc(E)==At}function Jdt(E){return _s(E)&&sc(E)==fe}function B2(E,k,j,U,ee){return E===k?!0:E==null||k==null||!_s(E)&&!_s(k)?E!==E&&k!==k:eft(E,k,j,U,B2,ee)}function eft(E,k,j,U,ee,ue){var be=ir(E),Te=ir(k),Le=be?re:Tl(E),nt=Te?re:Tl(k);Le=Le==Q?Re:Le,nt=nt==Q?Re:nt;var rt=Le==Re,ft=nt==Re,Nt=Le==nt;if(Nt&&kv(E)){if(!kv(k))return!1;be=!0,rt=!1}if(Nt&&!rt)return ue||(ue=new Of),be||Vw(E)?qle(E,k,j,U,ee,ue):Tft(E,k,Le,j,U,ee,ue);if(!(j&v)){var hn=rt&&$i.call(E,"__wrapped__"),Pn=ft&&$i.call(k,"__wrapped__");if(hn||Pn){var gr=hn?E.value():E,jn=Pn?k.value():k;return ue||(ue=new Of),ee(gr,jn,j,U,ue)}}return Nt?(ue||(ue=new Of),Aft(E,k,j,U,ee,ue)):!1}function tft(E){return _s(E)&&Tl(E)==ge}function G7(E,k,j,U){var ee=j.length,ue=ee,be=!U;if(E==null)return!ue;for(E=fo(E);ee--;){var Te=j[ee];if(be&&Te[2]?Te[1]!==E[Te[0]]:!(Te[0]in E))return!1}for(;++ee<ue;){Te=j[ee];var Le=Te[0],nt=E[Le],rt=Te[1];if(be&&Te[2]){if(nt===r&&!(Le in E))return!1}else{var ft=new Of;if(U)var Nt=U(nt,rt,Le,E,k,ft);if(!(Nt===r?B2(rt,nt,v|y,U,ft):Nt))return!1}}return!0}function mle(E){if(!ls(E)||Mft(E))return!1;var k=Tm(E)?tdt:Dw;return k.test(d1(E))}function nft(E){return _s(E)&&sc(E)==He}function rft(E){return _s(E)&&Tl(E)==lt}function ift(E){return _s(E)&&cO(E.length)&&!!co[sc(E)]}function gle(E){return typeof E=="function"?E:E==null?Wc:typeof E=="object"?ir(E)?ble(E[0],E[1]):yle(E):Fce(E)}function q7(E){if(!V2(E))return adt(E);var k=[];for(var j in fo(E))$i.call(E,j)&&j!="constructor"&&k.push(j);return k}function oft(E){if(!ls(E))return Uft(E);var k=V2(E),j=[];for(var U in E)U=="constructor"&&(k||!$i.call(E,U))||j.push(U);return j}function K7(E,k){return E<k}function vle(E,k){var j=-1,U=Vc(E)?We(E.length):[];return _v(E,function(ee,ue,be){U[++j]=k(ee,ue,be)}),U}function yle(E){var k=c9(E);return k.length==1&&k[0][2]?Qle(k[0][0],k[0][1]):function(j){return j===E||G7(j,E,k)}}function ble(E,k){return d9(E)&&Xle(k)?Qle($h(E),k):function(j){var U=w9(j,E);return U===r&&U===k?_9(j,E):B2(k,U,v|y)}}function qR(E,k,j,U,ee){E!==k&&z7(k,function(ue,be){if(ee||(ee=new Of),ls(ue))sft(E,k,be,j,qR,U,ee);else{var Te=U?U(h9(E,be),ue,be+"",E,k,ee):r;Te===r&&(Te=ue),B7(E,be,Te)}},Hc)}function sft(E,k,j,U,ee,ue,be){var Te=h9(E,j),Le=h9(k,j),nt=be.get(Le);if(nt){B7(E,j,nt);return}var rt=ue?ue(Te,Le,j+"",E,k,be):r,ft=rt===r;if(ft){var Nt=ir(Le),hn=!Nt&&kv(Le),Pn=!Nt&&!hn&&Vw(Le);rt=Le,Nt||hn||Pn?ir(Te)?rt=Te:js(Te)?rt=zc(Te):hn?(ft=!1,rt=Rle(Le,!0)):Pn?(ft=!1,rt=Ole(Le,!0)):rt=[]:W2(Le)||f1(Le)?(rt=Te,f1(Te)?rt=Ace(Te):(!ls(Te)||Tm(Te))&&(rt=Zle(Le))):ft=!1}ft&&(be.set(Le,rt),ee(rt,Le,U,ue,be),be.delete(Le)),B7(E,j,rt)}function xle(E,k){var j=E.length;if(j)return k+=k<0?j:0,km(k,j)?E[k]:r}function wle(E,k,j){k.length?k=Wn(k,function(ue){return ir(ue)?function(be){return c1(be,ue.length===1?ue[0]:ue)}:ue}):k=[Wc];var U=-1;k=Wn(k,Ps(Dn()));var ee=vle(E,function(ue,be,Te){var Le=Wn(k,function(nt){return nt(ue)});return{criteria:Le,index:++U,value:ue}});return Ks(ee,function(ue,be){return bft(ue,be,j)})}function aft(E,k){return _le(E,k,function(j,U){return _9(E,U)})}function _le(E,k,j){for(var U=-1,ee=k.length,ue={};++U<ee;){var be=k[U],Te=c1(E,be);j(Te,be)&&U2(ue,Cv(be,E),Te)}return ue}function lft(E){return function(k){return c1(k,E)}}function Y7(E,k,j,U){var ee=U?qn:kn,ue=-1,be=k.length,Te=E;for(E===k&&(k=zc(k)),j&&(Te=Wn(E,Ps(j)));++ue<be;)for(var Le=0,nt=k[ue],rt=j?j(nt):nt;(Le=ee(Te,rt,Le,U))>-1;)Te!==E&&MR.call(Te,Le,1),MR.call(E,Le,1);return E}function Ele(E,k){for(var j=E?k.length:0,U=j-1;j--;){var ee=k[j];if(j==U||ee!==ue){var ue=ee;km(ee)?MR.call(E,ee,1):J7(E,ee)}}return E}function Z7(E,k){return E+BR(rle()*(k-E+1))}function cft(E,k,j,U){for(var ee=-1,ue=ga(NR((k-E)/(j||1)),0),be=We(ue);ue--;)be[U?ue:++ee]=E,E+=j;return be}function X7(E,k){var j="";if(!E||k<1||k>B)return j;do k%2&&(j+=E),k=BR(k/2),k&&(E+=E);while(k);return j}function br(E,k){return p9(Jle(E,k,Wc),E+"")}function uft(E){return sle(Hw(E))}function dft(E,k){var j=Hw(E);return rO(j,l1(k,0,j.length))}function U2(E,k,j,U){if(!ls(E))return E;k=Cv(k,E);for(var ee=-1,ue=k.length,be=ue-1,Te=E;Te!=null&&++ee<ue;){var Le=$h(k[ee]),nt=j;if(Le==="__proto__"||Le==="constructor"||Le==="prototype")return E;if(ee!=be){var rt=Te[Le];nt=U?U(rt,Le,Te):r,nt===r&&(nt=ls(rt)?rt:km(k[ee+1])?[]:{})}M2(Te,Le,nt),Te=Te[Le]}return E}var Cle=UR?function(E,k){return UR.set(E,k),E}:Wc,fft=FR?function(E,k){return FR(E,"toString",{configurable:!0,enumerable:!1,value:C9(k),writable:!0})}:Wc;function hft(E){return rO(Hw(E))}function Ed(E,k,j){var U=-1,ee=E.length;k<0&&(k=-k>ee?0:ee+k),j=j>ee?ee:j,j<0&&(j+=ee),ee=k>j?0:j-k>>>0,k>>>=0;for(var ue=We(ee);++U<ee;)ue[U]=E[U+k];return ue}function pft(E,k){var j;return _v(E,function(U,ee,ue){return j=k(U,ee,ue),!j}),!!j}function KR(E,k,j){var U=0,ee=E==null?U:E.length;if(typeof k=="number"&&k===k&&ee<=le){for(;U<ee;){var ue=U+ee>>>1,be=E[ue];be!==null&&!Du(be)&&(j?be<=k:be<k)?U=ue+1:ee=ue}return ee}return Q7(E,k,Wc,j)}function Q7(E,k,j,U){var ee=0,ue=E==null?0:E.length;if(ue===0)return 0;k=j(k);for(var be=k!==k,Te=k===null,Le=Du(k),nt=k===r;ee<ue;){var rt=BR((ee+ue)/2),ft=j(E[rt]),Nt=ft!==r,hn=ft===null,Pn=ft===ft,gr=Du(ft);if(be)var jn=U||Pn;else nt?jn=Pn&&(U||Nt):Te?jn=Pn&&Nt&&(U||!hn):Le?jn=Pn&&Nt&&!hn&&(U||!gr):hn||gr?jn=!1:jn=U?ft<=k:ft<k;jn?ee=rt+1:ue=rt}return kl(ue,ne)}function Sle(E,k){for(var j=-1,U=E.length,ee=0,ue=[];++j<U;){var be=E[j],Te=k?k(be):be;if(!j||!Pf(Te,Le)){var Le=Te;ue[ee++]=be===0?0:be}}return ue}function kle(E){return typeof E=="number"?E:Du(E)?X:+E}function Iu(E){if(typeof E=="string")return E;if(ir(E))return Wn(E,Iu)+"";if(Du(E))return ile?ile.call(E):"";var k=E+"";return k=="0"&&1/E==-z?"-0":k}function Ev(E,k,j){var U=-1,ee=xn,ue=E.length,be=!0,Te=[],Le=Te;if(j)be=!1,ee=Sn;else if(ue>=o){var nt=k?null:Sft(E);if(nt)return IR(nt);be=!1,ee=xm,Le=new a1}else Le=k?[]:Te;e:for(;++U<ue;){var rt=E[U],ft=k?k(rt):rt;if(rt=j||rt!==0?rt:0,be&&ft===ft){for(var Nt=Le.length;Nt--;)if(Le[Nt]===ft)continue e;k&&Le.push(ft),Te.push(rt)}else ee(Le,ft,j)||(Le!==Te&&Le.push(ft),Te.push(rt))}return Te}function J7(E,k){return k=Cv(k,E),E=ece(E,k),E==null||delete E[$h(Cd(k))]}function Tle(E,k,j,U){return U2(E,k,j(c1(E,k)),U)}function YR(E,k,j,U){for(var ee=E.length,ue=U?ee:-1;(U?ue--:++ue<ee)&&k(E[ue],ue,E););return j?Ed(E,U?0:ue,U?ue+1:ee):Ed(E,U?ue+1:0,U?ee:ue)}function Ale(E,k){var j=E;return j instanceof Pr&&(j=j.value()),ws(k,function(U,ee){return ee.func.apply(ee.thisArg,bo([U],ee.args))},j)}function e9(E,k,j){var U=E.length;if(U<2)return U?Ev(E[0]):[];for(var ee=-1,ue=We(U);++ee<U;)for(var be=E[ee],Te=-1;++Te<U;)Te!=ee&&(ue[ee]=F2(ue[ee]||be,E[Te],k,j));return Ev(Ja(ue,1),k,j)}function Ile(E,k,j){for(var U=-1,ee=E.length,ue=k.length,be={};++U<ee;){var Te=U<ue?k[U]:r;j(be,E[U],Te)}return be}function t9(E){return js(E)?E:[]}function n9(E){return typeof E=="function"?E:Wc}function Cv(E,k){return ir(E)?E:d9(E,k)?[E]:ice(Di(E))}var mft=br;function Sv(E,k,j){var U=E.length;return j=j===r?U:j,!k&&j>=U?E:Ed(E,k,j)}var Dle=ndt||function(E){return Ii.clearTimeout(E)};function Rle(E,k){if(k)return E.slice();var j=E.length,U=Qae?Qae(j):new E.constructor(j);return E.copy(U),U}function r9(E){var k=new E.constructor(E.byteLength);return new LR(k).set(new LR(E)),k}function gft(E,k){var j=k?r9(E.buffer):E.buffer;return new E.constructor(j,E.byteOffset,E.byteLength)}function vft(E){var k=new E.constructor(E.source,Rh.exec(E));return k.lastIndex=E.lastIndex,k}function yft(E){return $2?fo($2.call(E)):{}}function Ole(E,k){var j=k?r9(E.buffer):E.buffer;return new E.constructor(j,E.byteOffset,E.length)}function Ple(E,k){if(E!==k){var j=E!==r,U=E===null,ee=E===E,ue=Du(E),be=k!==r,Te=k===null,Le=k===k,nt=Du(k);if(!Te&&!nt&&!ue&&E>k||ue&&be&&Le&&!Te&&!nt||U&&be&&Le||!j&&Le||!ee)return 1;if(!U&&!ue&&!nt&&E<k||nt&&j&&ee&&!U&&!ue||Te&&j&&ee||!be&&ee||!Le)return-1}return 0}function bft(E,k,j){for(var U=-1,ee=E.criteria,ue=k.criteria,be=ee.length,Te=j.length;++U<be;){var Le=Ple(ee[U],ue[U]);if(Le){if(U>=Te)return Le;var nt=j[U];return Le*(nt=="desc"?-1:1)}}return E.index-k.index}function jle(E,k,j,U){for(var ee=-1,ue=E.length,be=j.length,Te=-1,Le=k.length,nt=ga(ue-be,0),rt=We(Le+nt),ft=!U;++Te<Le;)rt[Te]=k[Te];for(;++ee<be;)(ft||ee<ue)&&(rt[j[ee]]=E[ee]);for(;nt--;)rt[Te++]=E[ee++];return rt}function Lle(E,k,j,U){for(var ee=-1,ue=E.length,be=-1,Te=j.length,Le=-1,nt=k.length,rt=ga(ue-Te,0),ft=We(rt+nt),Nt=!U;++ee<rt;)ft[ee]=E[ee];for(var hn=ee;++Le<nt;)ft[hn+Le]=k[Le];for(;++be<Te;)(Nt||ee<ue)&&(ft[hn+j[be]]=E[ee++]);return ft}function zc(E,k){var j=-1,U=E.length;for(k||(k=We(U));++j<U;)k[j]=E[j];return k}function Lh(E,k,j,U){var ee=!j;j||(j={});for(var ue=-1,be=k.length;++ue<be;){var Te=k[ue],Le=U?U(j[Te],E[Te],Te,j,E):r;Le===r&&(Le=E[Te]),ee?Em(j,Te,Le):M2(j,Te,Le)}return j}function xft(E,k){return Lh(E,u9(E),k)}function wft(E,k){return Lh(E,Kle(E),k)}function ZR(E,k){return function(j,U){var ee=ir(j)?Oe:Vdt,ue=k?k():{};return ee(j,E,Dn(U,2),ue)}}function Bw(E){return br(function(k,j){var U=-1,ee=j.length,ue=ee>1?j[ee-1]:r,be=ee>2?j[2]:r;for(ue=E.length>3&&typeof ue=="function"?(ee--,ue):r,be&&ac(j[0],j[1],be)&&(ue=ee<3?r:ue,ee=1),k=fo(k);++U<ee;){var Te=j[U];Te&&E(k,Te,U,ue)}return k})}function $le(E,k){return function(j,U){if(j==null)return j;if(!Vc(j))return E(j,U);for(var ee=j.length,ue=k?ee:-1,be=fo(j);(k?ue--:++ue<ee)&&U(be[ue],ue,be)!==!1;);return j}}function Mle(E){return function(k,j,U){for(var ee=-1,ue=fo(k),be=U(k),Te=be.length;Te--;){var Le=be[E?Te:++ee];if(j(ue[Le],Le,ue)===!1)break}return k}}function _ft(E,k,j){var U=k&b,ee=z2(E);function ue(){var be=this&&this!==Ii&&this instanceof ue?ee:E;return be.apply(U?j:this,arguments)}return ue}function Fle(E){return function(k){k=Di(k);var j=Pw(k)?Rf(k):r,U=j?j[0]:k.charAt(0),ee=j?Sv(j,1).join(""):k.slice(1);return U[E]()+ee}}function Uw(E){return function(k){return ws($ce(Lce(k).replace(_7,"")),E,"")}}function z2(E){return function(){var k=arguments;switch(k.length){case 0:return new E;case 1:return new E(k[0]);case 2:return new E(k[0],k[1]);case 3:return new E(k[0],k[1],k[2]);case 4:return new E(k[0],k[1],k[2],k[3]);case 5:return new E(k[0],k[1],k[2],k[3],k[4]);case 6:return new E(k[0],k[1],k[2],k[3],k[4],k[5]);case 7:return new E(k[0],k[1],k[2],k[3],k[4],k[5],k[6])}var j=Nw(E.prototype),U=E.apply(j,k);return ls(U)?U:j}}function Eft(E,k,j){var U=z2(E);function ee(){for(var ue=arguments.length,be=We(ue),Te=ue,Le=zw(ee);Te--;)be[Te]=arguments[Te];var nt=ue<3&&be[0]!==Le&&be[ue-1]!==Le?[]:xv(be,Le);if(ue-=nt.length,ue<j)return Vle(E,k,XR,ee.placeholder,r,be,nt,r,r,j-ue);var rt=this&&this!==Ii&&this instanceof ee?U:E;return Ve(rt,this,be)}return ee}function Nle(E){return function(k,j,U){var ee=fo(k);if(!Vc(k)){var ue=Dn(j,3);k=La(k),j=function(Te){return ue(ee[Te],Te,ee)}}var be=E(k,j,U);return be>-1?ee[ue?k[be]:be]:r}}function Ble(E){return Sm(function(k){var j=k.length,U=j,ee=wd.prototype.thru;for(E&&k.reverse();U--;){var ue=k[U];if(typeof ue!="function")throw new xd(a);if(ee&&!be&&tO(ue)=="wrapper")var be=new wd([],!0)}for(U=be?U:j;++U<j;){ue=k[U];var Te=tO(ue),Le=Te=="wrapper"?l9(ue):r;Le&&f9(Le[0])&&Le[1]==(A|w|S|I)&&!Le[4].length&&Le[9]==1?be=be[tO(Le[0])].apply(be,Le[3]):be=ue.length==1&&f9(ue)?be[Te]():be.thru(ue)}return function(){var nt=arguments,rt=nt[0];if(be&&nt.length==1&&ir(rt))return be.plant(rt).value();for(var ft=0,Nt=j?k[ft].apply(this,nt):rt;++ft<j;)Nt=k[ft].call(this,Nt);return Nt}})}function XR(E,k,j,U,ee,ue,be,Te,Le,nt){var rt=k&A,ft=k&b,Nt=k&x,hn=k&(w|C),Pn=k&D,gr=Nt?r:z2(E);function jn(){for(var Ir=arguments.length,Hr=We(Ir),Ru=Ir;Ru--;)Hr[Ru]=arguments[Ru];if(hn)var lc=zw(jn),Ou=R7(Hr,lc);if(U&&(Hr=jle(Hr,U,ee,hn)),ue&&(Hr=Lle(Hr,ue,be,hn)),Ir-=Ou,hn&&Ir<nt){var Ls=xv(Hr,lc);return Vle(E,k,XR,jn.placeholder,j,Hr,Ls,Te,Le,nt-Ir)}var jf=ft?j:this,Im=Nt?jf[E]:E;return Ir=Hr.length,Te?Hr=Vft(Hr,Te):Pn&&Ir>1&&Hr.reverse(),rt&&Le<Ir&&(Hr.length=Le),this&&this!==Ii&&this instanceof jn&&(Im=gr||z2(Im)),Im.apply(jf,Hr)}return jn}function Ule(E,k){return function(j,U){return Xdt(j,E,k(U),{})}}function QR(E,k){return function(j,U){var ee;if(j===r&&U===r)return k;if(j!==r&&(ee=j),U!==r){if(ee===r)return U;typeof j=="string"||typeof U=="string"?(j=Iu(j),U=Iu(U)):(j=kle(j),U=kle(U)),ee=E(j,U)}return ee}}function i9(E){return Sm(function(k){return k=Wn(k,Ps(Dn())),br(function(j){var U=this;return E(k,function(ee){return Ve(ee,U,j)})})})}function JR(E,k){k=k===r?" ":Iu(k);var j=k.length;if(j<2)return j?X7(k,E):k;var U=X7(k,NR(E/jw(k)));return Pw(k)?Sv(Rf(U),0,E).join(""):U.slice(0,E)}function Cft(E,k,j,U){var ee=k&b,ue=z2(E);function be(){for(var Te=-1,Le=arguments.length,nt=-1,rt=U.length,ft=We(rt+Le),Nt=this&&this!==Ii&&this instanceof be?ue:E;++nt<rt;)ft[nt]=U[nt];for(;Le--;)ft[nt++]=arguments[++Te];return Ve(Nt,ee?j:this,ft)}return be}function zle(E){return function(k,j,U){return U&&typeof U!="number"&&ac(k,j,U)&&(j=U=r),k=Am(k),j===r?(j=k,k=0):j=Am(j),U=U===r?k<j?1:-1:Am(U),cft(k,j,U,E)}}function eO(E){return function(k,j){return typeof k=="string"&&typeof j=="string"||(k=Sd(k),j=Sd(j)),E(k,j)}}function Vle(E,k,j,U,ee,ue,be,Te,Le,nt){var rt=k&w,ft=rt?be:r,Nt=rt?r:be,hn=rt?ue:r,Pn=rt?r:ue;k|=rt?S:T,k&=~(rt?T:S),k&_||(k&=~(b|x));var gr=[E,k,ee,hn,ft,Pn,Nt,Te,Le,nt],jn=j.apply(r,gr);return f9(E)&&tce(jn,gr),jn.placeholder=U,nce(jn,E,k)}function o9(E){var k=ma[E];return function(j,U){if(j=Sd(j),U=U==null?0:kl(dr(U),292),U&&nle(j)){var ee=(Di(j)+"e").split("e"),ue=k(ee[0]+"e"+(+ee[1]+U));return ee=(Di(ue)+"e").split("e"),+(ee[0]+"e"+(+ee[1]-U))}return k(j)}}var Sft=Mw&&1/IR(new Mw([,-0]))[1]==z?function(E){return new Mw(E)}:T9;function Hle(E){return function(k){var j=Tl(k);return j==ge?L7(k):j==lt?zut(k):r1(k,E(k))}}function Cm(E,k,j,U,ee,ue,be,Te){var Le=k&x;if(!Le&&typeof E!="function")throw new xd(a);var nt=U?U.length:0;if(nt||(k&=~(S|T),U=ee=r),be=be===r?be:ga(dr(be),0),Te=Te===r?Te:dr(Te),nt-=ee?ee.length:0,k&T){var rt=U,ft=ee;U=ee=r}var Nt=Le?r:l9(E),hn=[E,k,j,U,ee,rt,ft,ue,be,Te];if(Nt&&Bft(hn,Nt),E=hn[0],k=hn[1],j=hn[2],U=hn[3],ee=hn[4],Te=hn[9]=hn[9]===r?Le?0:E.length:ga(hn[9]-nt,0),!Te&&k&(w|C)&&(k&=~(w|C)),!k||k==b)var Pn=_ft(E,k,j);else k==w||k==C?Pn=Eft(E,k,Te):(k==S||k==(b|S))&&!ee.length?Pn=Cft(E,k,j,U):Pn=XR.apply(r,hn);var gr=Nt?Cle:tce;return nce(gr(Pn,hn),E,k)}function Wle(E,k,j,U){return E===r||Pf(E,$w[j])&&!$i.call(U,j)?k:E}function Gle(E,k,j,U,ee,ue){return ls(E)&&ls(k)&&(ue.set(k,E),qR(E,k,r,Gle,ue),ue.delete(k)),E}function kft(E){return W2(E)?r:E}function qle(E,k,j,U,ee,ue){var be=j&v,Te=E.length,Le=k.length;if(Te!=Le&&!(be&&Le>Te))return!1;var nt=ue.get(E),rt=ue.get(k);if(nt&&rt)return nt==k&&rt==E;var ft=-1,Nt=!0,hn=j&y?new a1:r;for(ue.set(E,k),ue.set(k,E);++ft<Te;){var Pn=E[ft],gr=k[ft];if(U)var jn=be?U(gr,Pn,ft,k,E,ue):U(Pn,gr,ft,E,k,ue);if(jn!==r){if(jn)continue;Nt=!1;break}if(hn){if(!Tu(k,function(Ir,Hr){if(!xm(hn,Hr)&&(Pn===Ir||ee(Pn,Ir,j,U,ue)))return hn.push(Hr)})){Nt=!1;break}}else if(!(Pn===gr||ee(Pn,gr,j,U,ue))){Nt=!1;break}}return ue.delete(E),ue.delete(k),Nt}function Tft(E,k,j,U,ee,ue,be){switch(j){case Dt:if(E.byteLength!=k.byteLength||E.byteOffset!=k.byteOffset)return!1;E=E.buffer,k=k.buffer;case At:return!(E.byteLength!=k.byteLength||!ue(new LR(E),new LR(k)));case de:case fe:case pe:return Pf(+E,+k);case ye:return E.name==k.name&&E.message==k.message;case He:case Xe:return E==k+"";case ge:var Te=L7;case lt:var Le=U&v;if(Te||(Te=IR),E.size!=k.size&&!Le)return!1;var nt=be.get(E);if(nt)return nt==k;U|=y,be.set(E,k);var rt=qle(Te(E),Te(k),U,ee,ue,be);return be.delete(E),rt;case st:if($2)return $2.call(E)==$2.call(k)}return!1}function Aft(E,k,j,U,ee,ue){var be=j&v,Te=s9(E),Le=Te.length,nt=s9(k),rt=nt.length;if(Le!=rt&&!be)return!1;for(var ft=Le;ft--;){var Nt=Te[ft];if(!(be?Nt in k:$i.call(k,Nt)))return!1}var hn=ue.get(E),Pn=ue.get(k);if(hn&&Pn)return hn==k&&Pn==E;var gr=!0;ue.set(E,k),ue.set(k,E);for(var jn=be;++ft<Le;){Nt=Te[ft];var Ir=E[Nt],Hr=k[Nt];if(U)var Ru=be?U(Hr,Ir,Nt,k,E,ue):U(Ir,Hr,Nt,E,k,ue);if(!(Ru===r?Ir===Hr||ee(Ir,Hr,j,U,ue):Ru)){gr=!1;break}jn||(jn=Nt=="constructor")}if(gr&&!jn){var lc=E.constructor,Ou=k.constructor;lc!=Ou&&"constructor"in E&&"constructor"in k&&!(typeof lc=="function"&&lc instanceof lc&&typeof Ou=="function"&&Ou instanceof Ou)&&(gr=!1)}return ue.delete(E),ue.delete(k),gr}function Sm(E){return p9(Jle(E,r,lce),E+"")}function s9(E){return hle(E,La,u9)}function a9(E){return hle(E,Hc,Kle)}var l9=UR?function(E){return UR.get(E)}:T9;function tO(E){for(var k=E.name+"",j=Fw[k],U=$i.call(Fw,k)?j.length:0;U--;){var ee=j[U],ue=ee.func;if(ue==null||ue==E)return ee.name}return k}function zw(E){var k=$i.call(ae,"placeholder")?ae:E;return k.placeholder}function Dn(){var E=ae.iteratee||S9;return E=E===S9?gle:E,arguments.length?E(arguments[0],arguments[1]):E}function nO(E,k){var j=E.__data__;return $ft(k)?j[typeof k=="string"?"string":"hash"]:j.map}function c9(E){for(var k=La(E),j=k.length;j--;){var U=k[j],ee=E[U];k[j]=[U,ee,Xle(ee)]}return k}function u1(E,k){var j=Nut(E,k);return mle(j)?j:r}function Ift(E){var k=$i.call(E,o1),j=E[o1];try{E[o1]=r;var U=!0}catch{}var ee=PR.call(E);return U&&(k?E[o1]=j:delete E[o1]),ee}var u9=M7?function(E){return E==null?[]:(E=fo(E),an(M7(E),function(k){return ele.call(E,k)}))}:A9,Kle=M7?function(E){for(var k=[];E;)bo(k,u9(E)),E=$R(E);return k}:A9,Tl=sc;(F7&&Tl(new F7(new ArrayBuffer(1)))!=Dt||P2&&Tl(new P2)!=ge||N7&&Tl(N7.resolve())!=Fe||Mw&&Tl(new Mw)!=lt||j2&&Tl(new j2)!=Ge)&&(Tl=function(E){var k=sc(E),j=k==Re?E.constructor:r,U=j?d1(j):"";if(U)switch(U){case ddt:return Dt;case fdt:return ge;case hdt:return Fe;case pdt:return lt;case mdt:return Ge}return k});function Dft(E,k,j){for(var U=-1,ee=j.length;++U<ee;){var ue=j[U],be=ue.size;switch(ue.type){case"drop":E+=be;break;case"dropRight":k-=be;break;case"take":k=kl(k,E+be);break;case"takeRight":E=ga(E,k-be);break}}return{start:E,end:k}}function Rft(E){var k=E.match(vd);return k?k[1].split(Dh):[]}function Yle(E,k,j){k=Cv(k,E);for(var U=-1,ee=k.length,ue=!1;++U<ee;){var be=$h(k[U]);if(!(ue=E!=null&&j(E,be)))break;E=E[be]}return ue||++U!=ee?ue:(ee=E==null?0:E.length,!!ee&&cO(ee)&&km(be,ee)&&(ir(E)||f1(E)))}function Oft(E){var k=E.length,j=new E.constructor(k);return k&&typeof E[0]=="string"&&$i.call(E,"index")&&(j.index=E.index,j.input=E.input),j}function Zle(E){return typeof E.constructor=="function"&&!V2(E)?Nw($R(E)):{}}function Pft(E,k,j){var U=E.constructor;switch(k){case At:return r9(E);case de:case fe:return new U(+E);case Dt:return gft(E,j);case at:case tt:case it:case jt:case $t:case yt:case Gt:case Lt:case Vn:return Ole(E,j);case ge:return new U;case pe:case Xe:return new U(E);case He:return vft(E);case lt:return new U;case st:return yft(E)}}function jft(E,k){var j=k.length;if(!j)return E;var U=j-1;return k[U]=(j>1?"& ":"")+k[U],k=k.join(j>2?", ":" "),E.replace(gd,`{
/* [wrapped with `+k+`] */
`)}function Lft(E){return ir(E)||f1(E)||!!(tle&&E&&E[tle])}function km(E,k){var j=typeof E;return k=k??B,!!k&&(j=="number"||j!="symbol"&&E2.test(E))&&E>-1&&E%1==0&&E<k}function ac(E,k,j){if(!ls(j))return!1;var U=typeof k;return(U=="number"?Vc(j)&&km(k,j.length):U=="string"&&k in j)?Pf(j[k],E):!1}function d9(E,k){if(ir(E))return!1;var j=typeof E;return j=="number"||j=="symbol"||j=="boolean"||E==null||Du(E)?!0:Li.test(E)||!_i.test(E)||k!=null&&E in fo(k)}function $ft(E){var k=typeof E;return k=="string"||k=="number"||k=="symbol"||k=="boolean"?E!=="__proto__":E===null}function f9(E){var k=tO(E),j=ae[k];if(typeof j!="function"||!(k in Pr.prototype))return!1;if(E===j)return!0;var U=l9(j);return!!U&&E===U[0]}function Mft(E){return!!Xae&&Xae in E}var Fft=RR?Tm:I9;function V2(E){var k=E&&E.constructor,j=typeof k=="function"&&k.prototype||$w;return E===j}function Xle(E){return E===E&&!ls(E)}function Qle(E,k){return function(j){return j==null?!1:j[E]===k&&(k!==r||E in fo(j))}}function Nft(E){var k=aO(E,function(U){return j.size===u&&j.clear(),U}),j=k.cache;return k}function Bft(E,k){var j=E[1],U=k[1],ee=j|U,ue=ee<(b|x|A),be=U==A&&j==w||U==A&&j==I&&E[7].length<=k[8]||U==(A|I)&&k[7].length<=k[8]&&j==w;if(!(ue||be))return E;U&b&&(E[2]=k[2],ee|=j&b?0:_);var Te=k[3];if(Te){var Le=E[3];E[3]=Le?jle(Le,Te,k[4]):Te,E[4]=Le?xv(E[3],f):k[4]}return Te=k[5],Te&&(Le=E[5],E[5]=Le?Lle(Le,Te,k[6]):Te,E[6]=Le?xv(E[5],f):k[6]),Te=k[7],Te&&(E[7]=Te),U&A&&(E[8]=E[8]==null?k[8]:kl(E[8],k[8])),E[9]==null&&(E[9]=k[9]),E[0]=k[0],E[1]=ee,E}function Uft(E){var k=[];if(E!=null)for(var j in fo(E))k.push(j);return k}function zft(E){return PR.call(E)}function Jle(E,k,j){return k=ga(k===r?E.length-1:k,0),function(){for(var U=arguments,ee=-1,ue=ga(U.length-k,0),be=We(ue);++ee<ue;)be[ee]=U[k+ee];ee=-1;for(var Te=We(k+1);++ee<k;)Te[ee]=U[ee];return Te[k]=j(be),Ve(E,this,Te)}}function ece(E,k){return k.length<2?E:c1(E,Ed(k,0,-1))}function Vft(E,k){for(var j=E.length,U=kl(k.length,j),ee=zc(E);U--;){var ue=k[U];E[U]=km(ue,j)?ee[ue]:r}return E}function h9(E,k){if(!(k==="constructor"&&typeof E[k]=="function")&&k!="__proto__")return E[k]}var tce=rce(Cle),H2=idt||function(E,k){return Ii.setTimeout(E,k)},p9=rce(fft);function nce(E,k,j){var U=k+"";return p9(E,jft(U,Hft(Rft(U),j)))}function rce(E){var k=0,j=0;return function(){var U=ldt(),ee=$-(U-j);if(j=U,ee>0){if(++k>=O)return arguments[0]}else k=0;return E.apply(r,arguments)}}function rO(E,k){var j=-1,U=E.length,ee=U-1;for(k=k===r?U:k;++j<k;){var ue=Z7(j,ee),be=E[ue];E[ue]=E[j],E[j]=be}return E.length=k,E}var ice=Nft(function(E){var k=[];return E.charCodeAt(0)===46&&k.push(""),E.replace(vo,function(j,U,ee,ue){k.push(ee?ue.replace(hv,"$1"):U||j)}),k});function $h(E){if(typeof E=="string"||Du(E))return E;var k=E+"";return k=="0"&&1/E==-z?"-0":k}function d1(E){if(E!=null){try{return OR.call(E)}catch{}try{return E+""}catch{}}return""}function Hft(E,k){return Mt(K,function(j){var U="_."+j[0];k&j[1]&&!xn(E,U)&&E.push(U)}),E.sort()}function oce(E){if(E instanceof Pr)return E.clone();var k=new wd(E.__wrapped__,E.__chain__);return k.__actions__=zc(E.__actions__),k.__index__=E.__index__,k.__values__=E.__values__,k}function Wft(E,k,j){(j?ac(E,k,j):k===r)?k=1:k=ga(dr(k),0);var U=E==null?0:E.length;if(!U||k<1)return[];for(var ee=0,ue=0,be=We(NR(U/k));ee<U;)be[ue++]=Ed(E,ee,ee+=k);return be}function Gft(E){for(var k=-1,j=E==null?0:E.length,U=0,ee=[];++k<j;){var ue=E[k];ue&&(ee[U++]=ue)}return ee}function qft(){var E=arguments.length;if(!E)return[];for(var k=We(E-1),j=arguments[0],U=E;U--;)k[U-1]=arguments[U];return bo(ir(j)?zc(j):[j],Ja(k,1))}var Kft=br(function(E,k){return js(E)?F2(E,Ja(k,1,js,!0)):[]}),Yft=br(function(E,k){var j=Cd(k);return js(j)&&(j=r),js(E)?F2(E,Ja(k,1,js,!0),Dn(j,2)):[]}),Zft=br(function(E,k){var j=Cd(k);return js(j)&&(j=r),js(E)?F2(E,Ja(k,1,js,!0),r,j):[]});function Xft(E,k,j){var U=E==null?0:E.length;return U?(k=j||k===r?1:dr(k),Ed(E,k<0?0:k,U)):[]}function Qft(E,k,j){var U=E==null?0:E.length;return U?(k=j||k===r?1:dr(k),k=U-k,Ed(E,0,k<0?0:k)):[]}function Jft(E,k){return E&&E.length?YR(E,Dn(k,3),!0,!0):[]}function eht(E,k){return E&&E.length?YR(E,Dn(k,3),!0):[]}function tht(E,k,j,U){var ee=E==null?0:E.length;return ee?(j&&typeof j!="number"&&ac(E,k,j)&&(j=0,U=ee),qdt(E,k,j,U)):[]}function sce(E,k,j){var U=E==null?0:E.length;if(!U)return-1;var ee=j==null?0:dr(j);return ee<0&&(ee=ga(U+ee,0)),Rt(E,Dn(k,3),ee)}function ace(E,k,j){var U=E==null?0:E.length;if(!U)return-1;var ee=U-1;return j!==r&&(ee=dr(j),ee=j<0?ga(U+ee,0):kl(ee,U-1)),Rt(E,Dn(k,3),ee,!0)}function lce(E){var k=E==null?0:E.length;return k?Ja(E,1):[]}function nht(E){var k=E==null?0:E.length;return k?Ja(E,z):[]}function rht(E,k){var j=E==null?0:E.length;return j?(k=k===r?1:dr(k),Ja(E,k)):[]}function iht(E){for(var k=-1,j=E==null?0:E.length,U={};++k<j;){var ee=E[k];U[ee[0]]=ee[1]}return U}function cce(E){return E&&E.length?E[0]:r}function oht(E,k,j){var U=E==null?0:E.length;if(!U)return-1;var ee=j==null?0:dr(j);return ee<0&&(ee=ga(U+ee,0)),kn(E,k,ee)}function sht(E){var k=E==null?0:E.length;return k?Ed(E,0,-1):[]}var aht=br(function(E){var k=Wn(E,t9);return k.length&&k[0]===E[0]?W7(k):[]}),lht=br(function(E){var k=Cd(E),j=Wn(E,t9);return k===Cd(j)?k=r:j.pop(),j.length&&j[0]===E[0]?W7(j,Dn(k,2)):[]}),cht=br(function(E){var k=Cd(E),j=Wn(E,t9);return k=typeof k=="function"?k:r,k&&j.pop(),j.length&&j[0]===E[0]?W7(j,r,k):[]});function uht(E,k){return E==null?"":sdt.call(E,k)}function Cd(E){var k=E==null?0:E.length;return k?E[k-1]:r}function dht(E,k,j){var U=E==null?0:E.length;if(!U)return-1;var ee=U;return j!==r&&(ee=dr(j),ee=ee<0?ga(U+ee,0):kl(ee,U-1)),k===k?Hut(E,k,ee):Rt(E,cr,ee,!0)}function fht(E,k){return E&&E.length?xle(E,dr(k)):r}var hht=br(uce);function uce(E,k){return E&&E.length&&k&&k.length?Y7(E,k):E}function pht(E,k,j){return E&&E.length&&k&&k.length?Y7(E,k,Dn(j,2)):E}function mht(E,k,j){return E&&E.length&&k&&k.length?Y7(E,k,r,j):E}var ght=Sm(function(E,k){var j=E==null?0:E.length,U=U7(E,k);return Ele(E,Wn(k,function(ee){return km(ee,j)?+ee:ee}).sort(Ple)),U});function vht(E,k){var j=[];if(!(E&&E.length))return j;var U=-1,ee=[],ue=E.length;for(k=Dn(k,3);++U<ue;){var be=E[U];k(be,U,E)&&(j.push(be),ee.push(U))}return Ele(E,ee),j}function m9(E){return E==null?E:udt.call(E)}function yht(E,k,j){var U=E==null?0:E.length;return U?(j&&typeof j!="number"&&ac(E,k,j)?(k=0,j=U):(k=k==null?0:dr(k),j=j===r?U:dr(j)),Ed(E,k,j)):[]}function bht(E,k){return KR(E,k)}function xht(E,k,j){return Q7(E,k,Dn(j,2))}function wht(E,k){var j=E==null?0:E.length;if(j){var U=KR(E,k);if(U<j&&Pf(E[U],k))return U}return-1}function _ht(E,k){return KR(E,k,!0)}function Eht(E,k,j){return Q7(E,k,Dn(j,2),!0)}function Cht(E,k){var j=E==null?0:E.length;if(j){var U=KR(E,k,!0)-1;if(Pf(E[U],k))return U}return-1}function Sht(E){return E&&E.length?Sle(E):[]}function kht(E,k){return E&&E.length?Sle(E,Dn(k,2)):[]}function Tht(E){var k=E==null?0:E.length;return k?Ed(E,1,k):[]}function Aht(E,k,j){return E&&E.length?(k=j||k===r?1:dr(k),Ed(E,0,k<0?0:k)):[]}function Iht(E,k,j){var U=E==null?0:E.length;return U?(k=j||k===r?1:dr(k),k=U-k,Ed(E,k<0?0:k,U)):[]}function Dht(E,k){return E&&E.length?YR(E,Dn(k,3),!1,!0):[]}function Rht(E,k){return E&&E.length?YR(E,Dn(k,3)):[]}var Oht=br(function(E){return Ev(Ja(E,1,js,!0))}),Pht=br(function(E){var k=Cd(E);return js(k)&&(k=r),Ev(Ja(E,1,js,!0),Dn(k,2))}),jht=br(function(E){var k=Cd(E);return k=typeof k=="function"?k:r,Ev(Ja(E,1,js,!0),r,k)});function Lht(E){return E&&E.length?Ev(E):[]}function $ht(E,k){return E&&E.length?Ev(E,Dn(k,2)):[]}function Mht(E,k){return k=typeof k=="function"?k:r,E&&E.length?Ev(E,r,k):[]}function g9(E){if(!(E&&E.length))return[];var k=0;return E=an(E,function(j){if(js(j))return k=ga(j.length,k),!0}),bm(k,function(j){return Wn(E,xo(j))})}function dce(E,k){if(!(E&&E.length))return[];var j=g9(E);return k==null?j:Wn(j,function(U){return Ve(k,r,U)})}var Fht=br(function(E,k){return js(E)?F2(E,k):[]}),Nht=br(function(E){return e9(an(E,js))}),Bht=br(function(E){var k=Cd(E);return js(k)&&(k=r),e9(an(E,js),Dn(k,2))}),Uht=br(function(E){var k=Cd(E);return k=typeof k=="function"?k:r,e9(an(E,js),r,k)}),zht=br(g9);function Vht(E,k){return Ile(E||[],k||[],M2)}function Hht(E,k){return Ile(E||[],k||[],U2)}var Wht=br(function(E){var k=E.length,j=k>1?E[k-1]:r;return j=typeof j=="function"?(E.pop(),j):r,dce(E,j)});function fce(E){var k=ae(E);return k.__chain__=!0,k}function Ght(E,k){return k(E),E}function iO(E,k){return k(E)}var qht=Sm(function(E){var k=E.length,j=k?E[0]:0,U=this.__wrapped__,ee=function(ue){return U7(ue,E)};return k>1||this.__actions__.length||!(U instanceof Pr)||!km(j)?this.thru(ee):(U=U.slice(j,+j+(k?1:0)),U.__actions__.push({func:iO,args:[ee],thisArg:r}),new wd(U,this.__chain__).thru(function(ue){return k&&!ue.length&&ue.push(r),ue}))});function Kht(){return fce(this)}function Yht(){return new wd(this.value(),this.__chain__)}function Zht(){this.__values__===r&&(this.__values__=kce(this.value()));var E=this.__index__>=this.__values__.length,k=E?r:this.__values__[this.__index__++];return{done:E,value:k}}function Xht(){return this}function Qht(E){for(var k,j=this;j instanceof VR;){var U=oce(j);U.__index__=0,U.__values__=r,k?ee.__wrapped__=U:k=U;var ee=U;j=j.__wrapped__}return ee.__wrapped__=E,k}function Jht(){var E=this.__wrapped__;if(E instanceof Pr){var k=E;return this.__actions__.length&&(k=new Pr(this)),k=k.reverse(),k.__actions__.push({func:iO,args:[m9],thisArg:r}),new wd(k,this.__chain__)}return this.thru(m9)}function ept(){return Ale(this.__wrapped__,this.__actions__)}var tpt=ZR(function(E,k,j){$i.call(E,j)?++E[j]:Em(E,j,1)});function npt(E,k,j){var U=ir(E)?mr:Gdt;return j&&ac(E,k,j)&&(k=r),U(E,Dn(k,3))}function rpt(E,k){var j=ir(E)?an:dle;return j(E,Dn(k,3))}var ipt=Nle(sce),opt=Nle(ace);function spt(E,k){return Ja(oO(E,k),1)}function apt(E,k){return Ja(oO(E,k),z)}function lpt(E,k,j){return j=j===r?1:dr(j),Ja(oO(E,k),j)}function hce(E,k){var j=ir(E)?Mt:_v;return j(E,Dn(k,3))}function pce(E,k){var j=ir(E)?Cn:ule;return j(E,Dn(k,3))}var cpt=ZR(function(E,k,j){$i.call(E,j)?E[j].push(k):Em(E,j,[k])});function upt(E,k,j,U){E=Vc(E)?E:Hw(E),j=j&&!U?dr(j):0;var ee=E.length;return j<0&&(j=ga(ee+j,0)),uO(E)?j<=ee&&E.indexOf(k,j)>-1:!!ee&&kn(E,k,j)>-1}var dpt=br(function(E,k,j){var U=-1,ee=typeof k=="function",ue=Vc(E)?We(E.length):[];return _v(E,function(be){ue[++U]=ee?Ve(k,be,j):N2(be,k,j)}),ue}),fpt=ZR(function(E,k,j){Em(E,j,k)});function oO(E,k){var j=ir(E)?Wn:vle;return j(E,Dn(k,3))}function hpt(E,k,j,U){return E==null?[]:(ir(k)||(k=k==null?[]:[k]),j=U?r:j,ir(j)||(j=j==null?[]:[j]),wle(E,k,j))}var ppt=ZR(function(E,k,j){E[j?0:1].push(k)},function(){return[[],[]]});function mpt(E,k,j){var U=ir(E)?ws:Or,ee=arguments.length<3;return U(E,Dn(k,4),j,ee,_v)}function gpt(E,k,j){var U=ir(E)?Yi:Or,ee=arguments.length<3;return U(E,Dn(k,4),j,ee,ule)}function vpt(E,k){var j=ir(E)?an:dle;return j(E,lO(Dn(k,3)))}function ypt(E){var k=ir(E)?sle:uft;return k(E)}function bpt(E,k,j){(j?ac(E,k,j):k===r)?k=1:k=dr(k);var U=ir(E)?Udt:dft;return U(E,k)}function xpt(E){var k=ir(E)?zdt:hft;return k(E)}function wpt(E){if(E==null)return 0;if(Vc(E))return uO(E)?jw(E):E.length;var k=Tl(E);return k==ge||k==lt?E.size:q7(E).length}function _pt(E,k,j){var U=ir(E)?Tu:pft;return j&&ac(E,k,j)&&(k=r),U(E,Dn(k,3))}var Ept=br(function(E,k){if(E==null)return[];var j=k.length;return j>1&&ac(E,k[0],k[1])?k=[]:j>2&&ac(k[0],k[1],k[2])&&(k=[k[0]]),wle(E,Ja(k,1),[])}),sO=rdt||function(){return Ii.Date.now()};function Cpt(E,k){if(typeof k!="function")throw new xd(a);return E=dr(E),function(){if(--E<1)return k.apply(this,arguments)}}function mce(E,k,j){return k=j?r:k,k=E&&k==null?E.length:k,Cm(E,A,r,r,r,r,k)}function gce(E,k){var j;if(typeof k!="function")throw new xd(a);return E=dr(E),function(){return--E>0&&(j=k.apply(this,arguments)),E<=1&&(k=r),j}}var v9=br(function(E,k,j){var U=b;if(j.length){var ee=xv(j,zw(v9));U|=S}return Cm(E,U,k,j,ee)}),vce=br(function(E,k,j){var U=b|x;if(j.length){var ee=xv(j,zw(vce));U|=S}return Cm(k,U,E,j,ee)});function yce(E,k,j){k=j?r:k;var U=Cm(E,w,r,r,r,r,r,k);return U.placeholder=yce.placeholder,U}function bce(E,k,j){k=j?r:k;var U=Cm(E,C,r,r,r,r,r,k);return U.placeholder=bce.placeholder,U}function xce(E,k,j){var U,ee,ue,be,Te,Le,nt=0,rt=!1,ft=!1,Nt=!0;if(typeof E!="function")throw new xd(a);k=Sd(k)||0,ls(j)&&(rt=!!j.leading,ft="maxWait"in j,ue=ft?ga(Sd(j.maxWait)||0,k):ue,Nt="trailing"in j?!!j.trailing:Nt);function hn(Ls){var jf=U,Im=ee;return U=ee=r,nt=Ls,be=E.apply(Im,jf),be}function Pn(Ls){return nt=Ls,Te=H2(Ir,k),rt?hn(Ls):be}function gr(Ls){var jf=Ls-Le,Im=Ls-nt,Nce=k-jf;return ft?kl(Nce,ue-Im):Nce}function jn(Ls){var jf=Ls-Le,Im=Ls-nt;return Le===r||jf>=k||jf<0||ft&&Im>=ue}function Ir(){var Ls=sO();if(jn(Ls))return Hr(Ls);Te=H2(Ir,gr(Ls))}function Hr(Ls){return Te=r,Nt&&U?hn(Ls):(U=ee=r,be)}function Ru(){Te!==r&&Dle(Te),nt=0,U=Le=ee=Te=r}function lc(){return Te===r?be:Hr(sO())}function Ou(){var Ls=sO(),jf=jn(Ls);if(U=arguments,ee=this,Le=Ls,jf){if(Te===r)return Pn(Le);if(ft)return Dle(Te),Te=H2(Ir,k),hn(Le)}return Te===r&&(Te=H2(Ir,k)),be}return Ou.cancel=Ru,Ou.flush=lc,Ou}var Spt=br(function(E,k){return cle(E,1,k)}),kpt=br(function(E,k,j){return cle(E,Sd(k)||0,j)});function Tpt(E){return Cm(E,D)}function aO(E,k){if(typeof E!="function"||k!=null&&typeof k!="function")throw new xd(a);var j=function(){var U=arguments,ee=k?k.apply(this,U):U[0],ue=j.cache;if(ue.has(ee))return ue.get(ee);var be=E.apply(this,U);return j.cache=ue.set(ee,be)||ue,be};return j.cache=new(aO.Cache||_m),j}aO.Cache=_m;function lO(E){if(typeof E!="function")throw new xd(a);return function(){var k=arguments;switch(k.length){case 0:return!E.call(this);case 1:return!E.call(this,k[0]);case 2:return!E.call(this,k[0],k[1]);case 3:return!E.call(this,k[0],k[1],k[2])}return!E.apply(this,k)}}function Apt(E){return gce(2,E)}var Ipt=mft(function(E,k){k=k.length==1&&ir(k[0])?Wn(k[0],Ps(Dn())):Wn(Ja(k,1),Ps(Dn()));var j=k.length;return br(function(U){for(var ee=-1,ue=kl(U.length,j);++ee<ue;)U[ee]=k[ee].call(this,U[ee]);return Ve(E,this,U)})}),y9=br(function(E,k){var j=xv(k,zw(y9));return Cm(E,S,r,k,j)}),wce=br(function(E,k){var j=xv(k,zw(wce));return Cm(E,T,r,k,j)}),Dpt=Sm(function(E,k){return Cm(E,I,r,r,r,k)});function Rpt(E,k){if(typeof E!="function")throw new xd(a);return k=k===r?k:dr(k),br(E,k)}function Opt(E,k){if(typeof E!="function")throw new xd(a);return k=k==null?0:ga(dr(k),0),br(function(j){var U=j[k],ee=Sv(j,0,k);return U&&bo(ee,U),Ve(E,this,ee)})}function Ppt(E,k,j){var U=!0,ee=!0;if(typeof E!="function")throw new xd(a);return ls(j)&&(U="leading"in j?!!j.leading:U,ee="trailing"in j?!!j.trailing:ee),xce(E,k,{leading:U,maxWait:k,trailing:ee})}function jpt(E){return mce(E,1)}function Lpt(E,k){return y9(n9(k),E)}function $pt(){if(!arguments.length)return[];var E=arguments[0];return ir(E)?E:[E]}function Mpt(E){return _d(E,g)}function Fpt(E,k){return k=typeof k=="function"?k:r,_d(E,g,k)}function Npt(E){return _d(E,h|g)}function Bpt(E,k){return k=typeof k=="function"?k:r,_d(E,h|g,k)}function Upt(E,k){return k==null||lle(E,k,La(k))}function Pf(E,k){return E===k||E!==E&&k!==k}var zpt=eO(H7),Vpt=eO(function(E,k){return E>=k}),f1=ple(function(){return arguments}())?ple:function(E){return _s(E)&&$i.call(E,"callee")&&!ele.call(E,"callee")},ir=We.isArray,Hpt=q?Ps(q):Qdt;function Vc(E){return E!=null&&cO(E.length)&&!Tm(E)}function js(E){return _s(E)&&Vc(E)}function Wpt(E){return E===!0||E===!1||_s(E)&&sc(E)==de}var kv=odt||I9,Gpt=W?Ps(W):Jdt;function qpt(E){return _s(E)&&E.nodeType===1&&!W2(E)}function Kpt(E){if(E==null)return!0;if(Vc(E)&&(ir(E)||typeof E=="string"||typeof E.splice=="function"||kv(E)||Vw(E)||f1(E)))return!E.length;var k=Tl(E);if(k==ge||k==lt)return!E.size;if(V2(E))return!q7(E).length;for(var j in E)if($i.call(E,j))return!1;return!0}function Ypt(E,k){return B2(E,k)}function Zpt(E,k,j){j=typeof j=="function"?j:r;var U=j?j(E,k):r;return U===r?B2(E,k,r,j):!!U}function b9(E){if(!_s(E))return!1;var k=sc(E);return k==ye||k==we||typeof E.message=="string"&&typeof E.name=="string"&&!W2(E)}function Xpt(E){return typeof E=="number"&&nle(E)}function Tm(E){if(!ls(E))return!1;var k=sc(E);return k==ve||k==_e||k==se||k==Ye}function _ce(E){return typeof E=="number"&&E==dr(E)}function cO(E){return typeof E=="number"&&E>-1&&E%1==0&&E<=B}function ls(E){var k=typeof E;return E!=null&&(k=="object"||k=="function")}function _s(E){return E!=null&&typeof E=="object"}var Ece=ce?Ps(ce):tft;function Qpt(E,k){return E===k||G7(E,k,c9(k))}function Jpt(E,k,j){return j=typeof j=="function"?j:r,G7(E,k,c9(k),j)}function emt(E){return Cce(E)&&E!=+E}function tmt(E){if(Fft(E))throw new nr(s);return mle(E)}function nmt(E){return E===null}function rmt(E){return E==null}function Cce(E){return typeof E=="number"||_s(E)&&sc(E)==pe}function W2(E){if(!_s(E)||sc(E)!=Re)return!1;var k=$R(E);if(k===null)return!0;var j=$i.call(k,"constructor")&&k.constructor;return typeof j=="function"&&j instanceof j&&OR.call(j)==Jut}var x9=Ee?Ps(Ee):nft;function imt(E){return _ce(E)&&E>=-B&&E<=B}var Sce=he?Ps(he):rft;function uO(E){return typeof E=="string"||!ir(E)&&_s(E)&&sc(E)==Xe}function Du(E){return typeof E=="symbol"||_s(E)&&sc(E)==st}var Vw=$e?Ps($e):ift;function omt(E){return E===r}function smt(E){return _s(E)&&Tl(E)==Ge}function amt(E){return _s(E)&&sc(E)==gt}var lmt=eO(K7),cmt=eO(function(E,k){return E<=k});function kce(E){if(!E)return[];if(Vc(E))return uO(E)?Rf(E):zc(E);if(O2&&E[O2])return Uut(E[O2]());var k=Tl(E),j=k==ge?L7:k==lt?IR:Hw;return j(E)}function Am(E){if(!E)return E===0?E:0;if(E=Sd(E),E===z||E===-z){var k=E<0?-1:1;return k*H}return E===E?E:0}function dr(E){var k=Am(E),j=k%1;return k===k?j?k-j:k:0}function Tce(E){return E?l1(dr(E),0,G):0}function Sd(E){if(typeof E=="number")return E;if(Du(E))return X;if(ls(E)){var k=typeof E.valueOf=="function"?E.valueOf():E;E=ls(k)?k+"":k}if(typeof E!="string")return E===0?E:+E;E=oc(E);var j=Iw.test(E);return j||Nc.test(E)?D7(E.slice(2),j?2:8):Aw.test(E)?X:+E}function Ace(E){return Lh(E,Hc(E))}function umt(E){return E?l1(dr(E),-B,B):E===0?E:0}function Di(E){return E==null?"":Iu(E)}var dmt=Bw(function(E,k){if(V2(k)||Vc(k)){Lh(k,La(k),E);return}for(var j in k)$i.call(k,j)&&M2(E,j,k[j])}),Ice=Bw(function(E,k){Lh(k,Hc(k),E)}),dO=Bw(function(E,k,j,U){Lh(k,Hc(k),E,U)}),fmt=Bw(function(E,k,j,U){Lh(k,La(k),E,U)}),hmt=Sm(U7);function pmt(E,k){var j=Nw(E);return k==null?j:ale(j,k)}var mmt=br(function(E,k){E=fo(E);var j=-1,U=k.length,ee=U>2?k[2]:r;for(ee&&ac(k[0],k[1],ee)&&(U=1);++j<U;)for(var ue=k[j],be=Hc(ue),Te=-1,Le=be.length;++Te<Le;){var nt=be[Te],rt=E[nt];(rt===r||Pf(rt,$w[nt])&&!$i.call(E,nt))&&(E[nt]=ue[nt])}return E}),gmt=br(function(E){return E.push(r,Gle),Ve(Dce,r,E)});function vmt(E,k){return Ft(E,Dn(k,3),jh)}function ymt(E,k){return Ft(E,Dn(k,3),V7)}function bmt(E,k){return E==null?E:z7(E,Dn(k,3),Hc)}function xmt(E,k){return E==null?E:fle(E,Dn(k,3),Hc)}function wmt(E,k){return E&&jh(E,Dn(k,3))}function _mt(E,k){return E&&V7(E,Dn(k,3))}function Emt(E){return E==null?[]:GR(E,La(E))}function Cmt(E){return E==null?[]:GR(E,Hc(E))}function w9(E,k,j){var U=E==null?r:c1(E,k);return U===r?j:U}function Smt(E,k){return E!=null&&Yle(E,k,Kdt)}function _9(E,k){return E!=null&&Yle(E,k,Ydt)}var kmt=Ule(function(E,k,j){k!=null&&typeof k.toString!="function"&&(k=PR.call(k)),E[k]=j},C9(Wc)),Tmt=Ule(function(E,k,j){k!=null&&typeof k.toString!="function"&&(k=PR.call(k)),$i.call(E,k)?E[k].push(j):E[k]=[j]},Dn),Amt=br(N2);function La(E){return Vc(E)?ole(E):q7(E)}function Hc(E){return Vc(E)?ole(E,!0):oft(E)}function Imt(E,k){var j={};return k=Dn(k,3),jh(E,function(U,ee,ue){Em(j,k(U,ee,ue),U)}),j}function Dmt(E,k){var j={};return k=Dn(k,3),jh(E,function(U,ee,ue){Em(j,ee,k(U,ee,ue))}),j}var Rmt=Bw(function(E,k,j){qR(E,k,j)}),Dce=Bw(function(E,k,j,U){qR(E,k,j,U)}),Omt=Sm(function(E,k){var j={};if(E==null)return j;var U=!1;k=Wn(k,function(ue){return ue=Cv(ue,E),U||(U=ue.length>1),ue}),Lh(E,a9(E),j),U&&(j=_d(j,h|m|g,kft));for(var ee=k.length;ee--;)J7(j,k[ee]);return j});function Pmt(E,k){return Rce(E,lO(Dn(k)))}var jmt=Sm(function(E,k){return E==null?{}:aft(E,k)});function Rce(E,k){if(E==null)return{};var j=Wn(a9(E),function(U){return[U]});return k=Dn(k),_le(E,j,function(U,ee){return k(U,ee[0])})}function Lmt(E,k,j){k=Cv(k,E);var U=-1,ee=k.length;for(ee||(ee=1,E=r);++U<ee;){var ue=E==null?r:E[$h(k[U])];ue===r&&(U=ee,ue=j),E=Tm(ue)?ue.call(E):ue}return E}function $mt(E,k,j){return E==null?E:U2(E,k,j)}function Mmt(E,k,j,U){return U=typeof U=="function"?U:r,E==null?E:U2(E,k,j,U)}var Oce=Hle(La),Pce=Hle(Hc);function Fmt(E,k,j){var U=ir(E),ee=U||kv(E)||Vw(E);if(k=Dn(k,4),j==null){var ue=E&&E.constructor;ee?j=U?new ue:[]:ls(E)?j=Tm(ue)?Nw($R(E)):{}:j={}}return(ee?Mt:jh)(E,function(be,Te,Le){return k(j,be,Te,Le)}),j}function Nmt(E,k){return E==null?!0:J7(E,k)}function Bmt(E,k,j){return E==null?E:Tle(E,k,n9(j))}function Umt(E,k,j,U){return U=typeof U=="function"?U:r,E==null?E:Tle(E,k,n9(j),U)}function Hw(E){return E==null?[]:i1(E,La(E))}function zmt(E){return E==null?[]:i1(E,Hc(E))}function Vmt(E,k,j){return j===r&&(j=k,k=r),j!==r&&(j=Sd(j),j=j===j?j:0),k!==r&&(k=Sd(k),k=k===k?k:0),l1(Sd(E),k,j)}function Hmt(E,k,j){return k=Am(k),j===r?(j=k,k=0):j=Am(j),E=Sd(E),Zdt(E,k,j)}function Wmt(E,k,j){if(j&&typeof j!="boolean"&&ac(E,k,j)&&(k=j=r),j===r&&(typeof k=="boolean"?(j=k,k=r):typeof E=="boolean"&&(j=E,E=r)),E===r&&k===r?(E=0,k=1):(E=Am(E),k===r?(k=E,E=0):k=Am(k)),E>k){var U=E;E=k,k=U}if(j||E%1||k%1){var ee=rle();return kl(E+ee*(k-E+I7("1e-"+((ee+"").length-1))),k)}return Z7(E,k)}var Gmt=Uw(function(E,k,j){return k=k.toLowerCase(),E+(j?jce(k):k)});function jce(E){return E9(Di(E).toLowerCase())}function Lce(E){return E=Di(E),E&&E.replace(e1,O7).replace(E7,"")}function qmt(E,k,j){E=Di(E),k=Iu(k);var U=E.length;j=j===r?U:l1(dr(j),0,U);var ee=j;return j-=k.length,j>=0&&E.slice(j,ee)==k}function Kmt(E){return E=Di(E),E&&ht.test(E)?E.replace(fn,P7):E}function Ymt(E){return E=Di(E),E&&Cl.test(E)?E.replace(jo,"\\$&"):E}var Zmt=Uw(function(E,k,j){return E+(j?"-":"")+k.toLowerCase()}),Xmt=Uw(function(E,k,j){return E+(j?" ":"")+k.toLowerCase()}),Qmt=Fle("toLowerCase");function Jmt(E,k,j){E=Di(E),k=dr(k);var U=k?jw(E):0;if(!k||U>=k)return E;var ee=(k-U)/2;return JR(BR(ee),j)+E+JR(NR(ee),j)}function egt(E,k,j){E=Di(E),k=dr(k);var U=k?jw(E):0;return k&&U<k?E+JR(k-U,j):E}function tgt(E,k,j){E=Di(E),k=dr(k);var U=k?jw(E):0;return k&&U<k?JR(k-U,j)+E:E}function ngt(E,k,j){return j||k==null?k=0:k&&(k=+k),cdt(Di(E).replace(Sl,""),k||0)}function rgt(E,k,j){return(j?ac(E,k,j):k===r)?k=1:k=dr(k),X7(Di(E),k)}function igt(){var E=arguments,k=Di(E[0]);return E.length<3?k:k.replace(E[1],E[2])}var ogt=Uw(function(E,k,j){return E+(j?"_":"")+k.toLowerCase()});function sgt(E,k,j){return j&&typeof j!="number"&&ac(E,k,j)&&(k=j=r),j=j===r?G:j>>>0,j?(E=Di(E),E&&(typeof k=="string"||k!=null&&!x9(k))&&(k=Iu(k),!k&&Pw(E))?Sv(Rf(E),0,j):E.split(k,j)):[]}var agt=Uw(function(E,k,j){return E+(j?" ":"")+E9(k)});function lgt(E,k,j){return E=Di(E),j=j==null?0:l1(dr(j),0,E.length),k=Iu(k),E.slice(j,j+k.length)==k}function cgt(E,k,j){var U=ae.templateSettings;j&&ac(E,k,j)&&(k=r),E=Di(E),k=dO({},k,U,Wle);var ee=dO({},k.imports,U.imports,Wle),ue=La(ee),be=i1(ee,ue),Te,Le,nt=0,rt=k.interpolate||Oh,ft="__p += '",Nt=$7((k.escape||Oh).source+"|"+rt.source+"|"+(rt===rr?Jy:Oh).source+"|"+(k.evaluate||Oh).source+"|$","g"),hn="//# sourceURL="+($i.call(k,"sourceURL")?(k.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++R2+"]")+`
`;E.replace(Nt,function(jn,Ir,Hr,Ru,lc,Ou){return Hr||(Hr=Ru),ft+=E.slice(nt,Ou).replace(C2,j7),Ir&&(Te=!0,ft+=`' +
__e(`+Ir+`) +
'`),lc&&(Le=!0,ft+=`';
`+lc+`;
__p += '`),Hr&&(ft+=`' +
((__t = (`+Hr+`)) == null ? '' : __t) +
'`),nt=Ou+jn.length,jn}),ft+=`';
`;var Pn=$i.call(k,"variable")&&k.variable;if(!Pn)ft=`with (obj) {
`+ft+`
}
`;else if(Tw.test(Pn))throw new nr(l);ft=(Le?ft.replace(Oo,""):ft).replace(Po,"$1").replace(wi,"$1;"),ft="function("+(Pn||"obj")+`) {
`+(Pn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Te?", __e = _.escape":"")+(Le?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ft+`return __p
}`;var gr=Mce(function(){return Ei(ue,hn+"return "+ft).apply(r,be)});if(gr.source=ft,b9(gr))throw gr;return gr}function ugt(E){return Di(E).toLowerCase()}function dgt(E){return Di(E).toUpperCase()}function fgt(E,k,j){if(E=Di(E),E&&(j||k===r))return oc(E);if(!E||!(k=Iu(k)))return E;var U=Rf(E),ee=Rf(k),ue=bv(U,ee),be=Au(U,ee)+1;return Sv(U,ue,be).join("")}function hgt(E,k,j){if(E=Di(E),E&&(j||k===r))return E.slice(0,Zae(E)+1);if(!E||!(k=Iu(k)))return E;var U=Rf(E),ee=Au(U,Rf(k))+1;return Sv(U,0,ee).join("")}function pgt(E,k,j){if(E=Di(E),E&&(j||k===r))return E.replace(Sl,"");if(!E||!(k=Iu(k)))return E;var U=Rf(E),ee=bv(U,Rf(k));return Sv(U,ee).join("")}function mgt(E,k){var j=R,U=P;if(ls(k)){var ee="separator"in k?k.separator:ee;j="length"in k?dr(k.length):j,U="omission"in k?Iu(k.omission):U}E=Di(E);var ue=E.length;if(Pw(E)){var be=Rf(E);ue=be.length}if(j>=ue)return E;var Te=j-jw(U);if(Te<1)return U;var Le=be?Sv(be,0,Te).join(""):E.slice(0,Te);if(ee===r)return Le+U;if(be&&(Te+=Le.length-Te),x9(ee)){if(E.slice(Te).search(ee)){var nt,rt=Le;for(ee.global||(ee=$7(ee.source,Di(Rh.exec(ee))+"g")),ee.lastIndex=0;nt=ee.exec(rt);)var ft=nt.index;Le=Le.slice(0,ft===r?Te:ft)}}else if(E.indexOf(Iu(ee),Te)!=Te){var Nt=Le.lastIndexOf(ee);Nt>-1&&(Le=Le.slice(0,Nt))}return Le+U}function ggt(E){return E=Di(E),E&&Ct.test(E)?E.replace(pr,Wut):E}var vgt=Uw(function(E,k,j){return E+(j?" ":"")+k.toUpperCase()}),E9=Fle("toUpperCase");function $ce(E,k,j){return E=Di(E),k=j?r:k,k===r?But(E)?Kut(E):vn(E):E.match(k)||[]}var Mce=br(function(E,k){try{return Ve(E,r,k)}catch(j){return b9(j)?j:new nr(j)}}),ygt=Sm(function(E,k){return Mt(k,function(j){j=$h(j),Em(E,j,v9(E[j],E))}),E});function bgt(E){var k=E==null?0:E.length,j=Dn();return E=k?Wn(E,function(U){if(typeof U[1]!="function")throw new xd(a);return[j(U[0]),U[1]]}):[],br(function(U){for(var ee=-1;++ee<k;){var ue=E[ee];if(Ve(ue[0],this,U))return Ve(ue[1],this,U)}})}function xgt(E){return Wdt(_d(E,h))}function C9(E){return function(){return E}}function wgt(E,k){return E==null||E!==E?k:E}var _gt=Ble(),Egt=Ble(!0);function Wc(E){return E}function S9(E){return gle(typeof E=="function"?E:_d(E,h))}function Cgt(E){return yle(_d(E,h))}function Sgt(E,k){return ble(E,_d(k,h))}var kgt=br(function(E,k){return function(j){return N2(j,E,k)}}),Tgt=br(function(E,k){return function(j){return N2(E,j,k)}});function k9(E,k,j){var U=La(k),ee=GR(k,U);j==null&&!(ls(k)&&(ee.length||!U.length))&&(j=k,k=E,E=this,ee=GR(k,La(k)));var ue=!(ls(j)&&"chain"in j)||!!j.chain,be=Tm(E);return Mt(ee,function(Te){var Le=k[Te];E[Te]=Le,be&&(E.prototype[Te]=function(){var nt=this.__chain__;if(ue||nt){var rt=E(this.__wrapped__),ft=rt.__actions__=zc(this.__actions__);return ft.push({func:Le,args:arguments,thisArg:E}),rt.__chain__=nt,rt}return Le.apply(E,bo([this.value()],arguments))})}),E}function Agt(){return Ii._===this&&(Ii._=edt),this}function T9(){}function Igt(E){return E=dr(E),br(function(k){return xle(k,E)})}var Dgt=i9(Wn),Rgt=i9(mr),Ogt=i9(Tu);function Fce(E){return d9(E)?xo($h(E)):lft(E)}function Pgt(E){return function(k){return E==null?r:c1(E,k)}}var jgt=zle(),Lgt=zle(!0);function A9(){return[]}function I9(){return!1}function $gt(){return{}}function Mgt(){return""}function Fgt(){return!0}function Ngt(E,k){if(E=dr(E),E<1||E>B)return[];var j=G,U=kl(E,G);k=Dn(k),E-=G;for(var ee=bm(U,k);++j<E;)k(j);return ee}function Bgt(E){return ir(E)?Wn(E,$h):Du(E)?[E]:zc(ice(Di(E)))}function Ugt(E){var k=++Qut;return Di(E)+k}var zgt=QR(function(E,k){return E+k},0),Vgt=o9("ceil"),Hgt=QR(function(E,k){return E/k},1),Wgt=o9("floor");function Ggt(E){return E&&E.length?WR(E,Wc,H7):r}function qgt(E,k){return E&&E.length?WR(E,Dn(k,2),H7):r}function Kgt(E){return ti(E,Wc)}function Ygt(E,k){return ti(E,Dn(k,2))}function Zgt(E){return E&&E.length?WR(E,Wc,K7):r}function Xgt(E,k){return E&&E.length?WR(E,Dn(k,2),K7):r}var Qgt=QR(function(E,k){return E*k},1),Jgt=o9("round"),evt=QR(function(E,k){return E-k},0);function tvt(E){return E&&E.length?bd(E,Wc):0}function nvt(E,k){return E&&E.length?bd(E,Dn(k,2)):0}return ae.after=Cpt,ae.ary=mce,ae.assign=dmt,ae.assignIn=Ice,ae.assignInWith=dO,ae.assignWith=fmt,ae.at=hmt,ae.before=gce,ae.bind=v9,ae.bindAll=ygt,ae.bindKey=vce,ae.castArray=$pt,ae.chain=fce,ae.chunk=Wft,ae.compact=Gft,ae.concat=qft,ae.cond=bgt,ae.conforms=xgt,ae.constant=C9,ae.countBy=tpt,ae.create=pmt,ae.curry=yce,ae.curryRight=bce,ae.debounce=xce,ae.defaults=mmt,ae.defaultsDeep=gmt,ae.defer=Spt,ae.delay=kpt,ae.difference=Kft,ae.differenceBy=Yft,ae.differenceWith=Zft,ae.drop=Xft,ae.dropRight=Qft,ae.dropRightWhile=Jft,ae.dropWhile=eht,ae.fill=tht,ae.filter=rpt,ae.flatMap=spt,ae.flatMapDeep=apt,ae.flatMapDepth=lpt,ae.flatten=lce,ae.flattenDeep=nht,ae.flattenDepth=rht,ae.flip=Tpt,ae.flow=_gt,ae.flowRight=Egt,ae.fromPairs=iht,ae.functions=Emt,ae.functionsIn=Cmt,ae.groupBy=cpt,ae.initial=sht,ae.intersection=aht,ae.intersectionBy=lht,ae.intersectionWith=cht,ae.invert=kmt,ae.invertBy=Tmt,ae.invokeMap=dpt,ae.iteratee=S9,ae.keyBy=fpt,ae.keys=La,ae.keysIn=Hc,ae.map=oO,ae.mapKeys=Imt,ae.mapValues=Dmt,ae.matches=Cgt,ae.matchesProperty=Sgt,ae.memoize=aO,ae.merge=Rmt,ae.mergeWith=Dce,ae.method=kgt,ae.methodOf=Tgt,ae.mixin=k9,ae.negate=lO,ae.nthArg=Igt,ae.omit=Omt,ae.omitBy=Pmt,ae.once=Apt,ae.orderBy=hpt,ae.over=Dgt,ae.overArgs=Ipt,ae.overEvery=Rgt,ae.overSome=Ogt,ae.partial=y9,ae.partialRight=wce,ae.partition=ppt,ae.pick=jmt,ae.pickBy=Rce,ae.property=Fce,ae.propertyOf=Pgt,ae.pull=hht,ae.pullAll=uce,ae.pullAllBy=pht,ae.pullAllWith=mht,ae.pullAt=ght,ae.range=jgt,ae.rangeRight=Lgt,ae.rearg=Dpt,ae.reject=vpt,ae.remove=vht,ae.rest=Rpt,ae.reverse=m9,ae.sampleSize=bpt,ae.set=$mt,ae.setWith=Mmt,ae.shuffle=xpt,ae.slice=yht,ae.sortBy=Ept,ae.sortedUniq=Sht,ae.sortedUniqBy=kht,ae.split=sgt,ae.spread=Opt,ae.tail=Tht,ae.take=Aht,ae.takeRight=Iht,ae.takeRightWhile=Dht,ae.takeWhile=Rht,ae.tap=Ght,ae.throttle=Ppt,ae.thru=iO,ae.toArray=kce,ae.toPairs=Oce,ae.toPairsIn=Pce,ae.toPath=Bgt,ae.toPlainObject=Ace,ae.transform=Fmt,ae.unary=jpt,ae.union=Oht,ae.unionBy=Pht,ae.unionWith=jht,ae.uniq=Lht,ae.uniqBy=$ht,ae.uniqWith=Mht,ae.unset=Nmt,ae.unzip=g9,ae.unzipWith=dce,ae.update=Bmt,ae.updateWith=Umt,ae.values=Hw,ae.valuesIn=zmt,ae.without=Fht,ae.words=$ce,ae.wrap=Lpt,ae.xor=Nht,ae.xorBy=Bht,ae.xorWith=Uht,ae.zip=zht,ae.zipObject=Vht,ae.zipObjectDeep=Hht,ae.zipWith=Wht,ae.entries=Oce,ae.entriesIn=Pce,ae.extend=Ice,ae.extendWith=dO,k9(ae,ae),ae.add=zgt,ae.attempt=Mce,ae.camelCase=Gmt,ae.capitalize=jce,ae.ceil=Vgt,ae.clamp=Vmt,ae.clone=Mpt,ae.cloneDeep=Npt,ae.cloneDeepWith=Bpt,ae.cloneWith=Fpt,ae.conformsTo=Upt,ae.deburr=Lce,ae.defaultTo=wgt,ae.divide=Hgt,ae.endsWith=qmt,ae.eq=Pf,ae.escape=Kmt,ae.escapeRegExp=Ymt,ae.every=npt,ae.find=ipt,ae.findIndex=sce,ae.findKey=vmt,ae.findLast=opt,ae.findLastIndex=ace,ae.findLastKey=ymt,ae.floor=Wgt,ae.forEach=hce,ae.forEachRight=pce,ae.forIn=bmt,ae.forInRight=xmt,ae.forOwn=wmt,ae.forOwnRight=_mt,ae.get=w9,ae.gt=zpt,ae.gte=Vpt,ae.has=Smt,ae.hasIn=_9,ae.head=cce,ae.identity=Wc,ae.includes=upt,ae.indexOf=oht,ae.inRange=Hmt,ae.invoke=Amt,ae.isArguments=f1,ae.isArray=ir,ae.isArrayBuffer=Hpt,ae.isArrayLike=Vc,ae.isArrayLikeObject=js,ae.isBoolean=Wpt,ae.isBuffer=kv,ae.isDate=Gpt,ae.isElement=qpt,ae.isEmpty=Kpt,ae.isEqual=Ypt,ae.isEqualWith=Zpt,ae.isError=b9,ae.isFinite=Xpt,ae.isFunction=Tm,ae.isInteger=_ce,ae.isLength=cO,ae.isMap=Ece,ae.isMatch=Qpt,ae.isMatchWith=Jpt,ae.isNaN=emt,ae.isNative=tmt,ae.isNil=rmt,ae.isNull=nmt,ae.isNumber=Cce,ae.isObject=ls,ae.isObjectLike=_s,ae.isPlainObject=W2,ae.isRegExp=x9,ae.isSafeInteger=imt,ae.isSet=Sce,ae.isString=uO,ae.isSymbol=Du,ae.isTypedArray=Vw,ae.isUndefined=omt,ae.isWeakMap=smt,ae.isWeakSet=amt,ae.join=uht,ae.kebabCase=Zmt,ae.last=Cd,ae.lastIndexOf=dht,ae.lowerCase=Xmt,ae.lowerFirst=Qmt,ae.lt=lmt,ae.lte=cmt,ae.max=Ggt,ae.maxBy=qgt,ae.mean=Kgt,ae.meanBy=Ygt,ae.min=Zgt,ae.minBy=Xgt,ae.stubArray=A9,ae.stubFalse=I9,ae.stubObject=$gt,ae.stubString=Mgt,ae.stubTrue=Fgt,ae.multiply=Qgt,ae.nth=fht,ae.noConflict=Agt,ae.noop=T9,ae.now=sO,ae.pad=Jmt,ae.padEnd=egt,ae.padStart=tgt,ae.parseInt=ngt,ae.random=Wmt,ae.reduce=mpt,ae.reduceRight=gpt,ae.repeat=rgt,ae.replace=igt,ae.result=Lmt,ae.round=Jgt,ae.runInContext=Ie,ae.sample=ypt,ae.size=wpt,ae.snakeCase=ogt,ae.some=_pt,ae.sortedIndex=bht,ae.sortedIndexBy=xht,ae.sortedIndexOf=wht,ae.sortedLastIndex=_ht,ae.sortedLastIndexBy=Eht,ae.sortedLastIndexOf=Cht,ae.startCase=agt,ae.startsWith=lgt,ae.subtract=evt,ae.sum=tvt,ae.sumBy=nvt,ae.template=cgt,ae.times=Ngt,ae.toFinite=Am,ae.toInteger=dr,ae.toLength=Tce,ae.toLower=ugt,ae.toNumber=Sd,ae.toSafeInteger=umt,ae.toString=Di,ae.toUpper=dgt,ae.trim=fgt,ae.trimEnd=hgt,ae.trimStart=pgt,ae.truncate=mgt,ae.unescape=ggt,ae.uniqueId=Ugt,ae.upperCase=vgt,ae.upperFirst=E9,ae.each=hce,ae.eachRight=pce,ae.first=cce,k9(ae,function(){var E={};return jh(ae,function(k,j){$i.call(ae.prototype,j)||(E[j]=k)}),E}(),{chain:!1}),ae.VERSION=i,Mt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(E){ae[E].placeholder=ae}),Mt(["drop","take"],function(E,k){Pr.prototype[E]=function(j){j=j===r?1:ga(dr(j),0);var U=this.__filtered__&&!k?new Pr(this):this.clone();return U.__filtered__?U.__takeCount__=kl(j,U.__takeCount__):U.__views__.push({size:kl(j,G),type:E+(U.__dir__<0?"Right":"")}),U},Pr.prototype[E+"Right"]=function(j){return this.reverse()[E](j).reverse()}}),Mt(["filter","map","takeWhile"],function(E,k){var j=k+1,U=j==L||j==N;Pr.prototype[E]=function(ee){var ue=this.clone();return ue.__iteratees__.push({iteratee:Dn(ee,3),type:j}),ue.__filtered__=ue.__filtered__||U,ue}}),Mt(["head","last"],function(E,k){var j="take"+(k?"Right":"");Pr.prototype[E]=function(){return this[j](1).value()[0]}}),Mt(["initial","tail"],function(E,k){var j="drop"+(k?"":"Right");Pr.prototype[E]=function(){return this.__filtered__?new Pr(this):this[j](1)}}),Pr.prototype.compact=function(){return this.filter(Wc)},Pr.prototype.find=function(E){return this.filter(E).head()},Pr.prototype.findLast=function(E){return this.reverse().find(E)},Pr.prototype.invokeMap=br(function(E,k){return typeof E=="function"?new Pr(this):this.map(function(j){return N2(j,E,k)})}),Pr.prototype.reject=function(E){return this.filter(lO(Dn(E)))},Pr.prototype.slice=function(E,k){E=dr(E);var j=this;return j.__filtered__&&(E>0||k<0)?new Pr(j):(E<0?j=j.takeRight(-E):E&&(j=j.drop(E)),k!==r&&(k=dr(k),j=k<0?j.dropRight(-k):j.take(k-E)),j)},Pr.prototype.takeRightWhile=function(E){return this.reverse().takeWhile(E).reverse()},Pr.prototype.toArray=function(){return this.take(G)},jh(Pr.prototype,function(E,k){var j=/^(?:filter|find|map|reject)|While$/.test(k),U=/^(?:head|last)$/.test(k),ee=ae[U?"take"+(k=="last"?"Right":""):k],ue=U||/^find/.test(k);ee&&(ae.prototype[k]=function(){var be=this.__wrapped__,Te=U?[1]:arguments,Le=be instanceof Pr,nt=Te[0],rt=Le||ir(be),ft=function(Ir){var Hr=ee.apply(ae,bo([Ir],Te));return U&&Nt?Hr[0]:Hr};rt&&j&&typeof nt=="function"&&nt.length!=1&&(Le=rt=!1);var Nt=this.__chain__,hn=!!this.__actions__.length,Pn=ue&&!Nt,gr=Le&&!hn;if(!ue&&rt){be=gr?be:new Pr(this);var jn=E.apply(be,Te);return jn.__actions__.push({func:iO,args:[ft],thisArg:r}),new wd(jn,Nt)}return Pn&&gr?E.apply(this,Te):(jn=this.thru(ft),Pn?U?jn.value()[0]:jn.value():jn)})}),Mt(["pop","push","shift","sort","splice","unshift"],function(E){var k=DR[E],j=/^(?:push|sort|unshift)$/.test(E)?"tap":"thru",U=/^(?:pop|shift)$/.test(E);ae.prototype[E]=function(){var ee=arguments;if(U&&!this.__chain__){var ue=this.value();return k.apply(ir(ue)?ue:[],ee)}return this[j](function(be){return k.apply(ir(be)?be:[],ee)})}}),jh(Pr.prototype,function(E,k){var j=ae[k];if(j){var U=j.name+"";$i.call(Fw,U)||(Fw[U]=[]),Fw[U].push({name:k,func:j})}}),Fw[XR(r,x).name]=[{name:"wrapper",func:r}],Pr.prototype.clone=gdt,Pr.prototype.reverse=vdt,Pr.prototype.value=ydt,ae.prototype.at=qht,ae.prototype.chain=Kht,ae.prototype.commit=Yht,ae.prototype.next=Zht,ae.prototype.plant=Qht,ae.prototype.reverse=Jht,ae.prototype.toJSON=ae.prototype.valueOf=ae.prototype.value=ept,ae.prototype.first=ae.prototype.head,O2&&(ae.prototype[O2]=Xht),ae},Lw=Yut();vm?((vm.exports=Lw)._=Lw,gm._=Lw):Ii._=Lw}).call(_a)})(c4,c4.exports);var l0=c4.exports;const Yn={MEDIA_PLAY_REQUEST:"mediaplayrequest",MEDIA_PAUSE_REQUEST:"mediapauserequest",MEDIA_MUTE_REQUEST:"mediamuterequest",MEDIA_UNMUTE_REQUEST:"mediaunmuterequest",MEDIA_VOLUME_REQUEST:"mediavolumerequest",MEDIA_SEEK_REQUEST:"mediaseekrequest",MEDIA_AIRPLAY_REQUEST:"mediaairplayrequest",MEDIA_ENTER_FULLSCREEN_REQUEST:"mediaenterfullscreenrequest",MEDIA_EXIT_FULLSCREEN_REQUEST:"mediaexitfullscreenrequest",MEDIA_PREVIEW_REQUEST:"mediapreviewrequest",MEDIA_ENTER_PIP_REQUEST:"mediaenterpiprequest",MEDIA_EXIT_PIP_REQUEST:"mediaexitpiprequest",MEDIA_ENTER_CAST_REQUEST:"mediaentercastrequest",MEDIA_EXIT_CAST_REQUEST:"mediaexitcastrequest",MEDIA_SHOW_TEXT_TRACKS_REQUEST:"mediashowtexttracksrequest",MEDIA_HIDE_TEXT_TRACKS_REQUEST:"mediahidetexttracksrequest",MEDIA_SHOW_SUBTITLES_REQUEST:"mediashowsubtitlesrequest",MEDIA_DISABLE_SUBTITLES_REQUEST:"mediadisablesubtitlesrequest",MEDIA_TOGGLE_SUBTITLES_REQUEST:"mediatogglesubtitlesrequest",MEDIA_PLAYBACK_RATE_REQUEST:"mediaplaybackraterequest",MEDIA_RENDITION_REQUEST:"mediarenditionrequest",MEDIA_AUDIO_TRACK_REQUEST:"mediaaudiotrackrequest",MEDIA_SEEK_TO_LIVE_REQUEST:"mediaseektoliverequest",REGISTER_MEDIA_STATE_RECEIVER:"registermediastatereceiver",UNREGISTER_MEDIA_STATE_RECEIVER:"unregistermediastatereceiver"},Fr={MEDIA_CHROME_ATTRIBUTES:"mediachromeattributes",MEDIA_CONTROLLER:"mediacontroller"},PE={MEDIA_AIRPLAY_UNAVAILABLE:"mediaAirplayUnavailable",MEDIA_FULLSCREEN_UNAVAILABLE:"mediaFullscreenUnavailable",MEDIA_PIP_UNAVAILABLE:"mediaPipUnavailable",MEDIA_CAST_UNAVAILABLE:"mediaCastUnavailable",MEDIA_RENDITION_UNAVAILABLE:"mediaRenditionUnavailable",MEDIA_AUDIO_TRACK_UNAVAILABLE:"mediaAudioTrackUnavailable",MEDIA_PAUSED:"mediaPaused",MEDIA_HAS_PLAYED:"mediaHasPlayed",MEDIA_ENDED:"mediaEnded",MEDIA_MUTED:"mediaMuted",MEDIA_VOLUME_LEVEL:"mediaVolumeLevel",MEDIA_VOLUME:"mediaVolume",MEDIA_VOLUME_UNAVAILABLE:"mediaVolumeUnavailable",MEDIA_IS_PIP:"mediaIsPip",MEDIA_IS_CASTING:"mediaIsCasting",MEDIA_SUBTITLES_LIST:"mediaSubtitlesList",MEDIA_SUBTITLES_SHOWING:"mediaSubtitlesShowing",MEDIA_IS_FULLSCREEN:"mediaIsFullscreen",MEDIA_PLAYBACK_RATE:"mediaPlaybackRate",MEDIA_CURRENT_TIME:"mediaCurrentTime",MEDIA_DURATION:"mediaDuration",MEDIA_SEEKABLE:"mediaSeekable",MEDIA_PREVIEW_TIME:"mediaPreviewTime",MEDIA_PREVIEW_IMAGE:"mediaPreviewImage",MEDIA_PREVIEW_COORDS:"mediaPreviewCoords",MEDIA_LOADING:"mediaLoading",MEDIA_BUFFERED:"mediaBuffered",MEDIA_STREAM_TYPE:"mediaStreamType",MEDIA_TARGET_LIVE_WINDOW:"mediaTargetLiveWindow",MEDIA_TIME_IS_LIVE:"mediaTimeIsLive",MEDIA_RENDITION_LIST:"mediaRenditionList",MEDIA_RENDITION_SELECTED:"mediaRenditionSelected",MEDIA_AUDIO_TRACK_LIST:"mediaAudioTrackList",MEDIA_AUDIO_TRACK_ENABLED:"mediaAudioTrackEnabled"},Dst=Object.entries(PE),xe=Dst.reduce((n,[e,r])=>(n[e]=`${r.toLowerCase()}`,n),{}),kw=Dst.reduce((n,[e,r])=>(n[e]=`${r.toLowerCase()}`,n),{USER_INACTIVE:"userinactivechange",BREAKPOINTS_CHANGE:"breakpointchange",BREAKPOINTS_COMPUTED:"breakpointscomputed"});Object.entries(kw).reduce((n,[e,r])=>{const i=xe[e];return i&&(n[r]=i),n},{userinactivechange:"userinactive"});const KEr=Object.entries(xe).reduce((n,[e,r])=>{const i=kw[e];return i&&(n[r]=i),n},{userinactive:"userinactivechange"}),mI={SUBTITLES:"subtitles",CAPTIONS:"captions",DESCRIPTIONS:"descriptions",CHAPTERS:"chapters",METADATA:"metadata"},RT={DISABLED:"disabled",HIDDEN:"hidden",SHOWING:"showing"},yMe={MOUSE:"mouse",PEN:"pen",TOUCH:"touch"},Pd={UNAVAILABLE:"unavailable",UNSUPPORTED:"unsupported"},lp={LIVE:"live",ON_DEMAND:"on-demand",UNKNOWN:"unknown"},Cy={AUDIO_PLAYER:()=>"audio player",VIDEO_PLAYER:()=>"video player",VOLUME:()=>"volume",SEEK:()=>"seek",CLOSED_CAPTIONS:()=>"closed captions",PLAYBACK_RATE:({playbackRate:n=1}={})=>`current playback rate ${n}`,PLAYBACK_TIME:()=>"playback time",MEDIA_LOADING:()=>"media loading"},Sc={PLAY:()=>"play",PAUSE:()=>"pause",MUTE:()=>"mute",UNMUTE:()=>"unmute",AIRPLAY:()=>"air play",ENTER_CAST:()=>"start casting",EXIT_CAST:()=>"stop casting",ENTER_FULLSCREEN:()=>"enter fullscreen mode",EXIT_FULLSCREEN:()=>"exit fullscreen mode",ENTER_PIP:()=>"enter picture in picture mode",EXIT_PIP:()=>"exit picture in picture mode",SEEK_FORWARD_N_SECS:({seekOffset:n=30}={})=>`seek forward ${n} seconds`,SEEK_BACK_N_SECS:({seekOffset:n=30}={})=>`seek back ${n} seconds`,SEEK_LIVE:()=>"seek to live",PLAYING_LIVE:()=>"playing live"};function YEr(n){return n==null?void 0:n.map(XEr).join(" ")}function ZEr(n){return n==null?void 0:n.split(/\s+/).map(QEr)}function XEr(n){if(n){const{id:e,width:r,height:i}=n;return[e,r,i].filter(o=>o!=null).join(":")}}function QEr(n){if(n){const[e,r,i]=n.split(":");return{id:e,width:r,height:i}}}function JEr(n){return n==null?void 0:n.map(tCr).join(" ")}function eCr(n){return n==null?void 0:n.split(/\s+/).map(nCr)}function tCr(n){if(n){const{id:e,kind:r,language:i,label:o}=n;return[e,r,i,o].filter(s=>s!=null).join(":")}}function nCr(n){if(n){const[e,r,i,o]=n.split(":");return{id:e,kind:r,language:i,label:o}}}function $H(n,e=!1){return n.split("_").map(function(r,i){return(i||e?r[0].toUpperCase():r[0].toLowerCase())+r.slice(1).toLowerCase()}).join("")}function rCr(n){return n.replace(/[-_]([a-z])/g,(e,r)=>r.toUpperCase())}function iCr(n){return typeof n=="number"&&!Number.isNaN(n)&&Number.isFinite(n)}function Rst(n){return typeof n!="string"?!1:!isNaN(n)&&!isNaN(parseFloat(n))}const Ost=n=>new Promise(e=>setTimeout(e,n)),bMe=[{singular:"hour",plural:"hours"},{singular:"minute",plural:"minutes"},{singular:"second",plural:"seconds"}],oCr=(n,e)=>{const r=n===1?bMe[e].singular:bMe[e].plural;return`${n} ${r}`},GA=n=>{if(!iCr(n))return"";const e=Math.abs(n),r=e!==n,i=new Date(0,0,0,0,0,e,0);return`${[i.getHours(),i.getMinutes(),i.getSeconds()].map((l,c)=>l&&oCr(l,c)).filter(l=>l).join(", ")}${r?" remaining":""}`};function sx(n,e){let r=!1;n<0&&(r=!0,n=0-n),n=n<0?0:n;let i=Math.floor(n%60),o=Math.floor(n/60%60),s=Math.floor(n/3600);const a=Math.floor(e/60%60),l=Math.floor(e/3600);return(isNaN(n)||n===1/0)&&(s=o=i="0"),s=s>0||l>0?s+":":"",o=((s||a>=10)&&o<10?"0"+o:o)+":",i=i<10?"0"+i:i,(r?"-":"")+s+o+i}const Pst=(n,e,r=".value")=>{const i=n.querySelector(r);i&&(i.textContent=e)},sCr=(n,e)=>{const r=`slot[name="${e}"]`,i=n.shadowRoot.querySelector(r);return i?i.children:[]},jst=(n,e)=>sCr(n,e)[0],hC=(n,e)=>!n||!e?!1:n.contains(e)?!0:hC(n,e.getRootNode().host),pR=(n,e)=>{if(!n)return null;const r=n.closest(e);return r||pR(n.getRootNode().host,e)};function Lst(n=document){var e;const r=n==null?void 0:n.activeElement;return r?(e=Lst(r.shadowRoot))!=null?e:r:null}function aCr(n){var e;const r=(e=n==null?void 0:n.getRootNode)==null?void 0:e.call(n);return r instanceof ShadowRoot||r instanceof Document?r:null}function lCr(n,e=3){if(n.checkVisibility)return n.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0});let r=n;for(;r&&e>0;){const i=getComputedStyle(r);if(i.opacity==="0"||i.visibility==="hidden"||i.display==="none")return!1;r=r.parentElement,e--}return!0}function cCr(n,e,r,i){const o=MH(r,i),s=MH(r,{x:n,y:e}),a=MH(i,{x:n,y:e});return s>o||a>o?s>a?1:0:s/o}function MH(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function ql(n,e){var r;let i;for(i of n.querySelectorAll("style")){let o;try{o=(r=i.sheet)==null?void 0:r.cssRules}catch{continue}for(let s of o??[])if(s.selectorText===e)return s}return i!=null&&i.sheet?(i.sheet.insertRule(`${e}{}`,i.sheet.cssRules.length),i.sheet.cssRules[i.sheet.cssRules.length-1]):{style:{setProperty:()=>{},removeProperty:()=>{}}}}function sa(n,e,r=Number.NaN){const i=n.getAttribute(e);return i!=null?+i:r}function Kl(n,e,r){const i=+r;if(r==null||Number.isNaN(i)){n.hasAttribute(e)&&n.removeAttribute(e);return}sa(n,e,void 0)!==i&&n.setAttribute(e,`${i}`)}function ml(n,e){return n.hasAttribute(e)}function gl(n,e,r){if(r==null){n.hasAttribute(e)&&n.removeAttribute(e);return}ml(n,e)!=r&&n.toggleAttribute(e,r)}function kc(n,e,r=null){var i;return(i=n.getAttribute(e))!=null?i:r}function Tc(n,e,r){if(r==null){n.hasAttribute(e)&&n.removeAttribute(e);return}const i=`${r}`;kc(n,e,void 0)!==i&&n.setAttribute(e,i)}let xMe=class{addEventListener(){}removeEventListener(){}dispatchEvent(){return!0}},uCr=class{observe(){}unobserve(){}disconnect(){}};const $st={createElement:function(){return new zse.HTMLElement},addEventListener(){},removeEventListener(){}},zse={ResizeObserver:uCr,document:$st,HTMLElement:class extends xMe{},DocumentFragment:class extends xMe{},customElements:{get:function(){},define:function(){},whenDefined:function(){}},CustomEvent:function(){},getComputedStyle:function(){},navigator:{languages:[]}},Mst=typeof window>"u"||typeof window.customElements>"u",Fst=Object.keys(zse).every(n=>n in globalThis),Be=Mst&&!Fst?zse:globalThis,cn=Mst&&!Fst?$st:globalThis.document;var dCr=Object.defineProperty,fCr=(n,e,r)=>e in n?dCr(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,hCr=(n,e,r)=>(fCr(n,typeof e!="symbol"?e+"":e,r),r),Nst=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},jd=(n,e,r)=>(Nst(n,e,"read from private field"),r?r.call(n):e.get(n)),aj=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},lj=(n,e,r,i)=>(Nst(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),Yh,h$,M_,p$;const Bst=cn.createElement("template");Bst.innerHTML=`
<style>
  :host {
    font: var(--media-font,
      var(--media-font-weight, bold)
      var(--media-font-size, 14px) /
      var(--media-text-content-height, var(--media-control-height, 24px))
      var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
    color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
    background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
    padding: var(--media-control-padding, 10px);
    display: inline-flex;
    align-items: center;
    justify-content: center;
    vertical-align: middle;
    box-sizing: border-box;
    transition: background .15s linear;
    pointer-events: auto;
    cursor: pointer;
    -webkit-tap-highlight-color: transparent;
  }

  
  :host(:focus-visible) {
    box-shadow: inset 0 0 0 2px rgb(27 127 204 / .9);
    outline: 0;
  }
  
  :host(:where(:focus)) {
    box-shadow: none;
    outline: 0;
  }

  :host(:hover) {
    background: var(--media-control-hover-background, rgba(50 50 70 / .7));
  }

  svg, img, ::slotted(svg), ::slotted(img) {
    width: var(--media-button-icon-width);
    height: var(--media-button-icon-height, var(--media-control-height, 24px));
    transform: var(--media-button-icon-transform);
    transition: var(--media-button-icon-transition);
    fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
    vertical-align: middle;
    max-width: 100%;
    max-height: 100%;
    min-width: 100%;
  }
</style>
`;class ku extends Be.HTMLElement{constructor(e={}){if(super(),aj(this,Yh,void 0),hCr(this,"preventClick",!1),aj(this,h$,i=>{this.preventClick||this.handleClick(i)}),aj(this,M_,i=>{const{key:o}=i;if(!this.keysUsed.includes(o)){this.removeEventListener("keyup",jd(this,M_));return}this.preventClick||this.handleClick(i)}),aj(this,p$,i=>{const{metaKey:o,altKey:s,key:a}=i;if(o||s||!this.keysUsed.includes(a)){this.removeEventListener("keyup",jd(this,M_));return}this.addEventListener("keyup",jd(this,M_),{once:!0})}),!this.shadowRoot){this.attachShadow({mode:"open"});const i=Bst.content.cloneNode(!0);this.nativeEl=i;let o=e.slotTemplate;o||(o=cn.createElement("template"),o.innerHTML=`<slot>${e.defaultContent||""}</slot>`),this.nativeEl.appendChild(o.content.cloneNode(!0)),this.shadowRoot.appendChild(i)}const{style:r}=ql(this.shadowRoot,":host");r.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`)}static get observedAttributes(){return["disabled",Fr.MEDIA_CONTROLLER]}enable(){this.addEventListener("click",jd(this,h$)),this.addEventListener("keydown",jd(this,p$)),this.tabIndex=0}disable(){this.removeEventListener("click",jd(this,h$)),this.removeEventListener("keydown",jd(this,p$)),this.removeEventListener("keyup",jd(this,M_)),this.tabIndex=-1}attributeChangedCallback(e,r,i){var o,s,a,l,c;e===Fr.MEDIA_CONTROLLER?(r&&((s=(o=jd(this,Yh))==null?void 0:o.unassociateElement)==null||s.call(o,this),lj(this,Yh,null)),i&&this.isConnected&&(lj(this,Yh,(a=this.getRootNode())==null?void 0:a.getElementById(i)),(c=(l=jd(this,Yh))==null?void 0:l.associateElement)==null||c.call(l,this))):e==="disabled"&&i!==r&&(i==null?this.enable():this.disable())}connectedCallback(){var e,r,i;this.hasAttribute("disabled")||this.enable(),this.setAttribute("role","button");const o=this.getAttribute(Fr.MEDIA_CONTROLLER);o&&(lj(this,Yh,(e=this.getRootNode())==null?void 0:e.getElementById(o)),(i=(r=jd(this,Yh))==null?void 0:r.associateElement)==null||i.call(r,this))}disconnectedCallback(){var e,r;this.disable(),(r=(e=jd(this,Yh))==null?void 0:e.unassociateElement)==null||r.call(e,this),lj(this,Yh,null)}get keysUsed(){return["Enter"," "]}handleClick(e){}}Yh=new WeakMap;h$=new WeakMap;M_=new WeakMap;p$=new WeakMap;Be.customElements.get("media-chrome-button")||Be.customElements.define("media-chrome-button",ku);const pCr=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M22.13 3H3.87a.87.87 0 0 0-.87.87v13.26a.87.87 0 0 0 .87.87h3.4L9 16H5V5h16v11h-4l1.72 2h3.4a.87.87 0 0 0 .87-.87V3.87a.87.87 0 0 0-.86-.87Zm-8.75 11.44a.5.5 0 0 0-.76 0l-4.91 5.73a.5.5 0 0 0 .38.83h9.82a.501.501 0 0 0 .38-.83l-4.91-5.73Z"/>
</svg>
`,Ust=cn.createElement("template");Ust.innerHTML=`
  <slot name="icon">${pCr}</slot>
`;class mCr extends ku{static get observedAttributes(){return[...super.observedAttributes,xe.MEDIA_AIRPLAY_UNAVAILABLE]}constructor(e={}){super({slotTemplate:Ust,...e})}connectedCallback(){this.setAttribute("aria-label",Sc.AIRPLAY()),super.connectedCallback()}get mediaAirplayUnavailable(){return kc(this,xe.MEDIA_AIRPLAY_UNAVAILABLE)}set mediaAirplayUnavailable(e){Tc(this,xe.MEDIA_AIRPLAY_UNAVAILABLE,e)}handleClick(){const e=new Be.CustomEvent(Yn.MEDIA_AIRPLAY_REQUEST,{composed:!0,bubbles:!0});this.dispatchEvent(e)}}Be.customElements.get("media-airplay-button")||Be.customElements.define("media-airplay-button",mCr);const gCr='<svg aria-hidden="true" viewBox="0 0 24 24"><g><path class="cast_caf_icon_arch0" d="M1,18 L1,21 L4,21 C4,19.3 2.66,18 1,18 L1,18 Z"/><path class="cast_caf_icon_arch1" d="M1,14 L1,16 C3.76,16 6,18.2 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z"/><path class="cast_caf_icon_arch2" d="M1,10 L1,12 C5.97,12 10,16.0 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z"/><path class="cast_caf_icon_box" d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z"/></g></svg>',vCr='<svg aria-hidden="true" viewBox="0 0 24 24"><g><path class="cast_caf_icon_arch0" d="M1,18 L1,21 L4,21 C4,19.3 2.66,18 1,18 L1,18 Z"/><path class="cast_caf_icon_arch1" d="M1,14 L1,16 C3.76,16 6,18.2 6,21 L8,21 C8,17.13 4.87,14 1,14 L1,14 Z"/><path class="cast_caf_icon_arch2" d="M1,10 L1,12 C5.97,12 10,16.0 10,21 L12,21 C12,14.92 7.07,10 1,10 L1,10 Z"/><path class="cast_caf_icon_box" d="M21,3 L3,3 C1.9,3 1,3.9 1,5 L1,8 L3,8 L3,5 L21,5 L21,19 L14,19 L14,21 L21,21 C22.1,21 23,20.1 23,19 L23,5 C23,3.9 22.1,3 21,3 L21,3 Z"/><path class="cast_caf_icon_boxfill" d="M5,7 L5,8.63 C8,8.6 13.37,14 13.37,17 L19,17 L19,7 Z"/></g></svg>',zst=cn.createElement("template");zst.innerHTML=`
  <style>
  :host([${xe.MEDIA_IS_CASTING}]) slot:not([name=exit]):not([name=icon]) {
    display: none !important;
  }

  
  :host(:not([${xe.MEDIA_IS_CASTING}])) slot:not([name=enter]):not([name=icon]) {
    display: none !important;
  }
  </style>

  <slot name="icon">
    <slot name="enter">${gCr}</slot>
    <slot name="exit">${vCr}</slot>
  </slot>
`;const wMe=n=>{const r=n.getAttribute(xe.MEDIA_IS_CASTING)!=null?Sc.EXIT_CAST():Sc.ENTER_CAST();n.setAttribute("aria-label",r)};class yCr extends ku{static get observedAttributes(){return[...super.observedAttributes,xe.MEDIA_IS_CASTING,xe.MEDIA_CAST_UNAVAILABLE]}constructor(e={}){super({slotTemplate:zst,...e})}connectedCallback(){wMe(this),super.connectedCallback()}attributeChangedCallback(e,r,i){e===xe.MEDIA_IS_CASTING&&wMe(this),super.attributeChangedCallback(e,r,i)}get mediaIsCasting(){return ml(this,xe.MEDIA_IS_CASTING)}set mediaIsCasting(e){gl(this,xe.MEDIA_IS_CASTING,e)}get mediaCastUnavailable(){return kc(this,xe.MEDIA_CAST_UNAVAILABLE)}set mediaCastUnavailable(e){Tc(this,xe.MEDIA_CAST_UNAVAILABLE,e)}handleClick(){const e=this.mediaIsCasting?Yn.MEDIA_EXIT_CAST_REQUEST:Yn.MEDIA_ENTER_CAST_REQUEST;this.dispatchEvent(new Be.CustomEvent(e,{composed:!0,bubbles:!0}))}}Be.customElements.get("media-cast-button")||Be.customElements.define("media-cast-button",yCr);var Vst=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},Pv=(n,e,r)=>(Vst(n,e,"read from private field"),r?r.call(n):e.get(n)),bCr=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},cj=(n,e,r,i)=>(Vst(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),Qc;const Hst=cn.createElement("template");Hst.innerHTML=`
<style>
  :host {
    display: var(--media-control-display, var(--media-gesture-receiver-display, inline-block));
    box-sizing: border-box;
  }
</style>
`;class xCr extends Be.HTMLElement{constructor(e={}){if(super(),bCr(this,Qc,void 0),!this.shadowRoot){const r=this.attachShadow({mode:"open"}),i=Hst.content.cloneNode(!0);this.nativeEl=i;let o=e.slotTemplate;o||(o=cn.createElement("template"),o.innerHTML=`<slot>${e.defaultContent||""}</slot>`),this.nativeEl.appendChild(o.content.cloneNode(!0)),r.appendChild(i)}}static get observedAttributes(){return[Fr.MEDIA_CONTROLLER,xe.MEDIA_PAUSED]}attributeChangedCallback(e,r,i){var o,s,a,l,c;e===Fr.MEDIA_CONTROLLER&&(r&&((s=(o=Pv(this,Qc))==null?void 0:o.unassociateElement)==null||s.call(o,this),cj(this,Qc,null)),i&&this.isConnected&&(cj(this,Qc,(a=this.getRootNode())==null?void 0:a.getElementById(i)),(c=(l=Pv(this,Qc))==null?void 0:l.associateElement)==null||c.call(l,this)))}connectedCallback(){var e,r,i,o;this.tabIndex=-1,this.setAttribute("aria-hidden","true"),cj(this,Qc,wCr(this)),this.getAttribute(Fr.MEDIA_CONTROLLER)&&((r=(e=Pv(this,Qc))==null?void 0:e.associateElement)==null||r.call(e,this)),(i=Pv(this,Qc))==null||i.addEventListener("pointerdown",this),(o=Pv(this,Qc))==null||o.addEventListener("click",this)}disconnectedCallback(){var e,r,i,o;this.getAttribute(Fr.MEDIA_CONTROLLER)&&((r=(e=Pv(this,Qc))==null?void 0:e.unassociateElement)==null||r.call(e,this)),(i=Pv(this,Qc))==null||i.removeEventListener("pointerdown",this),(o=Pv(this,Qc))==null||o.removeEventListener("click",this),cj(this,Qc,null)}handleEvent(e){var r;const i=(r=e.composedPath())==null?void 0:r[0];if(["video","media-controller"].includes(i==null?void 0:i.localName)){if(e.type==="pointerdown")this._pointerType=e.pointerType;else if(e.type==="click"){const{clientX:s,clientY:a}=e,{left:l,top:c,width:u,height:f}=this.getBoundingClientRect(),h=s-l,m=a-c;if(h<0||m<0||h>u||m>f||u===0&&f===0)return;const{pointerType:g=this._pointerType}=e;if(this._pointerType=void 0,g===yMe.TOUCH){this.handleTap(e);return}else if(g===yMe.MOUSE){this.handleMouseClick(e);return}}}}get mediaPaused(){return ml(this,xe.MEDIA_PAUSED)}set mediaPaused(e){gl(this,xe.MEDIA_PAUSED,e)}handleTap(e){}handleMouseClick(e){const r=this.mediaPaused?Yn.MEDIA_PLAY_REQUEST:Yn.MEDIA_PAUSE_REQUEST;this.dispatchEvent(new Be.CustomEvent(r,{composed:!0,bubbles:!0}))}}Qc=new WeakMap;function wCr(n){var e;const r=n.getAttribute(Fr.MEDIA_CONTROLLER);return r?(e=n.getRootNode())==null?void 0:e.getElementById(r):pR(n,"media-controller")}Be.customElements.get("media-gesture-receiver")||Be.customElements.define("media-gesture-receiver",xCr);const _Me=new WeakMap,Vse=n=>{let e=_Me.get(n);return e||_Me.set(n,e=new Set),e},Wst=new Be.ResizeObserver(n=>{for(let e of n)for(let r of Vse(e.target))r(e)});function Hse(n,e){Vse(n).add(e),Wst.observe(n)}function Gst(n,e){const r=Vse(n);r.delete(e),r.size||Wst.unobserve(n)}var _Cr=Object.defineProperty,ECr=(n,e,r)=>e in n?_Cr(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,CCr=(n,e,r)=>(ECr(n,typeof e!="symbol"?e+"":e,r),r),Wse=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},OT=(n,e,r)=>(Wse(n,e,"read from private field"),r?r.call(n):e.get(n)),T1=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},FH=(n,e,r,i)=>(Wse(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),oh=(n,e,r)=>(Wse(n,e,"access private method"),r),u4,Gv,MZ,qst,FZ,Kst,gI,YB,ZB,Gse,lS,vI;const Ci={AUDIO:"audio",AUTOHIDE:"autohide",BREAKPOINTS:"breakpoints",GESTURES_DISABLED:"gesturesdisabled",KEYBOARD_CONTROL:"keyboardcontrol",NO_AUTOHIDE:"noautohide",USER_INACTIVE:"userinactive"},Yst=cn.createElement("template");Yst.innerHTML=`
  <style>
    
    :host([${xe.MEDIA_IS_FULLSCREEN}]) ::slotted([slot=media]) {
      outline: none;
    }

    :host {
      box-sizing: border-box;
      position: relative;
      display: inline-block;
      line-height: 0;
      background-color: var(--media-background-color, #000);
    }

    :host(:not([${Ci.AUDIO}])) [part~=layer]:not([part~=media-layer]) {
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      right: 0;
      display: flex;
      flex-flow: column nowrap;
      align-items: start;
      pointer-events: none;
      background: none;
    }

    slot[name=media] {
      display: var(--media-slot-display, contents);
    }

    
    :host([${Ci.AUDIO}]) slot[name=media] {
      display: var(--media-slot-display, none);
    }

    
    :host([${Ci.AUDIO}]) [part~=layer][part~=gesture-layer] {
      height: 0;
      display: block;
    }

    
    :host(:not([${Ci.AUDIO}])[${Ci.GESTURES_DISABLED}]) ::slotted([slot=gestures-chrome]),
    :host(:not([${Ci.AUDIO}])[${Ci.GESTURES_DISABLED}]) media-gesture-receiver[slot=gestures-chrome] {
      display: none;
    }

    
    ::slotted(:not([slot=media]):not([slot=poster]):not(media-loading-indicator)) {
      pointer-events: auto;
    }

    :host(:not([${Ci.AUDIO}])) *[part~=layer][part~=centered-layer] {
      align-items: center;
      justify-content: center;
    }

    :host(:not([${Ci.AUDIO}])) ::slotted(media-gesture-receiver[slot=gestures-chrome]),
    :host(:not([${Ci.AUDIO}])) media-gesture-receiver[slot=gestures-chrome] {
      align-self: stretch;
      flex-grow: 1;
    }

    slot[name=middle-chrome] {
      display: inline;
      flex-grow: 1;
      pointer-events: none;
      background: none;
    }

    
    ::slotted([slot=media]),
    ::slotted([slot=poster]) {
      width: 100%;
      height: 100%;
    }

    
    :host(:not([${Ci.AUDIO}])) .spacer {
      flex-grow: 1;
    }

    
    :host(:-webkit-full-screen) {
      
      width: 100% !important;
      height: 100% !important;
    }

    
    ::slotted(:not([slot=media]):not([${Ci.NO_AUTOHIDE}])) {
      opacity: 1;
      transition: opacity 0.25s;
    }

    
    :host([${Ci.USER_INACTIVE}]:not([${xe.MEDIA_PAUSED}]):not([${xe.MEDIA_IS_CASTING}]):not([${Ci.AUDIO}])) ::slotted(:not([slot=media]):not([${Ci.NO_AUTOHIDE}])) {
      opacity: 0;
      transition: opacity 1s;
    }

    :host([${Ci.USER_INACTIVE}]:not([${xe.MEDIA_PAUSED}]):not([${xe.MEDIA_IS_CASTING}]):not([${Ci.AUDIO}])) ::slotted([slot=media]) {
      cursor: none;
    }

    ::slotted(media-control-bar)  {
      align-self: stretch;
    }

    
    :host(:not([${Ci.AUDIO}])[${xe.MEDIA_HAS_PLAYED}]) slot[name=poster] {
      display: none;
    }
  </style>

  <slot name="media" part="layer media-layer"></slot>
  <slot name="poster" part="layer poster-layer"></slot>
  <slot name="gestures-chrome" part="layer gesture-layer">
    <media-gesture-receiver slot="gestures-chrome"></media-gesture-receiver>
  </slot>
  <span part="layer vertical-layer">
    <slot name="top-chrome" part="top chrome"></slot>
    <slot name="middle-chrome" part="middle chrome"></slot>
    <slot name="centered-chrome" part="layer centered-layer center centered chrome"></slot>
    
    <slot part="bottom chrome"></slot>
  </span>
`;const SCr=Object.values(xe),kCr="sm:384 md:576 lg:768 xl:960";function TCr(n){ACr(n.target,n.contentRect.width)}function ACr(n,e){var r;if(!n.isConnected)return;const i=(r=n.getAttribute(Ci.BREAKPOINTS))!=null?r:kCr,o=ICr(i),s=DCr(o,e);let a=!1;if(Object.keys(o).forEach(l=>{if(s.includes(l)){n.hasAttribute(`breakpoint${l}`)||(n.setAttribute(`breakpoint${l}`,""),a=!0);return}n.hasAttribute(`breakpoint${l}`)&&(n.removeAttribute(`breakpoint${l}`),a=!0)}),a){const l=new CustomEvent(kw.BREAKPOINTS_CHANGE,{detail:s});n.dispatchEvent(l)}}function ICr(n){const e=n.split(/\s+/);return Object.fromEntries(e.map(r=>r.split(":")))}function DCr(n,e){return Object.keys(n).filter(r=>e>=n[r])}class RCr extends Be.HTMLElement{constructor(){super(),T1(this,MZ),T1(this,FZ),T1(this,gI),T1(this,ZB),T1(this,lS),T1(this,u4,0),T1(this,Gv,void 0),CCr(this,"breakpointsComputed",!1),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(Yst.content.cloneNode(!0)));const e=a=>{const l=this.media;for(let c of a)c.type==="childList"&&(c.removedNodes.forEach(u=>{if(u.slot=="media"&&c.target==this){let f=c.previousSibling&&c.previousSibling.previousElementSibling;if(!f||!l)this.mediaUnsetCallback(u);else{let h=f.slot!=="media";for(;(f=f.previousSibling)!==null;)f.slot=="media"&&(h=!1);h&&this.mediaUnsetCallback(u)}}}),l&&c.addedNodes.forEach(u=>{u===l&&l!==OT(this,Gv)&&this.handleMediaUpdated(l).then(f=>this.mediaSetCallback(f))}))};new MutationObserver(e).observe(this,{childList:!0,subtree:!0});let i=!1;Hse(this,a=>{i||(setTimeout(()=>{TCr(a),i=!1,this.breakpointsComputed||(this.breakpointsComputed=!0,this.dispatchEvent(new CustomEvent(kw.BREAKPOINTS_COMPUTED,{bubbles:!0,composed:!0})))},0),i=!0)});let s=this.querySelector(":scope > slot[slot=media]");s&&s.addEventListener("slotchange",()=>{if(!s.assignedElements({flatten:!0}).length){this.mediaUnsetCallback(OT(this,Gv));return}this.media&&this.media!==OT(this,Gv)&&this.handleMediaUpdated(this.media).then(l=>this.mediaSetCallback(l))})}static get observedAttributes(){return[Ci.AUTOHIDE,Ci.GESTURES_DISABLED].concat(SCr).filter(e=>![xe.MEDIA_RENDITION_LIST,xe.MEDIA_AUDIO_TRACK_LIST].includes(e))}attributeChangedCallback(e,r,i){e.toLowerCase()==Ci.AUTOHIDE&&(this.autohide=i)}get media(){let e=this.querySelector(":scope > [slot=media]");return(e==null?void 0:e.nodeName)=="SLOT"&&(e=e.assignedElements({flatten:!0})[0]),e}async handleMediaUpdated(e){FH(this,Gv,e);const r=i=>(FH(this,Gv,null),console.error('Media Chrome: Media element set with slot="media" does not appear to be compatible.',i),Promise.reject(i));return e?(e.localName.includes("-")&&await Be.customElements.whenDefined(e.localName),e):r(e)}connectedCallback(){var e;const i=this.getAttribute(Ci.AUDIO)!=null?Cy.AUDIO_PLAYER():Cy.VIDEO_PLAYER();this.setAttribute("role","region"),this.setAttribute("aria-label",i),this.media&&this.media!==OT(this,Gv)&&this.handleMediaUpdated(this.media).then(o=>this.mediaSetCallback(o)),this.setAttribute(Ci.USER_INACTIVE,""),this.addEventListener("pointerdown",this),this.addEventListener("pointermove",this),this.addEventListener("pointerup",this),this.addEventListener("mouseleave",this),this.addEventListener("keyup",this),(e=Be.window)==null||e.addEventListener("mouseup",this)}disconnectedCallback(){var e;this.media&&this.mediaUnsetCallback(this.media),(e=Be.window)==null||e.removeEventListener("mouseup",this)}mediaSetCallback(e){}mediaUnsetCallback(e){}handleEvent(e){switch(e.type){case"pointerdown":FH(this,u4,e.timeStamp);break;case"pointermove":oh(this,MZ,qst).call(this,e);break;case"pointerup":oh(this,FZ,Kst).call(this,e);break;case"mouseleave":oh(this,gI,YB).call(this);break;case"mouseup":this.removeAttribute(Ci.KEYBOARD_CONTROL);break;case"keyup":oh(this,lS,vI).call(this),this.setAttribute(Ci.KEYBOARD_CONTROL,"");break}}set autohide(e){e=Number(e),this._autohide=isNaN(e)?0:e}get autohide(){return this._autohide===void 0?2:this._autohide}}u4=new WeakMap;Gv=new WeakMap;MZ=new WeakSet;qst=function(n){n.pointerType!=="mouse"&&n.timeStamp-OT(this,u4)<250||(oh(this,ZB,Gse).call(this),clearTimeout(this._inactiveTimeout),[this,this.media].includes(n.target)&&oh(this,lS,vI).call(this))};FZ=new WeakSet;Kst=function(n){if(n.pointerType==="touch"){const e=!this.hasAttribute(Ci.USER_INACTIVE);[this,this.media].includes(n.target)&&e?oh(this,gI,YB).call(this):oh(this,lS,vI).call(this)}else n.composedPath().some(e=>["media-play-button","media-fullscreen-button"].includes(e==null?void 0:e.localName))&&oh(this,lS,vI).call(this)};gI=new WeakSet;YB=function(){if(this.autohide<0||this.hasAttribute(Ci.USER_INACTIVE))return;this.setAttribute(Ci.USER_INACTIVE,"");const n=new Be.CustomEvent(kw.USER_INACTIVE,{composed:!0,bubbles:!0,detail:!0});this.dispatchEvent(n)};ZB=new WeakSet;Gse=function(){if(!this.hasAttribute(Ci.USER_INACTIVE))return;this.removeAttribute(Ci.USER_INACTIVE);const n=new Be.CustomEvent(kw.USER_INACTIVE,{composed:!0,bubbles:!0,detail:!1});this.dispatchEvent(n)};lS=new WeakSet;vI=function(){oh(this,ZB,Gse).call(this),clearTimeout(this._inactiveTimeout),!(this.autohide<0)&&(this._inactiveTimeout=setTimeout(()=>{oh(this,gI,YB).call(this)},this.autohide*1e3))};var Zst=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},Fa=(n,e,r)=>(Zst(n,e,"read from private field"),r?r.call(n):e.get(n)),Hk=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},uj=(n,e,r,i)=>(Zst(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),F_,N_,d4,jb,Vm,qv;class qse{constructor(e,r,{defaultValue:i}={defaultValue:void 0}){Hk(this,Vm),Hk(this,F_,void 0),Hk(this,N_,void 0),Hk(this,d4,void 0),Hk(this,jb,new Set),uj(this,F_,e),uj(this,N_,r),uj(this,d4,new Set(i))}[Symbol.iterator](){return Fa(this,Vm,qv).values()}get length(){return Fa(this,Vm,qv).size}get value(){var e;return(e=[...Fa(this,Vm,qv)].join(" "))!=null?e:""}set value(e){var r;e!==this.value&&(uj(this,jb,new Set),this.add(...(r=e==null?void 0:e.split(" "))!=null?r:[]))}toString(){return this.value}item(e){return[...Fa(this,Vm,qv)][e]}values(){return Fa(this,Vm,qv).values()}forEach(e){Fa(this,Vm,qv).forEach(e)}add(...e){var r,i;e.forEach(o=>Fa(this,jb).add(o)),!(this.value===""&&!((r=Fa(this,F_))!=null&&r.hasAttribute(`${Fa(this,N_)}`)))&&((i=Fa(this,F_))==null||i.setAttribute(`${Fa(this,N_)}`,`${this.value}`))}remove(...e){var r;e.forEach(i=>Fa(this,jb).delete(i)),(r=Fa(this,F_))==null||r.setAttribute(`${Fa(this,N_)}`,`${this.value}`)}contains(e){return Fa(this,Vm,qv).has(e)}toggle(e,r){return typeof r<"u"?r?(this.add(e),!0):(this.remove(e),!1):this.contains(e)?(this.remove(e),!1):(this.add(e),!0)}replace(e,r){return this.remove(e),this.add(r),e===r}}F_=new WeakMap;N_=new WeakMap;d4=new WeakMap;jb=new WeakMap;Vm=new WeakSet;qv=function(){return Fa(this,jb).size?Fa(this,jb):Fa(this,d4)};const OCr=(n="")=>n.split(/\s+/),Xst=(n="")=>{let[e,r,i]=n.split(":");const o=i?decodeURIComponent(i):void 0;return e=e==="cc"?"captions":"subtitles",{kind:e,language:r,label:o}},Kse=(n="",e={})=>OCr(n).map(r=>{const i=Xst(r);return{...e,...i}}),Qst=n=>Array.isArray(n)?n.map(e=>typeof e=="string"?Xst(e):e):typeof n=="string"?Kse(n):[n],NZ=({kind:n,label:e,language:r}={kind:"subtitles"})=>e?`${n==="captions"?"cc":"sb"}:${r}:${encodeURIComponent(e)}`:r,f4=(n=[])=>Array.prototype.map.call(n,NZ).join(" "),PCr=(n,e)=>r=>r[n]===e,Jst=n=>{const e=Object.entries(n).map(([r,i])=>PCr(r,i));return r=>e.every(i=>i(r))},dj=(n,e=[],r=[])=>{const i=Qst(r).map(Jst),o=s=>i.some(a=>a(s));Array.from(e).filter(o).forEach(s=>{s.mode=n})},Yse=(n,e=()=>!0)=>{if(!(n!=null&&n.textTracks))return[];const r=typeof e=="function"?e:Jst(e);return Array.from(n.textTracks).filter(r)},jCr=n=>!!n.getAttribute(xe.MEDIA_SUBTITLES_SHOWING),ea={enter:"requestFullscreen",exit:"exitFullscreen",rootEvents:["fullscreenchange"],mediaEvents:[],element:"fullscreenElement",error:"fullscreenerror",enabled:"fullscreenEnabled"};cn.fullscreenElement===void 0&&(ea.enter="webkitRequestFullScreen",ea.exit=cn.webkitExitFullscreen!=null?"webkitExitFullscreen":"webkitCancelFullScreen",ea.rootEvents=["webkitfullscreenchange"],ea.mediaEvents=["webkitbeginfullscreen","webkitendfullscreen"],ea.element="webkitFullscreenElement",ea.error="webkitfullscreenerror",ea.enabled="webkitFullscreenEnabled");let fj;const Zse=()=>{var n,e;return fj||(fj=(e=(n=cn)==null?void 0:n.createElement)==null?void 0:e.call(n,"video"),fj)},LCr=async(n=Zse())=>{if(!n)return!1;const e=n.volume;return n.volume=e/2+.1,await Ost(0),n.volume!==e},$Cr=(n=Zse())=>typeof(n==null?void 0:n.requestPictureInPicture)=="function",MCr=(n=Zse())=>{let e=cn[ea.enabled];return!e&&n&&(e="webkitSupportsFullscreen"in n),e},eat=MCr(),FCr=$Cr(),NCr=!!Be.WebKitPlaybackTargetAvailabilityEvent,BCr=!!Be.chrome;let h4;const UCr=LCr().then(n=>(h4=n,h4)),zCr=Object.values(lp),m$=n=>Yse(n.media,e=>[mI.SUBTITLES,mI.CAPTIONS].includes(e.kind)).sort((e,r)=>e.kind>=r.kind?1:-1),tat=n=>Yse(n.media,e=>e.mode===RT.SHOWING&&[mI.SUBTITLES,mI.CAPTIONS].includes(e.kind)),zu={MEDIA_PAUSED:{get:function(n){const{media:e}=n;return e?e.paused:!0},mediaEvents:["play","playing","pause","emptied"]},MEDIA_HAS_PLAYED:{get:function(n){const{media:e}=n;return e?!e.paused:!1},mediaEvents:["playing","emptied"]},MEDIA_ENDED:{get:function(n){const{media:e}=n;return e?e.ended:!1},mediaEvents:["seeked","ended","emptied"]},MEDIA_PLAYBACK_RATE:{get:function(n){const{media:e}=n;return!e||typeof e.playbackRate>"u"?1:e.playbackRate},mediaEvents:["ratechange","loadstart"]},MEDIA_MUTED:{get:function(n){const{media:e}=n;return!e||typeof e.muted>"u"?!1:e.muted},mediaEvents:["volumechange"]},MEDIA_VOLUME:{get:function(n){const{media:e}=n;return!e||typeof e.volume>"u"?1:Number(e.volume)},mediaEvents:["volumechange"]},MEDIA_VOLUME_LEVEL:{get:function(n){const{media:e}=n;let r="high";if(!e||typeof e.volume>"u")return r;const{muted:i,volume:o}=e;return o===0||i?r="off":o<.5?r="low":o<.75&&(r="medium"),r},mediaEvents:["volumechange"]},MEDIA_CURRENT_TIME:{get:function(n){const{media:e}=n;return!e||typeof e.currentTime>"u"?0:e.currentTime},mediaEvents:["playing","pause","timeupdate","loadedmetadata"]},MEDIA_DURATION:{get:function(n){const{media:e}=n;return n.hasAttribute("defaultduration")&&(!e||!e.duration||Number.isNaN(e.duration)||!Number.isFinite(e.duration))?+n.getAttribute("defaultduration"):!e||!Number.isFinite(e.duration)?Number.NaN:e.duration},mediaEvents:["durationchange","loadedmetadata","emptied"]},MEDIA_SEEKABLE:{get:function(n){var e;const{media:r}=n;if(!((e=r==null?void 0:r.seekable)!=null&&e.length))return;const i=r.seekable.start(0),o=r.seekable.end(r.seekable.length-1);if(!(!i&&!o))return[Number(i.toFixed(3)),Number(o.toFixed(3))]},mediaEvents:["loadedmetadata","emptied","progress"]},MEDIA_LOADING:{get:function(n){var e;return((e=n.media)==null?void 0:e.readyState)<3},mediaEvents:["waiting","playing","emptied"]},MEDIA_BUFFERED:{get:function(n){var e,r,i;const o=(e=n.media)==null?void 0:e.buffered;return Array.from((i=(r=n.media)==null?void 0:r.buffered)!=null?i:[]).map((s,a)=>[Number(o.start(a)).toFixed(3),Number(o.end(a)).toFixed(3)])},mediaEvents:["progress","emptied"]},MEDIA_STREAM_TYPE:{get:function(n){const{media:e}=n;if(!e)return;const{streamType:r}=e;if(zCr.includes(r)){if(r===lp.UNKNOWN){const o=n.getAttribute("defaultstreamtype");return[lp.LIVE,lp.ON_DEMAND].includes(o)?o:void 0}return r}const i=e.duration;if(i===1/0)return lp.LIVE;if(Number.isFinite(i))return lp.ON_DEMAND;{const o=n.getAttribute("defaultstreamtype");if([lp.LIVE,lp.ON_DEMAND].includes(o))return o}},mediaEvents:["emptied","durationchange","loadedmetadata","streamtypechange"]},MEDIA_TARGET_LIVE_WINDOW:{get:function(n){const{media:e}=n;if(!e)return Number.NaN;const{targetLiveWindow:r}=e,i=zu.MEDIA_STREAM_TYPE.get(n);return(r==null||Number.isNaN(r))&&i===lp.LIVE?0:r},mediaEvents:["emptied","durationchange","loadedmetadata","streamtypechange","targetlivewindowchange"]},MEDIA_TIME_IS_LIVE:{get:function(n){const{media:e}=n;if(!e)return!1;if(typeof e.liveEdgeStart=="number")return Number.isNaN(e.liveEdgeStart)?!1:e.currentTime>=e.liveEdgeStart;if(!(zu.MEDIA_STREAM_TYPE.get(n)==="live"))return!1;const i=e.seekable;if(!i)return!0;if(!i.length)return!1;const o=n.hasAttribute("liveedgeoffset")?Number(n.getAttribute("liveedgeoffset")):10,s=i.end(i.length-1)-o;return e.currentTime>=s},mediaEvents:["playing","timeupdate","progress","waiting","emptied"]},MEDIA_IS_FULLSCREEN:{get:function(n,e){var r,i;const o=n.media;if(o&&cn[ea.element]===void 0&&"webkitDisplayingFullscreen"in o)return o.webkitDisplayingFullscreen&&o.webkitPresentationMode==="fullscreen";let s;return e?s=cn[ea.element]?e.target:null:s=(i=(r=aCr(n))==null?void 0:r.fullscreenElement)!=null?i:cn[ea.element],hC(n.fullscreenElement,s)},rootEvents:ea.rootEvents,mediaEvents:ea.mediaEvents},MEDIA_IS_PIP:{get:function(n,e){var r;const i=n.media;if(!i)return!1;if(e)return e.type=="enterpictureinpicture";{const o=(r=n.getRootNode().pictureInPictureElement)!=null?r:cn.pictureInPictureElement;return hC(i,o)}},mediaEvents:["enterpictureinpicture","leavepictureinpicture"]},MEDIA_IS_CASTING:{get:function(n,e){var r;const{media:i}=n;if(!i)return!1;const o=(r=Be.CastableVideoElement)==null?void 0:r.castElement;let s=hC(i,o);return(e==null?void 0:e.type)==="castchange"&&(e==null?void 0:e.detail)==="CONNECTING"&&(s="connecting"),s},mediaEvents:["entercast","leavecast","castchange"]},MEDIA_AIRPLAY_UNAVAILABLE:{get:function(n,e){if(!NCr)return Pd.UNSUPPORTED;if(e&&e.availability!=="available"&&e.availability==="not-available")return Pd.UNAVAILABLE},mediaEvents:["webkitplaybacktargetavailabilitychanged"]},MEDIA_CAST_UNAVAILABLE:{get:function(){var n;const e=(n=Be.CastableVideoElement)==null?void 0:n.castState;if(!BCr||!e)return Pd.UNSUPPORTED;if(!e.includes("CONNECT"))return Pd.UNAVAILABLE},mediaEvents:["castchange"]},MEDIA_FULLSCREEN_UNAVAILABLE:{get:function(){return eat?void 0:Pd.UNAVAILABLE}},MEDIA_PIP_UNAVAILABLE:{get:function(){return FCr?void 0:Pd.UNSUPPORTED}},MEDIA_RENDITION_UNAVAILABLE:{get:function(n){var e;const{media:r}=n;if(!(r!=null&&r.videoRenditions))return Pd.UNSUPPORTED;if(!((e=r.videoRenditions)!=null&&e.length))return Pd.UNAVAILABLE},mediaEvents:["emptied","loadstart"],videoRenditionsEvents:["addrendition","removerendition"]},MEDIA_AUDIO_TRACK_UNAVAILABLE:{get:function(n){var e,r;const{media:i}=n;if(!(i!=null&&i.audioTracks))return Pd.UNSUPPORTED;if(((r=(e=i.audioTracks)==null?void 0:e.length)!=null?r:0)<=1)return Pd.UNAVAILABLE},mediaEvents:["emptied","loadstart"],audioTracksEvents:["addtrack","removetrack"]},MEDIA_VOLUME_UNAVAILABLE:{get:function(n){if(h4!==void 0&&!h4)return Pd.UNSUPPORTED;const{media:e}=n;if(e&&typeof e.volume>"u")return Pd.UNAVAILABLE},mediaEvents:["loadstart"]},MEDIA_SUBTITLES_LIST:{get:function(n){return m$(n).map(({kind:e,label:r,language:i})=>({kind:e,label:r,language:i}))},mediaEvents:["loadstart"],textTracksEvents:["addtrack","removetrack"]},MEDIA_SUBTITLES_SHOWING:{get:function(n){return n.hasAttribute("defaultsubtitles")&&!n.hasAttribute(xe.MEDIA_HAS_PLAYED)&&!n.hasAttribute(xe.MEDIA_SUBTITLES_SHOWING)&&p4.MEDIA_TOGGLE_SUBTITLES_REQUEST(void 0,void 0,n),tat(n).map(({kind:e,label:r,language:i})=>({kind:e,label:r,language:i}))},mediaEvents:["loadstart"],textTracksEvents:["addtrack","removetrack","change"]},MEDIA_RENDITION_LIST:{get:function(n){var e;const{media:r}=n;return[...(e=r==null?void 0:r.videoRenditions)!=null?e:[]]},mediaEvents:["emptied","loadstart"],videoRenditionsEvents:["addrendition","removerendition"]},MEDIA_RENDITION_SELECTED:{get:function(n){var e,r,i;const{media:o}=n;return(i=(r=o==null?void 0:o.videoRenditions)==null?void 0:r[(e=o.videoRenditions)==null?void 0:e.selectedIndex])==null?void 0:i.id},mediaEvents:["emptied"],videoRenditionsEvents:["addrendition","removerendition","change"]},MEDIA_AUDIO_TRACK_LIST:{get:function(n){var e;const{media:r}=n;return[...(e=r==null?void 0:r.audioTracks)!=null?e:[]]},mediaEvents:["emptied","loadstart"],audioTracksEvents:["addtrack","removetrack"]},MEDIA_AUDIO_TRACK_ENABLED:{get:function(n){var e,r;const{media:i}=n;return(r=[...(e=i==null?void 0:i.audioTracks)!=null?e:[]].find(o=>o.enabled))==null?void 0:r.id},mediaEvents:["emptied"],audioTracksEvents:["addtrack","removetrack","change"]}},p4={MEDIA_PLAY_REQUEST:(n,e,r)=>{var i;const o=zu.MEDIA_STREAM_TYPE.get(r),s=r.getAttribute("noautoseektolive")===null;o==lp.LIVE&&s&&p4.MEDIA_SEEK_TO_LIVE_REQUEST(n),(i=n.play())==null||i.catch(()=>{})},MEDIA_PAUSE_REQUEST:n=>n.pause(),MEDIA_MUTE_REQUEST:n=>n.muted=!0,MEDIA_UNMUTE_REQUEST:n=>{n.muted=!1,n.volume===0&&(n.volume=.25)},MEDIA_VOLUME_REQUEST:(n,e,r)=>{const i=e.detail;if(n.volume=i,i>0&&n.muted&&(n.muted=!1),!r.hasAttribute("novolumepref"))try{Be.localStorage.setItem("media-chrome-pref-volume",i.toString())}catch{}},MEDIA_ENTER_FULLSCREEN_REQUEST:(n,e,r)=>{if(!eat){console.warn("Fullscreen support is unavailable; not entering fullscreen");return}cn.pictureInPictureElement&&cn.exitPictureInPicture(),r[ea.enter]?r.fullscreenElement[ea.enter]():n.webkitEnterFullscreen?n.webkitEnterFullscreen():n.requestFullscreen?n.requestFullscreen():console.warn("MediaChrome: Fullscreen not supported")},MEDIA_EXIT_FULLSCREEN_REQUEST:()=>{cn[ea.exit]()},MEDIA_ENTER_PIP_REQUEST:n=>{if(!cn.pictureInPictureEnabled){console.warn("MediaChrome: Picture-in-picture is not enabled");return}if(!n.requestPictureInPicture){console.warn("MediaChrome: The current media does not support picture-in-picture");return}cn[ea.element]&&cn[ea.exit]();const e=()=>{console.warn("MediaChrome: The media is not ready for picture-in-picture. It must have a readyState > 0.")};n.requestPictureInPicture().catch(r=>{if(r.code===11)if(n.readyState===0&&n.preload==="none"){const i=()=>{n.removeEventListener("loadedmetadata",o),n.preload="none"},o=()=>{n.requestPictureInPicture().catch(e),i()};n.addEventListener("loadedmetadata",o),n.preload="metadata",setTimeout(()=>{n.readyState===0&&e(),i()},1e3)}else throw r;else throw r})},MEDIA_EXIT_PIP_REQUEST:()=>{cn.pictureInPictureElement&&cn.exitPictureInPicture()},MEDIA_ENTER_CAST_REQUEST:n=>{var e;(e=Be.CastableVideoElement)!=null&&e.castEnabled&&(cn[ea.element]&&cn[ea.exit](),n.requestCast())},MEDIA_EXIT_CAST_REQUEST:async()=>{var n;(n=Be.CastableVideoElement)!=null&&n.castElement&&Be.CastableVideoElement.exitCast()},MEDIA_SEEK_REQUEST:(n,e)=>{const r=e.detail;(n.readyState>0||n.readyState===void 0)&&(n.currentTime=r)},MEDIA_PLAYBACK_RATE_REQUEST:(n,e)=>{n.playbackRate=e.detail},MEDIA_PREVIEW_REQUEST:(n,e,r)=>{var i;if(!n)return;const o=e.detail;o===null&&r.propagateMediaState(xe.MEDIA_PREVIEW_TIME,void 0),r.propagateMediaState(xe.MEDIA_PREVIEW_TIME,o);const[s]=Yse(n,{kind:mI.METADATA,label:"thumbnails"});if(!(s&&s.cues))return;if(o===null){r.propagateMediaState(xe.MEDIA_PREVIEW_IMAGE,void 0),r.propagateMediaState(xe.MEDIA_PREVIEW_COORDS,void 0);return}const a=Array.prototype.find.call(s.cues,f=>f.startTime>=o);if(!a)return;const l=/'^(?:[a-z]+:)?\/\//i.test(a.text)||(i=n.querySelector('track[label="thumbnails"]'))==null?void 0:i.src,c=new URL(a.text,l),u=new URLSearchParams(c.hash).get("#xywh");r.propagateMediaState(xe.MEDIA_PREVIEW_IMAGE,c.href),r.propagateMediaState(xe.MEDIA_PREVIEW_COORDS,u.split(","))},MEDIA_SHOW_SUBTITLES_REQUEST:(n,e,r)=>{var i;const o=m$(r),{detail:s=[]}=e,a=Qst(s),l=(i=a[0])==null?void 0:i.language;l&&!(r!=null&&r.hasAttribute("nosubtitleslangpref"))&&Be.localStorage.setItem("media-chrome-pref-subtitles-lang",l),dj(RT.SHOWING,o,a)},MEDIA_DISABLE_SUBTITLES_REQUEST:(n,e,r)=>{const i=m$(r),{detail:o=[]}=e;dj(RT.DISABLED,i,o)},MEDIA_TOGGLE_SUBTITLES_REQUEST:(n,e,r)=>{const{detail:i}=e??{},o=m$(r),s=tat(r),a=!!s.length;if(!(!o.length||a&&i||!a&&i===!1))if(a)dj(RT.DISABLED,o,s);else{let l=o[0];if(!(r!=null&&r.hasAttribute("nosubtitleslangpref"))){const h=Be.localStorage.getItem("media-chrome-pref-subtitles-lang"),m=h?[h,...Be.navigator.languages]:Be.navigator.languages,g=o.filter(v=>m.some(y=>v.language.toLowerCase().startsWith(y.split("-")[0]))).sort((v,y)=>{const b=m.findIndex(_=>v.language.toLowerCase().startsWith(_.split("-")[0])),x=m.findIndex(_=>y.language.toLowerCase().startsWith(_.split("-")[0]));return b-x});g[0]&&(l=g[0])}const{language:c,label:u,kind:f}=l;dj(RT.SHOWING,o,[{language:c,label:u,kind:f}])}},MEDIA_AIRPLAY_REQUEST:n=>{if(n){if(!(n.webkitShowPlaybackTargetPicker&&Be.WebKitPlaybackTargetAvailabilityEvent)){console.warn("received a request to select AirPlay but AirPlay is not supported in this environment");return}n.webkitShowPlaybackTargetPicker()}},MEDIA_SEEK_TO_LIVE_REQUEST:n=>{const e=n.seekable;if(!e){console.warn("MediaController: Media element does not support seeking to live.");return}if(!e.length){console.warn("MediaController: Media is unable to seek to live.");return}n.currentTime=e.end(e.length-1)},MEDIA_RENDITION_REQUEST:(n,e)=>{if(!(n!=null&&n.videoRenditions)){console.warn("MediaController: Rendition selection not supported by this media.");return}const r=e.detail,i=[...n.videoRenditions].findIndex(o=>o.id==r);n.videoRenditions.selectedIndex!=i&&(n.videoRenditions.selectedIndex=i)},MEDIA_AUDIO_TRACK_REQUEST:(n,e)=>{if(!(n!=null&&n.audioTracks)){console.warn("MediaController: Audio track selection not supported by this media.");return}const r=e.detail;for(let i of n.audioTracks)i.enabled=r==i.id}};var Xse=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},cp=(n,e,r)=>(Xse(n,e,"read from private field"),r?r.call(n):e.get(n)),Wk=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},NH=(n,e,r,i)=>(Xse(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),pC=(n,e,r)=>(Xse(n,e,"access private method"),r),y0,PT,B_,cS,yI,g$,BZ;const nat=["ArrowLeft","ArrowRight","Enter"," ","f","m","k","c"],VCr=10,EMe=0,hc={DEFAULT_SUBTITLES:"defaultsubtitles",DEFAULT_STREAM_TYPE:"defaultstreamtype",DEFAULT_DURATION:"defaultduration",FULLSCREEN_ELEMENT:"fullscreenelement",HOTKEYS:"hotkeys",KEYS_USED:"keysused",LIVE_EDGE_OFFSET:"liveedgeoffset",NO_AUTO_SEEK_TO_LIVE:"noautoseektolive",NO_HOTKEYS:"nohotkeys"};class rat extends RCr{constructor(){super(),Wk(this,cS),Wk(this,g$),Wk(this,y0,new qse(this,hc.HOTKEYS)),Wk(this,PT,void 0),Wk(this,B_,void 0),zu.MEDIA_VOLUME_UNAVAILABLE.get(this)===void 0&&UCr.then(()=>{this.propagateMediaState(xe.MEDIA_VOLUME_UNAVAILABLE,zu.MEDIA_VOLUME_UNAVAILABLE.get(this))}),this.mediaStateReceivers=[],this.associatedElementSubscriptions=new Map,this.associateElement(this),Object.keys(p4).forEach(e=>{const r=`_handle${$H(e,!0)}`;this[r]=i=>{if(i.stopPropagation(),!this.media){console.warn("MediaController: No media available.");return}p4[e](this.media,i,this)},this.addEventListener(Yn[e],this[r])}),this._mediaStatePropagators={},Object.keys(zu).forEach(e=>{this._mediaStatePropagators[e]=r=>{this.propagateMediaState(PE[e],zu[e].get(this,r))}})}static get observedAttributes(){return super.observedAttributes.concat(hc.NO_HOTKEYS,hc.HOTKEYS,hc.DEFAULT_STREAM_TYPE,hc.DEFAULT_SUBTITLES,hc.DEFAULT_DURATION)}get fullscreenElement(){var e;return(e=cp(this,PT))!=null?e:this}set fullscreenElement(e){this.hasAttribute(hc.FULLSCREEN_ELEMENT)&&this.removeAttribute(hc.FULLSCREEN_ELEMENT),NH(this,PT,e)}attributeChangedCallback(e,r,i){var o;if(super.attributeChangedCallback(e,r,i),e===hc.NO_HOTKEYS)i!==r&&i===""?(this.hasAttribute(hc.HOTKEYS)&&console.warn("Both `hotkeys` and `nohotkeys` have been set. All hotkeys will be disabled."),this.disableHotkeys()):i!==r&&i===null&&this.enableHotkeys();else if(e===hc.HOTKEYS)cp(this,y0).value=i;else if(e===hc.DEFAULT_SUBTITLES&&i!==r&&i==="")this.dispatchEvent(new Be.CustomEvent(Yn.MEDIA_TOGGLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0,detail:!0}));else if(e===hc.DEFAULT_STREAM_TYPE)this.propagateMediaState(PE.MEDIA_STREAM_TYPE);else if(e===hc.FULLSCREEN_ELEMENT){const s=i?(o=cp(this,B_))==null?void 0:o.getElementById(i):void 0;NH(this,PT,s)}}connectedCallback(){super.connectedCallback(),NH(this,B_,this.getRootNode()),this.enableHotkeys()}disconnectedCallback(){super.disconnectedCallback(),this.disableHotkeys(),this.dispatchEvent(new Be.CustomEvent(Yn.MEDIA_TOGGLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0,detail:!1}))}mediaSetCallback(e){if(super.mediaSetCallback(e),e.hasAttribute("tabindex")||(e.tabIndex=-1),Object.keys(zu).forEach(r=>{const{mediaEvents:i,rootEvents:o,textTracksEvents:s,videoRenditionsEvents:a,audioTracksEvents:l}=zu[r],c=this._mediaStatePropagators[r];i==null||i.forEach(u=>{e.addEventListener(u,c),c()}),o==null||o.forEach(u=>{var f;(f=cp(this,B_))==null||f.addEventListener(u,c),c()}),s==null||s.forEach(u=>{var f;(f=e.textTracks)==null||f.addEventListener(u,c),c()}),a==null||a.forEach(u=>{var f;(f=e.videoRenditions)==null||f.addEventListener(u,c),c()}),l==null||l.forEach(u=>{var f;(f=e.audioTracks)==null||f.addEventListener(u,c),c()})}),!this.hasAttribute("novolumepref"))try{const r=Be.localStorage.getItem("media-chrome-pref-volume");r!==null&&(e.volume=r)}catch(r){console.debug("Error getting volume pref",r)}}mediaUnsetCallback(e){super.mediaUnsetCallback(e),Object.keys(zu).forEach(r=>{const{mediaEvents:i,rootEvents:o,textTracksEvents:s,videoRenditionsEvents:a,audioTracksEvents:l}=zu[r],c=this._mediaStatePropagators[r];i==null||i.forEach(u=>{e.removeEventListener(u,c)}),o==null||o.forEach(u=>{var f;(f=cp(this,B_))==null||f.removeEventListener(u,c)}),s==null||s.forEach(u=>{var f;(f=e.textTracks)==null||f.removeEventListener(u,c)}),a==null||a.forEach(u=>{var f;(f=e.videoRenditions)==null||f.removeEventListener(u,c),c()}),l==null||l.forEach(u=>{var f;(f=e.audioTracks)==null||f.removeEventListener(u,c),c()})}),this.propagateMediaState(PE.MEDIA_PAUSED,!0)}propagateMediaState(e,r){const i=TMe(this.mediaStateReceivers,e);if(kMe(this.mediaStateReceivers,e,r),i===TMe(this.mediaStateReceivers,e))return;const o=e.toLowerCase(),s=new Be.CustomEvent(KEr[o],{composed:!0,bubbles:!0,detail:r});this.dispatchEvent(s)}associateElement(e){if(!e)return;const{associatedElementSubscriptions:r}=this;if(r.has(e))return;const i=this.registerMediaStateReceiver.bind(this),o=this.unregisterMediaStateReceiver.bind(this),s=YCr(e,i,o);Object.keys(Yn).forEach(a=>{e.addEventListener(Yn[a],this[`_handle${$H(a,!0)}`])}),r.set(e,s)}unassociateElement(e){if(!e)return;const{associatedElementSubscriptions:r}=this;if(!r.has(e))return;r.get(e)(),r.delete(e),Object.keys(Yn).forEach(o=>{e.removeEventListener(Yn[o],this[`_handle${$H(o,!0)}`])})}registerMediaStateReceiver(e){if(!e)return;const r=this.mediaStateReceivers;r.indexOf(e)>-1||(r.push(e),Object.keys(zu).forEach(o=>{const s=zu[o];kMe([e],PE[o],s.get(this))}))}unregisterMediaStateReceiver(e){const r=this.mediaStateReceivers,i=r.indexOf(e);i<0||r.splice(i,1)}enableHotkeys(){this.addEventListener("keydown",pC(this,g$,BZ))}disableHotkeys(){this.removeEventListener("keydown",pC(this,g$,BZ)),this.removeEventListener("keyup",pC(this,cS,yI))}get hotkeys(){return cp(this,y0)}keyboardShortcutHandler(e){var r,i,o,s;if(((s=(o=(r=e.target.getAttribute(hc.KEYS_USED))==null?void 0:r.split(" "))!=null?o:(i=e.target)==null?void 0:i.keysUsed)!=null?s:[]).map(g=>g==="Space"?" ":g).filter(Boolean).includes(e.key))return;let l,c,u,f,h;const m=VCr;if(!cp(this,y0).contains(`no${e.key.toLowerCase()}`)&&!(e.key===" "&&cp(this,y0).contains("nospace")))switch(e.key){case" ":case"k":l=this.getAttribute(xe.MEDIA_PAUSED)!=null?Yn.MEDIA_PLAY_REQUEST:Yn.MEDIA_PAUSE_REQUEST,this.dispatchEvent(new Be.CustomEvent(l,{composed:!0,bubbles:!0}));break;case"m":l=this.getAttribute(xe.MEDIA_VOLUME_LEVEL)==="off"?Yn.MEDIA_UNMUTE_REQUEST:Yn.MEDIA_MUTE_REQUEST,this.dispatchEvent(new Be.CustomEvent(l,{composed:!0,bubbles:!0}));break;case"f":l=this.getAttribute(xe.MEDIA_IS_FULLSCREEN)!=null?Yn.MEDIA_EXIT_FULLSCREEN_REQUEST:Yn.MEDIA_ENTER_FULLSCREEN_REQUEST,this.dispatchEvent(new Be.CustomEvent(l,{composed:!0,bubbles:!0}));break;case"c":this.dispatchEvent(new Be.CustomEvent(Yn.MEDIA_TOGGLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0}));break;case"ArrowLeft":c=this.getAttribute(xe.MEDIA_CURRENT_TIME),u=c&&!Number.isNaN(+c)?+c:EMe,f=Math.max(u-m,0),h=new Be.CustomEvent(Yn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:f}),this.dispatchEvent(h);break;case"ArrowRight":c=this.getAttribute(xe.MEDIA_CURRENT_TIME),u=c&&!Number.isNaN(+c)?+c:EMe,f=Math.max(u+m,0),h=new Be.CustomEvent(Yn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:f}),this.dispatchEvent(h);break}}}y0=new WeakMap;PT=new WeakMap;B_=new WeakMap;cS=new WeakSet;yI=function(n){const{key:e}=n;if(!nat.includes(e)){this.removeEventListener("keyup",pC(this,cS,yI));return}this.keyboardShortcutHandler(n)};g$=new WeakSet;BZ=function(n){const{metaKey:e,altKey:r,key:i}=n;if(e||r||!nat.includes(i)){this.removeEventListener("keyup",pC(this,cS,yI));return}[" ","ArrowLeft","ArrowRight"].includes(i)&&!(cp(this,y0).contains(`no${i.toLowerCase()}`)||i===" "&&cp(this,y0).contains("nospace"))&&n.preventDefault(),this.addEventListener("keyup",pC(this,cS,yI),{once:!0})};const HCr=Object.values(xe),WCr=Object.values(PE),Qse=n=>{var e,r,i,o;let{observedAttributes:s}=n.constructor;!s&&((e=n.nodeName)!=null&&e.includes("-"))&&(Be.customElements.upgrade(n),{observedAttributes:s}=n.constructor);const a=(o=(i=(r=n==null?void 0:n.getAttribute)==null?void 0:r.call(n,Fr.MEDIA_CHROME_ATTRIBUTES))==null?void 0:i.split)==null?void 0:o.call(i,/\s+/);return Array.isArray(s||a)?(s||a).filter(l=>HCr.includes(l)):[]},GCr=n=>{var e,r;return(e=n.nodeName)!=null&&e.includes("-")&&Be.customElements.get((r=n.nodeName)==null?void 0:r.toLowerCase())&&!(n instanceof Be.customElements.get(n.nodeName.toLowerCase()))&&Be.customElements.upgrade(n),WCr.some(i=>i in n)},UZ=n=>GCr(n)||!!Qse(n).length,CMe=n=>{var e;return(e=n==null?void 0:n.join)==null?void 0:e.call(n,":")},SMe={[xe.MEDIA_SUBTITLES_LIST]:f4,[xe.MEDIA_SUBTITLES_SHOWING]:f4,[xe.MEDIA_SEEKABLE]:CMe,[xe.MEDIA_BUFFERED]:n=>n==null?void 0:n.map(CMe).join(" "),[xe.MEDIA_PREVIEW_COORDS]:n=>n==null?void 0:n.join(" "),[xe.MEDIA_RENDITION_LIST]:YEr,[xe.MEDIA_AUDIO_TRACK_LIST]:JEr},qCr=async(n,e,r)=>{var i,o;if(n.isConnected||await Ost(0),typeof r=="boolean"||r==null)return gl(n,e,r);if(typeof r=="number")return Kl(n,e,r);if(typeof r=="string")return Tc(n,e,r);if(Array.isArray(r)&&!r.length)return n.removeAttribute(e);const s=(o=(i=SMe[e])==null?void 0:i.call(SMe,r))!=null?o:r;return n.setAttribute(e,s)},KCr=n=>{var e;return!!((e=n.closest)!=null&&e.call(n,'*[slot="media"]'))},G1=(n,e)=>{if(KCr(n))return;const r=(o,s)=>{var a,l;UZ(o)&&s(o);const{children:c=[]}=o??{},u=(l=(a=o==null?void 0:o.shadowRoot)==null?void 0:a.children)!=null?l:[];[...c,...u].forEach(h=>G1(h,s))},i=n==null?void 0:n.nodeName.toLowerCase();if(i.includes("-")&&!UZ(n)){Be.customElements.whenDefined(i).then(()=>{r(n,e)});return}r(n,e)},kMe=(n,e,r)=>{n.forEach(i=>{if(e in i){i[e]=r;return}const o=Qse(i),s=e.toLowerCase();o.includes(s)&&qCr(i,s,r)})},TMe=(n,e)=>{for(const r of n){if(e in r)return r[e];const i=Qse(r),o=e.toLowerCase();if(i.includes(o))return r.getAttribute(o)}},YCr=(n,e,r)=>{G1(n,e);const i=f=>{var h;const m=(h=f==null?void 0:f.composedPath()[0])!=null?h:f.target;e(m)},o=f=>{var h;const m=(h=f==null?void 0:f.composedPath()[0])!=null?h:f.target;r(m)};n.addEventListener(Yn.REGISTER_MEDIA_STATE_RECEIVER,i),n.addEventListener(Yn.UNREGISTER_MEDIA_STATE_RECEIVER,o);const s=f=>{f.forEach(h=>{const{addedNodes:m=[],removedNodes:g=[],type:v,target:y,attributeName:b}=h;v==="childList"?(Array.prototype.forEach.call(m,x=>G1(x,e)),Array.prototype.forEach.call(g,x=>G1(x,r))):v==="attributes"&&b===Fr.MEDIA_CHROME_ATTRIBUTES&&(UZ(y)?e(y):r(y))})};let a=[];const l=f=>{const h=f.target;h.name!=="media"&&(a.forEach(m=>G1(m,r)),a=[...h.assignedElements({flatten:!0})],a.forEach(m=>G1(m,e)))};n.addEventListener("slotchange",l);const c=new MutationObserver(s);return c.observe(n,{childList:!0,attributes:!0,subtree:!0}),()=>{G1(n,r),n.removeEventListener("slotchange",l),c.disconnect(),n.removeEventListener(Yn.REGISTER_MEDIA_STATE_RECEIVER,i),n.removeEventListener(Yn.UNREGISTER_MEDIA_STATE_RECEIVER,o)}};Be.customElements.get("media-controller")||Be.customElements.define("media-controller",rat);var ZCr=rat,Jse=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},Vf=(n,e,r)=>(Jse(n,e,"read from private field"),r?r.call(n):e.get(n)),Lu=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},q1=(n,e,r,i)=>(Jse(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),Zh=(n,e,r)=>(Jse(n,e,"access private method"),r),Xh,XB,m4,g4,v$,y$,b$,zZ,x$,VZ,v4,eae,HZ,iat,WZ,oat,GZ,sat,qZ,aat;const lat=cn.createElement("template");lat.innerHTML=`
  <style>
    :host {
      --_focus-box-shadow: var(--media-focus-box-shadow, inset 0 0 0 2px rgb(27 127 204 / .9));
      --_media-range-padding: var(--media-range-padding, var(--media-control-padding, 10px));

      box-shadow: var(--_focus-visible-box-shadow, none);
      background: var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)));
      height: calc(var(--media-control-height, 24px) + 2 * var(--_media-range-padding));
      display: inline-flex;
      align-items: center;
      
      vertical-align: middle;
      box-sizing: border-box;
      position: relative;
      width: 100px;
      transition: background .15s linear;
      cursor: pointer;
      pointer-events: auto;
      touch-action: none; 
      z-index: 1; 
    }

    
    input[type=range]:focus {
      outline: 0;
    }
    input[type=range]:focus::-webkit-slider-runnable-track {
      outline: 0;
    }

    :host(:hover) {
      background: var(--media-control-hover-background, rgb(50 50 70 / .7));
    }

    #leftgap {
      padding-left: var(--media-range-padding-left, var(--_media-range-padding));
    }

    #rightgap {
      padding-right: var(--media-range-padding-right, var(--_media-range-padding));
    }

    #startpoint,
    #endpoint {
      position: absolute;
    }

    #endpoint {
      right: 0;
    }

    #container {
      
      width: var(--media-range-track-width, 100%);
      transform: translate(var(--media-range-track-translate-x, 0px), var(--media-range-track-translate-y, 0px));
      position: relative;
      height: 100%;
      display: flex;
      align-items: center;
      min-width: 40px;
    }

    #range {
      
      display: var(--media-time-range-hover-display, block);
      bottom: var(--media-time-range-hover-bottom, -7px);
      height: var(--media-time-range-hover-height, max(100% + 7px, 25px));
      width: 100%;
      position: absolute;
      cursor: pointer;

      -webkit-appearance: none; 
      -webkit-tap-highlight-color: transparent;
      background: transparent; 
      margin: 0;
      z-index: 1;
    }

    @media (hover: hover) {
      #range {
        bottom: var(--media-time-range-hover-bottom, -5px);
        height: var(--media-time-range-hover-height, max(100% + 5px, 20px));
      }
    }

    
    
    #range::-webkit-slider-thumb {
      -webkit-appearance: none;
      background: transparent;
      width: .1px;
      height: .1px;
    }

    
    #range::-moz-range-thumb {
      background: transparent;
      border: transparent;
      width: .1px;
      height: .1px;
    }

    #appearance {
      height: var(--media-range-track-height, 4px);
      display: flex;
      flex-direction: column;
      justify-content: center;
      width: 100%;
      position: absolute;
    }

    #background,
    #track {
      border-radius: var(--media-range-track-border-radius, 1px);
      position: absolute;
      width: 100%;
      height: 100%;
    }

    #background {
      background: var(--media-range-track-background, rgb(255 255 255 / .2));
      backdrop-filter: var(--media-range-track-background-backdrop-filter);
      -webkit-backdrop-filter: var(--media-range-track-background-backdrop-filter);
    }

    #track {
      border: var(--media-range-track-border, none);
      outline: var(--media-range-track-outline);
      outline-offset: var(--media-range-track-outline-offset);
      backdrop-filter: var(--media-range-track-backdrop-filter);
      -webkit-backdrop-filter: var(--media-range-track-backdrop-filter);
      box-shadow: var(--media-range-track-box-shadow, none);
      overflow: hidden;
    }

    #progress {
      background: var(--media-range-bar-color, var(--media-primary-color, rgb(238 238 238)));
      border-radius: var(--media-range-track-border-radius, 1px);
      transition: var(--media-range-track-transition);
      position: absolute;
      height: 100%;
    }

    #highlight {
      border-radius: var(--media-range-track-border-radius, 1px);
      position: absolute;
      height: 100%;
    }

    #pointer {
      background: var(--media-range-track-pointer-background);
      border-right: var(--media-range-track-pointer-border-right);
      border-radius: var(--media-range-track-border-radius, 1px);
      transition: visibility .25s, opacity .25s;
      visibility: hidden;
      opacity: 0;
      position: absolute;
      height: 100%;
    }

    :host(:hover) #pointer {
      transition: visibility .5s, opacity .5s;
      visibility: visible;
      opacity: 1;
    }

    #thumb {
      width: var(--media-range-thumb-width, 10px);
      height: var(--media-range-thumb-height, 10px);
      margin-left: calc(var(--media-range-thumb-width, 10px) / -2);
      border: var(--media-range-thumb-border, none);
      border-radius: var(--media-range-thumb-border-radius, 10px);
      background: var(--media-range-thumb-background, var(--media-primary-color, rgb(238 238 238)));
      box-shadow: var(--media-range-thumb-box-shadow, 1px 1px 1px transparent);
      transition: var(--media-range-thumb-transition);
      transform: var(--media-range-thumb-transform, none);
      opacity: var(--media-range-thumb-opacity, 1);
      position: absolute;
      left: 0;
      cursor: pointer;
    }

    :host([disabled]) #thumb {
      background-color: #777;
    }
  </style>
  <div id="leftgap"></div>
  <div id="container">
    <div id="startpoint"></div>
    <div id="endpoint"></div>
    <div id="appearance">
      <div id="background"></div>
      <div id="track">
        <div id="highlight"></div>
        <div id="pointer"></div>
        <div id="progress"></div>
      </div>
      <div id="thumb"></div>
    </div>
    <input id="range" type="range" min="0" max="1" step="any" value="0">
  </div>
  <div id="rightgap"></div>
`;class tae extends Be.HTMLElement{constructor(){super(),Lu(this,b$),Lu(this,x$),Lu(this,v4),Lu(this,HZ),Lu(this,WZ),Lu(this,GZ),Lu(this,qZ),Lu(this,Xh,void 0),Lu(this,XB,void 0),Lu(this,m4,void 0),Lu(this,g4,void 0),Lu(this,v$,()=>{if(this.range.matches(":focus-visible")){const{style:r}=ql(this.shadowRoot,":host");r.setProperty("--_focus-visible-box-shadow","var(--_focus-box-shadow)")}}),Lu(this,y$,()=>{const{style:r}=ql(this.shadowRoot,":host");r.removeProperty("--_focus-visible-box-shadow")}),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(lat.content.cloneNode(!0)));const{style:e}=ql(this.shadowRoot,":host");e.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`),this.container=this.shadowRoot.querySelector("#container"),q1(this,m4,this.shadowRoot.querySelector("#startpoint")),q1(this,g4,this.shadowRoot.querySelector("#endpoint")),this.range=this.shadowRoot.querySelector("#range")}static get observedAttributes(){return["disabled","aria-disabled",Fr.MEDIA_CONTROLLER]}attributeChangedCallback(e,r,i){var o,s,a,l,c;e===Fr.MEDIA_CONTROLLER?(r&&((s=(o=Vf(this,Xh))==null?void 0:o.unassociateElement)==null||s.call(o,this),q1(this,Xh,null)),i&&this.isConnected&&(q1(this,Xh,(a=this.getRootNode())==null?void 0:a.getElementById(i)),(c=(l=Vf(this,Xh))==null?void 0:l.associateElement)==null||c.call(l,this))):(e==="disabled"||e==="aria-disabled"&&r!==i)&&(i==null?(this.range.removeAttribute(e),Zh(this,b$,zZ).call(this)):(this.range.setAttribute(e,i),Zh(this,x$,VZ).call(this)))}connectedCallback(){var e,r,i;const o=this.getAttribute(Fr.MEDIA_CONTROLLER);o&&(q1(this,Xh,(e=this.getRootNode())==null?void 0:e.getElementById(o)),(i=(r=Vf(this,Xh))==null?void 0:r.associateElement)==null||i.call(r,this)),this.updateBar(),this.shadowRoot.addEventListener("focusin",Vf(this,v$)),this.shadowRoot.addEventListener("focusout",Vf(this,y$)),Zh(this,b$,zZ).call(this)}disconnectedCallback(){var e,r;Zh(this,x$,VZ).call(this),(r=(e=Vf(this,Xh))==null?void 0:e.unassociateElement)==null||r.call(e,this),q1(this,Xh,null),this.shadowRoot.removeEventListener("focusin",Vf(this,v$)),this.shadowRoot.removeEventListener("focusout",Vf(this,y$))}updatePointerBar(e){const r=this.range.getBoundingClientRect();let i=(e.clientX-r.left)/r.width;i=Math.max(0,Math.min(1,i))*100;const{style:o}=ql(this.shadowRoot,"#pointer");o.setProperty("width",`${i}%`)}updateBar(){const e=this.range.valueAsNumber*100,r=ql(this.shadowRoot,"#progress"),i=ql(this.shadowRoot,"#thumb");r.style.setProperty("width",`${e}%`),i.style.setProperty("left",`${e}%`)}get dragging(){return this.hasAttribute("dragging")}handleEvent(e){switch(e.type){case"input":this.updateBar();break;case"pointerenter":Zh(this,HZ,iat).call(this,e);break;case"pointerdown":Zh(this,v4,eae).call(this,e);break;case"pointermove":Zh(this,qZ,aat).call(this,e);break;case"pointerup":Zh(this,WZ,oat).call(this);break;case"pointerleave":Zh(this,GZ,sat).call(this);break}}get keysUsed(){return["ArrowUp","ArrowRight","ArrowDown","ArrowLeft"]}}Xh=new WeakMap;XB=new WeakMap;m4=new WeakMap;g4=new WeakMap;v$=new WeakMap;y$=new WeakMap;b$=new WeakSet;zZ=function(){this.hasAttribute("disabled")||(this.addEventListener("input",this),this.addEventListener("pointerdown",this),this.addEventListener("pointerenter",this))};x$=new WeakSet;VZ=function(){var n,e;this.removeEventListener("input",this),this.removeEventListener("pointerdown",this),this.removeEventListener("pointerenter",this),(n=Be.window)==null||n.removeEventListener("pointerup",this),(e=Be.window)==null||e.removeEventListener("pointermove",this)};v4=new WeakSet;eae=function(n){var e;q1(this,XB,n.composedPath().includes(this.range)),(e=Be.window)==null||e.addEventListener("pointerup",this)};HZ=new WeakSet;iat=function(n){var e;n.pointerType!=="mouse"&&Zh(this,v4,eae).call(this,n),this.addEventListener("pointerleave",this),(e=Be.window)==null||e.addEventListener("pointermove",this)};WZ=new WeakSet;oat=function(){var n;(n=Be.window)==null||n.removeEventListener("pointerup",this),this.toggleAttribute("dragging",!1),this.range.disabled=this.hasAttribute("disabled")};GZ=new WeakSet;sat=function(){var n;this.removeEventListener("pointerleave",this),(n=Be.window)==null||n.removeEventListener("pointermove",this),this.toggleAttribute("dragging",!1),this.range.disabled=this.hasAttribute("disabled")};qZ=new WeakSet;aat=function(n){if(this.toggleAttribute("dragging",n.buttons===1||n.pointerType!=="mouse"),this.updatePointerBar(n),this.dragging&&(n.pointerType!=="mouse"||!Vf(this,XB))){this.range.disabled=!0;let e=cCr(n.clientX,n.clientY,Vf(this,m4).getBoundingClientRect(),Vf(this,g4).getBoundingClientRect());e=Math.max(0,Math.min(1,e)),this.range.valueAsNumber=e,this.range.dispatchEvent(new Event("input",{bubbles:!0,composed:!0}))}};Be.customElements.get("media-chrome-range")||Be.customElements.define("media-chrome-range",tae);var cat=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},hj=(n,e,r)=>(cat(n,e,"read from private field"),r?r.call(n):e.get(n)),XCr=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},pj=(n,e,r,i)=>(cat(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),Qh;const uat=cn.createElement("template");uat.innerHTML=`
  <style>
    :host {
      
      box-sizing: border-box;
      display: var(--media-control-display, var(--media-control-bar-display, inline-flex));
      color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
      --media-loading-indicator-icon-height: 44px;
    }

    ::slotted(media-time-range),
    ::slotted(media-volume-range) {
      min-height: 100%;
    }

    ::slotted(media-time-range),
    ::slotted(media-clip-selector) {
      flex-grow: 1;
    }
  </style>

  <slot></slot>
`;class QCr extends Be.HTMLElement{constructor(){super(),XCr(this,Qh,void 0),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(uat.content.cloneNode(!0)))}static get observedAttributes(){return[Fr.MEDIA_CONTROLLER]}attributeChangedCallback(e,r,i){var o,s,a,l,c;e===Fr.MEDIA_CONTROLLER&&(r&&((s=(o=hj(this,Qh))==null?void 0:o.unassociateElement)==null||s.call(o,this),pj(this,Qh,null)),i&&this.isConnected&&(pj(this,Qh,(a=this.getRootNode())==null?void 0:a.getElementById(i)),(c=(l=hj(this,Qh))==null?void 0:l.associateElement)==null||c.call(l,this)))}connectedCallback(){var e,r,i;const o=this.getAttribute(Fr.MEDIA_CONTROLLER);o&&(pj(this,Qh,(e=this.getRootNode())==null?void 0:e.getElementById(o)),(i=(r=hj(this,Qh))==null?void 0:r.associateElement)==null||i.call(r,this))}disconnectedCallback(){var e,r;(r=(e=hj(this,Qh))==null?void 0:e.unassociateElement)==null||r.call(e,this),pj(this,Qh,null)}}Qh=new WeakMap;Be.customElements.get("media-control-bar")||Be.customElements.define("media-control-bar",QCr);var dat=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},mj=(n,e,r)=>(dat(n,e,"read from private field"),r?r.call(n):e.get(n)),JCr=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},gj=(n,e,r,i)=>(dat(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),Jh;const fat=cn.createElement("template");fat.innerHTML=`
  <style>
    :host {
      font: var(--media-font,
        var(--media-font-weight, normal)
        var(--media-font-size, 14px) /
        var(--media-text-content-height, var(--media-control-height, 24px))
        var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
      color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
      background: var(--media-text-background, var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7))));
      padding: var(--media-control-padding, 10px);
      display: inline-flex;
      justify-content: center;
      align-items: center;
      vertical-align: middle;
      box-sizing: border-box;
      text-align: center;
      pointer-events: auto;
    }

    
    :host(:focus-visible) {
      box-shadow: inset 0 0 0 2px rgb(27 127 204 / .9);
      outline: 0;
    }

    
    :host(:where(:focus)) {
      box-shadow: none;
      outline: 0;
    }
  </style>
  <slot></slot>
`;class QB extends Be.HTMLElement{constructor(){super(),JCr(this,Jh,void 0),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(fat.content.cloneNode(!0)));const{style:e}=ql(this.shadowRoot,":host");e.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`)}static get observedAttributes(){return[Fr.MEDIA_CONTROLLER]}attributeChangedCallback(e,r,i){var o,s,a,l,c;e===Fr.MEDIA_CONTROLLER&&(r&&((s=(o=mj(this,Jh))==null?void 0:o.unassociateElement)==null||s.call(o,this),gj(this,Jh,null)),i&&this.isConnected&&(gj(this,Jh,(a=this.getRootNode())==null?void 0:a.getElementById(i)),(c=(l=mj(this,Jh))==null?void 0:l.associateElement)==null||c.call(l,this)))}connectedCallback(){var e,r,i;const o=this.getAttribute(Fr.MEDIA_CONTROLLER);o&&(gj(this,Jh,(e=this.getRootNode())==null?void 0:e.getElementById(o)),(i=(r=mj(this,Jh))==null?void 0:r.associateElement)==null||i.call(r,this))}disconnectedCallback(){var e,r;(r=(e=mj(this,Jh))==null?void 0:e.unassociateElement)==null||r.call(e,this),gj(this,Jh,null)}}Jh=new WeakMap;Be.customElements.get("media-text-display")||Be.customElements.define("media-text-display",QB);var hat=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},AMe=(n,e,r)=>(hat(n,e,"read from private field"),r?r.call(n):e.get(n)),eSr=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},tSr=(n,e,r,i)=>(hat(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),jT;class nSr extends QB{constructor(){super(),eSr(this,jT,void 0),tSr(this,jT,this.shadowRoot.querySelector("slot")),AMe(this,jT).textContent=sx(0)}static get observedAttributes(){return[...super.observedAttributes,xe.MEDIA_DURATION]}attributeChangedCallback(e,r,i){e===xe.MEDIA_DURATION&&(AMe(this,jT).textContent=sx(i)),super.attributeChangedCallback(e,r,i)}get mediaDuration(){return sa(this,xe.MEDIA_DURATION)}set mediaDuration(e){Kl(this,xe.MEDIA_DURATION,e)}}jT=new WeakMap;Be.customElements.get("media-duration-display")||Be.customElements.define("media-duration-display",nSr);var pat=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},BH=(n,e,r)=>(pat(n,e,"read from private field"),r?r.call(n):e.get(n)),rSr=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},iSr=(n,e,r,i)=>(pat(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),U_;const Gf={REMAINING:"remaining",SHOW_DURATION:"showduration",NO_TOGGLE:"notoggle"},IMe=[...Object.values(Gf),xe.MEDIA_CURRENT_TIME,xe.MEDIA_DURATION,xe.MEDIA_SEEKABLE],DMe=["Enter"," "],oSr="&nbsp;/&nbsp;",RMe=(n,{timesSep:e=oSr}={})=>{var r,i,o,s;const a=n.hasAttribute(Gf.REMAINING),l=n.hasAttribute(Gf.SHOW_DURATION),c=(r=n.mediaCurrentTime)!=null?r:0,[,u]=(i=n.mediaSeekable)!=null?i:[],f=(s=(o=n.mediaDuration)!=null?o:u)!=null?s:0,h=sx(a?0-(f-c):c);return l?`${h}${e}${sx(f)}`:h},sSr="video not loaded, unknown time.",aSr=n=>{var e;const r=n.mediaCurrentTime,[,i]=(e=n.mediaSeekable)!=null?e:[],o=n.mediaDuration||i;if(r==null||o==null){n.setAttribute("aria-valuetext",sSr);return}const s=n.hasAttribute(Gf.REMAINING),a=n.hasAttribute(Gf.SHOW_DURATION),l=GA(s?0-(o-r):r);if(!a){n.setAttribute("aria-valuetext",l);return}const c=GA(o),u=`${l} of ${c}`;n.setAttribute("aria-valuetext",u)};class lSr extends QB{constructor(){super(),rSr(this,U_,void 0),iSr(this,U_,this.shadowRoot.querySelector("slot")),BH(this,U_).innerHTML=`${RMe(this)}`;const{style:e}=ql(this.shadowRoot,":host(:hover:not([notoggle]))");e.setProperty("cursor","pointer"),e.setProperty("background","var(--media-control-hover-background, rgba(50 50 70 / .7))")}static get observedAttributes(){return[...super.observedAttributes,...IMe,"disabled"]}connectedCallback(){this.hasAttribute("disabled")||this.enable(),this.setAttribute("role","progressbar"),this.setAttribute("aria-label",Cy.PLAYBACK_TIME());const e=r=>{const{key:i}=r;if(!DMe.includes(i)){this.removeEventListener("keyup",e);return}this.toggleTimeDisplay()};this.addEventListener("keydown",r=>{const{metaKey:i,altKey:o,key:s}=r;if(i||o||!DMe.includes(s)){this.removeEventListener("keyup",e);return}this.addEventListener("keyup",e)}),this.addEventListener("click",this.toggleTimeDisplay),super.connectedCallback()}toggleTimeDisplay(){this.noToggle||(this.hasAttribute("remaining")?this.removeAttribute("remaining"):this.setAttribute("remaining",""))}disconnectedCallback(){this.disable(),super.disconnectedCallback()}attributeChangedCallback(e,r,i){IMe.includes(e)?this.update():e==="disabled"&&i!==r&&(i==null?this.enable():this.disable()),super.attributeChangedCallback(e,r,i)}enable(){this.tabIndex=0}disable(){this.tabIndex=-1}get remaining(){return ml(this,Gf.REMAINING)}set remaining(e){gl(this,Gf.REMAINING,e)}get showDuration(){return ml(this,Gf.SHOW_DURATION)}set showDuration(e){gl(this,Gf.SHOW_DURATION,e)}get noToggle(){return ml(this,Gf.NO_TOGGLE)}set noToggle(e){gl(this,Gf.NO_TOGGLE,e)}get mediaDuration(){return sa(this,xe.MEDIA_DURATION)}set mediaDuration(e){Kl(this,xe.MEDIA_DURATION,e)}get mediaCurrentTime(){return sa(this,xe.MEDIA_CURRENT_TIME)}set mediaCurrentTime(e){Kl(this,xe.MEDIA_CURRENT_TIME,e)}get mediaSeekable(){const e=this.getAttribute(xe.MEDIA_SEEKABLE);if(e)return e.split(":").map(r=>+r)}set mediaSeekable(e){if(e==null){this.removeAttribute(xe.MEDIA_SEEKABLE);return}this.setAttribute(xe.MEDIA_SEEKABLE,e.join(":"))}update(){const e=RMe(this);aSr(this),e!==BH(this,U_).innerHTML&&(BH(this,U_).innerHTML=e)}}U_=new WeakMap;Be.customElements.get("media-time-display")||Be.customElements.define("media-time-display",lSr);const cSr=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M22.83 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.39 9.45a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.92 3.92 0 0 1 .92-2.77 3.18 3.18 0 0 1 2.43-1 2.94 2.94 0 0 1 2.13.78c.364.359.62.813.74 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.17 1.61 1.61 0 0 0-1.29.58 2.79 2.79 0 0 0-.5 1.89 3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.48 1.48 0 0 0 1-.37 2.1 2.1 0 0 0 .59-1.14l1.4.44a3.23 3.23 0 0 1-1.07 1.69Zm7.22 0a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.88 3.88 0 0 1 .93-2.77 3.14 3.14 0 0 1 2.42-1 3 3 0 0 1 2.16.82 2.8 2.8 0 0 1 .73 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.21 1.61 1.61 0 0 0-1.29.58A2.79 2.79 0 0 0 15 12a3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.44 1.44 0 0 0 1-.37 2.1 2.1 0 0 0 .6-1.15l1.4.44a3.17 3.17 0 0 1-1.1 1.7Z"/>
</svg>`,uSr=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M17.73 14.09a1.4 1.4 0 0 1-1 .37 1.579 1.579 0 0 1-1.27-.58A3 3 0 0 1 15 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34A2.89 2.89 0 0 0 19 9.07a3 3 0 0 0-2.14-.78 3.14 3.14 0 0 0-2.42 1 3.91 3.91 0 0 0-.93 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.17 3.17 0 0 0 1.07-1.74l-1.4-.45c-.083.43-.3.822-.62 1.12Zm-7.22 0a1.43 1.43 0 0 1-1 .37 1.58 1.58 0 0 1-1.27-.58A3 3 0 0 1 7.76 12a2.8 2.8 0 0 1 .5-1.85 1.63 1.63 0 0 1 1.29-.57 1.47 1.47 0 0 1 1.51 1.2l1.43-.34a2.81 2.81 0 0 0-.74-1.32 2.94 2.94 0 0 0-2.13-.78 3.18 3.18 0 0 0-2.43 1 4 4 0 0 0-.92 2.78 3.74 3.74 0 0 0 .92 2.66 3.07 3.07 0 0 0 2.34 1 3.07 3.07 0 0 0 1.91-.57 3.23 3.23 0 0 0 1.07-1.74l-1.4-.45a2.06 2.06 0 0 1-.6 1.07Zm12.32-8.41a2.59 2.59 0 0 0-2.3-2.51C18.72 3.05 15.86 3 13 3c-2.86 0-5.72.05-7.53.17a2.59 2.59 0 0 0-2.3 2.51c-.23 4.207-.23 8.423 0 12.63a2.57 2.57 0 0 0 2.3 2.5c1.81.13 4.67.19 7.53.19 2.86 0 5.72-.06 7.53-.19a2.57 2.57 0 0 0 2.3-2.5c.23-4.207.23-8.423 0-12.63Zm-1.49 12.53a1.11 1.11 0 0 1-.91 1.11c-1.67.11-4.45.18-7.43.18-2.98 0-5.76-.07-7.43-.18a1.11 1.11 0 0 1-.91-1.11c-.21-4.14-.21-8.29 0-12.43a1.11 1.11 0 0 1 .91-1.11C7.24 4.56 10 4.49 13 4.49s5.76.07 7.43.18a1.11 1.11 0 0 1 .91 1.11c.21 4.14.21 8.29 0 12.43Z"/>
</svg>`,mat=cn.createElement("template");mat.innerHTML=`
  <style>
    :host([aria-checked="true"]) slot[name=off] {
      display: none !important;
    }

    
    :host(:not([aria-checked="true"])) slot[name=on] {
      display: none !important;
    }
  </style>

  <slot name="icon">
    <slot name="on">${cSr}</slot>
    <slot name="off">${uSr}</slot>
  </slot>
`;const OMe=n=>{n.setAttribute("aria-checked",jCr(n))};class dSr extends ku{static get observedAttributes(){return[...super.observedAttributes,xe.MEDIA_SUBTITLES_LIST,xe.MEDIA_SUBTITLES_SHOWING]}constructor(e={}){super({slotTemplate:mat,...e}),this._captionsReady=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","switch"),this.setAttribute("aria-label",Cy.CLOSED_CAPTIONS()),OMe(this)}attributeChangedCallback(e,r,i){e===xe.MEDIA_SUBTITLES_SHOWING&&OMe(this),super.attributeChangedCallback(e,r,i)}get mediaSubtitlesList(){return PMe(this,xe.MEDIA_SUBTITLES_LIST)}set mediaSubtitlesList(e){jMe(this,xe.MEDIA_SUBTITLES_LIST,e)}get mediaSubtitlesShowing(){return PMe(this,xe.MEDIA_SUBTITLES_SHOWING)}set mediaSubtitlesShowing(e){jMe(this,xe.MEDIA_SUBTITLES_SHOWING,e)}handleClick(){this.dispatchEvent(new Be.CustomEvent(Yn.MEDIA_TOGGLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0}))}}const PMe=(n,e)=>{const r=n.getAttribute(e);return r?Kse(r):[]},jMe=(n,e,r)=>{if(!(r!=null&&r.length)){n.removeAttribute(e);return}const i=f4(r);n.getAttribute(e)!==i&&n.setAttribute(e,i)};Be.customElements.get("media-captions-button")||Be.customElements.define("media-captions-button",dSr);const c_={SEEK_OFFSET:"seekoffset"},w$=30,fSr=`<svg aria-hidden="true" viewBox="0 0 20 24"><defs><style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style></defs><text class="text value" transform="translate(8.9 19.87)">${w$}</text><path d="M10 6V3l5.61 4L10 10.94V8a5.54 5.54 0 0 0-1.9 10.48v2.12A7.5 7.5 0 0 1 10 6Z"/></svg>`,gat=cn.createElement("template");gat.innerHTML=`
  <slot name="icon">${fSr}</slot>
`;const hSr=0;class pSr extends ku{static get observedAttributes(){return[...super.observedAttributes,xe.MEDIA_CURRENT_TIME,c_.SEEK_OFFSET]}constructor(e={}){super({slotTemplate:gat,...e})}connectedCallback(){this.seekOffset=sa(this,c_.SEEK_OFFSET,w$),super.connectedCallback()}attributeChangedCallback(e,r,i){e===c_.SEEK_OFFSET&&(this.seekOffset=sa(this,c_.SEEK_OFFSET,w$)),super.attributeChangedCallback(e,r,i)}get seekOffset(){return sa(this,c_.SEEK_OFFSET,w$)}set seekOffset(e){Kl(this,c_.SEEK_OFFSET,e),this.setAttribute("aria-label",Sc.SEEK_FORWARD_N_SECS({seekOffset:this.seekOffset})),Pst(jst(this,"icon"),this.seekOffset)}get mediaCurrentTime(){return sa(this,xe.MEDIA_CURRENT_TIME,hSr)}set mediaCurrentTime(e){Kl(this,xe.MEDIA_CURRENT_TIME,e)}handleClick(){const e=this.mediaCurrentTime+this.seekOffset,r=new Be.CustomEvent(Yn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(r)}}Be.customElements.get("media-seek-forward-button")||Be.customElements.define("media-seek-forward-button",pSr);const mSr=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M16 3v2.5h3.5V9H22V3h-6ZM4 9h2.5V5.5H10V3H4v6Zm15.5 9.5H16V21h6v-6h-2.5v3.5ZM6.5 15H4v6h6v-2.5H6.5V15Z"/>
</svg>`,gSr=`<svg aria-hidden="true" viewBox="0 0 26 24">
  <path d="M18.5 6.5V3H16v6h6V6.5h-3.5ZM16 21h2.5v-3.5H22V15h-6v6ZM4 17.5h3.5V21H10v-6H4v2.5Zm3.5-11H4V9h6V3H7.5v3.5Z"/>
</svg>`,vat=cn.createElement("template");vat.innerHTML=`
  <style>
  :host([${xe.MEDIA_IS_FULLSCREEN}]) slot:not([name=exit]):not([name=icon]) {
    display: none !important;
  }

  
  :host(:not([${xe.MEDIA_IS_FULLSCREEN}])) slot:not([name=enter]):not([name=icon]) {
    display: none !important;
  }
  </style>

  <slot name="icon">
    <slot name="enter">${mSr}</slot>
    <slot name="exit">${gSr}</slot>
  </slot>
`;const LMe=n=>{const e=n.mediaIsFullscreen?Sc.EXIT_FULLSCREEN():Sc.ENTER_FULLSCREEN();n.setAttribute("aria-label",e)};class vSr extends ku{static get observedAttributes(){return[...super.observedAttributes,xe.MEDIA_IS_FULLSCREEN,xe.MEDIA_FULLSCREEN_UNAVAILABLE]}constructor(e={}){super({slotTemplate:vat,...e})}connectedCallback(){LMe(this),super.connectedCallback()}attributeChangedCallback(e,r,i){e===xe.MEDIA_IS_FULLSCREEN&&LMe(this),super.attributeChangedCallback(e,r,i)}get mediaFullscreenUnavailable(){return kc(this,xe.MEDIA_FULLSCREEN_UNAVAILABLE)}set mediaFullscreenUnavailable(e){Tc(this,xe.MEDIA_FULLSCREEN_UNAVAILABLE,e)}get mediaIsFullscreen(){return ml(this,xe.MEDIA_IS_FULLSCREEN)}set mediaIsFullscreen(e){gl(this,xe.MEDIA_IS_FULLSCREEN,e)}handleClick(){const e=this.mediaIsFullscreen?Yn.MEDIA_EXIT_FULLSCREEN_REQUEST:Yn.MEDIA_ENTER_FULLSCREEN_REQUEST;this.dispatchEvent(new Be.CustomEvent(e,{composed:!0,bubbles:!0}))}}Be.customElements.get("media-fullscreen-button")||Be.customElements.define("media-fullscreen-button",vSr);const{MEDIA_TIME_IS_LIVE:_$,MEDIA_PAUSED:qA}=xe,{MEDIA_SEEK_TO_LIVE_REQUEST:ySr,MEDIA_PLAY_REQUEST:bSr}=Yn,xSr='<svg viewBox="0 0 6 12"><circle cx="3" cy="6" r="2"></circle></svg>',yat=cn.createElement("template");yat.innerHTML=`
  <style>

  slot[name=indicator] > *,
  :host ::slotted([slot=indicator]) {
    
    min-width: auto;
    fill: var(--media-live-button-icon-color, rgb(140, 140, 140));
    color: var(--media-live-button-icon-color, rgb(140, 140, 140));
  }

  :host([${_$}]:not([${qA}])) slot[name=indicator] > *,
  :host([${_$}]:not([${qA}])) ::slotted([slot=indicator]) {
    fill: var(--media-live-button-indicator-color, rgb(255, 0, 0));
    color: var(--media-live-button-indicator-color, rgb(255, 0, 0));
  }

  :host([${_$}]:not([${qA}])) {
    cursor: not-allowed;
  }

  </style>

  <slot name="indicator">${xSr}</slot>
  
  <slot name="spacer">&nbsp;</slot><slot name="text">LIVE</slot>
`;const $Me=n=>{const e=n.mediaPaused||!n.mediaTimeIsLive,r=e?Sc.SEEK_LIVE():Sc.PLAYING_LIVE();n.setAttribute("aria-label",r),e?n.removeAttribute("aria-disabled"):n.setAttribute("aria-disabled","true")};class wSr extends ku{static get observedAttributes(){return[...super.observedAttributes,qA,_$]}constructor(e={}){super({slotTemplate:yat,...e})}connectedCallback(){$Me(this),super.connectedCallback()}attributeChangedCallback(e,r,i){super.attributeChangedCallback(e,r,i),$Me(this)}get mediaPaused(){return ml(this,xe.MEDIA_PAUSED)}set mediaPaused(e){gl(this,xe.MEDIA_PAUSED,e)}get mediaTimeIsLive(){return ml(this,xe.MEDIA_TIME_IS_LIVE)}set mediaTimeIsLive(e){gl(this,xe.MEDIA_TIME_IS_LIVE,e)}handleClick(){!this.mediaPaused&&this.mediaTimeIsLive||(this.dispatchEvent(new Be.CustomEvent(ySr,{composed:!0,bubbles:!0})),this.hasAttribute(qA)&&this.dispatchEvent(new Be.CustomEvent(bSr,{composed:!0,bubbles:!0})))}}Be.customElements.get("media-live-button")||Be.customElements.define("media-live-button",wSr);const{MEDIA_VOLUME_LEVEL:Gk}=xe,_Sr=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M16.5 12A4.5 4.5 0 0 0 14 8v2.18l2.45 2.45a4.22 4.22 0 0 0 .05-.63Zm2.5 0a6.84 6.84 0 0 1-.54 2.64L20 16.15A8.8 8.8 0 0 0 21 12a9 9 0 0 0-7-8.77v2.06A7 7 0 0 1 19 12ZM4.27 3 3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25A6.92 6.92 0 0 1 14 18.7v2.06A9 9 0 0 0 17.69 19l2 2.05L21 19.73l-9-9L4.27 3ZM12 4 9.91 6.09 12 8.18V4Z"/>
</svg>`,MMe=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M3 9v6h4l5 5V4L7 9H3Zm13.5 3A4.5 4.5 0 0 0 14 8v8a4.47 4.47 0 0 0 2.5-4Z"/>
</svg>`,ESr=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M3 9v6h4l5 5V4L7 9H3Zm13.5 3A4.5 4.5 0 0 0 14 8v8a4.47 4.47 0 0 0 2.5-4ZM14 3.23v2.06a7 7 0 0 1 0 13.42v2.06a9 9 0 0 0 0-17.54Z"/>
</svg>`,bat=cn.createElement("template");bat.innerHTML=`
  <style>
  
  :host(:not([${Gk}])) slot:not([name=high]):not([name=icon]), 
  :host([${Gk}=high]) slot:not([name=high]):not([name=icon]) {
    display: none !important;
  }

  :host([${Gk}=off]) slot:not([name=off]):not([name=icon]) {
    display: none !important;
  }

  :host([${Gk}=low]) slot:not([name=low]):not([name=icon]) {
    display: none !important;
  }

  :host([${Gk}=medium]) slot:not([name=medium]):not([name=icon]) {
    display: none !important;
  }
  </style>

  <slot name="icon">
    <slot name="off">${_Sr}</slot>
    <slot name="low">${MMe}</slot>
    <slot name="medium">${MMe}</slot>
    <slot name="high">${ESr}</slot>
  </slot>
`;const FMe=n=>{const r=n.mediaVolumeLevel==="off"?Sc.UNMUTE():Sc.MUTE();n.setAttribute("aria-label",r)};class CSr extends ku{static get observedAttributes(){return[...super.observedAttributes,xe.MEDIA_VOLUME_LEVEL]}constructor(e={}){super({slotTemplate:bat,...e})}connectedCallback(){FMe(this),super.connectedCallback()}attributeChangedCallback(e,r,i){e===xe.MEDIA_VOLUME_LEVEL&&FMe(this),super.attributeChangedCallback(e,r,i)}get mediaVolumeLevel(){return kc(this,xe.MEDIA_VOLUME_LEVEL)}set mediaVolumeLevel(e){Tc(this,xe.MEDIA_VOLUME_LEVEL,e)}handleClick(){const e=this.mediaVolumeLevel==="off"?Yn.MEDIA_UNMUTE_REQUEST:Yn.MEDIA_MUTE_REQUEST;this.dispatchEvent(new Be.CustomEvent(e,{composed:!0,bubbles:!0}))}}Be.customElements.get("media-mute-button")||Be.customElements.define("media-mute-button",CSr);const NMe=`<svg aria-hidden="true" viewBox="0 0 28 24">
  <path d="M24 3H4a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h20a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1Zm-1 16H5V5h18v14Zm-3-8h-7v5h7v-5Z"/>
</svg>`,xat=cn.createElement("template");xat.innerHTML=`
  <style>
  :host([${xe.MEDIA_IS_PIP}]) slot:not([name=exit]):not([name=icon]) {
    display: none !important;
  }

  
  :host(:not([${xe.MEDIA_IS_PIP}])) slot:not([name=enter]):not([name=icon]) {
    display: none !important;
  }
  </style>

  <slot name="icon">
    <slot name="enter">${NMe}</slot>
    <slot name="exit">${NMe}</slot>
  </slot>
`;const BMe=n=>{const e=n.mediaIsPip?Sc.EXIT_PIP():Sc.ENTER_PIP();n.setAttribute("aria-label",e)};class SSr extends ku{static get observedAttributes(){return[...super.observedAttributes,xe.MEDIA_IS_PIP,xe.MEDIA_PIP_UNAVAILABLE]}constructor(e={}){super({slotTemplate:xat,...e})}connectedCallback(){BMe(this),super.connectedCallback()}attributeChangedCallback(e,r,i){e===xe.MEDIA_IS_PIP&&BMe(this),super.attributeChangedCallback(e,r,i)}get mediaPipUnavailable(){return kc(this,xe.MEDIA_PIP_UNAVAILABLE)}set mediaPipUnavailable(e){Tc(this,xe.MEDIA_PIP_UNAVAILABLE,e)}get mediaIsPip(){return ml(this,xe.MEDIA_IS_PIP)}set mediaIsPip(e){gl(this,xe.MEDIA_IS_PIP,e)}handleClick(){const e=this.mediaIsPip?Yn.MEDIA_EXIT_PIP_REQUEST:Yn.MEDIA_ENTER_PIP_REQUEST;this.dispatchEvent(new Be.CustomEvent(e,{composed:!0,bubbles:!0}))}}Be.customElements.get("media-pip-button")||Be.customElements.define("media-pip-button",SSr);const kSr=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="m6 21 15-9L6 3v18Z"/>
</svg>`,TSr=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M6 20h4V4H6v16Zm8-16v16h4V4h-4Z"/>
</svg>`,wat=cn.createElement("template");wat.innerHTML=`
  <style>
  :host([${xe.MEDIA_PAUSED}]) slot[name=pause] {
    display: none !important;
  }

  :host(:not([${xe.MEDIA_PAUSED}])) slot[name=play] {
    display: none !important;
  }
  </style>

  <slot name="icon">
    <slot name="play">${kSr}</slot>
    <slot name="pause">${TSr}</slot>
  </slot>
`;const UMe=n=>{const e=n.mediaPaused?Sc.PLAY():Sc.PAUSE();n.setAttribute("aria-label",e)};class ASr extends ku{static get observedAttributes(){return[...super.observedAttributes,xe.MEDIA_PAUSED,xe.MEDIA_ENDED]}constructor(e={}){super({slotTemplate:wat,...e})}connectedCallback(){UMe(this),super.connectedCallback()}attributeChangedCallback(e,r,i){e===xe.MEDIA_PAUSED&&UMe(this),super.attributeChangedCallback(e,r,i)}get mediaPaused(){return ml(this,xe.MEDIA_PAUSED)}set mediaPaused(e){gl(this,xe.MEDIA_PAUSED,e)}handleClick(){const e=this.mediaPaused?Yn.MEDIA_PLAY_REQUEST:Yn.MEDIA_PAUSE_REQUEST;this.dispatchEvent(new Be.CustomEvent(e,{composed:!0,bubbles:!0}))}}Be.customElements.get("media-play-button")||Be.customElements.define("media-play-button",ASr);var ISr=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},vj=(n,e,r)=>(ISr(n,e,"read from private field"),r?r.call(n):e.get(n)),DSr=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},z_;const UH={RATES:"rates"},_at=[1,1.2,1.5,1.7,2],LT=1,Eat=cn.createElement("template");Eat.innerHTML=`
  <style>
    :host {
      min-width: 5ch;
      padding: var(--media-control-padding, 10px 5px);
    }
  </style>
  <span id="container"></span>
`;class RSr extends ku{constructor(e={}){super({slotTemplate:Eat,...e}),DSr(this,z_,new qse(this,UH.RATES,{defaultValue:_at})),this.container=this.shadowRoot.querySelector("#container"),this.container.innerHTML=`${LT}x`}static get observedAttributes(){return[...super.observedAttributes,xe.MEDIA_PLAYBACK_RATE,UH.RATES]}attributeChangedCallback(e,r,i){if(super.attributeChangedCallback(e,r,i),e===UH.RATES&&(vj(this,z_).value=i),e===xe.MEDIA_PLAYBACK_RATE){const o=i?+i:Number.NaN,s=Number.isNaN(o)?LT:o;this.container.innerHTML=`${s}x`,this.setAttribute("aria-label",Cy.PLAYBACK_RATE({playbackRate:s}))}}get rates(){return vj(this,z_)}set rates(e){e?Array.isArray(e)&&(vj(this,z_).value=e.join(" ")):vj(this,z_).value=""}get mediaPlaybackRate(){return sa(this,xe.MEDIA_PLAYBACK_RATE,LT)}set mediaPlaybackRate(e){Kl(this,xe.MEDIA_PLAYBACK_RATE,e)}handleClick(){var e,r;const i=Array.from(this.rates.values(),a=>+a).sort((a,l)=>a-l),o=(r=(e=i.find(a=>a>this.mediaPlaybackRate))!=null?e:i[0])!=null?r:LT,s=new Be.CustomEvent(Yn.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:o});this.dispatchEvent(s)}}z_=new WeakMap;Be.customElements.get("media-playback-rate-button")||Be.customElements.define("media-playback-rate-button",RSr);const zh={PLACEHOLDER_SRC:"placeholdersrc",SRC:"src"},Cat=cn.createElement("template");Cat.innerHTML=`
  <style>
    :host {
      pointer-events: none;
      display: var(--media-poster-image-display, inline-block);
      box-sizing: border-box;
    }

    img {
      max-width: 100%;
      max-height: 100%;
      min-width: 100%;
      min-height: 100%;
      background-repeat: no-repeat;
      background-position: var(--media-poster-image-background-position, var(--media-object-position, center));
      background-size: var(--media-poster-image-background-size, var(--media-object-fit, contain));
      object-fit: var(--media-object-fit, contain);
      object-position: var(--media-object-position, center);
    }
  </style>

  <img part="poster img" aria-hidden="true" id="image"/>
`;const OSr=n=>{n.style.removeProperty("background-image")},PSr=(n,e)=>{n.style["background-image"]=`url('${e}')`};class jSr extends Be.HTMLElement{static get observedAttributes(){return[zh.PLACEHOLDER_SRC,zh.SRC]}constructor(){super(),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(Cat.content.cloneNode(!0))),this.image=this.shadowRoot.querySelector("#image")}attributeChangedCallback(e,r,i){e===zh.SRC&&(i==null?this.image.removeAttribute(zh.SRC):this.image.setAttribute(zh.SRC,i)),e===zh.PLACEHOLDER_SRC&&(i==null?OSr(this.image):PSr(this.image,i))}get placeholderSrc(){return kc(this,zh.PLACEHOLDER_SRC)}set placeholderSrc(e){Tc(this,zh.SRC,e)}get src(){return kc(this,zh.SRC)}set src(e){Tc(this,zh.SRC,e)}}Be.customElements.get("media-poster-image")||Be.customElements.define("media-poster-image",jSr);const u_={SEEK_OFFSET:"seekoffset"},E$=30,LSr=`<svg aria-hidden="true" viewBox="0 0 20 24"><defs><style>.text{font-size:8px;font-family:Arial-BoldMT, Arial;font-weight:700;}</style></defs><text class="text value" transform="translate(2.18 19.87)">${E$}</text><path d="M10 6V3L4.37 7 10 10.94V8a5.54 5.54 0 0 1 1.9 10.48v2.12A7.5 7.5 0 0 0 10 6Z"/></svg>`,Sat=cn.createElement("template");Sat.innerHTML=`
  <slot name="icon">${LSr}</slot>
`;const $Sr=0;class MSr extends ku{static get observedAttributes(){return[...super.observedAttributes,xe.MEDIA_CURRENT_TIME,u_.SEEK_OFFSET]}constructor(e={}){super({slotTemplate:Sat,...e})}connectedCallback(){this.seekOffset=sa(this,u_.SEEK_OFFSET,E$),super.connectedCallback()}attributeChangedCallback(e,r,i){e===u_.SEEK_OFFSET&&(this.seekOffset=sa(this,u_.SEEK_OFFSET,E$)),super.attributeChangedCallback(e,r,i)}get seekOffset(){return sa(this,u_.SEEK_OFFSET,E$)}set seekOffset(e){Kl(this,u_.SEEK_OFFSET,e),this.setAttribute("aria-label",Sc.SEEK_BACK_N_SECS({seekOffset:this.seekOffset})),Pst(jst(this,"icon"),this.seekOffset)}get mediaCurrentTime(){return sa(this,xe.MEDIA_CURRENT_TIME,$Sr)}set mediaCurrentTime(e){Kl(this,xe.MEDIA_CURRENT_TIME,e)}handleClick(){const e=Math.max(this.mediaCurrentTime-this.seekOffset,0),r=new Be.CustomEvent(Yn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(r)}}Be.customElements.get("media-seek-backward-button")||Be.customElements.define("media-seek-backward-button",MSr);var kat=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},zMe=(n,e,r)=>(kat(n,e,"read from private field"),r?r.call(n):e.get(n)),FSr=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},NSr=(n,e,r,i)=>(kat(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),$T;class BSr extends QB{constructor(){super(),FSr(this,$T,void 0),NSr(this,$T,this.shadowRoot.querySelector("slot")),zMe(this,$T).textContent=sx(0)}static get observedAttributes(){return[...super.observedAttributes,xe.MEDIA_PREVIEW_TIME]}attributeChangedCallback(e,r,i){e===xe.MEDIA_PREVIEW_TIME&&i!=null&&(zMe(this,$T).textContent=sx(i)),super.attributeChangedCallback(e,r,i)}get mediaPreviewTime(){return sa(this,xe.MEDIA_PREVIEW_TIME)}set mediaPreviewTime(e){Kl(this,xe.MEDIA_PREVIEW_TIME,e)}}$T=new WeakMap;Be.customElements.get("media-preview-time-display")||Be.customElements.define("media-preview-time-display",BSr);var Tat=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},yj=(n,e,r)=>(Tat(n,e,"read from private field"),r?r.call(n):e.get(n)),USr=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},bj=(n,e,r,i)=>(Tat(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),ep;const Aat=cn.createElement("template");Aat.innerHTML=`
  <style>
    :host {
      box-sizing: border-box;
      display: var(--media-control-display, var(--media-preview-thumbnail-display, inline-block));
      overflow: hidden;
    }

    img {
      display: none;
      position: relative;
    }
  </style>
  <img crossorigin loading="eager" decoding="async">
`;class zSr extends Be.HTMLElement{constructor(){super(),USr(this,ep,void 0),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(Aat.content.cloneNode(!0)))}static get observedAttributes(){return[Fr.MEDIA_CONTROLLER,xe.MEDIA_PREVIEW_IMAGE,xe.MEDIA_PREVIEW_COORDS]}connectedCallback(){var e,r,i;const o=this.getAttribute(Fr.MEDIA_CONTROLLER);o&&(bj(this,ep,(e=this.getRootNode())==null?void 0:e.getElementById(o)),(i=(r=yj(this,ep))==null?void 0:r.associateElement)==null||i.call(r,this))}disconnectedCallback(){var e,r;(r=(e=yj(this,ep))==null?void 0:e.unassociateElement)==null||r.call(e,this),bj(this,ep,null)}attributeChangedCallback(e,r,i){var o,s,a,l,c;[xe.MEDIA_PREVIEW_IMAGE,xe.MEDIA_PREVIEW_COORDS].includes(e)&&this.update(),e===Fr.MEDIA_CONTROLLER&&(r&&((s=(o=yj(this,ep))==null?void 0:o.unassociateElement)==null||s.call(o,this),bj(this,ep,null)),i&&this.isConnected&&(bj(this,ep,(a=this.getRootNode())==null?void 0:a.getElementById(i)),(c=(l=yj(this,ep))==null?void 0:l.associateElement)==null||c.call(l,this)))}get mediaPreviewImage(){return kc(this,xe.MEDIA_PREVIEW_IMAGE)}set mediaPreviewImage(e){Tc(this,xe.MEDIA_PREVIEW_IMAGE,e)}get mediaPreviewCoords(){const e=this.getAttribute(xe.MEDIA_PREVIEW_COORDS);if(e)return e.split(/\s+/).map(r=>+r)}set mediaPreviewCoords(e){if(!e){this.removeAttribute(xe.MEDIA_PREVIEW_COORDS);return}this.setAttribute(xe.MEDIA_PREVIEW_COORDS,e.join(" "))}update(){const e=this.mediaPreviewCoords,r=this.mediaPreviewImage;if(!(e&&r))return;const[i,o,s,a]=e,l=r.split("#")[0],c=getComputedStyle(this),{maxWidth:u,maxHeight:f,minWidth:h,minHeight:m}=c,g=Math.min(parseInt(u)/s,parseInt(f)/a),v=Math.max(parseInt(h)/s,parseInt(m)/a),y=g<1,b=y?g:v>1?v:1,{style:x}=ql(this.shadowRoot,":host"),_=ql(this.shadowRoot,"img").style,w=this.shadowRoot.querySelector("img"),C=y?"min":"max";x.setProperty(`${C}-width`,"initial","important"),x.setProperty(`${C}-height`,"initial","important"),x.width=`${s*b}px`,x.height=`${a*b}px`;const S=()=>{_.width=`${this.imgWidth*b}px`,_.height=`${this.imgHeight*b}px`,_.display="block"};w.src!==l&&(w.onload=()=>{this.imgWidth=w.naturalWidth,this.imgHeight=w.naturalHeight,S()},w.src=l,S()),S(),_.transform=`translate(-${i*b}px, -${o*b}px)`}}ep=new WeakMap;Be.customElements.get("media-preview-thumbnail")||Be.customElements.define("media-preview-thumbnail",zSr);var Iat=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},Ma=(n,e,r)=>(Iat(n,e,"read from private field"),r?r.call(n):e.get(n)),Vh=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},Uu=(n,e,r,i)=>(Iat(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),VSr=(n,e,r,i)=>({set _(o){Uu(n,e,o,r)},get _(){return Ma(n,e,i)}}),V_,C$,H_,MT,S$,k$,T$,W_,K1,A$;class HSr{constructor(e,r,i){Vh(this,V_,void 0),Vh(this,C$,void 0),Vh(this,H_,void 0),Vh(this,MT,void 0),Vh(this,S$,void 0),Vh(this,k$,void 0),Vh(this,T$,void 0),Vh(this,W_,void 0),Vh(this,K1,0),Vh(this,A$,(o=performance.now())=>{Uu(this,K1,requestAnimationFrame(Ma(this,A$))),Uu(this,MT,performance.now()-Ma(this,H_));const s=1e3/this.fps;if(Ma(this,MT)>s){Uu(this,H_,o-Ma(this,MT)%s);const a=1e3/((o-Ma(this,C$))/++VSr(this,S$)._),l=(o-Ma(this,k$))/1e3/this.duration;let c=Ma(this,T$)+l*this.playbackRate;c-Ma(this,V_).valueAsNumber>0?Uu(this,W_,this.playbackRate/this.duration/a):(Uu(this,W_,.995*Ma(this,W_)),c=Ma(this,V_).valueAsNumber+Ma(this,W_)),this.callback(c)}}),Uu(this,V_,e),this.callback=r,this.fps=i}start(){Ma(this,K1)===0&&(Uu(this,H_,performance.now()),Uu(this,C$,Ma(this,H_)),Uu(this,S$,0),Ma(this,A$).call(this))}stop(){Ma(this,K1)!==0&&(cancelAnimationFrame(Ma(this,K1)),Uu(this,K1,0))}update({start:e,duration:r,playbackRate:i}){const o=e-Ma(this,V_).valueAsNumber;(o>0||o<-.03)&&this.callback(e),Uu(this,T$,e),Uu(this,k$,performance.now()),this.duration=r,this.playbackRate=i}}V_=new WeakMap;C$=new WeakMap;H_=new WeakMap;MT=new WeakMap;S$=new WeakMap;k$=new WeakMap;T$=new WeakMap;W_=new WeakMap;K1=new WeakMap;A$=new WeakMap;var nae=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},Zu=(n,e,r)=>(nae(n,e,"read from private field"),r?r.call(n):e.get(n)),Yc=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},jv=(n,e,r,i)=>(nae(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),Nd=(n,e,r)=>(nae(n,e,"access private method"),r),G_,ax,y4,b4,FT,x4,w4,q_,NT,rae,Dat,KZ,_4,iae,YZ,Rat,bI,E4,ZZ,Oat;const WSr="video not loaded, unknown time.",GSr=n=>{const e=n.range,r=GA(+jat(n)),i=GA(+n.mediaSeekableEnd),o=r&&i?`${r} of ${i}`:WSr;e.setAttribute("aria-valuetext",o)},Pat=cn.createElement("template");Pat.innerHTML=`
  <style>
    :host {
      --media-preview-border-radius: 3px;
      --media-box-padding-left: 10px;
      --media-box-padding-right: 10px;
    }

    #highlight {
      background: var(--media-time-range-buffered-color, rgb(255 255 255 / .4));
    }

    #preview-rail,
    #current-rail {
      
      width: 1%;
      position: absolute;
      left: 0;
      bottom: 100%;
      pointer-events: none;
    }

    [part~="box"] {
      
      position: absolute;
      bottom: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      transform: translateX(-50%);
    }

    [part~="preview-box"] {
      transition-property: var(--media-preview-transition-property, visibility, opacity);
      transition-duration: var(--media-preview-transition-duration-out, .25s);
      transition-delay: var(--media-preview-transition-delay-out, 0s);
      visibility: hidden;
      opacity: 0;
    }

    :host(:is([${xe.MEDIA_PREVIEW_IMAGE}], [${xe.MEDIA_PREVIEW_TIME}])[dragging]) [part~="preview-box"] {
      transition-duration: var(--media-preview-transition-duration-in, .5s);
      transition-delay: var(--media-preview-transition-delay-in, .25s);
      visibility: visible;
      opacity: 1;
    }

    @media (hover: hover) {
      :host(:is([${xe.MEDIA_PREVIEW_IMAGE}], [${xe.MEDIA_PREVIEW_TIME}]):hover) [part~="preview-box"] {
        transition-duration: var(--media-preview-transition-duration-in, .5s);
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        visibility: visible;
        opacity: 1;
      }
    }

    media-preview-thumbnail,
    ::slotted(media-preview-thumbnail) {
      visibility: hidden;
      
      transition: visibility 0s .25s;
      transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
      background: var(--media-preview-thumbnail-background, var(--media-preview-background, var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)))));
      box-shadow: var(--media-preview-thumbnail-box-shadow, 0 0 4px rgb(0 0 0 / .2));
      max-width: var(--media-preview-thumbnail-max-width, 180px);
      max-height: var(--media-preview-thumbnail-max-height, 160px);
      min-width: var(--media-preview-thumbnail-min-width, 120px);
      min-height: var(--media-preview-thumbnail-min-height, 80px);
      border: var(--media-preview-thumbnail-border);
      border-radius: var(--media-preview-thumbnail-border-radius,
        var(--media-preview-border-radius) var(--media-preview-border-radius) 0 0);
    }

    :host([${xe.MEDIA_PREVIEW_IMAGE}][dragging]) media-preview-thumbnail,
    :host([${xe.MEDIA_PREVIEW_IMAGE}][dragging]) ::slotted(media-preview-thumbnail) {
      transition-delay: var(--media-preview-transition-delay-in, .25s);
      visibility: visible;
    }

    @media (hover: hover) {
      :host([${xe.MEDIA_PREVIEW_IMAGE}]:hover) media-preview-thumbnail,
      :host([${xe.MEDIA_PREVIEW_IMAGE}]:hover) ::slotted(media-preview-thumbnail) {
        transition-delay: var(--media-preview-transition-delay-in, .25s);
        visibility: visible;
      }

      :host([${xe.MEDIA_PREVIEW_TIME}]:hover) {
        --media-time-range-hover-display: block;
      }
    }

    media-preview-time-display,
    ::slotted(media-preview-time-display) {
      min-width: 0;
      
      transition: min-width 0s, border-radius 0s;
      transition-delay: calc(var(--media-preview-transition-delay-out, 0s) + var(--media-preview-transition-duration-out, .25s));
      background: var(--media-preview-time-background, var(--media-preview-background, var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .7)))));
      border-radius: var(--media-preview-time-border-radius,
        var(--media-preview-border-radius) var(--media-preview-border-radius)
        var(--media-preview-border-radius) var(--media-preview-border-radius));
      padding: var(--media-preview-time-padding, 1px 10px 0);
      margin: var(--media-preview-time-margin, 0 0 10px);
      text-shadow: var(--media-preview-time-text-shadow, 0 0 4px rgb(0 0 0 / .75));
    }

    :host([${xe.MEDIA_PREVIEW_IMAGE}]) media-preview-time-display,
    :host([${xe.MEDIA_PREVIEW_IMAGE}]) ::slotted(media-preview-time-display) {
      transition-delay: var(--media-preview-transition-delay-in, .25s);
      min-width: 100%;
      border-radius: var(--media-preview-time-border-radius,
        0 0 var(--media-preview-border-radius) var(--media-preview-border-radius));
    }
  </style>
  <div id="preview-rail">
    <slot name="preview" part="box preview-box">
      <media-preview-thumbnail></media-preview-thumbnail>
      <media-preview-time-display></media-preview-time-display>
    </slot>
  </div>
  <div id="current-rail">
    <slot name="current" part="box current-box">
      
    </slot>
  </div>
`;const VMe=(n,e=n.mediaCurrentTime)=>{if(Number.isNaN(n.mediaSeekableEnd))return 0;const r=(e-n.mediaSeekableStart)/(n.mediaSeekableEnd-n.mediaSeekableStart);return Math.max(0,Math.min(r,1))},jat=(n,e=n.range.valueAsNumber)=>Number.isNaN(n.mediaSeekableEnd)?0:e*(n.mediaSeekableEnd-n.mediaSeekableStart)+n.mediaSeekableStart;class qSr extends tae{constructor(){super(),Yc(this,q_),Yc(this,rae),Yc(this,_4),Yc(this,YZ),Yc(this,bI),Yc(this,ZZ),Yc(this,G_,void 0),Yc(this,ax,void 0),Yc(this,y4,void 0),Yc(this,b4,void 0),Yc(this,FT,void 0),Yc(this,x4,void 0),Yc(this,w4,void 0),Yc(this,KZ,r=>{this.dragging||(this.range.valueAsNumber=r,this.updateBar())}),this.container.appendChild(Pat.content.cloneNode(!0)),jv(this,y4,this.shadowRoot.querySelectorAll('[part~="box"]')),jv(this,b4,this.shadowRoot.querySelector('[part~="preview-box"]')),jv(this,FT,this.shadowRoot.querySelector('[part~="current-box"]'));const e=getComputedStyle(this);jv(this,x4,parseInt(e.getPropertyValue("--media-box-padding-left"))),jv(this,w4,parseInt(e.getPropertyValue("--media-box-padding-right"))),jv(this,ax,new HSr(this.range,Zu(this,KZ),60))}static get observedAttributes(){return[...super.observedAttributes,xe.MEDIA_PAUSED,xe.MEDIA_DURATION,xe.MEDIA_SEEKABLE,xe.MEDIA_CURRENT_TIME,xe.MEDIA_PREVIEW_IMAGE,xe.MEDIA_PREVIEW_TIME,xe.MEDIA_BUFFERED,xe.MEDIA_PLAYBACK_RATE,xe.MEDIA_LOADING,xe.MEDIA_ENDED]}connectedCallback(){var e;super.connectedCallback(),this.range.setAttribute("aria-label",Cy.SEEK()),Nd(this,q_,NT).call(this),jv(this,G_,this.getRootNode()),(e=Zu(this,G_))==null||e.addEventListener("transitionstart",this)}disconnectedCallback(){var e;super.disconnectedCallback(),Nd(this,q_,NT).call(this),(e=Zu(this,G_))==null||e.removeEventListener("transitionstart",this),jv(this,G_,null)}attributeChangedCallback(e,r,i){super.attributeChangedCallback(e,r,i),r!=i&&(e===xe.MEDIA_CURRENT_TIME||e===xe.MEDIA_PAUSED||e===xe.MEDIA_ENDED||e===xe.MEDIA_LOADING||e===xe.MEDIA_DURATION||e===xe.MEDIA_SEEKABLE?(Zu(this,ax).update({start:VMe(this),duration:this.mediaSeekableEnd-this.mediaSeekableStart,playbackRate:this.mediaPlaybackRate}),Nd(this,q_,NT).call(this),GSr(this)):e===xe.MEDIA_BUFFERED&&this.updateBufferedBar())}get mediaPaused(){return ml(this,xe.MEDIA_PAUSED)}set mediaPaused(e){gl(this,xe.MEDIA_PAUSED,e)}get mediaLoading(){return ml(this,xe.MEDIA_LOADING)}set mediaLoading(e){gl(this,xe.MEDIA_LOADING,e)}get mediaDuration(){return sa(this,xe.MEDIA_DURATION)}set mediaDuration(e){Kl(this,xe.MEDIA_DURATION,e)}get mediaCurrentTime(){return sa(this,xe.MEDIA_CURRENT_TIME)}set mediaCurrentTime(e){Kl(this,xe.MEDIA_CURRENT_TIME,e)}get mediaPlaybackRate(){return sa(this,xe.MEDIA_PLAYBACK_RATE,1)}set mediaPlaybackRate(e){Kl(this,xe.MEDIA_PLAYBACK_RATE,e)}get mediaBuffered(){const e=this.getAttribute(xe.MEDIA_BUFFERED);return e?e.split(" ").map(r=>r.split(":").map(i=>+i)):[]}set mediaBuffered(e){if(!e){this.removeAttribute(xe.MEDIA_BUFFERED);return}const r=e.map(i=>i.join(":")).join(" ");this.setAttribute(xe.MEDIA_BUFFERED,r)}get mediaSeekable(){const e=this.getAttribute(xe.MEDIA_SEEKABLE);if(e)return e.split(":").map(r=>+r)}set mediaSeekable(e){if(e==null){this.removeAttribute(xe.MEDIA_SEEKABLE);return}this.setAttribute(xe.MEDIA_SEEKABLE,e.join(":"))}get mediaSeekableEnd(){var e;const[,r=this.mediaDuration]=(e=this.mediaSeekable)!=null?e:[];return r}get mediaSeekableStart(){var e;const[r=0]=(e=this.mediaSeekable)!=null?e:[];return r}get mediaPreviewImage(){return kc(this,xe.MEDIA_PREVIEW_IMAGE)}set mediaPreviewImage(e){Tc(this,xe.MEDIA_PREVIEW_IMAGE,e)}get mediaPreviewTime(){return sa(this,xe.MEDIA_PREVIEW_TIME)}set mediaPreviewTime(e){Kl(this,xe.MEDIA_PREVIEW_TIME,e)}get mediaEnded(){return ml(this,xe.MEDIA_ENDED)}set mediaEnded(e){gl(this,xe.MEDIA_ENDED,e)}updateBar(){super.updateBar(),this.updateBufferedBar(),this.updateCurrentBox()}updateBufferedBar(){var e;const r=this.mediaBuffered;if(!r.length)return;let i;if(this.mediaEnded)i=1;else{const s=this.mediaCurrentTime,[,a=this.mediaSeekableStart]=(e=r.find(([l,c])=>l<=s&&s<=c))!=null?e:[];i=VMe(this,a)}const{style:o}=ql(this.shadowRoot,"#highlight");o.setProperty("width",`${i*100}%`)}updateCurrentBox(){if(!Zu(this,FT).assignedElements().length)return;const e=Nd(this,_4,iae).call(this,Zu(this,FT),this.range.valueAsNumber),{style:r}=ql(this.shadowRoot,"#current-rail");r.transform=`translateX(${e})`}handleEvent(e){switch(super.handleEvent(e),e.type){case"input":Nd(this,ZZ,Oat).call(this);break;case"pointermove":Nd(this,YZ,Rat).call(this,e);break;case"pointerup":case"pointerleave":Nd(this,bI,E4).call(this,null);break;case"transitionstart":hC(e.target,this)&&setTimeout(()=>Nd(this,q_,NT).call(this),0);break}}}G_=new WeakMap;ax=new WeakMap;y4=new WeakMap;b4=new WeakMap;FT=new WeakMap;x4=new WeakMap;w4=new WeakMap;q_=new WeakSet;NT=function(){Nd(this,rae,Dat).call(this)?Zu(this,ax).start():Zu(this,ax).stop()};rae=new WeakSet;Dat=function(){return this.isConnected&&lCr(this)&&!this.mediaPaused&&!this.mediaLoading&&!this.mediaEnded};KZ=new WeakMap;_4=new WeakSet;iae=function(n,e){var r;let i=`${e*100*100}%`;const o=n.offsetWidth;if(!o)return i;const s=(r=this.getAttribute("bounds")?pR(this,`#${this.getAttribute("bounds")}`):this.parentElement)!=null?r:this,a=this.range.getBoundingClientRect(),l=s.getBoundingClientRect(),c=(Zu(this,x4)-(a.left-l.left-o/2))/a.width*100,u=(l.right-a.left-o/2-Zu(this,w4))/a.width*100;return Number.isNaN(c)||(i=`max(${c*100}%, ${i})`),Number.isNaN(u)||(i=`min(${i}, ${u*100}%)`),i};YZ=new WeakSet;Rat=function(n){const e=[...Zu(this,y4)].some(l=>n.composedPath().includes(l));if(!this.dragging&&(e||!n.composedPath().includes(this))){Nd(this,bI,E4).call(this,null);return}const r=this.mediaDuration;if(!r)return;const i=this.range.getBoundingClientRect();let o=(n.clientX-i.left)/i.width;o=Math.max(0,Math.min(1,o));const s=Nd(this,_4,iae).call(this,Zu(this,b4),o),{style:a}=ql(this.shadowRoot,"#preview-rail");a.transform=`translateX(${s})`,Nd(this,bI,E4).call(this,o*r)};bI=new WeakSet;E4=function(n){this.dispatchEvent(new Be.CustomEvent(Yn.MEDIA_PREVIEW_REQUEST,{composed:!0,bubbles:!0,detail:n}))};ZZ=new WeakSet;Oat=function(){Zu(this,ax).stop();const n=jat(this);this.dispatchEvent(new Be.CustomEvent(Yn.MEDIA_SEEK_REQUEST,{composed:!0,bubbles:!0,detail:n}))};Be.customElements.get("media-time-range")||Be.customElements.define("media-time-range",qSr);var Lat=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},d_=(n,e,r)=>(Lat(n,e,"read from private field"),r?r.call(n):e.get(n)),zH=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},f_=(n,e,r,i)=>(Lat(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),tp,I$,D$;const HMe={LOADING_DELAY:"loadingdelay"},$at=500,Mat=cn.createElement("template"),KSr=`
<svg aria-hidden="true" viewBox="0 0 100 100">
  <path d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50">
    <animateTransform
       attributeName="transform"
       attributeType="XML"
       type="rotate"
       dur="1s"
       from="0 50 50"
       to="360 50 50"
       repeatCount="indefinite" />
  </path>
</svg>
`;Mat.innerHTML=`
<style>
:host {
  display: var(--media-control-display, var(--media-loading-indicator-display, inline-block));
  vertical-align: middle;
  box-sizing: border-box;
  --_loading-indicator-delay: var(--media-loading-indicator-transition-delay, ${$at}ms);
}

#status {
  color: rgba(0,0,0,0);
  width: 0px;
  height: 0px;
}

:host slot[name=icon] > *,
:host ::slotted([slot=icon]) {
  opacity: var(--media-loading-indicator-opacity, 0);
  transition: opacity 0.15s;
}

:host([${xe.MEDIA_LOADING}]:not([${xe.MEDIA_PAUSED}])) slot[name=icon] > *,
:host([${xe.MEDIA_LOADING}]:not([${xe.MEDIA_PAUSED}])) ::slotted([slot=icon]) {
  opacity: var(--media-loading-indicator-opacity, 1);
  transition: opacity 0.15s var(--_loading-indicator-delay);
}

:host #status {
  visibility: var(--media-loading-indicator-opacity, hidden);
  transition: visibility 0.15s;
}

:host([${xe.MEDIA_LOADING}]:not([${xe.MEDIA_PAUSED}])) #status {
  visibility: var(--media-loading-indicator-opacity, visible);
  transition: visibility 0.15s var(--_loading-indicator-delay);
}

svg, img, ::slotted(svg), ::slotted(img) {
  width: var(--media-loading-indicator-icon-width);
  height: var(--media-loading-indicator-icon-height, 100px);
  fill: var(--media-icon-color, var(--media-primary-color, rgb(238 238 238)));
  vertical-align: middle;
}
</style>

<slot name="icon">${KSr}</slot>
<div id="status" role="status" aria-live="polite">${Cy.MEDIA_LOADING()}</div>
`;class YSr extends Be.HTMLElement{constructor(){if(super(),zH(this,tp,void 0),zH(this,I$,$at),zH(this,D$,void 0),!this.shadowRoot){const r=this.attachShadow({mode:"open"}),i=Mat.content.cloneNode(!0);r.appendChild(i)}const{style:e}=ql(this.shadowRoot,":host");f_(this,D$,e)}static get observedAttributes(){return[Fr.MEDIA_CONTROLLER,xe.MEDIA_PAUSED,xe.MEDIA_LOADING,HMe.LOADING_DELAY]}attributeChangedCallback(e,r,i){var o,s,a,l,c;e===HMe.LOADING_DELAY&&r!==i?this.loadingDelay=Number(i):e===Fr.MEDIA_CONTROLLER&&(r&&((s=(o=d_(this,tp))==null?void 0:o.unassociateElement)==null||s.call(o,this),f_(this,tp,null)),i&&this.isConnected&&(f_(this,tp,(a=this.getRootNode())==null?void 0:a.getElementById(i)),(c=(l=d_(this,tp))==null?void 0:l.associateElement)==null||c.call(l,this)))}connectedCallback(){var e,r,i;const o=this.getAttribute(Fr.MEDIA_CONTROLLER);o&&(f_(this,tp,(e=this.getRootNode())==null?void 0:e.getElementById(o)),(i=(r=d_(this,tp))==null?void 0:r.associateElement)==null||i.call(r,this))}disconnectedCallback(){var e,r;(r=(e=d_(this,tp))==null?void 0:e.unassociateElement)==null||r.call(e,this),f_(this,tp,null)}get loadingDelay(){return d_(this,I$)}set loadingDelay(e){f_(this,I$,e),d_(this,D$).setProperty("--_loading-indicator-delay",`var(--media-loading-indicator-transition-delay, ${e}ms)`)}get mediaPaused(){return ml(this,xe.MEDIA_PAUSED)}set mediaPaused(e){gl(this,xe.MEDIA_PAUSED,e)}get mediaLoading(){return ml(this,xe.MEDIA_LOADING)}set mediaLoading(e){gl(this,xe.MEDIA_LOADING,e)}}tp=new WeakMap;I$=new WeakMap;D$=new WeakMap;Be.customElements.get("media-loading-indicator")||Be.customElements.define("media-loading-indicator",YSr);const ZSr=1,XSr=n=>n.mediaMuted?0:n.mediaVolume,QSr=({value:n})=>`${Math.round(n*100)}%`;class JSr extends tae{static get observedAttributes(){return[...super.observedAttributes,xe.MEDIA_VOLUME,xe.MEDIA_MUTED,xe.MEDIA_VOLUME_UNAVAILABLE]}constructor(){super(),this.range.addEventListener("input",()=>{const e=this.range.value,r=new Be.CustomEvent(Yn.MEDIA_VOLUME_REQUEST,{composed:!0,bubbles:!0,detail:e});this.dispatchEvent(r)})}connectedCallback(){super.connectedCallback(),this.range.setAttribute("aria-label",Cy.VOLUME())}attributeChangedCallback(e,r,i){super.attributeChangedCallback(e,r,i),(e===xe.MEDIA_VOLUME||e===xe.MEDIA_MUTED)&&(this.range.valueAsNumber=XSr(this),this.range.setAttribute("aria-valuetext",QSr(this.range)),this.updateBar())}get mediaVolume(){return sa(this,xe.MEDIA_VOLUME,ZSr)}set mediaVolume(e){Kl(this,xe.MEDIA_VOLUME,e)}get mediaMuted(){return ml(this,xe.MEDIA_MUTED)}set mediaMuted(e){gl(this,xe.MEDIA_MUTED,e)}get mediaVolumeUnavailable(){return kc(this,xe.MEDIA_VOLUME_UNAVAILABLE)}set mediaVolumeUnavailable(e){Tc(this,xe.MEDIA_VOLUME_UNAVAILABLE,e)}}Be.customElements.get("media-volume-range")||Be.customElements.define("media-volume-range",JSr);var oae=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},rl=(n,e,r)=>(oae(n,e,"read from private field"),r?r.call(n):e.get(n)),$u=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},qf=(n,e,r,i)=>(oae(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),Ff=(n,e,r)=>(oae(n,e,"access private method"),r),np,b0,jE,BT,R$,O$,XZ,K_,QZ,P$,JZ,UT,j$,L$,eX,tX,Fat,sae,Nat;const e2r=`
<svg aria-hidden="true" viewBox="0 1 24 24" part="select-indicator indicator">
  <path d="m10 15.17 9.193-9.191 1.414 1.414-10.606 10.606-6.364-6.364 1.414-1.414 4.95 4.95Z"/>
</svg>`;function uS(n,e,r){const i=cn.createElement("media-chrome-option");i.part.add("option"),i.value=e,i.selected=r;const o=cn.createElement("span");return o.textContent=n,i.append(o),i}function lx(n,e){let r=n.querySelector(`:scope > [slot="${e}"]`);return(r==null?void 0:r.nodeName)=="SLOT"&&(r=r.assignedElements({flatten:!0})[0]),r?(r=r.cloneNode(!0),r.removeAttribute("slot"),r):n.shadowRoot.querySelector(`[name="${e}"] > svg`).cloneNode(!0)}const Bat=cn.createElement("template");Bat.innerHTML=`
<style>
  :host {
    font: var(--media-font,
      var(--media-font-weight, normal)
      var(--media-font-size, 15px) /
      var(--media-text-content-height, var(--media-control-height, 24px))
      var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
    color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
    background: var(--media-listbox-background, var(--media-control-background, var(--media-secondary-color, rgb(20 20 30 / .8))));
    border-radius: var(--media-listbox-border-radius);
    display: inline-flex;
    flex-direction: column;
    position: relative;
    box-sizing: border-box;
  }

  ::slotted([slot="header"]) {
    padding: .4em 1.4em;
    border-bottom: 1px solid rgb(255 255 255 / .25);
  }

  #container {
    gap: var(--media-listbox-gap);
    display: flex;
    flex-direction: var(--media-listbox-flex-direction, column);
    overflow: hidden auto;
    padding-block: .5em;
  }

  media-chrome-option {
    padding-inline: .7em 1.4em;
  }

  media-chrome-option > span {
    margin-inline: .5ch;
  }

  [part~="indicator"] {
    fill: var(--media-option-indicator-fill, var(--media-icon-color, var(--media-primary-color, rgb(238 238 238))));
    height: var(--media-option-indicator-height, 1.25em);
    vertical-align: var(--media-option-indicator-vertical-align, text-top);
  }

  [part~="select-indicator"] {
    display: var(--media-option-select-indicator-display);
    visibility: hidden;
  }

  [aria-selected="true"] > [part~="select-indicator"] {
    visibility: visible;
  }
</style>
<style id="layout-row" media="width:0">

  ::slotted([slot="header"]) {
    padding: .4em .5em;
  }

  #container {
    gap: var(--media-listbox-gap, .25em);
    flex-direction: var(--media-listbox-flex-direction, row);
    padding-inline: .5em;
  }

  media-chrome-option {
    padding: .3em .24em;
  }

  media-chrome-option[aria-selected="true"] {
    background: var(--media-option-selected-background, rgb(255 255 255 / .2));
  }

  [part~="select-indicator"] {
    display: var(--media-option-select-indicator-display, none);
  }
</style>
<slot name="header"></slot>
<slot id="container"></slot>
<slot name="select-indicator" hidden>${e2r}</slot>
`;class mR extends Be.HTMLElement{constructor(e={}){super(),$u(this,O$),$u(this,P$),$u(this,UT),$u(this,L$),$u(this,tX),$u(this,sae),$u(this,np,void 0),$u(this,b0,""),$u(this,jE,null),$u(this,BT,!1),$u(this,R$,r=>{this.handleClick(r)}),$u(this,K_,r=>{const{key:i}=r;if(i==="Escape"){this.removeEventListener("keyup",rl(this,K_));return}if(i==="Meta"){qf(this,BT,!1);return}Ff(this,O$,XZ).call(this,r)}),$u(this,QZ,r=>{const{key:i,altKey:o}=r;if(o){this.removeEventListener("keyup",rl(this,K_));return}if(i==="Meta"){qf(this,BT,!0);return}if(this.keysUsed.includes(i)&&r.preventDefault(),rl(this,BT)&&this.keysUsed.includes(i)){Ff(this,O$,XZ).call(this,r);return}this.addEventListener("keyup",rl(this,K_),{once:!0})}),this.shadowRoot||(this.attachShadow({mode:"open"}),this.nativeEl=Bat.content.cloneNode(!0),e.slotTemplate&&this.nativeEl.append(e.slotTemplate.content.cloneNode(!0)),this.shadowRoot.append(this.nativeEl)),this.container=this.shadowRoot.querySelector("#container"),this.container.addEventListener("slotchange",r=>{for(let i of r.target.assignedNodes({flatten:!0}))i.nodeType===3&&i.textContent.trim()===""&&i.remove()})}static get observedAttributes(){return["disabled","style",Fr.MEDIA_CONTROLLER]}static formatOptionText(e){return e}formatOptionText(e,r){return this.constructor.formatOptionText(e,r)}get options(){var e;let r=this.querySelectorAll("media-chrome-option");return r.length||(r=(e=this.container)==null?void 0:e.querySelectorAll("media-chrome-option")),Array.from(r)}get selectedOptions(){return this.options.filter(e=>e.selected)}get value(){var e,r;return(r=(e=this.selectedOptions[0])==null?void 0:e.value)!=null?r:""}set value(e){const r=this.options.find(i=>i.value===e);r&&Ff(this,L$,eX).call(this,r)}focus(){var e;(e=this.selectedOptions[0])==null||e.focus()}enable(){this.addEventListener("click",rl(this,R$)),this.addEventListener("keydown",rl(this,QZ))}disable(){this.removeEventListener("click",rl(this,R$)),this.removeEventListener("keyup",rl(this,K_))}attributeChangedCallback(e,r,i){var o,s,a,l,c;e==="style"&&i!==r?Ff(this,P$,JZ).call(this):e===Fr.MEDIA_CONTROLLER?(r&&((s=(o=rl(this,np))==null?void 0:o.unassociateElement)==null||s.call(o,this),qf(this,np,null)),i&&this.isConnected&&(qf(this,np,(a=this.getRootNode())==null?void 0:a.getElementById(i)),(c=(l=rl(this,np))==null?void 0:l.associateElement)==null||c.call(l,this))):e==="disabled"&&i!==r&&(i==null?this.enable():this.disable())}connectedCallback(){var e,r,i;Ff(this,P$,JZ).call(this),this.hasAttribute("disabled")||this.enable(),this.hasAttribute("role")||this.setAttribute("role","listbox");const o=this.getAttribute(Fr.MEDIA_CONTROLLER);o&&(qf(this,np,(e=this.getRootNode())==null?void 0:e.getElementById(o)),(i=(r=rl(this,np))==null?void 0:r.associateElement)==null||i.call(r,this))}disconnectedCallback(){var e,r;this.disable(),(r=(e=rl(this,np))==null?void 0:e.unassociateElement)==null||r.call(e,this),qf(this,np,null)}get keysUsed(){return["Enter"," ","ArrowDown","ArrowUp","Home","End"]}handleSelection(e,r){const i=Ff(this,UT,j$).call(this,e);i&&Ff(this,L$,eX).call(this,i,r)}handleMovement(e){const{key:r}=e,i=this.options;let o=Ff(this,UT,j$).call(this,e);o||(o=i.filter(a=>a.getAttribute("tabindex")==="0")[0]);let s;switch(r){case"ArrowDown":s=o.nextElementSibling,s!=null&&s.hasAttribute("disabled")&&(s=s.nextElementSibling);break;case"ArrowUp":s=o.previousElementSibling,s!=null&&s.hasAttribute("disabled")&&(s=s.previousElementSibling);break;case"Home":s=i[0];break;case"End":s=i[i.length-1];break;default:s=Ff(this,tX,Fat).call(this,r);break}s&&(i.forEach(a=>a.setAttribute("tabindex","-1")),s.setAttribute("tabindex","0"),s.focus())}handleClick(e){const r=Ff(this,UT,j$).call(this,e);!r||r.hasAttribute("disabled")||(this.options.forEach(i=>i.setAttribute("tabindex","-1")),r.setAttribute("tabindex","0"),this.handleSelection(e,this.hasAttribute("aria-multiselectable")&&this.getAttribute("aria-multiselectable")==="true"))}}np=new WeakMap;b0=new WeakMap;jE=new WeakMap;BT=new WeakMap;R$=new WeakMap;O$=new WeakSet;XZ=function(n){const{key:e}=n;e==="Enter"||e===" "?this.handleSelection(n,this.hasAttribute("aria-multiselectable")&&this.getAttribute("aria-multiselectable")==="true"):this.handleMovement(n)};K_=new WeakMap;QZ=new WeakMap;P$=new WeakSet;JZ=function(){var n;const e=this.shadowRoot.querySelector("#layout-row"),r=((n=getComputedStyle(this).getPropertyValue("--media-listbox-layout"))==null?void 0:n.trim())==="row";e.setAttribute("media",r?"":"width:0")};UT=new WeakSet;j$=function(n){const e=n.composedPath(),r=e.findIndex(i=>i.nodeName==="MEDIA-CHROME-OPTION");return e[r]};L$=new WeakSet;eX=function(n,e){const r=[...this.selectedOptions];(!this.hasAttribute("aria-multiselectable")||this.getAttribute("aria-multiselectable")!=="true")&&this.options.forEach(i=>i.selected=!1),e?n.selected=!n.selected:n.selected=!0,this.selectedOptions.some((i,o)=>i!=r[o])&&this.dispatchEvent(new Event("change",{bubbles:!0,composed:!0}))};tX=new WeakSet;Fat=function(n){Ff(this,sae,Nat).call(this);const e=this.options,r=e.findIndex(u=>u.getAttribute("tabindex")==="0");qf(this,b0,rl(this,b0)+n);const i=rl(this,b0).split("").every(u=>u===n),o=e.slice(r+(i?1:0)).filter(u=>u.textContent.toLowerCase().startsWith(rl(this,b0))),s=e.slice(0,r-(i?1:0)).filter(u=>u.textContent.toLowerCase().startsWith(rl(this,b0)));let a=[],l=[];return i&&(a=e.slice(r+(i?1:0)).filter(u=>u.textContent.startsWith(n)),l=e.slice(0,r-(i?1:0)).filter(u=>u.textContent.startsWith(n))),[...o,...s,...a,...l][0]};sae=new WeakSet;Nat=function(){clearTimeout(rl(this,jE)),qf(this,jE,null),qf(this,jE,setTimeout(()=>{qf(this,b0,""),qf(this,jE,null)},500))};Be.customElements.get("media-chrome-listbox")||Be.customElements.define("media-chrome-listbox",mR);var aae=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},nX=(n,e,r)=>(aae(n,e,"read from private field"),r?r.call(n):e.get(n)),VH=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},HH=(n,e,r,i)=>(aae(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),WMe=(n,e,r)=>(aae(n,e,"access private method"),r),$$,mC,M$,rX;const Uat=cn.createElement("template");Uat.innerHTML=`
<style>
  :host {
    cursor: pointer;
    display: block;
    line-height: revert;
    white-space: nowrap;
    white-space-collapse: collapse;
    text-wrap: nowrap;
    padding: .4em .5em;
    transition: var(--media-option-transition);
    outline: var(--media-option-outline, 0);
    outline-offset: var(--media-option-outline-offset, -1px);
  }

  :host(:focus-visible) {
    box-shadow: var(--media-option-focus-shadow, inset 0 0 0 2px rgb(27 127 204 / .9));
    outline: var(--media-option-hover-outline, 0);
    outline-offset: var(--media-option-hover-outline-offset,  var(--media-option-outline-offset, -1px));
  }

  :host(:hover) {
    cursor: pointer;
    background: var(--media-option-hover-background, rgb(82 82 122 / .8));
    outline: var(--media-option-hover-outline);
    outline-offset: var(--media-option-hover-outline-offset,  var(--media-option-outline-offset, -1px));
  }

  :host([aria-selected="true"]) {
    background: var(--media-option-selected-background);
  }

  :host([disabled]) {
    pointer-events: none;
    color: rgba(255, 255, 255, .3);
  }
</style>
<slot></slot>
`;const Lv={VALUE:"value",SELECTED:"selected",DISABLED:"disabled"};class t2r extends Be.HTMLElement{constructor(){super(),VH(this,M$),VH(this,$$,!1),VH(this,mC,void 0),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(Uat.content.cloneNode(!0)))}static get observedAttributes(){return[Lv.DISABLED,Lv.SELECTED,Lv.VALUE]}get value(){var e;return(e=this.getAttribute(Lv.VALUE))!=null?e:this.text}set value(e){this.setAttribute(Lv.VALUE,e)}get text(){var e;return((e=this.textContent)!=null?e:"").trim()}get selected(){return this.getAttribute("aria-selected")==="true"}set selected(e){HH(this,$$,!0),this.setAttribute("aria-selected",e?"true":"false"),e?this.part.add("option-selected"):this.part.remove("option-selected")}enable(){this.hasAttribute("tabindex")||this.setAttribute("tabindex",-1),this.hasAttribute("aria-selected")||this.setAttribute("aria-selected","false")}disable(){this.removeAttribute("tabindex")}attributeChangedCallback(e,r,i){e===Lv.SELECTED&&!nX(this,$$)?this.setAttribute("aria-selected",i!=null?"true":"false"):e===Lv.DISABLED&&i!==r&&(i==null?this.enable():this.disable())}connectedCallback(){this.hasAttribute(Lv.DISABLED)||this.enable(),this.setAttribute("role","option"),HH(this,mC,iX(this,this.parentNode)),WMe(this,M$,rX).call(this)}disconnectedCallback(){this.disable(),WMe(this,M$,rX).call(this),HH(this,mC,null)}handleClick(){}}$$=new WeakMap;mC=new WeakMap;M$=new WeakSet;rX=function(){var n;const e=(n=nX(this,mC))==null?void 0:n.options;if(!e)return;let r=e.filter(i=>i.getAttribute("aria-selected")==="true").pop();r||(r=e[0]),nX(this,mC).getAttribute("aria-multiselectable")!=="true"&&e.forEach(i=>{i.setAttribute("tabindex","-1"),i.setAttribute("aria-selected","false")}),r==null||r.setAttribute("tabindex","0"),r==null||r.setAttribute("aria-selected","true")};function iX(n,e){if(!n)return null;const{host:r}=n.getRootNode();return!e&&r?iX(n,r):e!=null&&e.options?e:iX(e,e==null?void 0:e.parentNode)}Be.customElements.get("media-chrome-option")||Be.customElements.define("media-chrome-option",t2r);var lae=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},ln=(n,e,r)=>(lae(n,e,"read from private field"),r?r.call(n):e.get(n)),Zc=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},Hh=(n,e,r,i)=>(lae(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),bb=(n,e,r)=>(lae(n,e,"access private method"),r),rp,Ml,zT,Es,Qf,Y_,F$,N$,B$,U$,z$,oX,cae,zat,LE,KA,cx;const Vat=cn.createElement("template");Vat.innerHTML=`
  <style>
  :host {
    font: var(--media-font,
      var(--media-font-weight, normal)
      var(--media-font-size, 15px) /
      var(--media-text-content-height, var(--media-control-height, 24px))
      var(--media-font-family, helvetica neue, segoe ui, roboto, arial, sans-serif));
    color: var(--media-text-color, var(--media-primary-color, rgb(238 238 238)));
    display: inline-flex;
    position: relative;
    flex-shrink: .5;
  }

  [name=listbox]::slotted(*),
  [part=listbox] {
    position: absolute;
    bottom: 100%;
    max-height: 300px;
    transition: var(--media-selectmenu-transition-in,
      visibility 0s, transform .15s ease-out, opacity .15s ease-out);
    transform: var(--media-listbox-transform-in, translateY(0) scale(1));
    visibility: visible;
    opacity: 1;
  }

  [name=listbox][hidden]::slotted(*),
  [hidden] [part=listbox] {
    transition: var(--media-selectmenu-transition-out,
      visibility .15s ease-out, transform .15s ease-out, opacity .15s ease-out);
    transform: var(--media-listbox-transform-out, translateY(2px) scale(.99));
    visibility: hidden;
    opacity: 0;
    pointer-events: none;
  }

  slot[name=listbox][hidden] {
    display: block;
  }
  </style>

  <slot name="button">
    <media-chrome-button aria-haspopup="listbox" part="button">
      <slot name="button-content"></slot>
    </media-chrome-button>
  </slot>
  <slot name="listbox" hidden>
    <media-chrome-listbox id="listbox" part="listbox">
      <slot></slot>
    </media-chrome-listbox>
  </slot>
`;class gR extends Be.HTMLElement{constructor(){var e;super(),Zc(this,z$),Zc(this,cae),Zc(this,LE),Zc(this,rp,void 0),Zc(this,Ml,void 0),Zc(this,zT,void 0),Zc(this,Es,void 0),Zc(this,Qf,void 0),Zc(this,Y_,i=>{const{key:o}=i;if(!this.keysUsed.includes(o)){this.removeEventListener("keyup",ln(this,Y_));return}i.composedPath().includes(ln(this,Ml))&&(o==="Enter"||o===" ")?bb(this,z$,oX).call(this):o==="Escape"&&bb(this,LE,KA).call(this)}),Zc(this,F$,i=>{const{metaKey:o,altKey:s,key:a}=i;if(o||s||!this.keysUsed.includes(a)){this.removeEventListener("keyup",ln(this,Y_));return}i.preventDefault(),this.addEventListener("keyup",ln(this,Y_),{once:!0})}),Zc(this,N$,i=>{i.composedPath().includes(this)||bb(this,LE,KA).call(this)}),Zc(this,B$,i=>{i.composedPath().includes(ln(this,Ml))&&bb(this,z$,oX).call(this)}),Zc(this,U$,()=>{bb(this,LE,KA).call(this)}),Zc(this,cx,()=>{if(ln(this,Es).offsetWidth===0)return;const i=ln(this,Es).offsetWidth,o=ln(this,Ml).getBoundingClientRect();if(this.hasAttribute("mediacontroller")||ln(this,Ml).hasAttribute("mediacontroller")||ln(this,Es).hasAttribute("mediacontroller")){ln(this,Es).style.zIndex="1",ln(this,Es).style.bottom="unset",ln(this,Es).style.right=null,ln(this,Es).style.left="0",ln(this,Es).style.top=`${o.height}px`;return}const a=YA(this).getBoundingClientRect(),l=o.x+i,c=Math.max(o.right-l,o.right-a.right);ln(this,Es).style.left=null,ln(this,Es).style.right=`${c}px`,ln(this,Es).style.maxHeight=`${a.height-o.height}px`}),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(Vat.content.cloneNode(!0)));const{style:r}=ql(this.shadowRoot,":host");r.setProperty("display",`var(--media-control-display, var(--${this.localName}-display, inline-flex))`),(e=this.init)==null||e.call(this),Hh(this,Ml,this.shadowRoot.querySelector("[part=button]")),Hh(this,Es,this.shadowRoot.querySelector("[part=listbox]")),Hh(this,zT,this.shadowRoot.querySelector("slot[name=button]")),ln(this,zT).addEventListener("slotchange",()=>{const i=ln(this,zT).assignedElements()[0];if(!i)return;Hh(this,Ml,i),ln(this,Ml).preventClick=!0,this.hasAttribute("disabled")||ln(this,Ml).hasAttribute("disabled")?this.disable():(this.enable(),ln(this,Ml).setAttribute("aria-haspopup","listbox"))}),Hh(this,Qf,this.shadowRoot.querySelector("slot[name=listbox]")),ln(this,Qf).addEventListener("slotchange",()=>{Hh(this,Es,ln(this,Qf).assignedElements()[0]||ln(this,Es))})}static get observedAttributes(){return["disabled",Fr.MEDIA_CONTROLLER]}enable(){ln(this,Ml).toggleAttribute("disabled",!1),this.addEventListener("change",ln(this,U$)),this.addEventListener("keydown",ln(this,F$)),this.addEventListener("click",ln(this,B$)),cn.addEventListener("click",ln(this,N$))}disable(){ln(this,Ml).toggleAttribute("disabled",!0),this.removeEventListener("change",ln(this,U$)),this.removeEventListener("keydown",ln(this,F$)),this.removeEventListener("keyup",ln(this,Y_)),this.removeEventListener("click",ln(this,B$)),cn.removeEventListener("click",ln(this,N$))}attributeChangedCallback(e,r,i){var o,s,a,l,c;e===Fr.MEDIA_CONTROLLER?(r&&((s=(o=ln(this,rp))==null?void 0:o.unassociateElement)==null||s.call(o,this),Hh(this,rp,null),ln(this,Es).removeAttribute(Fr.MEDIA_CONTROLLER)),i&&this.isConnected&&(Hh(this,rp,(a=this.getRootNode())==null?void 0:a.getElementById(i)),(c=(l=ln(this,rp))==null?void 0:l.associateElement)==null||c.call(l,this),ln(this,Es).setAttribute(Fr.MEDIA_CONTROLLER,i))):e==="disabled"&&i!==r&&(i==null?this.enable():this.disable())}connectedCallback(){var e,r,i;const o=this.getAttribute(Fr.MEDIA_CONTROLLER);o&&(Hh(this,rp,(e=this.getRootNode())==null?void 0:e.getElementById(o)),(i=(r=ln(this,rp))==null?void 0:r.associateElement)==null||i.call(r,this),ln(this,Es).setAttribute(Fr.MEDIA_CONTROLLER,o)),this.hasAttribute("disabled")||this.enable(),ln(this,Qf).hidden||Hse(YA(this),ln(this,cx))}disconnectedCallback(){var e,r;Gst(YA(this),ln(this,cx)),this.disable(),(r=(e=ln(this,rp))==null?void 0:e.unassociateElement)==null||r.call(e,this),Hh(this,rp,null),ln(this,Es).removeAttribute(Fr.MEDIA_CONTROLLER)}get keysUsed(){return["Enter","Escape"," ","ArrowUp","ArrowDown","f","c","k","m"]}}rp=new WeakMap;Ml=new WeakMap;zT=new WeakMap;Es=new WeakMap;Qf=new WeakMap;Y_=new WeakMap;F$=new WeakMap;N$=new WeakMap;B$=new WeakMap;U$=new WeakMap;z$=new WeakSet;oX=function(){ln(this,Qf).hidden?bb(this,cae,zat).call(this):bb(this,LE,KA).call(this)};cae=new WeakSet;zat=function(){ln(this,Qf).hidden&&(ln(this,Qf).hidden=!1,ln(this,Ml).setAttribute("aria-expanded","true"),ln(this,cx).call(this),ln(this,Es).focus(),Hse(YA(this),ln(this,cx)))};LE=new WeakSet;KA=function(){if(ln(this,Qf).hidden)return;Gst(YA(this),ln(this,cx));const n=Lst();ln(this,Qf).hidden=!0,ln(this,Ml).setAttribute("aria-expanded","false"),hC(ln(this,Es),n)&&ln(this,Ml).focus()};cx=new WeakMap;function YA(n){var e;return(e=n.getAttribute("bounds")?pR(n,`#${n.getAttribute("bounds")}`):n2r(n)||n.parentElement)!=null?e:n}function n2r(n){var e;const r=n.getAttribute(Fr.MEDIA_CONTROLLER);return r?(e=n.getRootNode())==null?void 0:e.getElementById(r):pR(n,"media-controller")}Be.customElements.get("media-chrome-selectmenu")||Be.customElements.define("media-chrome-selectmenu",gR);var uae=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},r2r=(n,e,r)=>(uae(n,e,"read from private field"),r?r.call(n):e.get(n)),WH=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},i2r=(n,e,r,i)=>(uae(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),GH=(n,e,r)=>(uae(n,e,"access private method"),r),C4,sX,Hat,V$,aX;const o2r=`
<svg aria-hidden="true" viewBox="0 0 26 24" part="captions-indicator indicator">
  <path d="M22.83 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.39 9.45a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.92 3.92 0 0 1 .92-2.77 3.18 3.18 0 0 1 2.43-1 2.94 2.94 0 0 1 2.13.78c.364.359.62.813.74 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.17 1.61 1.61 0 0 0-1.29.58 2.79 2.79 0 0 0-.5 1.89 3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.48 1.48 0 0 0 1-.37 2.1 2.1 0 0 0 .59-1.14l1.4.44a3.23 3.23 0 0 1-1.07 1.69Zm7.22 0a3.07 3.07 0 0 1-1.91.57 3.06 3.06 0 0 1-2.34-1 3.75 3.75 0 0 1-.92-2.67 3.88 3.88 0 0 1 .93-2.77 3.14 3.14 0 0 1 2.42-1 3 3 0 0 1 2.16.82 2.8 2.8 0 0 1 .73 1.31l-1.43.35a1.49 1.49 0 0 0-1.51-1.21 1.61 1.61 0 0 0-1.29.58A2.79 2.79 0 0 0 15 12a3 3 0 0 0 .49 1.93 1.61 1.61 0 0 0 1.27.58 1.44 1.44 0 0 0 1-.37 2.1 2.1 0 0 0 .6-1.15l1.4.44a3.17 3.17 0 0 1-1.1 1.7Z"/>
</svg>`,Wat=cn.createElement("template");Wat.innerHTML=`
  <slot name="captions-indicator" hidden>${o2r}</slot>
`;class s2r extends mR{constructor(){super({slotTemplate:Wat}),WH(this,sX),WH(this,V$),WH(this,C4,void 0)}static get observedAttributes(){return[...super.observedAttributes,"aria-multiselectable",xe.MEDIA_SUBTITLES_LIST,xe.MEDIA_SUBTITLES_SHOWING]}attributeChangedCallback(e,r,i){super.attributeChangedCallback(e,r,i),e===xe.MEDIA_SUBTITLES_LIST&&r!==i?GH(this,sX,Hat).call(this):e===xe.MEDIA_SUBTITLES_SHOWING&&r!==i?this.value=i:e==="aria-multiselectable"&&(this.removeAttribute("aria-multiselectable"),console.warn("Captions List doesn't currently support multiple selections. You can enable multiple items via the media.textTracks API."))}connectedCallback(){super.connectedCallback(),this.addEventListener("change",GH(this,V$,aX))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",GH(this,V$,aX))}get mediaSubtitlesList(){return GMe(this,xe.MEDIA_SUBTITLES_LIST)}set mediaSubtitlesList(e){qMe(this,xe.MEDIA_SUBTITLES_LIST,e)}get mediaSubtitlesShowing(){return GMe(this,xe.MEDIA_SUBTITLES_SHOWING)}set mediaSubtitlesShowing(e){qMe(this,xe.MEDIA_SUBTITLES_SHOWING,e)}}C4=new WeakMap;sX=new WeakSet;Hat=function(){var n;if(r2r(this,C4)===JSON.stringify(this.mediaSubtitlesList))return;i2r(this,C4,JSON.stringify(this.mediaSubtitlesList));const e=this.shadowRoot.querySelector("#container");e.textContent="";const r=!this.value,i=uS(this.formatOptionText("Off"),"off",r);i.prepend(lx(this,"select-indicator")),e.append(i);const o=this.mediaSubtitlesList;for(const s of o){const a=uS(this.formatOptionText(s.label,s),NZ(s),this.value==NZ(s));a.prepend(lx(this,"select-indicator")),((n=s.kind)!=null?n:"subs")==="captions"&&a.append(lx(this,"captions-indicator")),e.append(a)}};V$=new WeakSet;aX=function(){const n=this.mediaSubtitlesShowing,e=this.getAttribute(xe.MEDIA_SUBTITLES_SHOWING),r=this.value!==e;if(n!=null&&n.length&&r&&this.dispatchEvent(new Be.CustomEvent(Yn.MEDIA_DISABLE_SUBTITLES_REQUEST,{composed:!0,bubbles:!0,detail:n})),!this.value||!r)return;const i=new Be.CustomEvent(Yn.MEDIA_SHOW_SUBTITLES_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(i)};const GMe=(n,e)=>{const r=n.getAttribute(e);return r?Kse(r):[]},qMe=(n,e,r)=>{if(!(r!=null&&r.length)){n.removeAttribute(e);return}const i=f4(r);n.getAttribute(e)!==i&&n.setAttribute(e,i)};Be.customElements.get("media-captions-listbox")||Be.customElements.define("media-captions-listbox",s2r);class a2r extends gR{init(){const e=cn.createElement("media-captions-button");e.part.add("button"),e.preventClick=!0;const r=cn.createElement("media-captions-listbox");r.part.add("listbox"),r.setAttribute("exportparts","option, option-selected, indicator");const i=this.shadowRoot.querySelector("slot[name=button]"),o=this.shadowRoot.querySelector("slot[name=listbox]");i.textContent="",o.textContent="",i.append(e),o.append(r)}}Be.customElements.get("media-captions-selectmenu")||Be.customElements.define("media-captions-selectmenu",a2r);var Gat=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},xj=(n,e,r)=>(Gat(n,e,"read from private field"),r?r.call(n):e.get(n)),qH=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},qk=(n,e,r)=>(Gat(n,e,"access private method"),r),Z_,VT,H$,W$,lX;const KH={RATES:"rates"};class l2r extends mR{constructor(){super(),qH(this,VT),qH(this,W$),qH(this,Z_,new qse(this,KH.RATES,{defaultValue:_at})),qk(this,VT,H$).call(this)}static get observedAttributes(){return[...super.observedAttributes,"aria-multiselectable",xe.MEDIA_PLAYBACK_RATE,KH.RATES]}attributeChangedCallback(e,r,i){super.attributeChangedCallback(e,r,i),e===xe.MEDIA_PLAYBACK_RATE&&r!=i?this.value=i:e===KH.RATES&&r!=i&&(xj(this,Z_).value=i,qk(this,VT,H$).call(this))}get rates(){return xj(this,Z_)}set rates(e){e?Array.isArray(e)&&(xj(this,Z_).value=e.join(" ")):xj(this,Z_).value="",qk(this,VT,H$).call(this)}get mediaPlaybackRate(){return sa(this,xe.MEDIA_PLAYBACK_RATE,LT)}set mediaPlaybackRate(e){Kl(this,xe.MEDIA_PLAYBACK_RATE,e)}connectedCallback(){super.connectedCallback(),this.addEventListener("change",qk(this,W$,lX))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",qk(this,W$,lX))}}Z_=new WeakMap;VT=new WeakSet;H$=function(){const n=this.shadowRoot.querySelector("#container");n.textContent="";for(const e of this.rates){const r=uS(this.formatOptionText(`${e}x`,e),e,this.mediaPlaybackRate==e);r.prepend(lx(this,"select-indicator")),n.append(r)}};W$=new WeakSet;lX=function(){if(!this.value)return;const n=new Be.CustomEvent(Yn.MEDIA_PLAYBACK_RATE_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(n)};Be.customElements.get("media-playback-rate-listbox")||Be.customElements.define("media-playback-rate-listbox",l2r);class c2r extends gR{init(){const e=cn.createElement("media-playback-rate-button");e.part.add("button"),e.preventClick=!0;const r=cn.createElement("media-playback-rate-listbox");r.part.add("listbox"),r.setAttribute("exportparts","option, option-selected, indicator");const i=this.shadowRoot.querySelector("slot[name=button]"),o=this.shadowRoot.querySelector("slot[name=listbox]");i.textContent="",o.textContent="",i.append(e),o.append(r)}}Be.customElements.get("media-playback-rate-selectmenu")||Be.customElements.define("media-playback-rate-selectmenu",c2r);var dae=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},qat=(n,e,r)=>(dae(n,e,"read from private field"),r?r.call(n):e.get(n)),wj=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},cX=(n,e,r,i)=>(dae(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),_j=(n,e,r)=>(dae(n,e,"access private method"),r),HT,S4,G$,uX,q$,dX;class u2r extends mR{constructor(){super(...arguments),wj(this,G$),wj(this,q$),wj(this,HT,[]),wj(this,S4,void 0)}static get observedAttributes(){return[...super.observedAttributes,xe.MEDIA_RENDITION_LIST,xe.MEDIA_RENDITION_SELECTED]}attributeChangedCallback(e,r,i){super.attributeChangedCallback(e,r,i),e===xe.MEDIA_RENDITION_SELECTED&&r!==i?this.value=i??"auto":e===xe.MEDIA_RENDITION_LIST&&r!==i&&(cX(this,HT,ZEr(i)),_j(this,G$,uX).call(this))}connectedCallback(){super.connectedCallback(),this.addEventListener("change",_j(this,q$,dX))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",_j(this,q$,dX))}get mediaRenditionList(){return qat(this,HT)}set mediaRenditionList(e){cX(this,HT,e),_j(this,G$,uX).call(this)}get mediaRenditionSelected(){return kc(this,xe.MEDIA_RENDITION_SELECTED)}set mediaRenditionSelected(e){Tc(this,xe.MEDIA_RENDITION_SELECTED,e)}}HT=new WeakMap;S4=new WeakMap;G$=new WeakSet;uX=function(){if(qat(this,S4)===JSON.stringify(this.mediaRenditionList))return;cX(this,S4,JSON.stringify(this.mediaRenditionList));const n=this.mediaRenditionList.sort((o,s)=>s.height-o.height),e=this.shadowRoot.querySelector("#container");e.textContent="";let r=!this.mediaRenditionSelected;for(const o of n){const s=this.formatOptionText(`${Math.min(o.width,o.height)}p`,o),a=uS(s,`${o.id}`,o.selected&&!r);a.prepend(lx(this,"select-indicator")),e.append(a)}const i=uS(this.formatOptionText("Auto"),"auto",r);i.prepend(lx(this,"select-indicator")),e.append(i)};q$=new WeakSet;dX=function(){if(this.value==null)return;const n=new Be.CustomEvent(Yn.MEDIA_RENDITION_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(n)};Be.customElements.get("media-rendition-listbox")||Be.customElements.define("media-rendition-listbox",u2r);const d2r=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M13.5 2.5h2v6h-2v-2h-11v-2h11v-2Zm4 2h4v2h-4v-2Zm-12 4h2v6h-2v-2h-3v-2h3v-2Zm4 2h12v2h-12v-2Zm1 4h2v6h-2v-2h-8v-2h8v-2Zm4 2h7v2h-7v-2Z" />
</svg>`,Kat=cn.createElement("template");Kat.innerHTML=`
  <slot name="icon">${d2r}</slot>
`;class f2r extends ku{static get observedAttributes(){return[...super.observedAttributes,xe.MEDIA_RENDITION_SELECTED,xe.MEDIA_RENDITION_UNAVAILABLE]}constructor(){super({slotTemplate:Kat})}get mediaRenditionSelected(){return kc(this,xe.MEDIA_RENDITION_SELECTED)}set mediaRenditionSelected(e){Tc(this,xe.MEDIA_RENDITION_SELECTED,e)}}Be.customElements.get("media-rendition-button")||Be.customElements.define("media-rendition-button",f2r);class h2r extends gR{static get observedAttributes(){return[...super.observedAttributes,xe.MEDIA_RENDITION_SELECTED,xe.MEDIA_RENDITION_UNAVAILABLE]}init(){const e=cn.createElement("media-rendition-button");e.part.add("button"),e.preventClick=!0;const r=cn.createElement("media-rendition-listbox");r.part.add("listbox"),r.setAttribute("exportparts","option, option-selected, indicator");const i=this.shadowRoot.querySelector("slot[name=button]"),o=this.shadowRoot.querySelector("slot[name=listbox]");i.textContent="",o.textContent="",i.append(e),o.append(r)}}Be.customElements.get("media-rendition-selectmenu")||Be.customElements.define("media-rendition-selectmenu",h2r);var fae=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},Yat=(n,e,r)=>(fae(n,e,"read from private field"),r?r.call(n):e.get(n)),Ej=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},fX=(n,e,r,i)=>(fae(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),Cj=(n,e,r)=>(fae(n,e,"access private method"),r),WT,k4,K$,hX,Y$,pX;class p2r extends mR{constructor(){super(...arguments),Ej(this,K$),Ej(this,Y$),Ej(this,WT,[]),Ej(this,k4,void 0)}static get observedAttributes(){return[...super.observedAttributes,xe.MEDIA_AUDIO_TRACK_LIST,xe.MEDIA_AUDIO_TRACK_ENABLED]}attributeChangedCallback(e,r,i){super.attributeChangedCallback(e,r,i),e===xe.MEDIA_AUDIO_TRACK_ENABLED&&r!==i?this.value=i:e===xe.MEDIA_AUDIO_TRACK_LIST&&r!==i&&(fX(this,WT,eCr(i)),Cj(this,K$,hX).call(this))}connectedCallback(){super.connectedCallback(),this.addEventListener("change",Cj(this,Y$,pX))}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("change",Cj(this,Y$,pX))}get mediaAudioTrackList(){return Yat(this,WT)}set mediaAudioTrackList(e){fX(this,WT,e),Cj(this,K$,hX).call(this)}get mediaAudioTrackEnabled(){return kc(this,xe.MEDIA_AUDIO_TRACK_ENABLED)}set mediaAudioTrackEnabled(e){Tc(this,xe.MEDIA_AUDIO_TRACK_ENABLED,e)}}WT=new WeakMap;k4=new WeakMap;K$=new WeakSet;hX=function(){if(Yat(this,k4)===JSON.stringify(this.mediaAudioTrackList))return;fX(this,k4,JSON.stringify(this.mediaAudioTrackList));const n=this.mediaAudioTrackList,e=this.shadowRoot.querySelector("#container");e.textContent="";for(const r of n){const i=this.formatOptionText(r.label,r),o=uS(i,`${r.id}`,r.enabled);o.prepend(lx(this,"select-indicator")),e.append(o)}};Y$=new WeakSet;pX=function(){if(this.value==null)return;const n=new Be.CustomEvent(Yn.MEDIA_AUDIO_TRACK_REQUEST,{composed:!0,bubbles:!0,detail:this.value});this.dispatchEvent(n)};Be.customElements.get("media-audio-track-listbox")||Be.customElements.define("media-audio-track-listbox",p2r);const m2r=`<svg aria-hidden="true" viewBox="0 0 24 24">
  <path d="M11 17H9.5V7H11v10Zm-3-3H6.5v-4H8v4Zm6-5h-1.5v6H14V9Zm3 7h-1.5V8H17v8Z"/>
  <path d="M22 12c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2s10 4.477 10 10Zm-2 0a8 8 0 1 0-16 0 8 8 0 0 0 16 0Z"/>
</svg>`,Zat=cn.createElement("template");Zat.innerHTML=`
  <slot name="icon">${m2r}</slot>
`;class g2r extends ku{static get observedAttributes(){return[...super.observedAttributes,xe.MEDIA_AUDIO_TRACK_ENABLED,xe.MEDIA_AUDIO_TRACK_UNAVAILABLE]}constructor(){super({slotTemplate:Zat})}get mediaAudioTrackEnabled(){return kc(this,xe.MEDIA_AUDIO_TRACK_ENABLED)}set mediaAudioTrackEnabled(e){Tc(this,xe.MEDIA_AUDIO_TRACK_ENABLED,e)}}Be.customElements.get("media-audio-track-button")||Be.customElements.define("media-audio-track-button",g2r);class v2r extends gR{static get observedAttributes(){return[...super.observedAttributes,xe.MEDIA_AUDIO_TRACK_ENABLED,xe.MEDIA_AUDIO_TRACK_UNAVAILABLE]}init(){const e=cn.createElement("media-audio-track-button");e.part.add("button"),e.preventClick=!0;const r=cn.createElement("media-audio-track-listbox");r.part.add("listbox"),r.setAttribute("exportparts","option, option-selected, indicator");const i=this.shadowRoot.querySelector("slot[name=button]"),o=this.shadowRoot.querySelector("slot[name=listbox]");i.textContent="",o.textContent="",i.append(e),o.append(r)}}Be.customElements.get("media-audio-track-selectmenu")||Be.customElements.define("media-audio-track-selectmenu",v2r);var Xat={exports:{}};/*!
 * mux-embed
 * @version 4.30.0
 * @copyright 2023 Mux, Inc
 */(function(n,e){(function(){var r;r=function(){return function(){var i={80:function(a,l,c){a.exports=c(728).default},728:function(a,l,c){c.d(l,{default:function(){return AR}});var u=c(48),f=c.n(u),h=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(Y){var V=16*Math.random()|0;return(Y==="x"?V:3&V|8).toString(16)})},m=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)},g=function(Y){var V,q;if(Y&&Y.nodeName!==void 0)return Y.muxId||(Y.muxId=m()),Y.muxId;try{q=document.querySelector(Y)}catch{}return q&&!q.muxId&&(q.muxId=Y),((V=q)===null||V===void 0?void 0:V.muxId)||Y},v=function(Y){var V;Y&&Y.nodeName!==void 0?Y=g(V=Y):V=document.querySelector(Y);var q=V&&V.nodeName?V.nodeName.toLowerCase():"";return[V,Y,q]},y=c(640),b=c.n(y),x=b().methodFactory;b().methodFactory=function(Y,V,q){var W=x(Y,V,q);return function(){for(var ce=["[mux]"],Ee=0;Ee<arguments.length;Ee++)ce.push(arguments[Ee]);W.apply(void 0,ce)}},b().setLevel(b().getLevel());var _=b();function w(){return(f().doNotTrack||f().navigator&&f().navigator.doNotTrack)==="1"}var C={now:function(){var Y=f().performance,V=Y&&Y.timing,q=V&&V.navigationStart,W=typeof q=="number"&&typeof Y.now=="function"?q+Y.now():Date.now();return Math.round(W)}},S=function(Y){return T(Y)[0]},T=function(Y){if(typeof Y!="string"||Y==="")return["localhost"];var V,q=(Y.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/)||[])[4];return q&&(V=(q.match(/[^\.]+\.[^\.]+$/)||[])[0]),[q,V]},A={exists:function(){var Y=f().performance;return(Y&&Y.timing)!==void 0},domContentLoadedEventEnd:function(){var Y=f().performance,V=Y&&Y.timing;return V&&V.domContentLoadedEventEnd},navigationStart:function(){var Y=f().performance,V=Y&&Y.timing;return V&&V.navigationStart}};function I(Y,V,q){q=q===void 0?1:q,Y[V]=Y[V]||0,Y[V]+=q}var D=["x-request-id","cf-ray","x-amz-cf-id","x-akamai-request-id"],R=["x-cdn","content-type"].concat(D);function P(Y){var V={};return(Y=Y||"").trim().split(/[\r\n]+/).forEach(function(q){if(q){var W=q.split(": "),ce=W.shift();ce&&(R.indexOf(ce.toLowerCase())>=0||ce.toLowerCase().indexOf("x-litix-")===0)&&(V[ce]=W.join(": "))}}),V}function O(Y){if(Y){var V=D.find(function(q){return Y[q]!==void 0});return V?Y[V]:void 0}}var $=function(Y){var V={};for(var q in Y){var W=Y[q];W["DATA-ID"].search("io.litix.data.")!==-1&&(V[W["DATA-ID"].replace("io.litix.data.","")]=W.VALUE)}return V};function L(Y,V){var q=Object.keys(Y);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(Y);V&&(W=W.filter(function(ce){return Object.getOwnPropertyDescriptor(Y,ce).enumerable})),q.push.apply(q,W)}return q}function M(Y){for(var V=1;V<arguments.length;V++){var q=arguments[V]!=null?arguments[V]:{};V%2?L(Object(q),!0).forEach(function(W){N(Y,W,q[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(q)):L(Object(q)).forEach(function(W){Object.defineProperty(Y,W,Object.getOwnPropertyDescriptor(q,W))})}return Y}function N(Y,V,q){return V in Y?Object.defineProperty(Y,V,{value:q,enumerable:!0,configurable:!0,writable:!0}):Y[V]=q,Y}var z=function(Y){if(!Y)return{};var V=A.navigationStart(),q=Y.loading,W=q?q.start:Y.trequest,ce=q?q.first:Y.tfirst,Ee=q?q.end:Y.tload;return{bytesLoaded:Y.total,requestStart:Math.round(V+W),responseStart:Math.round(V+ce),responseEnd:Math.round(V+Ee)}},B=function(Y){if(Y&&typeof Y.getAllResponseHeaders=="function")return P(Y.getAllResponseHeaders())};function H(Y,V){var q=Object.keys(Y);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(Y);V&&(W=W.filter(function(ce){return Object.getOwnPropertyDescriptor(Y,ce).enumerable})),q.push.apply(q,W)}return q}function X(Y){for(var V=1;V<arguments.length;V++){var q=arguments[V]!=null?arguments[V]:{};V%2?H(Object(q),!0).forEach(function(W){G(Y,W,q[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(q)):H(Object(q)).forEach(function(W){Object.defineProperty(Y,W,Object.getOwnPropertyDescriptor(q,W))})}return Y}function G(Y,V,q){return V in Y?Object.defineProperty(Y,V,{value:q,enumerable:!0,configurable:!0,writable:!0}):Y[V]=q,Y}var ne=function(Y,V){if(!Y||!Y.requestEndDate)return{};var q,W=S(Y.url),ce=Y.url,Ee=Y.bytesLoaded,he=new Date(Y.requestStartDate).getTime(),$e=new Date(Y.firstByteDate).getTime(),Ve=new Date(Y.requestEndDate).getTime(),Oe=isNaN(Y.duration)?0:Y.duration,Mt=typeof V.getMetricsFor=="function"?V.getMetricsFor(Y.mediaType).HttpList:V.getDashMetrics().getHttpRequests(Y.mediaType);return Mt.length>0&&(q=P(Mt[Mt.length-1]._responseHeaders||"")),{requestStart:he,requestResponseStart:$e,requestResponseEnd:Ve,requestBytesLoaded:Ee,requestResponseHeaders:q,requestMediaDuration:Oe,requestHostname:W,requestUrl:ce,requestId:q?O(q):void 0}},le=function(Y,V){var q=V.getQualityFor(Y),W=V.getCurrentTrackFor(Y).bitrateList;return W?{currentLevel:q,renditionWidth:W[q].width||null,renditionHeight:W[q].height||null,renditionBitrate:W[q].bandwidth}:{}},K=function(Y){var V;return(V=Y.match(/.*codecs\*?="(.*)"/))===null||V===void 0?void 0:V[1]},Q=function(Y){try{var V,q;return(V=Y.getVersion)===null||V===void 0||(q=V.call(Y))===null||q===void 0?void 0:q.split(".").map(function(W){return parseInt(W)})[0]}catch{return!1}};function re(Y,V){for(var q=0;q<V.length;q++){var W=V[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Y,W.key,W)}}var se=0,de=function(){function Y(){(function(W,ce){if(!(W instanceof ce))throw new TypeError("Cannot call a class as a function")})(this,Y)}var V,q;return V=Y,q=[{key:"on",value:function(W,ce,Ee){return ce._eventEmitterGuid=ce._eventEmitterGuid||++se,this._listeners=this._listeners||{},this._listeners[W]=this._listeners[W]||[],Ee&&(ce=ce.bind(Ee)),this._listeners[W].push(ce),ce}},{key:"off",value:function(W,ce){var Ee=this._listeners&&this._listeners[W];Ee&&Ee.forEach(function(he,$e){he._eventEmitterGuid===ce._eventEmitterGuid&&Ee.splice($e,1)})}},{key:"one",value:function(W,ce,Ee){var he=this;ce._eventEmitterGuid=ce._eventEmitterGuid||++se;var $e=function Ve(){he.off(W,Ve),ce.apply(Ee||this,arguments)};$e._eventEmitterGuid=ce._eventEmitterGuid,this.on(W,$e)}},{key:"emit",value:function(W,ce){var Ee=this;if(this._listeners){ce=ce||{};var he=this._listeners["before*"]||[],$e=this._listeners[W]||[],Ve=this._listeners["after"+W]||[],Oe=function(Mt,Cn){(Mt=Mt.slice()).forEach(function(mr){mr.call(Ee,{type:W},Cn)})};Oe(he,ce),Oe($e,ce),Oe(Ve,ce)}}}],q&&re(V.prototype,q),Object.defineProperty(V,"prototype",{writable:!1}),Y}(),fe=de;function we(Y,V){for(var q=0;q<V.length;q++){var W=V[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Y,W.key,W)}}var ye=function(){function Y(W){var ce=this;(function(Ee,he){if(!(Ee instanceof he))throw new TypeError("Cannot call a class as a function")})(this,Y),this.pm=W,this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,W.on("playing",function(){ce._playheadShouldBeProgressing=!0}),W.on("play",this._startPlaybackHeartbeatInterval.bind(this)),W.on("playing",this._startPlaybackHeartbeatInterval.bind(this)),W.on("adbreakstart",this._startPlaybackHeartbeatInterval.bind(this)),W.on("adplay",this._startPlaybackHeartbeatInterval.bind(this)),W.on("adplaying",this._startPlaybackHeartbeatInterval.bind(this)),W.on("seeking",this._startPlaybackHeartbeatInterval.bind(this)),W.on("devicewake",this._startPlaybackHeartbeatInterval.bind(this)),W.on("viewstart",this._startPlaybackHeartbeatInterval.bind(this)),W.on("rebufferstart",this._startPlaybackHeartbeatInterval.bind(this)),W.on("pause",this._stopPlaybackHeartbeatInterval.bind(this)),W.on("ended",this._stopPlaybackHeartbeatInterval.bind(this)),W.on("viewend",this._stopPlaybackHeartbeatInterval.bind(this)),W.on("error",this._stopPlaybackHeartbeatInterval.bind(this)),W.on("aderror",this._stopPlaybackHeartbeatInterval.bind(this)),W.on("adpause",this._stopPlaybackHeartbeatInterval.bind(this)),W.on("adended",this._stopPlaybackHeartbeatInterval.bind(this)),W.on("adbreakend",this._stopPlaybackHeartbeatInterval.bind(this)),W.on("seeked",function(){W.data.player_is_paused?ce._stopPlaybackHeartbeatInterval():ce._startPlaybackHeartbeatInterval()}),W.on("timeupdate",function(){ce._playbackHeartbeatInterval!==null&&W.emit("playbackheartbeat")}),W.on("devicesleep",function(Ee,he){ce._playbackHeartbeatInterval!==null&&(f().clearInterval(ce._playbackHeartbeatInterval),W.emit("playbackheartbeatend",{viewer_time:he.viewer_time}),ce._playbackHeartbeatInterval=null)})}var V,q;return V=Y,(q=[{key:"_startPlaybackHeartbeatInterval",value:function(){var W=this;this._playbackHeartbeatInterval===null&&(this.pm.emit("playbackheartbeat"),this._playbackHeartbeatInterval=f().setInterval(function(){W.pm.emit("playbackheartbeat")},this.pm.playbackHeartbeatTime))}},{key:"_stopPlaybackHeartbeatInterval",value:function(){this._playheadShouldBeProgressing=!1,this._playbackHeartbeatInterval!==null&&(f().clearInterval(this._playbackHeartbeatInterval),this.pm.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)}}])&&we(V.prototype,q),Object.defineProperty(V,"prototype",{writable:!1}),Y}();function ve(Y,V){for(var q=0;q<V.length;q++){var W=V[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Y,W.key,W)}}function _e(Y,V,q){return V&&ve(Y.prototype,V),q&&ve(Y,q),Object.defineProperty(Y,"prototype",{writable:!1}),Y}var ge=_e(function Y(V){var q=this;(function(W,ce){if(!(W instanceof ce))throw new TypeError("Cannot call a class as a function")})(this,Y),V.on("viewinit",function(){q.viewErrored=!1}),V.on("error",function(W,ce){try{var Ee=V.errorTranslator({player_error_code:ce.player_error_code,player_error_message:ce.player_error_message,player_error_context:ce.player_error_context});Ee?(V.data.player_error_code=Ee.player_error_code||ce.player_error_code,V.data.player_error_message=Ee.player_error_message||ce.player_error_message,V.data.player_error_context=Ee.player_error_context||ce.player_error_context,q.viewErrored=!0):(delete V.data.player_error_code,delete V.data.player_error_message,delete V.data.player_error_context)}catch(he){V.mux.log.warn("Exception in error translator callback.",he),q.viewErrored=!0}})});function pe(Y,V){for(var q=0;q<V.length;q++){var W=V[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Y,W.key,W)}}var Pe=function(){function Y(W){(function(ce,Ee){if(!(ce instanceof Ee))throw new TypeError("Cannot call a class as a function")})(this,Y),this.pm=W,this._watchTimeTrackerLastCheckedTime=null,W.on("playbackheartbeat",this._updateWatchTime.bind(this)),W.on("playbackheartbeatend",this._clearWatchTimeState.bind(this))}var V,q;return V=Y,(q=[{key:"_updateWatchTime",value:function(W,ce){var Ee=ce.viewer_time;this._watchTimeTrackerLastCheckedTime===null&&(this._watchTimeTrackerLastCheckedTime=Ee),I(this.pm.data,"view_watch_time",Ee-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=Ee}},{key:"_clearWatchTimeState",value:function(W,ce){this._updateWatchTime(W,ce),this._watchTimeTrackerLastCheckedTime=null}}])&&pe(V.prototype,q),Object.defineProperty(V,"prototype",{writable:!1}),Y}();function Re(Y,V){for(var q=0;q<V.length;q++){var W=V[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Y,W.key,W)}}var Fe=function(){function Y(W){var ce=this;(function($e,Ve){if(!($e instanceof Ve))throw new TypeError("Cannot call a class as a function")})(this,Y),this.pm=W,this._playbackTimeTrackerLastPlayheadPosition=-1,this._lastTime=C.now(),this._isAdPlaying=!1,this._callbackUpdatePlaybackTime=null;var Ee=this._startPlaybackTimeTracking.bind(this);W.on("playing",Ee),W.on("adplaying",Ee),W.on("seeked",Ee);var he=this._stopPlaybackTimeTracking.bind(this);W.on("playbackheartbeatend",he),W.on("seeking",he),W.on("adplaying",function(){ce._isAdPlaying=!0}),W.on("adended",function(){ce._isAdPlaying=!1}),W.on("adpause",function(){ce._isAdPlaying=!1}),W.on("adbreakstart",function(){ce._isAdPlaying=!1}),W.on("adbreakend",function(){ce._isAdPlaying=!1}),W.on("adplay",function(){ce._isAdPlaying=!1}),W.on("viewinit",function(){ce._playbackTimeTrackerLastPlayheadPosition=-1,ce._lastTime=C.now(),ce._isAdPlaying=!1,ce._callbackUpdatePlaybackTime=null})}var V,q;return V=Y,(q=[{key:"_startPlaybackTimeTracking",value:function(){this._callbackUpdatePlaybackTime===null&&(this._callbackUpdatePlaybackTime=this._updatePlaybackTime.bind(this),this._playbackTimeTrackerLastPlayheadPosition=this.pm.data.player_playhead_time,this.pm.on("playbackheartbeat",this._callbackUpdatePlaybackTime))}},{key:"_stopPlaybackTimeTracking",value:function(){this._callbackUpdatePlaybackTime&&(this._updatePlaybackTime(),this.pm.off("playbackheartbeat",this._callbackUpdatePlaybackTime),this._callbackUpdatePlaybackTime=null,this._playbackTimeTrackerLastPlayheadPosition=-1)}},{key:"_updatePlaybackTime",value:function(){var W=this.pm.data.player_playhead_time,ce=C.now(),Ee=-1;this._playbackTimeTrackerLastPlayheadPosition>=0&&W>this._playbackTimeTrackerLastPlayheadPosition?Ee=W-this._playbackTimeTrackerLastPlayheadPosition:this._isAdPlaying&&(Ee=ce-this._lastTime),Ee>0&&Ee<=1e3&&I(this.pm.data,"view_content_playback_time",Ee),this._playbackTimeTrackerLastPlayheadPosition=W,this._lastTime=ce}}])&&Re(V.prototype,q),Object.defineProperty(V,"prototype",{writable:!1}),Y}();function Ye(Y,V){for(var q=0;q<V.length;q++){var W=V[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Y,W.key,W)}}var He=function(){function Y(W){(function(Ee,he){if(!(Ee instanceof he))throw new TypeError("Cannot call a class as a function")})(this,Y),this.pm=W;var ce=this._updatePlayheadTime.bind(this);W.on("playbackheartbeat",ce),W.on("playbackheartbeatend",ce),W.on("timeupdate",ce),W.on("destroy",function(){W.off("timeupdate",ce)})}var V,q;return V=Y,(q=[{key:"_updateMaxPlayheadPosition",value:function(){this.pm.data.view_max_playhead_position=this.pm.data.view_max_playhead_position===void 0?this.pm.data.player_playhead_time:Math.max(this.pm.data.view_max_playhead_position,this.pm.data.player_playhead_time)}},{key:"_updatePlayheadTime",value:function(W,ce){var Ee=this,he=function(){Ee.pm.currentFragmentPDT&&Ee.pm.currentFragmentStart&&(Ee.pm.data.player_program_time=Ee.pm.currentFragmentPDT+Ee.pm.data.player_playhead_time-Ee.pm.currentFragmentStart)};if(ce&&ce.player_playhead_time)this.pm.data.player_playhead_time=ce.player_playhead_time,he(),this._updateMaxPlayheadPosition();else if(this.pm.getPlayheadTime){var $e=this.pm.getPlayheadTime();$e!==void 0&&(this.pm.data.player_playhead_time=$e,he(),this._updateMaxPlayheadPosition())}}}])&&Ye(V.prototype,q),Object.defineProperty(V,"prototype",{writable:!1}),Y}();function lt(Y,V){for(var q=0;q<V.length;q++){var W=V[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Y,W.key,W)}}function Xe(Y,V,q){return V&&lt(Y.prototype,V),q&&lt(Y,q),Object.defineProperty(Y,"prototype",{writable:!1}),Y}var st=3e5,kt=Xe(function Y(V){if(function(Ee,he){if(!(Ee instanceof he))throw new TypeError("Cannot call a class as a function")}(this,Y),!V.disableRebufferTracking){var q,W=function(Ee,he){ce(he),q=void 0},ce=function(Ee){if(q){var he=Ee.viewer_time-q;I(V.data,"view_rebuffer_duration",he),q=Ee.viewer_time,V.data.view_rebuffer_duration>st&&(V.emit("viewend"),V.send("viewend"),V.mux.log.warn("Ending view after rebuffering for longer than ".concat(st,"ms, future events will be ignored unless a programchange or videochange occurs.")))}V.data.view_watch_time>=0&&V.data.view_rebuffer_count>0&&(V.data.view_rebuffer_frequency=V.data.view_rebuffer_count/V.data.view_watch_time,V.data.view_rebuffer_percentage=V.data.view_rebuffer_duration/V.data.view_watch_time)};V.on("playbackheartbeat",function(Ee,he){return ce(he)}),V.on("rebufferstart",function(Ee,he){q||(I(V.data,"view_rebuffer_count",1),q=he.viewer_time,V.one("rebufferend",W))}),V.on("viewinit",function(){q=void 0,V.off("rebufferend",W)})}});function Ge(Y,V){for(var q=0;q<V.length;q++){var W=V[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Y,W.key,W)}}var gt=function(){function Y(W){var ce=this;(function(Ee,he){if(!(Ee instanceof he))throw new TypeError("Cannot call a class as a function")})(this,Y),this.pm=W,W.disableRebufferTracking||W.disablePlayheadRebufferTracking||(this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,W.on("playbackheartbeat",this._checkIfRebuffering.bind(this)),W.on("playbackheartbeatend",this._cleanupRebufferTracker.bind(this)),W.on("seeking",function(){ce._cleanupRebufferTracker(null,{viewer_time:C.now()})}))}var V,q;return V=Y,q=[{key:"_checkIfRebuffering",value:function(W,ce){if(this.pm.seekingTracker.isSeeking||this.pm.adTracker.isAdBreak||!this.pm.playbackHeartbeat._playheadShouldBeProgressing)this._cleanupRebufferTracker(W,ce);else if(this._lastCheckedTime!==null)if(this._lastPlayheadTime===this.pm.data.player_playhead_time){var Ee=ce.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.sustainedRebufferThreshold=="number"&&Ee>=this.pm.sustainedRebufferThreshold&&(this._rebuffering||(this._rebuffering=!0,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}))),this._lastCheckedTime=ce.viewer_time}else this._cleanupRebufferTracker(W,ce,!0);else this._prepareRebufferTrackerState(ce.viewer_time)}},{key:"_clearRebufferTrackerState",value:function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null}},{key:"_prepareRebufferTrackerState",value:function(W){this._lastCheckedTime=W,this._lastPlayheadTime=this.pm.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=W}},{key:"_cleanupRebufferTracker",value:function(W,ce){var Ee=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(this._rebuffering)this._rebuffering=!1,this.pm.emit("rebufferend",{viewer_time:ce.viewer_time});else{if(this._lastCheckedTime===null)return;var he=this.pm.data.player_playhead_time-this._lastPlayheadTime,$e=ce.viewer_time-this._lastPlayheadTimeUpdatedTime;typeof this.pm.minimumRebufferDuration=="number"&&he>0&&$e-he>this.pm.minimumRebufferDuration&&(this._lastCheckedTime=null,this.pm.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.pm.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+$e-he}))}Ee?this._prepareRebufferTrackerState(ce.viewer_time):this._clearRebufferTrackerState()}}],q&&Ge(V.prototype,q),Object.defineProperty(V,"prototype",{writable:!1}),Y}(),At=gt;function Dt(Y,V){for(var q=0;q<V.length;q++){var W=V[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Y,W.key,W)}}var at=function(){function Y(W){var ce=this;(function(Ee,he){if(!(Ee instanceof he))throw new TypeError("Cannot call a class as a function")})(this,Y),this.pm=W,W.on("viewinit",function(){var Ee=W.data,he=Ee.view_id;if(!Ee.view_program_changed){var $e=function(Ve,Oe){var Mt=Oe.viewer_time;Ve.type==="playing"&&W.data.view_time_to_first_frame===void 0?ce.calculateTimeToFirstFrame(Mt||C.now(),he):Ve.type!=="adplaying"||W.data.view_time_to_first_frame!==void 0&&!ce._inPrerollPosition()||ce.calculateTimeToFirstFrame(Mt||C.now(),he)};W.one("playing",$e),W.one("adplaying",$e),W.one("viewend",function(){W.off("playing",$e),W.off("adplaying",$e)})}})}var V,q;return V=Y,(q=[{key:"_inPrerollPosition",value:function(){return this.pm.data.view_content_playback_time===void 0||this.pm.data.view_content_playback_time<=1e3}},{key:"calculateTimeToFirstFrame",value:function(W,ce){ce===this.pm.data.view_id&&(this.pm.watchTimeTracker._updateWatchTime(null,{viewer_time:W}),this.pm.data.view_time_to_first_frame=this.pm.data.view_watch_time,(this.pm.data.player_autoplay_on||this.pm.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.pm.data.view_aggregate_startup_time=this.pm.data.view_start+this.pm.data.view_watch_time-this.NAVIGATION_START))}}])&&Dt(V.prototype,q),Object.defineProperty(V,"prototype",{writable:!1}),Y}();function tt(Y,V){for(var q=0;q<V.length;q++){var W=V[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Y,W.key,W)}}function it(Y,V,q){return V&&tt(Y.prototype,V),q&&tt(Y,q),Object.defineProperty(Y,"prototype",{writable:!1}),Y}var jt=it(function Y(V){var q=this;(function(W,ce){if(!(W instanceof ce))throw new TypeError("Cannot call a class as a function")})(this,Y),V.on("viewinit",function(){q._lastPlayheadPosition=-1}),["pause","rebufferstart","seeking","error","adbreakstart","hb"].forEach(function(W){V.on(W,function(){if(q._lastPlayheadPosition>=0&&V.data.player_playhead_time>=0&&q._lastPlayerWidth>=0&&q._lastSourceWidth>0&&q._lastPlayerHeight>=0&&q._lastSourceHeight>0){var ce=V.data.player_playhead_time-q._lastPlayheadPosition;if(ce<0)return void(q._lastPlayheadPosition=-1);var Ee=Math.min(q._lastPlayerWidth/q._lastSourceWidth,q._lastPlayerHeight/q._lastSourceHeight),he=Math.max(0,Ee-1),$e=Math.max(0,1-Ee);V.data.view_max_upscale_percentage=Math.max(V.data.view_max_upscale_percentage||0,he),V.data.view_max_downscale_percentage=Math.max(V.data.view_max_downscale_percentage||0,$e),I(V.data,"view_total_content_playback_time",ce),I(V.data,"view_total_upscaling",he*ce),I(V.data,"view_total_downscaling",$e*ce)}q._lastPlayheadPosition=-1})}),["playing","hb"].forEach(function(W){V.on(W,function(){q._lastPlayheadPosition=V.data.player_playhead_time,q._lastPlayerWidth=V.data.player_width,q._lastPlayerHeight=V.data.player_height,q._lastSourceWidth=V.data.video_source_width,q._lastSourceHeight=V.data.video_source_height})})});function $t(Y,V){for(var q=0;q<V.length;q++){var W=V[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Y,W.key,W)}}function yt(Y,V,q){return V&&$t(Y.prototype,V),q&&$t(Y,q),Object.defineProperty(Y,"prototype",{writable:!1}),Y}var Gt=yt(function Y(V){var q=this;(function(Ee,he){if(!(Ee instanceof he))throw new TypeError("Cannot call a class as a function")})(this,Y),this.isSeeking=!1;var W=-1,ce=function(){var Ee=C.now(),he=(V.data.viewer_time||Ee)-(W||Ee);I(V.data,"view_seek_duration",he),V.data.view_max_seek_time=Math.max(V.data.view_max_seek_time||0,he),q.isSeeking=!1,W=-1};V.on("seeking",function(Ee,he){Object.assign(V.data,he),q.isSeeking&&he.viewer_time-W<=2e3?W=he.viewer_time:(q.isSeeking&&ce(),q.isSeeking=!0,W=he.viewer_time,I(V.data,"view_seek_count",1),V.send("seeking"))}),V.on("seeked",function(){ce()}),V.on("viewend",function(){q.isSeeking&&(ce(),V.send("seeked")),q.isSeeking=!1,W=-1})});function Lt(Y,V){return function(q){if(Array.isArray(q))return q}(Y)||function(q,W){var ce=q==null?null:typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(ce!=null){var Ee,he,$e=[],Ve=!0,Oe=!1;try{for(ce=ce.call(q);!(Ve=(Ee=ce.next()).done)&&($e.push(Ee.value),!W||$e.length!==W);Ve=!0);}catch(Mt){Oe=!0,he=Mt}finally{try{Ve||ce.return==null||ce.return()}finally{if(Oe)throw he}}return $e}}(Y,V)||function(q,W){if(q){if(typeof q=="string")return Vn(q,W);var ce=Object.prototype.toString.call(q).slice(8,-1);return ce==="Object"&&q.constructor&&(ce=q.constructor.name),ce==="Map"||ce==="Set"?Array.from(q):ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce)?Vn(q,W):void 0}}(Y,V)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vn(Y,V){(V==null||V>Y.length)&&(V=Y.length);for(var q=0,W=new Array(V);q<V;q++)W[q]=Y[q];return W}function Oo(Y,V){for(var q=0;q<V.length;q++){var W=V[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Y,W.key,W)}}var Po=function(Y,V){Y.push(V),Y.sort(function(q,W){return q.viewer_time-W.viewer_time})},wi=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror","adclicked","adskipped"],pr=function(){function Y(W){var ce=this;(function(he,$e){if(!(he instanceof $e))throw new TypeError("Cannot call a class as a function")})(this,Y),this.pm=W,W.on("viewinit",function(){ce.isAdBreak=!1,ce._currentAdRequestNumber=0,ce._currentAdResponseNumber=0,ce._adRequests=[],ce._adResponses=[],ce._adHasPlayed=!1,ce._wouldBeNewAdPlay=!0,ce._prerollPlayTime=void 0}),wi.forEach(function(he){return W.on(he,ce._updateAdData.bind(ce))});var Ee=function(){ce.isAdBreak=!1};W.on("adbreakstart",function(){ce.isAdBreak=!0}),W.on("play",Ee),W.on("playing",Ee),W.on("viewend",Ee),W.on("adrequest",function(he,$e){$e=Object.assign({ad_request_id:"generatedAdRequestId"+ce._currentAdRequestNumber++},$e),Po(ce._adRequests,$e),I(W.data,"view_ad_request_count"),ce.inPrerollPosition()&&(W.data.view_preroll_requested=!0,ce._adHasPlayed||I(W.data,"view_preroll_request_count"))}),W.on("adresponse",function(he,$e){$e=Object.assign({ad_request_id:"generatedAdRequestId"+ce._currentAdResponseNumber++},$e),Po(ce._adResponses,$e);var Ve=ce.findAdRequest($e.ad_request_id);Ve&&I(W.data,"view_ad_request_time",Math.max(0,$e.viewer_time-Ve.viewer_time))}),W.on("adplay",function(he,$e){ce._adHasPlayed=!0,ce._wouldBeNewAdPlay&&(ce._wouldBeNewAdPlay=!1,I(W.data,"view_ad_played_count")),ce.inPrerollPosition()&&!W.data.view_preroll_played&&(W.data.view_preroll_played=!0,ce._adRequests.length>0&&(W.data.view_preroll_request_time=Math.max(0,$e.viewer_time-ce._adRequests[0].viewer_time)),W.data.view_start&&(W.data.view_startup_preroll_request_time=Math.max(0,$e.viewer_time-W.data.view_start)),ce._prerollPlayTime=$e.viewer_time)}),W.on("adplaying",function(he,$e){ce.inPrerollPosition()&&W.data.view_preroll_load_time===void 0&&ce._prerollPlayTime!==void 0&&(W.data.view_preroll_load_time=$e.viewer_time-ce._prerollPlayTime,W.data.view_startup_preroll_load_time=$e.viewer_time-ce._prerollPlayTime)}),W.on("adclicked",function(he,$e){ce._wouldBeNewAdPlay||I(W.data,"view_ad_clicked_count")}),W.on("adskipped",function(he,$e){ce._wouldBeNewAdPlay||I(W.data,"view_ad_skipped_count")}),W.on("adended",function(){ce._wouldBeNewAdPlay=!0}),W.on("aderror",function(){ce._wouldBeNewAdPlay=!0})}var V,q;return V=Y,(q=[{key:"inPrerollPosition",value:function(){return this.pm.data.view_content_playback_time===void 0||this.pm.data.view_content_playback_time<=1e3}},{key:"findAdRequest",value:function(W){for(var ce=0;ce<this._adRequests.length;ce++)if(this._adRequests[ce].ad_request_id===W)return this._adRequests[ce]}},{key:"_updateAdData",value:function(W,ce){if(this.inPrerollPosition()){if(!this.pm.data.view_preroll_ad_tag_hostname&&ce.ad_tag_url){var Ee=Lt(T(ce.ad_tag_url),2),he=Ee[0],$e=Ee[1];this.pm.data.view_preroll_ad_tag_domain=$e,this.pm.data.view_preroll_ad_tag_hostname=he}if(!this.pm.data.view_preroll_ad_asset_hostname&&ce.ad_asset_url){var Ve=Lt(T(ce.ad_asset_url),2),Oe=Ve[0],Mt=Ve[1];this.pm.data.view_preroll_ad_asset_domain=Mt,this.pm.data.view_preroll_ad_asset_hostname=Oe}}this.pm.data.ad_asset_url=ce==null?void 0:ce.ad_asset_url,this.pm.data.ad_tag_url=ce==null?void 0:ce.ad_tag_url,this.pm.data.ad_creative_id=ce==null?void 0:ce.ad_creative_id,this.pm.data.ad_id=ce==null?void 0:ce.ad_id,this.pm.data.ad_universal_id=ce==null?void 0:ce.ad_universal_id}}])&&Oo(V.prototype,q),Object.defineProperty(V,"prototype",{writable:!1}),Y}();function fn(Y,V){for(var q=0;q<V.length;q++){var W=V[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Y,W.key,W)}}function Ct(Y,V,q){return V&&fn(Y.prototype,V),q&&fn(Y,q),Object.defineProperty(Y,"prototype",{writable:!1}),Y}var ht=Ct(function Y(V){var q,W;(function($e,Ve){if(!($e instanceof Ve))throw new TypeError("Cannot call a class as a function")})(this,Y);var ce=function(){V.disableRebufferTracking||q&&(I(V.data,"view_waiting_rebuffer_duration",C.now()-q),q=!1,f().clearInterval(W))},Ee=!1,he=function(){Ee=!1,ce()};V.on("waiting",function(){Ee&&(V.disableRebufferTracking||(I(V.data,"view_waiting_rebuffer_count",1),q=C.now(),W=f().setInterval(function(){if(q){var $e=C.now();I(V.data,"view_waiting_rebuffer_duration",$e-q),q=$e}},250)))}),V.on("playing",function(){ce(),Ee=!0}),V.on("pause",he),V.on("seeking",he)});function en(Y,V){for(var q=0;q<V.length;q++){var W=V[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Y,W.key,W)}}function Hn(Y,V,q){return V&&en(Y.prototype,V),q&&en(Y,q),Object.defineProperty(Y,"prototype",{writable:!1}),Y}var rr=Hn(function Y(V){var q=this;(function(Ee,he){if(!(Ee instanceof he))throw new TypeError("Cannot call a class as a function")})(this,Y);var W=function(){q.lastWallClockTime=C.now(),V.on("before*",ce)},ce=function(Ee){var he=C.now(),$e=q.lastWallClockTime;q.lastWallClockTime=he,he-$e>3e4&&(V.emit("devicesleep",{viewer_time:$e}),Object.assign(V.data,{viewer_time:$e}),V.send("devicesleep"),V.emit("devicewake",{viewer_time:he}),Object.assign(V.data,{viewer_time:he}),V.send("devicewake"))};V.one("playbackheartbeat",W),V.on("playbackheartbeatend",function(){V.off("before*",ce),V.one("playbackheartbeat",W)})}),_i=c(375),Li=c(655),vo=c.n(Li),jo="muxData",Cl=function(){var Y;try{Y=_i.parse(vo().get(jo)||"")}catch{Y={}}return Y},Sl=function(Y){try{vo().set(jo,_i.stringify(Y),{expires:365})}catch{}},um=function(){var Y=Cl();return Y.mux_viewer_id=Y.mux_viewer_id||h(),Y.msn=Y.msn||Math.random(),Sl(Y),{mux_viewer_id:Y.mux_viewer_id,mux_sample_number:Y.msn}};function gd(Y,V){var q=V.beaconCollectionDomain,W=V.beaconDomain;if(q)return"https://"+q;var ce=W||"litix.io";return(Y=Y||"inferred").match(/^[a-z0-9]+$/)?"https://"+Y+"."+ce:"https://img.litix.io/a.gif"}var vd=function(){var Y;switch(Dh()){case"cellular":Y="cellular";break;case"ethernet":Y="wired";break;case"wifi":Y="wifi";break;case void 0:break;default:Y="other"}return Y},Dh=function(){var Y=f().navigator,V=Y&&(Y.connection||Y.mozConnection||Y.webkitConnection);return V&&V.type};vd.getConnectionFromAPI=Dh;var _2=vd,Tw=Jy({a:"env",b:"beacon",c:"custom",d:"ad",e:"event",f:"experiment",i:"internal",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"}),hv=Jy({ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",br:"break",bw:"browser",by:"bytes",ca:"cached",cb:"cancel",cc:"codec",cd:"code",cg:"category",ch:"changed",ck:"clicked",cl:"canceled",cn:"config",co:"count",ce:"counter",cp:"complete",cr:"creative",ct:"content",cu:"current",cx:"connection",cz:"context",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",dr:"drm",dp:"dropped",du:"duration",dv:"device",ec:"encoding",ed:"edge",en:"end",eg:"engine",em:"embed",er:"error",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",ep:"experiments",fa:"failed",fi:"first",fm:"family",ft:"format",fp:"fps",fq:"frequency",fr:"frame",fs:"fullscreen",ha:"has",hb:"holdback",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mf:"manifest",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mo:"model",mx:"mux",ne:"newest",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",pn:"playing",po:"poster",pr:"preload",ps:"position",pt:"part",py:"property",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",rm:"remote",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",sd:"skipped",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",ta:"tag",tc:"tech",te:"text",tg:"target",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",un:"universal",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"});function Jy(Y){var V={};for(var q in Y)Y.hasOwnProperty(q)&&(V[Y[q]]=q);return V}function Rh(Y){var V={},q={};return Object.keys(Y).forEach(function(W){var ce=!1;if(Y.hasOwnProperty(W)&&Y[W]!==void 0){var Ee=W.split("_"),he=Ee[0],$e=Tw[he];$e||(_.info("Data key word `"+Ee[0]+"` not expected in "+W),$e=he+"_"),Ee.splice(1).forEach(function(Ve){Ve==="url"&&(ce=!0),hv[Ve]?$e+=hv[Ve]:Number(Ve)&&Math.floor(Number(Ve))===Number(Ve)?$e+=Ve:(_.info("Data key word `"+Ve+"` not expected in "+W),$e+="_"+Ve+"_")}),ce?q[$e]=Y[W]:V[$e]=Y[W]}}),Object.assign(V,q)}var Aw={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:1e4,maxPayloadKBSize:500},Iw=["hb","requestcompleted","requestfailed","requestcanceled"],Dw="https://img.litix.io",Nc=function(Y){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._beaconUrl=Y||Dw,this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=Object.assign({},Aw,V)};Nc.prototype.queueEvent=function(Y,V){var q=Object.assign({},V);return(this._eventQueue.length<=this._options.maxQueueLength||Y==="eventrateexceeded")&&(this._eventQueue.push(q),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength)},Nc.prototype.flushEvents=function(){var Y=arguments.length>0&&arguments[0]!==void 0&&arguments[0];Y&&this._eventQueue.length===1?this._eventQueue.pop():(this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending())},Nc.prototype.destroy=function(){var Y=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.destroyed=!0,Y?this._clearBeaconQueue():this.flushEvents(),f().clearTimeout(this._sendTimeout)},Nc.prototype._clearBeaconQueue=function(){var Y=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,V=this._eventQueue.slice(Y);Y>0&&Object.assign(V[V.length-1],Rh({mux_view_message:"event queue truncated"}));var q=this._createPayload(V);e1(this._beaconUrl,q,!0,function(){})},Nc.prototype._sendBeaconQueue=function(){var Y=this;if(!this._postInFlight){var V=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0;var q=this._createPayload(V),W=C.now();e1(this._beaconUrl,q,!1,function(ce,Ee){Ee?(Y._eventQueue=V.concat(Y._eventQueue),Y._failureCount+=1,_.info("Error sending beacon: "+Ee)):Y._failureCount=0,Y._roundTripTime=C.now()-W,Y._postInFlight=!1})}},Nc.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var Y=Math.pow(2,this._failureCount-1);return(1+(Y*=Math.random()))*this._options.baseTimeBetweenBeacons},Nc.prototype._startBeaconSending=function(){var Y=this;f().clearTimeout(this._sendTimeout),this.destroyed||(this._sendTimeout=f().setTimeout(function(){Y._eventQueue.length&&Y._sendBeaconQueue(),Y._startBeaconSending()},this._getNextBeaconTime()))},Nc.prototype._createPayload=function(Y){var V,q,W,ce=this,Ee={transmission_timestamp:Math.round(C.now())};this._roundTripTime&&(Ee.rtt_ms=Math.round(this._roundTripTime));var he=function(){V=JSON.stringify({metadata:Ee,events:q||Y}),W=V.length/1024},$e=function(){return W<=ce._options.maxPayloadKBSize};return he(),$e()||(_.info("Payload size is too big ("+W+" kb). Removing unnecessary events."),q=Y.filter(function(Ve){return Iw.indexOf(Ve.e)===-1}),he()),$e()||(_.info("Payload size still too big ("+W+" kb). Cropping fields.."),q.forEach(function(Ve){for(var Oe in Ve){var Mt=Ve[Oe];typeof Mt=="string"&&Mt.length>51200&&(Ve[Oe]=Mt.substring(0,51200))}}),he()),V};var E2=function(Y){return Y.length<=57344},e1=function(Y,V,q,W){if(q&&navigator&&navigator.sendBeacon&&navigator.sendBeacon(Y,V))W();else if(f().fetch)f().fetch(Y,{method:"POST",body:V,headers:{"Content-Type":"text/plain"},keepalive:E2(V)}).then(function(Ee){return W(null,Ee.ok?null:"Error")}).catch(function(Ee){return W(null,Ee)});else{if(f().XMLHttpRequest){var ce=new(f()).XMLHttpRequest;return ce.onreadystatechange=function(){if(ce.readyState===4)return W(null,ce.status!==200?"error":void 0)},ce.open("POST",Y),ce.setRequestHeader("Content-Type","text/plain"),void ce.send(V)}W()}},Oh=Nc;function C2(Y,V){return function(q){if(Array.isArray(q))return q}(Y)||function(q,W){var ce=q==null?null:typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(ce!=null){var Ee,he,$e=[],Ve=!0,Oe=!1;try{for(ce=ce.call(q);!(Ve=(Ee=ce.next()).done)&&($e.push(Ee.value),!W||$e.length!==W);Ve=!0);}catch(Mt){Oe=!0,he=Mt}finally{try{Ve||ce.return==null||ce.return()}finally{if(Oe)throw he}}return $e}}(Y,V)||function(q,W){if(q){if(typeof q=="string")return Bc(q,W);var ce=Object.prototype.toString.call(q).slice(8,-1);return ce==="Object"&&q.constructor&&(ce=q.constructor.name),ce==="Map"||ce==="Set"?Array.from(q):ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce)?Bc(q,W):void 0}}(Y,V)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Bc(Y,V){(V==null||V>Y.length)&&(V=Y.length);for(var q=0,W=new Array(V);q<V;q++)W[q]=Y[q];return W}function dm(Y,V){var q=Object.keys(Y);if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(Y);V&&(W=W.filter(function(ce){return Object.getOwnPropertyDescriptor(Y,ce).enumerable})),q.push.apply(q,W)}return q}function Df(Y){for(var V=1;V<arguments.length;V++){var q=arguments[V]!=null?arguments[V]:{};V%2?dm(Object(q),!0).forEach(function(W){yd(Y,W,q[W])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(q)):dm(Object(q)).forEach(function(W){Object.defineProperty(Y,W,Object.getOwnPropertyDescriptor(q,W))})}return Y}function fm(Y){return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},fm(Y)}function hm(Y,V){if(!(Y instanceof V))throw new TypeError("Cannot call a class as a function")}function pm(Y,V){for(var q=0;q<V.length;q++){var W=V[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Y,W.key,W)}}function yd(Y,V,q){return V in Y?Object.defineProperty(Y,V,{value:q,enumerable:!0,configurable:!0,writable:!0}):Y[V]=q,Y}var S2=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id","player_instance_id"],t1=["adplay","adplaying","adpause","adfirstquartile","admidpoint","adthirdquartile","adended","adresponse","adrequest"],tn=["ad_id","ad_creative_id","ad_universal_id"],yo=["viewstart","error","ended","viewend"],ei=function(){function Y(W,ce){var Ee,he,$e,Ve,Oe,Mt,Cn,mr,an,xn,Sn,Wn,bo,ws,Yi,Tu=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};hm(this,Y),yd(this,"previousBeaconData",null),yd(this,"lastEventTime",0),yd(this,"rateLimited",!1),this.mux=W,this.envKey=ce,this.options=Tu,this.eventQueue=new Oh(gd(this.envKey,this.options)),this.sampleRate=(Ee=this.options.sampleRate)!==null&&Ee!==void 0?Ee:1,this.disableCookies=(he=this.options.disableCookies)!==null&&he!==void 0&&he,this.respectDoNotTrack=($e=this.options.respectDoNotTrack)!==null&&$e!==void 0&&$e,this.previousBeaconData=null,this.lastEventTime=0,this.rateLimited=!1,this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed:this.mux.NAME,mux_embed_version:this.mux.VERSION,viewer_application_name:(Ve=this.options.platform)===null||Ve===void 0?void 0:Ve.name,viewer_application_version:(Oe=this.options.platform)===null||Oe===void 0?void 0:Oe.version,viewer_application_engine:(Mt=this.options.platform)===null||Mt===void 0?void 0:Mt.layout,viewer_device_name:(Cn=this.options.platform)===null||Cn===void 0?void 0:Cn.product,viewer_device_category:"",viewer_device_manufacturer:(mr=this.options.platform)===null||mr===void 0?void 0:mr.manufacturer,viewer_os_family:(an=this.options.platform)===null||an===void 0||(xn=an.os)===null||xn===void 0?void 0:xn.family,viewer_os_architecture:(Sn=this.options.platform)===null||Sn===void 0||(Wn=Sn.os)===null||Wn===void 0?void 0:Wn.architecture,viewer_os_version:(bo=this.options.platform)===null||bo===void 0||(ws=bo.os)===null||ws===void 0?void 0:ws.version,viewer_connection_type:_2(),page_url:f()===null||f()===void 0||(Yi=f().location)===null||Yi===void 0?void 0:Yi.href},this.viewerData=this.disableCookies?{}:um()}var V,q;return V=Y,(q=[{key:"send",value:function(W,ce){var Ee;if(W&&ce!=null&&ce.view_id){if(this.respectDoNotTrack&&w())return _.info("Not sending `"+W+"` because Do Not Track is enabled");if(!ce||fm(ce)!=="object")return _.error("A data object was expected in send() but was not provided");var he,$e,Ve=this.disableCookies?{}:(he=Cl(),$e=C.now(),he.session_start&&(he.sst=he.session_start,delete he.session_start),he.session_id&&(he.sid=he.session_id,delete he.session_id),he.session_expires&&(he.sex=he.session_expires,delete he.session_expires),(!he.sex||he.sex<$e)&&(he.sid=h(),he.sst=$e),he.sex=$e+15e5,Sl(he),{session_id:he.sid,session_start:he.sst,session_expires:he.sex}),Oe=Df(Df(Df(Df(Df({},this.pageLevelData),ce),Ve),this.viewerData),{},{event:W,env_key:this.envKey});Oe.user_id&&(Oe.viewer_user_id=Oe.user_id,delete Oe.user_id);var Mt=((Ee=Oe.mux_sample_number)!==null&&Ee!==void 0?Ee:0)>=this.sampleRate,Cn=Rh(this._deduplicateBeaconData(W,Oe));if(this.lastEventTime=this.mux.utils.now(),Mt)return _.info("Not sending event due to sample rate restriction",W,Oe,Cn);if(this.envKey||_.info("Missing environment key (envKey) - beacons will be dropped if the video source is not a valid mux video URL",W,Oe,Cn),!this.rateLimited){if(_.info("Sending event",W,Oe,Cn),this.rateLimited=!this.eventQueue.queueEvent(W,Cn),this.mux.WINDOW_UNLOADING&&W==="viewend")this.eventQueue.destroy(!0);else if(this.mux.WINDOW_HIDDEN&&W==="hb"?this.eventQueue.flushEvents(!0):yo.indexOf(W)>=0&&this.eventQueue.flushEvents(),this.rateLimited)return Oe.event="eventrateexceeded",Cn=Rh(Oe),this.eventQueue.queueEvent(Oe.event,Cn),_.error("Beaconing disabled due to rate limit.")}}}},{key:"destroy",value:function(){this.eventQueue.destroy(!1)}},{key:"_deduplicateBeaconData",value:function(W,ce){var Ee=this,he={},$e=ce.view_id;if($e==="-1"||W==="viewstart"||W==="viewend"||!this.previousBeaconData||this.mux.utils.now()-this.lastEventTime>=6e5)he=Df({},ce),$e&&(this.previousBeaconData=he),$e&&W==="viewend"&&(this.previousBeaconData=null);else{var Ve=W.indexOf("request")===0;Object.entries(ce).forEach(function(Oe){var Mt=C2(Oe,2),Cn=Mt[0],mr=Mt[1];Ee.previousBeaconData&&(mr!==Ee.previousBeaconData[Cn]||S2.indexOf(Cn)>-1||Ee.objectHasChanged(Ve,Cn,mr,Ee.previousBeaconData[Cn])||Ee.eventRequiresKey(W,Cn))&&(he[Cn]=mr,Ee.previousBeaconData[Cn]=mr)})}return he}},{key:"objectHasChanged",value:function(W,ce,Ee,he){return!(!W||ce.indexOf("request_")!==0||ce!=="request_response_headers"&&fm(Ee)==="object"&&fm(he)==="object"&&Object.keys(Ee||{}).length===Object.keys(he||{}).length)}},{key:"eventRequiresKey",value:function(W,ce){return W==="renditionchange"&&ce.indexOf("video_source_")===0||!(!tn.includes(ce)||!t1.includes(W))}}])&&pm(V.prototype,q),Object.defineProperty(V,"prototype",{writable:!1}),Y}();function lo(Y,V){for(var q=0;q<V.length;q++){var W=V[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Y,W.key,W)}}function Uc(Y,V,q){return V&&lo(Y.prototype,V),q&&lo(Y,q),Object.defineProperty(Y,"prototype",{writable:!1}),Y}var ic=Uc(function Y(V){(function(Oe,Mt){if(!(Oe instanceof Mt))throw new TypeError("Cannot call a class as a function")})(this,Y);var q=0,W=0,ce=0,Ee=0,he=0,$e=0,Ve=0;V.on("requestcompleted",function(Oe,Mt){var Cn,mr,an=Mt.request_start,xn=Mt.request_response_start,Sn=Mt.request_response_end,Wn=Mt.request_bytes_loaded;if(Ee++,xn?(Cn=xn-(an??0),mr=(Sn??0)-xn):mr=(Sn??0)-(an??0),mr>0&&Wn&&Wn>0){var bo=Wn/mr*8e3;he++,W+=Wn,ce+=mr,V.data.view_min_request_throughput=Math.min(V.data.view_min_request_throughput||1/0,bo),V.data.view_average_request_throughput=W/ce*8e3,V.data.view_request_count=Ee,Cn>0&&(q+=Cn,V.data.view_max_request_latency=Math.max(V.data.view_max_request_latency||0,Cn),V.data.view_average_request_latency=q/he)}}),V.on("requestfailed",function(Oe,Mt){Ee++,$e++,V.data.view_request_count=Ee,V.data.view_request_failed_count=$e}),V.on("requestcanceled",function(Oe,Mt){Ee++,Ve++,V.data.view_request_count=Ee,V.data.view_request_canceled_count=Ve})});function Os(Y,V){for(var q=0;q<V.length;q++){var W=V[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Y,W.key,W)}}function Ph(Y,V,q){return V&&Os(Y.prototype,V),q&&Os(Y,q),Object.defineProperty(Y,"prototype",{writable:!1}),Y}var pv=Ph(function Y(V){var q=this;(function(W,ce){if(!(W instanceof ce))throw new TypeError("Cannot call a class as a function")})(this,Y),V.on("before*",function(W,ce){var Ee=ce.viewer_time,he=C.now(),$e=q._lastEventTime;if(q._lastEventTime=he,$e&&he-$e>36e5){var Ve=Object.keys(V.data).reduce(function(Oe,Mt){return Mt.indexOf("video_")===0?Object.assign(Oe,function(Cn,mr,an){return mr in Cn?Object.defineProperty(Cn,mr,{value:an,enumerable:!0,configurable:!0,writable:!0}):Cn[mr]=an,Cn}({},Mt,V.data[Mt])):Oe},{});V.mux.log.info("Received event after at least an hour inactivity, creating a new view"),V.emit("viewinit",Object.assign({viewer_time:Ee},Ve)),V.playbackHeartbeat._playheadShouldBeProgressing&&W.type!=="play"&&W.type!=="adbreakstart"&&(V.emit("play",{viewer_time:Ee}),W.type!=="playing"&&V.emit("playing",{viewer_time:Ee}))}})});function mm(Y){return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},mm(Y)}function m7(Y,V){return function(q){if(Array.isArray(q))return q}(Y)||function(q,W){var ce=q==null?null:typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(ce!=null){var Ee,he,$e=[],Ve=!0,Oe=!1;try{for(ce=ce.call(q);!(Ve=(Ee=ce.next()).done)&&($e.push(Ee.value),!W||$e.length!==W);Ve=!0);}catch(Mt){Oe=!0,he=Mt}finally{try{Ve||ce.return==null||ce.return()}finally{if(Oe)throw he}}return $e}}(Y,V)||function(q,W){if(q){if(typeof q=="string")return k2(q,W);var ce=Object.prototype.toString.call(q).slice(8,-1);return ce==="Object"&&q.constructor&&(ce=q.constructor.name),ce==="Map"||ce==="Set"?Array.from(q):ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce)?k2(q,W):void 0}}(Y,V)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function k2(Y,V){(V==null||V>Y.length)&&(V=Y.length);for(var q=0,W=new Array(V);q<V;q++)W[q]=Y[q];return W}function xR(Y,V){for(var q=0;q<V.length;q++){var W=V[q];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(Y,W.key,W)}}function n1(Y,V){return n1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(q,W){return q.__proto__=W,q},n1(Y,V)}function g7(Y){var V=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var q,W=mv(Y);if(V){var ce=mv(this).constructor;q=Reflect.construct(W,arguments,ce)}else q=W.apply(this,arguments);return wR(this,q)}}function wR(Y,V){if(V&&(mm(V)==="object"||typeof V=="function"))return V;if(V!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xs(Y)}function xs(Y){if(Y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}function mv(Y){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(V){return V.__proto__||Object.getPrototypeOf(V)},mv(Y)}var gv=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","adfirstquartile","admidpoint","adthirdquartile","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled","renditionchange"],_R=function(Y){(function(Ee,he){if(typeof he!="function"&&he!==null)throw new TypeError("Super expression must either be null or a function");Ee.prototype=Object.create(he&&he.prototype,{constructor:{value:Ee,writable:!0,configurable:!0}}),Object.defineProperty(Ee,"prototype",{writable:!1}),he&&n1(Ee,he)})(ce,Y);var V,q,W=g7(ce);function ce(Ee,he,$e){var Ve,Oe;(function(xn,Sn){if(!(xn instanceof Sn))throw new TypeError("Cannot call a class as a function")})(this,ce),(Oe=W.call(this)).DOM_CONTENT_LOADED_EVENT_END=A.domContentLoadedEventEnd(),Oe.NAVIGATION_START=A.navigationStart(),Oe.mux=Ee,Oe.id=he,(Ve=$e)!==null&&Ve!==void 0&&Ve.beaconDomain&&Oe.mux.log.warn("The `beaconDomain` setting has been deprecated in favor of `beaconCollectionDomain`. Please change your integration to use `beaconCollectionDomain` instead of `beaconDomain`."),($e=Object.assign({debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!1,disableRebufferTracking:!1,disablePlayheadRebufferTracking:!1,errorTranslator:function(xn){return xn}},$e)).data=$e.data||{},$e.data.property_key&&($e.data.env_key=$e.data.property_key,delete $e.data.property_key),_.setLevel($e.debug?"debug":"warn"),Oe.getPlayheadTime=$e.getPlayheadTime,Oe.getStateData=$e.getStateData||function(){return{}},Oe.getAdData=$e.getAdData||function(){},Oe.minimumRebufferDuration=$e.minimumRebufferDuration,Oe.sustainedRebufferThreshold=$e.sustainedRebufferThreshold,Oe.playbackHeartbeatTime=$e.playbackHeartbeatTime,Oe.disableRebufferTracking=$e.disableRebufferTracking,Oe.disableRebufferTracking&&Oe.mux.log.warn("Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering."),Oe.disablePlayheadRebufferTracking=$e.disablePlayheadRebufferTracking,Oe.errorTranslator=$e.errorTranslator,Oe.playbackEventDispatcher=new ei(Ee,$e.data.env_key,$e),Oe.data={player_instance_id:h(),mux_sample_rate:$e.sampleRate,beacon_domain:$e.beaconCollectionDomain||$e.beaconDomain},Oe.data.view_sequence_number=1,Oe.data.player_sequence_number=1,Oe.oldEmit=Oe.emit,Oe.emit=function(xn,Sn){Sn=Object.assign({viewer_time:this.mux.utils.now()},Sn),this.oldEmit(xn,Sn)};var Mt=(function(){this.data.view_start===void 0&&(this.data.view_start=this.mux.utils.now(),this.emit("viewstart"))}).bind(xs(Oe));Oe.on("viewinit",function(xn,Sn){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),Object.assign(this.data,Sn),this._initializeViewData(),this.one("play",Mt),this.one("adbreakstart",Mt)});var Cn=(function(xn){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",xn)}).bind(xs(Oe));if(Oe.on("videochange",function(xn,Sn){Cn(Sn)}),Oe.on("programchange",function(xn,Sn){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),Cn(Object.assign(Sn,{view_program_changed:!0})),Mt(),this.emit("play"),this.emit("playing")}),Oe.on("fragmentchange",function(xn,Sn){this.currentFragmentPDT=Sn.currentFragmentPDT,this.currentFragmentStart=Sn.currentFragmentStart}),Oe.on("destroy",Oe.destroy),typeof window<"u"&&typeof window.addEventListener=="function"&&typeof window.removeEventListener=="function"){var mr=function(){var xn=Oe.data.view_start!==void 0;Oe.mux.WINDOW_HIDDEN=document.visibilityState==="hidden",xn&&Oe.mux.WINDOW_HIDDEN&&(Oe.data.player_is_paused||Oe.emit("hb"))};window.addEventListener("visibilitychange",mr,!1);var an=function(xn){xn.persisted||Oe.destroy()};window.addEventListener("pagehide",an,!1),Oe.on("destroy",function(){window.removeEventListener("visibilitychange",mr),window.removeEventListener("pagehide",an)})}return Oe.on("playerready",function(xn,Sn){Object.assign(this.data,Sn)}),gv.forEach(function(xn){Oe.on(xn,function(Sn,Wn){xn.indexOf("ad")!==0&&this._updateStateData(),Object.assign(this.data,Wn),this._sanitizeData()}),Oe.on("after"+xn,function(){(xn!=="error"||this.errorTracker.viewErrored)&&this.send(xn)})}),Oe.on("viewend",function(xn,Sn){Object.assign(Oe.data,Sn)}),Oe.one("playerready",function(xn){var Sn=this.mux.utils.now();this.data.player_init_time&&(this.data.player_startup_time=Sn-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time}),Oe.longResumeTracker=new pv(xs(Oe)),Oe.errorTracker=new ge(xs(Oe)),new rr(xs(Oe)),Oe.seekingTracker=new Gt(xs(Oe)),Oe.playheadTime=new He(xs(Oe)),Oe.playbackHeartbeat=new ye(xs(Oe)),new jt(xs(Oe)),Oe.watchTimeTracker=new Pe(xs(Oe)),new Fe(xs(Oe)),Oe.adTracker=new pr(xs(Oe)),new At(xs(Oe)),new kt(xs(Oe)),new at(xs(Oe)),new ht(xs(Oe)),new ic(xs(Oe)),$e.hlsjs&&Oe.addHLSJS($e),$e.dashjs&&Oe.addDashJS($e),Oe.emit("viewinit",$e.data),Oe}return V=ce,q=[{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.data.view_start!==void 0&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),window.clearTimeout(this._heartBeatTimeout))}},{key:"send",value:function(Ee){if(this.data.view_id){var he=Object.assign({},this.data);if(he.video_source_is_live===void 0&&(he.player_source_duration===1/0||he.video_source_duration===1/0?he.video_source_is_live=!0:(he.player_source_duration>0||he.video_source_duration>0)&&(he.video_source_is_live=!1)),he.video_source_is_live||["player_program_time","player_manifest_newest_program_time","player_live_edge_program_time","player_program_time","video_holdback","video_part_holdback","video_target_duration","video_part_target_duration"].forEach(function(Mt){he[Mt]=void 0}),he.video_source_url=he.video_source_url||he.player_source_url,he.video_source_url){var $e=m7(T(he.video_source_url),2),Ve=$e[0],Oe=$e[1];he.video_source_domain=Oe,he.video_source_hostname=Ve}delete he.ad_request_id,this.playbackEventDispatcher.send(Ee,he),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat(),Ee==="viewend"&&delete this.data.view_id}}},{key:"_updateStateData",value:function(){Object.assign(this.data,this.getStateData()),this.playheadTime._updatePlayheadTime(),this._sanitizeData()}},{key:"_sanitizeData",value:function(){var Ee=this;["player_width","player_height","video_source_width","video_source_height","player_playhead_time","video_source_bitrate"].forEach(function(he){var $e=parseInt(Ee.data[he],10);Ee.data[he]=isNaN($e)?void 0:$e}),["player_source_url","video_source_url"].forEach(function(he){if(Ee.data[he]){var $e=Ee.data[he].toLowerCase();$e.indexOf("data:")!==0&&$e.indexOf("blob:")!==0||(Ee.data[he]="MSE style URL")}})}},{key:"_resetVideoData",value:function(Ee,he){var $e=this;Object.keys(this.data).forEach(function(Ve){Ve.indexOf("video_")===0&&delete $e.data[Ve]})}},{key:"_resetViewData",value:function(){var Ee=this;Object.keys(this.data).forEach(function(he){he.indexOf("view_")===0&&delete Ee.data[he]}),this.data.view_sequence_number=1}},{key:"_resetErrorData",value:function(Ee,he){delete this.data.player_error_code,delete this.data.player_error_message}},{key:"_initializeViewData",value:function(){var Ee=this,he=this.data.view_id=h(),$e=function(){he===Ee.data.view_id&&I(Ee.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",$e):$e()}},{key:"_restartHeartBeat",value:function(){var Ee=this;window.clearTimeout(this._heartBeatTimeout),this.errorTracker.viewErrored||(this._heartBeatTimeout=window.setTimeout(function(){Ee.data.player_is_paused||Ee.emit("hb")},1e4))}},{key:"addHLSJS",value:function(Ee){Ee.hlsjs?this.hlsjs?this.mux.log.warn("An instance of HLS.js is already being monitored for this player."):(this.hlsjs=Ee.hlsjs,function(he,$e,Ve){var Oe=arguments.length>4?arguments[4]:void 0,Mt=he.log,Cn=he.utils.secondsToMs,mr=function(Xo){var vn,Ft=parseInt(Oe.version);return Ft===1&&Xo.programDateTime!==null&&(vn=Xo.programDateTime),Ft===0&&Xo.pdt!==null&&(vn=Xo.pdt),vn};if(A.exists()){var an=function(Xo,vn){return he.emit($e,Xo,vn)},xn=function(Xo,vn){var Ft=vn.levels,Rt=vn.audioTracks,kn=vn.url,qn=vn.stats,cr=vn.networkDetails,ti=vn.sessionData,xo={},uo={};Ft.forEach(function(oc,Ps){xo[Ps]={width:oc.width,height:oc.height,bitrate:oc.bitrate,attrs:oc.attrs}}),Rt.forEach(function(oc,Ps){uo[Ps]={name:oc.name,language:oc.lang,bitrate:oc.bitrate}});var Or=z(qn),Ks=Or.bytesLoaded,bd=Or.requestStart,bm=Or.responseStart,r1=Or.responseEnd;an("requestcompleted",M(M({},$(ti)),{},{request_event_type:Xo,request_bytes_loaded:Ks,request_start:bd,request_response_start:bm,request_response_end:r1,request_type:"manifest",request_hostname:S(kn),request_response_headers:B(cr),request_rendition_lists:{media:xo,audio:uo,video:{}}}))};Ve.on(Oe.Events.MANIFEST_LOADED,xn);var Sn=function(Xo,vn){var Ft=vn.details,Rt=vn.level,kn=vn.networkDetails,qn=vn.stats,cr=z(qn),ti=cr.bytesLoaded,xo=cr.requestStart,uo=cr.responseStart,Or=cr.responseEnd,Ks=Ft.fragments[Ft.fragments.length-1],bd=mr(Ks)+Cn(Ks.duration);an("requestcompleted",{request_event_type:Xo,request_bytes_loaded:ti,request_start:xo,request_response_start:uo,request_response_end:Or,request_current_level:Rt,request_type:"manifest",request_hostname:S(Ft.url),request_response_headers:B(kn),video_holdback:Ft.holdBack&&Cn(Ft.holdBack),video_part_holdback:Ft.partHoldBack&&Cn(Ft.partHoldBack),video_part_target_duration:Ft.partTarget&&Cn(Ft.partTarget),video_target_duration:Ft.targetduration&&Cn(Ft.targetduration),video_source_is_live:Ft.live,player_manifest_newest_program_time:isNaN(bd)?void 0:bd})};Ve.on(Oe.Events.LEVEL_LOADED,Sn);var Wn=function(Xo,vn){var Ft=vn.details,Rt=vn.networkDetails,kn=vn.stats,qn=z(kn),cr=qn.bytesLoaded,ti=qn.requestStart,xo=qn.responseStart,uo=qn.responseEnd;an("requestcompleted",{request_event_type:Xo,request_bytes_loaded:cr,request_start:ti,request_response_start:xo,request_response_end:uo,request_type:"manifest",request_hostname:S(Ft.url),request_response_headers:B(Rt)})};Ve.on(Oe.Events.AUDIO_TRACK_LOADED,Wn);var bo=function(Xo,vn){var Ft=vn.stats,Rt=vn.networkDetails,kn=vn.frag;Ft=Ft||kn.stats;var qn=z(Ft),cr=qn.bytesLoaded,ti=qn.requestStart,xo=qn.responseStart,uo=qn.responseEnd,Or=Rt?B(Rt):void 0,Ks={request_event_type:Xo,request_bytes_loaded:cr,request_start:ti,request_response_start:xo,request_response_end:uo,request_hostname:Rt?S(Rt.responseURL):void 0,request_id:Or?O(Or):void 0,request_response_headers:Or,request_media_duration:kn.duration,request_url:Rt==null?void 0:Rt.responseURL};kn.type==="main"?(Ks.request_type="media",Ks.request_current_level=kn.level,Ks.request_video_width=(Ve.levels[kn.level]||{}).width,Ks.request_video_height=(Ve.levels[kn.level]||{}).height,Ks.request_labeled_bitrate=(Ve.levels[kn.level]||{}).bitrate):Ks.request_type=kn.type,an("requestcompleted",Ks)};Ve.on(Oe.Events.FRAG_LOADED,bo);var ws=function(Xo,vn){var Ft=vn.frag,Rt=Ft.start,kn={currentFragmentPDT:mr(Ft),currentFragmentStart:Cn(Rt)};an("fragmentchange",kn)};Ve.on(Oe.Events.FRAG_CHANGED,ws);var Yi=function(Xo,vn){var Ft=vn.type,Rt=vn.details,kn=vn.response,qn=vn.fatal,cr=vn.frag,ti=vn.networkDetails,xo=(cr==null?void 0:cr.url)||vn.url||"",uo=ti?B(ti):void 0;if(Rt!==Oe.ErrorDetails.MANIFEST_LOAD_ERROR&&Rt!==Oe.ErrorDetails.MANIFEST_LOAD_TIMEOUT&&Rt!==Oe.ErrorDetails.FRAG_LOAD_ERROR&&Rt!==Oe.ErrorDetails.FRAG_LOAD_TIMEOUT&&Rt!==Oe.ErrorDetails.LEVEL_LOAD_ERROR&&Rt!==Oe.ErrorDetails.LEVEL_LOAD_TIMEOUT&&Rt!==Oe.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&Rt!==Oe.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT&&Rt!==Oe.ErrorDetails.SUBTITLE_LOAD_ERROR&&Rt!==Oe.ErrorDetails.SUBTITLE_LOAD_TIMEOUT&&Rt!==Oe.ErrorDetails.KEY_LOAD_ERROR&&Rt!==Oe.ErrorDetails.KEY_LOAD_TIMEOUT||an("requestfailed",{request_error:Rt,request_url:xo,request_hostname:S(xo),request_id:uo?O(uo):void 0,request_type:Rt===Oe.ErrorDetails.FRAG_LOAD_ERROR||Rt===Oe.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":Rt===Oe.ErrorDetails.AUDIO_TRACK_LOAD_ERROR||Rt===Oe.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT?"audio":Rt===Oe.ErrorDetails.SUBTITLE_LOAD_ERROR||Rt===Oe.ErrorDetails.SUBTITLE_LOAD_TIMEOUT?"subtitle":Rt===Oe.ErrorDetails.KEY_LOAD_ERROR||Rt===Oe.ErrorDetails.KEY_LOAD_TIMEOUT?"encryption":"manifest",request_error_code:kn==null?void 0:kn.code,request_error_text:kn==null?void 0:kn.text}),qn){var Or,Ks="".concat(xo?"url: ".concat(xo,`
`):"")+"".concat(kn&&(kn.code||kn.text)?"response: ".concat(kn.code,", ").concat(kn.text,`
`):"")+"".concat(vn.reason?"failure reason: ".concat(vn.reason,`
`):"")+"".concat(vn.level?"level: ".concat(vn.level,`
`):"")+"".concat(vn.parent?"parent stream controller: ".concat(vn.parent,`
`):"")+"".concat(vn.buffer?"buffer length: ".concat(vn.buffer,`
`):"")+"".concat(vn.error?"error: ".concat(vn.error,`
`):"")+"".concat(vn.event?"event: ".concat(vn.event,`
`):"")+"".concat(vn.err?"error message: ".concat((Or=vn.err)===null||Or===void 0?void 0:Or.message,`
`):"");an("error",{player_error_code:Ft,player_error_message:Rt,player_error_context:Ks})}};Ve.on(Oe.Events.ERROR,Yi);var Tu=function(Xo,vn){var Ft=vn.frag,Rt=Ft&&Ft._url||"";an("requestcanceled",{request_event_type:Xo,request_url:Rt,request_type:"media",request_hostname:S(Rt)})};Ve.on(Oe.Events.FRAG_LOAD_EMERGENCY_ABORTED,Tu);var ym=function(Xo,vn){var Ft=vn.level,Rt=Ve.levels[Ft];if(Rt&&Rt.attrs&&Rt.attrs.BANDWIDTH){var kn,qn=Rt.attrs.BANDWIDTH,cr=parseFloat(Rt.attrs["FRAME-RATE"]);isNaN(cr)||(kn=cr),qn?an("renditionchange",{video_source_fps:kn,video_source_bitrate:qn,video_source_width:Rt.width,video_source_height:Rt.height,video_source_rendition_name:Rt.name,video_source_codec:Rt==null?void 0:Rt.videoCodec}):Mt.warn("missing BANDWIDTH from HLS manifest parsed by HLS.js")}};Ve.on(Oe.Events.LEVEL_SWITCHED,ym),Ve._stopMuxMonitor=function(){Ve.off(Oe.Events.MANIFEST_LOADED,xn),Ve.off(Oe.Events.LEVEL_LOADED,Sn),Ve.off(Oe.Events.AUDIO_TRACK_LOADED,Wn),Ve.off(Oe.Events.FRAG_LOADED,bo),Ve.off(Oe.Events.FRAG_CHANGED,ws),Ve.off(Oe.Events.ERROR,Yi),Ve.off(Oe.Events.FRAG_LOAD_EMERGENCY_ABORTED,Tu),Ve.off(Oe.Events.LEVEL_SWITCHED,ym),Ve.off(Oe.Events.DESTROYING,Ve._stopMuxMonitor),delete Ve._stopMuxMonitor},Ve.on(Oe.Events.DESTROYING,Ve._stopMuxMonitor)}else Mt.warn("performance timing not supported. Not tracking HLS.js.")}(this.mux,this.id,Ee.hlsjs,{},Ee.Hls||window.Hls)):this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.")}},{key:"removeHLSJS",value:function(){var Ee;this.hlsjs&&((Ee=this.hlsjs)&&typeof Ee._stopMuxMonitor=="function"&&Ee._stopMuxMonitor(),this.hlsjs=void 0)}},{key:"addDashJS",value:function(Ee){Ee.dashjs?this.dashjs?this.mux.log.warn("An instance of Dash.js is already being monitored for this player."):(this.dashjs=Ee.dashjs,function(he,$e,Ve){var Oe=he.log;if(Ve&&Ve.on){var Mt=Q(Ve),Cn=function(Ft,Rt){return he.emit($e,Ft,Rt)},mr=function(Ft){var Rt=Ft.type,kn=(Ft.data||{}).url;Cn("requestcompleted",{request_event_type:Rt,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:S(kn),request_url:kn})};Ve.on("manifestLoaded",mr);var an={},xn=function(Ft){if(typeof Ft.getRequests!="function")return null;var Rt=Ft.getRequests({state:"executed"});return Rt.length===0?null:Rt[Rt.length-1]},Sn=function(Ft){var Rt=Ft.type,kn=Ft.fragmentModel,qn=Ft.chunk,cr=xn(kn);Wn({type:Rt,request:cr,chunk:qn})},Wn=function(Ft){var Rt=Ft.type,kn=Ft.chunk,qn=Ft.request,cr=(kn||{}).mediaInfo||{},ti=cr.type,xo=cr.bitrateList,uo={};(xo=xo||[]).forEach(function(bv,Au){uo[Au]={},uo[Au].width=bv.width,uo[Au].height=bv.height,uo[Au].bitrate=bv.bandwidth,uo[Au].attrs={}}),ti==="video"?an.video=uo:ti==="audio"?an.audio=uo:an.media=uo;var Or=ne(qn,Ve),Ks=Or.requestStart,bd=Or.requestResponseStart,bm=Or.requestResponseEnd,r1=Or.requestResponseHeaders,oc=Or.requestMediaDuration,Ps=Or.requestHostname,i1=Or.requestUrl,xm=Or.requestId;Cn("requestcompleted",{request_event_type:Rt,request_start:Ks,request_response_start:bd,request_response_end:bm,request_bytes_loaded:-1,request_type:ti+"_init",request_response_headers:r1,request_hostname:Ps,request_id:xm,request_url:i1,request_media_duration:oc,request_rendition_lists:an})};Mt>=4?Ve.on("initFragmentLoaded",Wn):Ve.on("initFragmentLoaded",Sn);var bo=function(Ft){var Rt=Ft.type,kn=Ft.fragmentModel,qn=Ft.chunk,cr=xn(kn);ws({type:Rt,request:cr,chunk:qn})},ws=function(Ft){var Rt=Ft.type,kn=Ft.chunk,qn=Ft.request,cr=kn||{},ti=cr.mediaInfo,xo=cr.start,uo=(ti||{}).type,Or=ne(qn,Ve),Ks=Or.requestStart,bd=Or.requestResponseStart,bm=Or.requestResponseEnd,r1=Or.requestBytesLoaded,oc=Or.requestResponseHeaders,Ps=Or.requestMediaDuration,i1=Or.requestHostname,xm=Or.requestUrl,bv=Or.requestId,Au=le(uo,Ve),R7=Au.currentLevel,O7=Au.renditionWidth,P7=Au.renditionHeight,j7=Au.renditionBitrate;Cn("requestcompleted",{request_event_type:Rt,request_start:Ks,request_response_start:bd,request_response_end:bm,request_bytes_loaded:r1,request_type:uo,request_response_headers:oc,request_hostname:i1,request_id:bv,request_url:xm,request_media_start_time:xo,request_media_duration:Ps,request_current_level:R7,request_labeled_bitrate:j7,request_video_width:O7,request_video_height:P7})};Mt>=4?Ve.on("mediaFragmentLoaded",ws):Ve.on("mediaFragmentLoaded",bo);var Yi={video:void 0,audio:void 0,totalBitrate:void 0},Tu=function(){if(Yi.video&&typeof Yi.video.bitrate=="number"){if(Yi.video.width&&Yi.video.height){var Ft=Yi.video.bitrate;return Yi.audio&&typeof Yi.audio.bitrate=="number"&&(Ft+=Yi.audio.bitrate),Ft!==Yi.totalBitrate?(Yi.totalBitrate=Ft,{video_source_bitrate:Ft,video_source_height:Yi.video.height,video_source_width:Yi.video.width,video_source_codec:K(Yi.video.codec)}):void 0}Oe.warn("have bitrate info for video but missing width/height")}},ym=function(Ft,Rt,kn){if(typeof Ft.newQuality=="number"){var qn=Ft.mediaType;if(qn==="audio"||qn==="video"){var cr=Ve.getBitrateInfoListFor(qn).find(function(xo){return xo.qualityIndex===Ft.newQuality});if(cr&&typeof cr.bitrate=="number"){Yi[qn]=X(X({},cr),{},{codec:Ve.getCurrentTrackFor(qn).codec});var ti=Tu();ti&&Cn("renditionchange",ti)}else Oe.warn("missing bitrate info for ".concat(qn))}}else Oe.warn("missing evt.newQuality in qualityChangeRendered event",Ft)};Ve.on("qualityChangeRendered",ym);var Xo=function(Ft){var Rt=Ft.request,kn=Ft.mediaType;Cn("requestcanceled",{request_event_type:(Rt=Rt||{}).type+"_"+Rt.action,request_url:Rt.url,request_type:kn,request_hostname:S(Rt.url)})};Ve.on("fragmentLoadingAbandoned",Xo);var vn=function(Ft){var Rt,kn,qn=Ft.error,cr=(qn==null||(Rt=qn.data)===null||Rt===void 0?void 0:Rt.request)||{},ti=(qn==null||(kn=qn.data)===null||kn===void 0?void 0:kn.response)||{};(qn==null?void 0:qn.code)===27&&Cn("requestfailed",{request_error:cr.type+"_"+cr.action,request_url:cr.url,request_hostname:S(cr.url),request_type:cr.mediaType,request_error_code:ti.status,request_error_text:ti.statusText});var xo="".concat(cr!=null&&cr.url?"url: ".concat(cr.url,`
`):"")+"".concat(ti!=null&&ti.status||ti!=null&&ti.statusText?"response: ".concat(ti==null?void 0:ti.status,", ").concat(ti==null?void 0:ti.statusText,`
`):"");Cn("error",{player_error_code:qn==null?void 0:qn.code,player_error_message:qn==null?void 0:qn.message,player_error_context:xo})};Ve.on("error",vn),Ve._stopMuxMonitor=function(){Ve.off("manifestLoaded",mr),Ve.off("initFragmentLoaded",Wn),Ve.off("mediaFragmentLoaded",ws),Ve.off("qualityChangeRendered",ym),Ve.off("error",vn),Ve.off("fragmentLoadingAbandoned",Xo),delete Ve._stopMuxMonitor}}else Oe.warn("Invalid dash.js player reference. Monitoring blocked.")}(this.mux,this.id,Ee.dashjs)):this.mux.log.warn("You must pass a valid dashjs instance in order to track it.")}},{key:"removeDashJS",value:function(){var Ee;this.dashjs&&((Ee=this.dashjs)&&typeof Ee._stopMuxMonitor=="function"&&Ee._stopMuxMonitor(),this.dashjs=void 0)}}],q&&xR(V.prototype,q),Object.defineProperty(V,"prototype",{writable:!1}),ce}(fe),ER=_R,v7=c(153),vv=c.n(v7);function Rw(Y){return Rw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},Rw(Y)}function T2(Y,V){return function(q){if(Array.isArray(q))return q}(Y)||function(q,W){var ce=q==null?null:typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(ce!=null){var Ee,he,$e=[],Ve=!0,Oe=!1;try{for(ce=ce.call(q);!(Ve=(Ee=ce.next()).done)&&($e.push(Ee.value),!W||$e.length!==W);Ve=!0);}catch(Mt){Oe=!0,he=Mt}finally{try{Ve||ce.return==null||ce.return()}finally{if(Oe)throw he}}return $e}}(Y,V)||function(q,W){if(q){if(typeof q=="string")return A2(q,W);var ce=Object.prototype.toString.call(q).slice(8,-1);return ce==="Object"&&q.constructor&&(ce=q.constructor.name),ce==="Map"||ce==="Set"?Array.from(q):ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce)?A2(q,W):void 0}}(Y,V)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function A2(Y,V){(V==null||V>Y.length)&&(V=Y.length);for(var q=0,W=new Array(V);q<V;q++)W[q]=Y[q];return W}var yv,y7=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],b7={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"};f()&&f().WeakMap&&(yv=new WeakMap);var CR="#EXT-X-TARGETDURATION",x7="#EXT-X-PART-INF",w7="#EXT-X-SERVER-CONTROL",_7="#EXTINF",E7="#EXT-X-PROGRAM-DATE-TIME",I2="#EXT-X-VERSION",C7="#EXT-X-SESSION-DATA",Ow=function(Y){return this.buffer="",this.manifest={segments:[],serverControl:{},sessionData:{}},this.currentUri={},this.process(Y),this.manifest};Ow.prototype.process=function(Y){var V;for(this.buffer+=Y,V=this.buffer.indexOf(`
`);V>-1;V=this.buffer.indexOf(`
`))this.processLine(this.buffer.substring(0,V)),this.buffer=this.buffer.substring(V+1)},Ow.prototype.processLine=function(Y){var V=Y.indexOf(":"),q=k7(Y,V),W=q[0],ce=q.length===2?R2(q[1]):void 0;if(W[0]!=="#")this.currentUri.uri=W,this.manifest.segments.push(this.currentUri),this.manifest.targetDuration&&!("duration"in this.currentUri)&&(this.currentUri.duration=this.manifest.targetDuration),this.currentUri={};else switch(W){case CR:if(!isFinite(ce)||ce<0)return;this.manifest.targetDuration=ce,this.setHoldBack();break;case x7:D2(this.manifest,q),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),this.setHoldBack();break;case w7:D2(this.manifest,q),this.setHoldBack();break;case _7:ce===0?this.currentUri.duration=.01:ce>0&&(this.currentUri.duration=ce);break;case E7:var Ee=ce,he=new Date(Ee);this.manifest.dateTimeString||(this.manifest.dateTimeString=Ee,this.manifest.dateTimeObject=he),this.currentUri.dateTimeString=Ee,this.currentUri.dateTimeObject=he;break;case I2:D2(this.manifest,q);break;case C7:var $e=T7(q[1]),Ve=$($e);Object.assign(this.manifest.sessionData,Ve)}},Ow.prototype.setHoldBack=function(){var Y=this.manifest,V=Y.serverControl,q=Y.targetDuration,W=Y.partTargetDuration;if(V){var ce="holdBack",Ee="partHoldBack",he=q&&3*q,$e=W&&2*W;q&&!V.hasOwnProperty(ce)&&(V[ce]=he),he&&V[ce]<he&&(V[ce]=he),W&&!V.hasOwnProperty(Ee)&&(V[Ee]=3*W),W&&V[Ee]<$e&&(V[Ee]=$e)}};var D2=function(Y,V){var q,W=SR(V[0].replace("#EXT-X-",""));S7(V[1])?(q={},q=Object.assign(Ki(V[1]),q)):q=R2(V[1]),Y[W]=q},SR=function(Y){return Y.toLowerCase().replace(/-(\w)/g,function(V){return V[1].toUpperCase()})},R2=function(Y){if(Y.toLowerCase()==="yes"||Y.toLowerCase()==="no")return Y.toLowerCase()==="yes";var V=Y.indexOf(":")!==-1?Y:parseFloat(Y);return isNaN(V)?Y:V},co=function(Y){var V={},q=Y.split("=");return q.length>1&&(V[SR(q[0])]=R2(q[1])),V},Ki=function(Y){for(var V=Y.split(","),q={},W=0;V.length>W;W++){var ce=V[W],Ee=co(ce);q=Object.assign(Ee,q)}return q},S7=function(Y){return Y.indexOf("=")>-1},k7=function(Y,V){return V===-1?[Y]:[Y.substring(0,V),Y.substring(V+1)]},T7=function(Y){var V={};if(Y){var q=Y.search(",");return[Y.slice(0,q),Y.slice(q+1)].forEach(function(W,ce){for(var Ee=W.replace(/['"]+/g,"").split("="),he=0;he<Ee.length;he++)Ee[he]==="DATA-ID"&&(V["DATA-ID"]=Ee[1-he]),Ee[he]==="VALUE"&&(V.VALUE=Ee[1-he])}),{data:V}}},A7=Ow,I7={safeCall:function(Y,V,q,W){var ce=W;if(Y&&typeof Y[V]=="function")try{ce=Y[V].apply(Y,q)}catch(Ee){_.info("safeCall error",Ee)}return ce},safeIncrement:I,getComputedStyle:function(Y,V){var q;if(Y&&V&&f()&&typeof f().getComputedStyle=="function")return yv&&yv.has(Y)&&(q=yv.get(Y)),q||(q=f().getComputedStyle(Y,null),yv&&yv.set(Y,q)),q.getPropertyValue(V)},secondsToMs:function(Y){return Math.floor(1e3*Y)},assign:Object.assign,headersStringToObject:P,cdnHeadersToRequestId:O,extractHostnameAndDomain:T,extractHostname:S,manifestParser:A7,generateShortID:m,generateUUID:h,now:C.now},D7={PLAYER_READY:"playerready",VIEW_INIT:"viewinit",VIDEO_CHANGE:"videochange",PLAY:"play",PAUSE:"pause",PLAYING:"playing",TIME_UPDATE:"timeupdate",SEEKING:"seeking",SEEKED:"seeked",REBUFFER_START:"rebufferstart",REBUFFER_END:"rebufferend",ERROR:"error",ENDED:"ended",RENDITION_CHANGE:"renditionchange",ORIENTATION_CHANGE:"orientationchange",AD_REQUEST:"adrequest",AD_RESPONSE:"adresponse",AD_BREAK_START:"adbreakstart",AD_PLAY:"adplay",AD_PLAYING:"adplaying",AD_PAUSE:"adpause",AD_FIRST_QUARTILE:"adfirstquartile",AD_MID_POINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",AD_ENDED:"adended",AD_BREAK_END:"adbreakend",AD_ERROR:"aderror",REQUEST_COMPLETED:"requestcompleted",REQUEST_FAILED:"requestfailed",REQUEST_CANCELLED:"requestcanceled"};function kR(Y,V){return function(q){if(Array.isArray(q))return q}(Y)||function(q,W){var ce=q==null?null:typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(ce!=null){var Ee,he,$e=[],Ve=!0,Oe=!1;try{for(ce=ce.call(q);!(Ve=(Ee=ce.next()).done)&&($e.push(Ee.value),!W||$e.length!==W);Ve=!0);}catch(Mt){Oe=!0,he=Mt}finally{try{Ve||ce.return==null||ce.return()}finally{if(Oe)throw he}}return $e}}(Y,V)||function(q,W){if(q){if(typeof q=="string")return TR(q,W);var ce=Object.prototype.toString.call(q).slice(8,-1);return ce==="Object"&&q.constructor&&(ce=q.constructor.name),ce==="Map"||ce==="Set"?Array.from(q):ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce)?TR(q,W):void 0}}(Y,V)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function TR(Y,V){(V==null||V>Y.length)&&(V=Y.length);for(var q=0,W=new Array(V);q<V;q++)W[q]=Y[q];return W}var Ii={},gm=function Y(V){var q=arguments;typeof V=="string"?Y.hasOwnProperty(V)?f().setTimeout(function(){q=Array.prototype.splice.call(q,1),Y[V].apply(null,q)},0):_.warn("`"+V+"` is an unknown task"):typeof V=="function"?f().setTimeout(function(){V(Y)},0):_.warn("`"+V+"` is invalid.")},vm={loaded:C.now(),NAME:"mux-embed",VERSION:"4.30.0",API_VERSION:"2.1",PLAYER_TRACKED:!1,monitor:function(Y,V){return function(q,W,ce){var Ee=T2(v(W),3),he=Ee[0],$e=Ee[1],Ve=Ee[2],Oe=q.log,Mt=q.utils.getComputedStyle,Cn=q.utils.secondsToMs;if(!he)return Oe.error("No element was found with the `"+$e+"` query selector.");if(Ve!=="video"&&Ve!=="audio")return Oe.error("The element of `"+$e+"` was not a media element.");he.mux&&(he.mux.destroy(),delete he.mux,Oe.warn("Already monitoring this video element, replacing existing event listeners")),(ce=Object.assign({automaticErrorTracking:!0},ce)).data=Object.assign({player_software:"HTML5 Video Element",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:q.VERSION},ce.data),ce.getPlayheadTime=function(){return Cn(he.currentTime)},ce.getStateData=function(){var an,xn,Sn=this.hlsjs&&this.hlsjs.url,Wn=this.dashjs&&Rw(this.dashjs.getSource==="function")&&this.dashjs.getSource(),bo={player_is_paused:he.paused,player_playhead_time:Cn(he.currentTime),player_width:parseInt(Mt(he,"width")),player_height:parseInt(Mt(he,"height")),player_autoplay_on:he.autoplay,player_preload_on:he.preload,player_language_code:he.lang,player_is_fullscreen:vv()&&!!(vv().fullscreenElement||vv().webkitFullscreenElement||vv().mozFullScreenElement||vv().msFullscreenElement),video_poster_url:he.poster,video_source_url:Sn||Wn||he.currentSrc,video_source_duration:Cn(he.duration),video_source_height:he.videoHeight,video_source_width:he.videoWidth,view_dropped_frame_count:(an=he)===null||an===void 0||(xn=an.getVideoPlaybackQuality)===null||xn===void 0?void 0:xn.call(an).droppedVideoFrames},ws=ce.getPlayheadTime();if(he.getStartDate&&ws>0){var Yi=he.getStartDate();if(Yi&&typeof Yi.getTime=="function"&&Yi.getTime()){var Tu=Yi.getTime();if(bo.player_program_time=Tu+ws,he.seekable.length>0){var ym=Tu+he.seekable.end(he.seekable.length-1);bo.player_live_edge_program_time=ym}}}return bo},he.mux=he.mux||{},he.mux.deleted=!1,he.mux.emit=function(an,xn){q.emit($e,an,xn)};var mr=function(){Oe.error("The monitor for this video element has already been destroyed.")};he.mux.destroy=function(){Object.keys(he.mux.listeners).forEach(function(an){he.removeEventListener(an,he.mux.listeners[an],!1)}),delete he.mux.listeners,he.mux.destroy=mr,he.mux.swapElement=mr,he.mux.emit=mr,he.mux.addHLSJS=mr,he.mux.addDashJS=mr,he.mux.removeHLSJS=mr,he.mux.removeDashJS=mr,he.mux.deleted=!0,q.emit($e,"destroy")},he.mux.swapElement=function(an){var xn=T2(v(an),3),Sn=xn[0],Wn=xn[1],bo=xn[2];return Sn?bo!=="video"&&bo!=="audio"?q.log.error("The element of `"+Wn+"` was not a media element."):(Sn.muxId=he.muxId,delete he.muxId,Sn.mux=Sn.mux||{},Sn.mux.listeners=Object.assign({},he.mux.listeners),delete he.mux.listeners,Object.keys(Sn.mux.listeners).forEach(function(ws){he.removeEventListener(ws,Sn.mux.listeners[ws],!1),Sn.addEventListener(ws,Sn.mux.listeners[ws],!1)}),Sn.mux.swapElement=he.mux.swapElement,Sn.mux.destroy=he.mux.destroy,delete he.mux,void(he=Sn)):q.log.error("No element was found with the `"+Wn+"` query selector.")},he.mux.addHLSJS=function(an){q.addHLSJS($e,an)},he.mux.addDashJS=function(an){q.addDashJS($e,an)},he.mux.removeHLSJS=function(){q.removeHLSJS($e)},he.mux.removeDashJS=function(){q.removeDashJS($e)},q.init($e,ce),q.emit($e,"playerready"),he.paused||(q.emit($e,"play"),he.readyState>2&&q.emit($e,"playing")),he.mux.listeners={},y7.forEach(function(an){(an!=="error"||ce.automaticErrorTracking)&&(he.mux.listeners[an]=function(){var xn={};if(an==="error"){if(!he.error||he.error.code===1)return;xn.player_error_code=he.error.code,xn.player_error_message=b7[he.error.code]||he.error.message}q.emit($e,an,xn)},he.addEventListener(an,he.mux.listeners[an],!1))})}(gm,Y,V)},destroyMonitor:function(Y){var V=kR(v(Y),1)[0];V&&V.mux&&typeof V.mux.destroy=="function"?V.mux.destroy():_.error("A video element monitor for `"+Y+"` has not been initialized via `mux.monitor`.")},addHLSJS:function(Y,V){var q=g(Y);Ii[q]?Ii[q].addHLSJS(V):_.error("A monitor for `"+q+"` has not been initialized.")},addDashJS:function(Y,V){var q=g(Y);Ii[q]?Ii[q].addDashJS(V):_.error("A monitor for `"+q+"` has not been initialized.")},removeHLSJS:function(Y){var V=g(Y);Ii[V]?Ii[V].removeHLSJS():_.error("A monitor for `"+V+"` has not been initialized.")},removeDashJS:function(Y){var V=g(Y);Ii[V]?Ii[V].removeDashJS():_.error("A monitor for `"+V+"` has not been initialized.")},init:function(Y,V){w()&&V&&V.respectDoNotTrack&&_.info("The browser's Do Not Track flag is enabled - Mux beaconing is disabled.");var q=g(Y);Ii[q]=new ER(gm,q,V)},emit:function(Y,V,q){var W=g(Y);Ii[W]?(Ii[W].emit(V,q),V==="destroy"&&delete Ii[W]):_.error("A monitor for `"+W+"` has not been initialized.")},checkDoNotTrack:w,log:_,utils:I7,events:D7,WINDOW_HIDDEN:!1,WINDOW_UNLOADING:!1};Object.assign(gm,vm),f()!==void 0&&typeof f().addEventListener=="function"&&f().addEventListener("pagehide",function(Y){Y.persisted||(gm.WINDOW_UNLOADING=!0)},!1);var AR=gm},655:function(a,l,c){var u,f;function h(m){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},h(m);/*!
 * JavaScript Cookie v2.1.3
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */}(function(m){var g=!1;if((f=typeof(u=m)=="function"?u.call(l,c,l,a):u)===void 0||(a.exports=f),g=!0,h(l)==="object"&&(a.exports=m(),g=!0),!g){var v=window.Cookies,y=window.Cookies=m();y.noConflict=function(){return window.Cookies=v,y}}})(function(){var m=function(){for(var g=0,v={};g<arguments.length;g++){var y=arguments[g];for(var b in y)v[b]=y[b]}return v};return function g(v){function y(b,x,_){var w;if(typeof document<"u"){if(arguments.length>1){if(typeof(_=m({path:"/"},y.defaults,_)).expires=="number"){var C=new Date;C.setMilliseconds(C.getMilliseconds()+864e5*_.expires),_.expires=C}try{w=JSON.stringify(x),/^[\{\[]/.test(w)&&(x=w)}catch{}return x=v.write?v.write(x,b):encodeURIComponent(String(x)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),b=(b=(b=encodeURIComponent(String(b))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[b,"=",x,_.expires?"; expires="+_.expires.toUTCString():"",_.path?"; path="+_.path:"",_.domain?"; domain="+_.domain:"",_.secure?"; secure":""].join("")}b||(w={});for(var S=document.cookie?document.cookie.split("; "):[],T=/(%[0-9A-Z]{2})+/g,A=0;A<S.length;A++){var I=S[A].split("="),D=I.slice(1).join("=");D.charAt(0)==='"'&&(D=D.slice(1,-1));try{var R=I[0].replace(T,decodeURIComponent);if(D=v.read?v.read(D,R):v(D,R)||D.replace(T,decodeURIComponent),this.json)try{D=JSON.parse(D)}catch{}if(b===R){w=D;break}b||(w[R]=D)}catch{}}return w}}return y.set=y,y.get=function(b){return y.call(y,b)},y.getJSON=function(){return y.apply({json:!0},[].slice.call(arguments))},y.defaults={},y.remove=function(b,x){y(b,"",m(x,{expires:-1}))},y.withConverter=g,y}(function(){})})},153:function(a,l,c){var u,f=c.g!==void 0?c.g:typeof window<"u"?window:{},h=c(558);typeof document<"u"?u=document:(u=f["__GLOBAL_DOCUMENT_CACHE@4"])||(u=f["__GLOBAL_DOCUMENT_CACHE@4"]=h),a.exports=u},48:function(a,l,c){var u;u=typeof window<"u"?window:c.g!==void 0?c.g:typeof self<"u"?self:{},a.exports=u},640:function(a,l,c){var u,f;(function(h,m){u=function(){var g=function(){},v="undefined",y=typeof window!==v&&typeof window.navigator!==v&&/Trident\/|MSIE /.test(window.navigator.userAgent),b=["trace","debug","info","warn","error"];function x(P,O){var $=P[O];if(typeof $.bind=="function")return $.bind(P);try{return Function.prototype.bind.call($,P)}catch{return function(){return Function.prototype.apply.apply($,[P,arguments])}}}function _(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function w(P){return P==="debug"&&(P="log"),typeof console!==v&&(P==="trace"&&y?_:console[P]!==void 0?x(console,P):console.log!==void 0?x(console,"log"):g)}function C(P,O){for(var $=0;$<b.length;$++){var L=b[$];this[L]=$<P?g:this.methodFactory(L,P,O)}this.log=this.debug}function S(P,O,$){return function(){typeof console!==v&&(C.call(this,O,$),this[P].apply(this,arguments))}}function T(P,O,$){return w(P)||S.apply(this,arguments)}function A(P,O,$){var L,M=this;O=O??"WARN";var N="loglevel";function z(G){var ne=(b[G]||"silent").toUpperCase();if(typeof window!==v&&N){try{return void(window.localStorage[N]=ne)}catch{}try{window.document.cookie=encodeURIComponent(N)+"="+ne+";"}catch{}}}function B(){var G;if(typeof window!==v&&N){try{G=window.localStorage[N]}catch{}if(typeof G===v)try{var ne=window.document.cookie,le=ne.indexOf(encodeURIComponent(N)+"=");le!==-1&&(G=/^([^;]+)/.exec(ne.slice(le))[1])}catch{}return M.levels[G]===void 0&&(G=void 0),G}}function H(){if(typeof window!==v&&N){try{return void window.localStorage.removeItem(N)}catch{}try{window.document.cookie=encodeURIComponent(N)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}typeof P=="string"?N+=":"+P:typeof P=="symbol"&&(N=void 0),M.name=P,M.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},M.methodFactory=$||T,M.getLevel=function(){return L},M.setLevel=function(G,ne){if(typeof G=="string"&&M.levels[G.toUpperCase()]!==void 0&&(G=M.levels[G.toUpperCase()]),!(typeof G=="number"&&G>=0&&G<=M.levels.SILENT))throw"log.setLevel() called with invalid level: "+G;if(L=G,ne!==!1&&z(G),C.call(M,G,P),typeof console===v&&G<M.levels.SILENT)return"No console available for logging"},M.setDefaultLevel=function(G){O=G,B()||M.setLevel(G,!1)},M.resetLevel=function(){M.setLevel(O,!1),H()},M.enableAll=function(G){M.setLevel(M.levels.TRACE,G)},M.disableAll=function(G){M.setLevel(M.levels.SILENT,G)};var X=B();X==null&&(X=O),M.setLevel(X,!1)}var I=new A,D={};I.getLogger=function(P){if(typeof P!="symbol"&&typeof P!="string"||P==="")throw new TypeError("You must supply a name when creating a logger.");var O=D[P];return O||(O=D[P]=new A(P,I.getLevel(),I.methodFactory)),O};var R=typeof window!==v?window.log:void 0;return I.noConflict=function(){return typeof window!==v&&window.log===I&&(window.log=R),I},I.getLoggers=function(){return D},I.default=I,I},(f=typeof u=="function"?u.call(l,c,l,a):u)===void 0||(a.exports=f)})()},375:function(a,l){var c=Object.prototype.hasOwnProperty;function u(h){try{return decodeURIComponent(h.replace(/\+/g," "))}catch{return null}}function f(h){try{return encodeURIComponent(h)}catch{return null}}l.stringify=function(h,m){m=m||"";var g,v,y=[];for(v in typeof m!="string"&&(m="?"),h)if(c.call(h,v)){if((g=h[v])||g!=null&&!isNaN(g)||(g=""),v=f(v),g=f(g),v===null||g===null)continue;y.push(v+"="+g)}return y.length?m+y.join("&"):""},l.parse=function(h){for(var m,g=/([^=?#&]+)=?([^&]*)/g,v={};m=g.exec(h);){var y=u(m[1]),b=u(m[2]);y===null||b===null||y in v||(v[y]=b)}return v}},558:function(){}},o={};function s(a){var l=o[a];if(l!==void 0)return l.exports;var c=o[a]={exports:{}};return i[a].call(c.exports,c,c.exports,s),c.exports}return s.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return s.d(l,{a:l}),l},s.d=function(a,l){for(var c in l)s.o(l,c)&&!s.o(a,c)&&Object.defineProperty(a,c,{enumerable:!0,get:l[c]})},s.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),s.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},s(80)}()},n.exports=r()})()})(Xat);var y2r=Xat.exports;const hae=Tt(y2r);function b2r(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Qat={exports:{}};(function(n,e){(function(r){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,o=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,l={buildAbsoluteURL:function(c,u,f){if(f=f||{},c=c.trim(),u=u.trim(),!u){if(!f.alwaysNormalize)return c;var h=l.parseURL(c);if(!h)throw new Error("Error trying to parse base URL.");return h.path=l.normalizePath(h.path),l.buildURLFromParts(h)}var m=l.parseURL(u);if(!m)throw new Error("Error trying to parse relative URL.");if(m.scheme)return f.alwaysNormalize?(m.path=l.normalizePath(m.path),l.buildURLFromParts(m)):u;var g=l.parseURL(c);if(!g)throw new Error("Error trying to parse base URL.");if(!g.netLoc&&g.path&&g.path[0]!=="/"){var v=o.exec(g.path);g.netLoc=v[1],g.path=v[2]}g.netLoc&&!g.path&&(g.path="/");var y={scheme:g.scheme,netLoc:m.netLoc,path:null,params:m.params,query:m.query,fragment:m.fragment};if(!m.netLoc&&(y.netLoc=g.netLoc,m.path[0]!=="/"))if(!m.path)y.path=g.path,m.params||(y.params=g.params,m.query||(y.query=g.query));else{var b=g.path,x=b.substring(0,b.lastIndexOf("/")+1)+m.path;y.path=l.normalizePath(x)}return y.path===null&&(y.path=f.alwaysNormalize?l.normalizePath(m.path):m.path),l.buildURLFromParts(y)},parseURL:function(c){var u=i.exec(c);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(c){for(c=c.split("").reverse().join("").replace(s,"");c.length!==(c=c.replace(a,"")).length;);return c.split("").reverse().join("")},buildURLFromParts:function(c){return c.scheme+c.netLoc+c.path+c.params+c.query+c.fragment}};n.exports=l})()})(Qat);var pae=Qat.exports;function KMe(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),r.push.apply(r,i)}return r}function Ac(n){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KMe(Object(r),!0).forEach(function(i){x2r(n,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):KMe(Object(r)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(r,i))})}return n}function x2r(n,e,r){return e=_2r(e),e in n?Object.defineProperty(n,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[e]=r,n}function Oa(){return Oa=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},Oa.apply(this,arguments)}function w2r(n,e){if(typeof n!="object"||n===null)return n;var r=n[Symbol.toPrimitive];if(r!==void 0){var i=r.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _2r(n){var e=w2r(n,"string");return typeof e=="symbol"?e:String(e)}const wn=Number.isFinite||function(n){return typeof n=="number"&&isFinite(n)},E2r=Number.isSafeInteger||function(n){return typeof n=="number"&&Math.abs(n)<=C2r},C2r=Number.MAX_SAFE_INTEGER||9007199254740991;let ie=function(n){return n.MEDIA_ATTACHING="hlsMediaAttaching",n.MEDIA_ATTACHED="hlsMediaAttached",n.MEDIA_DETACHING="hlsMediaDetaching",n.MEDIA_DETACHED="hlsMediaDetached",n.BUFFER_RESET="hlsBufferReset",n.BUFFER_CODECS="hlsBufferCodecs",n.BUFFER_CREATED="hlsBufferCreated",n.BUFFER_APPENDING="hlsBufferAppending",n.BUFFER_APPENDED="hlsBufferAppended",n.BUFFER_EOS="hlsBufferEos",n.BUFFER_FLUSHING="hlsBufferFlushing",n.BUFFER_FLUSHED="hlsBufferFlushed",n.MANIFEST_LOADING="hlsManifestLoading",n.MANIFEST_LOADED="hlsManifestLoaded",n.MANIFEST_PARSED="hlsManifestParsed",n.LEVEL_SWITCHING="hlsLevelSwitching",n.LEVEL_SWITCHED="hlsLevelSwitched",n.LEVEL_LOADING="hlsLevelLoading",n.LEVEL_LOADED="hlsLevelLoaded",n.LEVEL_UPDATED="hlsLevelUpdated",n.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",n.LEVELS_UPDATED="hlsLevelsUpdated",n.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",n.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",n.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",n.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",n.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",n.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",n.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",n.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",n.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",n.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",n.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",n.CUES_PARSED="hlsCuesParsed",n.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",n.INIT_PTS_FOUND="hlsInitPtsFound",n.FRAG_LOADING="hlsFragLoading",n.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",n.FRAG_LOADED="hlsFragLoaded",n.FRAG_DECRYPTED="hlsFragDecrypted",n.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",n.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",n.FRAG_PARSING_METADATA="hlsFragParsingMetadata",n.FRAG_PARSED="hlsFragParsed",n.FRAG_BUFFERED="hlsFragBuffered",n.FRAG_CHANGED="hlsFragChanged",n.FPS_DROP="hlsFpsDrop",n.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",n.ERROR="hlsError",n.DESTROYING="hlsDestroying",n.KEY_LOADING="hlsKeyLoading",n.KEY_LOADED="hlsKeyLoaded",n.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",n.BACK_BUFFER_REACHED="hlsBackBufferReached",n}({}),Ln=function(n){return n.NETWORK_ERROR="networkError",n.MEDIA_ERROR="mediaError",n.KEY_SYSTEM_ERROR="keySystemError",n.MUX_ERROR="muxError",n.OTHER_ERROR="otherError",n}({}),Ze=function(n){return n.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",n.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",n.KEY_SYSTEM_NO_SESSION="keySystemNoSession",n.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",n.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",n.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",n.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",n.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",n.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",n.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",n.MANIFEST_LOAD_ERROR="manifestLoadError",n.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",n.MANIFEST_PARSING_ERROR="manifestParsingError",n.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",n.LEVEL_EMPTY_ERROR="levelEmptyError",n.LEVEL_LOAD_ERROR="levelLoadError",n.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",n.LEVEL_PARSING_ERROR="levelParsingError",n.LEVEL_SWITCH_ERROR="levelSwitchError",n.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",n.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",n.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",n.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",n.FRAG_LOAD_ERROR="fragLoadError",n.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",n.FRAG_DECRYPT_ERROR="fragDecryptError",n.FRAG_PARSING_ERROR="fragParsingError",n.FRAG_GAP="fragGap",n.REMUX_ALLOC_ERROR="remuxAllocError",n.KEY_LOAD_ERROR="keyLoadError",n.KEY_LOAD_TIMEOUT="keyLoadTimeOut",n.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",n.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",n.BUFFER_APPEND_ERROR="bufferAppendError",n.BUFFER_APPENDING_ERROR="bufferAppendingError",n.BUFFER_STALLED_ERROR="bufferStalledError",n.BUFFER_FULL_ERROR="bufferFullError",n.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",n.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",n.INTERNAL_EXCEPTION="internalException",n.INTERNAL_ABORTED="aborted",n.UNKNOWN="unknown",n}({});const Y1=function(){},mX={trace:Y1,debug:Y1,log:Y1,warn:Y1,info:Y1,error:Y1};let ZA=mX;function S2r(n){const e=self.console[n];return e?e.bind(self.console,`[${n}] >`):Y1}function k2r(n,...e){e.forEach(function(r){ZA[r]=n[r]?n[r].bind(n):S2r(r)})}function T2r(n,e){if(self.console&&n===!0||typeof n=="object"){k2r(n,"debug","log","info","warn","error");try{ZA.log(`Debug logs enabled for "${e}" in hls.js version 1.4.14`)}catch{ZA=mX}}else ZA=mX}const je=ZA,A2r=/^(\d+)x(\d+)$/,YMe=/(.+?)=(".*?"|.*?)(?:,|$)/g;class us{constructor(e){typeof e=="string"&&(e=us.parseAttrList(e));for(const r in e)e.hasOwnProperty(r)&&(r.substring(0,2)==="X-"&&(this.clientAttrs=this.clientAttrs||[],this.clientAttrs.push(r)),this[r]=e[r])}decimalInteger(e){const r=parseInt(this[e],10);return r>Number.MAX_SAFE_INTEGER?1/0:r}hexadecimalInteger(e){if(this[e]){let r=(this[e]||"0x").slice(2);r=(r.length&1?"0":"")+r;const i=new Uint8Array(r.length/2);for(let o=0;o<r.length/2;o++)i[o]=parseInt(r.slice(o*2,o*2+2),16);return i}else return null}hexadecimalIntegerAsNumber(e){const r=parseInt(this[e],16);return r>Number.MAX_SAFE_INTEGER?1/0:r}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,r){const i=this[e];return i?parseFloat(i):r}enumeratedString(e){return this[e]}bool(e){return this[e]==="YES"}decimalResolution(e){const r=A2r.exec(this[e]);if(r!==null)return{width:parseInt(r[1],10),height:parseInt(r[2],10)}}static parseAttrList(e){let r;const i={},o='"';for(YMe.lastIndex=0;(r=YMe.exec(e))!==null;){let s=r[2];s.indexOf(o)===0&&s.lastIndexOf(o)===s.length-1&&(s=s.slice(1,-1));const a=r[1].trim();i[a]=s}return i}}function I2r(n){return n!=="ID"&&n!=="CLASS"&&n!=="START-DATE"&&n!=="DURATION"&&n!=="END-DATE"&&n!=="END-ON-NEXT"}function D2r(n){return n==="SCTE35-OUT"||n==="SCTE35-IN"}class Jat{constructor(e,r){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,r){const i=r.attr;for(const o in i)if(Object.prototype.hasOwnProperty.call(e,o)&&e[o]!==i[o]){je.warn(`DATERANGE tag attribute: "${o}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=o;break}e=Oa(new us({}),i,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const i=new Date(this.attr["END-DATE"]);wn(i.getTime())&&(this._endDate=i)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const e=this.duration;return e!==null?new Date(this._startDate.getTime()+e*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(wn(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&wn(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class JB{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Xi={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class elt{constructor(e){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[Xi.AUDIO]:null,[Xi.VIDEO]:null,[Xi.AUDIOVIDEO]:null},this.baseurl=e}setByteRange(e,r){const i=e.split("@",2),o=[];i.length===1?o[0]=r?r.byteRangeEndOffset:0:o[0]=parseInt(i[1]),o[1]=parseInt(i[0])+o[0],this._byteRange=o}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=pae.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}}class YH extends elt{constructor(e,r){super(r),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new JB,this.urlId=0,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.type=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const r=this.levelkeys.identity;if(r)this._decryptdata=r.getDecryptData(this.sn);else{const i=Object.keys(this.levelkeys);if(i.length===1)return this._decryptdata=this.levelkeys[i[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null||!wn(this.programDateTime))return null;const e=wn(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){const r=Object.keys(this.levelkeys),i=r.length;if(i>1||i===1&&this.levelkeys[r[0]].encrypted)return!0}return!1}setKeyFormat(e){if(this.levelkeys){const r=this.levelkeys[e];r&&!this._decryptdata&&(this._decryptdata=r.getDecryptData(this.sn))}}abortRequests(){var e,r;(e=this.loader)==null||e.abort(),(r=this.keyLoader)==null||r.abort()}setElementaryStreamInfo(e,r,i,o,s,a=!1){const{elementaryStreams:l}=this,c=l[e];if(!c){l[e]={startPTS:r,endPTS:i,startDTS:o,endDTS:s,partial:a};return}c.startPTS=Math.min(c.startPTS,r),c.endPTS=Math.max(c.endPTS,i),c.startDTS=Math.min(c.startDTS,o),c.endDTS=Math.max(c.endDTS,s)}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[Xi.AUDIO]=null,e[Xi.VIDEO]=null,e[Xi.AUDIOVIDEO]=null}}let R2r=class extends elt{constructor(e,r,i,o,s){super(i),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new JB,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=r,this.index=o;const a=e.enumeratedString("BYTERANGE");a&&this.setByteRange(a,s),s&&(this.fragOffset=s.fragOffset+s.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}};const O2r=10;class P2r{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const r=this.lastPartSn-e.lastPartSn,i=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!i||!!r||!this.live,this.advanced=this.endSN>e.endSN||r>0||r===0&&i>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay}get hasProgramDateTime(){return this.fragments.length?wn(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||O2r}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function mae(n){return Uint8Array.from(atob(n),e=>e.charCodeAt(0))}function j2r(n){const e=tlt(n).subarray(0,16),r=new Uint8Array(16);return r.set(e,16-e.length),r}function L2r(n){const e=function(i,o,s){const a=i[o];i[o]=i[s],i[s]=a};e(n,0,3),e(n,1,2),e(n,4,5),e(n,6,7)}function $2r(n){const e=n.split(":");let r=null;if(e[0]==="data"&&e.length===2){const i=e[1].split(";"),o=i[i.length-1].split(",");if(o.length===2){const s=o[0]==="base64",a=o[1];s?(i.splice(-1,1),r=mae(a)):r=j2r(a)}}return r}function tlt(n){return Uint8Array.from(unescape(encodeURIComponent(n)),e=>e.charCodeAt(0))}var fs={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},uu={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function ZMe(n){switch(n){case uu.FAIRPLAY:return fs.FAIRPLAY;case uu.PLAYREADY:return fs.PLAYREADY;case uu.WIDEVINE:return fs.WIDEVINE;case uu.CLEARKEY:return fs.CLEARKEY}}var nlt={WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function M2r(n){if(n===nlt.WIDEVINE)return fs.WIDEVINE}function XMe(n){switch(n){case fs.FAIRPLAY:return uu.FAIRPLAY;case fs.PLAYREADY:return uu.PLAYREADY;case fs.WIDEVINE:return uu.WIDEVINE;case fs.CLEARKEY:return uu.CLEARKEY}}function ZH(n){const{drmSystems:e,widevineLicenseUrl:r}=n,i=e?[fs.FAIRPLAY,fs.WIDEVINE,fs.PLAYREADY,fs.CLEARKEY].filter(o=>!!e[o]):[];return!i[fs.WIDEVINE]&&r&&i.push(fs.WIDEVINE),i}const rlt=function(){return typeof self<"u"&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function F2r(n,e,r,i){let o;switch(n){case fs.FAIRPLAY:o=["cenc","sinf"];break;case fs.WIDEVINE:case fs.PLAYREADY:o=["cenc"];break;case fs.CLEARKEY:o=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${n}`)}return N2r(o,e,r,i)}function N2r(n,e,r,i){return[{initDataTypes:n,persistentState:i.persistentState||"not-allowed",distinctiveIdentifier:i.distinctiveIdentifier||"not-allowed",sessionTypes:i.sessionTypes||[i.sessionType||"temporary"],audioCapabilities:e.map(s=>({contentType:`audio/mp4; codecs="${s}"`,robustness:i.audioRobustness||"",encryptionScheme:i.audioEncryptionScheme||null})),videoCapabilities:r.map(s=>({contentType:`video/mp4; codecs="${s}"`,robustness:i.videoRobustness||"",encryptionScheme:i.videoEncryptionScheme||null}))}]}function ux(n,e,r){return Uint8Array.prototype.slice?n.slice(e,r):new Uint8Array(Array.prototype.slice.call(n,e,r))}const gae=(n,e)=>e+10<=n.length&&n[e]===73&&n[e+1]===68&&n[e+2]===51&&n[e+3]<255&&n[e+4]<255&&n[e+6]<128&&n[e+7]<128&&n[e+8]<128&&n[e+9]<128,ilt=(n,e)=>e+10<=n.length&&n[e]===51&&n[e+1]===68&&n[e+2]===73&&n[e+3]<255&&n[e+4]<255&&n[e+6]<128&&n[e+7]<128&&n[e+8]<128&&n[e+9]<128,T4=(n,e)=>{const r=e;let i=0;for(;gae(n,e);){i+=10;const o=e7(n,e+6);i+=o,ilt(n,e+10)&&(i+=10),e+=i}if(i>0)return n.subarray(r,r+i)},e7=(n,e)=>{let r=0;return r=(n[e]&127)<<21,r|=(n[e+1]&127)<<14,r|=(n[e+2]&127)<<7,r|=n[e+3]&127,r},B2r=(n,e)=>gae(n,e)&&e7(n,e+6)+10<=n.length-e,U2r=n=>{const e=slt(n);for(let r=0;r<e.length;r++){const i=e[r];if(olt(i))return q2r(i)}},olt=n=>n&&n.key==="PRIV"&&n.info==="com.apple.streaming.transportStreamTimestamp",z2r=n=>{const e=String.fromCharCode(n[0],n[1],n[2],n[3]),r=e7(n,4),i=10;return{type:e,size:r,data:n.subarray(i,i+r)}},slt=n=>{let e=0;const r=[];for(;gae(n,e);){const i=e7(n,e+6);e+=10;const o=e+i;for(;e+8<o;){const s=z2r(n.subarray(e)),a=V2r(s);a&&r.push(a),e+=s.size+10}ilt(n,e)&&(e+=10)}return r},V2r=n=>n.type==="PRIV"?H2r(n):n.type[0]==="W"?G2r(n):W2r(n),H2r=n=>{if(n.size<2)return;const e=Mp(n.data,!0),r=new Uint8Array(n.data.subarray(e.length+1));return{key:n.type,info:e,data:r.buffer}},W2r=n=>{if(n.size<2)return;if(n.type==="TXXX"){let r=1;const i=Mp(n.data.subarray(r),!0);r+=i.length+1;const o=Mp(n.data.subarray(r));return{key:n.type,info:i,data:o}}const e=Mp(n.data.subarray(1));return{key:n.type,data:e}},G2r=n=>{if(n.type==="WXXX"){if(n.size<2)return;let r=1;const i=Mp(n.data.subarray(r),!0);r+=i.length+1;const o=Mp(n.data.subarray(r));return{key:n.type,info:i,data:o}}const e=Mp(n.data);return{key:n.type,data:e}},q2r=n=>{if(n.data.byteLength===8){const e=new Uint8Array(n.data),r=e[3]&1;let i=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return i/=45,r&&(i+=4772185884e-2),Math.round(i)}},Mp=(n,e=!1)=>{const r=K2r();if(r){const u=r.decode(n);if(e){const f=u.indexOf("\0");return f!==-1?u.substring(0,f):u}return u.replace(/\0/g,"")}const i=n.length;let o,s,a,l="",c=0;for(;c<i;){if(o=n[c++],o===0&&e)return l;if(o===0||o===3)continue;switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:l+=String.fromCharCode(o);break;case 12:case 13:s=n[c++],l+=String.fromCharCode((o&31)<<6|s&63);break;case 14:s=n[c++],a=n[c++],l+=String.fromCharCode((o&15)<<12|(s&63)<<6|(a&63)<<0);break}}return l};let XH;function K2r(){if(!navigator.userAgent.includes("PlayStation 4"))return!XH&&typeof self.TextDecoder<"u"&&(XH=new self.TextDecoder("utf-8")),XH}const up={hexDump:function(n){let e="";for(let r=0;r<n.length;r++){let i=n[r].toString(16);i.length<2&&(i="0"+i),e+=i}return e}},A4=Math.pow(2,32)-1,Y2r=[].push,alt={video:1,audio:2,id3:3,text:4};function il(n){return String.fromCharCode.apply(null,n)}function llt(n,e){const r=n[e]<<8|n[e+1];return r<0?65536+r:r}function Zn(n,e){const r=clt(n,e);return r<0?4294967296+r:r}function clt(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]}function QH(n,e,r){n[e]=r>>24,n[e+1]=r>>16&255,n[e+2]=r>>8&255,n[e+3]=r&255}function ii(n,e){const r=[];if(!e.length)return r;const i=n.byteLength;for(let o=0;o<i;){const s=Zn(n,o),a=il(n.subarray(o+4,o+8)),l=s>1?o+s:i;if(a===e[0])if(e.length===1)r.push(n.subarray(o+8,l));else{const c=ii(n.subarray(o+8,l),e.slice(1));c.length&&Y2r.apply(r,c)}o=l}return r}function Z2r(n){const e=[],r=n[0];let i=8;const o=Zn(n,i);i+=4;const s=0,a=0;r===0?i+=8:i+=16,i+=2;let l=n.length+a;const c=llt(n,i);i+=2;for(let u=0;u<c;u++){let f=i;const h=Zn(n,f);f+=4;const m=h&2147483647;if((h&2147483648)>>>31===1)return je.warn("SIDX has hierarchical references (not supported)"),null;const v=Zn(n,f);f+=4,e.push({referenceSize:m,subsegmentDuration:v,info:{duration:v/o,start:l,end:l+m-1}}),l+=m,f+=4,i=f}return{earliestPresentationTime:s,timescale:o,version:r,referencesCount:c,references:e}}function ult(n){const e=[],r=ii(n,["moov","trak"]);for(let o=0;o<r.length;o++){const s=r[o],a=ii(s,["tkhd"])[0];if(a){let l=a[0],c=l===0?12:20;const u=Zn(a,c),f=ii(s,["mdia","mdhd"])[0];if(f){l=f[0],c=l===0?12:20;const h=Zn(f,c),m=ii(s,["mdia","hdlr"])[0];if(m){const g=il(m.subarray(8,12)),v={soun:Xi.AUDIO,vide:Xi.VIDEO}[g];if(v){const y=ii(s,["mdia","minf","stbl","stsd"])[0];let b;y&&(b=il(y.subarray(12,16))),e[u]={timescale:h,type:v},e[v]={timescale:h,id:u,codec:b}}}}}}return ii(n,["moov","mvex","trex"]).forEach(o=>{const s=Zn(o,4),a=e[s];a&&(a.default={duration:Zn(o,12),flags:Zn(o,20)})}),e}function X2r(n,e){if(!n||!e)return n;const r=e.keyId;return r&&e.isCommonEncryption&&ii(n,["moov","trak"]).forEach(o=>{const a=ii(o,["mdia","minf","stbl","stsd"])[0].subarray(8);let l=ii(a,["enca"]);const c=l.length>0;c||(l=ii(a,["encv"])),l.forEach(u=>{const f=c?u.subarray(28):u.subarray(78);ii(f,["sinf"]).forEach(m=>{const g=dlt(m);if(g){const v=g.subarray(8,24);v.some(y=>y!==0)||(je.log(`[eme] Patching keyId in 'enc${c?"a":"v"}>sinf>>tenc' box: ${up.hexDump(v)} -> ${up.hexDump(r)}`),g.set(r,8))}})})}),n}function dlt(n){const e=ii(n,["schm"])[0];if(e){const r=il(e.subarray(4,8));if(r==="cbcs"||r==="cenc")return ii(n,["schi","tenc"])[0]}return je.error("[eme] missing 'schm' box"),null}function Q2r(n,e){return ii(e,["moof","traf"]).reduce((r,i)=>{const o=ii(i,["tfdt"])[0],s=o[0],a=ii(i,["tfhd"]).reduce((l,c)=>{const u=Zn(c,4),f=n[u];if(f){let h=Zn(o,4);if(s===1){if(h===A4)return je.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),l;h*=A4+1,h+=Zn(o,8)}const m=f.timescale||9e4,g=h/m;if(wn(g)&&(l===null||g<l))return g}return l},null);return a!==null&&wn(a)&&(r===null||a<r)?a:r},null)}function J2r(n,e){let r=0,i=0,o=0;const s=ii(n,["moof","traf"]);for(let a=0;a<s.length;a++){const l=s[a],c=ii(l,["tfhd"])[0],u=Zn(c,4),f=e[u];if(!f)continue;const h=f.default,m=Zn(c,0)|(h==null?void 0:h.flags);let g=h==null?void 0:h.duration;m&8&&(m&2?g=Zn(c,12):g=Zn(c,8));const v=f.timescale||9e4,y=ii(l,["trun"]);for(let b=0;b<y.length;b++){if(r=ekr(y[b]),!r&&g){const x=Zn(y[b],4);r=g*x}f.type===Xi.VIDEO?i+=r/v:f.type===Xi.AUDIO&&(o+=r/v)}}if(i===0&&o===0){let a=0;const l=ii(n,["sidx"]);for(let c=0;c<l.length;c++){const u=Z2r(l[c]);u!=null&&u.references&&(a+=u.references.reduce((f,h)=>f+h.info.duration||0,0))}return a}return i||o}function ekr(n){const e=Zn(n,0);let r=8;e&1&&(r+=4),e&4&&(r+=4);let i=0;const o=Zn(n,4);for(let s=0;s<o;s++){if(e&256){const a=Zn(n,r);i+=a,r+=4}e&512&&(r+=4),e&1024&&(r+=4),e&2048&&(r+=4)}return i}function tkr(n,e,r){ii(e,["moof","traf"]).forEach(i=>{ii(i,["tfhd"]).forEach(o=>{const s=Zn(o,4),a=n[s];if(!a)return;const l=a.timescale||9e4;ii(i,["tfdt"]).forEach(c=>{const u=c[0];let f=Zn(c,4);if(u===0)f-=r*l,f=Math.max(f,0),QH(c,4,f);else{f*=Math.pow(2,32),f+=Zn(c,8),f-=r*l,f=Math.max(f,0);const h=Math.floor(f/(A4+1)),m=Math.floor(f%(A4+1));QH(c,4,h),QH(c,8,m)}})})})}function nkr(n){const e={valid:null,remainder:null},r=ii(n,["moof"]);if(r){if(r.length<2)return e.remainder=n,e}else return e;const i=r[r.length-1];return e.valid=ux(n,0,i.byteOffset-8),e.remainder=ux(n,i.byteOffset-8),e}function Ux(n,e){const r=new Uint8Array(n.length+e.length);return r.set(n),r.set(e,n.length),r}function QMe(n,e){const r=[],i=e.samples,o=e.timescale,s=e.id;let a=!1;return ii(i,["moof"]).map(c=>{const u=c.byteOffset-8;ii(c,["traf"]).map(h=>{const m=ii(h,["tfdt"]).map(g=>{const v=g[0];let y=Zn(g,4);return v===1&&(y*=Math.pow(2,32),y+=Zn(g,8)),y/o})[0];return m!==void 0&&(n=m),ii(h,["tfhd"]).map(g=>{const v=Zn(g,4),y=Zn(g,0)&16777215,b=(y&1)!==0,x=(y&2)!==0,_=(y&8)!==0;let w=0;const C=(y&16)!==0;let S=0;const T=(y&32)!==0;let A=8;v===s&&(b&&(A+=8),x&&(A+=4),_&&(w=Zn(g,A),A+=4),C&&(S=Zn(g,A),A+=4),T&&(A+=4),e.type==="video"&&(a=rkr(e.codec)),ii(h,["trun"]).map(I=>{const D=I[0],R=Zn(I,0)&16777215,P=(R&1)!==0;let O=0;const $=(R&4)!==0,L=(R&256)!==0;let M=0;const N=(R&512)!==0;let z=0;const B=(R&1024)!==0,H=(R&2048)!==0;let X=0;const G=Zn(I,4);let ne=8;P&&(O=Zn(I,ne),ne+=4),$&&(ne+=4);let le=O+u;for(let K=0;K<G;K++){if(L?(M=Zn(I,ne),ne+=4):M=w,N?(z=Zn(I,ne),ne+=4):z=S,B&&(ne+=4),H&&(D===0?X=Zn(I,ne):X=clt(I,ne),ne+=4),e.type===Xi.VIDEO){let Q=0;for(;Q<z;){const re=Zn(i,le);if(le+=4,ikr(a,i[le])){const se=i.subarray(le,le+re);flt(se,a?2:1,n+X/o,r)}le+=re,Q+=re+4}}n+=M/o}}))})})}),r}function rkr(n){if(!n)return!1;const e=n.indexOf("."),r=e<0?n:n.substring(0,e);return r==="hvc1"||r==="hev1"||r==="dvh1"||r==="dvhe"}function ikr(n,e){if(n){const r=e>>1&63;return r===39||r===40}else return(e&31)===6}function flt(n,e,r,i){const o=hlt(n);let s=0;s+=e;let a=0,l=0,c=!1,u=0;for(;s<o.length;){a=0;do{if(s>=o.length)break;u=o[s++],a+=u}while(u===255);l=0;do{if(s>=o.length)break;u=o[s++],l+=u}while(u===255);const f=o.length-s;if(!c&&a===4&&s<o.length){if(c=!0,o[s++]===181){const m=llt(o,s);if(s+=2,m===49){const g=Zn(o,s);if(s+=4,g===1195456820){const v=o[s++];if(v===3){const y=o[s++],b=31&y,x=64&y,_=x?2+b*3:0,w=new Uint8Array(_);if(x){w[0]=y;for(let C=1;C<_;C++)w[C]=o[s++]}i.push({type:v,payloadType:a,pts:r,bytes:w})}}}}}else if(a===5&&l<f){if(c=!0,l>16){const h=[];for(let v=0;v<16;v++){const y=o[s++].toString(16);h.push(y.length==1?"0"+y:y),(v===3||v===5||v===7||v===9)&&h.push("-")}const m=l-16,g=new Uint8Array(m);for(let v=0;v<m;v++)g[v]=o[s++];i.push({payloadType:a,pts:r,uuid:h.join(""),userData:Mp(g),userDataBytes:g})}}else if(l<f)s+=l;else if(l>f)break}}function hlt(n){const e=n.byteLength,r=[];let i=1;for(;i<e-2;)n[i]===0&&n[i+1]===0&&n[i+2]===3?(r.push(i+2),i+=2):i++;if(r.length===0)return n;const o=e-r.length,s=new Uint8Array(o);let a=0;for(i=0;i<o;a++,i++)a===r[0]&&(a++,r.shift()),s[i]=n[a];return s}function okr(n){const e=n[0];let r="",i="",o=0,s=0,a=0,l=0,c=0,u=0;if(e===0){for(;il(n.subarray(u,u+1))!=="\0";)r+=il(n.subarray(u,u+1)),u+=1;for(r+=il(n.subarray(u,u+1)),u+=1;il(n.subarray(u,u+1))!=="\0";)i+=il(n.subarray(u,u+1)),u+=1;i+=il(n.subarray(u,u+1)),u+=1,o=Zn(n,12),s=Zn(n,16),l=Zn(n,20),c=Zn(n,24),u=28}else if(e===1){u+=4,o=Zn(n,u),u+=4;const h=Zn(n,u);u+=4;const m=Zn(n,u);for(u+=4,a=2**32*h+m,E2r(a)||(a=Number.MAX_SAFE_INTEGER,je.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),l=Zn(n,u),u+=4,c=Zn(n,u),u+=4;il(n.subarray(u,u+1))!=="\0";)r+=il(n.subarray(u,u+1)),u+=1;for(r+=il(n.subarray(u,u+1)),u+=1;il(n.subarray(u,u+1))!=="\0";)i+=il(n.subarray(u,u+1)),u+=1;i+=il(n.subarray(u,u+1)),u+=1}const f=n.subarray(u,n.byteLength);return{schemeIdUri:r,value:i,timeScale:o,presentationTime:a,presentationTimeDelta:s,eventDuration:l,id:c,payload:f}}function skr(n,...e){const r=e.length;let i=8,o=r;for(;o--;)i+=e[o].byteLength;const s=new Uint8Array(i);for(s[0]=i>>24&255,s[1]=i>>16&255,s[2]=i>>8&255,s[3]=i&255,s.set(n,4),o=0,i=8;o<r;o++)s.set(e[o],i),i+=e[o].byteLength;return s}function akr(n,e,r){if(n.byteLength!==16)throw new RangeError("Invalid system id");let i,o;if(e){i=1,o=new Uint8Array(e.length*16);for(let l=0;l<e.length;l++){const c=e[l];if(c.byteLength!==16)throw new RangeError("Invalid key");o.set(c,l*16)}}else i=0,o=new Uint8Array;let s;i>0?(s=new Uint8Array(4),e.length>0&&new DataView(s.buffer).setUint32(0,e.length,!1)):s=new Uint8Array;const a=new Uint8Array(4);return r&&r.byteLength>0&&new DataView(a.buffer).setUint32(0,r.byteLength,!1),skr([112,115,115,104],new Uint8Array([i,0,0,0]),n,s,o,a,r||new Uint8Array)}function lkr(n){if(!(n instanceof ArrayBuffer)||n.byteLength<32)return null;const e={version:0,systemId:"",kids:null,data:null},r=new DataView(n),i=r.getUint32(0);if(n.byteLength!==i&&i>44||r.getUint32(4)!==1886614376||(e.version=r.getUint32(8)>>>24,e.version>1))return null;e.systemId=up.hexDump(new Uint8Array(n,12,16));const s=r.getUint32(28);if(e.version===0){if(i-32<s)return null;e.data=new Uint8Array(n,32,s)}else if(e.version===1){e.kids=[];for(let a=0;a<s;a++)e.kids.push(new Uint8Array(n,32+a*16,16))}return e}let Sj={};class xI{static clearKeyUriToKeyIdMap(){Sj={}}constructor(e,r,i,o=[1],s=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=r,this.keyFormat=i,this.keyFormatVersions=o,this.iv=s,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&e!=="AES-128"}isSupported(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case uu.FAIRPLAY:case uu.WIDEVINE:case uu.PLAYREADY:case uu.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof e!="number"&&(this.method==="AES-128"&&!this.iv&&je.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const i=ckr(e);return new xI(this.method,this.uri,"identity",this.keyFormatVersions,i)}const r=$2r(this.uri);if(r)switch(this.keyFormat){case uu.WIDEVINE:this.pssh=r,r.length>=22&&(this.keyId=r.subarray(r.length-22,r.length-6));break;case uu.PLAYREADY:{const i=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=akr(i,null,r);const o=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2),s=String.fromCharCode.apply(null,Array.from(o)),a=s.substring(s.indexOf("<"),s.length),u=new DOMParser().parseFromString(a,"text/xml").getElementsByTagName("KID")[0];if(u){const f=u.childNodes[0]?u.childNodes[0].nodeValue:u.getAttribute("VALUE");if(f){const h=mae(f).subarray(0,16);L2r(h),this.keyId=h}}break}default:{let i=r.subarray(0,16);if(i.length!==16){const o=new Uint8Array(16);o.set(i,16-i.length),i=o}this.keyId=i;break}}if(!this.keyId||this.keyId.byteLength!==16){let i=Sj[this.uri];if(!i){const o=Object.keys(Sj).length%Number.MAX_SAFE_INTEGER;i=new Uint8Array(16),new DataView(i.buffer,12,4).setUint32(0,o),Sj[this.uri]=i}this.keyId=i}return this}}function ckr(n){const e=new Uint8Array(16);for(let r=12;r<16;r++)e[r]=n>>8*(15-r)&255;return e}const plt=/\{\$([a-zA-Z0-9-_]+)\}/g;function JMe(n){return plt.test(n)}function Jc(n,e,r){if(n.variableList!==null||n.hasVariableRefs)for(let i=r.length;i--;){const o=r[i],s=e[o];s&&(e[o]=gX(n,s))}}function gX(n,e){if(n.variableList!==null||n.hasVariableRefs){const r=n.variableList;return e.replace(plt,i=>{const o=i.substring(2,i.length-1),s=r==null?void 0:r[o];return s===void 0?(n.playlistParsingError||(n.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${o}"`)),i):s})}return e}function e3e(n,e,r){let i=n.variableList;i||(n.variableList=i={});let o,s;if("QUERYPARAM"in e){o=e.QUERYPARAM;try{const a=new self.URL(r).searchParams;if(a.has(o))s=a.get(o);else throw new Error(`"${o}" does not match any query parameter in URI: "${r}"`)}catch(a){n.playlistParsingError||(n.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${a.message}`))}}else o=e.NAME,s=e.VALUE;o in i?n.playlistParsingError||(n.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${o}"`)):i[o]=s||""}function ukr(n,e,r){const i=e.IMPORT;if(r&&i in r){let o=n.variableList;o||(n.variableList=o={}),o[i]=r[i]}else n.playlistParsingError||(n.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${i}"`))}function t7(){if(!(typeof self>"u"))return self.MediaSource||self.WebKitMediaSource}const dkr={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dva1:!0,dvav:!0,dvh1:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}},t3e=t7();function fkr(n,e){const r=dkr[e];return!!r&&r[n.slice(0,4)]===!0}function JH(n,e){var r;return(r=t3e==null?void 0:t3e.isTypeSupported(`${e||"video"}/mp4;codecs="${n}"`))!=null?r:!1}const n3e=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,r3e=/#EXT-X-MEDIA:(.*)/g,hkr=/^#EXT(?:INF|-X-TARGETDURATION):/m,i3e=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),pkr=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Jf{static findGroup(e,r){for(let i=0;i<e.length;i++){const o=e[i];if(o.id===r)return o}}static convertAVC1ToAVCOTI(e){const r=e.split(".");if(r.length>2){let i=r.shift()+".";return i+=parseInt(r.shift()).toString(16),i+=("000"+parseInt(r.shift()).toString(16)).slice(-4),i}return e}static resolve(e,r){return pae.buildAbsoluteURL(r,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return hkr.test(e)}static parseMasterPlaylist(e,r){const i=JMe(e),o={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:i},s=[];n3e.lastIndex=0;let a;for(;(a=n3e.exec(e))!=null;)if(a[1]){var l;const u=new us(a[1]);Jc(o,u,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const f=gX(o,a[2]),h={attrs:u,bitrate:u.decimalInteger("AVERAGE-BANDWIDTH")||u.decimalInteger("BANDWIDTH"),name:u.NAME,url:Jf.resolve(f,r)},m=u.decimalResolution("RESOLUTION");m&&(h.width=m.width,h.height=m.height),mkr((u.CODECS||"").split(/[ ,]+/).filter(g=>g),h),h.videoCodec&&h.videoCodec.indexOf("avc1")!==-1&&(h.videoCodec=Jf.convertAVC1ToAVCOTI(h.videoCodec)),(l=h.unknownCodecs)!=null&&l.length||s.push(h),o.levels.push(h)}else if(a[3]){const u=a[3],f=a[4];switch(u){case"SESSION-DATA":{const h=new us(f);Jc(o,h,["DATA-ID","LANGUAGE","VALUE","URI"]);const m=h["DATA-ID"];m&&(o.sessionData===null&&(o.sessionData={}),o.sessionData[m]=h);break}case"SESSION-KEY":{const h=o3e(f,r,o);h.encrypted&&h.isSupported()?(o.sessionKeys===null&&(o.sessionKeys=[]),o.sessionKeys.push(h)):je.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${f}"`);break}case"DEFINE":{{const h=new us(f);Jc(o,h,["NAME","VALUE","QUERYPARAM"]),e3e(o,h,r)}break}case"CONTENT-STEERING":{const h=new us(f);Jc(o,h,["SERVER-URI","PATHWAY-ID"]),o.contentSteering={uri:Jf.resolve(h["SERVER-URI"],r),pathwayId:h["PATHWAY-ID"]||"."};break}case"START":{o.startTimeOffset=s3e(f);break}}}const c=s.length>0&&s.length<o.levels.length;return o.levels=c?s:o.levels,o.levels.length===0&&(o.playlistParsingError=new Error("no levels found in manifest")),o}static parseMasterPlaylistMedia(e,r,i){let o;const s={},a=i.levels,l={AUDIO:a.map(u=>({id:u.attrs.AUDIO,audioCodec:u.audioCodec})),SUBTITLES:a.map(u=>({id:u.attrs.SUBTITLES,textCodec:u.textCodec})),"CLOSED-CAPTIONS":[]};let c=0;for(r3e.lastIndex=0;(o=r3e.exec(e))!==null;){const u=new us(o[1]),f=u.TYPE;if(f){const h=l[f],m=s[f]||[];s[f]=m,Jc(i,u,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const g={attrs:u,bitrate:0,id:c++,groupId:u["GROUP-ID"]||"",instreamId:u["INSTREAM-ID"],name:u.NAME||u.LANGUAGE||"",type:f,default:u.bool("DEFAULT"),autoselect:u.bool("AUTOSELECT"),forced:u.bool("FORCED"),lang:u.LANGUAGE,url:u.URI?Jf.resolve(u.URI,r):""};if(h!=null&&h.length){const v=Jf.findGroup(h,g.groupId)||h[0];a3e(g,v,"audioCodec"),a3e(g,v,"textCodec")}m.push(g)}}return s}static parseLevelPlaylist(e,r,i,o,s,a){const l=new P2r(r),c=l.fragments;let u=null,f=0,h=0,m=0,g=0,v=null,y=new YH(o,r),b,x,_,w=-1,C=!1;for(i3e.lastIndex=0,l.m3u8=e,l.hasVariableRefs=JMe(e);(b=i3e.exec(e))!==null;){C&&(C=!1,y=new YH(o,r),y.start=m,y.sn=f,y.cc=g,y.level=i,u&&(y.initSegment=u,y.rawProgramDateTime=u.rawProgramDateTime,u.rawProgramDateTime=null));const I=b[1];if(I){y.duration=parseFloat(I);const D=(" "+b[2]).slice(1);y.title=D||null,y.tagList.push(D?["INF",I,D]:["INF",I])}else if(b[3]){if(wn(y.duration)){y.start=m,_&&u3e(y,_,l),y.sn=f,y.level=i,y.cc=g,y.urlId=s,c.push(y);const D=(" "+b[3]).slice(1);y.relurl=gX(l,D),l3e(y,v),v=y,m+=y.duration,f++,h=0,C=!0}}else if(b[4]){const D=(" "+b[4]).slice(1);v?y.setByteRange(D,v):y.setByteRange(D)}else if(b[5])y.rawProgramDateTime=(" "+b[5]).slice(1),y.tagList.push(["PROGRAM-DATE-TIME",y.rawProgramDateTime]),w===-1&&(w=c.length);else{if(b=b[0].match(pkr),!b){je.warn("No matches on slow regex match for level playlist!");continue}for(x=1;x<b.length&&!(typeof b[x]<"u");x++);const D=(" "+b[x]).slice(1),R=(" "+b[x+1]).slice(1),P=b[x+2]?(" "+b[x+2]).slice(1):"";switch(D){case"PLAYLIST-TYPE":l.type=R.toUpperCase();break;case"MEDIA-SEQUENCE":f=l.startSN=parseInt(R);break;case"SKIP":{const O=new us(R);Jc(l,O,["RECENTLY-REMOVED-DATERANGES"]);const $=O.decimalInteger("SKIPPED-SEGMENTS");if(wn($)){l.skippedSegments=$;for(let M=$;M--;)c.unshift(null);f+=$}const L=O.enumeratedString("RECENTLY-REMOVED-DATERANGES");L&&(l.recentlyRemovedDateranges=L.split("	"));break}case"TARGETDURATION":l.targetduration=Math.max(parseInt(R),1);break;case"VERSION":l.version=parseInt(R);break;case"EXTM3U":break;case"ENDLIST":l.live=!1;break;case"#":(R||P)&&y.tagList.push(P?[R,P]:[R]);break;case"DISCONTINUITY":g++,y.tagList.push(["DIS"]);break;case"GAP":y.gap=!0,y.tagList.push([D]);break;case"BITRATE":y.tagList.push([D,R]);break;case"DATERANGE":{const O=new us(R);Jc(l,O,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),Jc(l,O,O.clientAttrs);const $=new Jat(O,l.dateRanges[O.ID]);$.isValid||l.skippedSegments?l.dateRanges[$.id]=$:je.warn(`Ignoring invalid DATERANGE tag: "${R}"`),y.tagList.push(["EXT-X-DATERANGE",R]);break}case"DEFINE":{{const O=new us(R);Jc(l,O,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in O?ukr(l,O,a):e3e(l,O,r)}break}case"DISCONTINUITY-SEQUENCE":g=parseInt(R);break;case"KEY":{const O=o3e(R,r,l);if(O.isSupported()){if(O.method==="NONE"){_=void 0;break}_||(_={}),_[O.keyFormat]&&(_=Oa({},_)),_[O.keyFormat]=O}else je.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${R}"`);break}case"START":l.startTimeOffset=s3e(R);break;case"MAP":{const O=new us(R);if(Jc(l,O,["BYTERANGE","URI"]),y.duration){const $=new YH(o,r);c3e($,O,i,_),u=$,y.initSegment=u,u.rawProgramDateTime&&!y.rawProgramDateTime&&(y.rawProgramDateTime=u.rawProgramDateTime)}else c3e(y,O,i,_),u=y,C=!0;break}case"SERVER-CONTROL":{const O=new us(R);l.canBlockReload=O.bool("CAN-BLOCK-RELOAD"),l.canSkipUntil=O.optionalFloat("CAN-SKIP-UNTIL",0),l.canSkipDateRanges=l.canSkipUntil>0&&O.bool("CAN-SKIP-DATERANGES"),l.partHoldBack=O.optionalFloat("PART-HOLD-BACK",0),l.holdBack=O.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const O=new us(R);l.partTarget=O.decimalFloatingPoint("PART-TARGET");break}case"PART":{let O=l.partList;O||(O=l.partList=[]);const $=h>0?O[O.length-1]:void 0,L=h++,M=new us(R);Jc(l,M,["BYTERANGE","URI"]);const N=new R2r(M,y,r,L,$);O.push(N),y.duration+=N.duration;break}case"PRELOAD-HINT":{const O=new us(R);Jc(l,O,["URI"]),l.preloadHint=O;break}case"RENDITION-REPORT":{const O=new us(R);Jc(l,O,["URI"]),l.renditionReports=l.renditionReports||[],l.renditionReports.push(O);break}default:je.warn(`line parsed but not handled: ${b}`);break}}}v&&!v.relurl?(c.pop(),m-=v.duration,l.partList&&(l.fragmentHint=v)):l.partList&&(l3e(y,v),y.cc=g,l.fragmentHint=y,_&&u3e(y,_,l));const S=c.length,T=c[0],A=c[S-1];if(m+=l.skippedSegments*l.targetduration,m>0&&S&&A){l.averagetargetduration=m/S;const I=A.sn;l.endSN=I!=="initSegment"?I:0,l.live||(A.endList=!0),T&&(l.startCC=T.cc)}else l.endSN=0,l.startCC=0;return l.fragmentHint&&(m+=l.fragmentHint.duration),l.totalduration=m,l.endCC=g,w>0&&gkr(c,w),l}}function o3e(n,e,r){var i,o;const s=new us(n);Jc(r,s,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const a=(i=s.METHOD)!=null?i:"",l=s.URI,c=s.hexadecimalInteger("IV"),u=s.KEYFORMATVERSIONS,f=(o=s.KEYFORMAT)!=null?o:"identity";l&&s.IV&&!c&&je.error(`Invalid IV: ${s.IV}`);const h=l?Jf.resolve(l,e):"",m=(u||"1").split("/").map(Number).filter(Number.isFinite);return new xI(a,h,f,m,c)}function s3e(n){const r=new us(n).decimalFloatingPoint("TIME-OFFSET");return wn(r)?r:null}function mkr(n,e){["video","audio","text"].forEach(r=>{const i=n.filter(o=>fkr(o,r));if(i.length){const o=i.filter(s=>s.lastIndexOf("avc1",0)===0||s.lastIndexOf("mp4a",0)===0);e[`${r}Codec`]=o.length>0?o[0]:i[0],n=n.filter(s=>i.indexOf(s)===-1)}}),e.unknownCodecs=n}function a3e(n,e,r){const i=e[r];i&&(n[r]=i)}function gkr(n,e){let r=n[e];for(let i=e;i--;){const o=n[i];if(!o)return;o.programDateTime=r.programDateTime-o.duration*1e3,r=o}}function l3e(n,e){n.rawProgramDateTime?n.programDateTime=Date.parse(n.rawProgramDateTime):e!=null&&e.programDateTime&&(n.programDateTime=e.endProgramDateTime),wn(n.programDateTime)||(n.programDateTime=null,n.rawProgramDateTime=null)}function c3e(n,e,r,i){n.relurl=e.URI,e.BYTERANGE&&n.setByteRange(e.BYTERANGE),n.level=r,n.sn="initSegment",i&&(n.levelkeys=i),n.initSegment=null}function u3e(n,e,r){n.levelkeys=e;const{encryptedFragments:i}=r;(!i.length||i[i.length-1].levelkeys!==e)&&Object.keys(e).some(o=>e[o].isCommonEncryption)&&i.push(n)}var pi={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},Nn={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};function d3e(n){const{type:e}=n;switch(e){case pi.AUDIO_TRACK:return Nn.AUDIO;case pi.SUBTITLE_TRACK:return Nn.SUBTITLE;default:return Nn.MAIN}}function eW(n,e){let r=n.url;return(r===void 0||r.indexOf("data:")===0)&&(r=e.url),r}class vkr{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ie.LEVEL_LOADING,this.onLevelLoading,this),e.on(ie.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(ie.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:e}=this;e.off(ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ie.LEVEL_LOADING,this.onLevelLoading,this),e.off(ie.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(ie.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(e){const r=this.hls.config,i=r.pLoader,o=r.loader,s=i||o,a=new s(r);return this.loaders[e.type]=a,a}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const r=this.loaders[e];r&&r.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,r){const{url:i}=r;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:pi.MANIFEST,url:i,deliveryDirectives:null})}onLevelLoading(e,r){const{id:i,level:o,url:s,deliveryDirectives:a}=r;this.load({id:i,level:o,responseType:"text",type:pi.LEVEL,url:s,deliveryDirectives:a})}onAudioTrackLoading(e,r){const{id:i,groupId:o,url:s,deliveryDirectives:a}=r;this.load({id:i,groupId:o,level:null,responseType:"text",type:pi.AUDIO_TRACK,url:s,deliveryDirectives:a})}onSubtitleTrackLoading(e,r){const{id:i,groupId:o,url:s,deliveryDirectives:a}=r;this.load({id:i,groupId:o,level:null,responseType:"text",type:pi.SUBTITLE_TRACK,url:s,deliveryDirectives:a})}load(e){var r;const i=this.hls.config;let o=this.getInternalLoader(e);if(o){const u=o.context;if(u&&u.url===e.url){je.trace("[playlist-loader]: playlist request ongoing");return}je.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),o.abort()}let s;if(e.type===pi.MANIFEST?s=i.manifestLoadPolicy.default:s=Oa({},i.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),o=this.createInternalLoader(e),(r=e.deliveryDirectives)!=null&&r.part){let u;if(e.type===pi.LEVEL&&e.level!==null?u=this.hls.levels[e.level].details:e.type===pi.AUDIO_TRACK&&e.id!==null?u=this.hls.audioTracks[e.id].details:e.type===pi.SUBTITLE_TRACK&&e.id!==null&&(u=this.hls.subtitleTracks[e.id].details),u){const f=u.partTarget,h=u.targetduration;if(f&&h){const m=Math.max(f*3,h*.8)*1e3;s=Oa({},s,{maxTimeToFirstByteMs:Math.min(m,s.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(m,s.maxTimeToFirstByteMs)})}}}const a=s.errorRetry||s.timeoutRetry||{},l={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},c={onSuccess:(u,f,h,m)=>{const g=this.getInternalLoader(h);this.resetInternalLoader(h.type);const v=u.data;if(v.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(u,h,new Error("no EXTM3U delimiter"),m||null,f);return}f.parsing.start=performance.now(),Jf.isMediaPlaylist(v)?this.handleTrackOrLevelPlaylist(u,f,h,m||null,g):this.handleMasterPlaylist(u,f,h,m)},onError:(u,f,h,m)=>{this.handleNetworkError(f,h,!1,u,m)},onTimeout:(u,f,h)=>{this.handleNetworkError(f,h,!0,void 0,u)}};o.load(e,l,c)}handleMasterPlaylist(e,r,i,o){const s=this.hls,a=e.data,l=eW(e,i),c=Jf.parseMasterPlaylist(a,l);if(c.playlistParsingError){this.handleManifestParsingError(e,i,c.playlistParsingError,o,r);return}const{contentSteering:u,levels:f,sessionData:h,sessionKeys:m,startTimeOffset:g,variableList:v}=c;this.variableList=v;const{AUDIO:y=[],SUBTITLES:b,"CLOSED-CAPTIONS":x}=Jf.parseMasterPlaylistMedia(a,l,c);y.length&&!y.some(w=>!w.url)&&f[0].audioCodec&&!f[0].attrs.AUDIO&&(je.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),y.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new us({}),bitrate:0,url:""})),s.trigger(ie.MANIFEST_LOADED,{levels:f,audioTracks:y,subtitles:b,captions:x,contentSteering:u,url:l,stats:r,networkDetails:o,sessionData:h,sessionKeys:m,startTimeOffset:g,variableList:v})}handleTrackOrLevelPlaylist(e,r,i,o,s){const a=this.hls,{id:l,level:c,type:u}=i,f=eW(e,i),h=wn(l)?l:0,m=wn(c)?c:h,g=d3e(i),v=Jf.parseLevelPlaylist(e.data,f,m,g,h,this.variableList);if(u===pi.MANIFEST){const y={attrs:new us({}),bitrate:0,details:v,name:"",url:f};a.trigger(ie.MANIFEST_LOADED,{levels:[y],audioTracks:[],url:f,stats:r,networkDetails:o,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}r.parsing.end=performance.now(),i.levelDetails=v,this.handlePlaylistLoaded(v,e,r,i,o,s)}handleManifestParsingError(e,r,i,o,s){this.hls.trigger(ie.ERROR,{type:Ln.NETWORK_ERROR,details:Ze.MANIFEST_PARSING_ERROR,fatal:r.type===pi.MANIFEST,url:e.url,err:i,error:i,reason:i.message,response:e,context:r,networkDetails:o,stats:s})}handleNetworkError(e,r,i=!1,o,s){let a=`A network ${i?"timeout":"error"+(o?" (status "+o.code+")":"")} occurred while loading ${e.type}`;e.type===pi.LEVEL?a+=`: ${e.level} id: ${e.id}`:(e.type===pi.AUDIO_TRACK||e.type===pi.SUBTITLE_TRACK)&&(a+=` id: ${e.id} group-id: "${e.groupId}"`);const l=new Error(a);je.warn(`[playlist-loader]: ${a}`);let c=Ze.UNKNOWN,u=!1;const f=this.getInternalLoader(e);switch(e.type){case pi.MANIFEST:c=i?Ze.MANIFEST_LOAD_TIMEOUT:Ze.MANIFEST_LOAD_ERROR,u=!0;break;case pi.LEVEL:c=i?Ze.LEVEL_LOAD_TIMEOUT:Ze.LEVEL_LOAD_ERROR,u=!1;break;case pi.AUDIO_TRACK:c=i?Ze.AUDIO_TRACK_LOAD_TIMEOUT:Ze.AUDIO_TRACK_LOAD_ERROR,u=!1;break;case pi.SUBTITLE_TRACK:c=i?Ze.SUBTITLE_TRACK_LOAD_TIMEOUT:Ze.SUBTITLE_LOAD_ERROR,u=!1;break}f&&this.resetInternalLoader(e.type);const h={type:Ln.NETWORK_ERROR,details:c,fatal:u,url:e.url,loader:f,context:e,error:l,networkDetails:r,stats:s};if(o){const m=(r==null?void 0:r.url)||e.url;h.response=Ac({url:m,data:void 0},o)}this.hls.trigger(ie.ERROR,h)}handlePlaylistLoaded(e,r,i,o,s,a){const l=this.hls,{type:c,level:u,id:f,groupId:h,deliveryDirectives:m}=o,g=eW(r,o),v=d3e(o),y=typeof o.level=="number"&&v===Nn.MAIN?u:void 0;if(!e.fragments.length){const x=new Error("No Segments found in Playlist");l.trigger(ie.ERROR,{type:Ln.NETWORK_ERROR,details:Ze.LEVEL_EMPTY_ERROR,fatal:!1,url:g,error:x,reason:x.message,response:r,context:o,level:y,parent:v,networkDetails:s,stats:i});return}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const b=e.playlistParsingError;if(b){l.trigger(ie.ERROR,{type:Ln.NETWORK_ERROR,details:Ze.LEVEL_PARSING_ERROR,fatal:!1,url:g,error:b,reason:b.message,response:r,context:o,level:y,parent:v,networkDetails:s,stats:i});return}switch(e.live&&a&&(a.getCacheAge&&(e.ageHeader=a.getCacheAge()||0),(!a.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),c){case pi.MANIFEST:case pi.LEVEL:l.trigger(ie.LEVEL_LOADED,{details:e,level:y||0,id:f||0,stats:i,networkDetails:s,deliveryDirectives:m});break;case pi.AUDIO_TRACK:l.trigger(ie.AUDIO_TRACK_LOADED,{details:e,id:f||0,groupId:h||"",stats:i,networkDetails:s,deliveryDirectives:m});break;case pi.SUBTITLE_TRACK:l.trigger(ie.SUBTITLE_TRACK_LOADED,{details:e,id:f||0,groupId:h||"",stats:i,networkDetails:s,deliveryDirectives:m});break}}}function mlt(n,e){let r;try{r=new Event("addtrack")}catch{r=document.createEvent("Event"),r.initEvent("addtrack",!1,!1)}r.track=n,e.dispatchEvent(r)}function glt(n,e){const r=n.mode;if(r==="disabled"&&(n.mode="hidden"),n.cues&&!n.cues.getCueById(e.id))try{if(n.addCue(e),!n.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(i){je.debug(`[texttrack-utils]: ${i}`);try{const o=new self.TextTrackCue(e.startTime,e.endTime,e.text);o.id=e.id,n.addCue(o)}catch(o){je.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${o}`)}}r==="disabled"&&(n.mode=r)}function $E(n){const e=n.mode;if(e==="disabled"&&(n.mode="hidden"),n.cues)for(let r=n.cues.length;r--;)n.removeCue(n.cues[r]);e==="disabled"&&(n.mode=e)}function vX(n,e,r,i){const o=n.mode;if(o==="disabled"&&(n.mode="hidden"),n.cues&&n.cues.length>0){const s=bkr(n.cues,e,r);for(let a=0;a<s.length;a++)(!i||i(s[a]))&&n.removeCue(s[a])}o==="disabled"&&(n.mode=o)}function ykr(n,e){if(e<n[0].startTime)return 0;const r=n.length-1;if(e>n[r].endTime)return-1;let i=0,o=r;for(;i<=o;){const s=Math.floor((o+i)/2);if(e<n[s].startTime)o=s-1;else if(e>n[s].startTime&&i<r)i=s+1;else return s}return n[i].startTime-e<e-n[o].startTime?i:o}function bkr(n,e,r){const i=[],o=ykr(n,e);if(o>-1)for(let s=o,a=n.length;s<a;s++){const l=n[s];if(l.startTime>=e&&l.endTime<=r)i.push(l);else if(l.startTime>r)return i}return i}var Kf={audioId3:"org.id3",dateRange:"com.apple.quicktime.HLS",emsg:"https://aomedia.org/emsg/ID3"};const xkr=.25;function yX(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function f3e(n,e,r,i,o){let s=new n(e,r,"");try{s.value=i,o&&(s.type=o)}catch{s=new n(e,r,JSON.stringify(o?Ac({type:o},i):i))}return s}const kj=(()=>{const n=yX();try{n&&new n(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function tW(n,e){return n.getTime()/1e3-e}function wkr(n){return Uint8Array.from(n.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class _kr{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:e}=this;e.on(ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ie.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(ie.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(ie.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off(ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ie.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(ie.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(ie.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(e,r){this.media=r.media}onMediaDetaching(){this.id3Track&&($E(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const r=this.getID3Track(e.textTracks);return r.mode="hidden",r}getID3Track(e){if(this.media){for(let r=0;r<e.length;r++){const i=e[r];if(i.kind==="metadata"&&i.label==="id3")return mlt(i,this.media),i}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,r){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:i,enableID3MetadataCues:o}}}=this;if(!i&&!o)return;const{samples:s}=r;this.id3Track||(this.id3Track=this.createTrack(this.media));const a=yX();if(a)for(let l=0;l<s.length;l++){const c=s[l].type;if(c===Kf.emsg&&!i||!o)continue;const u=slt(s[l].data);if(u){const f=s[l].pts;let h=f+s[l].duration;h>kj&&(h=kj),h-f<=0&&(h=f+xkr);for(let g=0;g<u.length;g++){const v=u[g];if(!olt(v)){this.updateId3CueEnds(f,c);const y=f3e(a,f,h,v,c);y&&this.id3Track.addCue(y)}}}}}updateId3CueEnds(e,r){var i;const o=(i=this.id3Track)==null?void 0:i.cues;if(o)for(let s=o.length;s--;){const a=o[s];a.type===r&&a.startTime<e&&a.endTime===kj&&(a.endTime=e)}}onBufferFlushing(e,{startOffset:r,endOffset:i,type:o}){const{id3Track:s,hls:a}=this;if(!a)return;const{config:{enableEmsgMetadataCues:l,enableID3MetadataCues:c}}=a;if(s&&(l||c)){let u;o==="audio"?u=f=>f.type===Kf.audioId3&&c:o==="video"?u=f=>f.type===Kf.emsg&&l:u=f=>f.type===Kf.audioId3&&c||f.type===Kf.emsg&&l,vX(s,r,i,u)}}onLevelUpdated(e,{details:r}){if(!this.media||!r.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:i,id3Track:o}=this,{dateRanges:s}=r,a=Object.keys(s);if(o){const f=Object.keys(i).filter(h=>!a.includes(h));for(let h=f.length;h--;){const m=f[h];Object.keys(i[m].cues).forEach(g=>{o.removeCue(i[m].cues[g])}),delete i[m]}}const l=r.fragments[r.fragments.length-1];if(a.length===0||!wn(l==null?void 0:l.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const c=l.programDateTime/1e3-l.start,u=yX();for(let f=0;f<a.length;f++){const h=a[f],m=s[h],g=i[h],v=(g==null?void 0:g.cues)||{};let y=(g==null?void 0:g.durationKnown)||!1;const b=tW(m.startDate,c);let x=kj;const _=m.endDate;if(_)x=tW(_,c),y=!0;else if(m.endOnNext&&!y){const C=a.reduce((S,T)=>{const A=s[T];return A.class===m.class&&A.id!==T&&A.startDate>m.startDate&&S.push(A),S},[]).sort((S,T)=>S.startDate.getTime()-T.startDate.getTime())[0];C&&(x=tW(C.startDate,c),y=!0)}const w=Object.keys(m.attr);for(let C=0;C<w.length;C++){const S=w[C];if(!I2r(S))continue;const T=v[S];if(T)y&&!g.durationKnown&&(T.endTime=x);else if(u){let A=m.attr[S];D2r(S)&&(A=wkr(A));const I=f3e(u,b,x,{key:S,data:A},Kf.dateRange);I&&(I.id=h,this.id3Track.addCue(I),v[S]=I)}}i[h]={cues:v,dateRange:m,durationKnown:y}}}}class Ekr{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=e,this.config=e.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:e,levelDetails:r}=this;return e.liveMaxLatencyDuration!==void 0?e.liveMaxLatencyDuration:r?e.liveMaxLatencyDurationCount*r.targetduration:0}get targetLatency(){const{levelDetails:e}=this;if(e===null)return null;const{holdBack:r,partHoldBack:i,targetduration:o}=e,{liveSyncDuration:s,liveSyncDurationCount:a,lowLatencyMode:l}=this.config,c=this.hls.userConfig;let u=l&&i||r;(c.liveSyncDuration||c.liveSyncDurationCount||u===0)&&(u=s!==void 0?s:a*o);const f=o,h=1;return u+Math.min(this.stallCount*h,f)}get liveSyncPosition(){const e=this.estimateLiveEdge(),r=this.targetLatency,i=this.levelDetails;if(e===null||r===null||i===null)return null;const o=i.edge,s=e-r-this.edgeStalled,a=o-i.totalduration,l=o-(this.config.lowLatencyMode&&i.partTarget||i.targetduration);return Math.min(Math.max(a,s),l)}get drift(){const{levelDetails:e}=this;return e===null?1:e.drift}get edgeStalled(){const{levelDetails:e}=this;if(e===null)return 0;const r=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-r,0)}get forwardBufferLength(){const{media:e,levelDetails:r}=this;if(!e||!r)return 0;const i=e.buffered.length;return(i?e.buffered.end(i-1):r.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(ie.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(ie.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(ie.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(ie.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(ie.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(ie.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(ie.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(ie.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(ie.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(ie.ERROR,this.onError,this)}onMediaAttached(e,r){this.media=r.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:r}){this.levelDetails=r,r.advanced&&this.timeupdate(),!r.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(e,r){var i;r.details===Ze.BUFFER_STALLED_ERROR&&(this.stallCount++,(i=this.levelDetails)!=null&&i.live&&je.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:e,levelDetails:r}=this;if(!e||!r)return;this.currentTime=e.currentTime;const i=this.computeLatency();if(i===null)return;this._latency=i;const{lowLatencyMode:o,maxLiveSyncPlaybackRate:s}=this.config;if(!o||s===1)return;const a=this.targetLatency;if(a===null)return;const l=i-a,c=Math.min(this.maxLatency,a+r.targetduration),u=l<c;if(r.live&&u&&l>.05&&this.forwardBufferLength>1){const f=Math.min(2,Math.max(1,s)),h=Math.round(2/(1+Math.exp(-.75*l-this.edgeStalled))*20)/20;e.playbackRate=Math.min(f,Math.max(1,h))}else e.playbackRate!==1&&e.playbackRate!==0&&(e.playbackRate=1)}estimateLiveEdge(){const{levelDetails:e}=this;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}const bX=["NONE","TYPE-0","TYPE-1",null];var XA={No:"",Yes:"YES",v2:"v2"};function Ckr(n,e){const{canSkipUntil:r,canSkipDateRanges:i,endSN:o}=n,s=e!==void 0?e-o:0;return r&&s<r?i?XA.v2:XA.Yes:XA.No}class h3e{constructor(e,r,i){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=r,this.skip=i}addDirectives(e){const r=new self.URL(e);return this.msn!==void 0&&r.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&r.searchParams.set("_HLS_part",this.part.toString()),this.skip&&r.searchParams.set("_HLS_skip",this.skip),r.href}}class wI{constructor(e){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.unknownCodecs=e.unknownCodecs,this.codecSet=[e.videoCodec,e.audioCodec].filter(r=>r).join(",").replace(/\.[^.,]+/g,"")}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get attrs(){return this._attrs[this._urlId]}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get uri(){return this.url[this._urlId]||""}get urlId(){return this._urlId}set urlId(e){const r=e%this.url.length;this._urlId!==r&&(this.fragmentError=0,this.loadError=0,this.details=void 0,this._urlId=r)}get audioGroupId(){var e;return(e=this.audioGroupIds)==null?void 0:e[this.urlId]}get textGroupId(){var e;return(e=this.textGroupIds)==null?void 0:e[this.urlId]}addFallback(e){this.url.push(e.url),this._attrs.push(e.attrs)}}function nW(n,e){const r=e.startPTS;if(wn(r)){let i=0,o;e.sn>n.sn?(i=r-n.start,o=n):(i=n.start-r,o=e),o.duration!==i&&(o.duration=i)}else e.sn>n.sn?n.cc===e.cc&&n.minEndPTS?e.start=n.start+(n.minEndPTS-n.start):e.start=n.start+n.duration:e.start=Math.max(n.start-e.duration,0)}function vlt(n,e,r,i,o,s){i-r<=0&&(je.warn("Fragment should have a positive duration",e),i=r+e.duration,s=o+e.duration);let l=r,c=i;const u=e.startPTS,f=e.endPTS;if(wn(u)){const b=Math.abs(u-r);wn(e.deltaPTS)?e.deltaPTS=Math.max(b,e.deltaPTS):e.deltaPTS=b,l=Math.max(r,u),r=Math.min(r,u),o=Math.min(o,e.startDTS),c=Math.min(i,f),i=Math.max(i,f),s=Math.max(s,e.endDTS)}const h=r-e.start;e.start!==0&&(e.start=r),e.duration=i-e.start,e.startPTS=r,e.maxStartPTS=l,e.startDTS=o,e.endPTS=i,e.minEndPTS=c,e.endDTS=s;const m=e.sn;if(!n||m<n.startSN||m>n.endSN)return 0;let g;const v=m-n.startSN,y=n.fragments;for(y[v]=e,g=v;g>0;g--)nW(y[g],y[g-1]);for(g=v;g<y.length-1;g++)nW(y[g],y[g+1]);return n.fragmentHint&&nW(y[y.length-1],n.fragmentHint),n.PTSKnown=n.alignedSliding=!0,h}function Skr(n,e){let r=null;const i=n.fragments;for(let c=i.length-1;c>=0;c--){const u=i[c].initSegment;if(u){r=u;break}}n.fragmentHint&&delete n.fragmentHint.endPTS;let o=0,s;if(Akr(n,e,(c,u)=>{c.relurl&&(o=c.cc-u.cc),wn(c.startPTS)&&wn(c.endPTS)&&(u.start=u.startPTS=c.startPTS,u.startDTS=c.startDTS,u.maxStartPTS=c.maxStartPTS,u.endPTS=c.endPTS,u.endDTS=c.endDTS,u.minEndPTS=c.minEndPTS,u.duration=c.endPTS-c.startPTS,u.duration&&(s=u),e.PTSKnown=e.alignedSliding=!0),u.elementaryStreams=c.elementaryStreams,u.loader=c.loader,u.stats=c.stats,u.urlId=c.urlId,c.initSegment&&(u.initSegment=c.initSegment,r=c.initSegment)}),r&&(e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments).forEach(u=>{var f;(!u.initSegment||u.initSegment.relurl===((f=r)==null?void 0:f.relurl))&&(u.initSegment=r)}),e.skippedSegments)if(e.deltaUpdateFailed=e.fragments.some(c=>!c),e.deltaUpdateFailed){je.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let c=e.skippedSegments;c--;)e.fragments.shift();e.startSN=e.fragments[0].sn,e.startCC=e.fragments[0].cc}else e.canSkipDateRanges&&(e.dateRanges=kkr(n.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));const a=e.fragments;if(o){je.warn("discontinuity sliding from playlist, take drift into account");for(let c=0;c<a.length;c++)a[c].cc+=o}e.skippedSegments&&(e.startCC=e.fragments[0].cc),Tkr(n.partList,e.partList,(c,u)=>{u.elementaryStreams=c.elementaryStreams,u.stats=c.stats}),s?vlt(e,s,s.startPTS,s.endPTS,s.startDTS,s.endDTS):ylt(n,e),a.length&&(e.totalduration=e.edge-a[0].start),e.driftStartTime=n.driftStartTime,e.driftStart=n.driftStart;const l=e.advancedDateTime;if(e.advanced&&l){const c=e.edge;e.driftStart||(e.driftStartTime=l,e.driftStart=c),e.driftEndTime=l,e.driftEnd=c}else e.driftEndTime=n.driftEndTime,e.driftEnd=n.driftEnd,e.advancedDateTime=n.advancedDateTime}function kkr(n,e,r){const i=Oa({},n);return r&&r.forEach(o=>{delete i[o]}),Object.keys(e).forEach(o=>{const s=new Jat(e[o].attr,i[o]);s.isValid?i[o]=s:je.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(e[o].attr)}"`)}),i}function Tkr(n,e,r){if(n&&e){let i=0;for(let o=0,s=n.length;o<=s;o++){const a=n[o],l=e[o+i];a&&l&&a.index===l.index&&a.fragment.sn===l.fragment.sn?r(a,l):i--}}}function Akr(n,e,r){const i=e.skippedSegments,o=Math.max(n.startSN,e.startSN)-e.startSN,s=(n.fragmentHint?1:0)+(i?e.endSN:Math.min(n.endSN,e.endSN))-e.startSN,a=e.startSN-n.startSN,l=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,c=n.fragmentHint?n.fragments.concat(n.fragmentHint):n.fragments;for(let u=o;u<=s;u++){const f=c[a+u];let h=l[u];i&&!h&&u<i&&(h=e.fragments[u]=f),f&&h&&r(f,h)}}function ylt(n,e){const r=e.startSN+e.skippedSegments-n.startSN,i=n.fragments;r<0||r>=i.length||xX(e,i[r].start)}function xX(n,e){if(e){const r=n.fragments;for(let i=n.skippedSegments;i<r.length;i++)r[i].start+=e;n.fragmentHint&&(n.fragmentHint.start+=e)}}function Ikr(n,e=1/0){let r=1e3*n.targetduration;if(n.updated){const i=n.fragments,o=4;if(i.length&&r*o>e){const s=i[i.length-1].duration*1e3;s<r&&(r=s)}}else r/=2;return Math.round(r)}function Dkr(n,e,r){if(!(n!=null&&n.details))return null;const i=n.details;let o=i.fragments[e-i.startSN];return o||(o=i.fragmentHint,o&&o.sn===e)?o:e<i.startSN&&r&&r.sn===e?r:null}function p3e(n,e,r){var i;return n!=null&&n.details?blt((i=n.details)==null?void 0:i.partList,e,r):null}function blt(n,e,r){if(n)for(let i=n.length;i--;){const o=n[i];if(o.index===r&&o.fragment.sn===e)return o}return null}function I4(n){switch(n.details){case Ze.FRAG_LOAD_TIMEOUT:case Ze.KEY_LOAD_TIMEOUT:case Ze.LEVEL_LOAD_TIMEOUT:case Ze.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function m3e(n,e){const r=I4(e);return n.default[`${r?"timeout":"error"}Retry`]}function vae(n,e){const r=n.backoff==="linear"?1:Math.pow(2,e);return Math.min(r*n.retryDelayMs,n.maxRetryDelayMs)}function g3e(n){return Ac(Ac({},n),{errorRetry:null,timeoutRetry:null})}function D4(n,e,r,i){return!!n&&e<n.maxNumRetry&&(Rkr(i)||!!r)}function Rkr(n){return n===0&&navigator.onLine===!1||!!n&&(n<400||n>499)}const xlt={search:function(n,e){let r=0,i=n.length-1,o=null,s=null;for(;r<=i;){o=(r+i)/2|0,s=n[o];const a=e(s);if(a>0)r=o+1;else if(a<0)i=o-1;else return s}return null}};function Okr(n,e,r){if(e===null||!Array.isArray(n)||!n.length||!wn(e))return null;const i=n[0].programDateTime;if(e<(i||0))return null;const o=n[n.length-1].endProgramDateTime;if(e>=(o||0))return null;r=r||0;for(let s=0;s<n.length;++s){const a=n[s];if(Pkr(e,r,a))return a}return null}function _I(n,e,r=0,i=0){let o=null;if(n?o=e[n.sn-e[0].sn+1]||null:r===0&&e[0].start===0&&(o=e[0]),o&&wX(r,i,o)===0)return o;const s=xlt.search(e,wX.bind(null,r,i));return s&&(s!==n||!o)?s:o}function wX(n=0,e=0,r){if(r.start<=n&&r.start+r.duration>n)return 0;const i=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-i<=n?1:r.start-i>n&&r.start?-1:0}function Pkr(n,e,r){const i=Math.min(e,r.duration+(r.deltaPTS?r.deltaPTS:0))*1e3;return(r.endProgramDateTime||0)-i>n}function jkr(n,e){return xlt.search(n,r=>r.cc<e?1:r.cc>e?-1:0)}const Lkr=3e5;var Nl={DoNothing:0,SendEndCallback:1,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,InsertDiscontinuity:4,RetryRequest:5},$d={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,SwitchToSDR:4};class $kr{constructor(e){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=e,this.log=je.log.bind(je,"[info]:"),this.warn=je.warn.bind(je,"[warning]:"),this.error=je.error.bind(je,"[error]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(ie.ERROR,this.onError,this),e.on(ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ie.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(ie.ERROR,this.onError,this),e.off(ie.ERROR,this.onErrorOut,this),e.off(ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ie.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){this.playlistError=0}stopLoad(){}getVariantLevelIndex(e){return(e==null?void 0:e.type)===Nn.MAIN?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,r){var i,o;if(r.fatal)return;const s=this.hls,a=r.context;switch(r.details){case Ze.FRAG_LOAD_ERROR:case Ze.FRAG_LOAD_TIMEOUT:case Ze.KEY_LOAD_ERROR:case Ze.KEY_LOAD_TIMEOUT:r.errorAction=this.getFragRetryOrSwitchAction(r);return;case Ze.FRAG_PARSING_ERROR:if((i=r.frag)!=null&&i.gap){r.errorAction={action:Nl.DoNothing,flags:$d.None};return}case Ze.FRAG_GAP:case Ze.FRAG_DECRYPT_ERROR:{r.errorAction=this.getFragRetryOrSwitchAction(r),r.errorAction.action=Nl.SendAlternateToPenaltyBox;return}case Ze.LEVEL_EMPTY_ERROR:case Ze.LEVEL_PARSING_ERROR:{var l,c;const u=r.parent===Nn.MAIN?r.level:s.loadLevel;r.details===Ze.LEVEL_EMPTY_ERROR&&((l=r.context)!=null&&(c=l.levelDetails)!=null&&c.live)?r.errorAction=this.getPlaylistRetryOrSwitchAction(r,u):(r.levelRetry=!1,r.errorAction=this.getLevelSwitchAction(r,u))}return;case Ze.LEVEL_LOAD_ERROR:case Ze.LEVEL_LOAD_TIMEOUT:typeof(a==null?void 0:a.level)=="number"&&(r.errorAction=this.getPlaylistRetryOrSwitchAction(r,a.level));return;case Ze.AUDIO_TRACK_LOAD_ERROR:case Ze.AUDIO_TRACK_LOAD_TIMEOUT:case Ze.SUBTITLE_LOAD_ERROR:case Ze.SUBTITLE_TRACK_LOAD_TIMEOUT:if(a){const u=s.levels[s.loadLevel];if(u&&(a.type===pi.AUDIO_TRACK&&a.groupId===u.audioGroupId||a.type===pi.SUBTITLE_TRACK&&a.groupId===u.textGroupId)){r.errorAction=this.getPlaylistRetryOrSwitchAction(r,s.loadLevel),r.errorAction.action=Nl.SendAlternateToPenaltyBox,r.errorAction.flags=$d.MoveAllAlternatesMatchingHost;return}}return;case Ze.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const u=s.levels[s.loadLevel],f=u==null?void 0:u.attrs["HDCP-LEVEL"];f&&(r.errorAction={action:Nl.SendAlternateToPenaltyBox,flags:$d.MoveAllAlternatesMatchingHDCP,hdcpLevel:f})}return;case Ze.BUFFER_ADD_CODEC_ERROR:case Ze.REMUX_ALLOC_ERROR:r.errorAction=this.getLevelSwitchAction(r,(o=r.level)!=null?o:s.loadLevel);return;case Ze.INTERNAL_EXCEPTION:case Ze.BUFFER_APPENDING_ERROR:case Ze.BUFFER_APPEND_ERROR:case Ze.BUFFER_FULL_ERROR:case Ze.LEVEL_SWITCH_ERROR:case Ze.BUFFER_STALLED_ERROR:case Ze.BUFFER_SEEK_OVER_HOLE:case Ze.BUFFER_NUDGE_ON_STALL:r.errorAction={action:Nl.DoNothing,flags:$d.None};return}if(r.type===Ln.KEY_SYSTEM_ERROR){const u=this.getVariantLevelIndex(r.frag);r.levelRetry=!1,r.errorAction=this.getLevelSwitchAction(r,u);return}}getPlaylistRetryOrSwitchAction(e,r){var i;const o=this.hls,s=m3e(o.config.playlistLoadPolicy,e),a=this.playlistError++,l=(i=e.response)==null?void 0:i.code;if(D4(s,a,I4(e),l))return{action:Nl.RetryRequest,flags:$d.None,retryConfig:s,retryCount:a};const u=this.getLevelSwitchAction(e,r);return s&&(u.retryConfig=s,u.retryCount=a),u}getFragRetryOrSwitchAction(e){const r=this.hls,i=this.getVariantLevelIndex(e.frag),o=r.levels[i],{fragLoadPolicy:s,keyLoadPolicy:a}=r.config,l=m3e(e.details.startsWith("key")?a:s,e),c=r.levels.reduce((h,m)=>h+m.fragmentError,0);if(o){var u;e.details!==Ze.FRAG_GAP&&o.fragmentError++;const h=(u=e.response)==null?void 0:u.code;if(D4(l,c,I4(e),h))return{action:Nl.RetryRequest,flags:$d.None,retryConfig:l,retryCount:c}}const f=this.getLevelSwitchAction(e,i);return l&&(f.retryConfig=l,f.retryCount=c),f}getLevelSwitchAction(e,r){const i=this.hls;r==null&&(r=i.loadLevel);const o=this.hls.levels[r];if(o&&(o.loadError++,i.autoLevelEnabled)){var s,a;let l=-1;const{levels:c,loadLevel:u,minAutoLevel:f,maxAutoLevel:h}=i,m=(s=e.frag)==null?void 0:s.type,{type:g,groupId:v}=(a=e.context)!=null?a:{};for(let y=c.length;y--;){const b=(y+u)%c.length;if(b!==u&&b>=f&&b<=h&&c[b].loadError===0){const x=c[b];if(e.details===Ze.FRAG_GAP&&e.frag){const _=c[b].details;if(_){const w=_I(e.frag,_.fragments,e.frag.start);if(w!=null&&w.gap)continue}}else{if(g===pi.AUDIO_TRACK&&v===x.audioGroupId||g===pi.SUBTITLE_TRACK&&v===x.textGroupId)continue;if(m===Nn.AUDIO&&o.audioGroupId===x.audioGroupId||m===Nn.SUBTITLE&&o.textGroupId===x.textGroupId)continue}l=b;break}}if(l>-1&&i.loadLevel!==l)return e.levelRetry=!0,this.playlistError=0,{action:Nl.SendAlternateToPenaltyBox,flags:$d.None,nextAutoLevel:l}}return{action:Nl.SendAlternateToPenaltyBox,flags:$d.MoveAllAlternatesMatchingHost}}onErrorOut(e,r){var i;switch((i=r.errorAction)==null?void 0:i.action){case Nl.DoNothing:break;case Nl.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(r),!r.errorAction.resolved&&r.details!==Ze.FRAG_GAP&&(r.fatal=!0);break}if(r.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const r=this.hls,i=e.errorAction;if(!i)return;const{flags:o,hdcpLevel:s,nextAutoLevel:a}=i;switch(o){case $d.None:this.switchLevel(e,a);break;case $d.MoveAllAlternatesMatchingHost:i.resolved||(i.resolved=this.redundantFailover(e));break;case $d.MoveAllAlternatesMatchingHDCP:s&&(r.maxHdcpLevel=bX[bX.indexOf(s)-1],i.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${r.maxHdcpLevel}" or lower`);break}i.resolved||this.switchLevel(e,a)}switchLevel(e,r){r!==void 0&&e.errorAction&&(this.warn(`switching to level ${r} after ${e.details}`),this.hls.nextAutoLevel=r,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}redundantFailover(e){const{hls:r,penalizedRenditions:i}=this,o=e.parent===Nn.MAIN?e.level:r.loadLevel,s=r.levels[o],a=s.url.length,l=e.frag?e.frag.urlId:s.urlId;s.urlId===l&&(!e.frag||s.details)&&this.penalizeRendition(s,e);for(let c=1;c<a;c++){const u=(l+c)%a,f=i[u];if(!f||Mkr(f,e,i[l]))return this.warn(`Switching to Redundant Stream ${u+1}/${a}: "${s.url[u]}" after ${e.details}`),this.playlistError=0,r.levels.forEach(h=>{h.urlId=u}),r.nextLoadLevel=o,!0}return!1}penalizeRendition(e,r){const{penalizedRenditions:i}=this,o=i[e.urlId]||{lastErrorPerfMs:0,errors:[],details:void 0};o.lastErrorPerfMs=performance.now(),o.errors.push(r),o.details=e.details,i[e.urlId]=o}}function Mkr(n,e,r){if(performance.now()-n.lastErrorPerfMs>Lkr)return!0;const i=n.details;if(e.details===Ze.FRAG_GAP&&i&&e.frag){const o=e.frag.start,s=_I(null,i.fragments,o);if(s&&!s.gap)return!0}if(r&&n.errors.length<r.errors.length){const o=n.errors[n.errors.length-1];if(i&&o.frag&&e.frag&&Math.abs(o.frag.start-e.frag.start)>i.targetduration*3)return!0}return!1}class yae{constructor(e,r){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=je.log.bind(je,`${r}:`),this.warn=je.warn.bind(je,`${r}:`),this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){clearTimeout(this.timer),this.timer=-1}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,r){const i=r==null?void 0:r.renditionReports;if(i){let o=-1;for(let s=0;s<i.length;s++){const a=i[s];let l;try{l=new self.URL(a.URI,r.url).href}catch(c){je.warn(`Could not construct new URL for Rendition Report: ${c}`),l=a.URI||""}if(l===e){o=s;break}else l===e.substring(0,l.length)&&(o=s)}if(o!==-1){const s=i[o],a=parseInt(s["LAST-MSN"])||(r==null?void 0:r.lastPartSn);let l=parseInt(s["LAST-PART"])||(r==null?void 0:r.lastPartIndex);if(this.hls.config.lowLatencyMode){const c=Math.min(r.age-r.partTarget,r.targetduration);l>=0&&c>r.partTarget&&(l+=1)}return new h3e(a,l>=0?l:void 0,XA.No)}}}loadPlaylist(e){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}shouldReloadPlaylist(e){return this.timer===-1&&this.requestScheduled===-1&&this.shouldLoadPlaylist(e)}playlistLoaded(e,r,i){const{details:o,stats:s}=r,a=self.performance.now(),l=s.loading.first?Math.max(0,a-s.loading.first):0;if(o.advancedDateTime=Date.now()-l,o.live||i!=null&&i.live){if(o.reloaded(i),i&&this.log(`live playlist ${e} ${o.advanced?"REFRESHED "+o.lastPartSn+"-"+o.lastPartIndex:o.updated?"UPDATED":"MISSED"}`),i&&o.fragments.length>0&&Skr(i,o),!this.canLoad||!o.live)return;let c,u,f;if(o.canBlockReload&&o.endSN&&o.advanced){const b=this.hls.config.lowLatencyMode,x=o.lastPartSn,_=o.endSN,w=o.lastPartIndex,C=w!==-1,S=x===_,T=b?0:w;C?(u=S?_+1:x,f=S?T:w+1):u=_+1;const A=o.age,I=A+o.ageHeader;let D=Math.min(I-o.partTarget,o.targetduration*1.5);if(D>0){if(i&&D>i.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${i.tuneInGoal} to: ${D} with playlist age: ${o.age}`),D=0;else{const R=Math.floor(D/o.targetduration);if(u+=R,f!==void 0){const P=Math.round(D%o.targetduration/o.partTarget);f+=P}this.log(`CDN Tune-in age: ${o.ageHeader}s last advanced ${A.toFixed(2)}s goal: ${D} skip sn ${R} to part ${f}`)}o.tuneInGoal=D}if(c=this.getDeliveryDirectives(o,r.deliveryDirectives,u,f),b||!S){this.loadPlaylist(c);return}}else(o.canBlockReload||o.canSkipUntil)&&(c=this.getDeliveryDirectives(o,r.deliveryDirectives,u,f));const h=this.hls.mainForwardBufferInfo,m=h?h.end-h.len:0,g=(o.edge-m)*1e3,v=Ikr(o,g);o.updated&&a>this.requestScheduled+v&&(this.requestScheduled=s.loading.start),u!==void 0&&o.canBlockReload?this.requestScheduled=s.loading.first+v-(o.partTarget*1e3||1e3):this.requestScheduled===-1||this.requestScheduled+v<a?this.requestScheduled=a:this.requestScheduled-a<=0&&(this.requestScheduled+=v);let y=this.requestScheduled-a;y=Math.max(0,y),this.log(`reload live playlist ${e} in ${Math.round(y)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(c),y)}else this.clearTimer()}getDeliveryDirectives(e,r,i,o){let s=Ckr(e,i);return r!=null&&r.skip&&e.deltaUpdateFailed&&(i=r.msn,o=r.part,s=XA.No),new h3e(i,o,s)}checkRetry(e){const r=e.details,i=I4(e),o=e.errorAction,{action:s,retryCount:a=0,retryConfig:l}=o||{},c=!!o&&!!l&&(s===Nl.RetryRequest||!o.resolved&&s===Nl.SendAlternateToPenaltyBox);if(c){var u;if(this.requestScheduled=-1,a>=l.maxNumRetry)return!1;if(i&&(u=e.context)!=null&&u.deliveryDirectives)this.warn(`Retrying playlist loading ${a+1}/${l.maxNumRetry} after "${r}" without delivery-directives`),this.loadPlaylist();else{const f=vae(l,a);this.timer=self.setTimeout(()=>this.loadPlaylist(),f),this.warn(`Retrying playlist loading ${a+1}/${l.maxNumRetry} after "${r}" in ${f}ms`)}e.levelRetry=!0,o.resolved=!0}return c}}let rW;class Fkr extends yae{constructor(e,r){super(e,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=r,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ie.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(ie.LEVEL_LOADED,this.onLevelLoaded,this),e.on(ie.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(ie.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(ie.FRAG_LOADED,this.onFragLoaded,this),e.on(ie.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ie.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(ie.LEVEL_LOADED,this.onLevelLoaded,this),e.off(ie.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(ie.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(ie.FRAG_LOADED,this.onFragLoaded,this),e.off(ie.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}startLoad(){this._levels.forEach(r=>{r.loadError=0,r.fragmentError=0}),super.startLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[]}onManifestLoading(e,r){this.resetLevels()}onManifestLoaded(e,r){const i=[],o={};let s;r.levels.forEach(a=>{var l;const c=a.attrs;((l=a.audioCodec)==null?void 0:l.indexOf("mp4a.40.34"))!==-1&&(rW||(rW=/chrome|firefox/i.test(navigator.userAgent)),rW&&(a.audioCodec=void 0));const{AUDIO:u,CODECS:f,"FRAME-RATE":h,"PATHWAY-ID":m,RESOLUTION:g,SUBTITLES:v}=c,b=`${`${m||"."}-`}${a.bitrate}-${g}-${h}-${f}`;s=o[b],s?s.addFallback(a):(s=new wI(a),o[b]=s,i.push(s)),R4(s,"audio",u),R4(s,"text",v)}),this.filterAndSortMediaOptions(i,r)}filterAndSortMediaOptions(e,r){let i=[],o=[],s=!1,a=!1,l=!1,c=e.filter(({audioCodec:g,videoCodec:v,width:y,height:b,unknownCodecs:x})=>(s||(s=!!(y&&b)),a||(a=!!v),l||(l=!!g),!(x!=null&&x.length)&&(!g||JH(g,"audio"))&&(!v||JH(v,"video"))));if((s||a)&&l&&(c=c.filter(({videoCodec:g,width:v,height:y})=>!!g||!!(v&&y))),c.length===0){Promise.resolve().then(()=>{if(this.hls){const g=new Error("no level with compatible codecs found in manifest");this.hls.trigger(ie.ERROR,{type:Ln.MEDIA_ERROR,details:Ze.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:r.url,error:g,reason:g.message})}});return}r.audioTracks&&(i=r.audioTracks.filter(g=>!g.audioCodec||JH(g.audioCodec,"audio")),v3e(i)),r.subtitles&&(o=r.subtitles,v3e(o));const u=c.slice(0);c.sort((g,v)=>g.attrs["HDCP-LEVEL"]!==v.attrs["HDCP-LEVEL"]?(g.attrs["HDCP-LEVEL"]||"")>(v.attrs["HDCP-LEVEL"]||"")?1:-1:g.bitrate!==v.bitrate?g.bitrate-v.bitrate:g.attrs["FRAME-RATE"]!==v.attrs["FRAME-RATE"]?g.attrs.decimalFloatingPoint("FRAME-RATE")-v.attrs.decimalFloatingPoint("FRAME-RATE"):g.attrs.SCORE!==v.attrs.SCORE?g.attrs.decimalFloatingPoint("SCORE")-v.attrs.decimalFloatingPoint("SCORE"):s&&g.height!==v.height?g.height-v.height:0);let f=u[0];if(this.steering&&(c=this.steering.filterParsedLevels(c),c.length!==u.length)){for(let g=0;g<u.length;g++)if(u[g].pathwayId===c[0].pathwayId){f=u[g];break}}this._levels=c;for(let g=0;g<c.length;g++)if(c[g]===f){this._firstLevel=g,this.log(`manifest loaded, ${c.length} level(s) found, first bitrate: ${f.bitrate}`);break}const h=l&&!a,m={levels:c,audioTracks:i,subtitleTracks:o,sessionData:r.sessionData,sessionKeys:r.sessionKeys,firstLevel:this._firstLevel,stats:r.stats,audio:l,video:a,altAudio:!h&&i.some(g=>!!g.url)};this.hls.trigger(ie.MANIFEST_PARSED,m),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return this._levels.length===0?null:this._levels}get level(){return this.currentLevelIndex}set level(e){const r=this._levels;if(r.length===0)return;if(e<0||e>=r.length){const f=new Error("invalid level idx"),h=e<0;if(this.hls.trigger(ie.ERROR,{type:Ln.OTHER_ERROR,details:Ze.LEVEL_SWITCH_ERROR,level:e,fatal:h,error:f,reason:f.message}),h)return;e=Math.min(e,r.length-1)}const i=this.currentLevelIndex,o=this.currentLevel,s=o?o.attrs["PATHWAY-ID"]:void 0,a=r[e],l=a.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=a,i===e&&a.details&&o&&s===l)return;this.log(`Switching to level ${e}${l?" with Pathway "+l:""} from level ${i}${s?" with Pathway "+s:""}`);const c=Oa({},a,{level:e,maxBitrate:a.maxBitrate,attrs:a.attrs,uri:a.uri,urlId:a.urlId});delete c._attrs,delete c._urlId,this.hls.trigger(ie.LEVEL_SWITCHING,c);const u=a.details;if(!u||u.live){const f=this.switchParams(a.uri,o==null?void 0:o.details);this.loadPlaylist(f)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this._firstLevel}else return this._startLevel}set startLevel(e){this._startLevel=e}onError(e,r){r.fatal||!r.context||r.context.type===pi.LEVEL&&r.context.level===this.level&&this.checkRetry(r)}onFragLoaded(e,{frag:r}){if(r!==void 0&&r.type===Nn.MAIN){const i=this._levels[r.level];i!==void 0&&(i.loadError=0)}}onLevelLoaded(e,r){var i;const{level:o,details:s}=r,a=this._levels[o];if(!a){var l;this.warn(`Invalid level index ${o}`),(l=r.deliveryDirectives)!=null&&l.skip&&(s.deltaUpdateFailed=!0);return}o===this.currentLevelIndex?(a.fragmentError===0&&(a.loadError=0),this.playlistLoaded(o,r,a.details)):(i=r.deliveryDirectives)!=null&&i.skip&&(s.deltaUpdateFailed=!0)}onAudioTrackSwitched(e,r){const i=this.currentLevel;if(!i)return;const o=this.hls.audioTracks[r.id].groupId;if(i.audioGroupIds&&i.audioGroupId!==o){let s=-1;for(let a=0;a<i.audioGroupIds.length;a++)if(i.audioGroupIds[a]===o){s=a;break}s!==-1&&s!==i.urlId&&(i.urlId=s,this.canLoad&&this.startLoad())}}loadPlaylist(e){super.loadPlaylist();const r=this.currentLevelIndex,i=this.currentLevel;if(i&&this.shouldLoadPlaylist(i)){const o=i.urlId;let s=i.uri;if(e)try{s=e.addDirectives(s)}catch(l){this.warn(`Could not construct new URL with HLS Delivery Directives: ${l}`)}const a=i.attrs["PATHWAY-ID"];this.log(`Loading level index ${r}${(e==null?void 0:e.msn)!==void 0?" at sn "+e.msn+" part "+e.part:""} with${a?" Pathway "+a:""} URI ${o+1}/${i.url.length} ${s}`),this.clearTimer(),this.hls.trigger(ie.LEVEL_LOADING,{url:s,level:r,id:o,deliveryDirectives:e||null})}}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e,r){const i=(s,a)=>a!==r,o=this._levels.filter((s,a)=>a!==e?!0:s.url.length>1&&r!==void 0?(s.url=s.url.filter(i),s.audioGroupIds&&(s.audioGroupIds=s.audioGroupIds.filter(i)),s.textGroupIds&&(s.textGroupIds=s.textGroupIds.filter(i)),s.urlId=0,!0):(this.steering&&this.steering.removeLevel(s),!1));this.hls.trigger(ie.LEVELS_UPDATED,{levels:o})}onLevelsUpdated(e,{levels:r}){r.forEach((i,o)=>{const{details:s}=i;s!=null&&s.fragments&&s.fragments.forEach(a=>{a.level=o})}),this._levels=r}}function R4(n,e,r){r&&(e==="audio"?(n.audioGroupIds||(n.audioGroupIds=[]),n.audioGroupIds[n.url.length-1]=r):e==="text"&&(n.textGroupIds||(n.textGroupIds=[]),n.textGroupIds[n.url.length-1]=r))}function v3e(n){const e={};n.forEach(r=>{const i=r.groupId||"";r.id=e[i]=e[i]||0,e[i]++})}var Wa={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class Nkr{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(ie.BUFFER_APPENDED,this.onBufferAppended,this),e.on(ie.FRAG_BUFFERED,this.onFragBuffered,this),e.on(ie.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off(ie.BUFFER_APPENDED,this.onBufferAppended,this),e.off(ie.FRAG_BUFFERED,this.onFragBuffered,this),e.off(ie.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,r){const i=this.activePartLists[r];if(i)for(let o=i.length;o--;){const s=i[o];if(!s)break;const a=s.end;if(s.start<=e&&a!==null&&e<=a)return s}return this.getBufferedFrag(e,r)}getBufferedFrag(e,r){const{fragments:i}=this,o=Object.keys(i);for(let s=o.length;s--;){const a=i[o[s]];if((a==null?void 0:a.body.type)===r&&a.buffered){const l=a.body;if(l.start<=e&&e<=l.end)return l}}return null}detectEvictedFragments(e,r,i,o){this.timeRanges&&(this.timeRanges[e]=r);const s=(o==null?void 0:o.fragment.sn)||-1;Object.keys(this.fragments).forEach(a=>{const l=this.fragments[a];if(!l||s>=l.body.sn)return;if(!l.buffered&&!l.loaded){l.body.type===i&&this.removeFragment(l.body);return}const c=l.range[e];c&&c.time.some(u=>{const f=!this.isTimeBuffered(u.startPTS,u.endPTS,r);return f&&this.removeFragment(l.body),f})})}detectPartialFragments(e){const r=this.timeRanges,{frag:i,part:o}=e;if(!r||i.sn==="initSegment")return;const s=h_(i),a=this.fragments[s];if(!a||a.buffered&&i.gap)return;const l=!i.relurl;Object.keys(r).forEach(c=>{const u=i.elementaryStreams[c];if(!u)return;const f=r[c],h=l||u.partial===!0;a.range[c]=this.getBufferedTimes(i,o,h,f)}),a.loaded=null,Object.keys(a.range).length?(a.buffered=!0,(a.body.endList=i.endList||a.body.endList)&&(this.endListFragments[a.body.type]=a),Tj(a)||this.removeParts(i.sn-1,i.type)):this.removeFragment(a.body)}removeParts(e,r){const i=this.activePartLists[r];i&&(this.activePartLists[r]=i.filter(o=>o.fragment.sn>=e))}fragBuffered(e,r){const i=h_(e);let o=this.fragments[i];!o&&r&&(o=this.fragments[i]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),o&&(o.loaded=null,o.buffered=!0)}getBufferedTimes(e,r,i,o){const s={time:[],partial:i},a=e.start,l=e.end,c=e.minEndPTS||l,u=e.maxStartPTS||a;for(let f=0;f<o.length;f++){const h=o.start(f)-this.bufferPadding,m=o.end(f)+this.bufferPadding;if(u>=h&&c<=m){s.time.push({startPTS:Math.max(a,o.start(f)),endPTS:Math.min(l,o.end(f))});break}else if(a<m&&l>h)s.partial=!0,s.time.push({startPTS:Math.max(a,o.start(f)),endPTS:Math.min(l,o.end(f))});else if(l<=h)break}return s}getPartialFragment(e){let r=null,i,o,s,a=0;const{bufferPadding:l,fragments:c}=this;return Object.keys(c).forEach(u=>{const f=c[u];f&&Tj(f)&&(o=f.body.start-l,s=f.body.end+l,e>=o&&e<=s&&(i=Math.min(e-o,s-e),a<=i&&(r=f.body,a=i)))}),r}isEndListAppended(e){const r=this.endListFragments[e];return r!==void 0&&(r.buffered||Tj(r))}getState(e){const r=h_(e),i=this.fragments[r];return i?i.buffered?Tj(i)?Wa.PARTIAL:Wa.OK:Wa.APPENDING:Wa.NOT_LOADED}isTimeBuffered(e,r,i){let o,s;for(let a=0;a<i.length;a++){if(o=i.start(a)-this.bufferPadding,s=i.end(a)+this.bufferPadding,e>=o&&r<=s)return!0;if(r<=o)return!1}return!1}onFragLoaded(e,r){const{frag:i,part:o}=r;if(i.sn==="initSegment"||i.bitrateTest)return;const s=o?null:r,a=h_(i);this.fragments[a]={body:i,appendedPTS:null,loaded:s,buffered:!1,range:Object.create(null)}}onBufferAppended(e,r){const{frag:i,part:o,timeRanges:s}=r;if(i.sn==="initSegment")return;const a=i.type;if(o){let l=this.activePartLists[a];l||(this.activePartLists[a]=l=[]),l.push(o)}this.timeRanges=s,Object.keys(s).forEach(l=>{const c=s[l];this.detectEvictedFragments(l,c,a,o)})}onFragBuffered(e,r){this.detectPartialFragments(r)}hasFragment(e){const r=h_(e);return!!this.fragments[r]}hasParts(e){var r;return!!((r=this.activePartLists[e])!=null&&r.length)}removeFragmentsInRange(e,r,i,o,s){o&&!this.hasGaps||Object.keys(this.fragments).forEach(a=>{const l=this.fragments[a];if(!l)return;const c=l.body;c.type!==i||o&&!c.gap||c.start<r&&c.end>e&&(l.buffered||s)&&this.removeFragment(c)})}removeFragment(e){const r=h_(e);e.stats.loaded=0,e.clearElementaryStreamInfo();const i=this.activePartLists[e.type];if(i){const o=e.sn;this.activePartLists[e.type]=i.filter(s=>s.fragment.sn!==o)}delete this.fragments[r],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function Tj(n){var e,r,i;return n.buffered&&(n.body.gap||((e=n.range.video)==null?void 0:e.partial)||((r=n.range.audio)==null?void 0:r.partial)||((i=n.range.audiovideo)==null?void 0:i.partial))}function h_(n){return`${n.type}_${n.level}_${n.urlId}_${n.sn}`}const y3e=Math.pow(2,17);class Bkr{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,r){const i=e.url;if(!i)return Promise.reject(new Ym({type:Ln.NETWORK_ERROR,details:Ze.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${i?"part list":"url"}`),networkDetails:null}));this.abort();const o=this.config,s=o.fLoader,a=o.loader;return new Promise((l,c)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(g=>g[0]==="GAP")){c(x3e(e));return}else e.gap=!1;const u=this.loader=e.loader=s?new s(o):new a(o),f=b3e(e),h=g3e(o.fragLoadPolicy.default),m={loadPolicy:h,timeout:h.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:y3e};e.stats=u.stats,u.load(f,m,{onSuccess:(g,v,y,b)=>{this.resetLoader(e,u);let x=g.data;y.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(x.slice(0,16)),x=x.slice(16)),l({frag:e,part:null,payload:x,networkDetails:b})},onError:(g,v,y,b)=>{this.resetLoader(e,u),c(new Ym({type:Ln.NETWORK_ERROR,details:Ze.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:Ac({url:i,data:void 0},g),error:new Error(`HTTP Error ${g.code} ${g.text}`),networkDetails:y,stats:b}))},onAbort:(g,v,y)=>{this.resetLoader(e,u),c(new Ym({type:Ln.NETWORK_ERROR,details:Ze.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:y,stats:g}))},onTimeout:(g,v,y)=>{this.resetLoader(e,u),c(new Ym({type:Ln.NETWORK_ERROR,details:Ze.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${m.timeout}ms`),networkDetails:y,stats:g}))},onProgress:(g,v,y,b)=>{r&&r({frag:e,part:null,payload:y,networkDetails:b})}})})}loadPart(e,r,i){this.abort();const o=this.config,s=o.fLoader,a=o.loader;return new Promise((l,c)=>{if(this.loader&&this.loader.destroy(),e.gap||r.gap){c(x3e(e,r));return}const u=this.loader=e.loader=s?new s(o):new a(o),f=b3e(e,r),h=g3e(o.fragLoadPolicy.default),m={loadPolicy:h,timeout:h.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:y3e};r.stats=u.stats,u.load(f,m,{onSuccess:(g,v,y,b)=>{this.resetLoader(e,u),this.updateStatsFromPart(e,r);const x={frag:e,part:r,payload:g.data,networkDetails:b};i(x),l(x)},onError:(g,v,y,b)=>{this.resetLoader(e,u),c(new Ym({type:Ln.NETWORK_ERROR,details:Ze.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:r,response:Ac({url:f.url,data:void 0},g),error:new Error(`HTTP Error ${g.code} ${g.text}`),networkDetails:y,stats:b}))},onAbort:(g,v,y)=>{e.stats.aborted=r.stats.aborted,this.resetLoader(e,u),c(new Ym({type:Ln.NETWORK_ERROR,details:Ze.INTERNAL_ABORTED,fatal:!1,frag:e,part:r,error:new Error("Aborted"),networkDetails:y,stats:g}))},onTimeout:(g,v,y)=>{this.resetLoader(e,u),c(new Ym({type:Ln.NETWORK_ERROR,details:Ze.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:r,error:new Error(`Timeout after ${m.timeout}ms`),networkDetails:y,stats:g}))}})})}updateStatsFromPart(e,r){const i=e.stats,o=r.stats,s=o.total;if(i.loaded+=o.loaded,s){const c=Math.round(e.duration/r.duration),u=Math.min(Math.round(i.loaded/s),c),h=(c-u)*Math.round(i.loaded/u);i.total=i.loaded+h}else i.total=Math.max(i.loaded,i.total);const a=i.loading,l=o.loading;a.start?a.first+=l.first-l.start:(a.start=l.start,a.first=l.first),a.end=l.end}resetLoader(e,r){e.loader=null,this.loader===r&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),r.destroy()}}function b3e(n,e=null){const r=e||n,i={frag:n,part:e,responseType:"arraybuffer",url:r.url,headers:{},rangeStart:0,rangeEnd:0},o=r.byteRangeStartOffset,s=r.byteRangeEndOffset;if(wn(o)&&wn(s)){var a;let l=o,c=s;if(n.sn==="initSegment"&&((a=n.decryptdata)==null?void 0:a.method)==="AES-128"){const u=s-o;u%16&&(c=s+(16-u%16)),o!==0&&(i.resetIV=!0,l=o-16)}i.rangeStart=l,i.rangeEnd=c}return i}function x3e(n,e){const r=new Error(`GAP ${n.gap?"tag":"attribute"} found`),i={type:Ln.MEDIA_ERROR,details:Ze.FRAG_GAP,fatal:!1,frag:n,error:r,networkDetails:null};return e&&(i.part=e),(e||n).stats.aborted=!0,new Ym(i)}class Ym extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class Ukr{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const r in this.keyUriToKeyInfo){const i=this.keyUriToKeyInfo[r].loader;if(i){if(e&&e!==i.context.frag.type)return;i.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const r=this.keyUriToKeyInfo[e];(r.mediaKeySessionContext||r.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const r=this.keyUriToKeyInfo[e].loader;r&&r.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,r=Ze.KEY_LOAD_ERROR,i,o,s){return new Ym({type:Ln.NETWORK_ERROR,details:r,fatal:!1,frag:e,response:s,error:i,networkDetails:o})}loadClear(e,r){if(this.emeController&&this.config.emeEnabled){const{sn:i,cc:o}=e;for(let s=0;s<r.length;s++){const a=r[s];if(o<=a.cc&&(i==="initSegment"||a.sn==="initSegment"||i<a.sn)){this.emeController.selectKeySystemFormat(a).then(l=>{a.setKeyFormat(l)});break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(e).then(r=>this.loadInternal(e,r)):this.loadInternal(e)}loadInternal(e,r){var i,o;r&&e.setKeyFormat(r);const s=e.decryptdata;if(!s){const u=new Error(r?`Expected frag.decryptdata to be defined after setting format ${r}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,Ze.KEY_LOAD_ERROR,u))}const a=s.uri;if(!a)return Promise.reject(this.createKeyLoadError(e,Ze.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${a}"`)));let l=this.keyUriToKeyInfo[a];if((i=l)!=null&&i.decryptdata.key)return s.key=l.decryptdata.key,Promise.resolve({frag:e,keyInfo:l});if((o=l)!=null&&o.keyLoadPromise){var c;switch((c=l.mediaKeySessionContext)==null?void 0:c.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return l.keyLoadPromise.then(u=>(s.key=u.keyInfo.decryptdata.key,{frag:e,keyInfo:l}))}}switch(l=this.keyUriToKeyInfo[a]={decryptdata:s,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},s.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return s.keyFormat==="identity"?this.loadKeyHTTP(l,e):this.loadKeyEME(l,e);case"AES-128":return this.loadKeyHTTP(l,e);default:return Promise.reject(this.createKeyLoadError(e,Ze.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${s.method}"`)))}}loadKeyEME(e,r){const i={frag:r,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const o=this.emeController.loadKey(i);if(o)return(e.keyLoadPromise=o.then(s=>(e.mediaKeySessionContext=s,i))).catch(s=>{throw e.keyLoadPromise=null,s})}return Promise.resolve(i)}loadKeyHTTP(e,r){const i=this.config,o=i.loader,s=new o(i);return r.keyLoader=e.loader=s,e.keyLoadPromise=new Promise((a,l)=>{const c={keyInfo:e,frag:r,responseType:"arraybuffer",url:e.decryptdata.uri},u=i.keyLoadPolicy.default,f={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},h={onSuccess:(m,g,v,y)=>{const{frag:b,keyInfo:x,url:_}=v;if(!b.decryptdata||x!==this.keyUriToKeyInfo[_])return l(this.createKeyLoadError(b,Ze.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),y));x.decryptdata.key=b.decryptdata.key=new Uint8Array(m.data),b.keyLoader=null,x.loader=null,a({frag:b,keyInfo:x})},onError:(m,g,v,y)=>{this.resetLoader(g),l(this.createKeyLoadError(r,Ze.KEY_LOAD_ERROR,new Error(`HTTP Error ${m.code} loading key ${m.text}`),v,Ac({url:c.url,data:void 0},m)))},onTimeout:(m,g,v)=>{this.resetLoader(g),l(this.createKeyLoadError(r,Ze.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),v))},onAbort:(m,g,v)=>{this.resetLoader(g),l(this.createKeyLoadError(r,Ze.INTERNAL_ABORTED,new Error("key loading aborted"),v))}};s.load(c,f,h)})}resetLoader(e){const{frag:r,keyInfo:i,url:o}=e,s=i.loader;r.keyLoader===s&&(r.keyLoader=null,i.loader=null),delete this.keyUriToKeyInfo[o],s&&s.destroy()}}class zkr{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}const Vkr={length:0,start:()=>0,end:()=>0};class Uo{static isBuffered(e,r){try{if(e){const i=Uo.getBuffered(e);for(let o=0;o<i.length;o++)if(r>=i.start(o)&&r<=i.end(o))return!0}}catch{}return!1}static bufferInfo(e,r,i){try{if(e){const o=Uo.getBuffered(e),s=[];let a;for(a=0;a<o.length;a++)s.push({start:o.start(a),end:o.end(a)});return this.bufferedInfo(s,r,i)}}catch{}return{len:0,start:r,end:r,nextStart:void 0}}static bufferedInfo(e,r,i){r=Math.max(0,r),e.sort(function(u,f){const h=u.start-f.start;return h||f.end-u.end});let o=[];if(i)for(let u=0;u<e.length;u++){const f=o.length;if(f){const h=o[f-1].end;e[u].start-h<i?e[u].end>h&&(o[f-1].end=e[u].end):o.push(e[u])}else o.push(e[u])}else o=e;let s=0,a,l=r,c=r;for(let u=0;u<o.length;u++){const f=o[u].start,h=o[u].end;if(r+i>=f&&r<h)l=f,c=h,s=c-r;else if(r+i<f){a=f;break}}return{len:s,start:l||0,end:c||0,nextStart:a}}static getBuffered(e){try{return e.buffered}catch(r){return je.log("failed to get media.buffered",r),Vkr}}}class bae{constructor(e,r,i,o=0,s=-1,a=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=Aj(),this.buffering={audio:Aj(),video:Aj(),audiovideo:Aj()},this.level=e,this.sn=r,this.id=i,this.size=o,this.part=s,this.partial=a}}function Aj(){return{start:0,executeStart:0,executeEnd:0,end:0}}function wlt(n,e){let r=null;for(let i=0,o=n.length;i<o;i++){const s=n[i];if(s&&s.cc===e){r=s;break}}return r}function Hkr(n,e,r){return!!(e.details&&(r.endCC>r.startCC||n&&n.cc<r.startCC))}function Wkr(n,e,r=0){const i=n.fragments,o=e.fragments;if(!o.length||!i.length){je.log("No fragments to align");return}const s=wlt(i,o[0].cc);if(!s||s&&!s.startPTS){je.log("No frag in previous level to align on");return}return s}function w3e(n,e){if(n){const r=n.start+e;n.start=n.startPTS=r,n.endPTS=r+n.duration}}function xae(n,e){const r=e.fragments;for(let i=0,o=r.length;i<o;i++)w3e(r[i],n);e.fragmentHint&&w3e(e.fragmentHint,n),e.alignedSliding=!0}function Gkr(n,e,r){e&&(qkr(n,r,e),!r.alignedSliding&&e.details&&Kkr(r,e.details),!r.alignedSliding&&e.details&&!r.skippedSegments&&ylt(e.details,r))}function qkr(n,e,r){if(Hkr(n,r,e)){const i=Wkr(r.details,e);i&&wn(i.start)&&(je.log(`Adjusting PTS using last level due to CC increase within current level ${e.url}`),xae(i.start,e))}}function Kkr(n,e){if(!e.fragments.length||!n.hasProgramDateTime||!e.hasProgramDateTime)return;const r=e.fragments[0].programDateTime,i=n.fragments[0].programDateTime,o=(i-r)/1e3+e.fragments[0].start;o&&wn(o)&&(je.log(`Adjusting PTS using programDateTime delta ${i-r}ms, sliding:${o.toFixed(3)} ${n.url} `),xae(o,n))}function _lt(n,e){if(!n.hasProgramDateTime||!e.hasProgramDateTime)return;const r=n.fragments,i=e.fragments;if(!r.length||!i.length)return;const o=Math.round(i.length/2)-1,s=i[o],a=wlt(r,s.cc)||r[Math.round(r.length/2)-1],l=s.programDateTime,c=a.programDateTime;if(l===null||c===null)return;const u=(c-l)/1e3-(a.start-s.start);xae(u,n)}class Ykr{constructor(e,r){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=r}decrypt(e,r){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},r,e)}}class Zkr{constructor(e,r){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=r}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}function Xkr(n){const e=n.byteLength,r=e&&new DataView(n.buffer).getUint8(e-1);return r?ux(n,0,e-r):n}class Qkr{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const r=new DataView(e),i=new Uint32Array(4);for(let o=0;o<4;o++)i[o]=r.getUint32(o*4);return i}initTable(){const e=this.sBox,r=this.invSBox,i=this.subMix,o=i[0],s=i[1],a=i[2],l=i[3],c=this.invSubMix,u=c[0],f=c[1],h=c[2],m=c[3],g=new Uint32Array(256);let v=0,y=0,b=0;for(b=0;b<256;b++)b<128?g[b]=b<<1:g[b]=b<<1^283;for(b=0;b<256;b++){let x=y^y<<1^y<<2^y<<3^y<<4;x=x>>>8^x&255^99,e[v]=x,r[x]=v;const _=g[v],w=g[_],C=g[w];let S=g[x]*257^x*16843008;o[v]=S<<24|S>>>8,s[v]=S<<16|S>>>16,a[v]=S<<8|S>>>24,l[v]=S,S=C*16843009^w*65537^_*257^v*16843008,u[x]=S<<24|S>>>8,f[x]=S<<16|S>>>16,h[x]=S<<8|S>>>24,m[x]=S,v?(v=_^g[g[g[C^_]]],y^=g[g[y]]):v=y=1}}expandKey(e){const r=this.uint8ArrayToUint32Array_(e);let i=!0,o=0;for(;o<r.length&&i;)i=r[o]===this.key[o],o++;if(i)return;this.key=r;const s=this.keySize=r.length;if(s!==4&&s!==6&&s!==8)throw new Error("Invalid aes key size="+s);const a=this.ksRows=(s+6+1)*4;let l,c;const u=this.keySchedule=new Uint32Array(a),f=this.invKeySchedule=new Uint32Array(a),h=this.sBox,m=this.rcon,g=this.invSubMix,v=g[0],y=g[1],b=g[2],x=g[3];let _,w;for(l=0;l<a;l++){if(l<s){_=u[l]=r[l];continue}w=_,l%s===0?(w=w<<8|w>>>24,w=h[w>>>24]<<24|h[w>>>16&255]<<16|h[w>>>8&255]<<8|h[w&255],w^=m[l/s|0]<<24):s>6&&l%s===4&&(w=h[w>>>24]<<24|h[w>>>16&255]<<16|h[w>>>8&255]<<8|h[w&255]),u[l]=_=(u[l-s]^w)>>>0}for(c=0;c<a;c++)l=a-c,c&3?w=u[l]:w=u[l-4],c<4||l<=4?f[c]=w:f[c]=v[h[w>>>24]]^y[h[w>>>16&255]]^b[h[w>>>8&255]]^x[h[w&255]],f[c]=f[c]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,r,i){const o=this.keySize+6,s=this.invKeySchedule,a=this.invSBox,l=this.invSubMix,c=l[0],u=l[1],f=l[2],h=l[3],m=this.uint8ArrayToUint32Array_(i);let g=m[0],v=m[1],y=m[2],b=m[3];const x=new Int32Array(e),_=new Int32Array(x.length);let w,C,S,T,A,I,D,R,P,O,$,L,M,N;const z=this.networkToHostOrderSwap;for(;r<x.length;){for(P=z(x[r]),O=z(x[r+1]),$=z(x[r+2]),L=z(x[r+3]),A=P^s[0],I=L^s[1],D=$^s[2],R=O^s[3],M=4,N=1;N<o;N++)w=c[A>>>24]^u[I>>16&255]^f[D>>8&255]^h[R&255]^s[M],C=c[I>>>24]^u[D>>16&255]^f[R>>8&255]^h[A&255]^s[M+1],S=c[D>>>24]^u[R>>16&255]^f[A>>8&255]^h[I&255]^s[M+2],T=c[R>>>24]^u[A>>16&255]^f[I>>8&255]^h[D&255]^s[M+3],A=w,I=C,D=S,R=T,M=M+4;w=a[A>>>24]<<24^a[I>>16&255]<<16^a[D>>8&255]<<8^a[R&255]^s[M],C=a[I>>>24]<<24^a[D>>16&255]<<16^a[R>>8&255]<<8^a[A&255]^s[M+1],S=a[D>>>24]<<24^a[R>>16&255]<<16^a[A>>8&255]<<8^a[I&255]^s[M+2],T=a[R>>>24]<<24^a[A>>16&255]<<16^a[I>>8&255]<<8^a[D&255]^s[M+3],_[r]=z(w^g),_[r+1]=z(T^v),_[r+2]=z(S^y),_[r+3]=z(C^b),g=P,v=O,y=$,b=L,r=r+4}return _.buffer}}const Jkr=16;class wae{constructor(e,{removePKCS7Padding:r=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=r,r)try{const i=self.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch{}this.subtle===null&&(this.useSoftware=!0)}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:r}=this;if(!e||r)return this.reset(),null;const i=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?Xkr(i):i}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,r,i){return this.useSoftware?new Promise((o,s)=>{this.softwareDecrypt(new Uint8Array(e),r,i);const a=this.flush();a?o(a.buffer):s(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),r,i)}softwareDecrypt(e,r,i){const{currentIV:o,currentResult:s,remainderData:a}=this;this.logOnce("JS AES decrypt"),a&&(e=Ux(a,e),this.remainderData=null);const l=this.getValidChunk(e);if(!l.length)return null;o&&(i=o);let c=this.softwareDecrypter;c||(c=this.softwareDecrypter=new Qkr),c.expandKey(r);const u=s;return this.currentResult=c.decrypt(l.buffer,0,i),this.currentIV=ux(l,-16).buffer,u||null}webCryptoDecrypt(e,r,i){const o=this.subtle;return(this.key!==r||!this.fastAesKey)&&(this.key=r,this.fastAesKey=new Zkr(o,r)),this.fastAesKey.expandKey().then(s=>o?(this.logOnce("WebCrypto AES decrypt"),new Ykr(o,new Uint8Array(i)).decrypt(e.buffer,s)):Promise.reject(new Error("web crypto not initialized"))).catch(s=>(je.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${s.name}: ${s.message}`),this.onWebCryptoError(e,r,i)))}onWebCryptoError(e,r,i){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,r,i);const o=this.flush();if(o)return o.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(e){let r=e;const i=e.length-e.length%Jkr;return i!==e.length&&(r=ux(e,0,i),this.remainderData=ux(e,i)),r}logOnce(e){this.logEnabled&&(je.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const eTr={toString:function(n){let e="";const r=n.length;for(let i=0;i<r;i++)e+=`[${n.start(i).toFixed(3)}-${n.end(i).toFixed(3)}]`;return e}},dt={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class _ae extends zkr{constructor(e,r,i,o,s){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=dt.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=s,this.logPrefix=o,this.log=je.log.bind(je,`${o}:`),this.warn=je.warn.bind(je,`${o}:`),this.hls=e,this.fragmentLoader=new Bkr(e.config),this.keyLoader=i,this.fragmentTracker=r,this.config=e.config,this.decrypter=new wae(e.config),e.on(ie.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=dt.STOPPED}_streamEnded(e,r){if(r.live||e.nextStart||!e.end||!this.media)return!1;const i=r.partList;if(i!=null&&i.length){const s=i[i.length-1];return Uo.isBuffered(this.media,s.start+s.duration/2)}const o=r.fragments[r.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(o)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null){var e;return(e=this.levels[this.levelLastLoaded])==null?void 0:e.details}}onMediaAttached(e,r){const i=this.media=this.mediaBuffer=r.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),i.addEventListener("seeking",this.onvseeking),i.addEventListener("ended",this.onvended);const o=this.config;this.levels&&o.autoStartLoad&&this.state===dt.STOPPED&&this.startLoad(o.startPosition)}onMediaDetaching(){const e=this.media;e!=null&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:e,fragCurrent:r,media:i,mediaBuffer:o,state:s}=this,a=i?i.currentTime:0,l=Uo.bufferInfo(o||i,a,e.maxBufferHole);if(this.log(`media seeking to ${wn(a)?a.toFixed(3):a}, state: ${s}`),this.state===dt.ENDED)this.resetLoadingState();else if(r){const c=e.maxFragLookUpTolerance,u=r.start-c,f=r.start+r.duration+c;if(!l.len||f<l.start||u>l.end){const h=a>f;(a<u||h)&&(h&&r.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),r.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}i&&(this.fragmentTracker.removeFragmentsInRange(a,1/0,this.playlistType,!0),this.lastCurrentTime=a),!this.loadedmetadata&&!l.len&&(this.nextLoadPosition=this.startPosition=a),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(e,r){this.startTimeOffset=r.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.stopLoad(),super.onHandlerDestroying()}onHandlerDestroyed(){this.state=dt.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,r,i){this._loadFragForPlayback(e,r,i)}_loadFragForPlayback(e,r,i){const o=s=>{if(this.fragContextChanged(e)){this.warn(`Fragment ${e.sn}${s.part?" p: "+s.part.index:""} of level ${e.level} was dropped during download.`),this.fragmentTracker.removeFragment(e);return}e.stats.chunkCount++,this._handleFragmentLoadProgress(s)};this._doFragLoad(e,r,i,o).then(s=>{if(!s)return;const a=this.state;if(this.fragContextChanged(e)){(a===dt.FRAG_LOADING||!this.fragCurrent&&a===dt.PARSING)&&(this.fragmentTracker.removeFragment(e),this.state=dt.IDLE);return}"payload"in s&&(this.log(`Loaded fragment ${e.sn} of level ${e.level}`),this.hls.trigger(ie.FRAG_LOADED,s)),this._handleFragmentLoadComplete(s)}).catch(s=>{this.state===dt.STOPPED||this.state===dt.ERROR||(this.warn(s),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var r;const{fragmentTracker:i}=this;if(i.getState(e)===Wa.APPENDING){const s=e.type,a=this.getFwdBufferInfo(this.mediaBuffer,s),l=Math.max(e.duration,a?a.len:this.config.maxBufferLength);this.reduceMaxBufferLength(l)&&i.removeFragment(e)}else((r=this.mediaBuffer)==null?void 0:r.buffered.length)===0?i.removeAllFragments():i.hasParts(e.type)&&(i.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),i.getState(e)===Wa.PARTIAL&&i.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const r=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:r,part:null,stats:r.stats,id:r.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}flushMainBuffer(e,r,i=null){if(!(e-r))return;const o={startOffset:e,endOffset:r,type:i};this.hls.trigger(ie.BUFFER_FLUSHING,o)}_loadInitSegment(e,r){this._doFragLoad(e,r).then(i=>{if(!i||this.fragContextChanged(e)||!this.levels)throw new Error("init load aborted");return i}).then(i=>{const{hls:o}=this,{payload:s}=i,a=e.decryptdata;if(s&&s.byteLength>0&&a&&a.key&&a.iv&&a.method==="AES-128"){const l=self.performance.now();return this.decrypter.decrypt(new Uint8Array(s),a.key.buffer,a.iv.buffer).catch(c=>{throw o.trigger(ie.ERROR,{type:Ln.MEDIA_ERROR,details:Ze.FRAG_DECRYPT_ERROR,fatal:!1,error:c,reason:c.message,frag:e}),c}).then(c=>{const u=self.performance.now();return o.trigger(ie.FRAG_DECRYPTED,{frag:e,payload:c,stats:{tstart:l,tdecrypt:u}}),i.payload=c,i})}return i}).then(i=>{const{fragCurrent:o,hls:s,levels:a}=this;if(!a)throw new Error("init load aborted, missing levels");const l=e.stats;this.state=dt.IDLE,r.fragmentError=0,e.data=new Uint8Array(i.payload),l.parsing.start=l.buffering.start=self.performance.now(),l.parsing.end=l.buffering.end=self.performance.now(),i.frag===o&&s.trigger(ie.FRAG_BUFFERED,{stats:l,frag:o,part:null,id:e.type}),this.tick()}).catch(i=>{this.state===dt.STOPPED||this.state===dt.ERROR||(this.warn(i),this.resetFragmentLoading(e))})}fragContextChanged(e){const{fragCurrent:r}=this;return!e||!r||e.level!==r.level||e.sn!==r.sn||e.urlId!==r.urlId}fragBufferedComplete(e,r){var i,o,s,a;const l=this.mediaBuffer?this.mediaBuffer:this.media;this.log(`Buffered ${e.type} sn: ${e.sn}${r?" part: "+r.index:""} of ${this.playlistType===Nn.MAIN?"level":"track"} ${e.level} (frag:[${((i=e.startPTS)!=null?i:NaN).toFixed(3)}-${((o=e.endPTS)!=null?o:NaN).toFixed(3)}] > buffer:${l?eTr.toString(Uo.getBuffered(l)):"(detached)"})`),this.state=dt.IDLE,l&&(!this.loadedmetadata&&e.type==Nn.MAIN&&l.buffered.length&&((s=this.fragCurrent)==null?void 0:s.sn)===((a=this.fragPrevious)==null?void 0:a.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(e){const{transmuxer:r}=this;if(!r)return;const{frag:i,part:o,partsLoaded:s}=e,a=!s||s.length===0||s.some(c=>!c),l=new bae(i.level,i.sn,i.stats.chunkCount+1,0,o?o.index:-1,!a);r.flush(l)}_handleFragmentLoadProgress(e){}_doFragLoad(e,r,i=null,o){var s;const a=r==null?void 0:r.details;if(!this.levels||!a)throw new Error(`frag load aborted, missing level${a?"":" detail"}s`);let l=null;if(e.encrypted&&!((s=e.decryptdata)!=null&&s.key)?(this.log(`Loading key for ${e.sn} of [${a.startSN}-${a.endSN}], ${this.logPrefix==="[stream-controller]"?"level":"track"} ${e.level}`),this.state=dt.KEY_LOADING,this.fragCurrent=e,l=this.keyLoader.load(e).then(f=>{if(!this.fragContextChanged(f.frag))return this.hls.trigger(ie.KEY_LOADED,f),this.state===dt.KEY_LOADING&&(this.state=dt.IDLE),f}),this.hls.trigger(ie.KEY_LOADING,{frag:e}),this.fragCurrent===null&&(l=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):!e.encrypted&&a.encryptedFragments.length&&this.keyLoader.loadClear(e,a.encryptedFragments),i=Math.max(e.start,i||0),this.config.lowLatencyMode&&e.sn!=="initSegment"){const f=a.partList;if(f&&o){i>e.end&&a.fragmentHint&&(e=a.fragmentHint);const h=this.getNextPart(f,e,i);if(h>-1){const m=f[h];this.log(`Loading part sn: ${e.sn} p: ${m.index} cc: ${e.cc} of playlist [${a.startSN}-${a.endSN}] parts [0-${h}-${f.length-1}] ${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(i.toFixed(3))}`),this.nextLoadPosition=m.start+m.duration,this.state=dt.FRAG_LOADING;let g;return l?g=l.then(v=>!v||this.fragContextChanged(v.frag)?null:this.doFragPartsLoad(e,m,r,o)).catch(v=>this.handleFragLoadError(v)):g=this.doFragPartsLoad(e,m,r,o).catch(v=>this.handleFragLoadError(v)),this.hls.trigger(ie.FRAG_LOADING,{frag:e,part:m,targetBufferTime:i}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):g}else if(!e.url||this.loadedEndOfParts(f,i))return Promise.resolve(null)}}this.log(`Loading fragment ${e.sn} cc: ${e.cc} ${a?"of ["+a.startSN+"-"+a.endSN+"] ":""}${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(i.toFixed(3))}`),wn(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=dt.FRAG_LOADING;const c=this.config.progressive;let u;return c&&l?u=l.then(f=>!f||this.fragContextChanged(f==null?void 0:f.frag)?null:this.fragmentLoader.load(e,o)).catch(f=>this.handleFragLoadError(f)):u=Promise.all([this.fragmentLoader.load(e,c?o:void 0),l]).then(([f])=>(!c&&f&&o&&o(f),f)).catch(f=>this.handleFragLoadError(f)),this.hls.trigger(ie.FRAG_LOADING,{frag:e,targetBufferTime:i}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):u}doFragPartsLoad(e,r,i,o){return new Promise((s,a)=>{var l;const c=[],u=(l=i.details)==null?void 0:l.partList,f=h=>{this.fragmentLoader.loadPart(e,h,o).then(m=>{c[h.index]=m;const g=m.part;this.hls.trigger(ie.FRAG_LOADED,m);const v=p3e(i,e.sn,h.index+1)||blt(u,e.sn,h.index+1);if(v)f(v);else return s({frag:e,part:g,partsLoaded:c})}).catch(a)};f(r)})}handleFragLoadError(e){if("data"in e){const r=e.data;e.data&&r.details===Ze.INTERNAL_ABORTED?this.handleFragLoadAborted(r.frag,r.part):this.hls.trigger(ie.ERROR,r)}else this.hls.trigger(ie.ERROR,{type:Ln.OTHER_ERROR,details:Ze.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const r=this.getCurrentContext(e);if(!r||this.state!==dt.PARSING){!this.fragCurrent&&this.state!==dt.STOPPED&&this.state!==dt.ERROR&&(this.state=dt.IDLE);return}const{frag:i,part:o,level:s}=r,a=self.performance.now();i.stats.parsing.end=a,o&&(o.stats.parsing.end=a),this.updateLevelTiming(i,o,s,e.partial)}getCurrentContext(e){const{levels:r,fragCurrent:i}=this,{level:o,sn:s,part:a}=e;if(!(r!=null&&r[o]))return this.warn(`Levels object was unset while buffering fragment ${s} of level ${o}. The current chunk will not be buffered.`),null;const l=r[o],c=a>-1?p3e(l,s,a):null,u=c?c.fragment:Dkr(l,s,i);return u?(i&&i!==u&&(u.stats=i.stats),{frag:u,part:c,level:l}):null}bufferFragmentData(e,r,i,o,s){var a;if(!e||this.state!==dt.PARSING)return;const{data1:l,data2:c}=e;let u=l;if(l&&c&&(u=Ux(l,c)),!((a=u)!=null&&a.length))return;const f={type:e.type,frag:r,part:i,chunkMeta:o,parent:r.type,data:u};if(this.hls.trigger(ie.BUFFER_APPENDING,f),e.dropped&&e.independent&&!i){if(s)return;this.flushBufferGap(r)}}flushBufferGap(e){const r=this.media;if(!r)return;if(!Uo.isBuffered(r,r.currentTime)){this.flushMainBuffer(0,e.start);return}const i=r.currentTime,o=Uo.bufferInfo(r,i,0),s=e.duration,a=Math.min(this.config.maxFragLookUpTolerance*2,s*.25),l=Math.max(Math.min(e.start-a,o.end-a),i+a);e.start-l>a&&this.flushMainBuffer(l,e.start)}getFwdBufferInfo(e,r){const i=this.getLoadPosition();return wn(i)?this.getFwdBufferInfoAtPos(e,i,r):null}getFwdBufferInfoAtPos(e,r,i){const{config:{maxBufferHole:o}}=this,s=Uo.bufferInfo(e,r,o);if(s.len===0&&s.nextStart!==void 0){const a=this.fragmentTracker.getBufferedFrag(r,i);if(a&&s.nextStart<a.end)return Uo.bufferInfo(e,r,Math.max(s.nextStart,o))}return s}getMaxBufferLength(e){const{config:r}=this;let i;return e?i=Math.max(8*r.maxBufferSize/e,r.maxBufferLength):i=r.maxBufferLength,Math.min(i,r.maxMaxBufferLength)}reduceMaxBufferLength(e){const r=this.config,i=e||r.maxBufferLength;return r.maxMaxBufferLength>=i?(r.maxMaxBufferLength/=2,this.warn(`Reduce max buffer length to ${r.maxMaxBufferLength}s`),!0):!1}getAppendedFrag(e,r=Nn.MAIN){const i=this.fragmentTracker.getAppendedFrag(e,Nn.MAIN);return i&&"fragment"in i?i.fragment:i}getNextFragment(e,r){const i=r.fragments,o=i.length;if(!o)return null;const{config:s}=this,a=i[0].start;let l;if(r.live){const c=s.initialLiveManifestSize;if(o<c)return this.warn(`Not enough fragments to start playback (have: ${o}, need: ${c})`),null;!r.PTSKnown&&!this.startFragRequested&&this.startPosition===-1&&(l=this.getInitialLiveFragment(r,i),this.startPosition=l?this.hls.liveSyncPosition||l.start:e)}else e<=a&&(l=i[0]);if(!l){const c=s.lowLatencyMode?r.partEnd:r.fragmentEnd;l=this.getFragmentAtPosition(e,c,r)}return this.mapToInitFragWhenRequired(l)}isLoopLoading(e,r){const i=this.fragmentTracker.getState(e);return(i===Wa.OK||i===Wa.PARTIAL&&!!e.gap)&&this.nextLoadPosition>r}getNextFragmentLoopLoading(e,r,i,o,s){const a=e.gap,l=this.getNextFragment(this.nextLoadPosition,r);if(l===null)return l;if(e=l,a&&e&&!e.gap&&i.nextStart){const c=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,i.nextStart,o);if(c!==null&&i.len+c.len>=s)return this.log(`buffer full after gaps in "${o}" playlist starting at sn: ${e.sn}`),null}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!(e!=null&&e.initSegment.data)&&!this.bitrateTest?e.initSegment:e}getNextPart(e,r,i){let o=-1,s=!1,a=!0;for(let l=0,c=e.length;l<c;l++){const u=e[l];if(a=a&&!u.independent,o>-1&&i<u.start)break;const f=u.loaded;f?o=-1:(s||u.independent||a)&&u.fragment===r&&(o=l),s=f}return o}loadedEndOfParts(e,r){const i=e[e.length-1];return i&&r>i.start&&i.loaded}getInitialLiveFragment(e,r){const i=this.fragPrevious;let o=null;if(i){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${i.programDateTime}`),o=Okr(r,i.endProgramDateTime,this.config.maxFragLookUpTolerance)),!o){const s=i.sn+1;if(s>=e.startSN&&s<=e.endSN){const a=r[s-e.startSN];i.cc===a.cc&&(o=a,this.log(`Live playlist, switching playlist, load frag with next SN: ${o.sn}`))}o||(o=jkr(r,i.cc),o&&this.log(`Live playlist, switching playlist, load frag with same CC: ${o.sn}`))}}else{const s=this.hls.liveSyncPosition;s!==null&&(o=this.getFragmentAtPosition(s,this.bitrateTest?e.fragmentEnd:e.edge,e))}return o}getFragmentAtPosition(e,r,i){const{config:o}=this;let{fragPrevious:s}=this,{fragments:a,endSN:l}=i;const{fragmentHint:c}=i,u=o.maxFragLookUpTolerance,f=i.partList,h=!!(o.lowLatencyMode&&f!=null&&f.length&&c);h&&c&&!this.bitrateTest&&(a=a.concat(c),l=c.sn);let m;if(e<r){const g=e>r-u?0:u;m=_I(s,a,e,g)}else m=a[a.length-1];if(m){const g=m.sn-i.startSN,v=this.fragmentTracker.getState(m);if((v===Wa.OK||v===Wa.PARTIAL&&m.gap)&&(s=m),s&&m.sn===s.sn&&(!h||f[0].fragment.sn>m.sn)&&s&&m.level===s.level){const b=a[g+1];m.sn<l&&this.fragmentTracker.getState(b)!==Wa.OK?m=b:m=null}}return m}synchronizeToLiveEdge(e){const{config:r,media:i}=this;if(!i)return;const o=this.hls.liveSyncPosition,s=i.currentTime,a=e.fragments[0].start,l=e.edge,c=s>=a-r.maxFragLookUpTolerance&&s<=l;if(o!==null&&i.duration>o&&(s<o||!c)){const u=r.liveMaxLatencyDuration!==void 0?r.liveMaxLatencyDuration:r.liveMaxLatencyDurationCount*e.targetduration;(!c&&i.readyState<4||s<l-u)&&(this.loadedmetadata||(this.nextLoadPosition=o),i.readyState&&(this.warn(`Playback: ${s.toFixed(3)} is located too far from the end of live sliding playlist: ${l}, reset currentTime to : ${o.toFixed(3)}`),i.currentTime=o))}}alignPlaylists(e,r){const{levels:i,levelLastLoaded:o,fragPrevious:s}=this,a=o!==null?i[o]:null,l=e.fragments.length;if(!l)return this.warn("No fragments in live playlist"),0;const c=e.fragments[0].start,u=!r,f=e.alignedSliding&&wn(c);if(u||!f&&!c){Gkr(s,a,e);const h=e.fragments[0].start;return this.log(`Live playlist sliding: ${h.toFixed(2)} start-sn: ${r?r.startSN:"na"}->${e.startSN} prev-sn: ${s?s.sn:"na"} fragments: ${l}`),h}return c}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,r){let i=this.startPosition;if(i<r&&(i=-1),i===-1||this.lastCurrentTime===-1){const o=this.startTimeOffset!==null,s=o?this.startTimeOffset:e.startTimeOffset;s!==null&&wn(s)?(i=r+s,s<0&&(i+=e.totalduration),i=Math.min(Math.max(r,i),r+e.totalduration),this.log(`Start time offset ${s} found in ${o?"multivariant":"media"} playlist, adjust startPosition to ${i}`),this.startPosition=i):e.live?i=this.hls.liveSyncPosition||r:this.startPosition=i=0,this.lastCurrentTime=i}this.nextLoadPosition=i}getLoadPosition(){const{media:e}=this;let r=0;return this.loadedmetadata&&e?r=e.currentTime:this.nextLoadPosition&&(r=this.nextLoadPosition),r}handleFragLoadAborted(e,r){this.transmuxer&&e.sn!=="initSegment"&&e.stats.aborted&&(this.warn(`Fragment ${e.sn}${r?" part "+r.index:""} of level ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==dt.FRAG_LOADING_WAITING_RETRY)&&(this.state=dt.IDLE)}onFragmentOrKeyLoadError(e,r){if(r.chunkMeta&&!r.frag){const h=this.getCurrentContext(r.chunkMeta);h&&(r.frag=h.frag)}const i=r.frag;if(!i||i.type!==e||!this.levels)return;if(this.fragContextChanged(i)){var o;this.warn(`Frag load error must match current frag to retry ${i.url} > ${(o=this.fragCurrent)==null?void 0:o.url}`);return}const s=r.details===Ze.FRAG_GAP;s&&this.fragmentTracker.fragBuffered(i,!0);const a=r.errorAction,{action:l,retryCount:c=0,retryConfig:u}=a||{};if(a&&l===Nl.RetryRequest&&u){var f;this.resetStartWhenNotLoaded((f=this.levelLastLoaded)!=null?f:i.level);const h=vae(u,c);this.warn(`Fragment ${i.sn} of ${e} ${i.level} errored with ${r.details}, retrying loading ${c+1}/${u.maxNumRetry} in ${h}ms`),a.resolved=!0,this.retryDate=self.performance.now()+h,this.state=dt.FRAG_LOADING_WAITING_RETRY}else u&&a?(this.resetFragmentErrors(e),c<u.maxNumRetry?s||(a.resolved=!0):je.warn(`${r.details} reached or exceeded max retry (${c})`)):(a==null?void 0:a.action)===Nl.SendAlternateToPenaltyBox?this.state=dt.WAITING_LEVEL:this.state=dt.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===dt.PARSING||this.state===dt.PARSED){const r=e.parent,i=this.getFwdBufferInfo(this.mediaBuffer,r),o=i&&i.len>.5;o&&this.reduceMaxBufferLength(i.len);const s=!o;return s&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${r} buffer`),e.frag&&(this.fragmentTracker.removeFragment(e.frag),this.nextLoadPosition=e.frag.start),this.resetLoadingState(),s}return!1}resetFragmentErrors(e){e===Nn.AUDIO&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==dt.STOPPED&&(this.state=dt.IDLE)}afterBufferFlushed(e,r,i){if(!e)return;const o=Uo.getBuffered(e);this.fragmentTracker.detectEvictedFragments(r,o,i),this.state===dt.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=dt.IDLE}resetStartWhenNotLoaded(e){if(!this.loadedmetadata){this.startFragRequested=!1;const r=this.levels?this.levels[e].details:null;r!=null&&r.live?(this.startPosition=-1,this.setStartPosition(r,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){var r;this.warn(`The loading context changed while buffering fragment ${e.sn} of level ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded((r=this.levelLastLoaded)!=null?r:e.level),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,r,i,o){var s;const a=i.details;if(!a){this.warn("level.details undefined");return}if(Object.keys(e.elementaryStreams).reduce((c,u)=>{const f=e.elementaryStreams[u];if(f){const h=f.endPTS-f.startPTS;if(h<=0)return this.warn(`Could not parse fragment ${e.sn} ${u} duration reliably (${h})`),c||!1;const m=o?0:vlt(a,e,f.startPTS,f.endPTS,f.startDTS,f.endDTS);return this.hls.trigger(ie.LEVEL_PTS_UPDATED,{details:a,level:i,drift:m,type:u,frag:e,start:f.startPTS,end:f.endPTS}),!0}return c},!1))i.fragmentError=0;else if(((s=this.transmuxer)==null?void 0:s.error)===null){const c=new Error(`Found no media in fragment ${e.sn} of level ${e.level} resetting transmuxer to fallback to playlist timing`);if(i.fragmentError===0&&(i.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)),this.warn(c.message),this.hls.trigger(ie.ERROR,{type:Ln.MEDIA_ERROR,details:Ze.FRAG_PARSING_ERROR,fatal:!1,error:c,frag:e,reason:`Found no media in msn ${e.sn} of level "${i.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=dt.PARSED,this.hls.trigger(ie.FRAG_PARSED,{frag:e,part:r})}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(e){if(e.event==="demuxerWorker"){var r,i,o;this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded((r=(i=this.levelLastLoaded)!=null?i:(o=this.fragCurrent)==null?void 0:o.level)!=null?r:0),this.resetLoadingState()}}set state(e){const r=this._state;r!==e&&(this._state=e,this.log(`${r}->${e}`))}get state(){return this._state}}function Elt(){return self.SourceBuffer||self.WebKitSourceBuffer}function tTr(){const n=t7();if(!n)return!1;const e=Elt(),r=n&&typeof n.isTypeSupported=="function"&&n.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),i=!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function";return!!r&&!!i}function nTr(){var n;const e=Elt();return typeof(e==null||(n=e.prototype)==null?void 0:n.changeType)=="function"}function rTr(){return typeof __HLS_WORKER_BUNDLE__=="function"}function iTr(){const n=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),e=self.URL.createObjectURL(n);return{worker:new self.Worker(e),objectURL:e}}function oTr(n){const e=new self.URL(n,self.location.href).href;return{worker:new self.Worker(e),scriptURL:e}}function gp(n="",e=9e4){return{type:n,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class Clt{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,r,i,o){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,r){return!1}appendFrame(e,r,i){}demux(e,r){this.cachedData&&(e=Ux(this.cachedData,e),this.cachedData=null);let i=T4(e,0),o=i?i.length:0,s;const a=this._audioTrack,l=this._id3Track,c=i?U2r(i):void 0,u=e.length;for((this.basePTS===null||this.frameIndex===0&&wn(c))&&(this.basePTS=sTr(c,r,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),i&&i.length>0&&l.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:Kf.audioId3,duration:Number.POSITIVE_INFINITY});o<u;){if(this.canParse(e,o)){const f=this.appendFrame(a,e,o);f?(this.frameIndex++,this.lastPTS=f.sample.pts,o+=f.length,s=o):o=u}else B2r(e,o)?(i=T4(e,o),l.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:Kf.audioId3,duration:Number.POSITIVE_INFINITY}),o+=i.length,s=o):o++;if(o===u&&s!==u){const f=ux(e,s);this.cachedData?this.cachedData=Ux(this.cachedData,f):this.cachedData=f}}return{audioTrack:a,videoTrack:gp(),id3Track:l,textTrack:gp()}}demuxSampleAes(e,r,i){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const r=this.cachedData;return r&&(this.cachedData=null,this.demux(r,0)),{audioTrack:this._audioTrack,videoTrack:gp(),id3Track:this._id3Track,textTrack:gp()}}destroy(){}}const sTr=(n,e,r)=>{if(wn(n))return n*90;const i=r?r.baseTime*9e4/r.timescale:0;return e*9e4+i};function aTr(n,e,r,i){let o,s,a,l;const c=navigator.userAgent.toLowerCase(),u=i,f=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];o=((e[r+2]&192)>>>6)+1;const h=(e[r+2]&60)>>>2;if(h>f.length-1){n.trigger(ie.ERROR,{type:Ln.MEDIA_ERROR,details:Ze.FRAG_PARSING_ERROR,fatal:!0,reason:`invalid ADTS sampling index:${h}`});return}return a=(e[r+2]&1)<<2,a|=(e[r+3]&192)>>>6,je.log(`manifest codec:${i}, ADTS type:${o}, samplingIndex:${h}`),/firefox/i.test(c)?h>=6?(o=5,l=new Array(4),s=h-3):(o=2,l=new Array(2),s=h):c.indexOf("android")!==-1?(o=2,l=new Array(2),s=h):(o=5,l=new Array(4),i&&(i.indexOf("mp4a.40.29")!==-1||i.indexOf("mp4a.40.5")!==-1)||!i&&h>=6?s=h-3:((i&&i.indexOf("mp4a.40.2")!==-1&&(h>=6&&a===1||/vivaldi/i.test(c))||!i&&a===1)&&(o=2,l=new Array(2)),s=h)),l[0]=o<<3,l[0]|=(h&14)>>1,l[1]|=(h&1)<<7,l[1]|=a<<3,o===5&&(l[1]|=(s&14)>>1,l[2]=(s&1)<<7,l[2]|=8,l[3]=0),{config:l,samplerate:f[h],channelCount:a,codec:"mp4a.40."+o,manifestCodec:u}}function Slt(n,e){return n[e]===255&&(n[e+1]&246)===240}function klt(n,e){return n[e+1]&1?7:9}function Eae(n,e){return(n[e+3]&3)<<11|n[e+4]<<3|(n[e+5]&224)>>>5}function lTr(n,e){return e+5<n.length}function O4(n,e){return e+1<n.length&&Slt(n,e)}function cTr(n,e){return lTr(n,e)&&Slt(n,e)&&Eae(n,e)<=n.length-e}function uTr(n,e){if(O4(n,e)){const r=klt(n,e);if(e+r>=n.length)return!1;const i=Eae(n,e);if(i<=r)return!1;const o=e+i;return o===n.length||O4(n,o)}return!1}function Tlt(n,e,r,i,o){if(!n.samplerate){const s=aTr(e,r,i,o);if(!s)return;n.config=s.config,n.samplerate=s.samplerate,n.channelCount=s.channelCount,n.codec=s.codec,n.manifestCodec=s.manifestCodec,je.log(`parsed codec:${n.codec}, rate:${s.samplerate}, channels:${s.channelCount}`)}}function Alt(n){return 1024*9e4/n}function dTr(n,e){const r=klt(n,e);if(e+r<=n.length){const i=Eae(n,e)-r;if(i>0)return{headerLength:r,frameLength:i}}}function Ilt(n,e,r,i,o){const s=Alt(n.samplerate),a=i+o*s,l=dTr(e,r);let c;if(l){const{frameLength:h,headerLength:m}=l,g=m+h,v=Math.max(0,r+g-e.length);v?(c=new Uint8Array(g-m),c.set(e.subarray(r+m,e.length),0)):c=e.subarray(r+m,r+g);const y={unit:c,pts:a};return v||n.samples.push(y),{sample:y,length:g,missing:v}}const u=e.length-r;return c=new Uint8Array(u),c.set(e.subarray(r,e.length),0),{sample:{unit:c,pts:a},length:u,missing:-1}}class fTr extends Clt{constructor(e,r){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=r}resetInitSegment(e,r,i,o){super.resetInitSegment(e,r,i,o),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:r,duration:o,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;let i=(T4(e,0)||[]).length;for(let o=e.length;i<o;i++)if(uTr(e,i))return je.log("ADTS sync word found !"),!0;return!1}canParse(e,r){return cTr(e,r)}appendFrame(e,r,i){Tlt(e,this.observer,r,i,e.manifestCodec);const o=Ilt(e,r,i,this.basePTS,this.frameIndex);if(o&&o.missing===0)return o}}const hTr=/\/emsg[-/]ID3/i;class pTr{constructor(e,r){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=r}resetTimeStamp(){}resetInitSegment(e,r,i,o){const s=this.videoTrack=gp("video",1),a=this.audioTrack=gp("audio",1),l=this.txtTrack=gp("text",1);if(this.id3Track=gp("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const c=ult(e);if(c.video){const{id:u,timescale:f,codec:h}=c.video;s.id=u,s.timescale=l.timescale=f,s.codec=h}if(c.audio){const{id:u,timescale:f,codec:h}=c.audio;a.id=u,a.timescale=f,a.codec=h}l.id=alt.text,s.sampleDuration=0,s.duration=a.duration=o}resetContiguity(){this.remainderData=null}static probe(e){return e=e.length>16384?e.subarray(0,16384):e,ii(e,["moof"]).length>0}demux(e,r){this.timeOffset=r;let i=e;const o=this.videoTrack,s=this.txtTrack;if(this.config.progressive){this.remainderData&&(i=Ux(this.remainderData,e));const l=nkr(i);this.remainderData=l.remainder,o.samples=l.valid||new Uint8Array}else o.samples=i;const a=this.extractID3Track(o,r);return s.samples=QMe(r,o),{videoTrack:o,audioTrack:this.audioTrack,id3Track:a,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,r=this.videoTrack,i=this.txtTrack;r.samples=this.remainderData||new Uint8Array,this.remainderData=null;const o=this.extractID3Track(r,this.timeOffset);return i.samples=QMe(e,r),{videoTrack:r,audioTrack:gp(),id3Track:o,textTrack:gp()}}extractID3Track(e,r){const i=this.id3Track;if(e.samples.length){const o=ii(e.samples,["emsg"]);o&&o.forEach(s=>{const a=okr(s);if(hTr.test(a.schemeIdUri)){const l=wn(a.presentationTime)?a.presentationTime/a.timeScale:r+a.presentationTimeDelta/a.timeScale;let c=a.eventDuration===4294967295?Number.POSITIVE_INFINITY:a.eventDuration/a.timeScale;c<=.001&&(c=Number.POSITIVE_INFINITY);const u=a.payload;i.samples.push({data:u,len:u.byteLength,dts:l,pts:l,type:Kf.emsg,duration:c})}})}return i}demuxSampleAes(e,r,i){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}}let Ij=null;const mTr=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],gTr=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],vTr=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],yTr=[0,1,1,4];function Dlt(n,e,r,i,o){if(r+24>e.length)return;const s=Rlt(e,r);if(s&&r+s.frameLength<=e.length){const a=s.samplesPerFrame*9e4/s.sampleRate,l=i+o*a,c={unit:e.subarray(r,r+s.frameLength),pts:l,dts:l};return n.config=[],n.channelCount=s.channelCount,n.samplerate=s.sampleRate,n.samples.push(c),{sample:c,length:s.frameLength,missing:0}}}function Rlt(n,e){const r=n[e+1]>>3&3,i=n[e+1]>>1&3,o=n[e+2]>>4&15,s=n[e+2]>>2&3;if(r!==1&&o!==0&&o!==15&&s!==3){const a=n[e+2]>>1&1,l=n[e+3]>>6,c=r===3?3-i:i===3?3:4,u=mTr[c*14+o-1]*1e3,h=gTr[(r===3?0:r===2?1:2)*3+s],m=l===3?1:2,g=vTr[r][i],v=yTr[i],y=g*8*v,b=Math.floor(g*u/h+a)*v;if(Ij===null){const w=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Ij=w?parseInt(w[1]):0}return!!Ij&&Ij<=87&&i===2&&u>=224e3&&l===0&&(n[e+3]=n[e+3]|128),{sampleRate:h,channelCount:m,frameLength:b,samplesPerFrame:y}}}function Cae(n,e){return n[e]===255&&(n[e+1]&224)===224&&(n[e+1]&6)!==0}function Olt(n,e){return e+1<n.length&&Cae(n,e)}function bTr(n,e){return Cae(n,e)&&4<=n.length-e}function xTr(n,e){if(e+1<n.length&&Cae(n,e)){const i=Rlt(n,e);let o=4;i!=null&&i.frameLength&&(o=i.frameLength);const s=e+o;return s===n.length||Olt(n,s)}return!1}class _3e{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,r=this.bytesAvailable,i=e.byteLength-r,o=new Uint8Array(4),s=Math.min(4,r);if(s===0)throw new Error("no bytes available");o.set(e.subarray(i,i+s)),this.word=new DataView(o.buffer).getUint32(0),this.bitsAvailable=s*8,this.bytesAvailable-=s}skipBits(e){let r;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,r=e>>3,e-=r<<3,this.bytesAvailable-=r,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let r=Math.min(this.bitsAvailable,e);const i=this.word>>>32-r;if(e>32&&je.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=r,this.bitsAvailable>0)this.word<<=r;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return r=e-r,r>0&&this.bitsAvailable?i<<r|this.readBits(r):i}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(e){let r=8,i=8,o;for(let s=0;s<e;s++)i!==0&&(o=this.readEG(),i=(r+o+256)%256),r=i===0?r:i}readSPS(){let e=0,r=0,i=0,o=0,s,a,l;const c=this.readUByte.bind(this),u=this.readBits.bind(this),f=this.readUEG.bind(this),h=this.readBoolean.bind(this),m=this.skipBits.bind(this),g=this.skipEG.bind(this),v=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);c();const b=c();if(u(5),m(3),c(),v(),b===100||b===110||b===122||b===244||b===44||b===83||b===86||b===118||b===128){const T=f();if(T===3&&m(1),v(),v(),m(1),h())for(a=T!==3?8:12,l=0;l<a;l++)h()&&(l<6?y(16):y(64))}v();const x=f();if(x===0)f();else if(x===1)for(m(1),g(),g(),s=f(),l=0;l<s;l++)g();v(),m(1);const _=f(),w=f(),C=u(1);C===0&&m(1),m(1),h()&&(e=f(),r=f(),i=f(),o=f());let S=[1,1];if(h()&&h())switch(c()){case 1:S=[1,1];break;case 2:S=[12,11];break;case 3:S=[10,11];break;case 4:S=[16,11];break;case 5:S=[40,33];break;case 6:S=[24,11];break;case 7:S=[20,11];break;case 8:S=[32,11];break;case 9:S=[80,33];break;case 10:S=[18,11];break;case 11:S=[15,11];break;case 12:S=[64,33];break;case 13:S=[160,99];break;case 14:S=[4,3];break;case 15:S=[3,2];break;case 16:S=[2,1];break;case 255:{S=[c()<<8|c(),c()<<8|c()];break}}return{width:Math.ceil((_+1)*16-e*2-r*2),height:(2-C)*(w+1)*16-(C?2:4)*(i+o),pixelRatio:S}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class wTr{constructor(e,r,i){this.keyData=void 0,this.decrypter=void 0,this.keyData=i,this.decrypter=new wae(r,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(e,r,i){const o=e[r].unit;if(o.length<=16)return;const s=o.subarray(16,o.length-o.length%16),a=s.buffer.slice(s.byteOffset,s.byteOffset+s.length);this.decryptBuffer(a).then(l=>{const c=new Uint8Array(l);o.set(c,16),this.decrypter.isSync()||this.decryptAacSamples(e,r+1,i)})}decryptAacSamples(e,r,i){for(;;r++){if(r>=e.length){i();return}if(!(e[r].unit.length<32)&&(this.decryptAacSample(e,r,i),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const r=Math.floor((e.length-48)/160)*16+16,i=new Int8Array(r);let o=0;for(let s=32;s<e.length-16;s+=160,o+=16)i.set(e.subarray(s,s+16),o);return i}getAvcDecryptedUnit(e,r){const i=new Uint8Array(r);let o=0;for(let s=32;s<e.length-16;s+=160,o+=16)e.set(i.subarray(o,o+16),s);return e}decryptAvcSample(e,r,i,o,s){const a=hlt(s.data),l=this.getAvcEncryptedData(a);this.decryptBuffer(l.buffer).then(c=>{s.data=this.getAvcDecryptedUnit(a,c),this.decrypter.isSync()||this.decryptAvcSamples(e,r,i+1,o)})}decryptAvcSamples(e,r,i,o){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;r++,i=0){if(r>=e.length){o();return}const s=e[r].units;for(;!(i>=s.length);i++){const a=s[i];if(!(a.data.length<=48||a.type!==1&&a.type!==5)&&(this.decryptAvcSample(e,r,i,o,a),!this.decrypter.isSync()))return}}}}const jl=188;class c0{constructor(e,r,i){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=e,this.config=r,this.typeSupported=i}static probe(e){const r=c0.syncOffset(e);return r>0&&je.warn(`MPEG2-TS detected but first sync word found @ offset ${r}`),r!==-1}static syncOffset(e){const r=e.length;let i=Math.min(jl*5,e.length-jl)+1,o=0;for(;o<i;){let s=!1,a=-1,l=0;for(let c=o;c<r;c+=jl)if(e[c]===71){if(l++,a===-1&&(a=c,a!==0&&(i=Math.min(a+jl*99,e.length-jl)+1)),s||(s=_X(e,c)===0),s&&l>1&&(a===0&&l>2||c+jl>i))return a}else{if(l)return-1;break}o++}return-1}static createTrack(e,r){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:alt[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?r:void 0}}resetInitSegment(e,r,i,o){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=c0.createTrack("video"),this._audioTrack=c0.createTrack("audio",o),this._id3Track=c0.createTrack("id3"),this._txtTrack=c0.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.audioCodec=r,this.videoCodec=i,this._duration=o}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_avcTrack:r,_id3Track:i}=this;e&&(e.pesData=null),r&&(r.pesData=null),i&&(i.pesData=null),this.aacOverFlow=null,this.avcSample=null,this.remainderData=null}demux(e,r,i=!1,o=!1){i||(this.sampleAes=null);let s;const a=this._avcTrack,l=this._audioTrack,c=this._id3Track,u=this._txtTrack;let f=a.pid,h=a.pesData,m=l.pid,g=c.pid,v=l.pesData,y=c.pesData,b=null,x=this.pmtParsed,_=this._pmtId,w=e.length;if(this.remainderData&&(e=Ux(this.remainderData,e),w=e.length,this.remainderData=null),w<jl&&!o)return this.remainderData=e,{audioTrack:l,videoTrack:a,id3Track:c,textTrack:u};const C=Math.max(0,c0.syncOffset(e));w-=(w-C)%jl,w<e.byteLength&&!o&&(this.remainderData=new Uint8Array(e.buffer,w,e.buffer.byteLength-w));let S=0;for(let A=C;A<w;A+=jl)if(e[A]===71){const I=!!(e[A+1]&64),D=_X(e,A),R=(e[A+3]&48)>>4;let P;if(R>1){if(P=A+5+e[A+4],P===A+jl)continue}else P=A+4;switch(D){case f:I&&(h&&(s=p_(h))&&this.parseAVCPES(a,u,s,!1),h={data:[],size:0}),h&&(h.data.push(e.subarray(P,A+jl)),h.size+=A+jl-P);break;case m:if(I){if(v&&(s=p_(v)))switch(l.segmentCodec){case"aac":this.parseAACPES(l,s);break;case"mp3":this.parseMPEGPES(l,s);break}v={data:[],size:0}}v&&(v.data.push(e.subarray(P,A+jl)),v.size+=A+jl-P);break;case g:I&&(y&&(s=p_(y))&&this.parseID3PES(c,s),y={data:[],size:0}),y&&(y.data.push(e.subarray(P,A+jl)),y.size+=A+jl-P);break;case 0:I&&(P+=e[P]+1),_=this._pmtId=_Tr(e,P);break;case _:{I&&(P+=e[P]+1);const O=ETr(e,P,this.typeSupported,i);f=O.avc,f>0&&(a.pid=f),m=O.audio,m>0&&(l.pid=m,l.segmentCodec=O.segmentCodec),g=O.id3,g>0&&(c.pid=g),b!==null&&!x&&(je.warn(`MPEG-TS PMT found at ${A} after unknown PID '${b}'. Backtracking to sync byte @${C} to parse all TS packets.`),b=null,A=C-188),x=this.pmtParsed=!0;break}case 17:case 8191:break;default:b=D;break}}else S++;if(S>0){const A=new Error(`Found ${S} TS packet/s that do not start with 0x47`);this.observer.emit(ie.ERROR,ie.ERROR,{type:Ln.MEDIA_ERROR,details:Ze.FRAG_PARSING_ERROR,fatal:!1,error:A,reason:A.message})}a.pesData=h,l.pesData=v,c.pesData=y;const T={audioTrack:l,videoTrack:a,id3Track:c,textTrack:u};return o&&this.extractRemainingSamples(T),T}flush(){const{remainderData:e}=this;this.remainderData=null;let r;return e?r=this.demux(e,-1,!1,!0):r={videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(r),this.sampleAes?this.decrypt(r,this.sampleAes):r}extractRemainingSamples(e){const{audioTrack:r,videoTrack:i,id3Track:o,textTrack:s}=e,a=i.pesData,l=r.pesData,c=o.pesData;let u;if(a&&(u=p_(a))?(this.parseAVCPES(i,s,u,!0),i.pesData=null):i.pesData=a,l&&(u=p_(l))){switch(r.segmentCodec){case"aac":this.parseAACPES(r,u);break;case"mp3":this.parseMPEGPES(r,u);break}r.pesData=null}else l!=null&&l.size&&je.log("last AAC PES packet truncated,might overlap between fragments"),r.pesData=l;c&&(u=p_(c))?(this.parseID3PES(o,u),o.pesData=null):o.pesData=c}demuxSampleAes(e,r,i){const o=this.demux(e,i,!0,!this.config.progressive),s=this.sampleAes=new wTr(this.observer,this.config,r);return this.decrypt(o,s)}decrypt(e,r){return new Promise(i=>{const{audioTrack:o,videoTrack:s}=e;o.samples&&o.segmentCodec==="aac"?r.decryptAacSamples(o.samples,0,()=>{s.samples?r.decryptAvcSamples(s.samples,0,0,()=>{i(e)}):i(e)}):s.samples&&r.decryptAvcSamples(s.samples,0,0,()=>{i(e)})})}destroy(){this._duration=0}parseAVCPES(e,r,i,o){const s=this.parseAVCNALu(e,i.data);let a=this.avcSample,l,c=!1;i.data=null,a&&s.length&&!e.audFound&&(Kk(a,e),a=this.avcSample=Dj(!1,i.pts,i.dts,"")),s.forEach(u=>{var f;switch(u.type){case 1:{let m=!1;l=!0;const g=u.data;if(c&&g.length>4){const v=new _3e(g).readSliceType();(v===2||v===4||v===7||v===9)&&(m=!0)}if(m){var h;(h=a)!=null&&h.frame&&!a.key&&(Kk(a,e),a=this.avcSample=null)}a||(a=this.avcSample=Dj(!0,i.pts,i.dts,"")),a.frame=!0,a.key=m;break}case 5:l=!0,(f=a)!=null&&f.frame&&!a.key&&(Kk(a,e),a=this.avcSample=null),a||(a=this.avcSample=Dj(!0,i.pts,i.dts,"")),a.key=!0,a.frame=!0;break;case 6:{l=!0,flt(u.data,1,i.pts,r.samples);break}case 7:if(l=!0,c=!0,!e.sps){const m=u.data,v=new _3e(m).readSPS();e.width=v.width,e.height=v.height,e.pixelRatio=v.pixelRatio,e.sps=[m],e.duration=this._duration;const y=m.subarray(1,4);let b="avc1.";for(let x=0;x<3;x++){let _=y[x].toString(16);_.length<2&&(_="0"+_),b+=_}e.codec=b}break;case 8:l=!0,e.pps||(e.pps=[u.data]);break;case 9:l=!1,e.audFound=!0,a&&Kk(a,e),a=this.avcSample=Dj(!1,i.pts,i.dts,"");break;case 12:l=!0;break;default:l=!1,a&&(a.debug+="unknown NAL "+u.type+" ");break}a&&l&&a.units.push(u)}),o&&a&&(Kk(a,e),this.avcSample=null)}getLastNalUnit(e){var r;let i=this.avcSample,o;if((!i||i.units.length===0)&&(i=e[e.length-1]),(r=i)!=null&&r.units){const s=i.units;o=s[s.length-1]}return o}parseAVCNALu(e,r){const i=r.byteLength;let o=e.naluState||0;const s=o,a=[];let l=0,c,u,f,h=-1,m=0;for(o===-1&&(h=0,m=r[0]&31,o=0,l=1);l<i;){if(c=r[l++],!o){o=c?0:1;continue}if(o===1){o=c?0:2;continue}if(!c)o=3;else if(c===1){if(h>=0){const g={data:r.subarray(h,l-o-1),type:m};a.push(g)}else{const g=this.getLastNalUnit(e.samples);if(g&&(s&&l<=4-s&&g.state&&(g.data=g.data.subarray(0,g.data.byteLength-s)),u=l-o-1,u>0)){const v=new Uint8Array(g.data.byteLength+u);v.set(g.data,0),v.set(r.subarray(0,u),g.data.byteLength),g.data=v,g.state=0}}l<i?(f=r[l]&31,h=l,m=f,o=0):o=-1}else o=0}if(h>=0&&o>=0){const g={data:r.subarray(h,i),type:m,state:o};a.push(g)}if(a.length===0){const g=this.getLastNalUnit(e.samples);if(g){const v=new Uint8Array(g.data.byteLength+r.byteLength);v.set(g.data,0),v.set(r,g.data.byteLength),g.data=v}}return e.naluState=o,a}parseAACPES(e,r){let i=0;const o=this.aacOverFlow;let s=r.data;if(o){this.aacOverFlow=null;const h=o.missing,m=o.sample.unit.byteLength;if(h===-1){const g=new Uint8Array(m+s.byteLength);g.set(o.sample.unit,0),g.set(s,m),s=g}else{const g=m-h;o.sample.unit.set(s.subarray(0,h),g),e.samples.push(o.sample),i=o.missing}}let a,l;for(a=i,l=s.length;a<l-1&&!O4(s,a);a++);if(a!==i){let h;const m=a<l-1;m?h=`AAC PES did not start with ADTS header,offset:${a}`:h="No ADTS header found in AAC PES";const g=new Error(h);if(je.warn(`parsing error: ${h}`),this.observer.emit(ie.ERROR,ie.ERROR,{type:Ln.MEDIA_ERROR,details:Ze.FRAG_PARSING_ERROR,fatal:!1,levelRetry:m,error:g,reason:h}),!m)return}Tlt(e,this.observer,s,a,this.audioCodec);let c;if(r.pts!==void 0)c=r.pts;else if(o){const h=Alt(e.samplerate);c=o.sample.pts+h}else{je.warn("[tsdemuxer]: AAC PES unknown PTS");return}let u=0,f;for(;a<l;)if(f=Ilt(e,s,a,c,u),a+=f.length,f.missing){this.aacOverFlow=f;break}else for(u++;a<l-1&&!O4(s,a);a++);}parseMPEGPES(e,r){const i=r.data,o=i.length;let s=0,a=0;const l=r.pts;if(l===void 0){je.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;a<o;)if(Olt(i,a)){const c=Dlt(e,i,a,l,s);if(c)a+=c.length,s++;else break}else a++}parseID3PES(e,r){if(r.pts===void 0){je.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const i=Oa({},r,{type:this._avcTrack?Kf.emsg:Kf.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(i)}}function Dj(n,e,r,i){return{key:n,frame:!1,pts:e,dts:r,units:[],debug:i,length:0}}function _X(n,e){return((n[e+1]&31)<<8)+n[e+2]}function _Tr(n,e){return(n[e+10]&31)<<8|n[e+11]}function ETr(n,e,r,i){const o={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},s=(n[e+1]&15)<<8|n[e+2],a=e+3+s-4,l=(n[e+10]&15)<<8|n[e+11];for(e+=12+l;e<a;){const c=_X(n,e);switch(n[e]){case 207:if(!i){je.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:o.audio===-1&&(o.audio=c);break;case 21:o.id3===-1&&(o.id3=c);break;case 219:if(!i){je.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:o.avc===-1&&(o.avc=c);break;case 3:case 4:r.mpeg!==!0&&r.mp3!==!0?je.log("MPEG audio found, not supported in this browser"):o.audio===-1&&(o.audio=c,o.segmentCodec="mp3");break;case 36:je.warn("Unsupported HEVC stream type found");break}e+=((n[e+3]&15)<<8|n[e+4])+5}return o}function p_(n){let e=0,r,i,o,s,a;const l=n.data;if(!n||n.size===0)return null;for(;l[0].length<19&&l.length>1;){const u=new Uint8Array(l[0].length+l[1].length);u.set(l[0]),u.set(l[1],l[0].length),l[0]=u,l.splice(1,1)}if(r=l[0],(r[0]<<16)+(r[1]<<8)+r[2]===1){if(i=(r[4]<<8)+r[5],i&&i>n.size-6)return null;const u=r[7];u&192&&(s=(r[9]&14)*536870912+(r[10]&255)*4194304+(r[11]&254)*16384+(r[12]&255)*128+(r[13]&254)/2,u&64?(a=(r[14]&14)*536870912+(r[15]&255)*4194304+(r[16]&254)*16384+(r[17]&255)*128+(r[18]&254)/2,s-a>60*9e4&&(je.warn(`${Math.round((s-a)/9e4)}s delta between PTS and DTS, align them`),s=a)):a=s),o=r[8];let f=o+9;if(n.size<=f)return null;n.size-=f;const h=new Uint8Array(n.size);for(let m=0,g=l.length;m<g;m++){r=l[m];let v=r.byteLength;if(f)if(f>v){f-=v;continue}else r=r.subarray(f),v-=f,f=0;h.set(r,e),e+=v}return i&&(i-=o+3),{data:h,pts:s,dts:a,len:i}}return null}function Kk(n,e){if(n.units.length&&n.frame){if(n.pts===void 0){const r=e.samples,i=r.length;if(i){const o=r[i-1];n.pts=o.pts,n.dts=o.dts}else{e.dropped++;return}}e.samples.push(n)}n.debug.length&&je.log(n.pts+"/"+n.dts+":"+n.debug)}class CTr extends Clt{resetInitSegment(e,r,i,o){super.resetInitSegment(e,r,i,o),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:r,duration:o,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;let i=(T4(e,0)||[]).length;for(let o=e.length;i<o;i++)if(xTr(e,i))return je.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,r){return bTr(e,r)}appendFrame(e,r,i){if(this.basePTS!==null)return Dlt(e,r,i,this.basePTS,this.frameIndex)}}class E3e{static getSilentFrame(e,r){switch(e){case"mp4a.40.2":if(r===1)return new Uint8Array([0,200,0,128,35,128]);if(r===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(r===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(r===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(r===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(r===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(r===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(r===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(r===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const $v=Math.pow(2,32)-1;class Ue{static init(){Ue.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in Ue.types)Ue.types.hasOwnProperty(e)&&(Ue.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);Ue.HDLR_TYPES={video:r,audio:i};const o=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),s=new Uint8Array([0,0,0,0,0,0,0,0]);Ue.STTS=Ue.STSC=Ue.STCO=s,Ue.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Ue.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),Ue.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),Ue.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const a=new Uint8Array([105,115,111,109]),l=new Uint8Array([97,118,99,49]),c=new Uint8Array([0,0,0,1]);Ue.FTYP=Ue.box(Ue.types.ftyp,a,c,a,l),Ue.DINF=Ue.box(Ue.types.dinf,Ue.box(Ue.types.dref,o))}static box(e,...r){let i=8,o=r.length;const s=o;for(;o--;)i+=r[o].byteLength;const a=new Uint8Array(i);for(a[0]=i>>24&255,a[1]=i>>16&255,a[2]=i>>8&255,a[3]=i&255,a.set(e,4),o=0,i=8;o<s;o++)a.set(r[o],i),i+=r[o].byteLength;return a}static hdlr(e){return Ue.box(Ue.types.hdlr,Ue.HDLR_TYPES[e])}static mdat(e){return Ue.box(Ue.types.mdat,e)}static mdhd(e,r){r*=e;const i=Math.floor(r/($v+1)),o=Math.floor(r%($v+1));return Ue.box(Ue.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,i>>24,i>>16&255,i>>8&255,i&255,o>>24,o>>16&255,o>>8&255,o&255,85,196,0,0]))}static mdia(e){return Ue.box(Ue.types.mdia,Ue.mdhd(e.timescale,e.duration),Ue.hdlr(e.type),Ue.minf(e))}static mfhd(e){return Ue.box(Ue.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?Ue.box(Ue.types.minf,Ue.box(Ue.types.smhd,Ue.SMHD),Ue.DINF,Ue.stbl(e)):Ue.box(Ue.types.minf,Ue.box(Ue.types.vmhd,Ue.VMHD),Ue.DINF,Ue.stbl(e))}static moof(e,r,i){return Ue.box(Ue.types.moof,Ue.mfhd(e),Ue.traf(i,r))}static moov(e){let r=e.length;const i=[];for(;r--;)i[r]=Ue.trak(e[r]);return Ue.box.apply(null,[Ue.types.moov,Ue.mvhd(e[0].timescale,e[0].duration)].concat(i).concat(Ue.mvex(e)))}static mvex(e){let r=e.length;const i=[];for(;r--;)i[r]=Ue.trex(e[r]);return Ue.box.apply(null,[Ue.types.mvex,...i])}static mvhd(e,r){r*=e;const i=Math.floor(r/($v+1)),o=Math.floor(r%($v+1)),s=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,i>>24,i>>16&255,i>>8&255,i&255,o>>24,o>>16&255,o>>8&255,o&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return Ue.box(Ue.types.mvhd,s)}static sdtp(e){const r=e.samples||[],i=new Uint8Array(4+r.length);let o,s;for(o=0;o<r.length;o++)s=r[o].flags,i[o+4]=s.dependsOn<<4|s.isDependedOn<<2|s.hasRedundancy;return Ue.box(Ue.types.sdtp,i)}static stbl(e){return Ue.box(Ue.types.stbl,Ue.stsd(e),Ue.box(Ue.types.stts,Ue.STTS),Ue.box(Ue.types.stsc,Ue.STSC),Ue.box(Ue.types.stsz,Ue.STSZ),Ue.box(Ue.types.stco,Ue.STCO))}static avc1(e){let r=[],i=[],o,s,a;for(o=0;o<e.sps.length;o++)s=e.sps[o],a=s.byteLength,r.push(a>>>8&255),r.push(a&255),r=r.concat(Array.prototype.slice.call(s));for(o=0;o<e.pps.length;o++)s=e.pps[o],a=s.byteLength,i.push(a>>>8&255),i.push(a&255),i=i.concat(Array.prototype.slice.call(s));const l=Ue.box(Ue.types.avcC,new Uint8Array([1,r[3],r[4],r[5],255,224|e.sps.length].concat(r).concat([e.pps.length]).concat(i))),c=e.width,u=e.height,f=e.pixelRatio[0],h=e.pixelRatio[1];return Ue.box(Ue.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,c>>8&255,c&255,u>>8&255,u&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),l,Ue.box(Ue.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),Ue.box(Ue.types.pasp,new Uint8Array([f>>24,f>>16&255,f>>8&255,f&255,h>>24,h>>16&255,h>>8&255,h&255])))}static esds(e){const r=e.config.length;return new Uint8Array([0,0,0,0,3,23+r,0,1,0,4,15+r,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([r]).concat(e.config).concat([6,1,2]))}static mp4a(e){const r=e.samplerate;return Ue.box(Ue.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,r>>8&255,r&255,0,0]),Ue.box(Ue.types.esds,Ue.esds(e)))}static mp3(e){const r=e.samplerate;return Ue.box(Ue.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,r>>8&255,r&255,0,0]))}static stsd(e){return e.type==="audio"?e.segmentCodec==="mp3"&&e.codec==="mp3"?Ue.box(Ue.types.stsd,Ue.STSD,Ue.mp3(e)):Ue.box(Ue.types.stsd,Ue.STSD,Ue.mp4a(e)):Ue.box(Ue.types.stsd,Ue.STSD,Ue.avc1(e))}static tkhd(e){const r=e.id,i=e.duration*e.timescale,o=e.width,s=e.height,a=Math.floor(i/($v+1)),l=Math.floor(i%($v+1));return Ue.box(Ue.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,r&255,0,0,0,0,a>>24,a>>16&255,a>>8&255,a&255,l>>24,l>>16&255,l>>8&255,l&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,o>>8&255,o&255,0,0,s>>8&255,s&255,0,0]))}static traf(e,r){const i=Ue.sdtp(e),o=e.id,s=Math.floor(r/($v+1)),a=Math.floor(r%($v+1));return Ue.box(Ue.types.traf,Ue.box(Ue.types.tfhd,new Uint8Array([0,0,0,0,o>>24,o>>16&255,o>>8&255,o&255])),Ue.box(Ue.types.tfdt,new Uint8Array([1,0,0,0,s>>24,s>>16&255,s>>8&255,s&255,a>>24,a>>16&255,a>>8&255,a&255])),Ue.trun(e,i.length+16+20+8+16+8+8),i)}static trak(e){return e.duration=e.duration||4294967295,Ue.box(Ue.types.trak,Ue.tkhd(e),Ue.mdia(e))}static trex(e){const r=e.id;return Ue.box(Ue.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,r&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,r){const i=e.samples||[],o=i.length,s=12+16*o,a=new Uint8Array(s);let l,c,u,f,h,m;for(r+=8+s,a.set([e.type==="video"?1:0,0,15,1,o>>>24&255,o>>>16&255,o>>>8&255,o&255,r>>>24&255,r>>>16&255,r>>>8&255,r&255],0),l=0;l<o;l++)c=i[l],u=c.duration,f=c.size,h=c.flags,m=c.cts,a.set([u>>>24&255,u>>>16&255,u>>>8&255,u&255,f>>>24&255,f>>>16&255,f>>>8&255,f&255,h.isLeading<<2|h.dependsOn,h.isDependedOn<<6|h.hasRedundancy<<4|h.paddingValue<<1|h.isNonSync,h.degradPrio&61440,h.degradPrio&15,m>>>24&255,m>>>16&255,m>>>8&255,m&255],12+16*l);return Ue.box(Ue.types.trun,a)}static initSegment(e){Ue.types||Ue.init();const r=Ue.moov(e),i=new Uint8Array(Ue.FTYP.byteLength+r.byteLength);return i.set(Ue.FTYP),i.set(r,Ue.FTYP.byteLength),i}}Ue.types=void 0;Ue.HDLR_TYPES=void 0;Ue.STTS=void 0;Ue.STSC=void 0;Ue.STCO=void 0;Ue.STSZ=void 0;Ue.VMHD=void 0;Ue.SMHD=void 0;Ue.STSD=void 0;Ue.FTYP=void 0;Ue.DINF=void 0;const Plt=9e4;function Sae(n,e,r=1,i=!1){const o=n*e*r;return i?Math.round(o):o}function STr(n,e,r=1,i=!1){return Sae(n,e,1/r,i)}function Yk(n,e=!1){return Sae(n,1e3,1/Plt,e)}function kTr(n,e=1){return Sae(n,Plt,1/e)}const TTr=10*1e3,C3e=1024,ATr=1152;let Rj=null,iW=null;class oW{constructor(e,r,i,o=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=e,this.config=r,this.typeSupported=i,this.ISGenerated=!1,Rj===null){const a=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Rj=a?parseInt(a[1]):0}if(iW===null){const s=navigator.userAgent.match(/Safari\/(\d+)/i);iW=s?parseInt(s[1]):0}}destroy(){}resetTimeStamp(e){je.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){je.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){je.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1}getVideoStartPts(e){let r=!1;const i=e.reduce((o,s)=>{const a=s.pts-o;return a<-4294967296?(r=!0,Bd(o,s.pts)):a>0?o:s.pts},e[0].pts);return r&&je.debug("PTS rollover detected"),i}remux(e,r,i,o,s,a,l,c){let u,f,h,m,g,v,y=s,b=s;const x=e.pid>-1,_=r.pid>-1,w=r.samples.length,C=e.samples.length>0,S=l&&w>0||w>1;if((!x||C)&&(!_||S)||this.ISGenerated||l){this.ISGenerated||(h=this.generateIS(e,r,s,a));const A=this.isVideoContiguous;let I=-1,D;if(S&&(I=ITr(r.samples),!A&&this.config.forceKeyFrameOnDiscontinuity))if(v=!0,I>0){je.warn(`[mp4-remuxer]: Dropped ${I} out of ${w} video samples due to a missing keyframe`);const R=this.getVideoStartPts(r.samples);r.samples=r.samples.slice(I),r.dropped+=I,b+=(r.samples[0].pts-R)/r.inputTimeScale,D=b}else I===-1&&(je.warn(`[mp4-remuxer]: No keyframe found out of ${w} video samples`),v=!1);if(this.ISGenerated){if(C&&S){const R=this.getVideoStartPts(r.samples),O=(Bd(e.samples[0].pts,R)-R)/r.inputTimeScale;y+=Math.max(0,O),b+=Math.max(0,-O)}if(C){if(e.samplerate||(je.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),h=this.generateIS(e,r,s,a)),f=this.remuxAudio(e,y,this.isAudioContiguous,a,_||S||c===Nn.AUDIO?b:void 0),S){const R=f?f.endPTS-f.startPTS:0;r.inputTimeScale||(je.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),h=this.generateIS(e,r,s,a)),u=this.remuxVideo(r,b,A,R)}}else S&&(u=this.remuxVideo(r,b,A,0));u&&(u.firstKeyFrame=I,u.independent=I!==-1,u.firstKeyFramePTS=D)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(i.samples.length&&(g=jlt(i,s,this._initPTS,this._initDTS)),o.samples.length&&(m=Llt(o,s,this._initPTS))),{audio:f,video:u,initSegment:h,independent:v,text:m,id3:g}}generateIS(e,r,i,o){const s=e.samples,a=r.samples,l=this.typeSupported,c={},u=this._initPTS;let f=!u||o,h="audio/mp4",m,g,v;if(f&&(m=g=1/0),e.config&&s.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":l.mpeg?(h="audio/mpeg",e.codec=""):l.mp3&&(e.codec="mp3");break}c.audio={id:"audio",container:h,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&l.mpeg?new Uint8Array(0):Ue.initSegment([e]),metadata:{channelCount:e.channelCount}},f&&(v=e.inputTimeScale,!u||v!==u.timescale?m=g=s[0].pts-Math.round(v*i):f=!1)}if(r.sps&&r.pps&&a.length&&(r.timescale=r.inputTimeScale,c.video={id:"main",container:"video/mp4",codec:r.codec,initSegment:Ue.initSegment([r]),metadata:{width:r.width,height:r.height}},f))if(v=r.inputTimeScale,!u||v!==u.timescale){const y=this.getVideoStartPts(a),b=Math.round(v*i);g=Math.min(g,Bd(a[0].dts,y)-b),m=Math.min(m,y-b)}else f=!1;if(Object.keys(c).length)return this.ISGenerated=!0,f?(this._initPTS={baseTime:m,timescale:v},this._initDTS={baseTime:g,timescale:v}):m=v=void 0,{tracks:c,initPTS:m,timescale:v}}remuxVideo(e,r,i,o){const s=e.inputTimeScale,a=e.samples,l=[],c=a.length,u=this._initPTS;let f=this.nextAvcDts,h=8,m=this.videoSampleDuration,g,v,y=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY,x=!1;if(!i||f===null){const B=r*s,H=a[0].pts-Bd(a[0].dts,a[0].pts);f=B-H}const _=u.baseTime*s/u.timescale;for(let B=0;B<c;B++){const H=a[B];H.pts=Bd(H.pts-_,f),H.dts=Bd(H.dts-_,f),H.dts<a[B>0?B-1:B].dts&&(x=!0)}x&&a.sort(function(B,H){const X=B.dts-H.dts,G=B.pts-H.pts;return X||G}),g=a[0].dts,v=a[a.length-1].dts;const w=v-g,C=w?Math.round(w/(c-1)):m||e.inputTimeScale/30;if(i){const B=g-f,H=B>C,X=B<-1;if((H||X)&&(H?je.warn(`AVC: ${Yk(B,!0)} ms (${B}dts) hole between fragments detected, filling it`):je.warn(`AVC: ${Yk(-B,!0)} ms (${B}dts) overlapping between fragments detected`),!X||f>=a[0].pts)){g=f;const G=a[0].pts-B;a[0].dts=g,a[0].pts=G,je.log(`Video: First PTS/DTS adjusted: ${Yk(G,!0)}/${Yk(g,!0)}, delta: ${Yk(B,!0)} ms`)}}g=Math.max(0,g);let S=0,T=0;for(let B=0;B<c;B++){const H=a[B],X=H.units,G=X.length;let ne=0;for(let le=0;le<G;le++)ne+=X[le].data.length;T+=ne,S+=G,H.length=ne,H.dts=Math.max(H.dts,g),y=Math.min(H.pts,y),b=Math.max(H.pts,b)}v=a[c-1].dts;const A=T+4*S+8;let I;try{I=new Uint8Array(A)}catch(B){this.observer.emit(ie.ERROR,ie.ERROR,{type:Ln.MUX_ERROR,details:Ze.REMUX_ALLOC_ERROR,fatal:!1,error:B,bytes:A,reason:`fail allocating video mdat ${A}`});return}const D=new DataView(I.buffer);D.setUint32(0,A),I.set(Ue.types.mdat,4);let R=!1,P=Number.POSITIVE_INFINITY,O=Number.POSITIVE_INFINITY,$=Number.NEGATIVE_INFINITY,L=Number.NEGATIVE_INFINITY;for(let B=0;B<c;B++){const H=a[B],X=H.units;let G=0;for(let K=0,Q=X.length;K<Q;K++){const re=X[K],se=re.data,de=re.data.byteLength;D.setUint32(h,de),h+=4,I.set(se,h),h+=de,G+=4+de}let ne;if(B<c-1)m=a[B+1].dts-H.dts,ne=a[B+1].pts-H.pts;else{const K=this.config,Q=B>0?H.dts-a[B-1].dts:C;if(ne=B>0?H.pts-a[B-1].pts:C,K.stretchShortVideoTrack&&this.nextAudioPts!==null){const re=Math.floor(K.maxBufferHole*s),se=(o?y+o*s:this.nextAudioPts)-H.pts;se>re?(m=se-Q,m<0?m=Q:R=!0,je.log(`[mp4-remuxer]: It is approximately ${se/90} ms to the next segment; using duration ${m/90} ms for the last video frame.`)):m=Q}else m=Q}const le=Math.round(H.pts-H.dts);P=Math.min(P,m),$=Math.max($,m),O=Math.min(O,ne),L=Math.max(L,ne),l.push(new S3e(H.key,m,G,le))}if(l.length){if(Rj){if(Rj<70){const B=l[0].flags;B.dependsOn=2,B.isNonSync=0}}else if(iW&&L-O<$-P&&C/$<.025&&l[0].cts===0){je.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let B=g;for(let H=0,X=l.length;H<X;H++){const G=B+l[H].duration,ne=B+l[H].cts;if(H<X-1){const le=G+l[H+1].cts;l[H].duration=le-ne}else l[H].duration=H?l[H-1].duration:C;l[H].cts=0,B=G}}}m=R||!m?C:m,this.nextAvcDts=f=v+m,this.videoSampleDuration=m,this.isVideoContiguous=!0;const M=Ue.moof(e.sequenceNumber++,g,Oa({},e,{samples:l})),N="video",z={data1:M,data2:I,startPTS:y/s,endPTS:(b+m)/s,startDTS:g/s,endDTS:f/s,type:N,hasAudio:!1,hasVideo:!0,nb:l.length,dropped:e.dropped};return e.samples=[],e.dropped=0,z}remuxAudio(e,r,i,o,s){const a=e.inputTimeScale,l=e.samplerate?e.samplerate:a,c=a/l,u=e.segmentCodec==="aac"?C3e:ATr,f=u*c,h=this._initPTS,m=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,g=[],v=s!==void 0;let y=e.samples,b=m?0:8,x=this.nextAudioPts||-1;const _=r*a,w=h.baseTime*a/h.timescale;if(this.isAudioContiguous=i=i||y.length&&x>0&&(o&&Math.abs(_-x)<9e3||Math.abs(Bd(y[0].pts-w,_)-x)<20*f),y.forEach(function(N){N.pts=Bd(N.pts-w,_)}),!i||x<0){if(y=y.filter(N=>N.pts>=0),!y.length)return;s===0?x=0:o&&!v?x=Math.max(0,_):x=y[0].pts}if(e.segmentCodec==="aac"){const N=this.config.maxAudioFramesDrift;for(let z=0,B=x;z<y.length;z++){const H=y[z],X=H.pts,G=X-B,ne=Math.abs(1e3*G/a);if(G<=-N*f&&v)z===0&&(je.warn(`Audio frame @ ${(X/a).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*G/a)} ms.`),this.nextAudioPts=x=B=X);else if(G>=N*f&&ne<TTr&&v){let le=Math.round(G/f);B=X-le*f,B<0&&(le--,B+=f),z===0&&(this.nextAudioPts=x=B),je.warn(`[mp4-remuxer]: Injecting ${le} audio frame @ ${(B/a).toFixed(3)}s due to ${Math.round(1e3*G/a)} ms gap.`);for(let K=0;K<le;K++){const Q=Math.max(B,0);let re=E3e.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);re||(je.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),re=H.unit.subarray()),y.splice(z,0,{unit:re,pts:Q}),B+=f,z++}}H.pts=B,B+=f}}let C=null,S=null,T,A=0,I=y.length;for(;I--;)A+=y[I].unit.byteLength;for(let N=0,z=y.length;N<z;N++){const B=y[N],H=B.unit;let X=B.pts;if(S!==null){const ne=g[N-1];ne.duration=Math.round((X-S)/c)}else if(i&&e.segmentCodec==="aac"&&(X=x),C=X,A>0){A+=b;try{T=new Uint8Array(A)}catch(ne){this.observer.emit(ie.ERROR,ie.ERROR,{type:Ln.MUX_ERROR,details:Ze.REMUX_ALLOC_ERROR,fatal:!1,error:ne,bytes:A,reason:`fail allocating audio mdat ${A}`});return}m||(new DataView(T.buffer).setUint32(0,A),T.set(Ue.types.mdat,4))}else return;T.set(H,b);const G=H.byteLength;b+=G,g.push(new S3e(!0,u,G,0)),S=X}const D=g.length;if(!D)return;const R=g[g.length-1];this.nextAudioPts=x=S+c*R.duration;const P=m?new Uint8Array(0):Ue.moof(e.sequenceNumber++,C/c,Oa({},e,{samples:g}));e.samples=[];const O=C/a,$=x/a,M={data1:P,data2:T,startPTS:O,endPTS:$,startDTS:O,endDTS:$,type:"audio",hasAudio:!0,hasVideo:!1,nb:D};return this.isAudioContiguous=!0,M}remuxEmptyAudio(e,r,i,o){const s=e.inputTimeScale,a=e.samplerate?e.samplerate:s,l=s/a,c=this.nextAudioPts,u=this._initDTS,f=u.baseTime*9e4/u.timescale,h=(c!==null?c:o.startDTS*s)+f,m=o.endDTS*s+f,g=l*C3e,v=Math.ceil((m-h)/g),y=E3e.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(je.warn("[mp4-remuxer]: remux empty Audio"),!y){je.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");return}const b=[];for(let x=0;x<v;x++){const _=h+x*g;b.push({unit:y,pts:_,dts:_})}return e.samples=b,this.remuxAudio(e,r,i,!1)}}function Bd(n,e){let r;if(e===null)return n;for(e<n?r=-8589934592:r=8589934592;Math.abs(n-e)>4294967296;)n+=r;return n}function ITr(n){for(let e=0;e<n.length;e++)if(n[e].key)return e;return-1}function jlt(n,e,r,i){const o=n.samples.length;if(!o)return;const s=n.inputTimeScale;for(let l=0;l<o;l++){const c=n.samples[l];c.pts=Bd(c.pts-r.baseTime*s/r.timescale,e*s)/s,c.dts=Bd(c.dts-i.baseTime*s/i.timescale,e*s)/s}const a=n.samples;return n.samples=[],{samples:a}}function Llt(n,e,r){const i=n.samples.length;if(!i)return;const o=n.inputTimeScale;for(let a=0;a<i;a++){const l=n.samples[a];l.pts=Bd(l.pts-r.baseTime*o/r.timescale,e*o)/o}n.samples.sort((a,l)=>a.pts-l.pts);const s=n.samples;return n.samples=[],{samples:s}}class S3e{constructor(e,r,i,o){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=r,this.size=i,this.cts=o,this.flags=new DTr(e)}}class DTr{constructor(e){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=e?2:1,this.isNonSync=e?0:1}}class RTr{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,r,i,o){this.audioCodec=r,this.videoCodec=i,this.generateInitSegment(X2r(e,o)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:r,videoCodec:i}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const o=this.initData=ult(e);r||(r=k3e(o.audio,Xi.AUDIO)),i||(i=k3e(o.video,Xi.VIDEO));const s={};o.audio&&o.video?s.audiovideo={container:"video/mp4",codec:r+","+i,initSegment:e,id:"main"}:o.audio?s.audio={container:"audio/mp4",codec:r,initSegment:e,id:"audio"}:o.video?s.video={container:"video/mp4",codec:i,initSegment:e,id:"main"}:je.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=s}remux(e,r,i,o,s,a){var l,c;let{initPTS:u,lastEndTime:f}=this;const h={audio:void 0,video:void 0,text:o,id3:i,initSegment:void 0};wn(f)||(f=this.lastEndTime=s||0);const m=r.samples;if(!(m!=null&&m.length))return h;const g={initPTS:void 0,timescale:1};let v=this.initData;if((l=v)!=null&&l.length||(this.generateInitSegment(m),v=this.initData),!((c=v)!=null&&c.length))return je.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),h;this.emitInitSegment&&(g.tracks=this.initTracks,this.emitInitSegment=!1);const y=J2r(m,v),b=Q2r(v,m),x=b===null?s:b;(OTr(u,x,s,y)||g.timescale!==u.timescale&&a)&&(g.initPTS=x-s,u&&u.timescale===1&&je.warn(`Adjusting initPTS by ${g.initPTS-u.baseTime}`),this.initPTS=u={baseTime:g.initPTS,timescale:1});const _=e?x-u.baseTime/u.timescale:f,w=_+y;tkr(v,m,u.baseTime/u.timescale),y>0?this.lastEndTime=w:(je.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const C=!!v.audio,S=!!v.video;let T="";C&&(T+="audio"),S&&(T+="video");const A={data1:m,startPTS:_,startDTS:_,endPTS:w,endDTS:w,type:T,hasAudio:C,hasVideo:S,nb:1,dropped:0};return h.audio=A.type==="audio"?A:void 0,h.video=A.type!=="audio"?A:void 0,h.initSegment=g,h.id3=jlt(i,s,u,u),o.samples.length&&(h.text=Llt(o,s,u)),h}}function OTr(n,e,r,i){if(n===null)return!0;const o=Math.max(i,1),s=e-n.baseTime/n.timescale;return Math.abs(s-r)>o}function k3e(n,e){const r=n==null?void 0:n.codec;return r&&r.length>4?r:r==="hvc1"||r==="hev1"?"hvc1.1.6.L120.90":r==="av01"?"av01.0.04M.08":r==="avc1"||e===Xi.VIDEO?"avc1.42e01e":"mp4a.40.5"}let Zm;try{Zm=self.performance.now.bind(self.performance)}catch{je.debug("Unable to use Performance API on this environment"),Zm=typeof self<"u"&&self.Date.now}const sW=[{demux:pTr,remux:RTr},{demux:c0,remux:oW},{demux:fTr,remux:oW},{demux:CTr,remux:oW}];class T3e{constructor(e,r,i,o,s){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=r,this.config=i,this.vendor=o,this.id=s}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,r,i,o){const s=i.transmuxing;s.executeStart=Zm();let a=new Uint8Array(e);const{currentTransmuxState:l,transmuxConfig:c}=this;o&&(this.currentTransmuxState=o);const{contiguous:u,discontinuity:f,trackSwitch:h,accurateTimeOffset:m,timeOffset:g,initSegmentChange:v}=o||l,{audioCodec:y,videoCodec:b,defaultInitPts:x,duration:_,initSegmentData:w}=c,C=PTr(a,r);if(C&&C.method==="AES-128"){const I=this.getDecrypter();if(I.isSync()){let D=I.softwareDecrypt(a,C.key.buffer,C.iv.buffer);if(i.part>-1&&(D=I.flush()),!D)return s.executeEnd=Zm(),aW(i);a=new Uint8Array(D)}else return this.decryptionPromise=I.webCryptoDecrypt(a,C.key.buffer,C.iv.buffer).then(D=>{const R=this.push(D,null,i);return this.decryptionPromise=null,R}),this.decryptionPromise}const S=this.needsProbing(f,h);if(S){const I=this.configureTransmuxer(a);if(I)return je.warn(`[transmuxer] ${I.message}`),this.observer.emit(ie.ERROR,ie.ERROR,{type:Ln.MEDIA_ERROR,details:Ze.FRAG_PARSING_ERROR,fatal:!1,error:I,reason:I.message}),s.executeEnd=Zm(),aW(i)}(f||h||v||S)&&this.resetInitSegment(w,y,b,_,r),(f||v||S)&&this.resetInitialTimestamp(x),u||this.resetContiguity();const T=this.transmux(a,C,g,m,i),A=this.currentTransmuxState;return A.contiguous=!0,A.discontinuity=!1,A.trackSwitch=!1,s.executeEnd=Zm(),T}flush(e){const r=e.transmuxing;r.executeStart=Zm();const{decrypter:i,currentTransmuxState:o,decryptionPromise:s}=this;if(s)return s.then(()=>this.flush(e));const a=[],{timeOffset:l}=o;if(i){const h=i.flush();h&&a.push(this.push(h,null,e))}const{demuxer:c,remuxer:u}=this;if(!c||!u)return r.executeEnd=Zm(),[aW(e)];const f=c.flush(l);return Z$(f)?f.then(h=>(this.flushRemux(a,h,e),a)):(this.flushRemux(a,f,e),a)}flushRemux(e,r,i){const{audioTrack:o,videoTrack:s,id3Track:a,textTrack:l}=r,{accurateTimeOffset:c,timeOffset:u}=this.currentTransmuxState;je.log(`[transmuxer.ts]: Flushed fragment ${i.sn}${i.part>-1?" p: "+i.part:""} of level ${i.level}`);const f=this.remuxer.remux(o,s,a,l,u,c,!0,this.id);e.push({remuxResult:f,chunkMeta:i}),i.transmuxing.executeEnd=Zm()}resetInitialTimestamp(e){const{demuxer:r,remuxer:i}=this;!r||!i||(r.resetTimeStamp(e),i.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:r}=this;!e||!r||(e.resetContiguity(),r.resetNextTimestamp())}resetInitSegment(e,r,i,o,s){const{demuxer:a,remuxer:l}=this;!a||!l||(a.resetInitSegment(e,r,i,o),l.resetInitSegment(e,r,i,s))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,r,i,o,s){let a;return r&&r.method==="SAMPLE-AES"?a=this.transmuxSampleAes(e,r,i,o,s):a=this.transmuxUnencrypted(e,i,o,s),a}transmuxUnencrypted(e,r,i,o){const{audioTrack:s,videoTrack:a,id3Track:l,textTrack:c}=this.demuxer.demux(e,r,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(s,a,l,c,r,i,!1,this.id),chunkMeta:o}}transmuxSampleAes(e,r,i,o,s){return this.demuxer.demuxSampleAes(e,r,i).then(a=>({remuxResult:this.remuxer.remux(a.audioTrack,a.videoTrack,a.id3Track,a.textTrack,i,o,!1,this.id),chunkMeta:s}))}configureTransmuxer(e){const{config:r,observer:i,typeSupported:o,vendor:s}=this;let a;for(let h=0,m=sW.length;h<m;h++)if(sW[h].demux.probe(e)){a=sW[h];break}if(!a)return new Error("Failed to find demuxer by probing fragment data");const l=this.demuxer,c=this.remuxer,u=a.remux,f=a.demux;(!c||!(c instanceof u))&&(this.remuxer=new u(i,r,o,s)),(!l||!(l instanceof f))&&(this.demuxer=new f(i,r,o),this.probe=f.probe)}needsProbing(e,r){return!this.demuxer||!this.remuxer||e||r}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new wae(this.config)),e}}function PTr(n,e){let r=null;return n.byteLength>0&&e!=null&&e.key!=null&&e.iv!==null&&e.method!=null&&(r=e),r}const aW=n=>({remuxResult:{},chunkMeta:n});function Z$(n){return"then"in n&&n.then instanceof Function}class jTr{constructor(e,r,i,o,s){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=r,this.initSegmentData=i,this.duration=o,this.defaultInitPts=s||null}}class LTr{constructor(e,r,i,o,s,a){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=r,this.accurateTimeOffset=i,this.trackSwitch=o,this.timeOffset=s,this.initSegmentChange=a}}var $lt={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function o(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function s(c,u,f,h,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new o(f,h||c,m),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],g]:c._events[v].push(g):(c._events[v]=g,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new i:delete c._events[u]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)e.call(f,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,g=h.length,v=new Array(g);m<g;m++)v[m]=h[m].fn;return v},l.prototype.listenerCount=function(u){var f=r?r+u:u,h=this._events[f];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,f,h,m,g,v){var y=r?r+u:u;if(!this._events[y])return!1;var b=this._events[y],x=arguments.length,_,w;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,h),!0;case 4:return b.fn.call(b.context,f,h,m),!0;case 5:return b.fn.call(b.context,f,h,m,g),!0;case 6:return b.fn.call(b.context,f,h,m,g,v),!0}for(w=1,_=new Array(x-1);w<x;w++)_[w-1]=arguments[w];b.fn.apply(b.context,_)}else{var C=b.length,S;for(w=0;w<C;w++)switch(b[w].once&&this.removeListener(u,b[w].fn,void 0,!0),x){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,f);break;case 3:b[w].fn.call(b[w].context,f,h);break;case 4:b[w].fn.call(b[w].context,f,h,m);break;default:if(!_)for(S=1,_=new Array(x-1);S<x;S++)_[S-1]=arguments[S];b[w].fn.apply(b[w].context,_)}}return!0},l.prototype.on=function(u,f,h){return s(this,u,f,h,!1)},l.prototype.once=function(u,f,h){return s(this,u,f,h,!0)},l.prototype.removeListener=function(u,f,h,m){var g=r?r+u:u;if(!this._events[g])return this;if(!f)return a(this,g),this;var v=this._events[g];if(v.fn)v.fn===f&&(!m||v.once)&&(!h||v.context===h)&&a(this,g);else{for(var y=0,b=[],x=v.length;y<x;y++)(v[y].fn!==f||m&&!v[y].once||h&&v[y].context!==h)&&b.push(v[y]);b.length?this._events[g]=b.length===1?b[0]:b:a(this,g)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&a(this,f)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,n.exports=l})($lt);var $Tr=$lt.exports,kae=b2r($Tr);const lW=t7()||{isTypeSupported:()=>!1};class Mlt{constructor(e,r,i,o){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const s=e.config;this.hls=e,this.id=r,this.useWorker=!!s.enableWorker,this.onTransmuxComplete=i,this.onFlush=o;const a=(u,f)=>{f=f||{},f.frag=this.frag,f.id=this.id,u===ie.ERROR&&(this.error=f.error),this.hls.trigger(u,f)};this.observer=new kae,this.observer.on(ie.FRAG_DECRYPTED,a),this.observer.on(ie.ERROR,a);const l={mp4:lW.isTypeSupported("video/mp4"),mpeg:lW.isTypeSupported("audio/mpeg"),mp3:lW.isTypeSupported('audio/mp4; codecs="mp3"')},c=navigator.vendor;if(this.useWorker&&typeof Worker<"u"&&(s.workerPath||rTr())){try{s.workerPath?(je.log(`loading Web Worker ${s.workerPath} for "${r}"`),this.workerContext=oTr(s.workerPath)):(je.log(`injecting Web Worker for "${r}"`),this.workerContext=iTr()),this.onwmsg=h=>this.onWorkerMessage(h);const{worker:f}=this.workerContext;f.addEventListener("message",this.onwmsg),f.onerror=h=>{const m=new Error(`${h.message}  (${h.filename}:${h.lineno})`);s.enableWorker=!1,je.warn(`Error in "${r}" Web Worker, fallback to inline`),this.hls.trigger(ie.ERROR,{type:Ln.OTHER_ERROR,details:Ze.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:m})},f.postMessage({cmd:"init",typeSupported:l,vendor:c,id:r,config:JSON.stringify(s)})}catch(f){je.warn(`Error setting up "${r}" Web Worker, fallback to inline`,f),this.resetWorker(),this.error=null,this.transmuxer=new T3e(this.observer,l,s,c,r)}return}this.transmuxer=new T3e(this.observer,l,s,c,r)}resetWorker(){if(this.workerContext){const{worker:e,objectURL:r}=this.workerContext;r&&self.URL.revokeObjectURL(r),e.removeEventListener("message",this.onwmsg),e.onerror=null,e.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const r=this.transmuxer;r&&(r.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(e,r,i,o,s,a,l,c,u,f){var h,m;u.transmuxing.start=self.performance.now();const{transmuxer:g}=this,v=a?a.start:s.start,y=s.decryptdata,b=this.frag,x=!(b&&s.cc===b.cc),_=!(b&&u.level===b.level),w=b?u.sn-b.sn:-1,C=this.part?u.part-this.part.index:-1,S=w===0&&u.id>1&&u.id===(b==null?void 0:b.stats.chunkCount),T=!_&&(w===1||w===0&&(C===1||S&&C<=0)),A=self.performance.now();(_||w||s.stats.parsing.start===0)&&(s.stats.parsing.start=A),a&&(C||!T)&&(a.stats.parsing.start=A);const I=!(b&&((h=s.initSegment)==null?void 0:h.url)===((m=b.initSegment)==null?void 0:m.url)),D=new LTr(x,T,c,_,v,I);if(!T||x||I){je.log(`[transmuxer-interface, ${s.type}]: Starting new transmux session for sn: ${u.sn} p: ${u.part} level: ${u.level} id: ${u.id}
        discontinuity: ${x}
        trackSwitch: ${_}
        contiguous: ${T}
        accurateTimeOffset: ${c}
        timeOffset: ${v}
        initSegmentChange: ${I}`);const R=new jTr(i,o,r,l,f);this.configureTransmuxer(R)}if(this.frag=s,this.part=a,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:y,chunkMeta:u,state:D},e instanceof ArrayBuffer?[e]:[]);else if(g){const R=g.push(e,y,u,D);Z$(R)?(g.async=!0,R.then(P=>{this.handleTransmuxComplete(P)}).catch(P=>{this.transmuxerError(P,u,"transmuxer-interface push error")})):(g.async=!1,this.handleTransmuxComplete(R))}}flush(e){e.transmuxing.start=self.performance.now();const{transmuxer:r}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(r){let i=r.flush(e);Z$(i)||r.async?(Z$(i)||(i=Promise.resolve(i)),i.then(s=>{this.handleFlushResult(s,e)}).catch(s=>{this.transmuxerError(s,e,"transmuxer-interface flush error")})):this.handleFlushResult(i,e)}}transmuxerError(e,r,i){this.hls&&(this.error=e,this.hls.trigger(ie.ERROR,{type:Ln.MEDIA_ERROR,details:Ze.FRAG_PARSING_ERROR,chunkMeta:r,fatal:!1,error:e,err:e,reason:i}))}handleFlushResult(e,r){e.forEach(i=>{this.handleTransmuxComplete(i)}),this.onFlush(r)}onWorkerMessage(e){const r=e.data,i=this.hls;switch(r.event){case"init":{var o;const s=(o=this.workerContext)==null?void 0:o.objectURL;s&&self.URL.revokeObjectURL(s);break}case"transmuxComplete":{this.handleTransmuxComplete(r.data);break}case"flush":{this.onFlush(r.data);break}case"workerLog":je[r.data.logType]&&je[r.data.logType](r.data.message);break;default:{r.data=r.data||{},r.data.frag=this.frag,r.data.id=this.id,i.trigger(r.event,r.data);break}}}configureTransmuxer(e){const{transmuxer:r}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):r&&r.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const MTr=250,cW=2,FTr=.1,NTr=.05;class BTr{constructor(e,r,i,o){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=r,this.fragmentTracker=i,this.hls=o}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(e,r){const{config:i,media:o,stalled:s}=this;if(o===null)return;const{currentTime:a,seeking:l}=o,c=this.seeking&&!l,u=!this.seeking&&l;if(this.seeking=l,a!==e){if(this.moved=!0,s!==null){if(this.stallReported){const x=self.performance.now()-s;je.warn(`playback not stuck anymore @${a}, after ${Math.round(x)}ms`),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}return}if(u||c){this.stalled=null;return}if(o.paused&&!l||o.ended||o.playbackRate===0||!Uo.getBuffered(o).length)return;const f=Uo.bufferInfo(o,a,0),h=f.len>0,m=f.nextStart||0;if(!h&&!m)return;if(l){const x=f.len>cW,_=!m||r&&r.start<=a||m-a>cW&&!this.fragmentTracker.getPartialFragment(a);if(x||_)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var g;const x=Math.max(m,f.start||0)-a,_=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,C=(_==null||(g=_.details)==null?void 0:g.live)?_.details.targetduration*2:cW,S=this.fragmentTracker.getPartialFragment(a);if(x>0&&(x<=C||S)){this._trySkipBufferHole(S);return}}const v=self.performance.now();if(s===null){this.stalled=v;return}const y=v-s;if(!l&&y>=MTr&&(this._reportStall(f),!this.media))return;const b=Uo.bufferInfo(o,a,i.maxBufferHole);this._tryFixBufferStall(b,y)}_tryFixBufferStall(e,r){const{config:i,fragmentTracker:o,media:s}=this;if(s===null)return;const a=s.currentTime,l=o.getPartialFragment(a);l&&(this._trySkipBufferHole(l)||!this.media)||(e.len>i.maxBufferHole||e.nextStart&&e.nextStart-a<i.maxBufferHole)&&r>i.highBufferWatchdogPeriod*1e3&&(je.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(e){const{hls:r,media:i,stallReported:o}=this;if(!o&&i){this.stallReported=!0;const s=new Error(`Playback stalling at @${i.currentTime} due to low buffer (${JSON.stringify(e)})`);je.warn(s.message),r.trigger(ie.ERROR,{type:Ln.MEDIA_ERROR,details:Ze.BUFFER_STALLED_ERROR,fatal:!1,error:s,buffer:e.len})}}_trySkipBufferHole(e){const{config:r,hls:i,media:o}=this;if(o===null)return 0;const s=o.currentTime,a=Uo.bufferInfo(o,s,0),l=s<a.start?a.start:a.nextStart;if(l){const c=a.len<=r.maxBufferHole,u=a.len>0&&a.len<1&&o.readyState<3,f=l-s;if(f>0&&(c||u)){if(f>r.maxBufferHole){const{fragmentTracker:m}=this;let g=!1;if(s===0){const v=m.getAppendedFrag(0,Nn.MAIN);v&&l<v.end&&(g=!0)}if(!g){const v=e||m.getAppendedFrag(s,Nn.MAIN);if(v){let y=!1,b=v.end;for(;b<l;){const x=m.getPartialFragment(b);if(x)b+=x.duration;else{y=!0;break}}if(y)return 0}}}const h=Math.max(l+NTr,s+FTr);if(je.warn(`skipping hole, adjusting currentTime from ${s} to ${h}`),this.moved=!0,this.stalled=null,o.currentTime=h,e&&!e.gap){const m=new Error(`fragment loaded with buffer holes, seeking from ${s} to ${h}`);i.trigger(ie.ERROR,{type:Ln.MEDIA_ERROR,details:Ze.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:m,reason:m.message,frag:e})}return h}}return 0}_tryNudgeBuffer(){const{config:e,hls:r,media:i,nudgeRetry:o}=this;if(i===null)return;const s=i.currentTime;if(this.nudgeRetry++,o<e.nudgeMaxRetry){const a=s+(o+1)*e.nudgeOffset,l=new Error(`Nudging 'currentTime' from ${s} to ${a}`);je.warn(l.message),i.currentTime=a,r.trigger(ie.ERROR,{type:Ln.MEDIA_ERROR,details:Ze.BUFFER_NUDGE_ON_STALL,error:l,fatal:!1})}else{const a=new Error(`Playhead still not moving while enough data buffered @${s} after ${e.nudgeMaxRetry} nudges`);je.error(a.message),r.trigger(ie.ERROR,{type:Ln.MEDIA_ERROR,details:Ze.BUFFER_STALLED_ERROR,error:a,fatal:!0})}}}const UTr=100;class zTr extends _ae{constructor(e,r,i){super(e,r,i,"[stream-controller]",Nn.MAIN),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ie.MANIFEST_PARSED,this.onManifestParsed,this),e.on(ie.LEVEL_LOADING,this.onLevelLoading,this),e.on(ie.LEVEL_LOADED,this.onLevelLoaded,this),e.on(ie.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(ie.ERROR,this.onError,this),e.on(ie.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(ie.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(ie.BUFFER_CREATED,this.onBufferCreated,this),e.on(ie.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(ie.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(ie.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ie.MANIFEST_PARSED,this.onManifestParsed,this),e.off(ie.LEVEL_LOADED,this.onLevelLoaded,this),e.off(ie.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(ie.ERROR,this.onError,this),e.off(ie.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(ie.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(ie.BUFFER_CREATED,this.onBufferCreated,this),e.off(ie.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(ie.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(ie.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),this.onMediaDetaching()}startLoad(e){if(this.levels){const{lastCurrentTime:r,hls:i}=this;if(this.stopLoad(),this.setInterval(UTr),this.level=-1,!this.startFragRequested){let o=i.startLevel;o===-1&&(i.config.testBandwidth&&this.levels.length>1?(o=0,this.bitrateTest=!0):o=i.nextAutoLevel),this.level=i.nextLoadLevel=o,this.loadedmetadata=!1}r>0&&e===-1&&(this.log(`Override startPosition with lastCurrentTime @${r.toFixed(3)}`),e=r),this.state=dt.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=dt.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case dt.WAITING_LEVEL:{var e;const{levels:i,level:o}=this,s=i==null||(e=i[o])==null?void 0:e.details;if(s&&(!s.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(s))break;this.state=dt.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=dt.IDLE;break}break}case dt.FRAG_LOADING_WAITING_RETRY:{var r;const i=self.performance.now(),o=this.retryDate;(!o||i>=o||(r=this.media)!=null&&r.seeking)&&(this.resetStartWhenNotLoaded(this.level),this.state=dt.IDLE)}break}this.state===dt.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:r,levels:i,media:o}=this,{config:s,nextLoadLevel:a}=e;if(r===null||!o&&(this.startFragRequested||!s.startFragPrefetch)||this.altAudio&&this.audioOnly||!(i!=null&&i[a]))return;const l=i[a],c=this.getMainFwdBufferInfo();if(c===null)return;const u=this.getLevelDetails();if(u&&this._streamEnded(c,u)){const b={};this.altAudio&&(b.type="video"),this.hls.trigger(ie.BUFFER_EOS,b),this.state=dt.ENDED;return}e.loadLevel!==a&&e.manualLevel===-1&&this.log(`Adapting to level ${a} from level ${this.level}`),this.level=e.nextLoadLevel=a;const f=l.details;if(!f||this.state===dt.WAITING_LEVEL||f.live&&this.levelLastLoaded!==a){this.level=a,this.state=dt.WAITING_LEVEL;return}const h=c.len,m=this.getMaxBufferLength(l.maxBitrate);if(h>=m)return;this.backtrackFragment&&this.backtrackFragment.start>c.end&&(this.backtrackFragment=null);const g=this.backtrackFragment?this.backtrackFragment.start:c.end;let v=this.getNextFragment(g,f);if(this.couldBacktrack&&!this.fragPrevious&&v&&v.sn!=="initSegment"&&this.fragmentTracker.getState(v)!==Wa.OK){var y;const x=((y=this.backtrackFragment)!=null?y:v).sn-f.startSN,_=f.fragments[x-1];_&&v.cc===_.cc&&(v=_,this.fragmentTracker.removeFragment(_))}else this.backtrackFragment&&c.len&&(this.backtrackFragment=null);if(v&&this.isLoopLoading(v,g)){if(!v.gap){const x=this.audioOnly&&!this.altAudio?Xi.AUDIO:Xi.VIDEO,_=(x===Xi.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;_&&this.afterBufferFlushed(_,x,Nn.MAIN)}v=this.getNextFragmentLoopLoading(v,f,c,Nn.MAIN,m)}v&&(v.initSegment&&!v.initSegment.data&&!this.bitrateTest&&(v=v.initSegment),this.loadFragment(v,l,g))}loadFragment(e,r,i){const o=this.fragmentTracker.getState(e);this.fragCurrent=e,o===Wa.NOT_LOADED||o===Wa.PARTIAL?e.sn==="initSegment"?this._loadInitSegment(e,r):this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,r)):(this.startFragRequested=!0,super.loadFragment(e,r,i)):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,Nn.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:r}=this;if(r!=null&&r.readyState){let i;const o=this.getAppendedFrag(r.currentTime);o&&o.start>1&&this.flushMainBuffer(0,o.start-1);const s=this.getLevelDetails();if(s!=null&&s.live){const l=this.getMainFwdBufferInfo();if(!l||l.len<s.targetduration*2)return}if(!r.paused&&e){const l=this.hls.nextLoadLevel,c=e[l],u=this.fragLastKbps;u&&this.fragCurrent?i=this.fragCurrent.duration*c.maxBitrate/(1e3*u)+1:i=0}else i=0;const a=this.getBufferedFrag(r.currentTime+i);if(a){const l=this.followingBufferedFrag(a);if(l){this.abortCurrentFrag();const c=l.maxStartPTS?l.maxStartPTS:l.start,u=l.duration,f=Math.max(a.end,c+Math.min(Math.max(u-this.config.maxFragLookUpTolerance,u*.5),u*.75));this.flushMainBuffer(f,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case dt.KEY_LOADING:case dt.FRAG_LOADING:case dt.FRAG_LOADING_WAITING_RETRY:case dt.PARSING:case dt.PARSED:this.state=dt.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,r){super.flushMainBuffer(e,r,this.altAudio?"video":null)}onMediaAttached(e,r){super.onMediaAttached(e,r);const i=r.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),i.addEventListener("playing",this.onvplaying),i.addEventListener("seeked",this.onvseeked),this.gapController=new BTr(this.config,i,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:e}=this;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const e=this.media,r=e?e.currentTime:null;wn(r)&&this.log(`Media seeked to ${r.toFixed(3)}`);const i=this.getMainFwdBufferInfo();if(i===null||i.len===0){this.warn(`Main forward buffer length on "seeked" event ${i?i.len:"empty"})`);return}this.tick()}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(ie.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=0,this.levels=this.fragPlaying=this.backtrackFragment=null,this.altAudio=this.audioOnly=!1}onManifestParsed(e,r){let i=!1,o=!1,s;r.levels.forEach(a=>{s=a.audioCodec,s&&(s.indexOf("mp4a.40.2")!==-1&&(i=!0),s.indexOf("mp4a.40.5")!==-1&&(o=!0))}),this.audioCodecSwitch=i&&o&&!nTr(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=r.levels,this.startFragRequested=!1}onLevelLoading(e,r){const{levels:i}=this;if(!i||this.state!==dt.IDLE)return;const o=i[r.level];(!o.details||o.details.live&&this.levelLastLoaded!==r.level||this.waitForCdnTuneIn(o.details))&&(this.state=dt.WAITING_LEVEL)}onLevelLoaded(e,r){var i;const{levels:o}=this,s=r.level,a=r.details,l=a.totalduration;if(!o){this.warn(`Levels were reset while loading level ${s}`);return}this.log(`Level ${s} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""}, cc [${a.startCC}, ${a.endCC}] duration:${l}`);const c=o[s],u=this.fragCurrent;u&&(this.state===dt.FRAG_LOADING||this.state===dt.FRAG_LOADING_WAITING_RETRY)&&(u.level!==r.level||u.urlId!==c.urlId)&&u.loader&&this.abortCurrentFrag();let f=0;if(a.live||(i=c.details)!=null&&i.live){if(this.checkLiveUpdate(a),a.deltaUpdateFailed)return;f=this.alignPlaylists(a,c.details)}if(c.details=a,this.levelLastLoaded=s,this.hls.trigger(ie.LEVEL_UPDATED,{details:a,level:s}),this.state===dt.WAITING_LEVEL){if(this.waitForCdnTuneIn(a))return;this.state=dt.IDLE}this.startFragRequested?a.live&&this.synchronizeToLiveEdge(a):this.setStartPosition(a,f),this.tick()}_handleFragmentLoadProgress(e){var r;const{frag:i,part:o,payload:s}=e,{levels:a}=this;if(!a){this.warn(`Levels were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);return}const l=a[i.level],c=l.details;if(!c){this.warn(`Dropping fragment ${i.sn} of level ${i.level} after level details were reset`),this.fragmentTracker.removeFragment(i);return}const u=l.videoCodec,f=c.PTSKnown||!c.live,h=(r=i.initSegment)==null?void 0:r.data,m=this._getAudioCodec(l),g=this.transmuxer=this.transmuxer||new Mlt(this.hls,Nn.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),v=o?o.index:-1,y=v!==-1,b=new bae(i.level,i.sn,i.stats.chunkCount,s.byteLength,v,y),x=this.initPTS[i.cc];g.push(s,h,m,u,i,o,c.totalduration,f,b,x)}onAudioTrackSwitching(e,r){const i=this.altAudio;if(!!!r.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const a=this.fragCurrent;a&&(this.log("Switching to main audio track, cancel main fragment load"),a.abortRequests(),this.fragmentTracker.removeFragment(a)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const s=this.hls;i&&(s.trigger(ie.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),s.trigger(ie.AUDIO_TRACK_SWITCHED,r)}}onAudioTrackSwitched(e,r){const i=r.id,o=!!this.hls.audioTracks[i].url;if(o){const s=this.videoBuffer;s&&this.mediaBuffer!==s&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=s)}this.altAudio=o,this.tick()}onBufferCreated(e,r){const i=r.tracks;let o,s,a=!1;for(const l in i){const c=i[l];if(c.id==="main"){if(s=l,o=c,l==="video"){const u=i[l];u&&(this.videoBuffer=u.buffer)}}else a=!0}a&&o?(this.log(`Alternate track found, use ${s}.buffered to schedule main fragment loading`),this.mediaBuffer=o.buffer):this.mediaBuffer=this.media}onFragBuffered(e,r){const{frag:i,part:o}=r;if(i&&i.type!==Nn.MAIN)return;if(this.fragContextChanged(i)){this.warn(`Fragment ${i.sn}${o?" p: "+o.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}`),this.state===dt.PARSED&&(this.state=dt.IDLE);return}const s=o?o.stats:i.stats;this.fragLastKbps=Math.round(8*s.total/(s.buffering.end-s.loading.first)),i.sn!=="initSegment"&&(this.fragPrevious=i),this.fragBufferedComplete(i,o)}onError(e,r){var i;if(r.fatal){this.state=dt.ERROR;return}switch(r.details){case Ze.FRAG_GAP:case Ze.FRAG_PARSING_ERROR:case Ze.FRAG_DECRYPT_ERROR:case Ze.FRAG_LOAD_ERROR:case Ze.FRAG_LOAD_TIMEOUT:case Ze.KEY_LOAD_ERROR:case Ze.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Nn.MAIN,r);break;case Ze.LEVEL_LOAD_ERROR:case Ze.LEVEL_LOAD_TIMEOUT:case Ze.LEVEL_PARSING_ERROR:!r.levelRetry&&this.state===dt.WAITING_LEVEL&&((i=r.context)==null?void 0:i.type)===pi.LEVEL&&(this.state=dt.IDLE);break;case Ze.BUFFER_FULL_ERROR:if(!r.parent||r.parent!=="main")return;this.reduceLengthAndFlushBuffer(r)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case Ze.INTERNAL_EXCEPTION:this.recoverWorkerError(r);break}}checkBuffer(){const{media:e,gapController:r}=this;if(!(!e||!r||!e.readyState)){if(this.loadedmetadata||!Uo.getBuffered(e).length){const i=this.state!==dt.IDLE?this.fragCurrent:null;r.poll(this.lastCurrentTime,i)}this.lastCurrentTime=e.currentTime}}onFragLoadEmergencyAborted(){this.state=dt.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(e,{type:r}){if(r!==Xi.AUDIO||this.audioOnly&&!this.altAudio){const i=(r===Xi.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(i,r,Nn.MAIN)}}onLevelsUpdated(e,r){this.levels=r.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const r=e.currentTime;let i=this.startPosition;if(i>=0&&r<i){if(e.seeking){this.log(`could not seek to ${i}, already seeking at ${r}`);return}const o=Uo.getBuffered(e),a=(o.length?o.start(0):0)-i;a>0&&(a<this.config.maxBufferHole||a<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${a} to match buffer start`),i+=a,this.startPosition=i),this.log(`seek to target start position ${i} from current time ${r}`),e.currentTime=i}}_getAudioCodec(e){let r=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&r&&(this.log("Swapping audio codec"),r.indexOf("mp4a.40.5")!==-1?r="mp4a.40.2":r="mp4a.40.5"),r}_loadBitrateTestFrag(e,r){e.bitrateTest=!0,this._doFragLoad(e,r).then(i=>{const{hls:o}=this;if(!i||this.fragContextChanged(e))return;r.fragmentError=0,this.state=dt.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const s=e.stats;s.parsing.start=s.parsing.end=s.buffering.start=s.buffering.end=self.performance.now(),o.trigger(ie.FRAG_LOADED,i),e.bitrateTest=!1})}_handleTransmuxComplete(e){var r;const i="main",{hls:o}=this,{remuxResult:s,chunkMeta:a}=e,l=this.getCurrentContext(a);if(!l){this.resetWhenMissingContext(a);return}const{frag:c,part:u,level:f}=l,{video:h,text:m,id3:g,initSegment:v}=s,{details:y}=f,b=this.altAudio?void 0:s.audio;if(this.fragContextChanged(c)){this.fragmentTracker.removeFragment(c);return}if(this.state=dt.PARSING,v){if(v!=null&&v.tracks){const w=c.initSegment||c;this._bufferInitSegment(f,v.tracks,w,a),o.trigger(ie.FRAG_PARSING_INIT_SEGMENT,{frag:w,id:i,tracks:v.tracks})}const x=v.initPTS,_=v.timescale;wn(x)&&(this.initPTS[c.cc]={baseTime:x,timescale:_},o.trigger(ie.INIT_PTS_FOUND,{frag:c,id:i,initPTS:x,timescale:_}))}if(h&&y&&c.sn!=="initSegment"){const x=y.fragments[c.sn-1-y.startSN],_=c.sn===y.startSN,w=!x||c.cc>x.cc;if(s.independent!==!1){const{startPTS:C,endPTS:S,startDTS:T,endDTS:A}=h;if(u)u.elementaryStreams[h.type]={startPTS:C,endPTS:S,startDTS:T,endDTS:A};else if(h.firstKeyFrame&&h.independent&&a.id===1&&!w&&(this.couldBacktrack=!0),h.dropped&&h.independent){const I=this.getMainFwdBufferInfo(),D=(I?I.end:this.getLoadPosition())+this.config.maxBufferHole,R=h.firstKeyFramePTS?h.firstKeyFramePTS:C;if(!_&&D<R-this.config.maxBufferHole&&!w){this.backtrack(c);return}else w&&(c.gap=!0);c.setElementaryStreamInfo(h.type,c.start,S,c.start,A,!0)}c.setElementaryStreamInfo(h.type,C,S,T,A),this.backtrackFragment&&(this.backtrackFragment=c),this.bufferFragmentData(h,c,u,a,_||w)}else if(_||w)c.gap=!0;else{this.backtrack(c);return}}if(b){const{startPTS:x,endPTS:_,startDTS:w,endDTS:C}=b;u&&(u.elementaryStreams[Xi.AUDIO]={startPTS:x,endPTS:_,startDTS:w,endDTS:C}),c.setElementaryStreamInfo(Xi.AUDIO,x,_,w,C),this.bufferFragmentData(b,c,u,a)}if(y&&g!=null&&(r=g.samples)!=null&&r.length){const x={id:i,frag:c,details:y,samples:g.samples};o.trigger(ie.FRAG_PARSING_METADATA,x)}if(y&&m){const x={id:i,frag:c,details:y,samples:m.samples};o.trigger(ie.FRAG_PARSING_USERDATA,x)}}_bufferInitSegment(e,r,i,o){if(this.state!==dt.PARSING)return;this.audioOnly=!!r.audio&&!r.video,this.altAudio&&!this.audioOnly&&delete r.audio;const{audio:s,video:a,audiovideo:l}=r;if(s){let c=e.audioCodec;const u=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(c&&(c.indexOf("mp4a.40.5")!==-1?c="mp4a.40.2":c="mp4a.40.5"),s.metadata.channelCount!==1&&u.indexOf("firefox")===-1&&(c="mp4a.40.5")),u.indexOf("android")!==-1&&s.container!=="audio/mpeg"&&(c="mp4a.40.2",this.log(`Android: force audio codec to ${c}`)),e.audioCodec&&e.audioCodec!==c&&this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${c}"`),s.levelCodec=c,s.id="main",this.log(`Init audio buffer, container:${s.container}, codecs[selected/level/parsed]=[${c||""}/${e.audioCodec||""}/${s.codec}]`)}a&&(a.levelCodec=e.videoCodec,a.id="main",this.log(`Init video buffer, container:${a.container}, codecs[level/parsed]=[${e.videoCodec||""}/${a.codec}]`)),l&&this.log(`Init audiovideo buffer, container:${l.container}, codecs[level/parsed]=[${e.attrs.CODECS||""}/${l.codec}]`),this.hls.trigger(ie.BUFFER_CODECS,r),Object.keys(r).forEach(c=>{const f=r[c].initSegment;f!=null&&f.byteLength&&this.hls.trigger(ie.BUFFER_APPENDING,{type:c,data:f,frag:i,part:null,chunkMeta:o,parent:i.type})}),this.tick()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,Nn.MAIN)}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=dt.IDLE}checkFragmentChanged(){const e=this.media;let r=null;if(e&&e.readyState>1&&e.seeking===!1){const i=e.currentTime;if(Uo.isBuffered(e,i)?r=this.getAppendedFrag(i):Uo.isBuffered(e,i+.1)&&(r=this.getAppendedFrag(i+.1)),r){this.backtrackFragment=null;const o=this.fragPlaying,s=r.level;(!o||r.sn!==o.sn||o.level!==s||r.urlId!==o.urlId)&&(this.fragPlaying=r,this.hls.trigger(ie.FRAG_CHANGED,{frag:r}),(!o||o.level!==s)&&this.hls.trigger(ie.LEVEL_SWITCHED,{level:s}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){const e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}get currentProgramDateTime(){const e=this.media;if(e){const r=e.currentTime,i=this.currentFrag;if(i&&wn(r)&&wn(i.programDateTime)){const o=i.programDateTime+(r-i.start)*1e3;return new Date(o)}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class m_{constructor(e,r=0,i=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=r,this.totalWeight_=i}sample(e,r){const i=Math.pow(this.alpha_,e);this.estimate_=r*(1-i)+i*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class VTr{constructor(e,r,i,o=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new m_(e),this.fast_=new m_(r),this.defaultTTFB_=o,this.ttfb_=new m_(e)}update(e,r){const{slow_:i,fast_:o,ttfb_:s}=this;i.halfLife!==e&&(this.slow_=new m_(e,i.getEstimate(),i.getTotalWeight())),o.halfLife!==r&&(this.fast_=new m_(r,o.getEstimate(),o.getTotalWeight())),s.halfLife!==e&&(this.ttfb_=new m_(e,s.getEstimate(),s.getTotalWeight()))}sample(e,r){e=Math.max(e,this.minDelayMs_);const i=8*r,o=e/1e3,s=i/o;this.fast_.sample(o,s),this.slow_.sample(o,s)}sampleTTFB(e){const r=e/1e3,i=Math.sqrt(2)*Math.exp(-Math.pow(r,2)/2);this.ttfb_.sample(i,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}class HTr{constructor(e){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=-1,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=e;const r=e.config;this.bwEstimator=new VTr(r.abrEwmaSlowVoD,r.abrEwmaFastVoD,r.abrEwmaDefaultEstimate),this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(ie.FRAG_LOADING,this.onFragLoading,this),e.on(ie.FRAG_LOADED,this.onFragLoaded,this),e.on(ie.FRAG_BUFFERED,this.onFragBuffered,this),e.on(ie.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(ie.LEVEL_LOADED,this.onLevelLoaded,this)}unregisterListeners(){const{hls:e}=this;e.off(ie.FRAG_LOADING,this.onFragLoading,this),e.off(ie.FRAG_LOADED,this.onFragLoaded,this),e.off(ie.FRAG_BUFFERED,this.onFragBuffered,this),e.off(ie.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(ie.LEVEL_LOADED,this.onLevelLoaded,this)}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null}onFragLoading(e,r){var i;const o=r.frag;this.ignoreFragment(o)||(this.fragCurrent=o,this.partCurrent=(i=r.part)!=null?i:null,this.clearTimer(),this.timer=self.setInterval(this.onCheck,100))}onLevelSwitching(e,r){this.clearTimer()}getTimeToLoadFrag(e,r,i,o){const s=e+i/r,a=o?this.lastLevelLoadSec:0;return s+a}onLevelLoaded(e,r){const i=this.hls.config,{total:o,bwEstimate:s}=r.stats;wn(o)&&wn(s)&&(this.lastLevelLoadSec=8*o/s),r.details.live?this.bwEstimator.update(i.abrEwmaSlowLive,i.abrEwmaFastLive):this.bwEstimator.update(i.abrEwmaSlowVoD,i.abrEwmaFastVoD)}_abandonRulesCheck(){const{fragCurrent:e,partCurrent:r,hls:i}=this,{autoLevelEnabled:o,media:s}=i;if(!e||!s)return;const a=performance.now(),l=r?r.stats:e.stats,c=r?r.duration:e.duration,u=a-l.loading.start;if(l.aborted||l.loaded&&l.loaded===l.total||e.level===0){this.clearTimer(),this._nextAutoLevel=-1;return}if(!o||s.paused||!s.playbackRate||!s.readyState)return;const f=i.mainForwardBufferInfo;if(f===null)return;const h=this.bwEstimator.getEstimateTTFB(),m=Math.abs(s.playbackRate);if(u<=Math.max(h,1e3*(c/(m*2))))return;const g=f.len/m;if(g>=2*c/m)return;const v=l.loading.first?l.loading.first-l.loading.start:-1,y=l.loaded&&v>-1,b=this.bwEstimator.getEstimate(),{levels:x,minAutoLevel:_}=i,w=x[e.level],C=l.total||Math.max(l.loaded,Math.round(c*w.maxBitrate/8));let S=u-v;S<1&&y&&(S=Math.min(u,l.loaded*8/b));const T=y?l.loaded*1e3/S:0,A=T?(C-l.loaded)/T:C*8/b+h/1e3;if(A<=g)return;const I=T?T*8:b;let D=Number.POSITIVE_INFINITY,R;for(R=e.level-1;R>_;R--){const P=x[R].maxBitrate;if(D=this.getTimeToLoadFrag(h/1e3,I,c*P,!x[R].details),D<g)break}D>=A||D>c*10||(i.nextLoadLevel=R,y?this.bwEstimator.sample(u-Math.min(h,v),l.loaded):this.bwEstimator.sampleTTFB(u),this.clearTimer(),je.warn(`[abr] Fragment ${e.sn}${r?" part "+r.index:""} of level ${e.level} is loading too slowly;
      Time to underbuffer: ${g.toFixed(3)} s
      Estimated load time for current fragment: ${A.toFixed(3)} s
      Estimated load time for down switch fragment: ${D.toFixed(3)} s
      TTFB estimate: ${v}
      Current BW estimate: ${wn(b)?(b/1024).toFixed(3):"Unknown"} Kb/s
      New BW estimate: ${(this.bwEstimator.getEstimate()/1024).toFixed(3)} Kb/s
      Aborting and switching to level ${R}`),e.loader&&(this.fragCurrent=this.partCurrent=null,e.abortRequests()),i.trigger(ie.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:r,stats:l}))}onFragLoaded(e,{frag:r,part:i}){const o=i?i.stats:r.stats;if(r.type===Nn.MAIN&&this.bwEstimator.sampleTTFB(o.loading.first-o.loading.start),!this.ignoreFragment(r)){if(this.clearTimer(),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){const s=i?i.duration:r.duration,a=this.hls.levels[r.level],l=(a.loaded?a.loaded.bytes:0)+o.loaded,c=(a.loaded?a.loaded.duration:0)+s;a.loaded={bytes:l,duration:c},a.realBitrate=Math.round(8*l/c)}if(r.bitrateTest){const s={stats:o,frag:r,part:i,id:r.type};this.onFragBuffered(ie.FRAG_BUFFERED,s),r.bitrateTest=!1}}}onFragBuffered(e,r){const{frag:i,part:o}=r,s=o!=null&&o.stats.loaded?o.stats:i.stats;if(s.aborted||this.ignoreFragment(i))return;const a=s.parsing.end-s.loading.start-Math.min(s.loading.first-s.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(a,s.loaded),s.bwEstimate=this.bwEstimator.getEstimate(),i.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==Nn.MAIN||e.sn==="initSegment"}clearTimer(){self.clearInterval(this.timer)}get nextAutoLevel(){const e=this._nextAutoLevel,r=this.bwEstimator;if(e!==-1&&!r.canEstimate())return e;let i=this.getNextABRAutoLevel();if(e!==-1){const o=this.hls.levels;if(o.length>Math.max(e,i)&&o[e].loadError<=o[i].loadError)return e}return e!==-1&&(i=Math.min(e,i)),i}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:r,hls:i}=this,{maxAutoLevel:o,config:s,minAutoLevel:a,media:l}=i,c=r?r.duration:e?e.duration:0,u=l&&l.playbackRate!==0?Math.abs(l.playbackRate):1,f=this.bwEstimator?this.bwEstimator.getEstimate():s.abrEwmaDefaultEstimate,h=i.mainForwardBufferInfo,m=(h?h.len:0)/u;let g=this.findBestLevel(f,a,o,m,s.abrBandWidthFactor,s.abrBandWidthUpFactor);if(g>=0)return g;je.trace(`[abr] ${m?"rebuffering expected":"buffer is empty"}, finding optimal quality level`);let v=c?Math.min(c,s.maxStarvationDelay):s.maxStarvationDelay,y=s.abrBandWidthFactor,b=s.abrBandWidthUpFactor;if(!m){const x=this.bitrateTestDelay;x&&(v=(c?Math.min(c,s.maxLoadingDelay):s.maxLoadingDelay)-x,je.trace(`[abr] bitrate test took ${Math.round(1e3*x)}ms, set first fragment max fetchDuration to ${Math.round(1e3*v)} ms`),y=b=1)}return g=this.findBestLevel(f,a,o,m+v,y,b),Math.max(g,0)}findBestLevel(e,r,i,o,s,a){var l;const{fragCurrent:c,partCurrent:u,lastLoadedFragLevel:f}=this,{levels:h}=this.hls,m=h[f],g=!!(m!=null&&(l=m.details)!=null&&l.live),v=m==null?void 0:m.codecSet,y=u?u.duration:c?c.duration:0,b=this.bwEstimator.getEstimateTTFB()/1e3;let x=r,_=-1;for(let w=i;w>=r;w--){const C=h[w];if(!C||v&&C.codecSet!==v){C&&(x=Math.min(w,x),_=Math.max(w,_));continue}_!==-1&&je.trace(`[abr] Skipped level(s) ${x}-${_} with CODECS:"${h[_].attrs.CODECS}"; not compatible with "${m.attrs.CODECS}"`);const S=C.details,T=(u?S==null?void 0:S.partTarget:S==null?void 0:S.averagetargetduration)||y;let A;w<=f?A=s*e:A=a*e;const I=h[w].maxBitrate,D=this.getTimeToLoadFrag(b,A,I*T,S===void 0);if(je.trace(`[abr] level:${w} adjustedbw-bitrate:${Math.round(A-I)} avgDuration:${T.toFixed(1)} maxFetchDuration:${o.toFixed(1)} fetchDuration:${D.toFixed(1)}`),A>I&&(D===0||!wn(D)||g&&!this.bitrateTestDelay||D<o))return w}return-1}set nextAutoLevel(e){this._nextAutoLevel=e}}class Flt{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:r}=this;let i;if(e.length)e.length===1?i=e[0]:i=WTr(e,r);else return new Uint8Array(0);return this.reset(),i}reset(){this.chunks.length=0,this.dataLength=0}}function WTr(n,e){const r=new Uint8Array(e);let i=0;for(let o=0;o<n.length;o++){const s=n[o];r.set(s,i),i+=s.length}return r}const A3e=100;class GTr extends _ae{constructor(e,r,i){super(e,r,i,"[audio-stream-controller]",Nn.AUDIO),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:e}=this;e.on(ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ie.LEVEL_LOADED,this.onLevelLoaded,this),e.on(ie.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(ie.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(ie.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(ie.ERROR,this.onError,this),e.on(ie.BUFFER_RESET,this.onBufferReset,this),e.on(ie.BUFFER_CREATED,this.onBufferCreated,this),e.on(ie.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(ie.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(ie.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ie.LEVEL_LOADED,this.onLevelLoaded,this),e.off(ie.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(ie.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(ie.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(ie.ERROR,this.onError,this),e.off(ie.BUFFER_RESET,this.onBufferReset,this),e.off(ie.BUFFER_CREATED,this.onBufferCreated,this),e.off(ie.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(ie.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(ie.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(e,{frag:r,id:i,initPTS:o,timescale:s}){if(i==="main"){const a=r.cc;this.initPTS[r.cc]={baseTime:o,timescale:s},this.log(`InitPTS for cc: ${a} found from main: ${o}`),this.videoTrackCC=a,this.state===dt.WAITING_INIT_PTS&&this.tick()}}startLoad(e){if(!this.levels){this.startPosition=e,this.state=dt.STOPPED;return}const r=this.lastCurrentTime;this.stopLoad(),this.setInterval(A3e),r>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${r.toFixed(3)}`),e=r,this.state=dt.IDLE):(this.loadedmetadata=!1,this.state=dt.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}doTick(){switch(this.state){case dt.IDLE:this.doTickIdle();break;case dt.WAITING_TRACK:{var e;const{levels:i,trackId:o}=this,s=i==null||(e=i[o])==null?void 0:e.details;if(s){if(this.waitForCdnTuneIn(s))break;this.state=dt.WAITING_INIT_PTS}break}case dt.FRAG_LOADING_WAITING_RETRY:{var r;const i=performance.now(),o=this.retryDate;(!o||i>=o||(r=this.media)!=null&&r.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded(this.trackId),this.state=dt.IDLE);break}case dt.WAITING_INIT_PTS:{const i=this.waitingData;if(i){const{frag:o,part:s,cache:a,complete:l}=i;if(this.initPTS[o.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=dt.FRAG_LOADING;const c=a.flush(),u={frag:o,part:s,payload:c,networkDetails:null};this._handleFragmentLoadProgress(u),l&&super._handleFragmentLoadComplete(u)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${o.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const c=this.getLoadPosition(),u=Uo.bufferInfo(this.mediaBuffer,c,this.config.maxBufferHole);wX(u.end,this.config.maxFragLookUpTolerance,o)<0&&(this.log(`Waiting fragment cc (${o.cc}) @ ${o.start} cancelled because another fragment at ${u.end} is needed`),this.clearWaitingFragment())}}else this.state=dt.IDLE}}this.onTickEnd()}clearWaitingFragment(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=dt.IDLE)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){const{hls:e,levels:r,media:i,trackId:o}=this,s=e.config;if(!(r!=null&&r[o])||!i&&(this.startFragRequested||!s.startFragPrefetch))return;const a=r[o],l=a.details;if(!l||l.live&&this.levelLastLoaded!==o||this.waitForCdnTuneIn(l)){this.state=dt.WAITING_TRACK;return}const c=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&c&&(this.bufferFlushed=!1,this.afterBufferFlushed(c,Xi.AUDIO,Nn.AUDIO));const u=this.getFwdBufferInfo(c,Nn.AUDIO);if(u===null)return;const{bufferedTrack:f,switchingTrack:h}=this;if(!h&&this._streamEnded(u,l)){e.trigger(ie.BUFFER_EOS,{type:"audio"}),this.state=dt.ENDED;return}const m=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,Nn.MAIN),g=u.len,v=this.getMaxBufferLength(m==null?void 0:m.len);if(g>=v&&!h)return;const b=l.fragments[0].start;let x=u.end;if(h&&i){const S=this.getLoadPosition();f&&h.attrs!==f.attrs&&(x=S),l.PTSKnown&&S<b&&(u.end>b||u.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=b+.05)}let _=this.getNextFragment(x,l),w=!1;if(_&&this.isLoopLoading(_,x)&&(w=!!_.gap,_=this.getNextFragmentLoopLoading(_,l,u,Nn.MAIN,v)),!_){this.bufferFlushed=!0;return}const C=m&&_.start>m.end+l.targetduration;if(C||!(m!=null&&m.len)&&u.len){const S=this.getAppendedFrag(_.start,Nn.MAIN);if(S===null||(w||(w=!!S.gap||!!C&&m.len===0),C&&!w||w&&u.nextStart&&u.nextStart<S.end))return}this.loadFragment(_,a,x)}getMaxBufferLength(e){const r=super.getMaxBufferLength();return e?Math.min(Math.max(r,e),this.config.maxMaxBufferLength):r}onMediaDetaching(){this.videoBuffer=null,super.onMediaDetaching()}onAudioTracksUpdated(e,{audioTracks:r}){this.resetTransmuxer(),this.levels=r.map(i=>new wI(i))}onAudioTrackSwitching(e,r){const i=!!r.url;this.trackId=r.id;const{fragCurrent:o}=this;o&&(o.abortRequests(),this.removeUnbufferedFrags(o.start)),this.resetLoadingState(),i?this.setInterval(A3e):this.resetTransmuxer(),i?(this.switchingTrack=r,this.state=dt.IDLE):(this.switchingTrack=null,this.bufferedTrack=r,this.state=dt.STOPPED),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(e,r){this.mainDetails=r.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger(ie.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(e,r){var i;if(this.mainDetails==null){this.cachedTrackLoadedData=r;return}const{levels:o}=this,{details:s,id:a}=r;if(!o){this.warn(`Audio tracks were reset while loading level ${a}`);return}this.log(`Track ${a} loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""},duration:${s.totalduration}`);const l=o[a];let c=0;if(s.live||(i=l.details)!=null&&i.live){this.checkLiveUpdate(s);const u=this.mainDetails;if(s.deltaUpdateFailed||!u)return;!l.details&&s.hasProgramDateTime&&u.hasProgramDateTime?(_lt(s,u),c=s.fragments[0].start):c=this.alignPlaylists(s,l.details)}l.details=s,this.levelLastLoaded=a,!this.startFragRequested&&(this.mainDetails||!s.live)&&this.setStartPosition(l.details,c),this.state===dt.WAITING_TRACK&&!this.waitForCdnTuneIn(s)&&(this.state=dt.IDLE),this.tick()}_handleFragmentLoadProgress(e){var r;const{frag:i,part:o,payload:s}=e,{config:a,trackId:l,levels:c}=this;if(!c){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);return}const u=c[l];if(!u){this.warn("Audio track is undefined on fragment load progress");return}const f=u.details;if(!f){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(i.start);return}const h=a.defaultAudioCodec||u.audioCodec||"mp4a.40.2";let m=this.transmuxer;m||(m=this.transmuxer=new Mlt(this.hls,Nn.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const g=this.initPTS[i.cc],v=(r=i.initSegment)==null?void 0:r.data;if(g!==void 0){const b=o?o.index:-1,x=b!==-1,_=new bae(i.level,i.sn,i.stats.chunkCount,s.byteLength,b,x);m.push(s,v,h,"",i,o,f.totalduration,!1,_,g)}else{this.log(`Unknown video PTS for cc ${i.cc}, waiting for video PTS before demuxing audio frag ${i.sn} of [${f.startSN} ,${f.endSN}],track ${l}`);const{cache:y}=this.waitingData=this.waitingData||{frag:i,part:o,cache:new Flt,complete:!1};y.push(new Uint8Array(s)),this.waitingVideoCC=this.videoTrackCC,this.state=dt.WAITING_INIT_PTS}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(e,r){const i=r.tracks.audio;i&&(this.mediaBuffer=i.buffer||null),r.tracks.video&&(this.videoBuffer=r.tracks.video.buffer||null)}onFragBuffered(e,r){const{frag:i,part:o}=r;if(i.type!==Nn.AUDIO){if(!this.loadedmetadata&&i.type===Nn.MAIN){const s=this.videoBuffer||this.media;s&&Uo.getBuffered(s).length&&(this.loadedmetadata=!0)}return}if(this.fragContextChanged(i)){this.warn(`Fragment ${i.sn}${o?" p: "+o.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(i.sn!=="initSegment"){this.fragPrevious=i;const s=this.switchingTrack;s&&(this.bufferedTrack=s,this.switchingTrack=null,this.hls.trigger(ie.AUDIO_TRACK_SWITCHED,Ac({},s)))}this.fragBufferedComplete(i,o)}onError(e,r){var i;if(r.fatal){this.state=dt.ERROR;return}switch(r.details){case Ze.FRAG_GAP:case Ze.FRAG_PARSING_ERROR:case Ze.FRAG_DECRYPT_ERROR:case Ze.FRAG_LOAD_ERROR:case Ze.FRAG_LOAD_TIMEOUT:case Ze.KEY_LOAD_ERROR:case Ze.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(Nn.AUDIO,r);break;case Ze.AUDIO_TRACK_LOAD_ERROR:case Ze.AUDIO_TRACK_LOAD_TIMEOUT:case Ze.LEVEL_PARSING_ERROR:!r.levelRetry&&this.state===dt.WAITING_TRACK&&((i=r.context)==null?void 0:i.type)===pi.AUDIO_TRACK&&(this.state=dt.IDLE);break;case Ze.BUFFER_FULL_ERROR:if(!r.parent||r.parent!=="audio")return;this.reduceLengthAndFlushBuffer(r)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case Ze.INTERNAL_EXCEPTION:this.recoverWorkerError(r);break}}onBufferFlushed(e,{type:r}){r===Xi.AUDIO&&(this.bufferFlushed=!0,this.state===dt.ENDED&&(this.state=dt.IDLE))}_handleTransmuxComplete(e){var r;const i="audio",{hls:o}=this,{remuxResult:s,chunkMeta:a}=e,l=this.getCurrentContext(a);if(!l){this.resetWhenMissingContext(a);return}const{frag:c,part:u,level:f}=l,{details:h}=f,{audio:m,text:g,id3:v,initSegment:y}=s;if(this.fragContextChanged(c)||!h){this.fragmentTracker.removeFragment(c);return}if(this.state=dt.PARSING,this.switchingTrack&&m&&this.completeAudioSwitch(this.switchingTrack),y!=null&&y.tracks){const b=c.initSegment||c;this._bufferInitSegment(y.tracks,b,a),o.trigger(ie.FRAG_PARSING_INIT_SEGMENT,{frag:b,id:i,tracks:y.tracks})}if(m){const{startPTS:b,endPTS:x,startDTS:_,endDTS:w}=m;u&&(u.elementaryStreams[Xi.AUDIO]={startPTS:b,endPTS:x,startDTS:_,endDTS:w}),c.setElementaryStreamInfo(Xi.AUDIO,b,x,_,w),this.bufferFragmentData(m,c,u,a)}if(v!=null&&(r=v.samples)!=null&&r.length){const b=Oa({id:i,frag:c,details:h},v);o.trigger(ie.FRAG_PARSING_METADATA,b)}if(g){const b=Oa({id:i,frag:c,details:h},g);o.trigger(ie.FRAG_PARSING_USERDATA,b)}}_bufferInitSegment(e,r,i){if(this.state!==dt.PARSING)return;e.video&&delete e.video;const o=e.audio;if(!o)return;o.levelCodec=o.codec,o.id="audio",this.log(`Init audio buffer, container:${o.container}, codecs[parsed]=[${o.codec}]`),this.hls.trigger(ie.BUFFER_CODECS,e);const s=o.initSegment;if(s!=null&&s.byteLength){const a={type:"audio",frag:r,part:null,chunkMeta:i,parent:r.type,data:s};this.hls.trigger(ie.BUFFER_APPENDING,a)}this.tick()}loadFragment(e,r,i){const o=this.fragmentTracker.getState(e);if(this.fragCurrent=e,this.switchingTrack||o===Wa.NOT_LOADED||o===Wa.PARTIAL){var s;e.sn==="initSegment"?this._loadInitSegment(e,r):(s=r.details)!=null&&s.live&&!this.initPTS[e.cc]?(this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=dt.WAITING_INIT_PTS):(this.startFragRequested=!0,super.loadFragment(e,r,i))}else this.clearTrackerIfNeeded(e)}completeAudioSwitch(e){const{hls:r,media:i,bufferedTrack:o}=this,s=o==null?void 0:o.attrs,a=e.attrs;i&&s&&(s.CHANNELS!==a.CHANNELS||s.NAME!==a.NAME||s.LANGUAGE!==a.LANGUAGE)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio")),this.bufferedTrack=e,this.switchingTrack=null,r.trigger(ie.AUDIO_TRACK_SWITCHED,Ac({},e))}}class qTr extends yae{constructor(e){super(e,"[audio-track-controller]"),this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ie.MANIFEST_PARSED,this.onManifestParsed,this),e.on(ie.LEVEL_LOADING,this.onLevelLoading,this),e.on(ie.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(ie.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(ie.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ie.MANIFEST_PARSED,this.onManifestParsed,this),e.off(ie.LEVEL_LOADING,this.onLevelLoading,this),e.off(ie.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(ie.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(ie.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,r){this.tracks=r.audioTracks||[]}onAudioTrackLoaded(e,r){const{id:i,groupId:o,details:s}=r,a=this.tracksInGroup[i];if(!a||a.groupId!==o){this.warn(`Track with id:${i} and group:${o} not found in active group ${a.groupId}`);return}const l=a.details;a.details=r.details,this.log(`audio-track ${i} "${a.name}" lang:${a.lang} group:${o} loaded [${s.startSN}-${s.endSN}]`),i===this.trackId&&this.playlistLoaded(i,r,l)}onLevelLoading(e,r){this.switchLevel(r.level)}onLevelSwitching(e,r){this.switchLevel(r.level)}switchLevel(e){const r=this.hls.levels[e];if(!(r!=null&&r.audioGroupIds))return;const i=r.audioGroupIds[r.urlId];if(this.groupId!==i){this.groupId=i||null;const o=this.tracks.filter(a=>!i||a.groupId===i);this.selectDefaultTrack&&!o.some(a=>a.default)&&(this.selectDefaultTrack=!1),this.tracksInGroup=o;const s={audioTracks:o};this.log(`Updating audio tracks, ${o.length} track(s) found in group:${i}`),this.hls.trigger(ie.AUDIO_TRACKS_UPDATED,s),this.selectInitialTrack()}else this.shouldReloadPlaylist(this.currentTrack)&&this.setAudioTrack(this.trackId)}onError(e,r){r.fatal||!r.context||r.context.type===pi.AUDIO_TRACK&&r.context.id===this.trackId&&r.context.groupId===this.groupId&&(this.requestScheduled=-1,this.checkRetry(r))}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioTrack(e){const r=this.tracksInGroup;if(e<0||e>=r.length){this.warn("Invalid id passed to audio-track controller");return}this.clearTimer();const i=this.currentTrack;r[this.trackId];const o=r[e],{groupId:s,name:a}=o;if(this.log(`Switching to audio-track ${e} "${a}" lang:${o.lang} group:${s}`),this.trackId=e,this.currentTrack=o,this.selectDefaultTrack=!1,this.hls.trigger(ie.AUDIO_TRACK_SWITCHING,Ac({},o)),o.details&&!o.details.live)return;const l=this.switchParams(o.url,i==null?void 0:i.details);this.loadPlaylist(l)}selectInitialTrack(){const e=this.tracksInGroup,r=this.findTrackId(this.currentTrack)|this.findTrackId(null);if(r!==-1)this.setAudioTrack(r);else{const i=new Error(`No track found for running audio group-ID: ${this.groupId} track count: ${e.length}`);this.warn(i.message),this.hls.trigger(ie.ERROR,{type:Ln.MEDIA_ERROR,details:Ze.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:i})}}findTrackId(e){const r=this.tracksInGroup;for(let i=0;i<r.length;i++){const o=r[i];if((!this.selectDefaultTrack||o.default)&&(!e||e.attrs["STABLE-RENDITION-ID"]!==void 0&&e.attrs["STABLE-RENDITION-ID"]===o.attrs["STABLE-RENDITION-ID"]||e.name===o.name&&e.lang===o.lang))return o.id}return-1}loadPlaylist(e){super.loadPlaylist();const r=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(r)){const i=r.id,o=r.groupId;let s=r.url;if(e)try{s=e.addDirectives(s)}catch(a){this.warn(`Could not construct new URL with HLS Delivery Directives: ${a}`)}this.log(`loading audio-track playlist ${i} "${r.name}" lang:${r.lang} group:${o}`),this.clearTimer(),this.hls.trigger(ie.AUDIO_TRACK_LOADING,{url:s,id:i,groupId:o,deliveryDirectives:e||null})}}}function Nlt(n,e){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++)if(!KTr(n[r].attrs,e[r].attrs))return!1;return!0}function KTr(n,e){const r=n["STABLE-RENDITION-ID"];return r?r===e["STABLE-RENDITION-ID"]:!["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED"].some(i=>n[i]!==e[i])}const I3e=500;class YTr extends _ae{constructor(e,r,i){super(e,r,i,"[subtitle-stream-controller]",Nn.SUBTITLE),this.levels=[],this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),this.mainDetails=null}_registerListeners(){const{hls:e}=this;e.on(ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ie.LEVEL_LOADED,this.onLevelLoaded,this),e.on(ie.ERROR,this.onError,this),e.on(ie.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(ie.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(ie.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(ie.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(ie.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(ie.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ie.LEVEL_LOADED,this.onLevelLoaded,this),e.off(ie.ERROR,this.onError,this),e.off(ie.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(ie.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(ie.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(ie.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(ie.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(ie.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(e){this.stopLoad(),this.state=dt.IDLE,this.setInterval(I3e),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(e,r){this.mainDetails=r.details}onSubtitleFragProcessed(e,r){const{frag:i,success:o}=r;if(this.fragPrevious=i,this.state=dt.IDLE,!o)return;const s=this.tracksBuffered[this.currentTrackId];if(!s)return;let a;const l=i.start;for(let u=0;u<s.length;u++)if(l>=s[u].start&&l<=s[u].end){a=s[u];break}const c=i.start+i.duration;a?a.end=c:(a={start:l,end:c},s.push(a)),this.fragmentTracker.fragBuffered(i)}onBufferFlushing(e,r){const{startOffset:i,endOffset:o}=r;if(i===0&&o!==Number.POSITIVE_INFINITY){const s=o-1;if(s<=0)return;r.endOffsetSubtitles=Math.max(0,s),this.tracksBuffered.forEach(a=>{for(let l=0;l<a.length;){if(a[l].end<=s){a.shift();continue}else if(a[l].start<s)a[l].start=s;else break;l++}}),this.fragmentTracker.removeFragmentsInRange(i,s,Nn.SUBTITLE)}}onFragBuffered(e,r){if(!this.loadedmetadata&&r.frag.type===Nn.MAIN){var i;(i=this.media)!=null&&i.buffered.length&&(this.loadedmetadata=!0)}}onError(e,r){const i=r.frag;(i==null?void 0:i.type)===Nn.SUBTITLE&&(this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==dt.STOPPED&&(this.state=dt.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:r}){if(Nlt(this.levels,r)){this.levels=r.map(i=>new wI(i));return}this.tracksBuffered=[],this.levels=r.map(i=>{const o=new wI(i);return this.tracksBuffered[o.id]=[],o}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,Nn.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,r){if(this.currentTrackId=r.id,!this.levels.length||this.currentTrackId===-1){this.clearInterval();return}const i=this.levels[this.currentTrackId];i!=null&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.setInterval(I3e)}onSubtitleTrackLoaded(e,r){var i;const{details:o,id:s}=r,{currentTrackId:a,levels:l}=this;if(!l.length)return;const c=l[a];if(s>=l.length||s!==a||!c)return;this.mediaBuffer=this.mediaBufferTimeRanges;let u=0;if(o.live||(i=c.details)!=null&&i.live){const f=this.mainDetails;if(o.deltaUpdateFailed||!f)return;const h=f.fragments[0];c.details?(u=this.alignPlaylists(o,c.details),u===0&&h&&(u=h.start,xX(o,u))):o.hasProgramDateTime&&f.hasProgramDateTime?(_lt(o,f),u=o.fragments[0].start):h&&(u=h.start,xX(o,u))}c.details=o,this.levelLastLoaded=s,!this.startFragRequested&&(this.mainDetails||!o.live)&&this.setStartPosition(c.details,u),this.tick(),o.live&&!this.fragCurrent&&this.media&&this.state===dt.IDLE&&(_I(null,o.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),c.details=void 0))}_handleFragmentLoadComplete(e){const{frag:r,payload:i}=e,o=r.decryptdata,s=this.hls;if(!this.fragContextChanged(r)&&i&&i.byteLength>0&&o&&o.key&&o.iv&&o.method==="AES-128"){const a=performance.now();this.decrypter.decrypt(new Uint8Array(i),o.key.buffer,o.iv.buffer).catch(l=>{throw s.trigger(ie.ERROR,{type:Ln.MEDIA_ERROR,details:Ze.FRAG_DECRYPT_ERROR,fatal:!1,error:l,reason:l.message,frag:r}),l}).then(l=>{const c=performance.now();s.trigger(ie.FRAG_DECRYPTED,{frag:r,payload:l,stats:{tstart:a,tdecrypt:c}})}).catch(l=>{this.warn(`${l.name}: ${l.message}`),this.state=dt.IDLE})}}doTick(){if(!this.media){this.state=dt.IDLE;return}if(this.state===dt.IDLE){const{currentTrackId:e,levels:r}=this,i=r[e];if(!r.length||!i||!i.details)return;const{config:o}=this,s=this.getLoadPosition(),a=Uo.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],s,o.maxBufferHole),{end:l,len:c}=a,u=this.getFwdBufferInfo(this.media,Nn.MAIN),f=i.details,h=this.getMaxBufferLength(u==null?void 0:u.len)+f.levelTargetDuration;if(c>h)return;const m=f.fragments,g=m.length,v=f.edge;let y=null;const b=this.fragPrevious;if(l<v){const x=o.maxFragLookUpTolerance,_=l>v-x?0:x;y=_I(b,m,Math.max(m[0].start,l),_),!y&&b&&b.start<m[0].start&&(y=m[0])}else y=m[g-1];if(!y)return;if(y=this.mapToInitFragWhenRequired(y),y.sn!=="initSegment"){const x=y.sn-f.startSN,_=m[x-1];_&&_.cc===y.cc&&this.fragmentTracker.getState(_)===Wa.NOT_LOADED&&(y=_)}this.fragmentTracker.getState(y)===Wa.NOT_LOADED&&this.loadFragment(y,i,l)}}getMaxBufferLength(e){const r=super.getMaxBufferLength();return e?Math.max(r,e):r}loadFragment(e,r,i){this.fragCurrent=e,e.sn==="initSegment"?this._loadInitSegment(e,r):(this.startFragRequested=!0,super.loadFragment(e,r,i))}get mediaBufferTimeRanges(){return new ZTr(this.tracksBuffered[this.currentTrackId]||[])}}class ZTr{constructor(e){this.buffered=void 0;const r=(i,o,s)=>{if(o=o>>>0,o>s-1)throw new DOMException(`Failed to execute '${i}' on 'TimeRanges': The index provided (${o}) is greater than the maximum bound (${s})`);return e[o][i]};this.buffered={get length(){return e.length},end(i){return r("end",i,e.length)},start(i){return r("start",i,e.length)}}}}class XTr extends yae{constructor(e){super(e,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.trackChangeListener=()=>this.onTextTracksChanged(),this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes(this.trackId)}registerListeners(){const{hls:e}=this;e.on(ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ie.MANIFEST_PARSED,this.onManifestParsed,this),e.on(ie.LEVEL_LOADING,this.onLevelLoading,this),e.on(ie.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(ie.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(ie.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ie.MANIFEST_PARSED,this.onManifestParsed,this),e.off(ie.LEVEL_LOADING,this.onLevelLoading,this),e.off(ie.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(ie.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(ie.ERROR,this.onError,this)}onMediaAttached(e,r){this.media=r.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,e)}onMediaDetaching(){if(!this.media)return;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),uW(this.media.textTracks).forEach(r=>{$E(r)}),this.subtitleTrack=-1,this.media=null}onManifestLoading(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,r){this.tracks=r.subtitleTracks}onSubtitleTrackLoaded(e,r){const{id:i,details:o}=r,{trackId:s}=this,a=this.tracksInGroup[s];if(!a){this.warn(`Invalid subtitle track id ${i}`);return}const l=a.details;a.details=r.details,this.log(`subtitle track ${i} loaded [${o.startSN}-${o.endSN}]`),i===this.trackId&&this.playlistLoaded(i,r,l)}onLevelLoading(e,r){this.switchLevel(r.level)}onLevelSwitching(e,r){this.switchLevel(r.level)}switchLevel(e){const r=this.hls.levels[e];if(!(r!=null&&r.textGroupIds))return;const i=r.textGroupIds[r.urlId],o=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;if(this.groupId!==i){const s=this.tracks.filter(c=>!i||c.groupId===i);this.tracksInGroup=s;const a=this.findTrackId(o==null?void 0:o.name)||this.findTrackId();this.groupId=i||null;const l={subtitleTracks:s};this.log(`Updating subtitle tracks, ${s.length} track(s) found in "${i}" group-id`),this.hls.trigger(ie.SUBTITLE_TRACKS_UPDATED,l),a!==-1&&this.setSubtitleTrack(a,o)}else this.shouldReloadPlaylist(o)&&this.setSubtitleTrack(this.trackId,o)}findTrackId(e){const r=this.tracksInGroup;for(let i=0;i<r.length;i++){const o=r[i];if((!this.selectDefaultTrack||o.default)&&(!e||e===o.name))return o.id}return-1}onError(e,r){r.fatal||!r.context||r.context.type===pi.SUBTITLE_TRACK&&r.context.id===this.trackId&&r.context.groupId===this.groupId&&this.checkRetry(r)}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1;const r=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(e,r)}loadPlaylist(e){super.loadPlaylist();const r=this.tracksInGroup[this.trackId];if(this.shouldLoadPlaylist(r)){const i=r.id,o=r.groupId;let s=r.url;if(e)try{s=e.addDirectives(s)}catch(a){this.warn(`Could not construct new URL with HLS Delivery Directives: ${a}`)}this.log(`Loading subtitle playlist for id ${i}`),this.hls.trigger(ie.SUBTITLE_TRACK_LOADING,{url:s,id:i,groupId:o,deliveryDirectives:e||null})}}toggleTrackModes(e){const{media:r,trackId:i}=this;if(!r)return;const o=uW(r.textTracks),s=o.filter(l=>l.groupId===this.groupId);if(e===-1)[].slice.call(o).forEach(l=>{l.mode="disabled"});else{const l=s[i];l&&(l.mode="disabled")}const a=s[e];a&&(a.mode=this.subtitleDisplay?"showing":"hidden")}setSubtitleTrack(e,r){var i;const o=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(this.trackId!==e&&this.toggleTrackModes(e),this.trackId===e&&(e===-1||(i=o[e])!=null&&i.details)||e<-1||e>=o.length)return;this.clearTimer();const s=o[e];if(this.log(`Switching to subtitle-track ${e}`+(s?` "${s.name}" lang:${s.lang} group:${s.groupId}`:"")),this.trackId=e,s){const{id:a,groupId:l="",name:c,type:u,url:f}=s;this.hls.trigger(ie.SUBTITLE_TRACK_SWITCH,{id:a,groupId:l,name:c,type:u,url:f});const h=this.switchParams(s.url,r==null?void 0:r.details);this.loadPlaylist(h)}else this.hls.trigger(ie.SUBTITLE_TRACK_SWITCH,{id:e})}onTextTracksChanged(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let e=-1;const r=uW(this.media.textTracks);for(let i=0;i<r.length;i++)if(r[i].mode==="hidden")e=i;else if(r[i].mode==="showing"){e=i;break}this.subtitleTrack!==e&&(this.subtitleTrack=e)}}function uW(n){const e=[];for(let r=0;r<n.length;r++){const i=n[r];(i.kind==="subtitles"||i.kind==="captions")&&i.label&&e.push(n[r])}return e}class QTr{constructor(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}append(e,r){const i=this.queues[r];i.push(e),i.length===1&&this.buffers[r]&&this.executeNext(r)}insertAbort(e,r){this.queues[r].unshift(e),this.executeNext(r)}appendBlocker(e){let r;const i=new Promise(s=>{r=s}),o={execute:r,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(o,e),i}executeNext(e){const{buffers:r,queues:i}=this,o=r[e],s=i[e];if(s.length){const a=s[0];try{a.execute()}catch(l){je.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),a.onError(l),o!=null&&o.updating||(s.shift(),this.executeNext(e))}}}shiftAndExecuteNext(e){this.queues[e].shift(),this.executeNext(e)}current(e){return this.queues[e][0]}}const D3e=t7(),R3e=/([ha]vc.)(?:\.[^.,]+)+/;class JTr{constructor(e){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=()=>{const{media:r,mediaSource:i}=this;je.log("[buffer-controller]: Media source opened"),r&&(r.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(ie.MEDIA_ATTACHED,{media:r})),i&&i.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{je.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=()=>{je.log("[buffer-controller]: Media source ended")},this._onMediaEmptied=()=>{const{media:r,_objectUrl:i}=this;r&&r.src!==i&&je.error(`Media element src was set while attaching MediaSource (${i} > ${r.src})`)},this.hls=e,this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null}registerListeners(){const{hls:e}=this;e.on(ie.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ie.MANIFEST_PARSED,this.onManifestParsed,this),e.on(ie.BUFFER_RESET,this.onBufferReset,this),e.on(ie.BUFFER_APPENDING,this.onBufferAppending,this),e.on(ie.BUFFER_CODECS,this.onBufferCodecs,this),e.on(ie.BUFFER_EOS,this.onBufferEos,this),e.on(ie.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(ie.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(ie.FRAG_PARSED,this.onFragParsed,this),e.on(ie.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:e}=this;e.off(ie.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ie.MANIFEST_PARSED,this.onManifestParsed,this),e.off(ie.BUFFER_RESET,this.onBufferReset,this),e.off(ie.BUFFER_APPENDING,this.onBufferAppending,this),e.off(ie.BUFFER_CODECS,this.onBufferCodecs,this),e.off(ie.BUFFER_EOS,this.onBufferEos,this),e.off(ie.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(ie.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(ie.FRAG_PARSED,this.onFragParsed,this),e.off(ie.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new QTr(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,r){let i=2;(r.audio&&!r.video||!r.altAudio)&&(i=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=i,je.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(e,r){const i=this.media=r.media;if(i&&D3e){const o=this.mediaSource=new D3e;o.addEventListener("sourceopen",this._onMediaSourceOpen),o.addEventListener("sourceended",this._onMediaSourceEnded),o.addEventListener("sourceclose",this._onMediaSourceClose),i.src=self.URL.createObjectURL(o),this._objectUrl=i.src,i.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:e,mediaSource:r,_objectUrl:i}=this;if(r){if(je.log("[buffer-controller]: media source detaching"),r.readyState==="open")try{r.endOfStream()}catch(o){je.warn(`[buffer-controller]: onMediaDetaching: ${o.message} while calling endOfStream`)}this.onBufferReset(),r.removeEventListener("sourceopen",this._onMediaSourceOpen),r.removeEventListener("sourceended",this._onMediaSourceEnded),r.removeEventListener("sourceclose",this._onMediaSourceClose),e&&(e.removeEventListener("emptied",this._onMediaEmptied),i&&self.URL.revokeObjectURL(i),e.src===i?(e.removeAttribute("src"),e.load()):je.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(ie.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(e=>{const r=this.sourceBuffer[e];try{r&&(this.removeBufferListeners(e),this.mediaSource&&this.mediaSource.removeSourceBuffer(r),this.sourceBuffer[e]=void 0)}catch(i){je.warn(`[buffer-controller]: Failed to reset the ${e} buffer`,i)}}),this._initSourceBuffer()}onBufferCodecs(e,r){const i=this.getSourceBufferTypes().length;Object.keys(r).forEach(o=>{if(i){const s=this.tracks[o];if(s&&typeof s.buffer.changeType=="function"){const{id:a,codec:l,levelCodec:c,container:u,metadata:f}=r[o],h=(s.levelCodec||s.codec).replace(R3e,"$1"),m=(c||l).replace(R3e,"$1");if(h!==m){const g=`${u};codecs=${c||l}`;this.appendChangeType(o,g),je.log(`[buffer-controller]: switching codec ${h} to ${m}`),this.tracks[o]={buffer:s.buffer,codec:l,container:u,levelCodec:c,metadata:f,id:a}}}}else this.pendingTracks[o]=r[o]}),!i&&(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks())}appendChangeType(e,r){const{operationQueue:i}=this,o={execute:()=>{const s=this.sourceBuffer[e];s&&(je.log(`[buffer-controller]: changing ${e} sourceBuffer type to ${r}`),s.changeType(r)),i.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:s=>{je.warn(`[buffer-controller]: Failed to change ${e} SourceBuffer type`,s)}};i.append(o,e)}onBufferAppending(e,r){const{hls:i,operationQueue:o,tracks:s}=this,{data:a,type:l,frag:c,part:u,chunkMeta:f}=r,h=f.buffering[l],m=self.performance.now();h.start=m;const g=c.stats.buffering,v=u?u.stats.buffering:null;g.start===0&&(g.start=m),v&&v.start===0&&(v.start=m);const y=s.audio;let b=!1;l==="audio"&&(y==null?void 0:y.container)==="audio/mpeg"&&(b=!this.lastMpegAudioChunk||f.id===1||this.lastMpegAudioChunk.sn!==f.sn,this.lastMpegAudioChunk=f);const x=c.start,_={execute:()=>{if(h.executeStart=self.performance.now(),b){const w=this.sourceBuffer[l];if(w){const C=x-w.timestampOffset;Math.abs(C)>=.1&&(je.log(`[buffer-controller]: Updating audio SourceBuffer timestampOffset to ${x} (delta: ${C}) sn: ${c.sn})`),w.timestampOffset=x)}}this.appendExecutor(a,l)},onStart:()=>{},onComplete:()=>{const w=self.performance.now();h.executeEnd=h.end=w,g.first===0&&(g.first=w),v&&v.first===0&&(v.first=w);const{sourceBuffer:C}=this,S={};for(const T in C)S[T]=Uo.getBuffered(C[T]);this.appendError=0,this.hls.trigger(ie.BUFFER_APPENDED,{type:l,frag:c,part:u,chunkMeta:f,parent:c.type,timeRanges:S})},onError:w=>{je.error(`[buffer-controller]: Error encountered while trying to append to the ${l} SourceBuffer`,w);const C={type:Ln.MEDIA_ERROR,parent:c.type,details:Ze.BUFFER_APPEND_ERROR,frag:c,part:u,chunkMeta:f,error:w,err:w,fatal:!1};w.code===DOMException.QUOTA_EXCEEDED_ERR?C.details=Ze.BUFFER_FULL_ERROR:(this.appendError++,C.details=Ze.BUFFER_APPEND_ERROR,this.appendError>i.config.appendErrorMaxRetry&&(je.error(`[buffer-controller]: Failed ${i.config.appendErrorMaxRetry} times to append segment in sourceBuffer`),C.fatal=!0)),i.trigger(ie.ERROR,C)}};o.append(_,l)}onBufferFlushing(e,r){const{operationQueue:i}=this,o=s=>({execute:this.removeExecutor.bind(this,s,r.startOffset,r.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(ie.BUFFER_FLUSHED,{type:s})},onError:a=>{je.warn(`[buffer-controller]: Failed to remove from ${s} SourceBuffer`,a)}});r.type?i.append(o(r.type),r.type):this.getSourceBufferTypes().forEach(s=>{i.append(o(s),s)})}onFragParsed(e,r){const{frag:i,part:o}=r,s=[],a=o?o.elementaryStreams:i.elementaryStreams;a[Xi.AUDIOVIDEO]?s.push("audiovideo"):(a[Xi.AUDIO]&&s.push("audio"),a[Xi.VIDEO]&&s.push("video"));const l=()=>{const c=self.performance.now();i.stats.buffering.end=c,o&&(o.stats.buffering.end=c);const u=o?o.stats:i.stats;this.hls.trigger(ie.FRAG_BUFFERED,{frag:i,part:o,stats:u,id:i.type})};s.length===0&&je.warn(`Fragments must have at least one ElementaryStreamType set. type: ${i.type} level: ${i.level} sn: ${i.sn}`),this.blockBuffers(l,s)}onFragChanged(e,r){this.flushBackBuffer()}onBufferEos(e,r){this.getSourceBufferTypes().reduce((o,s)=>{const a=this.sourceBuffer[s];return a&&(!r.type||r.type===s)&&(a.ending=!0,a.ended||(a.ended=!0,je.log(`[buffer-controller]: ${s} sourceBuffer now EOS`))),o&&!!(!a||a.ended)},!0)&&(je.log("[buffer-controller]: Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(s=>{const a=this.sourceBuffer[s];a&&(a.ending=!1)});const{mediaSource:o}=this;if(!o||o.readyState!=="open"){o&&je.info(`[buffer-controller]: Could not call mediaSource.endOfStream(). mediaSource.readyState: ${o.readyState}`);return}je.log("[buffer-controller]: Calling mediaSource.endOfStream()"),o.endOfStream()}))}onLevelUpdated(e,{details:r}){r.fragments.length&&(this.details=r,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}flushBackBuffer(){const{hls:e,details:r,media:i,sourceBuffer:o}=this;if(!i||r===null)return;const s=this.getSourceBufferTypes();if(!s.length)return;const a=r.live&&e.config.liveBackBufferLength!==null?e.config.liveBackBufferLength:e.config.backBufferLength;if(!wn(a)||a<0)return;const l=i.currentTime,c=r.levelTargetDuration,u=Math.max(a,c),f=Math.floor(l/c)*c-u;s.forEach(h=>{const m=o[h];if(m){const g=Uo.getBuffered(m);if(g.length>0&&f>g.start(0)){if(e.trigger(ie.BACK_BUFFER_REACHED,{bufferEnd:f}),r.live)e.trigger(ie.LIVE_BACK_BUFFER_REACHED,{bufferEnd:f});else if(m.ended&&g.end(g.length-1)-l<c*2){je.info(`[buffer-controller]: Cannot flush ${h} back buffer while SourceBuffer is in ended state`);return}e.trigger(ie.BUFFER_FLUSHING,{startOffset:0,endOffset:f,type:h})}}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||this.mediaSource.readyState!=="open")return;const{details:e,hls:r,media:i,mediaSource:o}=this,s=e.fragments[0].start+e.totalduration,a=i.duration,l=wn(o.duration)?o.duration:0;e.live&&r.config.liveDurationInfinity?(je.log("[buffer-controller]: Media Source duration is set to Infinity"),o.duration=1/0,this.updateSeekableRange(e)):(s>l&&s>a||!wn(a))&&(je.log(`[buffer-controller]: Updating Media Source duration to ${s.toFixed(3)}`),o.duration=s)}updateSeekableRange(e){const r=this.mediaSource,i=e.fragments;if(i.length&&e.live&&r!=null&&r.setLiveSeekableRange){const s=Math.max(0,i[0].start),a=Math.max(s,s+e.totalduration);r.setLiveSeekableRange(s,a)}}checkPendingTracks(){const{bufferCodecEventsExpected:e,operationQueue:r,pendingTracks:i}=this,o=Object.keys(i).length;if(o&&!e||o===2){this.createSourceBuffers(i),this.pendingTracks={};const s=this.getSourceBufferTypes();if(s.length)this.hls.trigger(ie.BUFFER_CREATED,{tracks:this.tracks}),s.forEach(a=>{r.executeNext(a)});else{const a=new Error("could not create source buffer for media codec(s)");this.hls.trigger(ie.ERROR,{type:Ln.MEDIA_ERROR,details:Ze.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:a,reason:a.message})}}}createSourceBuffers(e){const{sourceBuffer:r,mediaSource:i}=this;if(!i)throw Error("createSourceBuffers called when mediaSource was null");for(const o in e)if(!r[o]){const s=e[o];if(!s)throw Error(`source buffer exists for track ${o}, however track does not`);const a=s.levelCodec||s.codec,l=`${s.container};codecs=${a}`;je.log(`[buffer-controller]: creating sourceBuffer(${l})`);try{const c=r[o]=i.addSourceBuffer(l),u=o;this.addBufferListener(u,"updatestart",this._onSBUpdateStart),this.addBufferListener(u,"updateend",this._onSBUpdateEnd),this.addBufferListener(u,"error",this._onSBUpdateError),this.tracks[o]={buffer:c,codec:a,container:s.container,levelCodec:s.levelCodec,metadata:s.metadata,id:s.id}}catch(c){je.error(`[buffer-controller]: error while trying to add sourceBuffer: ${c.message}`),this.hls.trigger(ie.ERROR,{type:Ln.MEDIA_ERROR,details:Ze.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:c,mimeType:l})}}}_onSBUpdateStart(e){const{operationQueue:r}=this;r.current(e).onStart()}_onSBUpdateEnd(e){const{operationQueue:r}=this;r.current(e).onComplete(),r.shiftAndExecuteNext(e)}_onSBUpdateError(e,r){const i=new Error(`${e} SourceBuffer error`);je.error(`[buffer-controller]: ${i}`,r),this.hls.trigger(ie.ERROR,{type:Ln.MEDIA_ERROR,details:Ze.BUFFER_APPENDING_ERROR,error:i,fatal:!1});const o=this.operationQueue.current(e);o&&o.onError(r)}removeExecutor(e,r,i){const{media:o,mediaSource:s,operationQueue:a,sourceBuffer:l}=this,c=l[e];if(!o||!s||!c){je.warn(`[buffer-controller]: Attempting to remove from the ${e} SourceBuffer, but it does not exist`),a.shiftAndExecuteNext(e);return}const u=wn(o.duration)?o.duration:1/0,f=wn(s.duration)?s.duration:1/0,h=Math.max(0,r),m=Math.min(i,u,f);m>h&&!c.ending?(c.ended=!1,je.log(`[buffer-controller]: Removing [${h},${m}] from the ${e} SourceBuffer`),c.remove(h,m)):a.shiftAndExecuteNext(e)}appendExecutor(e,r){const{operationQueue:i,sourceBuffer:o}=this,s=o[r];if(!s){je.warn(`[buffer-controller]: Attempting to append to the ${r} SourceBuffer, but it does not exist`),i.shiftAndExecuteNext(r);return}s.ended=!1,s.appendBuffer(e)}blockBuffers(e,r=this.getSourceBufferTypes()){if(!r.length){je.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);return}const{operationQueue:i}=this,o=r.map(s=>i.appendBlocker(s));Promise.all(o).then(()=>{e(),r.forEach(s=>{const a=this.sourceBuffer[s];a!=null&&a.updating||i.shiftAndExecuteNext(s)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(e,r,i){const o=this.sourceBuffer[e];if(!o)return;const s=i.bind(this,e);this.listeners[e].push({event:r,listener:s}),o.addEventListener(r,s)}removeBufferListeners(e){const r=this.sourceBuffer[e];r&&this.listeners[e].forEach(i=>{r.removeEventListener(i.event,i.listener)})}}const O3e={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},Blt=function(e){let r=e;return O3e.hasOwnProperty(e)&&(r=O3e[e]),String.fromCharCode(r)},Uf=15,Nm=100,eAr={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},tAr={17:2,18:4,21:6,22:8,23:10,19:13,20:15},nAr={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},rAr={25:2,26:4,29:6,30:8,31:10,27:13,28:15},iAr=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class oAr{constructor(){this.time=null,this.verboseLevel=0}log(e,r){if(this.verboseLevel>=e){const i=typeof r=="function"?r():r;je.log(`${this.time} [${e}] ${i}`)}}}const A1=function(e){const r=[];for(let i=0;i<e.length;i++)r.push(e[i].toString(16));return r};class Ult{constructor(e,r,i,o,s){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=e||"white",this.underline=r||!1,this.italics=i||!1,this.background=o||"black",this.flash=s||!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const r=["foreground","underline","italics","background","flash"];for(let i=0;i<r.length;i++){const o=r[i];e.hasOwnProperty(o)&&(this[o]=e[o])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class sAr{constructor(e,r,i,o,s,a){this.uchar=void 0,this.penState=void 0,this.uchar=e||" ",this.penState=new Ult(r,i,o,s,a)}reset(){this.uchar=" ",this.penState.reset()}setChar(e,r){this.uchar=e,this.penState.copy(r)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class aAr{constructor(e){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(let r=0;r<Nm;r++)this.chars.push(new sAr);this.logger=e,this.pos=0,this.currPenState=new Ult}equals(e){let r=!0;for(let i=0;i<Nm;i++)if(!this.chars[i].equals(e.chars[i])){r=!1;break}return r}copy(e){for(let r=0;r<Nm;r++)this.chars[r].copy(e.chars[r])}isEmpty(){let e=!0;for(let r=0;r<Nm;r++)if(!this.chars[r].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Nm&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Nm)}moveCursor(e){const r=this.pos+e;if(e>1)for(let i=this.pos+1;i<r+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(r)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const r=Blt(e);if(this.pos>=Nm){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+r+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(r,this.currPenState),this.moveCursor(1)}clearFromPos(e){let r;for(r=e;r<Nm;r++)this.chars[r].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let r=!0;for(let i=0;i<Nm;i++){const o=this.chars[i].uchar;o!==" "&&(r=!1),e.push(o)}return r?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class dW{constructor(e){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(let r=0;r<Uf;r++)this.rows.push(new aAr(e));this.logger=e,this.currRow=Uf-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}reset(){for(let e=0;e<Uf;e++)this.rows[e].clear();this.currRow=Uf-1}equals(e){let r=!0;for(let i=0;i<Uf;i++)if(!this.rows[i].equals(e.rows[i])){r=!1;break}return r}copy(e){for(let r=0;r<Uf;r++)this.rows[r].copy(e.rows[r])}isEmpty(){let e=!0;for(let r=0;r<Uf;r++)if(!this.rows[r].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+JSON.stringify(e));let r=e.row-1;if(this.nrRollUpRows&&r<this.nrRollUpRows-1&&(r=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==r){for(let l=0;l<Uf;l++)this.rows[l].clear();const s=this.currRow+1-this.nrRollUpRows,a=this.lastOutputScreen;if(a){const l=a.rows[s].cueStartTime,c=this.logger.time;if(l&&c!==null&&l<c)for(let u=0;u<this.nrRollUpRows;u++)this.rows[r-this.nrRollUpRows+u+1].copy(a.rows[s+u])}}this.currRow=r;const i=this.rows[this.currRow];if(e.indent!==null){const s=e.indent,a=Math.max(s-1,0);i.setCursor(e.indent),e.color=i.chars[a].penState.foreground}const o={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(o)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,r=this.rows.splice(e,1)[0];r.clear(),this.rows.splice(this.currRow,0,r),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const r=[];let i="",o=-1;for(let s=0;s<Uf;s++){const a=this.rows[s].getTextString();a&&(o=s+1,e?r.push("Row "+o+": '"+a+"'"):r.push(a.trim()))}return r.length>0&&(e?i="["+r.join(" | ")+"]":i=r.join(`
`)),i}getTextAndFormat(){return this.rows}}class P3e{constructor(e,r,i){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=r,this.mode=null,this.verbose=0,this.displayedMemory=new dW(i),this.nonDisplayedMemory=new dW(i),this.lastOutputScreen=new dW(i),this.currRollUpRow=this.displayedMemory.rows[Uf-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=i}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[Uf-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let i=0;i<e.length;i++)this.writeScreen.insertChar(e[i]);const r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>r+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const r={flash:!1};if(r.underline=e%2===1,r.italics=e>=46,r.italics)r.foreground="white";else{const i=Math.floor(e/2)-16,o=["white","green","blue","cyan","red","yellow","magenta"];r.foreground=o[i]}this.logger.log(2,"MIDROW: "+JSON.stringify(r)),this.writeScreen.setPen(r)}outputDataUpdate(e=!1){const r=this.logger.time;r!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=r:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,r,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:r),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class j3e{constructor(e,r,i){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;const o=new oAr;this.channels=[null,new P3e(e,r,o),new P3e(e+1,i,o)],this.cmdHistory=$3e(),this.logger=o}getHandler(e){return this.channels[e].getHandler()}setHandler(e,r){this.channels[e].setHandler(r)}addData(e,r){let i,o,s,a=!1;this.logger.time=e;for(let l=0;l<r.length;l+=2)if(o=r[l]&127,s=r[l+1]&127,!(o===0&&s===0)){if(this.logger.log(3,"["+A1([r[l],r[l+1]])+"] -> ("+A1([o,s])+")"),i=this.parseCmd(o,s),i||(i=this.parseMidrow(o,s)),i||(i=this.parsePAC(o,s)),i||(i=this.parseBackgroundAttributes(o,s)),!i&&(a=this.parseChars(o,s),a)){const c=this.currentChannel;c&&c>0?this.channels[c].insertChars(a):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!i&&!a&&this.logger.log(2,"Couldn't parse cleaned data "+A1([o,s])+" orig: "+A1([r[l],r[l+1]]))}}parseCmd(e,r){const{cmdHistory:i}=this,o=(e===20||e===28||e===21||e===29)&&r>=32&&r<=47,s=(e===23||e===31)&&r>=33&&r<=35;if(!(o||s))return!1;if(L3e(e,r,i))return g_(null,null,i),this.logger.log(3,"Repeated command ("+A1([e,r])+") is dropped"),!0;const a=e===20||e===21||e===23?1:2,l=this.channels[a];return e===20||e===21||e===28||e===29?r===32?l.ccRCL():r===33?l.ccBS():r===34?l.ccAOF():r===35?l.ccAON():r===36?l.ccDER():r===37?l.ccRU(2):r===38?l.ccRU(3):r===39?l.ccRU(4):r===40?l.ccFON():r===41?l.ccRDC():r===42?l.ccTR():r===43?l.ccRTD():r===44?l.ccEDM():r===45?l.ccCR():r===46?l.ccENM():r===47&&l.ccEOC():l.ccTO(r-32),g_(e,r,i),this.currentChannel=a,!0}parseMidrow(e,r){let i=0;if((e===17||e===25)&&r>=32&&r<=47){if(e===17?i=1:i=2,i!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const o=this.channels[i];return o?(o.ccMIDROW(r),this.logger.log(3,"MIDROW ("+A1([e,r])+")"),!0):!1}return!1}parsePAC(e,r){let i;const o=this.cmdHistory,s=(e>=17&&e<=23||e>=25&&e<=31)&&r>=64&&r<=127,a=(e===16||e===24)&&r>=64&&r<=95;if(!(s||a))return!1;if(L3e(e,r,o))return g_(null,null,o),!0;const l=e<=23?1:2;r>=64&&r<=95?i=l===1?eAr[e]:nAr[e]:i=l===1?tAr[e]:rAr[e];const c=this.channels[l];return c?(c.setPAC(this.interpretPAC(i,r)),g_(e,r,o),this.currentChannel=l,!0):!1}interpretPAC(e,r){let i;const o={color:null,italics:!1,indent:null,underline:!1,row:e};return r>95?i=r-96:i=r-64,o.underline=(i&1)===1,i<=13?o.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(o.italics=!0,o.color="white"):o.indent=Math.floor((i-16)/2)*4,o}parseChars(e,r){let i,o=null,s=null;if(e>=25?(i=2,s=e-8):(i=1,s=e),s>=17&&s<=19){let a;s===17?a=r+80:s===18?a=r+112:a=r+144,this.logger.log(2,"Special char '"+Blt(a)+"' in channel "+i),o=[a]}else e>=32&&e<=127&&(o=r===0?[e]:[e,r]);if(o){const a=A1(o);this.logger.log(3,"Char codes =  "+a.join(",")),g_(e,r,this.cmdHistory)}return o}parseBackgroundAttributes(e,r){const i=(e===16||e===24)&&r>=32&&r<=47,o=(e===23||e===31)&&r>=45&&r<=47;if(!(i||o))return!1;let s;const a={};e===16||e===24?(s=Math.floor((r-32)/2),a.background=iAr[s],r%2===1&&(a.background=a.background+"_semi")):r===45?a.background="transparent":(a.foreground="black",r===47&&(a.underline=!0));const l=e<=23?1:2;return this.channels[l].setBkgData(a),g_(e,r,this.cmdHistory),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const r=this.channels[e];r&&r.reset()}this.cmdHistory=$3e()}cueSplitAtTime(e){for(let r=0;r<this.channels.length;r++){const i=this.channels[r];i&&i.cueSplitAtTime(e)}}}function g_(n,e,r){r.a=n,r.b=e}function L3e(n,e,r){return r.a===n&&r.b===e}function $3e(){return{a:null,b:null}}class Oj{constructor(e,r){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=r}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,r,i){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=r,this.screen=i,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var Tae=function(){if(typeof self<"u"&&self.VTTCue)return self.VTTCue;const n=["","lr","rl"],e=["start","middle","end","left","right"];function r(l,c){if(typeof c!="string"||!Array.isArray(l))return!1;const u=c.toLowerCase();return~l.indexOf(u)?u:!1}function i(l){return r(n,l)}function o(l){return r(e,l)}function s(l,...c){let u=1;for(;u<arguments.length;u++){const f=arguments[u];for(const h in f)l[h]=f[h]}return l}function a(l,c,u){const f=this,h={enumerable:!0};f.hasBeenReset=!1;let m="",g=!1,v=l,y=c,b=u,x=null,_="",w=!0,C="auto",S="start",T=50,A="middle",I=50,D="middle";Object.defineProperty(f,"id",s({},h,{get:function(){return m},set:function(R){m=""+R}})),Object.defineProperty(f,"pauseOnExit",s({},h,{get:function(){return g},set:function(R){g=!!R}})),Object.defineProperty(f,"startTime",s({},h,{get:function(){return v},set:function(R){if(typeof R!="number")throw new TypeError("Start time must be set to a number.");v=R,this.hasBeenReset=!0}})),Object.defineProperty(f,"endTime",s({},h,{get:function(){return y},set:function(R){if(typeof R!="number")throw new TypeError("End time must be set to a number.");y=R,this.hasBeenReset=!0}})),Object.defineProperty(f,"text",s({},h,{get:function(){return b},set:function(R){b=""+R,this.hasBeenReset=!0}})),Object.defineProperty(f,"region",s({},h,{get:function(){return x},set:function(R){x=R,this.hasBeenReset=!0}})),Object.defineProperty(f,"vertical",s({},h,{get:function(){return _},set:function(R){const P=i(R);if(P===!1)throw new SyntaxError("An invalid or illegal string was specified.");_=P,this.hasBeenReset=!0}})),Object.defineProperty(f,"snapToLines",s({},h,{get:function(){return w},set:function(R){w=!!R,this.hasBeenReset=!0}})),Object.defineProperty(f,"line",s({},h,{get:function(){return C},set:function(R){if(typeof R!="number"&&R!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");C=R,this.hasBeenReset=!0}})),Object.defineProperty(f,"lineAlign",s({},h,{get:function(){return S},set:function(R){const P=o(R);if(!P)throw new SyntaxError("An invalid or illegal string was specified.");S=P,this.hasBeenReset=!0}})),Object.defineProperty(f,"position",s({},h,{get:function(){return T},set:function(R){if(R<0||R>100)throw new Error("Position must be between 0 and 100.");T=R,this.hasBeenReset=!0}})),Object.defineProperty(f,"positionAlign",s({},h,{get:function(){return A},set:function(R){const P=o(R);if(!P)throw new SyntaxError("An invalid or illegal string was specified.");A=P,this.hasBeenReset=!0}})),Object.defineProperty(f,"size",s({},h,{get:function(){return I},set:function(R){if(R<0||R>100)throw new Error("Size must be between 0 and 100.");I=R,this.hasBeenReset=!0}})),Object.defineProperty(f,"align",s({},h,{get:function(){return D},set:function(R){const P=o(R);if(!P)throw new SyntaxError("An invalid or illegal string was specified.");D=P,this.hasBeenReset=!0}})),f.displayState=void 0}return a.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},a}();class lAr{decode(e,r){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function zlt(n){function e(i,o,s,a){return(i|0)*3600+(o|0)*60+(s|0)+parseFloat(a||0)}const r=n.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return r?parseFloat(r[2])>59?e(r[2],r[3],0,r[4]):e(r[1],r[2],r[3],r[4]):null}class cAr{constructor(){this.values=Object.create(null)}set(e,r){!this.get(e)&&r!==""&&(this.values[e]=r)}get(e,r,i){return i?this.has(e)?this.values[e]:r[i]:this.has(e)?this.values[e]:r}has(e){return e in this.values}alt(e,r,i){for(let o=0;o<i.length;++o)if(r===i[o]){this.set(e,r);break}}integer(e,r){/^-?\d+$/.test(r)&&this.set(e,parseInt(r,10))}percent(e,r){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(r)){const i=parseFloat(r);if(i>=0&&i<=100)return this.set(e,i),!0}return!1}}function Vlt(n,e,r,i){const o=i?n.split(i):[n];for(const s in o){if(typeof o[s]!="string")continue;const a=o[s].split(r);if(a.length!==2)continue;const l=a[0],c=a[1];e(l,c)}}const EX=new Tae(0,0,""),Pj=EX.align==="middle"?"middle":"center";function uAr(n,e,r){const i=n;function o(){const l=zlt(n);if(l===null)throw new Error("Malformed timestamp: "+i);return n=n.replace(/^[^\sa-zA-Z-]+/,""),l}function s(l,c){const u=new cAr;Vlt(l,function(m,g){let v;switch(m){case"region":for(let y=r.length-1;y>=0;y--)if(r[y].id===g){u.set(m,r[y].region);break}break;case"vertical":u.alt(m,g,["rl","lr"]);break;case"line":v=g.split(","),u.integer(m,v[0]),u.percent(m,v[0])&&u.set("snapToLines",!1),u.alt(m,v[0],["auto"]),v.length===2&&u.alt("lineAlign",v[1],["start",Pj,"end"]);break;case"position":v=g.split(","),u.percent(m,v[0]),v.length===2&&u.alt("positionAlign",v[1],["start",Pj,"end","line-left","line-right","auto"]);break;case"size":u.percent(m,g);break;case"align":u.alt(m,g,["start",Pj,"end","left","right"]);break}},/:/,/\s/),c.region=u.get("region",null),c.vertical=u.get("vertical","");let f=u.get("line","auto");f==="auto"&&EX.line===-1&&(f=-1),c.line=f,c.lineAlign=u.get("lineAlign","start"),c.snapToLines=u.get("snapToLines",!0),c.size=u.get("size",100),c.align=u.get("align",Pj);let h=u.get("position","auto");h==="auto"&&EX.position===50&&(h=c.align==="start"||c.align==="left"?0:c.align==="end"||c.align==="right"?100:50),c.position=h}function a(){n=n.replace(/^\s+/,"")}if(a(),e.startTime=o(),a(),n.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+i);n=n.slice(3),a(),e.endTime=o(),a(),s(n,e)}function Hlt(n){return n.replace(/<br(?: \/)?>/gi,`
`)}class dAr{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new lAr,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const r=this;e&&(r.buffer+=r.decoder.decode(e,{stream:!0}));function i(){let s=r.buffer,a=0;for(s=Hlt(s);a<s.length&&s[a]!=="\r"&&s[a]!==`
`;)++a;const l=s.slice(0,a);return s[a]==="\r"&&++a,s[a]===`
`&&++a,r.buffer=s.slice(a),l}function o(s){Vlt(s,function(a,l){},/:/)}try{let s="";if(r.state==="INITIAL"){if(!/\r\n|\n/.test(r.buffer))return this;s=i();const l=s.match(/^(ï»¿)?WEBVTT([ \t].*)?$/);if(!(l!=null&&l[0]))throw new Error("Malformed WebVTT signature.");r.state="HEADER"}let a=!1;for(;r.buffer;){if(!/\r\n|\n/.test(r.buffer))return this;switch(a?a=!1:s=i(),r.state){case"HEADER":/:/.test(s)?o(s):s||(r.state="ID");continue;case"NOTE":s||(r.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){r.state="NOTE";break}if(!s)continue;if(r.cue=new Tae(0,0,""),r.state="CUE",s.indexOf("-->")===-1){r.cue.id=s;continue}case"CUE":if(!r.cue){r.state="BADCUE";continue}try{uAr(s,r.cue,r.regionList)}catch{r.cue=null,r.state="BADCUE";continue}r.state="CUETEXT";continue;case"CUETEXT":{const l=s.indexOf("-->")!==-1;if(!s||l&&(a=!0)){r.oncue&&r.cue&&r.oncue(r.cue),r.cue=null,r.state="ID";continue}if(r.cue===null)continue;r.cue.text&&(r.cue.text+=`
`),r.cue.text+=s}continue;case"BADCUE":s||(r.state="ID")}}}catch{r.state==="CUETEXT"&&r.cue&&r.oncue&&r.oncue(r.cue),r.cue=null,r.state=r.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(r){e.onparsingerror&&e.onparsingerror(r)}return e.onflush&&e.onflush(),this}}const fAr=/\r\n|\n\r|\n|\r/g,fW=function(e,r,i=0){return e.slice(i,i+r.length)===r},hAr=function(e){let r=parseInt(e.slice(-3));const i=parseInt(e.slice(-6,-4)),o=parseInt(e.slice(-9,-7)),s=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!wn(r)||!wn(i)||!wn(o)||!wn(s))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return r+=1e3*i,r+=60*1e3*o,r+=60*60*1e3*s,r},hW=function(e){let r=5381,i=e.length;for(;i;)r=r*33^e.charCodeAt(--i);return(r>>>0).toString()};function Aae(n,e,r){return hW(n.toString())+hW(e.toString())+hW(r)}const pAr=function(e,r,i){let o=e[r],s=e[o.prevCC];if(!s||!s.new&&o.new){e.ccOffset=e.presentationOffset=o.start,o.new=!1;return}for(;(a=s)!=null&&a.new;){var a;e.ccOffset+=o.start-s.start,o.new=!1,o=s,s=e[o.prevCC]}e.presentationOffset=i};function mAr(n,e,r,i,o,s,a){const l=new dAr,c=Mp(new Uint8Array(n)).trim().replace(fAr,`
`).split(`
`),u=[],f=e?kTr(e.baseTime,e.timescale):0;let h="00:00.000",m=0,g=0,v,y=!0;l.oncue=function(b){const x=r[i];let _=r.ccOffset;const w=(m-f)/9e4;if(x!=null&&x.new&&(g!==void 0?_=r.ccOffset=x.start:pAr(r,i,w)),w){if(!e){v=new Error("Missing initPTS for VTT MPEGTS");return}_=w-r.presentationOffset}const C=b.endTime-b.startTime,S=Bd((b.startTime+_-g)*9e4,o*9e4)/9e4;b.startTime=Math.max(S,0),b.endTime=Math.max(S+C,0);const T=b.text.trim();b.text=decodeURIComponent(encodeURIComponent(T)),b.id||(b.id=Aae(b.startTime,b.endTime,T)),b.endTime>0&&u.push(b)},l.onparsingerror=function(b){v=b},l.onflush=function(){if(v){a(v);return}s(u)},c.forEach(b=>{if(y)if(fW(b,"X-TIMESTAMP-MAP=")){y=!1,b.slice(16).split(",").forEach(x=>{fW(x,"LOCAL:")?h=x.slice(6):fW(x,"MPEGTS:")&&(m=parseInt(x.slice(7)))});try{g=hAr(h)/1e3}catch(x){v=x}return}else b===""&&(y=!1);l.parse(b+`
`)}),l.flush()}const pW="stpp.ttml.im1t",Wlt=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,Glt=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,gAr={left:"start",center:"center",right:"end",start:"start",end:"end"};function M3e(n,e,r,i){const o=ii(new Uint8Array(n),["mdat"]);if(o.length===0){i(new Error("Could not parse IMSC1 mdat"));return}const s=o.map(l=>Mp(l)),a=STr(e.baseTime,1,e.timescale);try{s.forEach(l=>r(vAr(l,a)))}catch(l){i(l)}}function vAr(n,e){const o=new DOMParser().parseFromString(n,"text/xml").getElementsByTagName("tt")[0];if(!o)throw new Error("Invalid ttml");const s={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},a=Object.keys(s).reduce((h,m)=>(h[m]=o.getAttribute(`ttp:${m}`)||s[m],h),{}),l=o.getAttribute("xml:space")!=="preserve",c=F3e(mW(o,"styling","style")),u=F3e(mW(o,"layout","region")),f=mW(o,"body","[begin]");return[].map.call(f,h=>{const m=qlt(h,l);if(!m||!h.hasAttribute("begin"))return null;const g=vW(h.getAttribute("begin"),a),v=vW(h.getAttribute("dur"),a);let y=vW(h.getAttribute("end"),a);if(g===null)throw N3e(h);if(y===null){if(v===null)throw N3e(h);y=g+v}const b=new Tae(g-e,y-e,m);b.id=Aae(b.startTime,b.endTime,b.text);const x=u[h.getAttribute("region")],_=c[h.getAttribute("style")],w=yAr(x,_,c),{textAlign:C}=w;if(C){const S=gAr[C];S&&(b.lineAlign=S),b.align=C}return Oa(b,w),b}).filter(h=>h!==null)}function mW(n,e,r){const i=n.getElementsByTagName(e)[0];return i?[].slice.call(i.querySelectorAll(r)):[]}function F3e(n){return n.reduce((e,r)=>{const i=r.getAttribute("xml:id");return i&&(e[i]=r),e},{})}function qlt(n,e){return[].slice.call(n.childNodes).reduce((r,i,o)=>{var s;return i.nodeName==="br"&&o?r+`
`:(s=i.childNodes)!=null&&s.length?qlt(i,e):e?r+i.textContent.trim().replace(/\s+/g," "):r+i.textContent},"")}function yAr(n,e,r){const i="http://www.w3.org/ns/ttml#styling";let o=null;const s=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],a=n!=null&&n.hasAttribute("style")?n.getAttribute("style"):null;return a&&r.hasOwnProperty(a)&&(o=r[a]),s.reduce((l,c)=>{const u=gW(e,i,c)||gW(n,i,c)||gW(o,i,c);return u&&(l[c]=u),l},{})}function gW(n,e,r){return n&&n.hasAttributeNS(e,r)?n.getAttributeNS(e,r):null}function N3e(n){return new Error(`Could not parse ttml timestamp ${n}`)}function vW(n,e){if(!n)return null;let r=zlt(n);return r===null&&(Wlt.test(n)?r=bAr(n,e):Glt.test(n)&&(r=xAr(n,e))),r}function bAr(n,e){const r=Wlt.exec(n),i=(r[4]|0)+(r[5]|0)/e.subFrameRate;return(r[1]|0)*3600+(r[2]|0)*60+(r[3]|0)+i/e.frameRate}function xAr(n,e){const r=Glt.exec(n),i=Number(r[1]);switch(r[2]){case"h":return i*3600;case"m":return i*60;case"ms":return i*1e3;case"f":return i/e.frameRate;case"t":return i/e.tickRate}return i}class wAr{constructor(e){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=B3e(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){const r=new Oj(this,"textTrack1"),i=new Oj(this,"textTrack2"),o=new Oj(this,"textTrack3"),s=new Oj(this,"textTrack4");this.cea608Parser1=new j3e(1,r,i),this.cea608Parser2=new j3e(3,o,s)}e.on(ie.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ie.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(ie.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(ie.FRAG_LOADING,this.onFragLoading,this),e.on(ie.FRAG_LOADED,this.onFragLoaded,this),e.on(ie.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(ie.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(ie.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(ie.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(ie.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(ie.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(ie.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ie.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(ie.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(ie.FRAG_LOADING,this.onFragLoading,this),e.off(ie.FRAG_LOADED,this.onFragLoaded,this),e.off(ie.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(ie.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(ie.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(ie.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(ie.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null}addCues(e,r,i,o,s){let a=!1;for(let l=s.length;l--;){const c=s[l],u=EAr(c[0],c[1],r,i);if(u>=0&&(c[0]=Math.min(c[0],r),c[1]=Math.max(c[1],i),a=!0,u/(i-r)>.5))return}if(a||s.push([r,i]),this.config.renderTextTracksNatively){const l=this.captionsTracks[e];this.Cues.newCue(l,r,i,o)}else{const l=this.Cues.newCue(null,r,i,o);this.hls.trigger(ie.CUES_PARSED,{type:"captions",cues:l,track:e})}}onInitPtsFound(e,{frag:r,id:i,initPTS:o,timescale:s}){const{unparsedVttFrags:a}=this;i==="main"&&(this.initPTS[r.cc]={baseTime:o,timescale:s}),a.length&&(this.unparsedVttFrags=[],a.forEach(l=>{this.onFragLoaded(ie.FRAG_LOADED,l)}))}getExistingTrack(e){const{media:r}=this;if(r)for(let i=0;i<r.textTracks.length;i++){const o=r.textTracks[i];if(o[e])return o}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:r,captionsTracks:i,media:o}=this,{label:s,languageCode:a}=r[e],l=this.getExistingTrack(e);if(l)i[e]=l,$E(i[e]),mlt(i[e],o);else{const c=this.createTextTrack("captions",s,a);c&&(c[e]=!0,i[e]=c)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const r=this.captionsProperties[e];if(!r)return;const i=r.label,o={_id:e,label:i,kind:"captions",default:r.media?!!r.media.default:!1,closedCaptions:r.media};this.nonNativeCaptionsTracks[e]=o,this.hls.trigger(ie.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[o]})}createTextTrack(e,r,i){const o=this.media;if(o)return o.addTextTrack(e,r,i)}onMediaAttaching(e,r){this.media=r.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:e}=this;Object.keys(e).forEach(r=>{$E(e[r]),delete e[r]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=B3e(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const r=e.textTracks;if(r)for(let i=0;i<r.length;i++)$E(r[i])}onSubtitleTracksUpdated(e,r){const i=r.subtitleTracks||[],o=i.some(s=>s.textCodec===pW);if(this.config.enableWebVTT||o&&this.config.enableIMSC1){if(Nlt(this.tracks,i)){this.tracks=i;return}if(this.textTracks=[],this.tracks=i,this.config.renderTextTracksNatively){const a=this.media?this.media.textTracks:null;this.tracks.forEach((l,c)=>{let u;if(a&&c<a.length){let f=null;for(let h=0;h<a.length;h++)if(_Ar(a[h],l)){f=a[h];break}f&&(u=f)}if(u)$E(u);else{const f=this._captionsOrSubtitlesFromCharacteristics(l);u=this.createTextTrack(f,l.name,l.lang),u&&(u.mode="disabled")}u&&(u.groupId=l.groupId,this.textTracks.push(u))})}else if(this.tracks.length){const a=this.tracks.map(l=>({label:l.name,kind:l.type.toLowerCase(),default:l.default,subtitleTrack:l}));this.hls.trigger(ie.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:a})}}}_captionsOrSubtitlesFromCharacteristics(e){if(e.attrs.CHARACTERISTICS){const r=/transcribes-spoken-dialog/gi.test(e.attrs.CHARACTERISTICS),i=/describes-music-and-sound/gi.test(e.attrs.CHARACTERISTICS);if(r&&i)return"captions"}return"subtitles"}onManifestLoaded(e,r){this.config.enableCEA708Captions&&r.captions&&r.captions.forEach(i=>{const o=/(?:CC|SERVICE)([1-4])/.exec(i.instreamId);if(!o)return;const s=`textTrack${o[1]}`,a=this.captionsProperties[s];a&&(a.label=i.name,i.lang&&(a.languageCode=i.lang),a.media=i)})}closedCaptionsForLevel(e){const r=this.hls.levels[e.level];return r==null?void 0:r.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,r){const{cea608Parser1:i,cea608Parser2:o,lastSn:s,lastPartIndex:a}=this;if(!(!this.enabled||!(i&&o))&&r.frag.type===Nn.MAIN){var l,c;const u=r.frag.sn,f=(l=r==null||(c=r.part)==null?void 0:c.index)!=null?l:-1;u===s+1||u===s&&f===a+1||(i.reset(),o.reset()),this.lastSn=u,this.lastPartIndex=f}}onFragLoaded(e,r){const{frag:i,payload:o}=r;if(i.type===Nn.SUBTITLE)if(o.byteLength){const s=i.decryptdata,a="stats"in r;if(s==null||!s.encrypted||a){const l=this.tracks[i.level],c=this.vttCCs;c[i.cc]||(c[i.cc]={start:i.start,prevCC:this.prevCC,new:!0},this.prevCC=i.cc),l&&l.textCodec===pW?this._parseIMSC1(i,o):this._parseVTTs(r)}}else this.hls.trigger(ie.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,r){const i=this.hls;M3e(r,this.initPTS[e.cc],o=>{this._appendCues(o,e.level),i.trigger(ie.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},o=>{je.log(`Failed to parse IMSC1: ${o}`),i.trigger(ie.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:o})})}_parseVTTs(e){var r;const{frag:i,payload:o}=e,{initPTS:s,unparsedVttFrags:a}=this,l=s.length-1;if(!s[i.cc]&&l===-1){a.push(e);return}const c=this.hls,u=(r=i.initSegment)!=null&&r.data?Ux(i.initSegment.data,new Uint8Array(o)):o;mAr(u,this.initPTS[i.cc],this.vttCCs,i.cc,i.start,f=>{this._appendCues(f,i.level),c.trigger(ie.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:i})},f=>{const h=f.message==="Missing initPTS for VTT MPEGTS";h?a.push(e):this._fallbackToIMSC1(i,o),je.log(`Failed to parse VTT cue: ${f}`),!(h&&l>i.cc)&&c.trigger(ie.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:f})})}_fallbackToIMSC1(e,r){const i=this.tracks[e.level];i.textCodec||M3e(r,this.initPTS[e.cc],()=>{i.textCodec=pW,this._parseIMSC1(e,r)},()=>{i.textCodec="wvtt"})}_appendCues(e,r){const i=this.hls;if(this.config.renderTextTracksNatively){const o=this.textTracks[r];if(!o||o.mode==="disabled")return;e.forEach(s=>glt(o,s))}else{const o=this.tracks[r];if(!o)return;const s=o.default?"default":"subtitles"+r;i.trigger(ie.CUES_PARSED,{type:"subtitles",cues:e,track:s})}}onFragDecrypted(e,r){const{frag:i}=r;i.type===Nn.SUBTITLE&&this.onFragLoaded(ie.FRAG_LOADED,r)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,r){const{cea608Parser1:i,cea608Parser2:o}=this;if(!this.enabled||!(i&&o))return;const{frag:s,samples:a}=r;if(!(s.type===Nn.MAIN&&this.closedCaptionsForLevel(s)==="NONE"))for(let l=0;l<a.length;l++){const c=a[l].bytes;if(c){const u=this.extractCea608Data(c);i.addData(a[l].pts,u[0]),o.addData(a[l].pts,u[1])}}}onBufferFlushing(e,{startOffset:r,endOffset:i,endOffsetSubtitles:o,type:s}){const{media:a}=this;if(!(!a||a.currentTime<i)){if(!s||s==="video"){const{captionsTracks:l}=this;Object.keys(l).forEach(c=>vX(l[c],r,i))}if(this.config.renderTextTracksNatively&&r===0&&o!==void 0){const{textTracks:l}=this;Object.keys(l).forEach(c=>vX(l[c],r,o))}}}extractCea608Data(e){const r=[[],[]],i=e[0]&31;let o=2;for(let s=0;s<i;s++){const a=e[o++],l=127&e[o++],c=127&e[o++];if(l===0&&c===0)continue;if((4&a)!==0){const f=3&a;(f===0||f===1)&&(r[f].push(l),r[f].push(c))}}return r}}function _Ar(n,e){return!!n&&n.label===e.name&&!(n.textTrack1||n.textTrack2)}function EAr(n,e,r,i){return Math.min(e,i)-Math.max(n,r)}function B3e(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}class Iae{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(ie.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(ie.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(ie.MANIFEST_PARSED,this.onManifestParsed,this),e.on(ie.BUFFER_CODECS,this.onBufferCodecs,this),e.on(ie.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(ie.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(ie.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(ie.MANIFEST_PARSED,this.onManifestParsed,this),e.off(ie.BUFFER_CODECS,this.onBufferCodecs,this),e.off(ie.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,r){const i=this.hls.levels[r.droppedLevel];this.isLevelAllowed(i)&&this.restrictedLevels.push({bitrate:i.bitrate,height:i.height,width:i.width})}onMediaAttaching(e,r){this.media=r.media instanceof HTMLVideoElement?r.media:null,this.clientRect=null}onManifestParsed(e,r){const i=this.hls;this.restrictedLevels=[],this.firstLevel=r.firstLevel,i.config.capLevelToPlayerSize&&r.video&&this.startCapping()}onBufferCodecs(e,r){this.hls.config.capLevelToPlayerSize&&r.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){const e=this.hls.levels;if(e.length){const r=this.hls;r.autoLevelCapping=this.getMaxLevel(e.length-1),r.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=r.autoLevelCapping}}}getMaxLevel(e){const r=this.hls.levels;if(!r.length)return-1;const i=r.filter((o,s)=>this.isLevelAllowed(o)&&s<=e);return this.clientRect=null,Iae.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,r={width:0,height:0};if(e){const i=e.getBoundingClientRect();r.width=i.width,r.height=i.height,!r.width&&!r.height&&(r.width=i.right-i.left||e.width||0,r.height=i.bottom-i.top||e.height||0)}return this.clientRect=r,r}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return e}isLevelAllowed(e){return!this.restrictedLevels.some(i=>e.bitrate===i.bitrate&&e.width===i.width&&e.height===i.height)}static getMaxLevelByMediaSize(e,r,i){if(!(e!=null&&e.length))return-1;const o=(a,l)=>l?a.width!==l.width||a.height!==l.height:!0;let s=e.length-1;for(let a=0;a<e.length;a+=1){const l=e[a];if((l.width>=r||l.height>=i)&&o(l,e[a+1])){s=a;break}}return s}}class CAr{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(ie.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(ie.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,r){const i=this.hls.config;if(i.capLevelOnFPSDrop){const o=r.media instanceof self.HTMLVideoElement?r.media:null;this.media=o,o&&typeof o.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),i.fpsDroppedMonitoringPeriod)}}checkFPS(e,r,i){const o=performance.now();if(r){if(this.lastTime){const s=o-this.lastTime,a=i-this.lastDroppedFrames,l=r-this.lastDecodedFrames,c=1e3*a/s,u=this.hls;if(u.trigger(ie.FPS_DROP,{currentDropped:a,currentDecoded:l,totalDroppedFrames:i}),c>0&&a>u.config.fpsDroppedMonitoringThreshold*l){let f=u.currentLevel;je.warn("drop FPS ratio greater than max allowed value for currentLevel: "+f),f>0&&(u.autoLevelCapping===-1||u.autoLevelCapping>=f)&&(f=f-1,u.trigger(ie.FPS_DROP_LEVEL_CAPPING,{level:f,droppedLevel:u.currentLevel}),u.autoLevelCapping=f,this.streamController.nextLevelSwitch())}}this.lastTime=o,this.lastDroppedFrames=i,this.lastDecodedFrames=r}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const r=e.getVideoPlaybackQuality();this.checkFPS(e,r.totalVideoFrames,r.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}const jj="[eme]";class gC{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=gC.CDMCleanupPromise?[gC.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=je.debug.bind(je,jj),this.log=je.log.bind(je,jj),this.warn=je.warn.bind(je,jj),this.error=je.error.bind(je,jj),this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(ie.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(ie.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(ie.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(ie.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(ie.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(ie.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(ie.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(ie.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:r,widevineLicenseUrl:i}=this.config,o=r[e];if(o)return o.licenseUrl;if(e===fs.WIDEVINE&&i)return i;throw new Error(`no license server URL configured for key-system "${e}"`)}getServerCertificateUrl(e){const{drmSystems:r}=this.config,i=r[e];if(i)return i.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const r=this.hls.levels,i=(a,l,c)=>!!a&&c.indexOf(a)===l,o=r.map(a=>a.audioCodec).filter(i),s=r.map(a=>a.videoCodec).filter(i);return o.length+s.length===0&&s.push("avc1.42e01e"),new Promise((a,l)=>{const c=u=>{const f=u.shift();this.getMediaKeysPromise(f,o,s).then(h=>a({keySystem:f,mediaKeys:h})).catch(h=>{u.length?c(u):h instanceof Ld?l(h):l(new Ld({type:Ln.KEY_SYSTEM_ERROR,details:Ze.KEY_SYSTEM_NO_ACCESS,error:h,fatal:!0},h.message))})};c(e)})}requestMediaKeySystemAccess(e,r){const{requestMediaKeySystemAccessFunc:i}=this.config;if(typeof i!="function"){let o=`Configured requestMediaKeySystemAccess is not a function ${i}`;return rlt===null&&self.location.protocol==="http:"&&(o=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(o))}return i(e,r)}getMediaKeysPromise(e,r,i){const o=F2r(e,r,i,this.config.drmSystemOptions),s=this.keySystemAccessPromises[e];let a=s==null?void 0:s.keySystemAccess;if(!a){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(o)}`),a=this.requestMediaKeySystemAccess(e,o);const l=this.keySystemAccessPromises[e]={keySystemAccess:a};return a.catch(c=>{this.log(`Failed to obtain access to key-system "${e}": ${c}`)}),a.then(c=>{this.log(`Access for key-system "${c.keySystem}" obtained`);const u=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),l.mediaKeys=c.createMediaKeys().then(f=>(this.log(`Media-keys created for "${e}"`),u.then(h=>h?this.setMediaKeysServerCertificate(f,e,h):f))),l.mediaKeys.catch(f=>{this.error(`Failed to create media-keys for "${e}"}: ${f}`)}),l.mediaKeys})}return a.then(()=>s.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:r,mediaKeys:i}){this.log(`Creating key-system session "${r}" keyId: ${up.hexDump(e.keyId||[])}`);const o=i.createSession(),s={decryptdata:e,keySystem:r,mediaKeys:i,mediaKeysSession:o,keyStatus:"status-pending"};return this.mediaKeySessions.push(s),s}renewKeySession(e){const r=e.decryptdata;if(r.pssh){const i=this.createMediaKeySessionContext(e),o=this.getKeyIdString(r),s="cenc";this.keyIdToKeySessionPromise[o]=this.generateRequestWithPreferredKeySession(i,s,r.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(e.keyId===null)throw new Error("keyId is null");return up.hexDump(e.keyId)}updateKeySession(e,r){var i;const o=e.mediaKeysSession;return this.log(`Updating key-session "${o.sessionId}" for keyID ${up.hexDump(((i=e.decryptdata)==null?void 0:i.keyId)||[])}
      } (data length: ${r&&r.byteLength})`),o.update(r)}selectKeySystemFormat(e){const r=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${r.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(r)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((r,i)=>{const o=ZH(this.config),s=e.map(ZMe).filter(a=>!!a&&o.indexOf(a)!==-1);return this.getKeySystemSelectionPromise(s).then(({keySystem:a})=>{const l=XMe(a);l?r(l):i(new Error(`Unable to find format for key-system "${a}"`))}).catch(i)})}loadKey(e){const r=e.keyInfo.decryptdata,i=this.getKeyIdString(r),o=`(keyId: ${i} format: "${r.keyFormat}" method: ${r.method} uri: ${r.uri})`;this.log(`Starting session for key ${o}`);let s=this.keyIdToKeySessionPromise[i];return s||(s=this.keyIdToKeySessionPromise[i]=this.getKeySystemForKeyPromise(r).then(({keySystem:a,mediaKeys:l})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${o}`),this.attemptSetMediaKeys(a,l).then(()=>{this.throwIfDestroyed();const c=this.createMediaKeySessionContext({keySystem:a,mediaKeys:l,decryptdata:r}),u="cenc";return this.generateRequestWithPreferredKeySession(c,u,r.pssh,"playlist-key")}))),s.catch(a=>this.handleError(a))),s}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof Ld?this.hls.trigger(ie.ERROR,e.data):this.hls.trigger(ie.ERROR,{type:Ln.KEY_SYSTEM_ERROR,details:Ze.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const r=this.getKeyIdString(e),i=this.keyIdToKeySessionPromise[r];if(!i){const o=ZMe(e.keyFormat),s=o?[o]:ZH(this.config);return this.attemptKeySystemAccess(s)}return i}getKeySystemSelectionPromise(e){if(e.length||(e=ZH(this.config)),e.length===0)throw new Ld({type:Ln.KEY_SYSTEM_ERROR,details:Ze.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}_onMediaEncrypted(e){const{initDataType:r,initData:i}=e;if(this.debug(`"${e.type}" event: init data type: "${r}"`),i===null)return;let o,s;if(r==="sinf"&&this.config.drmSystems[fs.FAIRPLAY]){const f=il(new Uint8Array(i));try{const h=mae(JSON.parse(f).sinf),m=dlt(new Uint8Array(h));if(!m)return;o=m.subarray(8,24),s=fs.FAIRPLAY}catch{this.warn('Failed to parse sinf "encrypted" event message initData');return}}else{const f=lkr(i);if(f===null)return;f.version===0&&f.systemId===nlt.WIDEVINE&&f.data&&(o=f.data.subarray(8,24)),s=M2r(f.systemId)}if(!s||!o)return;const a=up.hexDump(o),{keyIdToKeySessionPromise:l,mediaKeySessions:c}=this;let u=l[a];for(let f=0;f<c.length;f++){const h=c[f],m=h.decryptdata;if(m.pssh||!m.keyId)continue;const g=up.hexDump(m.keyId);if(a===g||m.uri.replace(/-/g,"").indexOf(a)!==-1){u=l[g],delete l[g],m.pssh=new Uint8Array(i),m.keyId=o,u=l[a]=u.then(()=>this.generateRequestWithPreferredKeySession(h,r,i,"encrypted-event-key-match"));break}}u||(u=l[a]=this.getKeySystemSelectionPromise([s]).then(({keySystem:f,mediaKeys:h})=>{var m;this.throwIfDestroyed();const g=new xI("ISO-23001-7",a,(m=XMe(f))!=null?m:"");return g.pssh=new Uint8Array(i),g.keyId=o,this.attemptSetMediaKeys(f,h).then(()=>{this.throwIfDestroyed();const v=this.createMediaKeySessionContext({decryptdata:g,keySystem:f,mediaKeys:h});return this.generateRequestWithPreferredKeySession(v,r,i,"encrypted-event-no-match")})})),u.catch(f=>this.handleError(f))}_onWaitingForKey(e){this.log(`"${e.type}" event`)}attemptSetMediaKeys(e,r){const i=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const o=Promise.all(i).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(r)});return this.setMediaKeysQueue.push(o),o.then(()=>{this.log(`Media-keys set for "${e}"`),i.push(o),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(s=>i.indexOf(s)===-1)})}generateRequestWithPreferredKeySession(e,r,i,o){var s,a;const l=(s=this.config.drmSystems)==null||(a=s[e.keySystem])==null?void 0:a.generateRequest;if(l)try{const m=l.call(this.hls,r,i,e);if(!m)throw new Error("Invalid response from configured generateRequest filter");r=m.initDataType,i=e.decryptdata.pssh=m.initData?new Uint8Array(m.initData):null}catch(m){var c;if(this.warn(m.message),(c=this.hls)!=null&&c.config.debug)throw m}if(i===null)return this.log(`Skipping key-session request for "${o}" (no initData)`),Promise.resolve(e);const u=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${o}": ${u} (init data type: ${r} length: ${i?i.byteLength:null})`);const f=new kae;e.mediaKeysSession.onmessage=m=>{const g=e.mediaKeysSession;if(!g){f.emit("error",new Error("invalid state"));return}const{messageType:v,message:y}=m;this.log(`"${v}" message event for session "${g.sessionId}" message size: ${y.byteLength}`),v==="license-request"||v==="license-renewal"?this.renewLicense(e,y).catch(b=>{this.handleError(b),f.emit("error",b)}):v==="license-release"?e.keySystem===fs.FAIRPLAY&&(this.updateKeySession(e,tlt("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${v}"`)},e.mediaKeysSession.onkeystatuseschange=m=>{if(!e.mediaKeysSession){f.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(e);const v=e.keyStatus;f.emit("keyStatus",v),v==="expired"&&(this.warn(`${e.keySystem} expired for key ${u}`),this.renewKeySession(e))};const h=new Promise((m,g)=>{f.on("error",g),f.on("keyStatus",v=>{v.startsWith("usable")?m():v==="output-restricted"?g(new Ld({type:Ln.KEY_SYSTEM_ERROR,details:Ze.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):v==="internal-error"?g(new Ld({type:Ln.KEY_SYSTEM_ERROR,details:Ze.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${v}"`)):v==="expired"?g(new Error("key expired while generating request")):this.warn(`unhandled key status change "${v}"`)})});return e.mediaKeysSession.generateRequest(r,i).then(()=>{var m;this.log(`Request generated for key-session "${(m=e.mediaKeysSession)==null?void 0:m.sessionId}" keyId: ${u}`)}).catch(m=>{throw new Ld({type:Ln.KEY_SYSTEM_ERROR,details:Ze.KEY_SYSTEM_NO_SESSION,error:m,fatal:!1},`Error generating key-session request: ${m}`)}).then(()=>h).catch(m=>{throw f.removeAllListeners(),this.removeSession(e),m}).then(()=>(f.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((r,i)=>{this.log(`key status change "${r}" for keyStatuses keyId: ${up.hexDump("buffer"in i?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i))} session keyId: ${up.hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=r})}fetchServerCertificate(e){const r=this.config,i=r.loader,o=new i(r),s=this.getServerCertificateUrl(e);return s?(this.log(`Fetching serverCertificate for "${e}"`),new Promise((a,l)=>{const c={responseType:"arraybuffer",url:s},u=r.certLoadPolicy.default,f={loadPolicy:u,timeout:u.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},h={onSuccess:(m,g,v,y)=>{a(m.data)},onError:(m,g,v,y)=>{l(new Ld({type:Ln.KEY_SYSTEM_ERROR,details:Ze.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:v,response:Ac({url:c.url,data:void 0},m)},`"${e}" certificate request failed (${s}). Status: ${m.code} (${m.text})`))},onTimeout:(m,g,v)=>{l(new Ld({type:Ln.KEY_SYSTEM_ERROR,details:Ze.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:v,response:{url:c.url,data:void 0}},`"${e}" certificate request timed out (${s})`))},onAbort:(m,g,v)=>{l(new Error("aborted"))}};o.load(c,f,h)})):Promise.resolve()}setMediaKeysServerCertificate(e,r,i){return new Promise((o,s)=>{e.setServerCertificate(i).then(a=>{this.log(`setServerCertificate ${a?"success":"not supported by CDM"} (${i==null?void 0:i.byteLength}) on "${r}"`),o(e)}).catch(a=>{s(new Ld({type:Ln.KEY_SYSTEM_ERROR,details:Ze.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:a,fatal:!0},a.message))})})}renewLicense(e,r){return this.requestLicense(e,new Uint8Array(r)).then(i=>this.updateKeySession(e,new Uint8Array(i)).catch(o=>{throw new Ld({type:Ln.KEY_SYSTEM_ERROR,details:Ze.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:o,fatal:!0},o.message)}))}setupLicenseXHR(e,r,i,o){const s=this.config.licenseXhrSetup;return s?Promise.resolve().then(()=>{if(!i.decryptdata)throw new Error("Key removed");return s.call(this.hls,e,r,i,o)}).catch(a=>{if(!i.decryptdata)throw a;return e.open("POST",r,!0),s.call(this.hls,e,r,i,o)}).then(a=>(e.readyState||e.open("POST",r,!0),{xhr:e,licenseChallenge:a||o})):(e.open("POST",r,!0),Promise.resolve({xhr:e,licenseChallenge:o}))}requestLicense(e,r){const i=this.config.keyLoadPolicy.default;return new Promise((o,s)=>{const a=this.getLicenseServerUrl(e.keySystem);this.log(`Sending license request to URL: ${a}`);const l=new XMLHttpRequest;l.responseType="arraybuffer",l.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return s(new Error("invalid state"));if(l.readyState===4)if(l.status===200){this._requestLicenseFailureCount=0;let c=l.response;this.log(`License received ${c instanceof ArrayBuffer?c.byteLength:c}`);const u=this.config.licenseResponseCallback;if(u)try{c=u.call(this.hls,l,a,e)}catch(f){this.error(f)}o(c)}else{const c=i.errorRetry,u=c?c.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>u||l.status>=400&&l.status<500)s(new Ld({type:Ln.KEY_SYSTEM_ERROR,details:Ze.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:l,response:{url:a,data:void 0,code:l.status,text:l.statusText}},`License Request XHR failed (${a}). Status: ${l.status} (${l.statusText})`));else{const f=u-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${f} attempts left`),this.requestLicense(e,r).then(o,s)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=l,this.setupLicenseXHR(l,a,e,r).then(({xhr:c,licenseChallenge:u})=>{c.send(u)})})}onMediaAttached(e,r){if(!this.config.emeEnabled)return;const i=r.media;this.media=i,i.addEventListener("encrypted",this.onMediaEncrypted),i.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,r=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},xI.clearKeyUriToKeyIdMap();const i=r.length;gC.CDMCleanupPromise=Promise.all(r.map(o=>this.removeSession(o)).concat(e==null?void 0:e.setMediaKeys(null).catch(o=>{this.log(`Could not clear media keys: ${o}. media.src: ${e==null?void 0:e.src}`)}))).then(()=>{i&&(this.log("finished closing key sessions and clearing media keys"),r.length=0)}).catch(o=>{this.log(`Could not close sessions and clear media keys: ${o}. media.src: ${e==null?void 0:e.src}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:r}){if(!(!r||!this.config.emeEnabled)&&!this.keyFormatPromise){const i=r.reduce((o,s)=>(o.indexOf(s.keyFormat)===-1&&o.push(s.keyFormat),o),[]);this.log(`Selecting key-system from session-keys ${i.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(i)}}removeSession(e){const{mediaKeysSession:r,licenseXhr:i}=e;if(r){this.log(`Remove licenses and keys and close session ${r.sessionId}`),r.onmessage=null,r.onkeystatuseschange=null,i&&i.readyState!==XMLHttpRequest.DONE&&i.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const o=this.mediaKeySessions.indexOf(e);return o>-1&&this.mediaKeySessions.splice(o,1),r.remove().catch(s=>{this.log(`Could not remove session: ${s}`)}).then(()=>r.close()).catch(s=>{this.log(`Could not close session: ${s}`)})}}}gC.CDMCleanupPromise=void 0;class Ld extends Error{constructor(e,r){super(r),this.data=void 0,e.error||(e.error=new Error(r)),this.data=e,e.err=e.error}}const SAr=1;var Xc={MANIFEST:"m",AUDIO:"a",VIDEO:"v",MUXED:"av",INIT:"i",CAPTION:"c",TIMED_TEXT:"tt",KEY:"k",OTHER:"o"};const kAr="h";class u0{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=o=>{try{this.apply(o,{ot:Xc.MANIFEST,su:!this.initialized})}catch(s){je.warn("Could not generate manifest CMCD data.",s)}},this.applyFragmentData=o=>{try{const s=o.frag,a=this.hls.levels[s.level],l=this.getObjectType(s),c={d:s.duration*1e3,ot:l};(l===Xc.VIDEO||l===Xc.AUDIO||l==Xc.MUXED)&&(c.br=a.bitrate/1e3,c.tb=this.getTopBandwidth(l)/1e3,c.bl=this.getBufferLength(l)),this.apply(o,c)}catch(s){je.warn("Could not generate segment CMCD data.",s)}},this.hls=e;const r=this.config=e.config,{cmcd:i}=r;i!=null&&(r.pLoader=this.createPlaylistLoader(),r.fLoader=this.createFragmentLoader(),this.sid=i.sessionId||u0.uuid(),this.cid=i.contentId,this.useHeaders=i.useHeaders===!0,this.registerListeners())}registerListeners(){const e=this.hls;e.on(ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(ie.MEDIA_DETACHED,this.onMediaDetached,this),e.on(ie.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(ie.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(ie.MEDIA_DETACHED,this.onMediaDetached,this),e.off(ie.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null}onMediaAttached(e,r){this.media=r.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,r){var i,o;this.audioBuffer=(i=r.tracks.audio)==null?void 0:i.buffer,this.videoBuffer=(o=r.tracks.video)==null?void 0:o.buffer}createData(){var e;return{v:SAr,sf:kAr,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,r={}){Oa(r,this.createData());const i=r.ot===Xc.INIT||r.ot===Xc.VIDEO||r.ot===Xc.MUXED;if(this.starved&&i&&(r.bs=!0,r.su=!0,this.starved=!1),r.su==null&&(r.su=this.buffering),this.useHeaders){const o=u0.toHeaders(r);if(!Object.keys(o).length)return;e.headers||(e.headers={}),Oa(e.headers,o)}else{const o=u0.toQuery(r);if(!o)return;e.url=u0.appendQueryToUri(e.url,o)}}getObjectType(e){const{type:r}=e;if(r==="subtitle")return Xc.TIMED_TEXT;if(e.sn==="initSegment")return Xc.INIT;if(r==="audio")return Xc.AUDIO;if(r==="main")return this.hls.audioTracks.length?Xc.VIDEO:Xc.MUXED}getTopBandwidth(e){let r=0,i;const o=this.hls;if(e===Xc.AUDIO)i=o.audioTracks;else{const s=o.maxAutoLevel,a=s>-1?s+1:o.levels.length;i=o.levels.slice(0,a)}for(const s of i)s.bitrate>r&&(r=s.bitrate);return r>0?r:NaN}getBufferLength(e){const r=this.hls.media,i=e===Xc.AUDIO?this.audioBuffer:this.videoBuffer;return!i||!r?NaN:Uo.bufferInfo(i,r.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,r=this.applyPlaylistData,i=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new i(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,a,l){r(s),this.loader.load(s,a,l)}}}createFragmentLoader(){const{fLoader:e}=this.config,r=this.applyFragmentData,i=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new i(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,a,l){r(s),this.loader.load(s,a,l)}}}static uuid(){const e=URL.createObjectURL(new Blob),r=e.toString();return URL.revokeObjectURL(e),r.slice(r.lastIndexOf("/")+1)}static serialize(e){const r=[],i=u=>!Number.isNaN(u)&&u!=null&&u!==""&&u!==!1,o=u=>Math.round(u),s=u=>o(u/100)*100,l={br:o,d:o,bl:s,dl:s,mtp:s,nor:u=>encodeURIComponent(u),rtp:s,tb:o},c=Object.keys(e||{}).sort();for(const u of c){let f=e[u];if(!i(f)||u==="v"&&f===1||u=="pr"&&f===1)continue;const h=l[u];h&&(f=h(f));const m=typeof f;let g;u==="ot"||u==="sf"||u==="st"?g=`${u}=${f}`:m==="boolean"?g=u:m==="number"?g=`${u}=${f}`:g=`${u}=${JSON.stringify(f)}`,r.push(g)}return r.join(",")}static toHeaders(e){const r=Object.keys(e),i={},o=["Object","Request","Session","Status"],s=[{},{},{},{}],a={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3};for(const l of r){const c=a[l]!=null?a[l]:1;s[c][l]=e[l]}for(let l=0;l<s.length;l++){const c=u0.serialize(s[l]);c&&(i[`CMCD-${o[l]}`]=c)}return i}static toQuery(e){return`CMCD=${encodeURIComponent(u0.serialize(e))}`}static appendQueryToUri(e,r){if(!r)return e;const i=e.includes("?")?"&":"?";return`${e}${i}${r}`}}const TAr=3e5;class AAr{constructor(e){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.log=je.log.bind(je,"[content-steering]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(ie.MANIFEST_LOADING,this.onManifestLoading,this),e.on(ie.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(ie.MANIFEST_PARSED,this.onManifestParsed,this),e.on(ie.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(ie.MANIFEST_LOADING,this.onManifestLoading,this),e.off(ie.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(ie.MANIFEST_PARSED,this.onManifestParsed,this),e.off(ie.ERROR,this.onError,this))}startLoad(){if(this.started=!0,self.clearTimeout(this.reloadTimer),this.enabled&&this.uri)if(this.updated){const e=Math.max(this.timeToLoad*1e3-(performance.now()-this.updated),0);this.scheduleRefresh(this.uri,e)}else this.loadSteeringManifest(this.uri)}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),self.clearTimeout(this.reloadTimer)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const r=this.levels;r&&(this.levels=r.filter(i=>i!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,r){const{contentSteering:i}=r;i!==null&&(this.pathwayId=i.pathwayId,this.uri=i.uri,this.started&&this.startLoad())}onManifestParsed(e,r){this.audioTracks=r.audioTracks,this.subtitleTracks=r.subtitleTracks}onError(e,r){const{errorAction:i}=r;if((i==null?void 0:i.action)===Nl.SendAlternateToPenaltyBox&&i.flags===$d.MoveAllAlternatesMatchingHost){let o=this.pathwayPriority;const s=this.pathwayId;this.penalizedPathways[s]||(this.penalizedPathways[s]=performance.now()),!o&&this.levels&&(o=this.levels.reduce((a,l)=>(a.indexOf(l.pathwayId)===-1&&a.push(l.pathwayId),a),[])),o&&o.length>1&&(this.updatePathwayPriority(o),i.resolved=this.pathwayId!==s)}}filterParsedLevels(e){this.levels=e;let r=this.getLevelsForPathway(this.pathwayId);if(r.length===0){const i=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${i}"`),r=this.getLevelsForPathway(i),this.pathwayId=i}return r.length!==e.length?(this.log(`Found ${r.length}/${e.length} levels in Pathway "${this.pathwayId}"`),r):e}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(r=>e===r.pathwayId)}updatePathwayPriority(e){this.pathwayPriority=e;let r;const i=this.penalizedPathways,o=performance.now();Object.keys(i).forEach(s=>{o-i[s]>TAr&&delete i[s]});for(let s=0;s<e.length;s++){const a=e[s];if(i[a])continue;if(a===this.pathwayId)return;const l=this.hls.nextLoadLevel,c=this.hls.levels[l];if(r=this.getLevelsForPathway(a),r.length>0){this.log(`Setting Pathway to "${a}"`),this.pathwayId=a,this.hls.trigger(ie.LEVELS_UPDATED,{levels:r});const u=this.hls.levels[l];c&&u&&this.levels&&(u.attrs["STABLE-VARIANT-ID"]!==c.attrs["STABLE-VARIANT-ID"]&&u.bitrate!==c.bitrate&&this.log(`Unstable Pathways change from bitrate ${c.bitrate} to ${u.bitrate}`),this.hls.nextLoadLevel=l);break}}}clonePathways(e){const r=this.levels;if(!r)return;const i={},o={};e.forEach(s=>{const{ID:a,"BASE-ID":l,"URI-REPLACEMENT":c}=s;if(r.some(f=>f.pathwayId===a))return;const u=this.getLevelsForPathway(l).map(f=>{const h=Oa({},f);h.details=void 0,h.url=Klt(f.uri,f.attrs["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",c);const m=new us(f.attrs);m["PATHWAY-ID"]=a;const g=m.AUDIO&&`${m.AUDIO}_clone_${a}`,v=m.SUBTITLES&&`${m.SUBTITLES}_clone_${a}`;g&&(i[m.AUDIO]=g,m.AUDIO=g),v&&(o[m.SUBTITLES]=v,m.SUBTITLES=v),h.attrs=m;const y=new wI(h);return R4(y,"audio",g),R4(y,"text",v),y});r.push(...u),U3e(this.audioTracks,i,c,a),U3e(this.subtitleTracks,o,c,a)})}loadSteeringManifest(e){const r=this.hls.config,i=r.loader;this.loader&&this.loader.destroy(),this.loader=new i(r);let o;try{o=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(o.protocol!=="data:"){const f=(this.hls.bandwidthEstimate||r.abrEwmaDefaultEstimate)|0;o.searchParams.set("_HLS_pathway",this.pathwayId),o.searchParams.set("_HLS_throughput",""+f)}const s={responseType:"json",url:o.href},a=r.steeringManifestLoadPolicy.default,l=a.errorRetry||a.timeoutRetry||{},c={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:l.maxNumRetry||0,retryDelay:l.retryDelayMs||0,maxRetryDelay:l.maxRetryDelayMs||0},u={onSuccess:(f,h,m,g)=>{this.log(`Loaded steering manifest: "${o}"`);const v=f.data;if(v.VERSION!==1){this.log(`Steering VERSION ${v.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=v.TTL;const{"RELOAD-URI":y,"PATHWAY-CLONES":b,"PATHWAY-PRIORITY":x}=v;if(y)try{this.uri=new self.URL(y,o).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${y}`);return}this.scheduleRefresh(this.uri||m.url),b&&this.clonePathways(b),x&&this.updatePathwayPriority(x)},onError:(f,h,m,g)=>{if(this.log(`Error loading steering manifest: ${f.code} ${f.text} (${h.url})`),this.stopLoad(),f.code===410){this.enabled=!1,this.log(`Steering manifest ${h.url} no longer available`);return}let v=this.timeToLoad*1e3;if(f.code===429){const y=this.loader;if(typeof(y==null?void 0:y.getResponseHeader)=="function"){const b=y.getResponseHeader("Retry-After");b&&(v=parseFloat(b)*1e3)}this.log(`Steering manifest ${h.url} rate limited`);return}this.scheduleRefresh(this.uri||h.url,v)},onTimeout:(f,h,m)=>{this.log(`Timeout loading steering manifest (${h.url})`),this.scheduleRefresh(this.uri||h.url)}};this.log(`Requesting steering manifest: ${o}`),this.loader.load(s,c,u)}scheduleRefresh(e,r=this.timeToLoad*1e3){self.clearTimeout(this.reloadTimer),this.reloadTimer=self.setTimeout(()=>{this.loadSteeringManifest(e)},r)}}function U3e(n,e,r,i){n&&Object.keys(e).forEach(o=>{const s=n.filter(a=>a.groupId===o).map(a=>{const l=Oa({},a);return l.details=void 0,l.attrs=new us(l.attrs),l.url=l.attrs.URI=Klt(a.url,a.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",r),l.groupId=l.attrs["GROUP-ID"]=e[o],l.attrs["PATHWAY-ID"]=i,l});n.push(...s)})}function Klt(n,e,r,i){const{HOST:o,PARAMS:s,[r]:a}=i;let l;e&&(l=a==null?void 0:a[e],l&&(n=l));const c=new self.URL(n);return o&&!l&&(c.host=o),s&&Object.keys(s).sort().forEach(u=>{u&&c.searchParams.set(u,s[u])}),c.href}const IAr=/^age:\s*[\d.]+\s*$/im;class Ylt{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new JB,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,r,i){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=r,this.callbacks=i,this.loadInternal()}loadInternal(){const{config:e,context:r}=this;if(!e)return;const i=this.loader=new self.XMLHttpRequest,o=this.stats;o.loading.first=0,o.loaded=0,o.aborted=!1;const s=this.xhrSetup;s?Promise.resolve().then(()=>{if(!this.stats.aborted)return s(i,r.url)}).catch(a=>(i.open("GET",r.url,!0),s(i,r.url))).then(()=>{this.stats.aborted||this.openAndSendXhr(i,r,e)}).catch(a=>{this.callbacks.onError({code:i.status,text:a.message},r,i,o)}):this.openAndSendXhr(i,r,e)}openAndSendXhr(e,r,i){e.readyState||e.open("GET",r.url,!0);const o=this.context.headers,{maxTimeToFirstByteMs:s,maxLoadTimeMs:a}=i.loadPolicy;if(o)for(const l in o)e.setRequestHeader(l,o[l]);r.rangeEnd&&e.setRequestHeader("Range","bytes="+r.rangeStart+"-"+(r.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=r.responseType,self.clearTimeout(this.requestTimeout),i.timeout=s&&wn(s)?s:a,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.timeout),e.send()}readystatechange(){const{context:e,loader:r,stats:i}=this;if(!e||!r)return;const o=r.readyState,s=this.config;if(!i.aborted&&o>=2&&(i.loading.first===0&&(i.loading.first=Math.max(self.performance.now(),i.loading.start),s.timeout!==s.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),s.timeout=s.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.loadPolicy.maxLoadTimeMs-(i.loading.first-i.loading.start)))),o===4)){self.clearTimeout(this.requestTimeout),r.onreadystatechange=null,r.onprogress=null;const a=r.status,l=r.responseType!=="text";if(a>=200&&a<300&&(l&&r.response||r.responseText!==null)){i.loading.end=Math.max(self.performance.now(),i.loading.first);const c=l?r.response:r.responseText,u=r.responseType==="arraybuffer"?c.byteLength:c.length;if(i.loaded=i.total=u,i.bwEstimate=i.total*8e3/(i.loading.end-i.loading.first),!this.callbacks)return;const f=this.callbacks.onProgress;if(f&&f(i,e,c,r),!this.callbacks)return;const h={url:r.responseURL,data:c,code:a};this.callbacks.onSuccess(h,i,e,r)}else{const c=s.loadPolicy.errorRetry,u=i.retry;D4(c,u,!1,a)?this.retry(c):(je.error(`${a} while loading ${e.url}`),this.callbacks.onError({code:a,text:r.statusText},e,r,i))}}}loadtimeout(){var e;const r=(e=this.config)==null?void 0:e.loadPolicy.timeoutRetry,i=this.stats.retry;if(D4(r,i,!0))this.retry(r);else{je.warn(`timeout while loading ${this.context.url}`);const o=this.callbacks;o&&(this.abortInternal(),o.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:r,stats:i}=this;this.retryDelay=vae(e,i.retry),i.retry++,je.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${r.url}, retrying ${i.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const r=this.stats;r.loaded=e.loaded,e.lengthComputable&&(r.total=e.total)}getCacheAge(){let e=null;if(this.loader&&IAr.test(this.loader.getAllResponseHeaders())){const r=this.loader.getResponseHeader("age");e=r?parseFloat(r):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}function DAr(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const RAr=/(\d+)-(\d+)\/(\d+)/;class z3e{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||LAr,this.controller=new self.AbortController,this.stats=new JB}destroy(){this.loader=this.callbacks=null,this.abortInternal()}abortInternal(){const e=this.response;e!=null&&e.ok||(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,r,i){const o=this.stats;if(o.loading.start)throw new Error("Loader can only be used once.");o.loading.start=self.performance.now();const s=OAr(e,this.controller.signal),a=i.onProgress,l=e.responseType==="arraybuffer",c=l?"byteLength":"length",{maxTimeToFirstByteMs:u,maxLoadTimeMs:f}=r.loadPolicy;this.context=e,this.config=r,this.callbacks=i,this.request=this.fetchSetup(e,s),self.clearTimeout(this.requestTimeout),r.timeout=u&&wn(u)?u:f,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),i.onTimeout(o,e,this.response)},r.timeout),self.fetch(this.request).then(h=>{this.response=this.loader=h;const m=Math.max(self.performance.now(),o.loading.start);if(self.clearTimeout(this.requestTimeout),r.timeout=f,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),i.onTimeout(o,e,this.response)},f-(m-o.loading.start)),!h.ok){const{status:g,statusText:v}=h;throw new $Ar(v||"fetch, bad network response",g,h)}return o.loading.first=m,o.total=jAr(h.headers)||o.total,a&&wn(r.highWaterMark)?this.loadProgressively(h,o,e,r.highWaterMark,a):l?h.arrayBuffer():e.responseType==="json"?h.json():h.text()}).then(h=>{const{response:m}=this;self.clearTimeout(this.requestTimeout),o.loading.end=Math.max(self.performance.now(),o.loading.first);const g=h[c];g&&(o.loaded=o.total=g);const v={url:m.url,data:h,code:m.status};a&&!wn(r.highWaterMark)&&a(o,e,h,m),i.onSuccess(v,o,e,m)}).catch(h=>{if(self.clearTimeout(this.requestTimeout),o.aborted)return;const m=h&&h.code||0,g=h?h.message:null;i.onError({code:m,text:g},e,h?h.details:null,o)})}getCacheAge(){let e=null;if(this.response){const r=this.response.headers.get("age");e=r?parseFloat(r):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,r,i,o=0,s){const a=new Flt,l=e.body.getReader(),c=()=>l.read().then(u=>{if(u.done)return a.dataLength&&s(r,i,a.flush(),e),Promise.resolve(new ArrayBuffer(0));const f=u.value,h=f.length;return r.loaded+=h,h<o||a.dataLength?(a.push(f),a.dataLength>=o&&s(r,i,a.flush(),e)):s(r,i,f,e),c()}).catch(()=>Promise.reject());return c()}}function OAr(n,e){const r={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(Oa({},n.headers))};return n.rangeEnd&&r.headers.set("Range","bytes="+n.rangeStart+"-"+String(n.rangeEnd-1)),r}function PAr(n){const e=RAr.exec(n);if(e)return parseInt(e[2])-parseInt(e[1])+1}function jAr(n){const e=n.get("Content-Range");if(e){const i=PAr(e);if(wn(i))return i}const r=n.get("Content-Length");if(r)return parseInt(r)}function LAr(n,e){return new self.Request(n.url,e)}class $Ar extends Error{constructor(e,r,i){super(e),this.code=void 0,this.details=void 0,this.code=r,this.details=i}}const MAr=/\s/,FAr={newCue(n,e,r,i){const o=[];let s,a,l,c,u;const f=self.VTTCue||self.TextTrackCue;for(let m=0;m<i.rows.length;m++)if(s=i.rows[m],l=!0,c=0,u="",!s.isEmpty()){var h;for(let y=0;y<s.chars.length;y++)MAr.test(s.chars[y].uchar)&&l?c++:(u+=s.chars[y].uchar,l=!1);s.cueStartTime=e,e===r&&(r+=1e-4),c>=16?c--:c++;const g=Hlt(u.trim()),v=Aae(e,r,g);n!=null&&(h=n.cues)!=null&&h.getCueById(v)||(a=new f(e,r,g),a.id=v,a.line=m+1,a.align="left",a.position=10+Math.min(80,Math.floor(c*8/32)*10),o.push(a))}return n&&o.length&&(o.sort((m,g)=>m.line==="auto"||g.line==="auto"?0:m.line>8&&g.line>8?g.line-m.line:m.line-g.line),o.forEach(m=>glt(n,m))),o}},NAr={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},BAr=Ac(Ac({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:60*1e3*1e3,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Ylt,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:HTr,bufferController:JTr,capLevelController:Iae,errorController:$kr,fpsController:CAr,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:rlt,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,certLoadPolicy:{default:NAr},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},UAr()),{},{subtitleStreamController:YTr,subtitleTrackController:XTr,timelineController:wAr,audioStreamController:GTr,audioTrackController:qTr,emeController:gC,cmcdController:u0,contentSteeringController:AAr});function UAr(){return{cueHandler:FAr,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function zAr(n,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const r=CX(n),i=["manifest","level","frag"],o=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return i.forEach(s=>{const a=`${s==="level"?"playlist":s}LoadPolicy`,l=e[a]===void 0,c=[];o.forEach(u=>{const f=`${s}Loading${u}`,h=e[f];if(h!==void 0&&l){c.push(f);const m=r[a].default;switch(e[a]={default:m},u){case"TimeOut":m.maxLoadTimeMs=h,m.maxTimeToFirstByteMs=h;break;case"MaxRetry":m.errorRetry.maxNumRetry=h,m.timeoutRetry.maxNumRetry=h;break;case"RetryDelay":m.errorRetry.retryDelayMs=h,m.timeoutRetry.retryDelayMs=h;break;case"MaxRetryTimeout":m.errorRetry.maxRetryDelayMs=h,m.timeoutRetry.maxRetryDelayMs=h;break}}}),c.length&&je.warn(`hls.js config: "${c.join('", "')}" setting(s) are deprecated, use "${a}": ${JSON.stringify(e[a])}`)}),Ac(Ac({},r),e)}function CX(n){return n&&typeof n=="object"?Array.isArray(n)?n.map(CX):Object.keys(n).reduce((e,r)=>(e[r]=CX(n[r]),e),{}):n}function VAr(n){const e=n.loader;e!==z3e&&e!==Ylt?(je.log("[config]: Custom loader detected, cannot enable progressive streaming"),n.progressive=!1):DAr()&&(n.loader=z3e,n.progressive=!0,n.enableSoftwareAES=!0,je.log("[config]: Progressive streaming enabled, using FetchLoader"))}class Lb{static get version(){return"1.4.14"}static isSupported(){return tTr()}static get Events(){return ie}static get ErrorTypes(){return Ln}static get ErrorDetails(){return Ze}static get DefaultConfig(){return Lb.defaultConfig?Lb.defaultConfig:BAr}static set DefaultConfig(e){Lb.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new kae,this._autoLevelCapping=void 0,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,T2r(e.debug||!1,"Hls instance");const r=this.config=zAr(Lb.DefaultConfig,e);this.userConfig=e,this._autoLevelCapping=-1,r.progressive&&VAr(r);const{abrController:i,bufferController:o,capLevelController:s,errorController:a,fpsController:l}=r,c=new a(this),u=this.abrController=new i(this),f=this.bufferController=new o(this),h=this.capLevelController=new s(this),m=new l(this),g=new vkr(this),v=new _kr(this),y=r.contentSteeringController,b=y?new y(this):null,x=this.levelController=new Fkr(this,b),_=new Nkr(this),w=new Ukr(this.config),C=this.streamController=new zTr(this,_,w);h.setStreamController(C),m.setStreamController(C);const S=[g,x,C];b&&S.splice(1,0,b),this.networkControllers=S;const T=[u,f,h,m,v,_];this.audioTrackController=this.createController(r.audioTrackController,S);const A=r.audioStreamController;A&&S.push(new A(this,_,w)),this.subtitleTrackController=this.createController(r.subtitleTrackController,S);const I=r.subtitleStreamController;I&&S.push(new I(this,_,w)),this.createController(r.timelineController,T),w.emeController=this.emeController=this.createController(r.emeController,T),this.cmcdController=this.createController(r.cmcdController,T),this.latencyController=this.createController(Ekr,T),this.coreComponents=T,S.push(c);const D=c.onErrorOut;typeof D=="function"&&this.on(ie.ERROR,D,c)}createController(e,r){if(e){const i=new e(this);return r&&r.push(i),i}return null}on(e,r,i=this){this._emitter.on(e,r,i)}once(e,r,i=this){this._emitter.once(e,r,i)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,r,i=this,o){this._emitter.off(e,r,i,o)}listeners(e){return this._emitter.listeners(e)}emit(e,r,i){return this._emitter.emit(e,r,i)}trigger(e,r){if(this.config.debug)return this.emit(e,e,r);try{return this.emit(e,e,r)}catch(i){je.error("An internal error happened while handling event "+e+'. Error message: "'+i.message+'". Here is a stacktrace:',i),this.trigger(ie.ERROR,{type:Ln.OTHER_ERROR,details:Ze.INTERNAL_EXCEPTION,fatal:!1,event:e,error:i})}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){je.log("destroy"),this.trigger(ie.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(r=>r.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(r=>r.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){je.log("attachMedia"),this._media=e,this.trigger(ie.MEDIA_ATTACHING,{media:e})}detachMedia(){je.log("detachMedia"),this.trigger(ie.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const r=this.media,i=this.url,o=this.url=pae.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});je.log(`loadSource:${o}`),r&&i&&(i!==o||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(r)),this.trigger(ie.MANIFEST_LOADING,{url:e})}startLoad(e=-1){je.log(`startLoad(${e})`),this.networkControllers.forEach(r=>{r.startLoad(e)})}stopLoad(){je.log("stopLoad"),this.networkControllers.forEach(e=>{e.stopLoad()})}swapAudioCodec(){je.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){je.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e,r=0){this.levelController.removeLevel(e,r)}get levels(){const e=this.levelController.levels;return e||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){je.log(`set currentLevel:${e}`),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){je.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){je.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){je.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){return this.levelController.startLevel}set startLevel(e){je.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const r=!!e;r!==this.config.capLevelToPlayerSize&&(r?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=r)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(je.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e)}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){bX.indexOf(e)>-1&&(this._maxHdcpLevel=e)}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:r}}=this;if(!e)return 0;const i=e.length;for(let o=0;o<i;o++)if(e[o].maxBitrate>=r)return o;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:r,maxHdcpLevel:i}=this;let o;if(r===-1&&e&&e.length?o=e.length-1:o=r,i)for(let s=o;s--;){const a=e[s].attrs["HDCP-LEVEL"];if(a&&a<=i)return s}return o}get nextAutoLevel(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)}set nextAutoLevel(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const r=this.audioTrackController;r&&(r.audioTrack=e)}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const r=this.subtitleTrackController;r&&(r.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const r=this.subtitleTrackController;r&&(r.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}Lb.defaultConfig=void 0;var Fs=Lb,GT=class extends Error{constructor(e,r=GT.MEDIA_ERR_CUSTOM,i,o){var s;super(e),this.name="MediaError",this.code=r,this.context=o,this.fatal=i??(r>=GT.MEDIA_ERR_NETWORK&&r<=GT.MEDIA_ERR_ENCRYPTED),this.message||(this.message=(s=GT.defaultMessages[this.code])!=null?s:"")}},Ns=GT;Ns.MEDIA_ERR_ABORTED=1,Ns.MEDIA_ERR_NETWORK=2,Ns.MEDIA_ERR_DECODE=3,Ns.MEDIA_ERR_SRC_NOT_SUPPORTED=4,Ns.MEDIA_ERR_ENCRYPTED=5,Ns.MEDIA_ERR_CUSTOM=100,Ns.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail.",3:"A media error caused playback to be aborted. The media could be corrupt or your browser does not support this format.",4:"An unsupported error occurred. The server or network failed, or your browser does not support this format.",5:"The media is encrypted and there are no keys to decrypt it."};var HAr=n=>n==null,Zlt=(n,e)=>HAr(e)?!1:n in e,SX={ANY:"any",MUTED:"muted"},Ss={ON_DEMAND:"on-demand",LIVE:"live",UNKNOWN:"unknown"},Dp={MSE:"mse",NATIVE:"native"},kX={HEADER:"header",QUERY:"query",NONE:"none"},P4=Object.values(kX),Sy={M3U8:"application/vnd.apple.mpegurl",MP4:"video/mp4"},V3e={HLS:Sy.M3U8};[...Object.values(Sy)];var sh=(n,e,r,i,o=n)=>{o.addEventListener(e,r,i),n.addEventListener("teardown",()=>{o.removeEventListener(e,r)},{once:!0})};function WAr(n,e,r){e&&r>e&&(r=e);for(let i=0;i<n.length;i++)if(n.start(i)<=r&&n.end(i)>=r)return!0;return!1}var GAr=n=>{let e=n.indexOf("?");if(e<0)return[n];let r=n.slice(0,e),i=n.slice(e);return[r,i]},n7=n=>{let e=n.type;if(e){let i=e.toUpperCase();return Zlt(i,V3e)?V3e[i]:e}let{src:r}=n;return r?qAr(r):""},Xlt=n=>n==="VOD"?Ss.ON_DEMAND:Ss.LIVE,Qlt=n=>n==="EVENT"?Number.POSITIVE_INFINITY:n==="VOD"?Number.NaN:0,qAr=n=>{let e="";try{e=new URL(n).pathname}catch{console.error("invalid url")}let r=e.lastIndexOf(".");if(r<0)return"";let i=e.slice(r+1).toUpperCase();return Zlt(i,Sy)?Sy[i]:""},KAr=Object.values(SX),H3e=n=>typeof n=="boolean"||typeof n=="string"&&KAr.includes(n),YAr=({autoplay:n},e,r)=>{let i=!1,o=!1,s=H3e(n)?n:!!n,a=()=>{i||sh(e,"playing",()=>{i=!0},{once:!0})};if(a(),sh(e,"loadstart",()=>{i=!1,a(),yW(e,s)},{once:!0}),sh(e,"loadstart",()=>{r||(o=!Number.isFinite(e.duration)),yW(e,s)},{once:!0}),r&&r.once(Fs.Events.LEVEL_LOADED,(l,c)=>{var u;o=(u=c.details.live)!=null?u:!1}),!s){let l=()=>{!o||(r!=null&&r.liveSyncPosition?e.currentTime=r.liveSyncPosition:Number.isFinite(e.seekable.end(0))&&(e.currentTime=e.seekable.end(0)))};r&&sh(e,"play",()=>{e.preload==="metadata"?r.once(Fs.Events.LEVEL_UPDATED,l):l()},{once:!0})}return l=>{i||(s=H3e(l)?l:!!l,yW(e,s))}},yW=(n,e)=>{if(!e)return;let r=n.muted,i=()=>n.muted=r;switch(e){case SX.ANY:n.play().catch(()=>{n.muted=!0,n.play().catch(i)});break;case SX.MUTED:n.muted=!0,n.play().catch(i);break;default:n.play().catch(()=>{});break}},ZAr=({preload:n,src:e},r,i)=>{let o=h=>{h!=null&&["","none","metadata","auto"].includes(h)?r.setAttribute("preload",h):r.removeAttribute("preload")};if(!i)return o(n),o;let s=!1,a=!1,l=i.config.maxBufferLength,c=i.config.maxBufferSize,u=h=>{o(h);let m=h??r.preload;a||m==="none"||(m==="metadata"?(i.config.maxBufferLength=1,i.config.maxBufferSize=1):(i.config.maxBufferLength=l,i.config.maxBufferSize=c),f())},f=()=>{!s&&e&&(s=!0,i.loadSource(e))};return sh(r,"play",()=>{a=!0,i.config.maxBufferLength=l,i.config.maxBufferSize=c,f()},{once:!0}),u(n),u};function XAr(n,e){var r;if(!("videoTracks"in n))return;let i=new WeakMap;e.on(Fs.Events.MANIFEST_PARSED,function(u,f){c();let h=n.addVideoTrack("main");h.selected=!0;for(let[m,g]of f.levels.entries()){let v=h.addRendition(g.url[0],g.width,g.height,g.videoCodec,g.bitrate);i.set(g,`${m}`),v.id=`${m}`}}),e.on(Fs.Events.AUDIO_TRACKS_UPDATED,function(u,f){l();for(let h of f.audioTracks){let m=h.default?"main":"alternative",g=n.addAudioTrack(m,h.name,h.lang);g.id=`${h.id}`,h.default&&(g.enabled=!0)}}),n.audioTracks.addEventListener("change",()=>{var u;let f=+((u=[...n.audioTracks].find(m=>m.enabled))==null?void 0:u.id),h=e.audioTracks.map(m=>m.id);f!=e.audioTrack&&h.includes(f)&&(e.audioTrack=f)}),e.on(Fs.Events.LEVELS_UPDATED,function(u,f){var h;let m=n.videoTracks[(h=n.videoTracks.selectedIndex)!=null?h:0];if(!m)return;let g=f.levels.map(v=>i.get(v));for(let v of n.videoRenditions)v.id&&!g.includes(v.id)&&m.removeRendition(v)});let o=u=>{let f=u.target.selectedIndex;f!=e.nextLevel&&s(f)},s=u=>{let f=n.currentTime,h=!1,m=(g,v)=>{h||(h=!Number.isFinite(v.endOffset))};e.on(Fs.Events.BUFFER_FLUSHING,m),e.nextLevel=u,e.off(Fs.Events.BUFFER_FLUSHING,m),h||e.trigger(Fs.Events.BUFFER_FLUSHING,{startOffset:f+10,endOffset:1/0,type:"video"})};(r=n.videoRenditions)==null||r.addEventListener("change",o);let a=()=>{for(let u of n.videoTracks)n.removeVideoTrack(u)},l=()=>{for(let u of n.audioTracks)n.removeAudioTrack(u)},c=()=>{a(),l()};e.once(Fs.Events.DESTROYING,c)}function QAr(n,e){e.on(Fs.Events.NON_NATIVE_TEXT_TRACKS_FOUND,(o,{tracks:s})=>{s.forEach(a=>{var l;let c=(l=a.subtitleTrack)!=null?l:a.closedCaptions,u=e.subtitleTracks.findIndex(({lang:f,name:h,type:m})=>f==(c==null?void 0:c.lang)&&h===a.label&&m.toLowerCase()===a.kind);Dae(n,a.kind,a.label,c==null?void 0:c.lang,`${a.kind}${u}`)})});let r=()=>{var o;if(!e.subtitleTracks.length)return;let s=Array.from(n.textTracks).find(l=>l.id&&l.mode==="showing"&&["subtitles","captions"].includes(l.kind)),a=`${(o=e.subtitleTracks[e.subtitleTrack])==null?void 0:o.type.toLowerCase()}${e.subtitleTrack}`;if(s&&(e.subtitleTrack<0||(s==null?void 0:s.id)!==a)){let l=e.subtitleTracks.findIndex(({lang:c,name:u,type:f})=>c==s.language&&u===s.label&&f.toLowerCase()===s.kind);e.subtitleTrack=l}s&&(s==null?void 0:s.id)===a&&s.cues&&Array.from(s.cues).forEach(l=>{s.addCue(l)})};n.textTracks.addEventListener("change",r),e.on(Fs.Events.CUES_PARSED,(o,{track:s,cues:a})=>{let l=n.textTracks.getTrackById(s);if(!l)return;let c=l.mode==="disabled";c&&(l.mode="hidden"),a.forEach(u=>{var f;(f=l.cues)!=null&&f.getCueById(u.id)||l.addCue(u)}),c&&(l.mode="disabled")}),e.once(Fs.Events.DESTROYING,()=>{n.textTracks.removeEventListener("change",r),n.querySelectorAll("track[data-removeondestroy]").forEach(o=>{o.remove()})});let i=()=>{Array.from(n.textTracks).forEach(o=>{var s,a;if(!["subtitles","caption"].includes(o.kind)&&o.label==="thumbnails"){if(!((s=o.cues)!=null&&s.length)){let l=n.querySelector('track[label="thumbnails"]'),c=(a=l==null?void 0:l.getAttribute("src"))!=null?a:"";l==null||l.removeAttribute("src"),setTimeout(()=>{l==null||l.setAttribute("src",c)},0)}o.mode!=="hidden"&&(o.mode="hidden")}})};e.once(Fs.Events.MANIFEST_LOADED,i),e.once(Fs.Events.MEDIA_ATTACHED,i)}function Dae(n,e,r,i,o){let s=document.createElement("track");return s.kind=e,s.label=r,i&&(s.srclang=i),o&&(s.id=o),s.track.mode=["subtitles","captions"].includes(e)?"disabled":"hidden",s.setAttribute("data-removeondestroy",""),n.append(s),s.track}function JAr(n,e){let r=Array.prototype.find.call(n.querySelectorAll("track"),i=>i.track===e);r==null||r.remove()}var vR="cuepoints",Rae=Object.freeze({label:vR}),Oae=(n,{label:e=vR}=Rae)=>{var r;return(r=Array.from(n.querySelectorAll("track")).find(i=>i.track.label===e&&i.track.kind==="metadata"))==null?void 0:r.track};async function Jlt(n,e,r=Rae){let i=Oae(n,r);if(!i){let{label:o=vR}=r;i=Dae(n,"metadata",o),i.mode="hidden",await new Promise(s=>setTimeout(()=>s(void 0),0))}return i.mode!=="hidden"&&(i.mode="hidden"),[...e].sort(({time:o},{time:s})=>s-o).forEach(({time:o,value:s})=>{var a,l;let c=Array.prototype.findIndex.call(i==null?void 0:i.cues,g=>g.startTime>=o),u=(a=i==null?void 0:i.cues)==null?void 0:a[c],f=u?u.startTime:Number.isFinite(n.duration)?n.duration:Number.MAX_SAFE_INTEGER,h=(l=i==null?void 0:i.cues)==null?void 0:l[c-1];h&&(h.endTime=o);let m=new VTTCue(o,f,JSON.stringify(s??null));i.addCue(m)}),i}var ect=n=>({time:n.startTime,value:JSON.parse(n.text)});function e5r(n,e={label:vR}){let r=Oae(n,e);return r!=null&&r.cues?Array.from(r.cues,i=>ect(i)):[]}function tct(n,e={label:vR}){var r,i;let o=Oae(n,e);if(!((r=o==null?void 0:o.activeCues)!=null&&r.length))return;let{currentTime:s}=n,a=Array.prototype.find.call((i=o.activeCues)!=null?i:[],({startTime:l,endTime:c})=>l<=s&&c>s);return ect(a)}async function t5r(n,e=Rae){return new Promise(r=>{sh(n,"loadstart",async()=>{let i=await Jlt(n,[],e);sh(n,"cuechange",()=>{let o=tct(n);if(o){let s=new CustomEvent("cuepointchange",{composed:!0,bubbles:!0,detail:o});n.dispatchEvent(s)}},{},i),r(i)})})}function n5r(n,e){if(e){let r=e.playingDate;if(r!=null)return new Date(r.getTime()-n.currentTime*1e3)}return typeof n.getStartDate=="function"?n.getStartDate():new Date(NaN)}function r5r(n,e){if(e&&e.playingDate)return e.playingDate;if(typeof n.getStartDate=="function"){let r=n.getStartDate();return new Date(r.getTime()+n.currentTime*1e3)}return new Date(NaN)}var i5r=async n=>fetch(n).then(e=>e.text()).then(e=>{let r=e.split(`
`).find((i,o,s)=>o&&s[o-1].startsWith("#EXT-X-STREAM-INF"));return fetch(r).then(i=>i.text()).then(i=>i.split(`
`))}),o5r=n=>{var e,r,i;let o=(r=((e=n.find(c=>c.startsWith("#EXT-X-PLAYLIST-TYPE")))!=null?e:"").split(":")[1])==null?void 0:r.trim(),s=Xlt(o),a=Qlt(o),l;if(s===Ss.LIVE){let c=n.find(u=>u.startsWith("#EXT-X-PART-INF"));if(c)l=+c.split(":")[1].split("=")[1]*2;else{let u=n.find(h=>h.startsWith("#EXT-X-TARGETDURATION")),f=(i=u==null?void 0:u.split(":"))==null?void 0:i[1];l=+(f??6)*3}}return{streamType:s,targetLiveWindow:a,liveEdgeStartOffset:l}},s5r=async(n,e)=>{if(e===Sy.MP4)return{streamType:Ss.ON_DEMAND,targetLiveWindow:Number.NaN,liveEdgeStartOffset:void 0};if(e===Sy.M3U8){let r=await i5r(n);return o5r(r)}return console.error(`Media type ${e} is an unrecognized or unsupported type for src ${n}.`),{streamType:void 0,targetLiveWindow:void 0,liveEdgeStartOffset:void 0}},W3e=async(n,e,r=n7({src:n}))=>{var i,o,s;let{streamType:a,targetLiveWindow:l,liveEdgeStartOffset:c}=await s5r(n,r);((i=fl.get(e))!=null?i:{}).liveEdgeStartOffset=c,((o=fl.get(e))!=null?o:{}).targetLiveWindow=l,e.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0})),((s=fl.get(e))!=null?s:{}).streamType=a,e.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}))},a5r=n=>{var e;let r=n.type,i=Xlt(r),o=Qlt(r),s,a=!!((e=n.partList)!=null&&e.length);return i===Ss.LIVE&&(s=a?n.partTarget*2:n.targetduration*3),{streamType:i,targetLiveWindow:o,liveEdgeStartOffset:s,lowLatency:a}},l5r=(n,e,r)=>{var i,o,s,a,l,c,u,f;let{streamType:h,targetLiveWindow:m,liveEdgeStartOffset:g,lowLatency:v}=a5r(n);if(h===Ss.LIVE){v?(r.config.backBufferLength=(i=r.userConfig.backBufferLength)!=null?i:4,r.config.maxFragLookUpTolerance=(o=r.userConfig.maxFragLookUpTolerance)!=null?o:.001,r.config.abrBandWidthUpFactor=(s=r.userConfig.abrBandWidthUpFactor)!=null?s:r.config.abrBandWidthFactor):r.config.backBufferLength=(a=r.userConfig.backBufferLength)!=null?a:8;let y=Object.freeze({get length(){return e.seekable.length},start(b){return e.seekable.start(b)},end(b){var x;return b>this.length?e.seekable.end(b):(x=r.liveSyncPosition)!=null?x:e.seekable.end(b)}});((l=fl.get(e))!=null?l:{}).seekable=y}((c=fl.get(e))!=null?c:{}).liveEdgeStartOffset=g,((u=fl.get(e))!=null?u:{}).targetLiveWindow=m,e.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0})),((f=fl.get(e))!=null?f:{}).streamType=h,e.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}))},G3e,q3e,c5r=(q3e=(G3e=globalThis==null?void 0:globalThis.navigator)==null?void 0:G3e.userAgent)!=null?q3e:"",u5r=c5r.toLowerCase().indexOf("android")!==-1,fl=new WeakMap,nct="mux.com",K3e,Y3e,rct=(Y3e=(K3e=Fs).isSupported)==null?void 0:Y3e.call(K3e),d5r=u5r,f5r=()=>hae.utils.now(),h5r=hae.utils.generateUUID,p5r=(n,{domain:e=nct,maxResolution:r=""}={})=>{if(!n)return;let[i,o=""]=GAr(n),s=new URL(`https://stream.${e}/${i}.m3u8${o}`);return r&&s.searchParams.set("max_resolution",r),s.toString()},m5r=n=>{if(!n)return;let[e]=n.split("?");return e||void 0},g5r=n=>{if(!n||!n.startsWith("https://stream."))return;let[e]=new URL(n).pathname.slice(1).split(".m3u8");return e||void 0},v5r=n=>{var e,r,i;return(e=n==null?void 0:n.metadata)!=null&&e.video_id?n.metadata.video_id:cct(n)&&(i=(r=m5r(n.playbackId))!=null?r:g5r(n.src))!=null?i:n.src},y5r=n=>{var e;return(e=fl.get(n))==null?void 0:e.error},b5r=n=>{var e,r;return(r=(e=fl.get(n))==null?void 0:e.streamType)!=null?r:Ss.UNKNOWN},x5r=n=>{var e,r;return(r=(e=fl.get(n))==null?void 0:e.targetLiveWindow)!=null?r:Number.NaN},ict=n=>{var e,r;return(r=(e=fl.get(n))==null?void 0:e.seekable)!=null?r:n.seekable},w5r=n=>{var e;let r=(e=fl.get(n))==null?void 0:e.liveEdgeStartOffset;if(typeof r!="number")return Number.NaN;let i=ict(n);return i.length?i.end(i.length-1)-r:Number.NaN},_5r=(n,e,r=.001)=>Math.abs(n-e)<=r,oct=(n,e,r=.001)=>n>e||_5r(n,e,r),E5r=n=>n.paused&&oct(n.currentTime,n.duration),sct=(n,e)=>n.loop||e?n.ended:n.ended||E5r(n),C5r=(n,e,r)=>{act(e,r);let{metadata:i={}}=n,{view_session_id:o=h5r()}=i,s=v5r(n);i.view_session_id=o,i.video_id=s,n.metadata=i,fl.set(e,{});let a=S5r(n,e);T5r(n,e,a),A5r(n,e,a),t5r(e);let l=YAr(n,e,a),c=ZAr(n,e,a);return{engine:a,setAutoplay:l,setPreload:c}},act=(n,e)=>{let r=e==null?void 0:e.engine;r&&(r.detachMedia(),r.destroy()),n!=null&&n.mux&&!n.mux.deleted&&(n.mux.destroy(),delete n.mux),n&&(n.removeAttribute("src"),n.load(),n.removeEventListener("error",dct),n.removeEventListener("error",TX),n.removeEventListener("durationchange",uct),fl.delete(n),n.dispatchEvent(new Event("teardown")))};function lct(n,e){var r;let i=n7(n);if(i!==Sy.M3U8)return!0;let o=!i||((r=e.canPlayType(i))!=null?r:!0),{preferPlayback:s}=n,a=s===Dp.MSE,l=s===Dp.NATIVE;return o&&(l||!(rct&&(a||d5r)))}var S5r=(n,e)=>{let{debug:r,streamType:i,startTime:o=-1,metadata:s,preferCmcd:a}=n,l=n7(n)===Sy.M3U8,c=lct(n,e);if(l&&!c&&rct){let u={backBufferLength:30,renderTextTracksNatively:!1,liveDurationInfinity:!0,capLevelToPlayerSize:!0,capLevelOnFPSDrop:!0},f=k5r(i),h=a!==kX.NONE?{useHeaders:a===kX.HEADER,sessionId:s==null?void 0:s.view_session_id,contentId:s==null?void 0:s.video_id}:void 0;return new Fs({debug:r,startPosition:o,cmcd:h,...u,...f})}},k5r=n=>n===Ss.LIVE?{backBufferLength:8}:{},cct=({playbackId:n,src:e,customDomain:r})=>{if(n)return!0;if(typeof e!="string")return!1;let i=window==null?void 0:window.location.href,o=new URL(e,i).hostname.toLocaleLowerCase();return o.includes(nct)||!!r&&o.includes(r.toLocaleLowerCase())},T5r=(n,e,r)=>{var i;let{envKey:o}=n,s=cct(n);if(o||s){let{playerInitTime:a,playerSoftwareName:l,playerSoftwareVersion:c,beaconCollectionDomain:u,debug:f,disableCookies:h}=n,m={...n.metadata,video_title:((i=n==null?void 0:n.metadata)==null?void 0:i.video_title)||void 0},g=v=>typeof v.player_error_code=="string"?!1:typeof n.errorTranslator=="function"?n.errorTranslator(v):v;hae.monitor(e,{debug:f,beaconCollectionDomain:u,hlsjs:r,Hls:r?Fs:void 0,automaticErrorTracking:!1,errorTranslator:g,disableCookies:h,data:{...o?{env_key:o}:{},player_software_name:l,player_software:l,player_software_version:c,player_init_time:a,...m}})}},A5r=(n,e,r)=>{var i;let o=lct(n,e),{src:s}=n;if(e&&o){let a=n7(n);typeof s=="string"?(e.preload==="none"?sh(e,"loadstart",()=>W3e(s,e,a)):W3e(s,e,a),e.setAttribute("src",s),n.startTime&&(((i=fl.get(e))!=null?i:{}).startTime=n.startTime,e.addEventListener("durationchange",uct,{once:!0}))):e.removeAttribute("src"),e.addEventListener("error",dct),e.addEventListener("error",TX),e.addEventListener("emptied",()=>{e.querySelectorAll("track[data-removeondestroy]").forEach(c=>{c.remove()})},{once:!0});let l=()=>{e.ended||!sct(e)||e.dispatchEvent(new Event("ended"))};sh(e,"pause",l),sh(e,"seeked",l),sh(e,"play",()=>{e.ended||!oct(e.currentTime,e.duration)||(e.currentTime=e.seekable.start(0))})}else r&&s?(r.once(Fs.Events.LEVEL_LOADED,(a,l)=>{l5r(l.details,e,r)}),r.on(Fs.Events.ERROR,(a,l)=>{let c={[Fs.ErrorTypes.NETWORK_ERROR]:Ns.MEDIA_ERR_NETWORK,[Fs.ErrorTypes.MEDIA_ERROR]:Ns.MEDIA_ERR_DECODE},u=new Ns("",c[l.type]);u.fatal=l.fatal,u.data=l,e.dispatchEvent(new CustomEvent("error",{detail:u}))}),e.addEventListener("error",TX),XAr(n,r),QAr(e,r),r.attachMedia(e)):console.error("It looks like the video you're trying to play will not work on this system! If possible, try upgrading to the newest versions of your browser or software.")};function uct(n){var e;let r=n.target,i=(e=fl.get(r))==null?void 0:e.startTime;if(i&&WAr(r.seekable,r.duration,i)){let o=r.preload==="auto";o&&(r.preload="none"),r.currentTime=i,o&&(r.preload="auto")}}async function dct(n){if(!n.isTrusted)return;n.stopImmediatePropagation();let e=n.target;if(!(e!=null&&e.error))return;let{message:r,code:i}=e.error,o=new Ns(r,i);if(e.src&&(i!==Ns.MEDIA_ERR_DECODE||i!==void 0))try{let{status:s}=await fetch(e.src);o.data={response:{code:s}}}catch{}e.dispatchEvent(new CustomEvent("error",{detail:o}))}function TX(n){var e,r;if(!(n instanceof CustomEvent)||!(n.detail instanceof Ns))return;let i=n.target,o=n.detail;!o||!o.fatal||(((e=fl.get(i))!=null?e:{}).error=o,(r=i.mux)==null||r.emit("error",{player_error_code:o.code,player_error_message:o.message,player_error_context:o.context}))}var I5r=Object.defineProperty,D5r=(n,e,r)=>e in n?I5r(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,Bi=(n,e,r)=>(D5r(n,typeof e!="symbol"?e+"":e,r),r),Pae=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},et=(n,e,r)=>(Pae(n,e,"read from private field"),r?r.call(n):e.get(n)),yn=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},Tn=(n,e,r,i)=>(Pae(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),ts=(n,e,r)=>(Pae(n,e,"access private method"),r),r7=class{addEventListener(){}removeEventListener(){}dispatchEvent(n){return!0}};if(typeof DocumentFragment>"u"){class n extends r7{}globalThis.DocumentFragment=n}var jae=class extends r7{},R5r=class extends r7{},O5r={get(n){},define(n,e,r){},upgrade(n){},whenDefined(n){return Promise.resolve(jae)}},X$,P5r=class{constructor(e,r={}){yn(this,X$,void 0),Tn(this,X$,r==null?void 0:r.detail)}get detail(){return et(this,X$)}initCustomEvent(){}};X$=new WeakMap;function j5r(n,e){return new jae}var L5r={document:{createElement:j5r},DocumentFragment,customElements:O5r,CustomEvent:P5r,EventTarget:r7,HTMLElement:jae,HTMLVideoElement:R5r},$5r=typeof window>"u"||typeof globalThis.customElements>"u",Q$=$5r?L5r:globalThis,M5r=()=>{try{return"0.16.5"}catch{}return"UNKNOWN"},F5r=M5r(),N5r=()=>F5r,Z3e=n=>{var e,r,i,o,s,a,l,c,u,f,h,m,g,v,y,b,x,_,w,C,S,T,A,I,D,R,P,O,$,L,M,N,z,B,H,X,G,ne,le,K;return e=class extends n{constructor(){super(),yn(this,P),yn(this,$),yn(this,M),yn(this,z),yn(this,H),yn(this,G),yn(this,le),Bi(this,"castEnabled",!1),yn(this,S,{paused:!1}),yn(this,T,void 0),yn(this,A,{}),yn(this,I,void 0),yn(this,D,void 0),yn(this,R,void 0),e.instances.add(this),ts(this,H,X).call(this)}static get castElement(){return et(e,r)}static get castEnabled(){return et(e,i)}static get castState(){var Q;return(Q=et(e,u,f))==null?void 0:Q.getCastState()}static async exitCast(){try{await et(e,u,f).endCurrentSession(!0)}catch(Q){console.error(Q);return}}get castPlayer(){if(e.castElement===this)return et(this,T)}attributeChangedCallback(Q){if(this.castPlayer)switch(Q){case"cast-stream-type":case"cast-src":this.load();break}}async requestCast(Q={}){var re;ts(re=e,w,C).call(re,Q),Tn(e,r,this),Object.entries(et(this,A)).forEach(([se,de])=>{et(this,T).controller.addEventListener(se,de)});try{await et(e,u,f).requestSession()}catch{Tn(e,r,void 0);return}et(this,S).paused=super.paused,super.pause(),this.muted=super.muted;try{await this.load()}catch(se){console.error(se)}}async load(){var Q,re;if(!this.castPlayer)return super.load();let se=new chrome.cast.media.MediaInfo(this.castSrc,this.castContentType),de=[...this.querySelectorAll("track")].filter(({kind:ve,src:_e})=>_e&&(ve==="subtitles"||ve==="captions")),fe=[],we=0;de.length&&(se.tracks=de.map(ve=>{let _e=++we;fe.length===0&&ve.track.mode==="showing"&&fe.push(_e);let ge=new chrome.cast.media.Track(_e,chrome.cast.media.TrackType.TEXT);return ge.trackContentId=ve.src,ge.trackContentType="text/vtt",ge.subtype=ve.kind==="captions"?chrome.cast.media.TextTrackType.CAPTIONS:chrome.cast.media.TextTrackType.SUBTITLES,ge.name=ve.label,ge.language=ve.srclang,ge})),this.castStreamType==="live"?se.streamType=chrome.cast.media.StreamType.LIVE:se.streamType=chrome.cast.media.StreamType.BUFFERED,se.metadata=new chrome.cast.media.GenericMediaMetadata,se.metadata.title=this.title,se.metadata.images=[{url:this.poster}];let ye=new chrome.cast.media.LoadRequest(se);ye.currentTime=(Q=super.currentTime)!=null?Q:0,ye.autoplay=!et(this,S).paused,ye.activeTrackIds=fe,await((re=et(e,h,m))==null?void 0:re.loadMedia(ye)),this.dispatchEvent(new Event("volumechange"))}play(){var Q;if(this.castPlayer){this.castPlayer.isPaused&&((Q=this.castPlayer.controller)==null||Q.playOrPause());return}return super.play()}pause(){var Q;if(this.castPlayer){this.castPlayer.isPaused||(Q=this.castPlayer.controller)==null||Q.playOrPause();return}super.pause()}get castSrc(){var Q,re,se;return(se=(re=this.getAttribute("cast-src"))!=null?re:(Q=this.querySelector("source"))==null?void 0:Q.src)!=null?se:this.currentSrc}set castSrc(Q){this.castSrc!=Q&&this.setAttribute("cast-src",`${Q}`)}get castContentType(){var Q;return(Q=this.getAttribute("cast-content-type"))!=null?Q:void 0}set castContentType(Q){this.setAttribute("cast-content-type",`${Q}`)}get castStreamType(){var Q,re;return(re=(Q=this.getAttribute("cast-stream-type"))!=null?Q:this.streamType)!=null?re:void 0}set castStreamType(Q){this.setAttribute("cast-stream-type",`${Q}`)}get readyState(){if(this.castPlayer)switch(this.castPlayer.playerState){case chrome.cast.media.PlayerState.IDLE:return 0;case chrome.cast.media.PlayerState.BUFFERING:return 2;default:return 3}return super.readyState}get paused(){return this.castPlayer?this.castPlayer.isPaused:super.paused}get muted(){var Q;return this.castPlayer?(Q=this.castPlayer)==null?void 0:Q.isMuted:super.muted}set muted(Q){var re;if(this.castPlayer){(Q&&!this.castPlayer.isMuted||!Q&&this.castPlayer.isMuted)&&((re=this.castPlayer.controller)==null||re.muteOrUnmute());return}super.muted=Q}get volume(){var Q,re;return this.castPlayer?(re=(Q=this.castPlayer)==null?void 0:Q.volumeLevel)!=null?re:1:super.volume}set volume(Q){var re;if(this.castPlayer){this.castPlayer.volumeLevel=Q,(re=this.castPlayer.controller)==null||re.setVolumeLevel();return}super.volume=Q}get duration(){var Q,re;return this.castPlayer&&et(this,P,O)?(re=(Q=this.castPlayer)==null?void 0:Q.duration)!=null?re:NaN:super.duration}get currentTime(){var Q,re;return this.castPlayer&&et(this,P,O)?(re=(Q=this.castPlayer)==null?void 0:Q.currentTime)!=null?re:0:super.currentTime}set currentTime(Q){var re;if(this.castPlayer){this.castPlayer.currentTime=Q,(re=this.castPlayer.controller)==null||re.seek();return}super.currentTime=Q}get onentercast(){return et(this,I)}set onentercast(Q){et(this,I)&&(this.removeEventListener("entercast",et(this,I)),Tn(this,I,null)),typeof Q=="function"&&(Tn(this,I,Q),this.addEventListener("entercast",Q))}get onleavecast(){return et(this,D)}set onleavecast(Q){et(this,D)&&(this.removeEventListener("leavecast",et(this,D)),Tn(this,D,null)),typeof Q=="function"&&(Tn(this,D,Q),this.addEventListener("leavecast",Q))}get oncastchange(){return et(this,R)}set oncastchange(Q){et(this,R)&&(this.removeEventListener("castchange",et(this,R)),Tn(this,R,null)),typeof Q=="function"&&(Tn(this,R,Q),this.addEventListener("castchange",Q))}},r=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakSet,a=function(){return typeof chrome<"u"&&chrome.cast&&chrome.cast.isAvailable},l=new WeakSet,c=function(){return typeof cast<"u"&&cast.framework},u=new WeakSet,f=function(){if(et(e,l,c))return cast.framework.CastContext.getInstance()},h=new WeakSet,m=function(){var Q;return(Q=et(e,u,f))==null?void 0:Q.getCurrentSession()},g=new WeakSet,v=function(){var Q;return(Q=et(e,h,m))==null?void 0:Q.getSessionObj().media[0]},y=new WeakSet,b=function(Q){return new Promise((re,se)=>{et(e,g,v).editTracksInfo(Q,re,se)})},x=new WeakSet,_=function(Q){return new Promise((re,se)=>{et(e,g,v).getStatus(Q,re,se)})},w=new WeakSet,C=function(Q){return et(e,u,f).setOptions({receiverApplicationId:chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,autoJoinPolicy:chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED,androidReceiverCompatible:!1,language:"en-US",resumeSavedSession:!0,...Q})},S=new WeakMap,T=new WeakMap,A=new WeakMap,I=new WeakMap,D=new WeakMap,R=new WeakMap,P=new WeakSet,O=function(){var Q;return(Q=this.castPlayer)==null?void 0:Q.isMediaLoaded},$=new WeakSet,L=function(){et(e,r)===this&&(Object.entries(et(this,A)).forEach(([Q,re])=>{et(this,T).controller.removeEventListener(Q,re)}),Tn(e,r,void 0),this.muted=et(this,T).isMuted,this.currentTime=et(this,T).savedPlayerState.currentTime,et(this,T).savedPlayerState.isPaused===!1&&this.play())},M=new WeakSet,N=function(){this.dispatchEvent(new CustomEvent("castchange",{detail:et(e,u,f).getCastState()}))},z=new WeakSet,B=async function(){var Q,re;let{SESSION_RESUMED:se}=cast.framework.SessionState;if(et(e,u,f).getSessionState()===se&&this.castSrc===((Q=et(e,g,v))==null?void 0:Q.media.contentId)){Tn(e,r,this),Object.entries(et(this,A)).forEach(([de,fe])=>{et(this,T).controller.addEventListener(de,fe)});try{await ts(re=e,x,_).call(re,new chrome.cast.media.GetStatusRequest)}catch(de){console.error(de)}et(this,A)[cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED](),et(this,A)[cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED]()}},H=new WeakSet,X=function(){var Q;!et(e,l,c)||this.castEnabled||(this.castEnabled=!0,ts(Q=e,w,C).call(Q),this.textTracks.addEventListener("change",ts(this,le,K).bind(this)),ts(this,M,N).call(this),Tn(this,T,new cast.framework.RemotePlayer),new cast.framework.RemotePlayerController(et(this,T)),Tn(this,A,{[cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED]:({value:re})=>{re===!1&&ts(this,$,L).call(this),this.dispatchEvent(new Event(re?"entercast":"leavecast"))},[cast.framework.RemotePlayerEventType.DURATION_CHANGED]:()=>{this.dispatchEvent(new Event("durationchange"))},[cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED]:()=>{this.dispatchEvent(new Event("volumechange"))},[cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED]:()=>{this.dispatchEvent(new Event("volumechange"))},[cast.framework.RemotePlayerEventType.CURRENT_TIME_CHANGED]:()=>{!et(this,P,O)||this.dispatchEvent(new Event("timeupdate"))},[cast.framework.RemotePlayerEventType.VIDEO_INFO_CHANGED]:()=>{this.dispatchEvent(new Event("resize"))},[cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED]:()=>{this.dispatchEvent(new Event(this.paused?"pause":"play"))},[cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED]:()=>{var re,se;((re=this.castPlayer)==null?void 0:re.playerState)!==chrome.cast.media.PlayerState.PAUSED&&this.dispatchEvent(new Event({[chrome.cast.media.PlayerState.PLAYING]:"playing",[chrome.cast.media.PlayerState.BUFFERING]:"waiting",[chrome.cast.media.PlayerState.IDLE]:"emptied"}[(se=this.castPlayer)==null?void 0:se.playerState]))},[cast.framework.RemotePlayerEventType.IS_MEDIA_LOADED_CHANGED]:async()=>{!et(this,P,O)||(await Promise.resolve(),ts(this,G,ne).call(this))}}))},G=new WeakSet,ne=function(){ts(this,le,K).call(this)},le=new WeakSet,K=async function(){var Q,re,se,de,fe,we;if(!this.castPlayer)return;let ye=((re=(Q=et(this,T).mediaInfo)==null?void 0:Q.tracks)!=null?re:[]).filter(({type:Fe})=>Fe===chrome.cast.media.TrackType.TEXT),ve=[...this.textTracks].filter(({kind:Fe})=>Fe==="subtitles"||Fe==="captions"),_e=ye.map(({language:Fe,name:Ye,trackId:He})=>{var lt;let{mode:Xe}=(lt=ve.find(st=>st.language===Fe&&st.label===Ye))!=null?lt:{};return Xe?{mode:Xe,trackId:He}:!1}).filter(Boolean),ge=_e.filter(({mode:Fe})=>Fe!=="showing").map(({trackId:Fe})=>Fe),pe=_e.find(({mode:Fe})=>Fe==="showing"),Pe=(fe=(de=(se=et(e,h,m))==null?void 0:se.getSessionObj().media[0])==null?void 0:de.activeTrackIds)!=null?fe:[],Re=Pe;if(Pe.length&&(Re=Re.filter(Fe=>!ge.includes(Fe))),pe!=null&&pe.trackId&&(Re=[...Re,pe.trackId]),Re=[...new Set(Re)],!((Fe,Ye)=>Fe.length===Ye.length&&Fe.every(He=>Ye.includes(He)))(Pe,Re))try{let Fe=new chrome.cast.media.EditTracksInfoRequest(Re);await ts(we=e,y,b).call(we,Fe)}catch(Fe){console.error(Fe)}},yn(e,s),yn(e,l),yn(e,u),yn(e,h),yn(e,g),yn(e,y),yn(e,x),yn(e,w),Bi(e,"observedAttributes",["cast-src","cast-content-type","cast-stream-type"]),Bi(e,"instances",new Set),yn(e,r,void 0),yn(e,i,!1),Bi(e,"initCast",()=>{var Q;et(e,s,a)?et(e,l,c)?et(Q=e,o).call(Q,chrome.cast.isAvailable):customElements.whenDefined("google-cast-button").then(()=>{var re;return et(re=e,o).call(re,chrome.cast.isAvailable)}):globalThis.__onGCastApiAvailable=()=>{customElements.whenDefined("google-cast-button").then(()=>{var re;return et(re=e,o).call(re,chrome.cast.isAvailable)})}}),yn(e,o,Q=>{if(Q){Tn(e,i,!0);let{CAST_STATE_CHANGED:re}=cast.framework.CastContextEventType;et(e,u,f).addEventListener(re,de=>{e.instances.forEach(fe=>{var we;return ts(we=fe,M,N).call(we,de)})});let{SESSION_STATE_CHANGED:se}=cast.framework.CastContextEventType;et(e,u,f).addEventListener(se,de=>{e.instances.forEach(fe=>{var we;return ts(we=fe,z,B).call(we,de)})}),e.instances.forEach(de=>{var fe;return ts(fe=de,H,X).call(fe)})}}),e},AX=globalThis.HTMLVideoElement?Z3e(HTMLVideoElement):Z3e(Object);globalThis.customElements&&!globalThis.customElements.get("castable-video")&&(customElements.define("castable-video",AX,{extends:"video"}),globalThis.CastableVideoElement=AX);AX.initCast();var Lae=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting","waitingforkey","resize","enterpictureinpicture","leavepictureinpicture","webkitbeginfullscreen","webkitendfullscreen","webkitpresentationmodechanged"],X3e,IX=(X3e=globalThis.document)==null?void 0:X3e.createElement("template");IX&&(IX.innerHTML=`
    <style>
      :host {
        display: inline-block;
        line-height: 0;
      }

      audio {
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
        min-height: 100%;
      }
    </style>
    <slot></slot>
  `);var Q3e,DX=(Q3e=globalThis.document)==null?void 0:Q3e.createElement("template");DX&&(DX.innerHTML=`
    <style>
      :host {
        display: inline-block;
        line-height: 0;
      }

      video {
        max-width: 100%;
        max-height: 100%;
        min-width: 100%;
        min-height: 100%;
        object-fit: var(--media-object-fit, contain);
        object-position: var(--media-object-position, 50% 50%);
      }

      video::-webkit-media-text-track-container {
        transform: var(--media-webkit-text-track-transform);
        transition: var(--media-webkit-text-track-transition);
      }
    </style>
    <slot></slot>
  `);var $ae=(n,{tag:e,is:r})=>{var i,o,s,a,l,c,u,f,h,m,g,v,y;let b=(i=globalThis.document)==null?void 0:i.createElement(e,{is:r}),x=b?B5r(b):[];return o=class extends n{constructor(){super(),yn(this,f),yn(this,m),yn(this,v),yn(this,c,void 0),yn(this,u,void 0),this.shadowRoot||(this.attachShadow({mode:"open"}),this.shadowRoot.append(this.constructor.template.content.cloneNode(!0)))}static get observedAttributes(){var _,w,C;return ts(_=o,a,l).call(_),[...(C=(w=b==null?void 0:b.constructor)==null?void 0:w.observedAttributes)!=null?C:[],"autopictureinpicture","disablepictureinpicture","disableremoteplayback","autoplay","controls","controlslist","crossorigin","loop","muted","playsinline","poster","preload","src"]}get nativeEl(){var _,w;return(w=(_=et(this,u))!=null?_:this.shadowRoot.querySelector(e))!=null?w:this.querySelector(e)}set nativeEl(_){Tn(this,u,_)}get defaultMuted(){return this.hasAttribute("muted")}set defaultMuted(_){this.toggleAttribute("muted",!!_)}get src(){return this.getAttribute("src")}set src(_){this.setAttribute("src",`${_}`)}get preload(){var _,w;return(w=this.getAttribute("preload"))!=null?w:(_=this.nativeEl)==null?void 0:_.preload}set preload(_){this.setAttribute("preload",`${_}`)}attributeChangedCallback(_,w,C){ts(this,f,h).call(this),ts(this,v,y).call(this,_,w,C)}connectedCallback(){ts(this,f,h).call(this)}},s=new WeakMap,a=new WeakSet,l=function(){if(et(this,s))return;Tn(this,s,!0);let _=new Set(this.observedAttributes);_.delete("muted");for(let w of x)if(!(w in this.prototype))if(typeof b[w]=="function")this.prototype[w]=function(...C){return ts(this,f,h).call(this),(()=>this.call?this.call(w,...C):this.nativeEl[w].apply(this.nativeEl,C))()};else{let C={get(){var S,T,A;ts(this,f,h).call(this);let I=w.toLowerCase();if(_.has(I)){let D=this.getAttribute(I);return D===null?!1:D===""?!0:D}return(A=(S=this.get)==null?void 0:S.call(this,w))!=null?A:(T=this.nativeEl)==null?void 0:T[w]}};w!==w.toUpperCase()&&(C.set=function(S){ts(this,f,h).call(this);let T=w.toLowerCase();if(_.has(T)){S===!0||S===!1||S==null?this.toggleAttribute(T,!!S):this.setAttribute(T,S);return}if(this.set){this.set(w,S);return}this.nativeEl[w]=S}),Object.defineProperty(this.prototype,w,C)}},c=new WeakMap,u=new WeakMap,f=new WeakSet,h=function(){var _,w;if(et(this,c))return;if(Tn(this,c,!0),!this.nativeEl){let T=document.createElement(e,{is:r});T.part=e,this.shadowRoot.append(T)}this.nativeEl.muted=this.hasAttribute("muted");for(let T of x)ts(this,m,g).call(this,T);let C=new Map,S=this.shadowRoot.querySelector("slot:not([name])");S==null||S.addEventListener("slotchange",()=>{let T=new Map(C);S.assignedElements().filter(A=>["track","source"].includes(A.localName)).forEach(A=>{var I,D;T.delete(A);let R=C.get(A);R||(R=A.cloneNode(),C.set(A,R)),(D=(I=this.nativeEl).append)==null||D.call(I,R)}),T.forEach(A=>A.remove())});for(let T of this.constructor.Events)(w=(_=this.shadowRoot).addEventListener)==null||w.call(_,T,A=>{A.target===this.nativeEl&&this.dispatchEvent(new CustomEvent(A.type,{detail:A.detail}))},!0)},m=new WeakSet,g=function(_){if(Object.prototype.hasOwnProperty.call(this,_)){let w=this[_];delete this[_],this[_]=w}},v=new WeakSet,y=function(_,w,C){var S,T,A,I;["id","class"].includes(_)||(C===null?(T=(S=this.nativeEl).removeAttribute)==null||T.call(S,_):(I=(A=this.nativeEl).setAttribute)==null||I.call(A,_,C))},yn(o,a),Bi(o,"Events",Lae),Bi(o,"template",e.endsWith("audio")?IX:DX),yn(o,s,void 0),o};function B5r(n){let e=[];for(let r=Object.getPrototypeOf(n);r&&r!==HTMLElement.prototype;r=Object.getPrototypeOf(r))e.push(...Object.getOwnPropertyNames(r));return e}globalThis.document&&$ae(HTMLElement,{tag:"video"});globalThis.document&&$ae(HTMLElement,{tag:"audio"});var i7=class extends Event{constructor(e,r){super(e),Bi(this,"track"),this.track=r.track}},RX=new WeakMap;function Yt(n){var e;return(e=RX.get(n))!=null?e:U5r(n,{})}function U5r(n,e){let r=RX.get(n);return r||RX.set(n,r={}),Object.assign(r,e)}function OX(n,e){let r=n.videoTracks;Yt(e).media=n,Yt(e).renditionSet||(Yt(e).renditionSet=new Set);let i=Yt(r).trackSet;i.add(e);let o=i.size-1;o in jX.prototype||Object.defineProperty(jX.prototype,o,{get(){return[...Yt(this).trackSet][o]}}),queueMicrotask(()=>{r.dispatchEvent(new i7("addtrack",{track:e}))})}function PX(n){var e;let r=(e=Yt(n).media)==null?void 0:e.videoTracks;r&&(Yt(r).trackSet.delete(n),queueMicrotask(()=>{r.dispatchEvent(new i7("removetrack",{track:n}))}))}function z5r(n){var e;let r=(e=Yt(n).media.videoTracks)!=null?e:[],i=!1;for(let o of r)o!==n&&(o.selected=!1,i=!0);if(i){if(Yt(r).changeRequested)return;Yt(r).changeRequested=!0,queueMicrotask(()=>{delete Yt(r).changeRequested,r.dispatchEvent(new Event("change"))})}}var Z1,X1,Q1,X_,qT,jX=class extends EventTarget{constructor(){super(),yn(this,X_),yn(this,Z1,void 0),yn(this,X1,void 0),yn(this,Q1,void 0),Yt(this).trackSet=new Set}[Symbol.iterator](){return et(this,X_,qT).values()}get length(){return et(this,X_,qT).size}getTrackById(n){var e;return(e=[...et(this,X_,qT)].find(r=>r.id===n))!=null?e:null}get selectedIndex(){return[...et(this,X_,qT)].findIndex(n=>n.selected)}get onaddtrack(){return et(this,Z1)}set onaddtrack(n){et(this,Z1)&&(this.removeEventListener("addtrack",et(this,Z1)),Tn(this,Z1,void 0)),typeof n=="function"&&(Tn(this,Z1,n),this.addEventListener("addtrack",n))}get onremovetrack(){return et(this,X1)}set onremovetrack(n){et(this,X1)&&(this.removeEventListener("removetrack",et(this,X1)),Tn(this,X1,void 0)),typeof n=="function"&&(Tn(this,X1,n),this.addEventListener("removetrack",n))}get onchange(){return et(this,Q1)}set onchange(n){et(this,Q1)&&(this.removeEventListener("change",et(this,Q1)),Tn(this,Q1,void 0)),typeof n=="function"&&(Tn(this,Q1,n),this.addEventListener("change",n))}};Z1=new WeakMap,X1=new WeakMap,Q1=new WeakMap,X_=new WeakSet,qT=function(){return Yt(this).trackSet};var o7=class extends Event{constructor(n,e){super(n),Bi(this,"rendition"),this.rendition=e.rendition}};function V5r(n,e){let r=Yt(n).media.videoRenditions;Yt(e).media=Yt(n).media,Yt(e).track=n;let i=Yt(n).renditionSet;i.add(e);let o=i.size-1;o in LX.prototype||Object.defineProperty(LX.prototype,o,{get(){return Q_(this)[o]}}),queueMicrotask(()=>{!n.selected||r.dispatchEvent(new o7("addrendition",{rendition:e}))})}function H5r(n){let e=Yt(n).media.videoRenditions,r=Yt(n).track;Yt(r).renditionSet.delete(n),queueMicrotask(()=>{!Yt(n).track.selected||e.dispatchEvent(new o7("removerendition",{rendition:n}))})}function W5r(n){let e=Yt(n).media.videoRenditions;!e||Yt(e).changeRequested||(Yt(e).changeRequested=!0,queueMicrotask(()=>{delete Yt(e).changeRequested,Yt(n).track.selected&&e.dispatchEvent(new Event("change"))}))}function Q_(n){return[...Yt(n).media.videoTracks].filter(e=>e.selected).flatMap(e=>[...Yt(e).renditionSet])}var J1,eb,tb,LX=class extends EventTarget{constructor(){super(...arguments),yn(this,J1,void 0),yn(this,eb,void 0),yn(this,tb,void 0)}[Symbol.iterator](){return Q_(this).values()}get length(){return Q_(this).length}getRenditionById(n){var e;return(e=Q_(this).find(r=>`${r.id}`==`${n}`))!=null?e:null}get selectedIndex(){return Q_(this).findIndex(n=>n.selected)}set selectedIndex(n){for(let[e,r]of Q_(this).entries())r.selected=e===n}get onaddrendition(){return et(this,J1)}set onaddrendition(n){et(this,J1)&&(this.removeEventListener("addrendition",et(this,J1)),Tn(this,J1,void 0)),typeof n=="function"&&(Tn(this,J1,n),this.addEventListener("addrendition",n))}get onremoverendition(){return et(this,eb)}set onremoverendition(n){et(this,eb)&&(this.removeEventListener("removerendition",et(this,eb)),Tn(this,eb,void 0)),typeof n=="function"&&(Tn(this,eb,n),this.addEventListener("removerendition",n))}get onchange(){return et(this,tb)}set onchange(n){et(this,tb)&&(this.removeEventListener("change",et(this,tb)),Tn(this,tb,void 0)),typeof n=="function"&&(Tn(this,tb,n),this.addEventListener("change",n))}};J1=new WeakMap,eb=new WeakMap,tb=new WeakMap;var KT,G5r=class{constructor(){Bi(this,"src"),Bi(this,"id"),Bi(this,"width"),Bi(this,"height"),Bi(this,"bitrate"),Bi(this,"frameRate"),Bi(this,"codec"),yn(this,KT,!1)}get selected(){return et(this,KT)}set selected(e){et(this,KT)!==e&&(Tn(this,KT,e),W5r(this))}};KT=new WeakMap;var YT,fct=class{constructor(){Bi(this,"id"),Bi(this,"kind"),Bi(this,"label",""),Bi(this,"language",""),Bi(this,"sourceBuffer"),yn(this,YT,!1)}addRendition(e,r,i,o,s,a){let l=new G5r;return l.src=e,l.width=r,l.height=i,l.frameRate=a,l.bitrate=s,l.codec=o,V5r(this,l),l}removeRendition(e){H5r(e)}get selected(){return et(this,YT)}set selected(e){et(this,YT)!==e&&(Tn(this,YT,e),e===!0&&z5r(this))}};YT=new WeakMap;function q5r(n,e){let r=Yt(n).media.audioRenditions;Yt(e).media=Yt(n).media,Yt(e).track=n;let i=Yt(n).renditionSet;i.add(e);let o=i.size-1;o in $X.prototype||Object.defineProperty($X.prototype,o,{get(){return J_(this)[o]}}),queueMicrotask(()=>{!n.enabled||r.dispatchEvent(new o7("addrendition",{rendition:e}))})}function K5r(n){let e=Yt(n).media.audioRenditions,r=Yt(n).track;Yt(r).renditionSet.delete(n),queueMicrotask(()=>{!Yt(n).track.enabled||e.dispatchEvent(new o7("removerendition",{rendition:n}))})}function Y5r(n){let e=Yt(n).media.audioRenditions;!e||Yt(e).changeRequested||(Yt(e).changeRequested=!0,queueMicrotask(()=>{delete Yt(e).changeRequested,Yt(n).track.enabled&&e.dispatchEvent(new Event("change"))}))}function J_(n){return[...Yt(n).media.audioTracks].filter(e=>e.enabled).flatMap(e=>[...Yt(e).renditionSet])}var nb,rb,ib,$X=class extends EventTarget{constructor(){super(...arguments),yn(this,nb,void 0),yn(this,rb,void 0),yn(this,ib,void 0)}[Symbol.iterator](){return J_(this).values()}get length(){return J_(this).length}getRenditionById(e){var r;return(r=J_(this).find(i=>`${i.id}`==`${e}`))!=null?r:null}get selectedIndex(){return J_(this).findIndex(e=>e.selected)}set selectedIndex(e){for(let[r,i]of J_(this).entries())i.selected=r===e}get onaddrendition(){return et(this,nb)}set onaddrendition(e){et(this,nb)&&(this.removeEventListener("addrendition",et(this,nb)),Tn(this,nb,void 0)),typeof e=="function"&&(Tn(this,nb,e),this.addEventListener("addrendition",e))}get onremoverendition(){return et(this,rb)}set onremoverendition(e){et(this,rb)&&(this.removeEventListener("removerendition",et(this,rb)),Tn(this,rb,void 0)),typeof e=="function"&&(Tn(this,rb,e),this.addEventListener("removerendition",e))}get onchange(){return et(this,ib)}set onchange(e){et(this,ib)&&(this.removeEventListener("change",et(this,ib)),Tn(this,ib,void 0)),typeof e=="function"&&(Tn(this,ib,e),this.addEventListener("change",e))}};nb=new WeakMap,rb=new WeakMap,ib=new WeakMap;var ZT,Z5r=class{constructor(){Bi(this,"src"),Bi(this,"id"),Bi(this,"bitrate"),Bi(this,"codec"),yn(this,ZT,!1)}get selected(){return et(this,ZT)}set selected(e){et(this,ZT)!==e&&(Tn(this,ZT,e),Y5r(this))}};ZT=new WeakMap;function MX(n,e){let r=n.audioTracks;Yt(e).media=n,Yt(e).renditionSet||(Yt(e).renditionSet=new Set);let i=Yt(r).trackSet;i.add(e);let o=i.size-1;o in NX.prototype||Object.defineProperty(NX.prototype,o,{get(){return[...Yt(this).trackSet][o]}}),queueMicrotask(()=>{r.dispatchEvent(new i7("addtrack",{track:e}))})}function FX(n){var e;let r=(e=Yt(n).media)==null?void 0:e.audioTracks;r&&(Yt(r).trackSet.delete(n),queueMicrotask(()=>{r.dispatchEvent(new i7("removetrack",{track:n}))}))}function X5r(n){let e=Yt(n).media.audioTracks;!e||Yt(e).changeRequested||(Yt(e).changeRequested=!0,queueMicrotask(()=>{delete Yt(e).changeRequested,e.dispatchEvent(new Event("change"))}))}var ob,sb,ab,XT,J$,NX=class extends EventTarget{constructor(){super(),yn(this,XT),yn(this,ob,void 0),yn(this,sb,void 0),yn(this,ab,void 0),Yt(this).trackSet=new Set}[Symbol.iterator](){return et(this,XT,J$).values()}get length(){return et(this,XT,J$).size}getTrackById(e){var r;return(r=[...et(this,XT,J$)].find(i=>i.id===e))!=null?r:null}get onaddtrack(){return et(this,ob)}set onaddtrack(e){et(this,ob)&&(this.removeEventListener("addtrack",et(this,ob)),Tn(this,ob,void 0)),typeof e=="function"&&(Tn(this,ob,e),this.addEventListener("addtrack",e))}get onremovetrack(){return et(this,sb)}set onremovetrack(e){et(this,sb)&&(this.removeEventListener("removetrack",et(this,sb)),Tn(this,sb,void 0)),typeof e=="function"&&(Tn(this,sb,e),this.addEventListener("removetrack",e))}get onchange(){return et(this,ab)}set onchange(e){et(this,ab)&&(this.removeEventListener("change",et(this,ab)),Tn(this,ab,void 0)),typeof e=="function"&&(Tn(this,ab,e),this.addEventListener("change",e))}};ob=new WeakMap,sb=new WeakMap,ab=new WeakMap,XT=new WeakSet,J$=function(){return Yt(this).trackSet};var QT,hct=class{constructor(){Bi(this,"id"),Bi(this,"kind"),Bi(this,"label",""),Bi(this,"language",""),Bi(this,"sourceBuffer"),yn(this,QT,!1)}addRendition(e,r,i){let o=new Z5r;return o.src=e,o.codec=r,o.bitrate=i,q5r(this,o),o}removeRendition(e){K5r(e)}get enabled(){return et(this,QT)}set enabled(e){et(this,QT)!==e&&(Tn(this,QT,e),X5r(this))}};QT=new WeakMap;var J3e=j4(globalThis.HTMLMediaElement,"video"),eFe=j4(globalThis.HTMLMediaElement,"audio");function Q5r(n){if(!(n!=null&&n.prototype))return n;let e=j4(n,"video");(!e||`${e}`.includes("[native code]"))&&Object.defineProperty(n.prototype,"videoTracks",{get(){return J5r(this)}});let r=j4(n,"audio");(!r||`${r}`.includes("[native code]"))&&Object.defineProperty(n.prototype,"audioTracks",{get(){return eIr(this)}}),"addVideoTrack"in n.prototype||(n.prototype.addVideoTrack=function(s,a="",l=""){let c=new fct;return c.kind=s,c.label=a,c.language=l,OX(this,c),c}),"removeVideoTrack"in n.prototype||(n.prototype.removeVideoTrack=PX),"addAudioTrack"in n.prototype||(n.prototype.addAudioTrack=function(s,a="",l=""){let c=new hct;return c.kind=s,c.label=a,c.language=l,MX(this,c),c}),"removeAudioTrack"in n.prototype||(n.prototype.removeAudioTrack=FX),"videoRenditions"in n.prototype||Object.defineProperty(n.prototype,"videoRenditions",{get(){return i(this)}});let i=s=>{let a=Yt(s).videoRenditions;return a||(a=new LX,Yt(a).media=s,Yt(s).videoRenditions=a),a};"audioRenditions"in n.prototype||Object.defineProperty(n.prototype,"audioRenditions",{get(){return o(this)}});let o=s=>{let a=Yt(s).audioRenditions;return a||(a=new $X,Yt(a).media=s,Yt(s).audioRenditions=a),a};return n}function j4(n,e){var r;if(n!=null&&n.prototype)return(r=Object.getOwnPropertyDescriptor(n.prototype,`${e}Tracks`))==null?void 0:r.get}function J5r(n){var e;let r=Yt(n).videoTracks;if(!r&&(r=new jX,Yt(n).videoTracks=r,J3e)){let i=J3e.call((e=n.nativeEl)!=null?e:n);for(let o of i)OX(n,o);i.addEventListener("change",()=>{r.dispatchEvent(new Event("change"))}),i.addEventListener("addtrack",o=>{if([...r].some(s=>s instanceof fct)){for(let s of i)PX(s);return}OX(n,o.track)}),i.addEventListener("removetrack",o=>{PX(o.track)})}return r}function eIr(n){var e;let r=Yt(n).audioTracks;if(!r&&(r=new NX,Yt(n).audioTracks=r,eFe)){let i=eFe.call((e=n.nativeEl)!=null?e:n);for(let o of i)MX(n,o);i.addEventListener("change",()=>{r.dispatchEvent(new Event("change"))}),i.addEventListener("addtrack",o=>{if([...r].some(s=>s instanceof hct)){for(let s of i)FX(s);return}MX(n,o.track)}),i.addEventListener("removetrack",o=>{FX(o.track)})}return r}Lae.push("castchange","entercast","leavecast");var bW=Q5r($ae(Q$.HTMLElement,{tag:"video",is:"castable-video"})),xt={BEACON_COLLECTION_DOMAIN:"beacon-collection-domain",CUSTOM_DOMAIN:"custom-domain",DEBUG:"debug",DISABLE_COOKIES:"disable-cookies",ENV_KEY:"env-key",MAX_RESOLUTION:"max-resolution",METADATA_URL:"metadata-url",PLAYBACK_ID:"playback-id",PLAYER_SOFTWARE_NAME:"player-software-name",PLAYER_SOFTWARE_VERSION:"player-software-version",PREFER_CMCD:"prefer-cmcd",PREFER_PLAYBACK:"prefer-playback",START_TIME:"start-time",STREAM_TYPE:"stream-type",TARGET_LIVE_WINDOW:"target-live-window",LIVE_EDGE_OFFSET:"live-edge-offset",TYPE:"type"},tIr=Object.values(xt),nIr=N5r(),rIr="mux-video",ip,JT,eM,eA,tM,nM,rM,tA,iM,BX=class extends bW{constructor(){super(),yn(this,tA),yn(this,ip,void 0),yn(this,JT,void 0),yn(this,eM,void 0),yn(this,eA,{}),yn(this,tM,void 0),yn(this,nM,void 0),yn(this,rM,void 0),Tn(this,eM,f5r())}static get observedAttributes(){var e;return[...tIr,...(e=bW.observedAttributes)!=null?e:[]]}get preferCmcd(){var e;return(e=this.getAttribute(xt.PREFER_CMCD))!=null?e:void 0}set preferCmcd(e){e!==this.preferCmcd&&(e?P4.includes(e)?this.setAttribute(xt.PREFER_CMCD,e):console.warn(`Invalid value for preferCmcd. Must be one of ${P4.join()}`):this.removeAttribute(xt.PREFER_CMCD))}get playerInitTime(){return et(this,eM)}get playerSoftwareName(){var e;return(e=et(this,nM))!=null?e:rIr}set playerSoftwareName(e){Tn(this,nM,e)}get playerSoftwareVersion(){var e;return(e=et(this,tM))!=null?e:nIr}set playerSoftwareVersion(e){Tn(this,tM,e)}get _hls(){var e;return(e=et(this,ip))==null?void 0:e.engine}get mux(){var e;return(e=this.nativeEl)==null?void 0:e.mux}get error(){var e;return(e=y5r(this.nativeEl))!=null?e:null}get errorTranslator(){return et(this,rM)}set errorTranslator(e){Tn(this,rM,e)}get src(){return this.getAttribute("src")}set src(e){e!==this.src&&(e==null?this.removeAttribute("src"):this.setAttribute("src",e))}get type(){var e;return(e=this.getAttribute(xt.TYPE))!=null?e:void 0}set type(e){e!==this.type&&(e?this.setAttribute(xt.TYPE,e):this.removeAttribute(xt.TYPE))}get autoplay(){let e=this.getAttribute("autoplay");return e===null?!1:e===""?!0:e}set autoplay(e){let r=this.autoplay;e!==r&&(e?this.setAttribute("autoplay",typeof e=="string"?e:""):this.removeAttribute("autoplay"))}get preload(){let e=this.getAttribute("preload");return e===""?"auto":["none","metadata","auto"].includes(e)?e:super.preload}set preload(e){e!=this.getAttribute("preload")&&(["","none","metadata","auto"].includes(e)?this.setAttribute("preload",e):this.removeAttribute("preload"))}get debug(){return this.getAttribute(xt.DEBUG)!=null}set debug(e){e!==this.debug&&(e?this.setAttribute(xt.DEBUG,""):this.removeAttribute(xt.DEBUG))}get disableCookies(){return this.hasAttribute(xt.DISABLE_COOKIES)}set disableCookies(e){e!==this.disableCookies&&(e?this.setAttribute(xt.DISABLE_COOKIES,""):this.removeAttribute(xt.DISABLE_COOKIES))}get startTime(){let e=this.getAttribute(xt.START_TIME);if(e==null)return;let r=+e;return Number.isNaN(r)?void 0:r}set startTime(e){e!==this.startTime&&(e==null?this.removeAttribute(xt.START_TIME):this.setAttribute(xt.START_TIME,`${e}`))}get playbackId(){var e;return(e=this.getAttribute(xt.PLAYBACK_ID))!=null?e:void 0}set playbackId(e){e!==this.playbackId&&(e?this.setAttribute(xt.PLAYBACK_ID,e):this.removeAttribute(xt.PLAYBACK_ID))}get maxResolution(){var e;return(e=this.getAttribute(xt.MAX_RESOLUTION))!=null?e:void 0}set maxResolution(e){e!==this.maxResolution&&(e?this.setAttribute(xt.MAX_RESOLUTION,e):this.removeAttribute(xt.MAX_RESOLUTION))}get customDomain(){var e;return(e=this.getAttribute(xt.CUSTOM_DOMAIN))!=null?e:void 0}set customDomain(e){e!==this.customDomain&&(e?this.setAttribute(xt.CUSTOM_DOMAIN,e):this.removeAttribute(xt.CUSTOM_DOMAIN))}get ended(){return sct(this.nativeEl,this._hls)}get envKey(){var e;return(e=this.getAttribute(xt.ENV_KEY))!=null?e:void 0}set envKey(e){e!==this.envKey&&(e?this.setAttribute(xt.ENV_KEY,e):this.removeAttribute(xt.ENV_KEY))}get beaconCollectionDomain(){var e;return(e=this.getAttribute(xt.BEACON_COLLECTION_DOMAIN))!=null?e:void 0}set beaconCollectionDomain(e){e!==this.beaconCollectionDomain&&(e?this.setAttribute(xt.BEACON_COLLECTION_DOMAIN,e):this.removeAttribute(xt.BEACON_COLLECTION_DOMAIN))}get streamType(){var e;return(e=this.getAttribute(xt.STREAM_TYPE))!=null?e:b5r(this.nativeEl)}set streamType(e){e!==this.streamType&&(e?this.setAttribute(xt.STREAM_TYPE,e):this.removeAttribute(xt.STREAM_TYPE))}get targetLiveWindow(){return this.hasAttribute(xt.TARGET_LIVE_WINDOW)?+this.getAttribute(xt.TARGET_LIVE_WINDOW):x5r(this.nativeEl)}set targetLiveWindow(e){e!=this.targetLiveWindow&&(e==null?this.removeAttribute(xt.TARGET_LIVE_WINDOW):this.setAttribute(xt.TARGET_LIVE_WINDOW,`${+e}`))}get liveEdgeStart(){var e,r;if(this.hasAttribute(xt.LIVE_EDGE_OFFSET)){let{liveEdgeOffset:i}=this,o=(e=this.nativeEl.seekable.end(0))!=null?e:0,s=(r=this.nativeEl.seekable.start(0))!=null?r:0;return Math.max(s,o-i)}return w5r(this.nativeEl)}get liveEdgeOffset(){if(this.hasAttribute(xt.LIVE_EDGE_OFFSET))return+this.getAttribute(xt.LIVE_EDGE_OFFSET)}set liveEdgeOffset(e){e!=this.targetLiveWindow&&(e==null?this.removeAttribute(xt.LIVE_EDGE_OFFSET):this.setAttribute(xt.LIVE_EDGE_OFFSET,`${+e}`))}get seekable(){return ict(this.nativeEl)}async addCuePoints(e){return Jlt(this.nativeEl,e)}get activeCuePoint(){return tct(this.nativeEl)}get cuePoints(){return e5r(this.nativeEl)}getStartDate(){return n5r(this.nativeEl,this._hls)}get currentPdt(){return r5r(this.nativeEl,this._hls)}get preferPlayback(){let e=this.getAttribute(xt.PREFER_PLAYBACK);if(e===Dp.MSE||e===Dp.NATIVE)return e}set preferPlayback(e){e!==this.preferPlayback&&(e===Dp.MSE||e===Dp.NATIVE?this.setAttribute(xt.PREFER_PLAYBACK,e):this.removeAttribute(xt.PREFER_PLAYBACK))}get metadata(){return{...this.getAttributeNames().filter(e=>e.startsWith("metadata-")&&![xt.METADATA_URL].includes(e)).reduce((e,r)=>{let i=this.getAttribute(r);return i!=null&&(e[r.replace(/^metadata-/,"").replace(/-/g,"_")]=i),e},{}),...et(this,eA)}}set metadata(e){Tn(this,eA,e??{}),this.mux&&this.mux.emit("hb",et(this,eA))}load(){Tn(this,ip,C5r(this,this.nativeEl,et(this,ip)))}unload(){act(this.nativeEl,et(this,ip)),Tn(this,ip,void 0)}attributeChangedCallback(e,r,i){var o,s;switch(bW.observedAttributes.includes(e)&&!["src","autoplay","preload"].includes(e)&&super.attributeChangedCallback(e,r,i),e){case xt.PLAYER_SOFTWARE_NAME:this.playerSoftwareName=i??void 0;break;case xt.PLAYER_SOFTWARE_VERSION:this.playerSoftwareVersion=i??void 0;break;case"src":{let a=!!r,l=!!i;!a&&l?ts(this,tA,iM).call(this):a&&!l?this.unload():a&&l&&(this.unload(),ts(this,tA,iM).call(this));break}case"autoplay":if(i===r)break;(o=et(this,ip))==null||o.setAutoplay(this.autoplay);break;case"preload":if(i===r)break;(s=et(this,ip))==null||s.setPreload(i);break;case xt.PLAYBACK_ID:this.src=p5r(i??void 0,{maxResolution:this.maxResolution,domain:this.customDomain});break;case xt.DEBUG:{let a=this.debug;this.mux&&console.info("Cannot toggle debug mode of mux data after initialization. Make sure you set all metadata to override before setting the src."),this._hls&&(this._hls.config.debug=a);break}case xt.METADATA_URL:i&&fetch(i).then(a=>a.json()).then(a=>this.metadata=a).catch(()=>console.error(`Unable to load or parse metadata JSON from metadata-url ${i}!`));break;case xt.STREAM_TYPE:(i==null||i!==r)&&this.dispatchEvent(new CustomEvent("streamtypechange",{composed:!0,bubbles:!0}));break;case xt.TARGET_LIVE_WINDOW:(i==null||i!==r)&&this.dispatchEvent(new CustomEvent("targetlivewindowchange",{composed:!0,bubbles:!0,detail:this.targetLiveWindow}));break}}connectedCallback(){var e;(e=super.connectedCallback)==null||e.call(this),this.nativeEl&&this.src&&!et(this,ip)&&ts(this,tA,iM).call(this)}disconnectedCallback(){this.unload()}};ip=new WeakMap,JT=new WeakMap,eM=new WeakMap,eA=new WeakMap,tM=new WeakMap,nM=new WeakMap,rM=new WeakMap,tA=new WeakSet,iM=async function(){et(this,JT)||(await Tn(this,JT,Promise.resolve()),Tn(this,JT,null),this.load())};Q$.customElements.get("mux-video")||(Q$.customElements.define("mux-video",BX),Q$.MuxVideoElement=BX);var iIr=BX,oIr=Object.defineProperty,sIr=(n,e,r)=>e in n?oIr(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,aIr=(n,e,r)=>(sIr(n,typeof e!="symbol"?e+"":e,r),r),pct=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},xr=(n,e,r)=>(pct(n,e,"read from private field"),r?r.call(n):e.get(n)),Cp=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},dg=(n,e,r,i)=>(pct(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),eE,oM,lb,nA,Kv,Yv,Zv,cb,tE,sM,Nf;const tFe=1,nFe=0,lIr=1,cIr={processCallback(n,e,r){if(r){for(const[i,o]of e)if(i in r){const s=r[i];typeof s=="boolean"&&o instanceof uh&&typeof o.element[o.attributeName]=="boolean"?o.booleanValue=s:typeof s=="function"&&o instanceof uh?o.element[o.attributeName]=s:o.value=s}}}};class s7 extends Be.DocumentFragment{constructor(e,r,i=cIr){var o;super(),Cp(this,eE,void 0),Cp(this,oM,void 0),this.append(e.content.cloneNode(!0)),dg(this,eE,mct(this)),dg(this,oM,i),(o=i.createCallback)==null||o.call(i,this,xr(this,eE),r),i.processCallback(this,xr(this,eE),r)}update(e){xr(this,oM).processCallback(this,xr(this,eE),e)}}eE=new WeakMap;oM=new WeakMap;const mct=(n,e=[])=>{let r,i;for(let o of n.attributes||[])if(o.value.includes("{{")){const s=new dIr;for([r,i]of iFe(o.value))if(!r)s.append(i);else{const a=new uh(n,o.name,o.namespaceURI);s.append(a),e.push([i,a])}o.value=s.toString()}for(let o of n.childNodes)if(o.nodeType===tFe&&!(o instanceof HTMLTemplateElement))mct(o,e);else if(o.nodeType===tFe||o.data.includes("{{")){const s=[];if(o.data)for([r,i]of iFe(o.data))if(!r)s.push(new Text(i));else{const a=new w2(n);s.push(a),e.push([i,a])}else if(o instanceof HTMLTemplateElement){const a=new yct(n,o);s.push(a),e.push([a.expression,a])}o.replaceWith(...s.flatMap(a=>a.replacementNodes||[a]))}return e},rFe={},iFe=n=>{let e="",r=0,i=rFe[n],o=0,s;if(i)return i;for(i=[];s=n[o];o++)s==="{"&&n[o+1]==="{"&&n[o-1]!=="\\"&&n[o+2]&&++r==1?(e&&i.push([nFe,e]),e="",o++):s==="}"&&n[o+1]==="}"&&n[o-1]!=="\\"&&!--r?(i.push([lIr,e.trim()]),e="",o++):e+=s||"";return e&&i.push([nFe,(r>0?"{{":"")+e]),rFe[n]=i},uIr=11;class gct{get value(){return""}set value(e){}toString(){return this.value}}const vct=new WeakMap;class dIr{constructor(){Cp(this,lb,[])}[Symbol.iterator](){return xr(this,lb).values()}get length(){return xr(this,lb).length}item(e){return xr(this,lb)[e]}append(...e){for(const r of e)r instanceof uh&&vct.set(r,this),xr(this,lb).push(r)}toString(){return xr(this,lb).join("")}}lb=new WeakMap;class uh extends gct{constructor(e,r,i){super(),Cp(this,cb),Cp(this,nA,""),Cp(this,Kv,void 0),Cp(this,Yv,void 0),Cp(this,Zv,void 0),dg(this,Kv,e),dg(this,Yv,r),dg(this,Zv,i)}get attributeName(){return xr(this,Yv)}get attributeNamespace(){return xr(this,Zv)}get element(){return xr(this,Kv)}get value(){return xr(this,nA)}set value(e){xr(this,nA)!==e&&(dg(this,nA,e),!xr(this,cb,tE)||xr(this,cb,tE).length===1?e==null?xr(this,Kv).removeAttributeNS(xr(this,Zv),xr(this,Yv)):xr(this,Kv).setAttributeNS(xr(this,Zv),xr(this,Yv),e):xr(this,Kv).setAttributeNS(xr(this,Zv),xr(this,Yv),xr(this,cb,tE)))}get booleanValue(){return xr(this,Kv).hasAttributeNS(xr(this,Zv),xr(this,Yv))}set booleanValue(e){if(!xr(this,cb,tE)||xr(this,cb,tE).length===1)this.value=e?"":null;else throw new DOMException("Value is not fully templatized")}}nA=new WeakMap;Kv=new WeakMap;Yv=new WeakMap;Zv=new WeakMap;cb=new WeakSet;tE=function(){return vct.get(this)};class w2 extends gct{constructor(e,r){super(),Cp(this,sM,void 0),Cp(this,Nf,void 0),dg(this,sM,e),dg(this,Nf,r?[...r]:[new Text])}get replacementNodes(){return xr(this,Nf)}get parentNode(){return xr(this,sM)}get nextSibling(){return xr(this,Nf)[xr(this,Nf).length-1].nextSibling}get previousSibling(){return xr(this,Nf)[0].previousSibling}get value(){return xr(this,Nf).map(e=>e.textContent).join("")}set value(e){this.replace(e)}replace(...e){const r=e.flat().flatMap(i=>i==null?[new Text]:i.forEach?[...i]:i.nodeType===uIr?[...i.childNodes]:i.nodeType?[i]:[new Text(i)]);r.length||r.push(new Text),dg(this,Nf,fIr(xr(this,Nf)[0].parentNode,xr(this,Nf),r,this.nextSibling))}}sM=new WeakMap;Nf=new WeakMap;class yct extends w2{constructor(e,r){let i=r.getAttribute("directive")||r.getAttribute("type"),o=r.getAttribute("expression")||r.getAttribute(i)||"";o.startsWith("{{")&&(o=o.trim().slice(2,-2).trim()),super(e),aIr(this,"directive"),this.expression=o,this.template=r,this.directive=i}}function fIr(n,e,r,i=null){let o=0,s,a,l,c=r.length,u=e.length;for(;o<c&&o<u&&e[o]==r[o];)o++;for(;o<c&&o<u&&r[c-1]==e[u-1];)i=r[--u,--c];if(o==u)for(;o<c;)n.insertBefore(r[o++],i);if(o==c)for(;o<u;)n.removeChild(e[o++]);else{for(s=e[o];o<c;)l=r[o++],a=s?s.nextSibling:i,s==l?s=a:o<c&&r[o]==a?(n.replaceChild(l,s),s=a):n.insertBefore(l,s);for(;s!=i;)a=s.nextSibling,n.removeChild(s),s=a}return r}const oFe={string:n=>String(n)};class bct{constructor(e){this.template=e,this.state=void 0}}const $b=new WeakMap,Mb=new WeakMap,UX={partial:(n,e)=>{e[n.expression]=new bct(n.template)},if:(n,e)=>{var r;if(xct(n.expression,e))if($b.get(n)!==n.template){$b.set(n,n.template);const i=new s7(n.template,e,Mae);n.replace(i),Mb.set(n,i)}else(r=Mb.get(n))==null||r.update(e);else n.replace(""),$b.delete(n),Mb.delete(n)}},hIr=Object.keys(UX),Mae={processCallback(n,e,r){var i,o;if(r)for(const[s,a]of e){if(a instanceof yct){if(!a.directive){const c=hIr.find(u=>a.template.hasAttribute(u));c&&(a.directive=c,a.expression=a.template.getAttribute(c))}(i=UX[a.directive])==null||i.call(UX,a,r);continue}let l=xct(s,r);if(l instanceof bct){$b.get(a)!==l.template?($b.set(a,l.template),l=new s7(l.template,l.state,Mae),a.value=l,Mb.set(a,l)):(o=Mb.get(a))==null||o.update(l.state);continue}l?(a instanceof uh&&a.attributeName.startsWith("aria-")&&(l=String(l)),a instanceof uh?typeof l=="boolean"?a.booleanValue=l:typeof l=="function"?a.element[a.attributeName]=l:a.value=l:(a.value=l,$b.delete(a),Mb.delete(a))):a instanceof uh?a.value=void 0:(a.value=void 0,$b.delete(a),Mb.delete(a))}}},sFe={"!":n=>!n,"!!":n=>!!n,"==":(n,e)=>n==e,"!=":(n,e)=>n!=e,">":(n,e)=>n>e,">=":(n,e)=>n>=e,"<":(n,e)=>n<e,"<=":(n,e)=>n<=e,"??":(n,e)=>n??e,"|":(n,e)=>{var r;return(r=oFe[e])==null?void 0:r.call(oFe,n)}};function pIr(n){return mIr(n,{boolean:/true|false/,number:/-?\d+\.?\d*/,string:/(["'])((?:\\.|[^\\])*?)\1/,operator:/[!=><][=!]?|\?\?|\|/,ws:/\s+/,param:/[$a-z_][$\w]*/i}).filter(({type:e})=>e!=="ws")}function xct(n,e={}){var r,i,o,s,a,l,c;const u=pIr(n);if(u.length===0||u.some(({type:f})=>!f))return Zk(n);if(((r=u[0])==null?void 0:r.token)===">"){const f=e[(i=u[1])==null?void 0:i.token];if(!f)return Zk(n);const h={...e};f.state=h;const m=u.slice(2);for(let g=0;g<m.length;g+=3){const v=(o=m[g])==null?void 0:o.token,y=(s=m[g+1])==null?void 0:s.token,b=(a=m[g+2])==null?void 0:a.token;v&&y==="="&&(h[v]=Xk(b,e))}return f}if(u.length===1)return Lj(u[0])?Xk(u[0].token,e):Zk(n);if(u.length===2){const f=(l=u[0])==null?void 0:l.token,h=sFe[f];if(!h||!Lj(u[1]))return Zk(n);const m=Xk(u[1].token,e);return h(m)}if(u.length===3){const f=(c=u[1])==null?void 0:c.token,h=sFe[f];if(!h||!Lj(u[0])||!Lj(u[2]))return Zk(n);const m=Xk(u[0].token,e);if(f==="|")return h(m,u[2].token);const g=Xk(u[2].token,e);return h(m,g)}}function Zk(n){return console.warn(`Warning: invalid expression \`${n}\``),!1}function Lj({type:n}){return["number","boolean","string","param"].includes(n)}function Xk(n,e){const r=n[0],i=n.slice(-1);return n==="true"||n==="false"?n==="true":r===i&&["'",'"'].includes(r)?n.slice(1,-1):Rst(n)?parseFloat(n):e[n]}function mIr(n,e){let r,i,o,s=[];for(;n;){o=null,r=n.length;for(let a in e)i=e[a].exec(n),i&&i.index<r&&(o={token:i[0],type:a,matches:i.slice(1)},r=i.index);r&&s.push({token:n.substr(0,r),type:void 0}),o&&s.push(o),n=n.substr(r+(o?o.token.length:0))}return s}var gIr=Object.defineProperty,vIr=(n,e,r)=>e in n?gIr(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,EI=(n,e,r)=>(vIr(n,typeof e!="symbol"?e+"":e,r),r),Fae=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},zX=(n,e,r)=>(Fae(n,e,"read from private field"),r?r.call(n):e.get(n)),Qk=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},Fb=(n,e,r,i)=>(Fae(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),xW=(n,e,r)=>(Fae(n,e,"access private method"),r),vC,aM,yC,VX,wct,lM,HX;const wW={mediatargetlivewindow:"targetlivewindow",mediastreamtype:"streamtype"},_ct=cn.createElement("template");_ct.innerHTML=`
  <style>
    :host {
      display: inline-block;
      line-height: 0;
    }

    media-controller {
      width: 100%;
      height: 100%;
    }

    media-controller:not([mediasubtitleslist]) media-captions-selectmenu,
    media-captions-button:not([mediasubtitleslist]),
    media-rendition-selectmenu[mediarenditionunavailable],
    media-audio-track-selectmenu[mediaaudiotrackunavailable],
    media-volume-range[mediavolumeunavailable],
    media-airplay-button[mediaairplayunavailable],
    media-fullscreen-button[mediafullscreenunavailable],
    media-cast-button[mediacastunavailable],
    media-pip-button[mediapipunavailable] {
      display: none;
    }
  </style>
`;class yR extends Be.HTMLElement{constructor(){super(),Qk(this,VX),Qk(this,lM),EI(this,"renderRoot"),EI(this,"renderer"),Qk(this,vC,void 0),Qk(this,aM,void 0),Qk(this,yC,void 0),this.shadowRoot?this.renderRoot=this.shadowRoot:(this.renderRoot=this.attachShadow({mode:"open"}),this.createRenderer());const e=new MutationObserver(r=>{var i;this.mediaController&&!((i=this.mediaController)!=null&&i.breakpointsComputed)||r.some(o=>{const s=o.target;return s===this?!0:s.localName!=="media-controller"?!1:!!(wW[o.attributeName]||o.attributeName.startsWith("breakpoint"))})&&this.render()});e.observe(this,{attributes:!0}),e.observe(this.renderRoot,{attributes:!0,subtree:!0}),this.addEventListener(kw.BREAKPOINTS_COMPUTED,this.render),xW(this,VX,wct).call(this,"template")}get mediaController(){return this.renderRoot.querySelector("media-controller")}get template(){var e;return(e=zX(this,vC))!=null?e:this.constructor.template}set template(e){Fb(this,yC,null),Fb(this,vC,e),this.createRenderer()}get props(){var e,r,i;const o=[...Array.from((r=(e=this.mediaController)==null?void 0:e.attributes)!=null?r:[]).filter(({name:a})=>wW[a]||a.startsWith("breakpoint")),...Array.from(this.attributes)],s={};for(let a of o){const l=(i=wW[a.name])!=null?i:rCr(a.name);let{value:c}=a;c!=null?(Rst(c)&&(c=parseFloat(c)),s[l]=c===""?!0:c):s[l]=!1}return s}attributeChangedCallback(e,r,i){e==="template"&&r!=i&&xW(this,lM,HX).call(this)}connectedCallback(){xW(this,lM,HX).call(this)}createRenderer(){this.template&&this.template!==zX(this,aM)&&(Fb(this,aM,this.template),this.renderer=new s7(this.template,this.props,this.constructor.processor),this.renderRoot.textContent="",this.renderRoot.append(_ct.content.cloneNode(!0),this.renderer))}render(){var e;(e=this.renderer)==null||e.update(this.props)}}vC=new WeakMap;aM=new WeakMap;yC=new WeakMap;VX=new WeakSet;wct=function(n){if(Object.prototype.hasOwnProperty.call(this,n)){const e=this[n];delete this[n],this[n]=e}};lM=new WeakSet;HX=function(){var n;const e=this.getAttribute("template");if(!e||e===zX(this,yC))return;const r=this.getRootNode(),i=(n=r==null?void 0:r.getElementById)==null?void 0:n.call(r,e);if(i){Fb(this,yC,e),Fb(this,vC,i),this.createRenderer();return}yIr(e)&&(Fb(this,yC,e),bIr(e).then(o=>{const s=cn.createElement("template");s.innerHTML=o,Fb(this,vC,s),this.createRenderer()}).catch(console.error))};EI(yR,"template");EI(yR,"observedAttributes",["template"]);EI(yR,"processor",Mae);function yIr(n){if(!/^(\/|\.\/|https?:\/\/)/.test(n))return!1;const e=/^https?:\/\//.test(n)?void 0:location.origin;try{new URL(n,e)}catch{return!1}return!0}async function bIr(n){const e=await fetch(n);if(e.status!==200)throw new Error(`Failed to load resource: the server responded with a status of ${e.status}`);return e.text()}Be.customElements.get("media-theme")||Be.customElements.define("media-theme",yR);var Nae=(n,e,r)=>{if(!e.has(n))throw TypeError("Cannot "+r)},Fi=(n,e,r)=>(Nae(n,e,"read from private field"),r?r.call(n):e.get(n)),tl=(n,e,r)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,r)},_g=(n,e,r,i)=>(Nae(n,e,"write to private field"),i?i.call(n,r):e.set(n,r),r),al=(n,e,r)=>(Nae(n,e,"access private method"),r),a7=class{addEventListener(){}removeEventListener(){}dispatchEvent(n){return!0}};if(typeof DocumentFragment>"u"){class n extends a7{}globalThis.DocumentFragment=n}var Bae=class extends a7{},xIr=class extends a7{},wIr={get(n){},define(n,e,r){},upgrade(n){},whenDefined(n){return Promise.resolve(Bae)}},cM,_Ir=class{constructor(n,e={}){tl(this,cM,void 0),_g(this,cM,e==null?void 0:e.detail)}get detail(){return Fi(this,cM)}initCustomEvent(){}};cM=new WeakMap;function EIr(n,e){return new Bae}var Ect={document:{createElement:EIr},DocumentFragment,customElements:wIr,CustomEvent:_Ir,EventTarget:a7,HTMLElement:Bae,HTMLVideoElement:xIr},Cct=typeof window>"u"||typeof globalThis.customElements>"u",vl=Cct?Ect:globalThis,ty=Cct?Ect.document:globalThis.document,CIr="en",CI={code:CIr},Sct="en";function qr(n,e=!0){var r,i;let o=e&&(i=(r=CI)==null?void 0:r[n])!=null?i:n,s=e?CI.code:Sct;return new SIr(o,s)}var SIr=class{constructor(n,e=(r=>(r=CI.code)!=null?r:Sct)()){this.message=n,this.locale=e}format(n){return this.message.replace(/\{(\w+)\}/g,(e,r)=>{var i;return(i=n[r])!=null?i:""})}toString(){return this.message}};function kIr(n){let e="";return Object.entries(n).forEach(([r,i])=>{i!=null&&(e+=`${WX(r)}: ${i}; `)}),e?e.trim():void 0}function WX(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function kct(n){return n.replace(/[-_]([a-z])/g,(e,r)=>r.toUpperCase())}function Nb(n){if(n==null)return;let e=+n;return Number.isNaN(e)?void 0:e}function Uae(n){let e=TIr(n).toString();return e?"?"+e:""}function TIr(n){let e={};for(let r in n)n[r]!=null&&(e[r]=n[r]);return new URLSearchParams(e)}function SI(n){let e=(n??"").split(".")[1];if(!e)return{};let r=e.replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(atob(r).split("").map(function(o){return"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)}).join(""));return JSON.parse(i)}var Tct=(n,e)=>!n||!e?!1:n.contains(e)?!0:Tct(n,e.getRootNode().host),zae="mux.com",AIr=()=>{try{return"1.15.0"}catch{}return"UNKNOWN"},IIr=AIr(),Act=()=>IIr,aFe=(n,{maxResolution:e,token:r,domain:i=zae}={})=>{let o=r?{token:r}:{redundant_streams:!0,...e?{max_resolution:e}:{}};return`https://stream.${i}/${n}.m3u8${Uae(o)}`},DIr=(n,{token:e,thumbnailTime:r,domain:i=zae}={})=>{let o=e==null?r:void 0,{aud:s}=SI(e);if(!(e&&s!=="t"))return`https://image.${i}/${n}/thumbnail.webp${Uae({token:e,time:o})}`},RIr=(n,{token:e,domain:r=zae}={})=>{let{aud:i}=SI(e);if(!(e&&i!=="s"))return`https://image.${r}/${n}/storyboard.vtt${Uae({token:e,format:"webp"})}`},Vae=n=>{if(n){if([Ss.LIVE,Ss.ON_DEMAND].includes(n))return n;if(n!=null&&n.includes("live"))return Ss.LIVE}},OIr={crossorigin:"crossOrigin",playsinline:"playsInline"};function PIr(n){var e;return(e=OIr[n])!=null?e:kct(n)}var nE,rE,eu,jIr=class{constructor(e,r){tl(this,nE,void 0),tl(this,rE,void 0),tl(this,eu,[]),_g(this,nE,e),_g(this,rE,r)}[Symbol.iterator](){return Fi(this,eu).values()}get length(){return Fi(this,eu).length}get value(){var e;return(e=Fi(this,eu).join(" "))!=null?e:""}set value(e){var r;e!==this.value&&(_g(this,eu,[]),this.add(...(r=e==null?void 0:e.split(" "))!=null?r:[]))}toString(){return this.value}item(e){return Fi(this,eu)[e]}values(){return Fi(this,eu).values()}keys(){return Fi(this,eu).keys()}forEach(e){Fi(this,eu).forEach(e)}add(...e){var r,i;e.forEach(o=>{this.contains(o)||Fi(this,eu).push(o)}),!(this.value===""&&!((r=Fi(this,nE))!=null&&r.hasAttribute(`${Fi(this,rE)}`)))&&((i=Fi(this,nE))==null||i.setAttribute(`${Fi(this,rE)}`,`${this.value}`))}remove(...e){var r;e.forEach(i=>{Fi(this,eu).splice(Fi(this,eu).indexOf(i),1)}),(r=Fi(this,nE))==null||r.setAttribute(`${Fi(this,rE)}`,`${this.value}`)}contains(e){return Fi(this,eu).includes(e)}toggle(e,r){return typeof r<"u"?r?(this.add(e),!0):(this.remove(e),!1):this.contains(e)?(this.remove(e),!1):(this.add(e),!0)}replace(e,r){this.remove(e),this.add(r)}};nE=new WeakMap,rE=new WeakMap,eu=new WeakMap;var Ict=`[mux-player ${Act()}]`;function Bb(...n){console.warn(Ict,...n)}function tg(...n){console.error(Ict,...n)}function Dct(n){var e;let r=(e=n.message)!=null?e:"";if(n.context&&(r+=` ${n.context}`),n.file){let i="https://github.com/muxinc/elements/blob/main/errors/";r+=` ${qr("Read more: ")}
${i}${n.file}`}Bb(r)}var $l={AUTOPLAY:"autoplay",CROSSORIGIN:"crossorigin",LOOP:"loop",MUTED:"muted",PLAYSINLINE:"playsinline",PRELOAD:"preload"},ub={VOLUME:"volume",PLAYBACKRATE:"playbackrate",MUTED:"muted"},lFe=Object.freeze({length:0,start(n){let e=n>>>0;if(e>=this.length)throw new DOMException(`Failed to execute 'start' on 'TimeRanges': The index provided (${e}) is greater than or equal to the maximum bound (${this.length}).`);return 0},end(n){let e=n>>>0;if(e>=this.length)throw new DOMException(`Failed to execute 'end' on 'TimeRanges': The index provided (${e}) is greater than or equal to the maximum bound (${this.length}).`);return 0}}),LIr=Lae.filter(n=>n!=="error"),$Ir=Object.values($l).filter(n=>![$l.PLAYSINLINE].includes(n)),MIr=Object.values(ub);function FIr(n){n.querySelectorAll(":scope > track").forEach(e=>{var r;(r=n.media)==null||r.append(e.cloneNode())}),LIr.forEach(e=>{var r;(r=n.media)==null||r.addEventListener(e,i=>{n.dispatchEvent(new Event(i.type))})})}var NIr=class extends vl.HTMLElement{static get observedAttributes(){return[...$Ir,...MIr]}constructor(){super(),this.querySelectorAll(":scope > track").forEach(e=>{var r;(r=this.media)==null||r.append(e.cloneNode())});let n=e=>{for(let r of e)r.type==="childList"&&(r.removedNodes.forEach(i=>{var o,s;let a=(o=this.media)==null?void 0:o.querySelector(`track[src="${i.src}"]`);a&&((s=this.media)==null||s.removeChild(a))}),r.addedNodes.forEach(i=>{var o;(o=this.media)==null||o.append(i.cloneNode())}))};new MutationObserver(n).observe(this,{childList:!0,subtree:!0})}attributeChangedCallback(n,e,r){var i,o;switch(n){case ub.MUTED:{this.media&&(this.media.muted=r!=null,this.media.defaultMuted=r!=null);return}case ub.VOLUME:{let s=(i=Nb(r))!=null?i:1;this.media&&(this.media.volume=s);return}case ub.PLAYBACKRATE:{let s=(o=Nb(r))!=null?o:1;this.media&&(this.media.playbackRate=s,this.media.defaultPlaybackRate=s);return}}}play(){var n,e;return(e=(n=this.media)==null?void 0:n.play())!=null?e:Promise.reject()}pause(){var n;(n=this.media)==null||n.pause()}requestCast(n){var e;return(e=this.media)==null?void 0:e.requestCast(n)}get media(){var n;return(n=this.shadowRoot)==null?void 0:n.querySelector("mux-video")}get audioTracks(){return this.media.audioTracks}get videoTracks(){return this.media.videoTracks}get audioRenditions(){return this.media.audioRenditions}get videoRenditions(){return this.media.videoRenditions}get paused(){var n,e;return(e=(n=this.media)==null?void 0:n.paused)!=null?e:!0}get duration(){var n,e;return(e=(n=this.media)==null?void 0:n.duration)!=null?e:NaN}get ended(){var n,e;return(e=(n=this.media)==null?void 0:n.ended)!=null?e:!1}get buffered(){var n,e;return(e=(n=this.media)==null?void 0:n.buffered)!=null?e:lFe}get seekable(){var n,e;return(e=(n=this.media)==null?void 0:n.seekable)!=null?e:lFe}get readyState(){var n,e;return(e=(n=this.media)==null?void 0:n.readyState)!=null?e:0}get videoWidth(){var n,e;return(e=(n=this.media)==null?void 0:n.videoWidth)!=null?e:0}get videoHeight(){var n,e;return(e=(n=this.media)==null?void 0:n.videoHeight)!=null?e:0}get currentTime(){var n,e;return(e=(n=this.media)==null?void 0:n.currentTime)!=null?e:0}set currentTime(n){this.media&&(this.media.currentTime=Number(n))}get volume(){var n,e;return(e=(n=this.media)==null?void 0:n.volume)!=null?e:1}set volume(n){this.media&&(this.media.volume=Number(n))}get playbackRate(){var n,e;return(e=(n=this.media)==null?void 0:n.playbackRate)!=null?e:1}set playbackRate(n){this.media&&(this.media.playbackRate=Number(n))}get defaultPlaybackRate(){var n;return(n=Nb(this.getAttribute(ub.PLAYBACKRATE)))!=null?n:1}set defaultPlaybackRate(n){n!=null?this.setAttribute(ub.PLAYBACKRATE,`${n}`):this.removeAttribute(ub.PLAYBACKRATE)}get crossOrigin(){return Jk(this,$l.CROSSORIGIN)}set crossOrigin(n){this.setAttribute($l.CROSSORIGIN,`${n}`)}get autoplay(){return Jk(this,$l.AUTOPLAY)!=null}set autoplay(n){n?this.setAttribute($l.AUTOPLAY,typeof n=="string"?n:""):this.removeAttribute($l.AUTOPLAY)}get loop(){return Jk(this,$l.LOOP)!=null}set loop(n){n?this.setAttribute($l.LOOP,""):this.removeAttribute($l.LOOP)}get muted(){var n,e;return(e=(n=this.media)==null?void 0:n.muted)!=null?e:!1}set muted(n){this.media&&(this.media.muted=!!n)}get defaultMuted(){return Jk(this,$l.MUTED)!=null}set defaultMuted(n){n?this.setAttribute($l.MUTED,""):this.removeAttribute($l.MUTED)}get playsInline(){return Jk(this,$l.PLAYSINLINE)!=null}set playsInline(n){tg("playsInline is set to true by default and is not currently supported as a setter.")}get preload(){return this.media?this.media.preload:this.getAttribute("preload")}set preload(n){["","none","metadata","auto"].includes(n)?this.setAttribute($l.PRELOAD,n):this.removeAttribute($l.PRELOAD)}};function Jk(n,e){return n.media?n.media.getAttribute(e):n.getAttribute(e)}var cFe=NIr,BIr=`:host {
  --media-control-display: var(--controls);
  --media-loading-indicator-display: var(--loading-indicator);
  --media-dialog-display: var(--dialog);
  --media-play-button-display: var(--play-button);
  --media-live-button-display: var(--live-button);
  --media-seek-backward-button-display: var(--seek-backward-button);
  --media-seek-forward-button-display: var(--seek-forward-button);
  --media-mute-button-display: var(--mute-button);
  --media-captions-button-display: var(--captions-button);
  --media-captions-selectmenu-display: var(--captions-selectmenu, var(--media-captions-button-display));
  --media-rendition-selectmenu-display: var(--rendition-selectmenu);
  --media-audio-track-selectmenu-display: var(--audio-track-selectmenu);
  --media-airplay-button-display: var(--airplay-button);
  --media-pip-button-display: var(--pip-button);
  --media-fullscreen-button-display: var(--fullscreen-button);
  --media-cast-button-display: var(--cast-button);
  --media-playback-rate-button-display: var(--playback-rate-button);
  --media-volume-range-display: var(--volume-range);
  --media-time-range-display: var(--time-range);
  --media-time-display-display: var(--time-display);
  --media-duration-display-display: var(--duration-display);
  --media-title-display-display: var(--title-display);

  display: inline-block;
  width: 100%;
  line-height: 0;
}

/* Hide custom elements that are not defined yet */
:not(:defined) {
  display: none;
}

a {
  color: #fff;
  font-size: 0.9em;
  text-decoration: underline;
}

media-theme {
  width: 100%;
  height: 100%;
  direction: ltr;
}

media-poster-image {
  width: 100%;
  height: 100%;
}

media-poster-image:not([src]):not([placeholdersrc]) {
  display: none;
}

::part(top),
[part~='top'] {
  --media-control-display: var(--controls, var(--top-controls));
  --media-play-button-display: var(--play-button, var(--top-play-button));
  --media-live-button-display: var(--live-button, var(--top-live-button));
  --media-seek-backward-button-display: var(--seek-backward-button, var(--top-seek-backward-button));
  --media-seek-forward-button-display: var(--seek-forward-button, var(--top-seek-forward-button));
  --media-mute-button-display: var(--mute-button, var(--top-mute-button));
  --media-captions-button-display: var(--captions-button, var(--top-captions-button));
  --media-captions-selectmenu-display: var(
    --captions-selectmenu,
    var(--media-captions-button-display, var(--top-captions-selectmenu))
  );
  --media-rendition-selectmenu-display: var(--rendition-selectmenu, var(--top-rendition-selectmenu));
  --media-audio-track-selectmenu-display: var(--audio-track-selectmenu, var(--top-audio-track-selectmenu));
  --media-airplay-button-display: var(--airplay-button, var(--top-airplay-button));
  --media-pip-button-display: var(--pip-button, var(--top-pip-button));
  --media-fullscreen-button-display: var(--fullscreen-button, var(--top-fullscreen-button));
  --media-cast-button-display: var(--cast-button, var(--top-cast-button));
  --media-playback-rate-button-display: var(--playback-rate-button, var(--top-playback-rate-button));
  --media-volume-range-display: var(--volume-range, var(--top-volume-range));
  --media-time-range-display: var(--time-range, var(--top-time-range));
  --media-time-display-display: var(--time-display, var(--top-time-display));
  --media-duration-display-display: var(--duration-display, var(--top-duration-display));
  --media-title-display-display: var(--title-display, var(--top-title-display));
}

::part(center),
[part~='center'] {
  --media-control-display: var(--controls, var(--center-controls));
  --media-play-button-display: var(--play-button, var(--center-play-button));
  --media-live-button-display: var(--live-button, var(--center-live-button));
  --media-seek-backward-button-display: var(--seek-backward-button, var(--center-seek-backward-button));
  --media-seek-forward-button-display: var(--seek-forward-button, var(--center-seek-forward-button));
  --media-mute-button-display: var(--mute-button, var(--center-mute-button));
  --media-captions-button-display: var(--captions-button, var(--center-captions-button));
  --media-captions-selectmenu-display: var(
    --captions-selectmenu,
    var(--media-captions-button-display, var(--center-captions-selectmenu))
  );
  --media-rendition-selectmenu-display: var(--rendition-selectmenu, var(--center-rendition-selectmenu));
  --media-audio-track-selectmenu-display: var(--audio-track-selectmenu, var(--center-audio-track-selectmenu));
  --media-airplay-button-display: var(--airplay-button, var(--center-airplay-button));
  --media-pip-button-display: var(--pip-button, var(--center-pip-button));
  --media-fullscreen-button-display: var(--fullscreen-button, var(--center-fullscreen-button));
  --media-cast-button-display: var(--cast-button, var(--center-cast-button));
  --media-playback-rate-button-display: var(--playback-rate-button, var(--center-playback-rate-button));
  --media-volume-range-display: var(--volume-range, var(--center-volume-range));
  --media-time-range-display: var(--time-range, var(--center-time-range));
  --media-time-display-display: var(--time-display, var(--center-time-display));
  --media-duration-display-display: var(--duration-display, var(--center-duration-display));
}

::part(bottom),
[part~='bottom'] {
  --media-control-display: var(--controls, var(--bottom-controls));
  --media-play-button-display: var(--play-button, var(--bottom-play-button));
  --media-live-button-display: var(--live-button, var(--bottom-live-button));
  --media-seek-backward-button-display: var(--seek-backward-button, var(--bottom-seek-backward-button));
  --media-seek-forward-button-display: var(--seek-forward-button, var(--bottom-seek-forward-button));
  --media-mute-button-display: var(--mute-button, var(--bottom-mute-button));
  --media-captions-button-display: var(--captions-button, var(--bottom-captions-button));
  --media-captions-selectmenu-display: var(
    --captions-selectmenu,
    var(--media-captions-button-display, var(--bottom-captions-selectmenu))
  );
  --media-rendition-selectmenu-display: var(--rendition-selectmenu, var(--bottom-rendition-selectmenu));
  --media-audio-track-selectmenu-display: var(--audio-track-selectmenu, var(--bottom-audio-track-selectmenu));
  --media-airplay-button-display: var(--airplay-button, var(--bottom-airplay-button));
  --media-pip-button-display: var(--pip-button, var(--bottom-pip-button));
  --media-fullscreen-button-display: var(--fullscreen-button, var(--bottom-fullscreen-button));
  --media-cast-button-display: var(--cast-button, var(--bottom-cast-button));
  --media-playback-rate-button-display: var(--playback-rate-button, var(--bottom-playback-rate-button));
  --media-volume-range-display: var(--volume-range, var(--bottom-volume-range));
  --media-time-range-display: var(--time-range, var(--bottom-time-range));
  --media-time-display-display: var(--time-display, var(--bottom-time-display));
  --media-duration-display-display: var(--duration-display, var(--bottom-duration-display));
  --media-title-display-display: var(--title-display, var(--bottom-title-display));
}
`,Rct=`
  :host {
    z-index: 100;
    display: var(--media-dialog-display, flex);
    justify-content: center;
    align-items: center;
    width: 100%;
    height: 100%;
    position: absolute;
    top: 0;
    left: 0;
    box-sizing: border-box;
    color: #fff;
    line-height: 18px;
    font-family: Arial, sans-serif;
    padding: var(--media-dialog-backdrop-padding, 0);
    background: var(--media-dialog-backdrop-background,
      linear-gradient(to bottom, rgba(20, 20, 30, 0.7) 50%, rgba(20, 20, 30, 0.9))
    );
    /* Needs to use !important to prevent overwrite of media-chrome */
    transition: var(--media-dialog-transition-open, visibility .2s, opacity .2s) !important;
    transform: var(--media-dialog-transform-open, none) !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
  }

  :host(:not([open])) {
    /* Needs to use !important to prevent overwrite of media-chrome */
    transition: var(--media-dialog-transition-close, visibility .1s, opacity .1s) !important;
    transform: var(--media-dialog-transform-close, none) !important;
    visibility: hidden !important;
    opacity: 0 !important;
    pointer-events: none !important;
  }

  :focus-visible {
    box-shadow: 0 0 0 2px rgba(27, 127, 204, 0.9);
  }

  .dialog {
    position: relative;
    box-sizing: border-box;
    background: var(--media-dialog-background, none);
    padding: var(--media-dialog-padding, 10px);
    width: min(320px, 100%);
    word-wrap: break-word;
    max-height: 100%;
    overflow: auto;
    text-align: center;
    line-height: 1.4;
  }
`,Oct=ty.createElement("template");Oct.innerHTML=`
  <style>
    ${Rct}
  </style>

  <div class="dialog">
    <slot></slot>
  </div>
`;var bC=class extends vl.HTMLElement{constructor(){var n;super(),this.attachShadow({mode:"open"}),(n=this.shadowRoot)==null||n.appendChild(this.constructor.template.content.cloneNode(!0))}show(){this.setAttribute("open",""),this.dispatchEvent(new CustomEvent("open",{composed:!0,bubbles:!0})),uFe(this)}close(){!this.hasAttribute("open")||(this.removeAttribute("open"),this.dispatchEvent(new CustomEvent("close",{composed:!0,bubbles:!0})),UIr(this))}attributeChangedCallback(n,e,r){n==="open"&&e!==r&&(r!=null?this.show():this.close())}connectedCallback(){this.hasAttribute("role")||this.setAttribute("role","dialog"),this.hasAttribute("open")&&uFe(this)}};bC.styles=Rct,bC.template=Oct,bC.observedAttributes=["open"];function uFe(n){let e=new CustomEvent("initfocus",{composed:!0,bubbles:!0,cancelable:!0});if(n.dispatchEvent(e),e.defaultPrevented)return;let r=n.querySelector("[autofocus]:not([disabled])");!r&&n.tabIndex>=0&&(r=n),r||(r=Pct(n.shadowRoot)),n._previouslyFocusedElement=ty.activeElement,ty.activeElement instanceof HTMLElement&&ty.activeElement.blur(),n.addEventListener("transitionend",()=>{r instanceof HTMLElement&&r.focus({preventScroll:!0})},{once:!0})}function Pct(n){let e=["button","input","keygen","select","textarea"].map(function(i){return i+":not([disabled])"});e.push('[tabindex]:not([disabled]):not([tabindex=""])');let r=n==null?void 0:n.querySelector(e.join(", "));if(!r&&"attachShadow"in Element.prototype){let i=(n==null?void 0:n.querySelectorAll("*"))||[];for(let o=0;o<i.length&&!(i[o].tagName&&i[o].shadowRoot&&(r=Pct(i[o].shadowRoot),r));o++);}return r}function UIr(n){n._previouslyFocusedElement instanceof HTMLElement&&n._previouslyFocusedElement.focus()}vl.customElements.get("media-dialog")||(vl.customElements.define("media-dialog",bC),vl.MediaDialog=bC);var jct=bC,Lct=ty.createElement("template");Lct.innerHTML=`
  <style>
    ${jct.styles}

    .close {
      background: none;
      color: inherit;
      border: none;
      padding: 0;
      font: inherit;
      cursor: pointer;
      outline: inherit;
      width: 28px;
      height: 28px;
      position: absolute;
      top: 1rem;
      right: 1rem;
    }
  </style>

  <div class="dialog">
    <slot></slot>
  </div>

  <slot name="close">
    <button class="close" tabindex="0">
      <svg fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
      </svg>
    </button>
  </slot>
`;var GX=class extends jct{constructor(){var e,r;super(),(r=(e=this.shadowRoot)==null?void 0:e.querySelector(".close"))==null||r.addEventListener("click",()=>{this.close()})}};GX.template=Lct;vl.customElements.get("mxp-dialog")||(vl.customElements.define("mxp-dialog",GX),vl.MxpDialog=GX);var eT=new WeakMap,$ct=class{constructor(e,r){this.element=e,this.type=r,this.element.addEventListener(this.type,this);let i=eT.get(this.element);i&&i.set(this.type,this)}set(e){if(typeof e=="function")this.handleEvent=e.bind(this.element);else if(typeof e=="object"&&typeof e.handleEvent=="function")this.handleEvent=e.handleEvent.bind(e);else{this.element.removeEventListener(this.type,this);let r=eT.get(this.element);r&&r.delete(this.type)}}static for(e){eT.has(e.element)||eT.set(e.element,new Map);let r=e.attributeName.slice(2),i=eT.get(e.element);return i&&i.has(r)?i.get(r):new $ct(e.element,r)}};function zIr(n,e){return n instanceof uh&&n.attributeName.startsWith("on")?($ct.for(n).set(e),n.element.removeAttributeNS(n.attributeNamespace,n.attributeName),!0):!1}function VIr(n,e){return e instanceof Mct&&n instanceof w2?(e.renderInto(n),!0):!1}function HIr(n,e){return e instanceof DocumentFragment&&n instanceof w2?(e.childNodes.length&&n.replace(...e.childNodes),!0):!1}function WIr(n,e){if(n instanceof uh){let r=n.attributeNamespace,i=n.element.getAttributeNS(r,n.attributeName);return String(e)!==i&&(n.value=String(e)),!0}return n.value=String(e),!0}function GIr(n,e){if(n instanceof uh&&e instanceof Element){let r=n.element;return r[n.attributeName]!==e&&(n.element.removeAttributeNS(n.attributeNamespace,n.attributeName),r[n.attributeName]=e),!0}return!1}function qIr(n,e){if(typeof e=="boolean"&&n instanceof uh){let r=n.attributeNamespace,i=n.element.hasAttributeNS(r,n.attributeName);return e!==i&&(n.booleanValue=e),!0}return!1}function KIr(n,e){return e===!1&&n instanceof w2?(n.replace(""),!0):!1}function YIr(n,e){GIr(n,e)||qIr(n,e)||zIr(n,e)||KIr(n,e)||VIr(n,e)||HIr(n,e)||WIr(n,e)}var _W=new Map,dFe=new WeakMap,fFe=new WeakMap,Mct=class{constructor(n,e,r){this.strings=n,this.values=e,this.processor=r,this.stringsKey=this.strings.join("")}get template(){if(_W.has(this.stringsKey))return _W.get(this.stringsKey);{let n=ty.createElement("template"),e=this.strings.length-1;return n.innerHTML=this.strings.reduce((r,i,o)=>r+i+(o<e?`{{ ${o} }}`:""),""),_W.set(this.stringsKey,n),n}}renderInto(n){var e;let r=this.template;if(dFe.get(n)!==r){dFe.set(n,r);let o=new s7(r,this.values,this.processor);fFe.set(n,o),n instanceof w2?n.replace(...o.children):n.appendChild(o);return}let i=fFe.get(n);(e=i==null?void 0:i.update)==null||e.call(i,this.values)}},ZIr={processCallback(n,e,r){var i;if(r){for(let[o,s]of e)if(o in r){let a=(i=r[o])!=null?i:"";YIr(s,a)}}}};function Xv(n,...e){return new Mct(n,e,ZIr)}function XIr(n,e){n.renderInto(e)}var QIr=n=>Xv`
  <style>
    ${BIr}
  </style>
  ${eDr(n)}
`,JIr=n=>{let e=n.hotKeys?`${n.hotKeys}`:"";return Vae(n.streamType)==="live"&&(e+=" noarrowleft noarrowright"),e},eDr=n=>{var e,r,i,o,s,a,l,c,u,f,h,m,g,v,y,b,x,_,w,C,S,T,A,I,D,R,P,O,$,L,M,N,z,B;return Xv`
  <media-theme
    template="${n.themeTemplate||!1}"
    defaultstreamtype="${(e=n.defaultStreamType)!=null?e:!1}"
    hotkeys="${JIr(n)||!1}"
    nohotkeys="${n.noHotKeys||!n.hasSrc||n.isDialogOpen||!1}"
    noautoseektolive="${!!((r=n.streamType)!=null&&r.includes(Ss.LIVE))&&n.targetLiveWindow!==0}"
    novolumepref="${n.novolumepref||!1}"
    disabled="${!n.hasSrc||n.isDialogOpen}"
    audio="${(i=n.audio)!=null?i:!1}"
    style="${(o=kIr({"--media-primary-color":n.primaryColor,"--media-secondary-color":n.secondaryColor}))!=null?o:!1}"
    defaultsubtitles="${!n.defaultHiddenCaptions}"
    forwardseekoffset="${(s=n.forwardSeekOffset)!=null?s:!1}"
    backwardseekoffset="${(a=n.backwardSeekOffset)!=null?a:!1}"
    playbackrates="${(l=n.playbackRates)!=null?l:!1}"
    defaultshowremainingtime="${(c=n.defaultShowRemainingTime)!=null?c:!1}"
    hideduration="${(u=n.hideDuration)!=null?u:!1}"
    title="${(f=n.title)!=null?f:!1}"
    exportparts="top, center, bottom, layer, media-layer, poster-layer, vertical-layer, centered-layer, gesture-layer, controller, poster, live, play, button, seek-backward, seek-forward, mute, captions, airplay, pip, fullscreen, cast, playback-rate, volume, range, time, display, control-bar"
  >
    <mux-video
      slot="media"
      target-live-window="${(h=n.targetLiveWindow)!=null?h:!1}"
      stream-type="${(m=Vae(n.streamType))!=null?m:!1}"
      crossorigin="${(g=n.crossOrigin)!=null?g:""}"
      playsinline
      autoplay="${(v=n.autoplay)!=null?v:!1}"
      muted="${(y=n.muted)!=null?y:!1}"
      loop="${(b=n.loop)!=null?b:!1}"
      preload="${(x=n.preload)!=null?x:!1}"
      debug="${(_=n.debug)!=null?_:!1}"
      prefer-cmcd="${(w=n.preferCmcd)!=null?w:!1}"
      disable-cookies="${(C=n.disableCookies)!=null?C:!1}"
      prefer-playback="${(S=n.preferPlayback)!=null?S:!1}"
      start-time="${n.startTime!=null?n.startTime:!1}"
      beacon-collection-domain="${(T=n.beaconCollectionDomain)!=null?T:!1}"
      player-software-name="${(A=n.playerSoftwareName)!=null?A:!1}"
      player-software-version="${(I=n.playerSoftwareVersion)!=null?I:!1}"
      env-key="${(D=n.envKey)!=null?D:!1}"
      custom-domain="${(R=n.customDomain)!=null?R:!1}"
      src="${n.src?n.src:n.playbackId?aFe(n.playbackId,{maxResolution:n.maxResolution,domain:n.customDomain,token:n.tokens.playback}):!1}"
      cast-src="${n.src?n.src:n.playbackId?aFe(n.playbackId,{maxResolution:n.maxResolution,domain:n.customDomain,token:n.tokens.playback}):!1}"
      exportparts="video"
    >
      ${n.storyboard?Xv`<track label="thumbnails" default kind="metadata" src="${n.storyboard}" />`:Xv``}
    </mux-video>
    <slot name="poster" slot="poster">
      <media-poster-image
        part="poster"
        exportparts="poster, img"
        src="${n.poster===""?!1:(P=n.poster)!=null?P:!1}"
        placeholdersrc="${(O=n.placeholder)!=null?O:!1}"
      ></media-poster-image>
    </slot>
    <mxp-dialog
      no-auto-hide
      open="${($=n.isDialogOpen)!=null?$:!1}"
      onclose="${n.onCloseErrorDialog}"
      oninitfocus="${n.onInitFocusDialog}"
    >
      ${(L=n.dialog)!=null&&L.title?Xv`<h3>${n.dialog.title}</h3>`:Xv``}
      <p>
        ${(M=n.dialog)==null?void 0:M.message}
        ${(N=n.dialog)!=null&&N.linkUrl?Xv`<a
              href="${n.dialog.linkUrl}"
              target="_blank"
              rel="external noopener"
              aria-label="${(z=n.dialog.linkText)!=null?z:""} ${qr("(opens in a new window)")}"
              >${(B=n.dialog.linkText)!=null?B:n.dialog.linkUrl}</a
            >`:Xv``}
      </p>
    </mxp-dialog>
  </media-theme>
`};function qX(n,e,r,i,o){var s,a,l;let c={},u={};switch(n.code){case Ns.MEDIA_ERR_NETWORK:{switch(c.title=qr("Network Error",o),c.message=n.message,(s=n.data)==null?void 0:s.response.code){case 412:{c.title=qr("Video is not currently available",o),c.message=qr("The live stream or video file are not yet ready.",o),u.message=qr("This playback-id may belong to a live stream that is not currently active or an asset that is not ready.",o),u.file="412-not-playable.md";break}case 404:{c.title=qr("Video does not exist",o),c.message="",u.message=qr("This playback-id does not exist. You may have used an Asset ID or an ID from a different resource.",o),u.file="404-not-found.md";break}case 403:{if(c.title=qr("Invalid playback URL",o),c.message=qr("The video URL or playback-token are formatted with incorrect or incomplete information.",o),u.message=qr("403 error trying to access this playback URL. If this is a signed URL, you might need to provide a playback-token.",o),u.file="missing-signed-tokens.md",!i)break;let{exp:f,aud:h,sub:m}=SI(i),g=Date.now()>f*1e3,v=m!==r,y=h!=="v",b={timeStyle:"medium",dateStyle:"medium"};if(g){c.title=qr("Video URL has expired",o),c.message=qr("The video’s secured playback-token has expired.",o),u.message=qr("The video’s secured playback-token has expired.",o),u.context=qr("Expired at: {expiredDate}. Current time: {currentDate}.",o).format({expiredDate:new Intl.DateTimeFormat(CI.code,b).format(f*1e3),currentDate:new Intl.DateTimeFormat(CI.code,b).format(Date.now())}),u.file="403-expired-token.md";break}if(v){c.title=qr("Video URL is formatted incorrectly",o),c.message=qr("The video’s playback ID does not match the one encoded in the playback-token.",o),u.message=qr("The video’s playback ID does not match the one encoded in the playback-token.",o),u.context=qr("Specified playback ID: {playbackId} and the playback ID encoded in the playback-token: {tokenPlaybackId}",o).format({playbackId:r,tokenPlaybackId:m}),u.file="403-playback-id-mismatch.md";break}if(y){c.title=qr("Video URL is formatted incorrectly",o),c.message=qr("The playback-token is formatted with incorrect information.",o),u.message=qr("The playback-token is formatted with incorrect information.",o),u.context=qr("The playback-token has an incorrect aud value: {tokenType}. aud value should be v.",o).format({tokenType:h}),u.file="403-incorrect-aud-value.md";break}u.message=qr("403 error trying to access this playback URL. If this is a signed playback ID, the token might not have been generated correctly.",o),u.file="403-malformatted-token.md";break}}break}case Ns.MEDIA_ERR_DECODE:{let{message:f}=n;c={title:qr("Media Error",o),message:f},u.file="media-decode-error.md";break}case Ns.MEDIA_ERR_SRC_NOT_SUPPORTED:{let f=(l=(a=n.data)==null?void 0:a.response)==null?void 0:l.code;if(f>=400&&f<500){n.code=Ns.MEDIA_ERR_NETWORK,n.data={response:{code:f}},{dialog:c,devlog:u}=qX(n,e,r,i);break}c={title:qr("Source Not Supported",o),message:n.message},u.file="media-src-not-supported.md";break}default:c={title:qr("Error",o),message:n.message};break}return e&&(c={title:qr("Your device appears to be offline",o),message:qr("Check your internet connection and try reloading this video.",o)}),{dialog:c,devlog:u}}var tDr=`<!-- prettier-ignore -->
<template id="media-theme-classic">
  <style>
    :host {
      --_primary-color: var(--media-primary-color, white);
      --_secondary-color: var(--media-secondary-color, rgb(0 0 0 / .75));

      --media-icon-color: var(--_primary-color);
      --media-range-thumb-background: var(--_primary-color);
      --media-range-bar-color: var(--_primary-color);
      --media-control-background: var(--_secondary-color);
      --media-control-hover-background: var(--_secondary-color);
      --media-time-range-buffered-color: rgba(255, 255, 255, 0.4);
      --media-range-track-background:
        linear-gradient(rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.5)),
        linear-gradient(rgba(20, 20, 30, 0.7), rgba(20, 20, 30, 0.7));
      --media-preview-thumbnail-border: 0;
      --media-preview-thumbnail-border-radius: 2px 2px 0 0;
      --media-preview-time-border-radius: 0 0 2px 2px;
      --media-preview-time-margin: 0 0 8px;
      --media-preview-time-text-shadow: none;
      --media-listbox-border-radius: 2px;
      --media-listbox-transform-in: translateY(-8px) scale(1);
      --media-listbox-transform-out: translateY(-6px) scale(.99);
      --media-option-hover-background: rgba(255, 255, 255, 0.28);

      color: var(--_primary-color);
      display: inline-block;
      width: 100%;
      height: 100%;
    }

    :host([audio]) {
      --media-preview-time-border-radius: 3px;
      --media-preview-time-margin: 0 0 5px;
      --media-preview-time-text-shadow: none;
    }

    :host([audio]) ::slotted([slot='media']) {
      height: 0px;
    }

    :host([audio]) media-loading-indicator {
      display: none;
    }

    :host([audio]) media-controller {
      background: transparent;
    }

    :host([audio]) media-controller::part(vertical-layer) {
      background: transparent;
    }

    :host([audio]) media-control-bar {
      width: 100%;
    }

    [disabled]:not(media-live-button),
    [aria-disabled='true']:not(media-live-button) {
      opacity: 60%;
      cursor: not-allowed;
    }

    /* 0.433s is the transition duration for VTT Regions.
     * Borrowed here, so the captions don't move too fast. */
    media-controller ::slotted([slot='media']) {
      --media-webkit-text-track-transition: transform 0.433s ease-out 0.3s;
    }
    media-controller:is([mediapaused],:not([userinactive])) ::slotted([slot='media']) {
      /* 42px is the height of the control bar and progress bar
       * with an additional 5px as a buffer, to get 47px */
      --media-webkit-text-track-transform: translateY(-47px);
      --media-webkit-text-track-transition: transform 0.15s ease;
    }

    :host media-time-range {
      color: var(--_primary-color);
      --media-range-thumb-opacity: 0;
    }

    :host(:not([audio])) media-time-range {
      --media-range-padding: 0;
      background: transparent;
      z-index: 10;
      height: 10px;
      bottom: -3px;
      width: 100%;
    }

    media-control-bar {
      --media-control-padding: 4px 3px;
    }

    [breakpointsm] media-control-bar {
      --media-control-padding: 9px 5px;
    }

    [breakpointmd] media-control-bar {
      --media-control-padding: 9px 7px;
    }

    media-control-bar :is([role='button'], [role='switch'], button) {
      line-height: 0;
    }

    media-control-bar :is(media-text-display, media-time-display):first-child {
      --media-control-padding: 9px 5px 9px 10px;
    }

    .spacer {
      flex-grow: 1;
      background-color: var(--media-control-background, rgba(20, 20, 30, 0.7));
    }

    /* Add a small space on the right to have the play button and
     * fullscreen button aligned in relation to the progress bar. */
    media-control-bar:not([slot])::after {
      content: '';
      width: 2px;
      height: 100%;
      background-color: var(--media-control-background, rgba(20, 20, 30, 0.7));
    }

    media-control-bar[slot='top-chrome'] {
      min-height: 42px;
      pointer-events: none;
    }

    :host([title]) media-control-bar[slot='top-chrome']::before {
      content: '';
      position: absolute;
      width: 100%;
      padding-bottom: min(160px, 25%);
      background: linear-gradient(rgb(0 0 0 / 0.4), transparent);
    }

    media-control-bar[slot='top-chrome'] > * {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      position: relative;
    }

    media-controller::part(vertical-layer) {
      transition: background-color 1s;
    }

    media-controller:is([mediapaused], :not([userinactive]))::part(vertical-layer) {
      background-color: var(--controls-backdrop-color, var(--controls, transparent));
      transition: background-color 0.25s;
    }

    .center-controls {
      --media-button-icon-width: 100%;
      --media-button-icon-height: auto;
      pointer-events: none;
      width: 100%;
      display: flex;
      flex-flow: row;
      align-items: center;
      justify-content: center;
      filter: drop-shadow(0 0 2px rgb(0 0 0 / 0.25)) drop-shadow(0 0 6px rgb(0 0 0 / 0.25));
      paint-order: stroke;
      stroke: rgba(102, 102, 102, 1);
      stroke-width: 0.3px;
      text-shadow: 0 0 2px rgb(0 0 0 / 0.25), 0 0 6px rgb(0 0 0 / 0.25);
    }

    .center-controls media-play-button {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      padding: 0;
      width: max(43px, min(10%, 55px));
    }

    .center-controls media-seek-backward-button,
    .center-controls media-seek-forward-button {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      padding: 0;
      margin: 0 2%;
      width: max(33px, min(8%, 40px));
    }

    media-control-bar:not([slot]) media-seek-backward-button {
      padding-right: 5px;
    }

    media-control-bar:not([slot]) media-seek-forward-button {
      padding-left: 5px;
    }

    media-loading-indicator {
      --media-loading-icon-width: 100%;
      --media-button-icon-height: auto;
      display: var(--media-control-display, var(--media-loading-indicator-display, flex));
      pointer-events: none;
      position: absolute;
      width: min(15%, 150px);
      flex-flow: row;
      align-items: center;
      justify-content: center;
    }

    /* Intentionally don't target the div for transition but the children
     of the div. Prevents messing with media-chrome's autohide feature. */
    media-loading-indicator + div * {
      transition: opacity 0.15s;
      opacity: 1;
    }

    media-loading-indicator[medialoading]:not([mediapaused]) ~ div > * {
      opacity: 0;
      transition-delay: 400ms;
    }

    media-volume-range {
      width: min(100%, 100px);
    }

    media-time-display {
      white-space: nowrap;
    }

    :is(media-time-display, media-text-display, media-playback-rate-button[role='button']) {
      color: inherit;
      line-height: 24px;
    }

    :is(.title-display, media-live-button) {
      color: inherit;
      font-size: 16px;
      text-shadow: 0 0 2px rgb(0 0 0 / 0.6);
    }

    :host([audio]) .title-display {
      flex-grow: 1;
      font-size: 21px;
    }
  </style>

  <template partial="TitleDisplay">
    <template if="title">
      <media-text-display part="top title display" class="title-display">
        {{title}}
      </media-text-display>
    </template>
  </template>

  <template partial="PlayButton">
    <media-play-button
      part="{{section ?? 'bottom'}} play button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg aria-hidden="true" viewBox="0 0 24 24" slot="play">
        <path d="m6.73 20.93 14.05-8.54a.46.46 0 0 0 0-.78L6.73 3.07a.48.48 0 0 0-.73.39v17.07a.48.48 0 0 0 .73.4Z" />
      </svg>
      <svg aria-hidden="true" viewBox="0 0 24 24" slot="pause">
        <path
          d="M6 19.5a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-15a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v15ZM14.5 4a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-15a.5.5 0 0 0-.5-.5h-3Z"
        />
      </svg>
    </media-play-button>
  </template>

  <template partial="SeekBackwardButton">
    <media-seek-backward-button
      seekoffset="{{backwardseekoffset}}"
      part="{{section ?? 'bottom'}} seek-backward button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg aria-hidden="true" viewBox="0 0 22 24" slot="backward">
        <path d="M11 6V3L5.37 7 11 10.94V8a5.54 5.54 0 0 1 1.9 10.48v2.12A7.5 7.5 0 0 0 11 6Z" />
        <text class="value" transform="translate(2.5 21)" style="font-size: 8px; font-family: 'ArialMT', 'Arial'">
          {{backwardseekoffset}}
        </text>
      </svg>
    </media-seek-backward-button>
  </template>

  <template partial="SeekForwardButton">
    <media-seek-forward-button
      seekoffset="{{forwardseekoffset}}"
      part="{{section ?? 'bottom'}} seek-forward button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    >
      <svg aria-hidden="true" viewBox="0 0 22 24" slot="forward">
        <path d="M11 6V3l5.61 4L11 10.94V8a5.54 5.54 0 0 0-1.9 10.48v2.12A7.5 7.5 0 0 1 11 6Z" />
        <text class="value" transform="translate(10 21)" style="font-size: 8px; font-family: 'ArialMT', 'Arial'">
          {{forwardseekoffset}}
        </text>
      </svg>
    </media-seek-forward-button>
  </template>

  <template partial="MuteButton">
    <media-mute-button part="bottom mute button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg aria-hidden="true" viewBox="0 0 24 24" slot="high">
        <path
          d="m11.14 4.86-4 4a.49.49 0 0 1-.35.14H3.25a.25.25 0 0 0-.25.25v5.5a.25.25 0 0 0 .25.25h3.54a.49.49 0 0 1 .36.15l4 4a.5.5 0 0 0 .85-.36V5.21a.5.5 0 0 0-.86-.35Zm2.74-1.56v1.52A7.52 7.52 0 0 1 19.47 12a7.52 7.52 0 0 1-5.59 7.18v1.52A9 9 0 0 0 21 12a9 9 0 0 0-7.12-8.7Zm3.56 8.7a5.49 5.49 0 0 0-3.56-5.1v1.66a3.93 3.93 0 0 1 0 6.88v1.66a5.49 5.49 0 0 0 3.56-5.1Z"
        />
      </svg>
      <svg aria-hidden="true" viewBox="0 0 24 24" slot="low">
        <path
          d="m11.14 4.853-4 4a.49.49 0 0 1-.35.14H3.25a.25.25 0 0 0-.25.25v5.5a.25.25 0 0 0 .25.25h3.54a.49.49 0 0 1 .36.15l4 4a.5.5 0 0 0 .85-.36V5.203a.5.5 0 0 0-.86-.35Zm6.3 7.14a5.49 5.49 0 0 0-3.56-5.1v1.66a3.93 3.93 0 0 1 0 6.88v1.66a5.49 5.49 0 0 0 3.56-5.1Z"
        />
      </svg>
      <svg aria-hidden="true" viewBox="0 0 24 24" slot="medium">
        <path
          d="m11.14 4.853-4 4a.49.49 0 0 1-.35.14H3.25a.25.25 0 0 0-.25.25v5.5a.25.25 0 0 0 .25.25h3.54a.49.49 0 0 1 .36.15l4 4a.5.5 0 0 0 .85-.36V5.203a.5.5 0 0 0-.86-.35Zm6.3 7.14a5.49 5.49 0 0 0-3.56-5.1v1.66a3.93 3.93 0 0 1 0 6.88v1.66a5.49 5.49 0 0 0 3.56-5.1Z"
        />
      </svg>
      <svg aria-hidden="true" viewBox="0 0 24 24" slot="off">
        <path
          d="m3 4.05 4.48 4.47-.33.33a.49.49 0 0 1-.36.15H3.25a.25.25 0 0 0-.25.25v5.5a.25.25 0 0 0 .25.25h3.54a.49.49 0 0 1 .36.15l4 4a.48.48 0 0 0 .36.15.5.5 0 0 0 .5-.5v-5.75l4.67 4.66a7.71 7.71 0 0 1-2.79 1.47v1.52a9.32 9.32 0 0 0 3.87-1.91L20 21l1-1L4.06 3 3 4.05Zm5.36 5.36 2.39 2.39V17L8 14.26a1.74 1.74 0 0 0-1.24-.51H4.25v-3.5h2.54A1.74 1.74 0 0 0 8 9.74l.36-.33ZM19.47 12a7.19 7.19 0 0 1-.89 3.47l1.11 1.1A8.64 8.64 0 0 0 21 12a9 9 0 0 0-7.12-8.7v1.52A7.52 7.52 0 0 1 19.47 12ZM12 8.88V5.21a.5.5 0 0 0-.5-.5.48.48 0 0 0-.36.15L9.56 6.44 12 8.88ZM15.91 12a4.284 4.284 0 0 1-.07.72l1.22 1.22a5.2 5.2 0 0 0 .38-1.94 5.49 5.49 0 0 0-3.56-5.1v1.66A4 4 0 0 1 15.91 12Z"
        />
      </svg>
    </media-mute-button>
  </template>

  <template partial="RenditionSelect">
    <media-rendition-selectmenu part="bottom rendition selectmenu" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <media-rendition-button slot="button" part="bottom rendition button">
        <svg aria-hidden="true" slot="icon" viewBox="0 0 18 24">
          <path d="M2.25 14.5a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm6.75 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm6.75 0a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z"/>
        </svg>
      </media-rendition-button>
      <media-rendition-listbox slot="listbox" part="bottom rendition listbox">
        <div slot="header">Quality</div>
      </media-rendition-listbox>
    </media-rendition-selectmenu>
  </template>

  <template partial="AudioTrackSelect">
    <media-audio-track-selectmenu part="bottom audio-track selectmenu" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <media-audio-track-button slot="button" part="bottom audio-track button">
        <svg aria-hidden="true" slot="icon" viewBox="0 0 24 24">
          <path d="M12 20.5a8.5 8.5 0 1 0 0-17 8.5 8.5 0 0 0 0 17Zm0 1.5C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10Z"/>
          <path d="M7.25 9.75a.75.75 0 0 1 .75.75v3a.75.75 0 0 1-1.5 0v-3a.75.75 0 0 1 .75-.75Zm3-3a.75.75 0 0 1 .75.75v9a.75.75 0 0 1-1.5 0v-9a.75.75 0 0 1 .75-.75Zm3 2a.75.75 0 0 1 .75.75v5a.75.75 0 0 1-1.5 0v-5a.75.75 0 0 1 .75-.75Zm3-1a.75.75 0 0 1 .75.75v7a.75.75 0 0 1-1.5 0v-7a.75.75 0 0 1 .75-.75Z"/>
        </svg>
      </media-audio-track-button>
      <media-audio-track-listbox slot="listbox" part="bottom audio-track listbox">
        <div slot="header">Audio</div>
      </media-audio-track-listbox>
    </media-audio-track-selectmenu>
  </template>

  <template partial="CaptionsSelect">
    <media-captions-selectmenu part="bottom captions selectmenu" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <media-captions-button slot="button" part="bottom captions button">
        <svg aria-hidden="true" viewBox="0 0 26 24" slot="on">
          <path d="M22.832 5.68a2.58 2.58 0 0 0-2.3-2.5c-3.62-.24-11.44-.24-15.06 0a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c3.62.24 11.44.24 15.06 0a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-11.41 10.1a3.63 3.63 0 0 1-1.51.32 4.76 4.76 0 0 1-1.63-.27 4 4 0 0 1-1.28-.83 3.67 3.67 0 0 1-.84-1.26 4.23 4.23 0 0 1-.3-1.63 4.28 4.28 0 0 1 .3-1.64 3.53 3.53 0 0 1 .84-1.21 3.89 3.89 0 0 1 1.29-.8 4.76 4.76 0 0 1 1.63-.27 4.06 4.06 0 0 1 1.35.24c.225.091.44.205.64.34a2.7 2.7 0 0 1 .55.52l-1.27 1a1.79 1.79 0 0 0-.6-.46 2 2 0 0 0-.83-.16 2 2 0 0 0-1.56.69 2.35 2.35 0 0 0-.46.77 2.78 2.78 0 0 0-.16 1c-.009.34.046.68.16 1 .104.283.26.545.46.77.188.21.415.38.67.5a2 2 0 0 0 .84.18 1.87 1.87 0 0 0 .9-.21 1.78 1.78 0 0 0 .65-.6l1.38 1a2.88 2.88 0 0 1-1.22 1.01Zm7.52 0a3.63 3.63 0 0 1-1.51.32 4.76 4.76 0 0 1-1.63-.27 3.89 3.89 0 0 1-1.28-.83 3.55 3.55 0 0 1-.85-1.26 4.23 4.23 0 0 1-.3-1.63 4.28 4.28 0 0 1 .3-1.64 3.43 3.43 0 0 1 .85-1.25 3.75 3.75 0 0 1 1.28-.8 4.76 4.76 0 0 1 1.63-.27 4 4 0 0 1 1.35.24c.225.091.44.205.64.34.21.144.395.32.55.52l-1.27 1a1.79 1.79 0 0 0-.6-.46 2 2 0 0 0-.83-.16 2 2 0 0 0-1.56.69 2.352 2.352 0 0 0-.46.77 3.01 3.01 0 0 0-.16 1c-.003.34.05.678.16 1 .108.282.263.542.46.77.188.21.416.38.67.5a2 2 0 0 0 .84.18 1.87 1.87 0 0 0 .9-.21 1.78 1.78 0 0 0 .65-.6l1.38 1a2.82 2.82 0 0 1-1.21 1.05Z"/>
        </svg>
        <svg aria-hidden="true" viewBox="0 0 26 24" slot="off">
          <path d="M22.832 5.68a2.58 2.58 0 0 0-2.3-2.5c-1.81-.12-4.67-.18-7.53-.18-2.86 0-5.72.06-7.53.18a2.58 2.58 0 0 0-2.3 2.5c-.23 4.21-.23 8.43 0 12.64a2.58 2.58 0 0 0 2.3 2.5c1.81.12 4.67.18 7.53.18 2.86 0 5.72-.06 7.53-.18a2.58 2.58 0 0 0 2.3-2.5c.23-4.21.23-8.43 0-12.64Zm-1.49 12.53a1.11 1.11 0 0 1-.91 1.11c-1.67.11-4.45.18-7.43.18-2.98 0-5.76-.07-7.43-.18a1.11 1.11 0 0 1-.91-1.11c-.21-4.137-.21-8.283 0-12.42a1.11 1.11 0 0 1 .91-1.11c1.67-.11 4.43-.18 7.43-.18s5.76.07 7.43.18a1.11 1.11 0 0 1 .91 1.11c.21 4.137.21 8.283 0 12.42ZM10.843 14a1.55 1.55 0 0 1-.76.18 1.57 1.57 0 0 1-.71-.18 1.69 1.69 0 0 1-.57-.42 2.099 2.099 0 0 1-.38-.58 2.47 2.47 0 0 1 0-1.64 2 2 0 0 1 .39-.66 1.73 1.73 0 0 1 .58-.42c.23-.103.479-.158.73-.16.241-.004.48.044.7.14.199.088.373.222.51.39l1.08-.89a2.179 2.179 0 0 0-.47-.44 2.81 2.81 0 0 0-.54-.32 2.91 2.91 0 0 0-.58-.15 2.71 2.71 0 0 0-.56 0 4.08 4.08 0 0 0-1.38.15 3.27 3.27 0 0 0-1.09.67 3.14 3.14 0 0 0-.71 1.06 3.62 3.62 0 0 0-.26 1.39 3.57 3.57 0 0 0 .26 1.38 3 3 0 0 0 .71 1.06c.316.293.687.52 1.09.67.443.16.91.238 1.38.23a3.2 3.2 0 0 0 1.28-.27c.401-.183.747-.47 1-.83l-1.17-.88a1.42 1.42 0 0 1-.53.52Zm6.62 0a1.58 1.58 0 0 1-.76.18 1.54 1.54 0 0 1-.7-.18 1.69 1.69 0 0 1-.57-.42 2.12 2.12 0 0 1-.43-.58 2.29 2.29 0 0 1 .39-2.3 1.84 1.84 0 0 1 1.32-.58c.241-.003.48.045.7.14.199.088.373.222.51.39l1.08-.92a2.43 2.43 0 0 0-.47-.44 3.22 3.22 0 0 0-.53-.29 2.999 2.999 0 0 0-.57-.15 2.87 2.87 0 0 0-.57 0 4.06 4.06 0 0 0-1.36.15 3.17 3.17 0 0 0-1.09.67 3 3 0 0 0-.72 1.06 3.62 3.62 0 0 0-.25 1.39 3.57 3.57 0 0 0 .25 1.38c.16.402.405.764.72 1.06a3.17 3.17 0 0 0 1.09.67c.44.16.904.237 1.37.23.441 0 .877-.092 1.28-.27a2.45 2.45 0 0 0 1-.83l-1.15-.85a1.49 1.49 0 0 1-.54.49Z"/>
        </svg>
      </media-captions-button>
      <media-captions-listbox slot="listbox" part="bottom captions listbox"></media-captions-listbox>
    </media-captions-selectmenu>
  </template>

  <template partial="AirplayButton">
    <media-airplay-button part="bottom airplay button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg aria-hidden="true" viewBox="0 0 26 24" slot="airplay">
        <path
          d="M13.19 14.22a.25.25 0 0 0-.38 0l-5.46 6.37a.25.25 0 0 0 .19.41h10.92a.25.25 0 0 0 .19-.41l-5.46-6.37Z"
        />
        <path
          d="M22 3H4a1 1 0 0 0-1 1v13a1 1 0 0 0 1 1h2.94L8 16.75H4.25V4.25h17.5v12.5H18L19.06 18H22a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1Z"
        />
      </svg>
    </media-airplay-button>
  </template>

  <template partial="CastButton">
    <media-cast-button part="bottom cast button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg aria-hidden="true" viewBox="0 0 26 24" slot="enter">
        <path d="M3 15.5V17c2.206 0 4 1.794 4 4h1.5A5.5 5.5 0 0 0 3 15.5Zm0 3V21h2.5A2.5 2.5 0 0 0 3 18.5Z" />
        <path d="M3 12.5V14c3.86 0 7 3.14 7 7h1.5A8.5 8.5 0 0 0 3 12.5Z" />
        <path
          d="M22 3H4a1 1 0 0 0-1 1v6.984c.424 0 .84.035 1.25.086V4.25h17.5v15.5h-8.82c.051.41.086.826.086 1.25H22a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1Z"
        />
      </svg>
      <svg aria-hidden="true" viewBox="0 0 26 24" slot="exit">
        <path d="M3 15.5V17c2.206 0 4 1.794 4 4h1.5A5.5 5.5 0 0 0 3 15.5Zm0 3V21h2.5A2.5 2.5 0 0 0 3 18.5Z" />
        <path d="M3 12.5V14c3.86 0 7 3.14 7 7h1.5A8.5 8.5 0 0 0 3 12.5Z" />
        <path
          d="M22 3H4a1 1 0 0 0-1 1v6.984c.424 0 .84.035 1.25.086V4.25h17.5v15.5h-8.82c.051.41.086.826.086 1.25H22a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1Z"
        />
        <path d="M20.5 5.5h-15v5.811c3.52.906 6.283 3.67 7.189 7.19H20.5V5.5Z" />
      </svg>
    </media-cast-button>
  </template>

  <template partial="PipButton">
    <media-pip-button part="bottom pip button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg aria-hidden="true" viewBox="0 0 26 24" slot="enter">
        <path
          d="M22 3H4a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h6.75v-1.25h-6.5V4.25h17.5v6.5H23V4a1 1 0 0 0-1-1Zm0 10h-8a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1Zm-.5 6.5h-7v-5h7v5Z"
        />
      </svg>
      <svg aria-hidden="true" viewBox="0 0 26 24" slot="exit">
        <path
          d="M22 3H4a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h6.75v-1.25h-6.5V4.25h17.5v6.5H23V4a1 1 0 0 0-1-1Zm0 10h-8a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1Zm-.5 6.5h-7v-5h7v5Z"
        />
      </svg>
    </media-pip-button>
  </template>

  <template partial="FullscreenButton">
    <media-fullscreen-button part="bottom fullscreen button" disabled="{{disabled}}" aria-disabled="{{disabled}}">
      <svg aria-hidden="true" viewBox="0 0 24 24" slot="enter">
        <path
          d="M20.25 14.5a.76.76 0 0 0-.75.75v4.25h-4.25a.75.75 0 1 0 0 1.5h5a.76.76 0 0 0 .75-.75v-5a.76.76 0 0 0-.75-.75Zm0-11.5h-5a.76.76 0 0 0-.75.75.76.76 0 0 0 .75.75h4.25v4.25a.75.75 0 1 0 1.5 0v-5a.76.76 0 0 0-.75-.75ZM8.75 19.5H4.5v-4.25a.76.76 0 0 0-.75-.75.76.76 0 0 0-.75.75v5a.76.76 0 0 0 .75.75h5a.75.75 0 1 0 0-1.5Zm0-16.5h-5a.76.76 0 0 0-.75.75v5a.76.76 0 0 0 .75.75.76.76 0 0 0 .75-.75V4.5h4.25a.76.76 0 0 0 .75-.75.76.76 0 0 0-.75-.75Z"
        />
      </svg>
      <svg aria-hidden="true" viewBox="0 0 24 24" slot="exit">
        <path
          d="M20.25 14.5h-5a.76.76 0 0 0-.75.75v5a.75.75 0 1 0 1.5 0V16h4.25a.75.75 0 1 0 0-1.5Zm-5-5h5a.75.75 0 1 0 0-1.5H16V3.75a.75.75 0 1 0-1.5 0v5a.76.76 0 0 0 .75.75Zm-6.5 5h-5a.75.75 0 1 0 0 1.5H8v4.25a.75.75 0 1 0 1.5 0v-5a.76.76 0 0 0-.75-.75Zm0-11.5a.76.76 0 0 0-.75.75V8H3.75a.75.75 0 0 0 0 1.5h5a.76.76 0 0 0 .75-.75v-5A.76.76 0 0 0 8.75 3Z"
        />
      </svg>
    </media-fullscreen-button>
  </template>

  <template partial="LiveButton">
    <media-live-button
      part="{{section ?? 'top'}} live button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-live-button>
  </template>

  <template partial="PlaybackRateButton">
    <media-playback-rate-button
      rates="{{playbackrates}}"
      part="bottom playback-rate button"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-playback-rate-button>
  </template>

  <template partial="VolumeRange">
    <media-volume-range
      part="bottom volume range"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-volume-range>
  </template>

  <template partial="TimeDisplay">
    <media-time-display
      remaining="{{defaultshowremainingtime}}"
      showduration="{{!hideduration}}"
      part="bottom time display"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-time-display>
  </template>

  <template partial="TimeRange">
    <media-time-range
      part="bottom time range"
      disabled="{{disabled}}"
      aria-disabled="{{disabled}}"
    ></media-time-range>
  </template>

  <media-controller
    part="controller"
    defaultstreamtype="{{defaultstreamtype ?? 'on-demand'}}"
    breakpoints="sm:300 md:700"
    gesturesdisabled="{{disabled}}"
    hotkeys="{{hotkeys}}"
    nohotkeys="{{nohotkeys}}"
    novolumepref="{{novolumepref}}"
    audio="{{audio}}"
    noautoseektolive="{{noautoseektolive}}"
    defaultsubtitles="{{defaultsubtitles}}"
    exportparts="layer, media-layer, poster-layer, vertical-layer, centered-layer, gesture-layer"
  >
    <slot name="media" slot="media"></slot>
    <slot name="poster" slot="poster"></slot>
    <media-loading-indicator slot="centered-chrome" noautohide></media-loading-indicator>

    <template if="audio">

      <template if="streamtype == 'on-demand'">
        <template if="title">
          <media-control-bar part="control-bar top">{{>TitleDisplay}}</media-control-bar>
        </template>
        <media-control-bar part="control-bar bottom">
          {{>PlayButton}}
          {{>SeekBackwardButton}}
          {{>SeekForwardButton}}
          {{>TimeDisplay}}
          {{>TimeRange}}
          {{>MuteButton}}
          {{>VolumeRange}}
          {{>PlaybackRateButton}}
          {{>AudioTrackSelect}}
          {{>AirplayButton}}
          {{>CastButton}}
        </media-control-bar>
      </template>

      <template if="streamtype == 'live'">

        <template if="targetlivewindow > 0">
          <template if="title">
            <media-control-bar part="control-bar top">{{>TitleDisplay}}</media-control-bar>
          </template>
          <media-control-bar part="control-bar bottom">
            {{>PlayButton}}
            {{>LiveButton section="bottom"}}
            {{>SeekBackwardButton}}
            {{>SeekForwardButton}}
            {{>TimeDisplay}}
            {{>TimeRange}}
            {{>MuteButton}}
            {{>VolumeRange}}
            {{>PlaybackRateButton}}
            {{>AudioTrackSelect}}
            {{>AirplayButton}}
            {{>CastButton}}
          </media-control-bar>
        </template>

        <template if="!targetlivewindow">
          <template if="title">
            <media-control-bar part="control-bar top">{{>TitleDisplay}}</media-control-bar>
          </template>
          <media-control-bar part="control-bar bottom">
            {{>PlayButton}}
            {{>LiveButton section="bottom"}}
            {{>MuteButton}}
            {{>VolumeRange}}
            <div class="spacer"></div>
            {{>AudioTrackSelect}}
            {{>AirplayButton}}
            {{>CastButton}}
          </media-control-bar>
        </template>

      </template>
    </template>

    <template if="!audio">

      <template if="streamtype == 'on-demand'">

        <template if="!breakpointsm">
          {{>TimeRange}}
          <media-control-bar part="control-bar bottom">
            {{>PlayButton}}
            {{>MuteButton}}
            <div class="spacer"></div>
            {{>CaptionsSelect}}
            {{>FullscreenButton}}
          </media-control-bar>
        </template>

        <template if="breakpointsm">
          <template if="!breakpointmd">
            <media-control-bar part="control-bar top" slot="top-chrome">
              {{>TitleDisplay}}
            </media-control-bar>
            <div slot="centered-chrome" class="center-controls">
              {{>SeekBackwardButton section="center"}}
              {{>PlayButton section="center"}}
              {{>SeekForwardButton section="center"}}
            </div>
            {{>TimeRange}}
            <media-control-bar part="control-bar bottom">
              {{>PlayButton}}
              {{>TimeDisplay}}
              {{>MuteButton}}
              {{>VolumeRange}}
              <div class="spacer"></div>
              {{>RenditionSelect}}
              {{>PlaybackRateButton}}
              {{>AudioTrackSelect}}
              {{>CaptionsSelect}}
              {{>AirplayButton}}
              {{>CastButton}}
              {{>PipButton}}
              {{>FullscreenButton}}
            </media-control-bar>
          </template>
        </template>

        <template if="breakpointmd">
          <media-control-bar part="control-bar top" slot="top-chrome">
            {{>TitleDisplay}}
          </media-control-bar>
          <div slot="centered-chrome" class="center-controls">
            {{>PlayButton section="center"}}
          </div>
          {{>TimeRange}}
          <media-control-bar part="control-bar bottom">
            {{>PlayButton}}
            {{>SeekBackwardButton}}
            {{>SeekForwardButton}}
            {{>TimeDisplay}}
            {{>MuteButton}}
            {{>VolumeRange}}
            <div class="spacer"></div>
            {{>RenditionSelect}}
            {{>PlaybackRateButton}}
            {{>AudioTrackSelect}}
            {{>CaptionsSelect}}
            {{>AirplayButton}}
            {{>CastButton}}
            {{>PipButton}}
            {{>FullscreenButton}}
          </media-control-bar>
        </template>

      </template>

      <template if="streamtype == 'live'">

        <template if="!targetlivewindow">

          <template if="!breakpointsm">
            <media-control-bar part="control-bar top" slot="top-chrome">
              {{>LiveButton}}
            </media-control-bar>
            <media-control-bar part="control-bar bottom">
              {{>PlayButton}}
              {{>MuteButton}}
              <div class="spacer"></div>
              {{>CaptionsSelect}}
              {{>FullscreenButton}}
            </media-control-bar>
          </template>

          <template if="breakpointsm">
            <template if="!breakpointmd">
              <media-control-bar part="control-bar top" slot="top-chrome">
                {{>LiveButton}}
                {{>TitleDisplay}}
              </media-control-bar>
              <div slot="centered-chrome" class="center-controls">
                {{>PlayButton section="center"}}
              </div>
              <media-control-bar part="control-bar bottom">
                {{>PlayButton}}
                {{>MuteButton}}
                {{>VolumeRange}}
                <div class="spacer"></div>
                {{>RenditionSelect}}
                {{>AudioTrackSelect}}
                {{>CaptionsSelect}}
                {{>AirplayButton}}
                {{>CastButton}}
                {{>PipButton}}
                {{>FullscreenButton}}
              </media-control-bar>
            </template>
          </template>

          <template if="breakpointmd">
            <media-control-bar part="control-bar top" slot="top-chrome">
              {{>LiveButton}}
              {{>TitleDisplay}}
            </media-control-bar>
            <div slot="centered-chrome" class="center-controls">
              {{>PlayButton section="center"}}
            </div>
            <media-control-bar part="control-bar bottom">
              {{>PlayButton}}
              {{>MuteButton}}
              {{>VolumeRange}}
              <div class="spacer"></div>
              {{>RenditionSelect}}
              {{>AudioTrackSelect}}
              {{>CaptionsSelect}}
              {{>AirplayButton}}
              {{>CastButton}}
              {{>PipButton}}
              {{>FullscreenButton}}
            </media-control-bar>
          </template>
        </template>

        <template if="targetlivewindow > 0">

          <template if="!breakpointsm">
            <media-control-bar part="control-bar top" slot="top-chrome">
              {{>LiveButton}}
            </media-control-bar>
            {{>TimeRange}}
            <media-control-bar part="control-bar bottom">
              {{>PlayButton}}
              {{>MuteButton}}
              <div class="spacer"></div>
              {{>CaptionsSelect}}
              {{>FullscreenButton}}
            </media-control-bar>
          </template>

          <template if="breakpointsm">
            <template if="!breakpointmd">
              <media-control-bar part="control-bar top" slot="top-chrome">
                {{>LiveButton}}
                {{>TitleDisplay}}
              </media-control-bar>
              <div slot="centered-chrome" class="center-controls">
                {{>SeekBackwardButton section="center"}}
                {{>PlayButton section="center"}}
                {{>SeekForwardButton section="center"}}
              </div>
              {{>TimeRange}}
              <media-control-bar part="control-bar bottom">
                {{>PlayButton}}
                {{>MuteButton}}
                {{>VolumeRange}}
                <div class="spacer"></div>
                {{>RenditionSelect}}
                {{>AudioTrackSelect}}
                {{>CaptionsSelect}}
                {{>AirplayButton}}
                {{>CastButton}}
                {{>PipButton}}
                {{>FullscreenButton}}
              </media-control-bar>
            </template>
          </template>

          <template if="breakpointmd">
            <media-control-bar part="control-bar top" slot="top-chrome">
              {{>LiveButton}}
              {{>TitleDisplay}}
            </media-control-bar>
            <div slot="centered-chrome" class="center-controls">
              {{>PlayButton section="center"}}
            </div>
            {{>TimeRange}}
            <media-control-bar part="control-bar bottom">
              {{>PlayButton}}
              {{>SeekBackwardButton}}
              {{>SeekForwardButton}}
              {{>MuteButton}}
              {{>VolumeRange}}
              <div class="spacer"></div>
              {{>RenditionSelect}}
              {{>AudioTrackSelect}}
              {{>CaptionsSelect}}
              {{>AirplayButton}}
              {{>CastButton}}
              {{>PipButton}}
              {{>FullscreenButton}}
            </media-control-bar>
          </template>

        </template>

      </template>

    </template>

    <slot></slot>

  </media-controller>
</template>
`,KX=ty.createElement("template");"innerHTML"in KX&&(KX.innerHTML=tDr);var hFe,pFe,Fct=class extends yR{};Fct.template=(pFe=(hFe=KX.content)==null?void 0:hFe.children)==null?void 0:pFe[0];vl.customElements.get("media-theme-classic")||vl.customElements.define("media-theme-classic",Fct);var nDr="classic",Hm={SRC:"src",POSTER:"poster"},qt={STYLE:"style",DEFAULT_HIDDEN_CAPTIONS:"default-hidden-captions",PRIMARY_COLOR:"primary-color",SECONDARY_COLOR:"secondary-color",FORWARD_SEEK_OFFSET:"forward-seek-offset",BACKWARD_SEEK_OFFSET:"backward-seek-offset",PLAYBACK_TOKEN:"playback-token",THUMBNAIL_TOKEN:"thumbnail-token",STORYBOARD_TOKEN:"storyboard-token",STORYBOARD_SRC:"storyboard-src",THUMBNAIL_TIME:"thumbnail-time",AUDIO:"audio",NOHOTKEYS:"nohotkeys",HOTKEYS:"hotkeys",PLAYBACK_RATES:"playbackrates",DEFAULT_SHOW_REMAINING_TIME:"default-show-remaining-time",TITLE:"title",PLACEHOLDER:"placeholder",THEME:"theme",DEFAULT_STREAM_TYPE:"default-stream-type",TARGET_LIVE_WINDOW:"target-live-window",NO_VOLUME_PREF:"no-volume-pref"},YX=["audio","backwardseekoffset","defaultshowremainingtime","defaultsubtitles","noautoseektolive","disabled","exportparts","forwardseekoffset","hideduration","hotkeys","nohotkeys","playbackrates","defaultstreamtype","streamtype","style","targetlivewindow","template","title","novolumepref"];function rDr(n,e){var r;return{src:!n.playbackId&&n.src,playbackId:n.playbackId,hasSrc:!!n.playbackId||!!n.src,poster:n.poster,storyboard:n.storyboard,storyboardSrc:n.getAttribute(qt.STORYBOARD_SRC),placeholder:n.getAttribute("placeholder"),themeTemplate:iDr(n),thumbnailTime:!n.tokens.thumbnail&&n.thumbnailTime,autoplay:n.autoplay,crossOrigin:n.crossOrigin,loop:n.loop,noHotKeys:n.hasAttribute(qt.NOHOTKEYS),hotKeys:n.getAttribute(qt.HOTKEYS),muted:n.muted,paused:n.paused,preload:n.preload,envKey:n.envKey,preferCmcd:n.preferCmcd,debug:n.debug,disableCookies:n.disableCookies,tokens:n.tokens,beaconCollectionDomain:n.beaconCollectionDomain,maxResolution:n.maxResolution,metadata:n.metadata,playerSoftwareName:n.playerSoftwareName,playerSoftwareVersion:n.playerSoftwareVersion,startTime:n.startTime,preferPlayback:n.preferPlayback,audio:n.audio,defaultStreamType:n.defaultStreamType,targetLiveWindow:n.getAttribute(xt.TARGET_LIVE_WINDOW),streamType:Vae(n.getAttribute(xt.STREAM_TYPE)),primaryColor:n.primaryColor,secondaryColor:n.secondaryColor,forwardSeekOffset:n.forwardSeekOffset,backwardSeekOffset:n.backwardSeekOffset,defaultHiddenCaptions:n.defaultHiddenCaptions,defaultShowRemainingTime:n.defaultShowRemainingTime,hideDuration:oDr(n),playbackRates:n.getAttribute(qt.PLAYBACK_RATES),customDomain:(r=n.getAttribute(xt.CUSTOM_DOMAIN))!=null?r:void 0,title:n.getAttribute(qt.TITLE),novolumepref:n.hasAttribute(qt.NO_VOLUME_PREF),...e}}function iDr(n){var e,r;let i=n.theme;if(i){let o=(r=(e=n.getRootNode())==null?void 0:e.getElementById)==null?void 0:r.call(e,i);if(o&&o instanceof HTMLTemplateElement)return o;i.startsWith("media-theme-")||(i=`media-theme-${i}`);let s=vl.customElements.get(i);if(s!=null&&s.template)return s.template}}function oDr(n){var e;let r=(e=n.mediaController)==null?void 0:e.querySelector("media-time-display");return r&&getComputedStyle(r).getPropertyValue("--media-duration-display-display").trim()==="none"}function mFe(n){let e=n.hasAttribute(qt.TITLE)?{video_title:n.getAttribute(qt.TITLE)}:{};return n.getAttributeNames().filter(r=>r.startsWith("metadata-")).reduce((r,i)=>{let o=n.getAttribute(i);return o!==null&&(r[i.replace(/^metadata-/,"").replace(/-/g,"_")]=o),r},e)}var sDr=Object.values(xt),aDr=Object.values(Hm),lDr=Object.values(qt),cDr=Act(),uDr="mux-player",gFe={dialog:void 0,isDialogOpen:!1},uM,dM,Qv,fM,xC,db,iE,ZX,Nct,L4,XX,xb,oE,QX,vFe,JX,yFe,eQ,bFe,tQ,xFe,wFe=class extends cFe{constructor(){super(),tl(this,db),tl(this,ZX),tl(this,L4),tl(this,xb),tl(this,QX),tl(this,JX),tl(this,eQ),tl(this,tQ),tl(this,uM,!1),tl(this,dM,{}),tl(this,Qv,!0),tl(this,fM,new jIr(this,"hotkeys")),tl(this,xC,{...gFe,onCloseErrorDialog:()=>al(this,L4,XX).call(this,{dialog:void 0,isDialogOpen:!1}),onInitFocusDialog:n=>{Tct(this,ty.activeElement)||n.preventDefault()}}),this.attachShadow({mode:"open"}),al(this,ZX,Nct).call(this),this.isConnected&&al(this,db,iE).call(this)}static get observedAttributes(){var n;return[...(n=cFe.observedAttributes)!=null?n:[],...aDr,...sDr,...lDr]}get mediaTheme(){var n;return(n=this.shadowRoot)==null?void 0:n.querySelector("media-theme")}get mediaController(){var n,e;return(e=(n=this.mediaTheme)==null?void 0:n.shadowRoot)==null?void 0:e.querySelector("media-controller")}connectedCallback(){var n;let e=(n=this.shadowRoot)==null?void 0:n.querySelector("mux-video");e&&(e.metadata=mFe(this))}attributeChangedCallback(n,e,r){switch(al(this,db,iE).call(this),super.attributeChangedCallback(n,e,r),n){case qt.HOTKEYS:Fi(this,fM).value=r;break;case qt.THUMBNAIL_TIME:{r!=null&&this.tokens.thumbnail&&Bb(qr("Use of thumbnail-time with thumbnail-token is currently unsupported. Ignore thumbnail-time.").format({}));break}case qt.THUMBNAIL_TOKEN:{let{aud:i}=SI(r);r&&i!=="t"&&Bb(qr("The provided thumbnail-token should have audience value 't' instead of '{aud}'.").format({aud:i}));break}case qt.STORYBOARD_TOKEN:{let{aud:i}=SI(r);r&&i!=="s"&&Bb(qr("The provided storyboard-token should have audience value 's' instead of '{aud}'.").format({aud:i}));break}case xt.PLAYBACK_ID:{r!=null&&r.includes("?token")&&tg(qr("The specificed playback ID {playbackId} contains a token which must be provided via the playback-token attribute.").format({playbackId:r}));break}case xt.STREAM_TYPE:r&&![Ss.LIVE,Ss.ON_DEMAND,Ss.UNKNOWN].includes(r)?["ll-live","live:dvr","ll-live:dvr"].includes(this.streamType)?this.targetLiveWindow=r.includes("dvr")?Number.POSITIVE_INFINITY:0:Dct({file:"invalid-stream-type.md",message:qr("Invalid stream-type value supplied: `{streamType}`. Please provide stream-type as either: `on-demand` or `live`").format({streamType:this.streamType})}):this.targetLiveWindow=r===Ss.LIVE?0:Number.NaN}[xt.PLAYBACK_ID,Hm.SRC,qt.PLAYBACK_TOKEN].includes(n)&&e!==r&&_g(this,xC,{...Fi(this,xC),...gFe}),al(this,xb,oE).call(this,{[PIr(n)]:r})}get preferCmcd(){var n;return(n=this.getAttribute(xt.PREFER_CMCD))!=null?n:void 0}set preferCmcd(n){n!==this.preferCmcd&&(n?P4.includes(n)?this.setAttribute(xt.PREFER_CMCD,n):Bb(`Invalid value for preferCmcd. Must be one of ${P4.join()}`):this.removeAttribute(xt.PREFER_CMCD))}get hasPlayed(){var n,e;return(e=(n=this.mediaController)==null?void 0:n.hasAttribute("media-has-played"))!=null?e:!1}get inLiveWindow(){var n;return(n=this.mediaController)==null?void 0:n.hasAttribute("media-time-is-live")}get _hls(){var n;return(n=this.media)==null?void 0:n._hls}get mux(){var n;return(n=this.media)==null?void 0:n.mux}get theme(){var n;return(n=this.getAttribute(qt.THEME))!=null?n:nDr}set theme(n){this.setAttribute(qt.THEME,`${n}`)}get themeProps(){let n=this.mediaTheme;if(!n)return;let e={};for(let r of n.getAttributeNames()){if(YX.includes(r))continue;let i=n.getAttribute(r);e[kct(r)]=i===""?!0:i}return e}set themeProps(n){var e,r;al(this,db,iE).call(this);let i={...this.themeProps,...n};for(let o in i){if(YX.includes(o))continue;let s=n==null?void 0:n[o];typeof s=="boolean"||s==null?(e=this.mediaTheme)==null||e.toggleAttribute(WX(o),!!s):(r=this.mediaTheme)==null||r.setAttribute(WX(o),s)}}get playbackId(){var n;return(n=this.getAttribute(xt.PLAYBACK_ID))!=null?n:void 0}set playbackId(n){n?this.setAttribute(xt.PLAYBACK_ID,n):this.removeAttribute(xt.PLAYBACK_ID)}get src(){var n,e;return this.playbackId?(n=v_(this,Hm.SRC))!=null?n:void 0:(e=this.getAttribute(Hm.SRC))!=null?e:void 0}set src(n){n?this.setAttribute(Hm.SRC,n):this.removeAttribute(Hm.SRC)}get poster(){var n;let e=this.getAttribute(Hm.POSTER);if(e!=null)return e;if(this.playbackId&&!this.audio)return DIr(this.playbackId,{domain:this.customDomain,thumbnailTime:(n=this.thumbnailTime)!=null?n:this.startTime,token:this.tokens.thumbnail})}set poster(n){n||n===""?this.setAttribute(Hm.POSTER,n):this.removeAttribute(Hm.POSTER)}get storyboardSrc(){var n;return(n=this.getAttribute(qt.STORYBOARD_SRC))!=null?n:void 0}set storyboardSrc(n){n?this.setAttribute(qt.STORYBOARD_SRC,n):this.removeAttribute(qt.STORYBOARD_SRC)}get storyboard(){if(this.storyboardSrc&&!this.tokens.storyboard)return this.storyboardSrc;if(!(this.audio||!this.playbackId||!this.streamType||[Ss.LIVE,Ss.UNKNOWN].includes(this.streamType)))return RIr(this.playbackId,{domain:this.customDomain,token:this.tokens.storyboard})}get audio(){return this.hasAttribute(qt.AUDIO)}set audio(n){if(!n){this.removeAttribute(qt.AUDIO);return}this.setAttribute(qt.AUDIO,"")}get hotkeys(){return Fi(this,fM)}get nohotkeys(){return this.hasAttribute(qt.NOHOTKEYS)}set nohotkeys(n){if(!n){this.removeAttribute(qt.NOHOTKEYS);return}this.setAttribute(qt.NOHOTKEYS,"")}get thumbnailTime(){return Nb(this.getAttribute(qt.THUMBNAIL_TIME))}set thumbnailTime(n){this.setAttribute(qt.THUMBNAIL_TIME,`${n}`)}get title(){var n;return(n=this.getAttribute(qt.TITLE))!=null?n:""}set title(n){n!==this.title&&(n?this.setAttribute(qt.TITLE,n):this.removeAttribute("title"),super.title=n)}get placeholder(){var n;return(n=v_(this,qt.PLACEHOLDER))!=null?n:""}set placeholder(n){this.setAttribute(qt.PLACEHOLDER,`${n}`)}get primaryColor(){var n,e;let r=this.getAttribute(qt.PRIMARY_COLOR);if(r!=null||this.mediaTheme&&(r=(e=(n=vl.getComputedStyle(this.mediaTheme))==null?void 0:n.getPropertyValue("--_primary-color"))==null?void 0:e.trim(),r))return r}set primaryColor(n){this.setAttribute(qt.PRIMARY_COLOR,`${n}`)}get secondaryColor(){var n,e;let r=this.getAttribute(qt.SECONDARY_COLOR);if(r!=null||this.mediaTheme&&(r=(e=(n=vl.getComputedStyle(this.mediaTheme))==null?void 0:n.getPropertyValue("--_secondary-color"))==null?void 0:e.trim(),r))return r}set secondaryColor(n){this.setAttribute(qt.SECONDARY_COLOR,`${n}`)}get defaultShowRemainingTime(){return this.hasAttribute(qt.DEFAULT_SHOW_REMAINING_TIME)}set defaultShowRemainingTime(n){n?this.setAttribute(qt.DEFAULT_SHOW_REMAINING_TIME,""):this.removeAttribute(qt.DEFAULT_SHOW_REMAINING_TIME)}get playbackRates(){if(this.hasAttribute(qt.PLAYBACK_RATES))return this.getAttribute(qt.PLAYBACK_RATES).trim().split(/\s*,?\s+/).map(n=>Number(n)).filter(n=>!Number.isNaN(n)).sort((n,e)=>n-e)}set playbackRates(n){if(!n){this.removeAttribute(qt.PLAYBACK_RATES);return}this.setAttribute(qt.PLAYBACK_RATES,n.join(" "))}get forwardSeekOffset(){var n;return(n=Nb(this.getAttribute(qt.FORWARD_SEEK_OFFSET)))!=null?n:10}set forwardSeekOffset(n){this.setAttribute(qt.FORWARD_SEEK_OFFSET,`${n}`)}get backwardSeekOffset(){var n;return(n=Nb(this.getAttribute(qt.BACKWARD_SEEK_OFFSET)))!=null?n:10}set backwardSeekOffset(n){this.setAttribute(qt.BACKWARD_SEEK_OFFSET,`${n}`)}get defaultHiddenCaptions(){return this.hasAttribute(qt.DEFAULT_HIDDEN_CAPTIONS)}set defaultHiddenCaptions(n){n?this.setAttribute(qt.DEFAULT_HIDDEN_CAPTIONS,""):this.removeAttribute(qt.DEFAULT_HIDDEN_CAPTIONS)}get playerSoftwareName(){var n;return(n=this.getAttribute(xt.PLAYER_SOFTWARE_NAME))!=null?n:uDr}get playerSoftwareVersion(){var n;return(n=this.getAttribute(xt.PLAYER_SOFTWARE_VERSION))!=null?n:cDr}get beaconCollectionDomain(){var n;return(n=this.getAttribute(xt.BEACON_COLLECTION_DOMAIN))!=null?n:void 0}set beaconCollectionDomain(n){n!==this.beaconCollectionDomain&&(n?this.setAttribute(xt.BEACON_COLLECTION_DOMAIN,n):this.removeAttribute(xt.BEACON_COLLECTION_DOMAIN))}get maxResolution(){var n;return(n=this.getAttribute(xt.MAX_RESOLUTION))!=null?n:void 0}set maxResolution(n){n!==this.maxResolution&&(n?this.setAttribute(xt.MAX_RESOLUTION,n):this.removeAttribute(xt.MAX_RESOLUTION))}get customDomain(){var n;return(n=this.getAttribute(xt.CUSTOM_DOMAIN))!=null?n:void 0}set customDomain(n){n!==this.customDomain&&(n?this.setAttribute(xt.CUSTOM_DOMAIN,n):this.removeAttribute(xt.CUSTOM_DOMAIN))}get envKey(){var n;return(n=v_(this,xt.ENV_KEY))!=null?n:void 0}set envKey(n){this.setAttribute(xt.ENV_KEY,`${n}`)}get noVolumePref(){return this.hasAttribute(qt.NO_VOLUME_PREF)}set noVolumePref(n){n?this.setAttribute(qt.NO_VOLUME_PREF,""):this.removeAttribute(qt.NO_VOLUME_PREF)}get debug(){return v_(this,xt.DEBUG)!=null}set debug(n){n?this.setAttribute(xt.DEBUG,""):this.removeAttribute(xt.DEBUG)}get disableCookies(){return v_(this,xt.DISABLE_COOKIES)!=null}set disableCookies(n){n?this.setAttribute(xt.DISABLE_COOKIES,""):this.removeAttribute(xt.DISABLE_COOKIES)}get streamType(){var n,e,r;return(r=(e=this.getAttribute(xt.STREAM_TYPE))!=null?e:(n=this.media)==null?void 0:n.streamType)!=null?r:Ss.UNKNOWN}set streamType(n){this.setAttribute(xt.STREAM_TYPE,`${n}`)}get defaultStreamType(){var n,e,r;return(r=(e=this.getAttribute(qt.DEFAULT_STREAM_TYPE))!=null?e:(n=this.mediaController)==null?void 0:n.getAttribute(qt.DEFAULT_STREAM_TYPE))!=null?r:Ss.ON_DEMAND}set defaultStreamType(n){n?this.setAttribute(qt.DEFAULT_STREAM_TYPE,n):this.removeAttribute(qt.DEFAULT_STREAM_TYPE)}get targetLiveWindow(){var n,e;return this.hasAttribute(qt.TARGET_LIVE_WINDOW)?+this.getAttribute(qt.TARGET_LIVE_WINDOW):(e=(n=this.media)==null?void 0:n.targetLiveWindow)!=null?e:Number.NaN}set targetLiveWindow(n){n!=this.targetLiveWindow&&(n==null?this.removeAttribute(qt.TARGET_LIVE_WINDOW):this.setAttribute(qt.TARGET_LIVE_WINDOW,`${+n}`))}get liveEdgeStart(){var n;return(n=this.media)==null?void 0:n.liveEdgeStart}get startTime(){return Nb(v_(this,xt.START_TIME))}set startTime(n){this.setAttribute(xt.START_TIME,`${n}`)}get preferPlayback(){let n=this.getAttribute(xt.PREFER_PLAYBACK);if(n===Dp.MSE||n===Dp.NATIVE)return n}set preferPlayback(n){n!==this.preferPlayback&&(n===Dp.MSE||n===Dp.NATIVE?this.setAttribute(xt.PREFER_PLAYBACK,n):this.removeAttribute(xt.PREFER_PLAYBACK))}get metadata(){var n;return(n=this.media)==null?void 0:n.metadata}set metadata(n){if(al(this,db,iE).call(this),!this.media){tg("underlying media element missing when trying to set metadata. metadata will not be set.");return}this.media.metadata={...mFe(this),...n}}async addCuePoints(n){var e;if(al(this,db,iE).call(this),!this.media){tg("underlying media element missing when trying to addCuePoints. cuePoints will not be added.");return}return(e=this.media)==null?void 0:e.addCuePoints(n)}get activeCuePoint(){var n;return(n=this.media)==null?void 0:n.activeCuePoint}get cuePoints(){var n,e;return(e=(n=this.media)==null?void 0:n.cuePoints)!=null?e:[]}getStartDate(){var n;return(n=this.media)==null?void 0:n.getStartDate()}get currentPdt(){var n;return(n=this.media)==null?void 0:n.currentPdt}get tokens(){let n=this.getAttribute(qt.PLAYBACK_TOKEN),e=this.getAttribute(qt.THUMBNAIL_TOKEN),r=this.getAttribute(qt.STORYBOARD_TOKEN);return{...Fi(this,dM),...n!=null?{playback:n}:{},...e!=null?{thumbnail:e}:{},...r!=null?{storyboard:r}:{}}}set tokens(n){_g(this,dM,n??{})}get playbackToken(){var n;return(n=this.getAttribute(qt.PLAYBACK_TOKEN))!=null?n:void 0}set playbackToken(n){this.setAttribute(qt.PLAYBACK_TOKEN,`${n}`)}get thumbnailToken(){var n;return(n=this.getAttribute(qt.THUMBNAIL_TOKEN))!=null?n:void 0}set thumbnailToken(n){this.setAttribute(qt.THUMBNAIL_TOKEN,`${n}`)}get storyboardToken(){var n;return(n=this.getAttribute(qt.STORYBOARD_TOKEN))!=null?n:void 0}set storyboardToken(n){this.setAttribute(qt.STORYBOARD_TOKEN,`${n}`)}addTextTrack(n,e,r,i){var o;let s=(o=this.media)==null?void 0:o.nativeEl;if(s)return Dae(s,n,e,r,i)}removeTextTrack(n){var e;let r=(e=this.media)==null?void 0:e.nativeEl;if(r)return JAr(r,n)}get textTracks(){var n;return(n=this.media)==null?void 0:n.textTracks}};uM=new WeakMap,dM=new WeakMap,Qv=new WeakMap,fM=new WeakMap,xC=new WeakMap,db=new WeakSet,iE=function(){var n,e,r;if(!Fi(this,uM)){_g(this,uM,!0),al(this,xb,oE).call(this);try{if(customElements.upgrade(this.mediaTheme),!(this.mediaTheme instanceof vl.HTMLElement))throw""}catch{tg("<media-theme> failed to upgrade!")}try{if(customElements.upgrade(this.media),!(this.media instanceof iIr))throw""}catch{tg("<mux-video> failed to upgrade!")}try{if(customElements.upgrade(this.mediaController),!(this.mediaController instanceof ZCr))throw""}catch{tg("<media-controller> failed to upgrade!")}FIr(this),al(this,QX,vFe).call(this),al(this,JX,yFe).call(this),al(this,eQ,bFe).call(this),_g(this,Qv,(e=(n=this.mediaController)==null?void 0:n.hasAttribute("userinactive"))!=null?e:!0),al(this,tQ,xFe).call(this),(r=this.media)==null||r.addEventListener("streamtypechange",()=>{al(this,xb,oE).call(this)})}},ZX=new WeakSet,Nct=function(){var n,e;try{(n=window==null?void 0:window.CSS)==null||n.registerProperty({name:"--media-primary-color",syntax:"<color>",inherits:!0}),(e=window==null?void 0:window.CSS)==null||e.registerProperty({name:"--media-secondary-color",syntax:"<color>",inherits:!0})}catch{}},L4=new WeakSet,XX=function(n){Object.assign(Fi(this,xC),n),al(this,xb,oE).call(this)},xb=new WeakSet,oE=function(n={}){XIr(QIr(rDr(this,{...Fi(this,xC),...n})),this.shadowRoot)},QX=new WeakSet,vFe=function(){let n=e=>{var r,i;if(!(e!=null&&e.startsWith("theme-")))return;let o=e.replace(/^theme-/,"");if(YX.includes(o))return;let s=this.getAttribute(e);s!=null?(r=this.mediaTheme)==null||r.setAttribute(o,s):(i=this.mediaTheme)==null||i.removeAttribute(o)};new MutationObserver(e=>{for(let{attributeName:r}of e)n(r)}).observe(this,{attributes:!0}),this.getAttributeNames().forEach(n)},JX=new WeakSet,yFe=function(){var n;let e=r=>{let{detail:i}=r;if(i instanceof Ns||(i=new Ns(i.message,i.code,i.fatal)),!(i!=null&&i.fatal)){Bb(i),i.data&&Bb(`${i.name} data:`,i.data);return}let{dialog:o,devlog:s}=qX(i,!window.navigator.onLine,this.playbackId,this.playbackToken);s.message&&Dct(s),tg(i),i.data&&tg(`${i.name} data:`,i.data),al(this,L4,XX).call(this,{isDialogOpen:!0,dialog:o})};this.addEventListener("error",e),this.media&&(this.media.errorTranslator=(r={})=>{var i,o,s;if(!(((i=this.media)==null?void 0:i.error)instanceof Ns))return r;let{devlog:a}=qX((o=this.media)==null?void 0:o.error,!window.navigator.onLine,this.playbackId,this.playbackToken,!1);return{player_error_code:(s=this.media)==null?void 0:s.error.code,player_error_message:a.message?String(a.message):r.player_error_message,player_error_context:a.context?String(a.context):r.player_error_context}}),(n=this.media)==null||n.addEventListener("error",r=>{var i,o;let{detail:s}=r;if(!s){let{message:a,code:l}=(o=(i=this.media)==null?void 0:i.error)!=null?o:{};s=new Ns(a,l)}!(s!=null&&s.fatal)||this.dispatchEvent(new CustomEvent("error",{detail:s}))})},eQ=new WeakSet,bFe=function(){var n,e,r,i;let o=()=>al(this,xb,oE).call(this);(e=(n=this.media)==null?void 0:n.textTracks)==null||e.addEventListener("addtrack",o),(i=(r=this.media)==null?void 0:r.textTracks)==null||i.addEventListener("removetrack",o)},tQ=new WeakSet,xFe=function(){var n,e;let r=/.*Version\/.*Safari\/.*/.test(navigator.userAgent);if(!/Firefox/i.test(navigator.userAgent))return;let i,o=new WeakMap,s=()=>this.streamType===Ss.LIVE&&!this.secondaryColor&&this.offsetWidth>=800,a=(u,f,h=!1)=>{s()||Array.from(u&&u.activeCues||[]).forEach(m=>{if(!(!m.snapToLines||m.line<-5||m.line>=0&&m.line<10))if(!f||this.paused){let g=m.text.split(`
`).length,v=r?-2:-3;this.streamType===Ss.LIVE&&(v=r?-1:-2);let y=v-g;if(m.line===y&&!h)return;o.has(m)||o.set(m,m.line),m.line=y-1,m.line=y}else setTimeout(()=>{m.line=o.get(m)||"auto"},500)})},l=()=>{var u,f;a(i,(f=(u=this.mediaController)==null?void 0:u.hasAttribute("userinactive"))!=null?f:!1)},c=()=>{var u,f;let h=Array.from(((f=(u=this.mediaController)==null?void 0:u.media)==null?void 0:f.textTracks)||[]).filter(m=>["subtitles","captions"].includes(m.kind)&&m.mode==="showing")[0];h!==i&&(i==null||i.removeEventListener("cuechange",l)),i=h,i==null||i.addEventListener("cuechange",l),a(i,Fi(this,Qv))};if(c(),(n=this.textTracks)==null||n.addEventListener("change",c),(e=this.textTracks)==null||e.addEventListener("addtrack",c),navigator.userAgent.includes("Chrome/")){let u=()=>{a(i,Fi(this,Qv),!0),this.paused||window.requestAnimationFrame(u)};this.addEventListener("playing",()=>{u()})}this.addEventListener("userinactivechange",()=>{var u,f;let h=(f=(u=this.mediaController)==null?void 0:u.hasAttribute("userinactive"))!=null?f:!0;Fi(this,Qv)!==h&&(_g(this,Qv,h),a(i,Fi(this,Qv)))})};function v_(n,e){return n.media?n.media.getAttribute(e):n.getAttribute(e)}vl.customElements.get("mux-player")||(vl.customElements.define("mux-player",wFe),vl.MuxPlayerElement=wFe);var _Fe={className:"class",classname:"class",htmlFor:"for",crossOrigin:"crossorigin",viewBox:"viewBox",playsInline:"playsinline",autoPlay:"autoplay",playbackRate:"playbackrate"},dDr=n=>n==null,fDr=(n,e)=>dDr(e)?!1:n in e,hDr=n=>n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`),pDr=(n,e)=>{if(!(typeof e=="boolean"&&!e)){if(fDr(n,_Fe))return _Fe[n];if(typeof e!=null)return/[A-Z]/.test(n)?hDr(n):n}},mDr=(n,e)=>typeof n=="boolean"?"":n,gDr=(n={})=>Object.entries(n).reduce((e,[r,i])=>{let o=pDr(r,i);if(!o)return e;let s=mDr(i);return e[o]=s,e},{}),vDr=(...n)=>{let e=p.useRef(null);return p.useEffect(()=>{n.forEach(r=>{!r||(typeof r=="function"?r(e.current):r.current=e.current)})},[n]),e},yDr=Object.prototype.hasOwnProperty,bDr=(n,e)=>{if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;if(Array.isArray(n))return!Array.isArray(e)||n.length!==e.length?!1:n.some((o,s)=>e[s]===o);let r=Object.keys(n),i=Object.keys(e);if(r.length!==i.length)return!1;for(let o=0;o<r.length;o++)if(!yDr.call(e,r[o])||!Object.is(n[r[o]],e[r[o]]))return!1;return!0},Bct=(n,e,r)=>!bDr(e,n[r]),xDr=(n,e,r)=>{n[r]=e},wDr=(n,e,r,i=xDr,o=Bct)=>p.useEffect(()=>{let s=r==null?void 0:r.current;!s||!o(s,e,n)||i(s,e,n)},[r==null?void 0:r.current,e]),I1=wDr,_Dr=()=>{try{return"1.15.0"}catch{}return"UNKNOWN"},EDr=_Dr(),CDr=()=>EDr,SDr=_t.forwardRef(({children:n,...e},r)=>_t.createElement("mux-player",gDr({...e,ref:r}),n)),$o=(n,e,r)=>p.useEffect(()=>{let i=e==null?void 0:e.current;if(!(!i||!r))return i.addEventListener(n,r),()=>{i.removeEventListener(n,r)}},[e==null?void 0:e.current,r]),kDr=(n,e)=>{let{onAbort:r,onCanPlay:i,onCanPlayThrough:o,onEmptied:s,onLoadStart:a,onLoadedData:l,onLoadedMetadata:c,onProgress:u,onDurationChange:f,onVolumeChange:h,onRateChange:m,onResize:g,onWaiting:v,onPlay:y,onPlaying:b,onTimeUpdate:x,onPause:_,onSeeking:w,onSeeked:C,onStalled:S,onSuspend:T,onEnded:A,onError:I,onCuePointChange:D,onCuePointsChange:R,metadata:P,tokens:O,paused:$,playbackId:L,playbackRates:M,currentTime:N,themeProps:z,...B}=e;return I1("playbackRates",M,n),I1("metadata",P,n),I1("themeProps",z,n),I1("tokens",O,n),I1("playbackId",L,n),I1("paused",$,n,(H,X)=>{X!=null&&(X?H.pause():H.play())},(H,X,G)=>H.hasAttribute("autoplay")&&!H.hasPlayed?!1:Bct(H,X,G)),I1("currentTime",N,n,(H,X)=>{X!=null&&(H.currentTime=X)}),$o("abort",n,r),$o("canplay",n,i),$o("canplaythrough",n,o),$o("emptied",n,s),$o("loadstart",n,a),$o("loadeddata",n,l),$o("loadedmetadata",n,c),$o("progress",n,u),$o("durationchange",n,f),$o("volumechange",n,h),$o("ratechange",n,m),$o("resize",n,g),$o("waiting",n,v),$o("play",n,y),$o("playing",n,b),$o("timeupdate",n,x),$o("pause",n,_),$o("seeking",n,w),$o("seeked",n,C),$o("stalled",n,S),$o("suspend",n,T),$o("ended",n,A),$o("error",n,I),$o("cuepointchange",n,D),$o("cuepointschange",n,R),[B]},TDr=CDr(),ADr="mux-player-react",IDr=_t.forwardRef((n,e)=>{let r=p.useRef(null),i=vDr(r,e),[o]=kDr(r,n);return _t.createElement(SDr,{ref:i,playerSoftwareName:ADr,playerSoftwareVersion:TDr,...o})}),DDr=IDr;const RDr=n=>typeof n=="object"&&typeof n.then=="function",Ub=[];function Uct(n,e,r=(i,o)=>i===o){if(n===e)return!0;if(!n||!e)return!1;const i=n.length;if(e.length!==i)return!1;for(let o=0;o<i;o++)if(!r(n[o],e[o]))return!1;return!0}function zct(n,e=null,r=!1,i={}){e===null&&(e=[n]);for(const s of Ub)if(Uct(e,s.keys,s.equal)){if(r)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return i.lifespan&&i.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,i.lifespan)),s.response;if(!r)throw s.promise}const o={keys:e,equal:i.equal,remove:()=>{const s=Ub.indexOf(o);s!==-1&&Ub.splice(s,1)},promise:(RDr(n)?n:n(...e)).then(s=>{o.response=s,i.lifespan&&i.lifespan>0&&(o.timeout=setTimeout(o.remove,i.lifespan))}).catch(s=>o.error=s)};if(Ub.push(o),!r)throw o.promise}const Vct=(n,e,r)=>zct(n,e,!1,r),ODr=(n,e,r)=>void zct(n,e,!0,r),Hct=n=>{if(n===void 0||n.length===0)Ub.splice(0,Ub.length);else{const e=Ub.find(r=>Uct(n,r.keys,r.equal));e&&e.remove()}},PDr=Ah,F0=()=>{},du=F0(),EW=Object,mi=n=>n===du,Sp=n=>typeof n=="function",ky=(n,e)=>({...n,...e}),jDr=n=>Sp(n.then),$j=new WeakMap;let LDr=0;const kI=n=>{const e=typeof n,r=n&&n.constructor,i=r==Date;let o,s;if(EW(n)===n&&!i&&r!=RegExp){if(o=$j.get(n),o)return o;if(o=++LDr+"~",$j.set(n,o),r==Array){for(o="@",s=0;s<n.length;s++)o+=kI(n[s])+",";$j.set(n,o)}if(r==EW){o="#";const a=EW.keys(n).sort();for(;!mi(s=a.pop());)mi(n[s])||(o+=s+":"+kI(n[s])+",");$j.set(n,o)}}else o=i?n.toJSON():e=="symbol"?n.toString():e=="string"?JSON.stringify(n):""+n;return o},ng=new WeakMap,CW={},Mj={},Hae="undefined",l7=typeof window!=Hae,nQ=typeof document!=Hae,$Dr=()=>l7&&typeof window.requestAnimationFrame!=Hae,Wct=(n,e)=>{const r=ng.get(n);return[()=>!mi(e)&&n.get(e)||CW,i=>{if(!mi(e)){const o=n.get(e);e in Mj||(Mj[e]=o),r[5](e,ky(o,i),o||CW)}},r[6],()=>!mi(e)&&e in Mj?Mj[e]:!mi(e)&&n.get(e)||CW]};let rQ=!0;const MDr=()=>rQ,[iQ,oQ]=l7&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[F0,F0],FDr=()=>{const n=nQ&&document.visibilityState;return mi(n)||n!=="hidden"},NDr=n=>(nQ&&document.addEventListener("visibilitychange",n),iQ("focus",n),()=>{nQ&&document.removeEventListener("visibilitychange",n),oQ("focus",n)}),BDr=n=>{const e=()=>{rQ=!0,n()},r=()=>{rQ=!1};return iQ("online",e),iQ("offline",r),()=>{oQ("online",e),oQ("offline",r)}},UDr={isOnline:MDr,isVisible:FDr},zDr={initFocus:NDr,initReconnect:BDr},EFe=!_t.useId,TI=!l7||"Deno"in window,VDr=n=>$Dr()?window.requestAnimationFrame(n):setTimeout(n,1),SW=TI?p.useEffect:p.useLayoutEffect,kW=typeof navigator<"u"&&navigator.connection,CFe=!TI&&kW&&(["slow-2g","2g"].includes(kW.effectiveType)||kW.saveData),Wae=n=>{if(Sp(n))try{n=n()}catch{n=""}const e=n;return n=typeof n=="string"?n:(Array.isArray(n)?n.length:n)?kI(n):"",[n,e]};let HDr=0;const sQ=()=>++HDr,Gct=0,qct=1,Kct=2,WDr=3;var tT={__proto__:null,ERROR_REVALIDATE_EVENT:WDr,FOCUS_EVENT:Gct,MUTATE_EVENT:Kct,RECONNECT_EVENT:qct};async function Yct(...n){const[e,r,i,o]=n,s=ky({populateCache:!0,throwOnError:!0},typeof o=="boolean"?{revalidate:o}:o||{});let a=s.populateCache;const l=s.rollbackOnError;let c=s.optimisticData;const u=m=>typeof l=="function"?l(m):l!==!1,f=s.throwOnError;if(Sp(r)){const m=r,g=[],v=e.keys();for(const y of v)!/^\$(inf|sub)\$/.test(y)&&m(e.get(y)._k)&&g.push(y);return Promise.all(g.map(h))}return h(r);async function h(m){const[g]=Wae(m);if(!g)return;const[v,y]=Wct(e,g),[b,x,_,w]=ng.get(e),C=()=>{const $=b[g];return(Sp(s.revalidate)?s.revalidate(v().data,m):s.revalidate!==!1)&&(delete _[g],delete w[g],$&&$[0])?$[0](Kct).then(()=>v().data):v().data};if(n.length<3)return C();let S=i,T;const A=sQ();x[g]=[A,0];const I=!mi(c),D=v(),R=D.data,P=D._c,O=mi(P)?R:P;if(I&&(c=Sp(c)?c(O,R):c,y({data:c,_c:O})),Sp(S))try{S=S(O)}catch($){T=$}if(S&&jDr(S))if(S=await S.catch($=>{T=$}),A!==x[g][0]){if(T)throw T;return S}else T&&I&&u(T)&&(a=!0,y({data:O,_c:du}));if(a&&!T)if(Sp(a)){const $=a(S,O);y({data:$,error:du,_c:du})}else y({data:S,error:du,_c:du});if(x[g][1]=sQ(),Promise.resolve(C()).then(()=>{y({_c:du})}),T){if(f)throw T;return}return S}}const SFe=(n,e)=>{for(const r in n)n[r][0]&&n[r][0](e)},GDr=(n,e)=>{if(!ng.has(n)){const r=ky(zDr,e),i={},o=Yct.bind(du,n);let s=F0;const a={},l=(f,h)=>{const m=a[f]||[];return a[f]=m,m.push(h),()=>m.splice(m.indexOf(h),1)},c=(f,h,m)=>{n.set(f,h);const g=a[f];if(g)for(const v of g)v(h,m)},u=()=>{if(!ng.has(n)&&(ng.set(n,[i,{},{},{},o,c,l]),!TI)){const f=r.initFocus(setTimeout.bind(du,SFe.bind(du,i,Gct))),h=r.initReconnect(setTimeout.bind(du,SFe.bind(du,i,qct)));s=()=>{f&&f(),h&&h(),ng.delete(n)}}};return u(),[n,o,u,s]}return[n,ng.get(n)[4]]},qDr=(n,e,r,i,o)=>{const s=r.errorRetryCount,a=o.retryCount,l=~~((Math.random()+.5)*(1<<(a<8?a:8)))*r.errorRetryInterval;!mi(s)&&a>s||setTimeout(i,l,o)},KDr=(n,e)=>kI(n)==kI(e),[Zct,YDr]=GDr(new Map),ZDr=ky({onLoadingSlow:F0,onSuccess:F0,onError:F0,onErrorRetry:qDr,onDiscarded:F0,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:CFe?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:CFe?5e3:3e3,compare:KDr,isPaused:()=>!1,cache:Zct,mutate:YDr,fallback:{}},UDr),XDr=(n,e)=>{const r=ky(n,e);if(e){const{use:i,fallback:o}=n,{use:s,fallback:a}=e;i&&s&&(r.use=i.concat(s)),o&&a&&(r.fallback=ky(o,a))}return r},QDr=p.createContext({}),JDr="$inf$",Xct=l7&&window.__SWR_DEVTOOLS_USE__,eRr=Xct?window.__SWR_DEVTOOLS_USE__:[],tRr=()=>{Xct&&(window.__SWR_DEVTOOLS_REACT__=_t)},nRr=n=>Sp(n[1])?[n[0],n[1],n[2]||{}]:[n[0],null,(n[1]===null?n[2]:n[1])||{}],rRr=()=>ky(ZDr,p.useContext(QDr)),iRr=n=>(e,r,i)=>n(e,r&&((...s)=>{const[a]=Wae(e),[,,,l]=ng.get(Zct);if(a.startsWith(JDr))return r(...s);const c=l[a];return mi(c)?r(...s):(delete l[a],c)}),i),oRr=eRr.concat(iRr),sRr=n=>function(...r){const i=rRr(),[o,s,a]=nRr(r),l=XDr(i,a);let c=n;const{use:u}=l,f=(u||[]).concat(oRr);for(let h=f.length;h--;)c=f[h](c);return c(o,s||l.fetcher||null,l)},aRr=(n,e,r)=>{const i=e[n]||(e[n]=[]);return i.push(r),()=>{const o=i.indexOf(r);o>=0&&(i[o]=i[i.length-1],i.pop())}};tRr();const kFe=_t.use||(n=>{if(n.status==="pending")throw n;if(n.status==="fulfilled")return n.value;throw n.status==="rejected"?n.reason:(n.status="pending",n.then(e=>{n.status="fulfilled",n.value=e},e=>{n.status="rejected",n.reason=e}),n)}),TW={dedupe:!0},lRr=(n,e,r)=>{const{cache:i,compare:o,suspense:s,fallbackData:a,revalidateOnMount:l,revalidateIfStale:c,refreshInterval:u,refreshWhenHidden:f,refreshWhenOffline:h,keepPreviousData:m}=r,[g,v,y,b]=ng.get(i),[x,_]=Wae(n),w=p.useRef(!1),C=p.useRef(!1),S=p.useRef(x),T=p.useRef(e),A=p.useRef(r),I=()=>A.current,D=()=>I().isVisible()&&I().isOnline(),[R,P,O,$]=Wct(i,x),L=p.useRef({}).current,M=mi(a)?r.fallback[x]:a,N=(ve,_e)=>{for(const ge in L){const pe=ge;if(pe==="data"){if(!o(ve[pe],_e[pe])&&(!mi(ve[pe])||!o(Q,_e[pe])))return!1}else if(_e[pe]!==ve[pe])return!1}return!0},z=p.useMemo(()=>{const ve=(()=>!x||!e?!1:mi(l)?I().isPaused()||s?!1:mi(c)?!0:c:l)(),_e=Ye=>{const He=ky(Ye);return delete He._k,ve?{isValidating:!0,isLoading:!0,...He}:He},ge=R(),pe=$(),Pe=_e(ge),Re=ge===pe?Pe:_e(pe);let Fe=Pe;return[()=>{const Ye=_e(R());return N(Ye,Fe)?(Fe.data=Ye.data,Fe.isLoading=Ye.isLoading,Fe.isValidating=Ye.isValidating,Fe.error=Ye.error,Fe):(Fe=Ye,Ye)},()=>Re]},[i,x]),B=R8e.useSyncExternalStore(p.useCallback(ve=>O(x,(_e,ge)=>{N(ge,_e)||ve()}),[i,x]),z[0],z[1]),H=!w.current,X=g[x]&&g[x].length>0,G=B.data,ne=mi(G)?M:G,le=B.error,K=p.useRef(ne),Q=m?mi(G)?K.current:G:ne,re=(()=>X&&!mi(le)?!1:H&&!mi(l)?l:I().isPaused()?!1:s?mi(ne)?!1:c:mi(ne)||c)(),se=!!(x&&e&&H&&re),de=mi(B.isValidating)?se:B.isValidating,fe=mi(B.isLoading)?se:B.isLoading,we=p.useCallback(async ve=>{const _e=T.current;if(!x||!_e||C.current||I().isPaused())return!1;let ge,pe,Pe=!0;const Re=ve||{},Fe=!y[x]||!Re.dedupe,Ye=()=>EFe?!C.current&&x===S.current&&w.current:x===S.current,He={isValidating:!1,isLoading:!1},lt=()=>{P(He)},Xe=()=>{const kt=y[x];kt&&kt[1]===pe&&delete y[x]},st={isValidating:!0};mi(R().data)&&(st.isLoading=!0);try{if(Fe&&(P(st),r.loadingTimeout&&mi(R().data)&&setTimeout(()=>{Pe&&Ye()&&I().onLoadingSlow(x,r)},r.loadingTimeout),y[x]=[_e(_),sQ()]),[ge,pe]=y[x],ge=await ge,Fe&&setTimeout(Xe,r.dedupingInterval),!y[x]||y[x][1]!==pe)return Fe&&Ye()&&I().onDiscarded(x),!1;He.error=du;const kt=v[x];if(!mi(kt)&&(pe<=kt[0]||pe<=kt[1]||kt[1]===0))return lt(),Fe&&Ye()&&I().onDiscarded(x),!1;const Ge=R().data;He.data=o(Ge,ge)?Ge:ge,Fe&&Ye()&&I().onSuccess(ge,x,r)}catch(kt){Xe();const Ge=I(),{shouldRetryOnError:gt}=Ge;Ge.isPaused()||(He.error=kt,Fe&&Ye()&&(Ge.onError(kt,x,Ge),(gt===!0||Sp(gt)&&gt(kt))&&(!I().revalidateOnFocus||!I().revalidateOnReconnect||D())&&Ge.onErrorRetry(kt,x,Ge,At=>{const Dt=g[x];Dt&&Dt[0]&&Dt[0](tT.ERROR_REVALIDATE_EVENT,At)},{retryCount:(Re.retryCount||0)+1,dedupe:!0})))}return Pe=!1,lt(),!0},[x,i]),ye=p.useCallback((...ve)=>Yct(i,S.current,...ve),[]);if(SW(()=>{T.current=e,A.current=r,mi(G)||(K.current=G)}),SW(()=>{if(!x)return;const ve=we.bind(du,TW);let _e=0;const pe=aRr(x,g,(Pe,Re={})=>{if(Pe==tT.FOCUS_EVENT){const Fe=Date.now();I().revalidateOnFocus&&Fe>_e&&D()&&(_e=Fe+I().focusThrottleInterval,ve())}else if(Pe==tT.RECONNECT_EVENT)I().revalidateOnReconnect&&D()&&ve();else{if(Pe==tT.MUTATE_EVENT)return we();if(Pe==tT.ERROR_REVALIDATE_EVENT)return we(Re)}});return C.current=!1,S.current=x,w.current=!0,P({_k:_}),re&&(mi(ne)||TI?ve():VDr(ve)),()=>{C.current=!0,pe()}},[x]),SW(()=>{let ve;function _e(){const pe=Sp(u)?u(R().data):u;pe&&ve!==-1&&(ve=setTimeout(ge,pe))}function ge(){!R().error&&(f||I().isVisible())&&(h||I().isOnline())?we(TW).then(_e):_e()}return _e(),()=>{ve&&(clearTimeout(ve),ve=-1)}},[u,f,h,x]),p.useDebugValue(Q),s&&mi(ne)&&x){if(!EFe&&TI)throw new Error("Fallback data is required when using suspense in SSR.");T.current=e,A.current=r,C.current=!1;const ve=b[x];if(!mi(ve)){const _e=ye(ve);kFe(_e)}if(mi(le)){const _e=we(TW);mi(Q)||(_e.status="fulfilled",_e.value=!0),kFe(_e)}else throw le}return{mutate:ye,get data(){return L.data=!0,Q},get error(){return L.error=!0,le},get isValidating(){return L.isValidating=!0,de},get isLoading(){return L.isLoading=!0,fe}}},cRr=sRr(lRr);var uRr=Object.create,Qct=Object.defineProperty,dRr=Object.getOwnPropertyDescriptor,Jct=Object.getOwnPropertyNames,fRr=Object.getPrototypeOf,hRr=Object.prototype.hasOwnProperty,bR=(n,e)=>function(){return e||(0,n[Jct(n)[0]])((e={exports:{}}).exports,e),e.exports},pRr=(n,e,r,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Jct(e))!hRr.call(n,o)&&o!==r&&Qct(n,o,{get:()=>e[o],enumerable:!(i=dRr(e,o))||i.enumerable});return n},mRr=(n,e,r)=>(r=n!=null?uRr(fRr(n)):{},pRr(e||!n||!n.__esModule?Qct(r,"default",{value:n,enumerable:!0}):r,n)),gRr=bR({"node_modules/global/window.js"(n,e){var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r={},e.exports=r}}),vRr=bR({"node_modules/is-function/index.js"(n,e){e.exports=i;var r=Object.prototype.toString;function i(o){if(!o)return!1;var s=r.call(o);return s==="[object Function]"||typeof o=="function"&&s!=="[object RegExp]"||typeof window<"u"&&(o===window.setTimeout||o===window.alert||o===window.confirm||o===window.prompt)}}}),yRr=bR({"node_modules/parse-headers/parse-headers.js"(n,e){var r=function(o){return o.replace(/^\s+|\s+$/g,"")},i=function(o){return Object.prototype.toString.call(o)==="[object Array]"};e.exports=function(o){if(!o)return{};for(var s={},a=r(o).split(`
`),l=0;l<a.length;l++){var c=a[l],u=c.indexOf(":"),f=r(c.slice(0,u)).toLowerCase(),h=r(c.slice(u+1));typeof s[f]>"u"?s[f]=h:i(s[f])?s[f].push(h):s[f]=[s[f],h]}return s}}}),bRr=bR({"node_modules/xtend/immutable.js"(n,e){e.exports=i;var r=Object.prototype.hasOwnProperty;function i(){for(var o={},s=0;s<arguments.length;s++){var a=arguments[s];for(var l in a)r.call(a,l)&&(o[l]=a[l])}return o}}}),xRr=bR({"node_modules/xhr/index.js"(n,e){var r=gRr(),i=vRr(),o=yRr(),s=bRr();e.exports=u,e.exports.default=u,u.XMLHttpRequest=r.XMLHttpRequest||m,u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:r.XDomainRequest,a(["get","put","post","patch","head","delete"],function(g){u[g==="delete"?"del":g]=function(v,y,b){return y=c(v,y,b),y.method=g.toUpperCase(),f(y)}});function a(g,v){for(var y=0;y<g.length;y++)v(g[y])}function l(g){for(var v in g)if(g.hasOwnProperty(v))return!1;return!0}function c(g,v,y){var b=g;return i(v)?(y=v,typeof g=="string"&&(b={uri:g})):b=s(v,{uri:g}),b.callback=y,b}function u(g,v,y){return v=c(g,v,y),f(v)}function f(g){if(typeof g.callback>"u")throw new Error("callback argument missing");var v=!1,y=function(N,z,B){v||(v=!0,g.callback(N,z,B))};function b(){C.readyState===4&&setTimeout(w,0)}function x(){var M=void 0;if(C.response?M=C.response:M=C.responseText||h(C),O)try{M=JSON.parse(M)}catch{}return M}function _(M){return clearTimeout($),M instanceof Error||(M=new Error(""+(M||"Unknown XMLHttpRequest Error"))),M.statusCode=0,y(M,L)}function w(){if(!T){var M;clearTimeout($),g.useXDR&&C.status===void 0?M=200:M=C.status===1223?204:C.status;var N=L,z=null;return M!==0?(N={body:x(),statusCode:M,method:I,headers:{},url:A,rawRequest:C},C.getAllResponseHeaders&&(N.headers=o(C.getAllResponseHeaders()))):z=new Error("Internal XMLHttpRequest Error"),y(z,N,N.body)}}var C=g.xhr||null;C||(g.cors||g.useXDR?C=new u.XDomainRequest:C=new u.XMLHttpRequest);var S,T,A=C.url=g.uri||g.url,I=C.method=g.method||"GET",D=g.body||g.data,R=C.headers=g.headers||{},P=!!g.sync,O=!1,$,L={body:void 0,headers:{},statusCode:0,method:I,url:A,rawRequest:C};if("json"in g&&g.json!==!1&&(O=!0,R.accept||R.Accept||(R.Accept="application/json"),I!=="GET"&&I!=="HEAD"&&(R["content-type"]||R["Content-Type"]||(R["Content-Type"]="application/json"),D=JSON.stringify(g.json===!0?D:g.json))),C.onreadystatechange=b,C.onload=w,C.onerror=_,C.onprogress=function(){},C.onabort=function(){T=!0},C.ontimeout=_,C.open(I,A,!P,g.username,g.password),P||(C.withCredentials=!!g.withCredentials),!P&&g.timeout>0&&($=setTimeout(function(){if(!T){T=!0,C.abort("timeout");var M=new Error("XMLHttpRequest timeout");M.code="ETIMEDOUT",_(M)}},g.timeout)),C.setRequestHeader)for(S in R)R.hasOwnProperty(S)&&C.setRequestHeader(S,R[S]);else if(g.headers&&!l(g.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in g&&(C.responseType=g.responseType),"beforeSend"in g&&typeof g.beforeSend=="function"&&g.beforeSend(C),C.send(D||null),C}function h(g){try{if(g.responseType==="document")return g.responseXML;var v=g.responseXML&&g.responseXML.documentElement.nodeName==="parsererror";if(g.responseType===""&&!v)return g.responseXML}catch{}return null}function m(){}}});function Gae(n,e,...r){if(!n)throw new TypeError(eut(e,r))}function eut(n,e){let r=0;return n.replace(/%[os]/gu,()=>tut(e[r++]))}function tut(n){return typeof n!="object"||n===null?String(n):Object.prototype.toString.call(n)}var wRr;function _Rr(n){try{const e=n instanceof Error?n:new Error(tut(n));if(typeof dispatchEvent=="function"&&typeof ErrorEvent=="function")dispatchEvent(new ErrorEvent("error",{error:e,message:e.message}));else if(typeof process<"u"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)}catch{}}var dh=typeof window<"u"?window:typeof self<"u"?self:typeof global<"u"?global:typeof globalThis<"u"?globalThis:void 0,ERr,Xy=class{constructor(n,e){this.code=n,this.message=e}warn(...n){var e;try{const r=((e=new Error().stack)!==null&&e!==void 0?e:"").replace(/^(?:.+?\n){2}/gu,`
`);console.warn(this.message,...n,r)}catch{}}},CRr=new Xy("W01","Unable to initialize event under dispatching."),SRr=new Xy("W02","Assigning any falsy value to 'cancelBubble' property has no effect."),kRr=new Xy("W03","Assigning any truthy value to 'returnValue' property has no effect."),TRr=new Xy("W04","Unable to preventDefault on non-cancelable events."),ARr=new Xy("W05","Unable to preventDefault inside passive event listener invocation."),IRr=new Xy("W06","An event listener wasn't added because it has been added already: %o, %o"),AW=new Xy("W07","The %o option value was abandoned because the event listener wasn't added as duplicated."),TFe=new Xy("W08","The 'callback' argument must be a function or an object that has 'handleEvent' method: %o"),fv=class{static get NONE(){return AFe}static get CAPTURING_PHASE(){return IFe}static get AT_TARGET(){return DFe}static get BUBBLING_PHASE(){return RFe}constructor(e,r){Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const i=r??{};aQ.set(this,{type:String(e),bubbles:!!i.bubbles,cancelable:!!i.cancelable,composed:!!i.composed,target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1,inPassiveListenerFlag:!1,dispatchFlag:!1,timeStamp:Date.now()})}get type(){return Zs(this).type}get target(){return Zs(this).target}get srcElement(){return Zs(this).target}get currentTarget(){return Zs(this).currentTarget}composedPath(){const e=Zs(this).currentTarget;return e?[e]:[]}get NONE(){return AFe}get CAPTURING_PHASE(){return IFe}get AT_TARGET(){return DFe}get BUBBLING_PHASE(){return RFe}get eventPhase(){return Zs(this).dispatchFlag?2:0}stopPropagation(){Zs(this).stopPropagationFlag=!0}get cancelBubble(){return Zs(this).stopPropagationFlag}set cancelBubble(e){e?Zs(this).stopPropagationFlag=!0:SRr.warn()}stopImmediatePropagation(){const e=Zs(this);e.stopPropagationFlag=e.stopImmediatePropagationFlag=!0}get bubbles(){return Zs(this).bubbles}get cancelable(){return Zs(this).cancelable}get returnValue(){return!Zs(this).canceledFlag}set returnValue(e){e?kRr.warn():OFe(Zs(this))}preventDefault(){OFe(Zs(this))}get defaultPrevented(){return Zs(this).canceledFlag}get composed(){return Zs(this).composed}get isTrusted(){return!1}get timeStamp(){return Zs(this).timeStamp}initEvent(e,r=!1,i=!1){const o=Zs(this);if(o.dispatchFlag){CRr.warn();return}aQ.set(this,{...o,type:String(e),bubbles:!!r,cancelable:!!i,target:null,currentTarget:null,stopPropagationFlag:!1,stopImmediatePropagationFlag:!1,canceledFlag:!1})}},AFe=0,IFe=1,DFe=2,RFe=3,aQ=new WeakMap;function Zs(n,e="this"){const r=aQ.get(n);return Gae(r!=null,"'%s' must be an object that Event constructor created, but got another one: %o",e,n),r}function OFe(n){if(n.inPassiveListenerFlag){ARr.warn();return}if(!n.cancelable){TRr.warn();return}n.canceledFlag=!0}Object.defineProperty(fv,"NONE",{enumerable:!0});Object.defineProperty(fv,"CAPTURING_PHASE",{enumerable:!0});Object.defineProperty(fv,"AT_TARGET",{enumerable:!0});Object.defineProperty(fv,"BUBBLING_PHASE",{enumerable:!0});var IW=Object.getOwnPropertyNames(fv.prototype);for(let n=0;n<IW.length;++n)IW[n]!=="constructor"&&Object.defineProperty(fv.prototype,IW[n],{enumerable:!0});typeof dh<"u"&&typeof dh.Event<"u"&&Object.setPrototypeOf(fv.prototype,dh.Event.prototype);function DRr(n){return dh.DOMException?new dh.DOMException(n,"InvalidStateError"):(y_==null&&(y_=class nut extends Error{constructor(r){super(r),Error.captureStackTrace&&Error.captureStackTrace(this,nut)}get code(){return 11}get name(){return"InvalidStateError"}},Object.defineProperties(y_.prototype,{code:{enumerable:!0},name:{enumerable:!0}}),jFe(y_),jFe(y_.prototype)),new y_(n))}var y_,PFe={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};function jFe(n){const e=Object.keys(PFe);for(let r=0;r<e.length;++r){const i=e[r],o=PFe[i];Object.defineProperty(n,i,{get(){return o},configurable:!0,enumerable:!0})}}var c7=class extends fv{static wrap(n){return new(iut(n))(n)}constructor(n){super(n.type,{bubbles:n.bubbles,cancelable:n.cancelable,composed:n.composed}),n.cancelBubble&&super.stopPropagation(),n.defaultPrevented&&super.preventDefault(),rut.set(this,{original:n});const e=Object.keys(n);for(let r=0;r<e.length;++r){const i=e[r];i in this||Object.defineProperty(this,i,out(n,i))}}stopPropagation(){super.stopPropagation();const{original:n}=d0(this);"stopPropagation"in n&&n.stopPropagation()}get cancelBubble(){return super.cancelBubble}set cancelBubble(n){super.cancelBubble=n;const{original:e}=d0(this);"cancelBubble"in e&&(e.cancelBubble=n)}stopImmediatePropagation(){super.stopImmediatePropagation();const{original:n}=d0(this);"stopImmediatePropagation"in n&&n.stopImmediatePropagation()}get returnValue(){return super.returnValue}set returnValue(n){super.returnValue=n;const{original:e}=d0(this);"returnValue"in e&&(e.returnValue=n)}preventDefault(){super.preventDefault();const{original:n}=d0(this);"preventDefault"in n&&n.preventDefault()}get timeStamp(){const{original:n}=d0(this);return"timeStamp"in n?n.timeStamp:super.timeStamp}},rut=new WeakMap;function d0(n){const e=rut.get(n);return Gae(e!=null,"'this' is expected an Event object, but got",n),e}var $4=new WeakMap;$4.set(Object.prototype,c7);typeof dh<"u"&&typeof dh.Event<"u"&&$4.set(dh.Event.prototype,c7);function iut(n){const e=Object.getPrototypeOf(n);if(e==null)return c7;let r=$4.get(e);return r==null&&(r=RRr(iut(e),e),$4.set(e,r)),r}function RRr(n,e){class r extends n{}const i=Object.keys(e);for(let o=0;o<i.length;++o)Object.defineProperty(r.prototype,i[o],out(e,i[o]));return r}function out(n,e){const r=Object.getOwnPropertyDescriptor(n,e);return{get(){const i=d0(this).original,o=i[e];return typeof o=="function"?o.bind(i):o},set(i){const o=d0(this).original;o[e]=i},configurable:r.configurable,enumerable:r.enumerable}}function ORr(n,e,r,i,o,s){return{callback:n,flags:(e?1:0)|(r?2:0)|(i?4:0),signal:o,signalListener:s}}function PRr(n){n.flags|=8}function sut(n){return(n.flags&1)===1}function aut(n){return(n.flags&2)===2}function lut(n){return(n.flags&4)===4}function jRr(n){return(n.flags&8)===8}function LRr({callback:n},e,r){try{typeof n=="function"?n.call(e,r):typeof n.handleEvent=="function"&&n.handleEvent(r)}catch(i){_Rr(i)}}function cut({listeners:n},e,r){for(let i=0;i<n.length;++i)if(n[i].callback===e&&sut(n[i])===r)return i;return-1}function $Rr(n,e,r,i,o,s){let a;s&&(a=uut.bind(null,n,e,r),s.addEventListener("abort",a));const l=ORr(e,r,i,o,s,a);return n.cow?(n.cow=!1,n.listeners=[...n.listeners,l]):n.listeners.push(l),l}function uut(n,e,r){const i=cut(n,e,r);return i!==-1?dut(n,i):!1}function dut(n,e,r=!1){const i=n.listeners[e];return PRr(i),i.signal&&i.signal.removeEventListener("abort",i.signalListener),n.cow&&!r?(n.cow=!1,n.listeners=n.listeners.filter((o,s)=>s!==e),!1):(n.listeners.splice(e,1),!0)}function MRr(){return Object.create(null)}function FRr(n,e){var r;return(r=n[e])!==null&&r!==void 0?r:n[e]={attrCallback:void 0,attrListener:void 0,cow:!1,listeners:[]}}var u7=class{constructor(){fut.set(this,MRr())}addEventListener(e,r,i){const o=DW(this),{callback:s,capture:a,once:l,passive:c,signal:u,type:f}=NRr(e,r,i);if(s==null||u!=null&&u.aborted)return;const h=FRr(o,f),m=cut(h,s,a);if(m!==-1){URr(h.listeners[m],c,l,u);return}$Rr(h,s,a,c,l,u)}removeEventListener(e,r,i){const o=DW(this),{callback:s,capture:a,type:l}=BRr(e,r,i),c=o[l];s!=null&&c&&uut(c,s,a)}dispatchEvent(e){const r=DW(this)[String(e.type)];if(r==null)return!0;const i=e instanceof fv?e:c7.wrap(e),o=Zs(i,"event");if(o.dispatchFlag)throw DRr("This event has been in dispatching.");if(o.dispatchFlag=!0,o.target=o.currentTarget=this,!o.stopPropagationFlag){const{cow:s,listeners:a}=r;r.cow=!0;for(let l=0;l<a.length;++l){const c=a[l];if(!jRr(c)&&(lut(c)&&dut(r,l,!s)&&(l-=1),o.inPassiveListenerFlag=aut(c),LRr(c,this,i),o.inPassiveListenerFlag=!1,o.stopImmediatePropagationFlag))break}s||(r.cow=!1)}return o.target=null,o.currentTarget=null,o.stopImmediatePropagationFlag=!1,o.stopPropagationFlag=!1,o.dispatchFlag=!1,!o.canceledFlag}},fut=new WeakMap;function DW(n,e="this"){const r=fut.get(n);return Gae(r!=null,"'%s' must be an object that EventTarget constructor created, but got another one: %o",e,n),r}function NRr(n,e,r){var i;return hut(e),typeof r=="object"&&r!==null?{type:String(n),callback:e??void 0,capture:!!r.capture,passive:!!r.passive,once:!!r.once,signal:(i=r.signal)!==null&&i!==void 0?i:void 0}:{type:String(n),callback:e??void 0,capture:!!r,passive:!1,once:!1,signal:void 0}}function BRr(n,e,r){return hut(e),typeof r=="object"&&r!==null?{type:String(n),callback:e??void 0,capture:!!r.capture}:{type:String(n),callback:e??void 0,capture:!!r}}function hut(n){if(!(typeof n=="function"||typeof n=="object"&&n!==null&&typeof n.handleEvent=="function")){if(n==null||typeof n=="object"){TFe.warn(n);return}throw new TypeError(eut(TFe.message,[n]))}}function URr(n,e,r,i){IRr.warn(sut(n)?"capture":"bubble",n.callback),aut(n)!==e&&AW.warn("passive"),lut(n)!==r&&AW.warn("once"),n.signal!==i&&AW.warn("signal")}var RW=Object.getOwnPropertyNames(u7.prototype);for(let n=0;n<RW.length;++n)RW[n]!=="constructor"&&Object.defineProperty(u7.prototype,RW[n],{enumerable:!0});typeof dh<"u"&&typeof dh.EventTarget<"u"&&Object.setPrototypeOf(u7.prototype,dh.EventTarget.prototype);var zRr=mRr(xRr()),put=30720,d7=512e3,f7=256,lQ=(n,{minChunkSize:e=f7,maxChunkSize:r=d7}={})=>n==null||typeof n=="number"&&n>=256&&n%256===0&&n>=e&&n<=r,cQ=(n,{minChunkSize:e=f7,maxChunkSize:r=d7}={})=>new TypeError(`chunkSize ${n} must be a positive number in multiples of 256, between ${e} and ${r}`),VRr=class{constructor(n,e={}){this.readableStream=n;var r,i,o;if(!lQ(e.defaultChunkSize,e))throw cQ(e.defaultChunkSize,e);this.defaultChunkSize=(r=e.defaultChunkSize)!=null?r:put,this.minChunkSize=(i=e.minChunkSize)!=null?i:f7,this.maxChunkSize=(o=e.maxChunkSize)!=null?o:d7}get chunkSize(){var n;return(n=this._chunkSize)!=null?n:this.defaultChunkSize}set chunkSize(n){if(!lQ(n,this))throw cQ(n,this);this._chunkSize=n}get chunkByteSize(){return this.chunkSize*1024}async*[Symbol.asyncIterator](){let n;const e=this.readableStream.getReader();try{for(;;){const{done:r,value:i}=await e.read();if(r){if(n){const s=n;n=void 0,yield s}break}const o=i instanceof Uint8Array?new Blob([i],{type:"application/octet-stream"}):i;for(n=n?new Blob([n,o]):o;n;)if(n.size===this.chunkByteSize){const s=n;n=void 0,yield s;break}else{if(n.size<this.chunkByteSize)break;{const s=n.slice(0,this.chunkByteSize);n=n.slice(this.chunkByteSize),yield s}}}}finally{if(n){const r=n;n=void 0,yield r}e.releaseLock();return}}},HRr=[200,201,202,204,308],mut=[408,502,503,504],WRr=[308],gut=(n,e)=>!!n&&HRr.includes(n.statusCode),GRr=(n,{retryCodes:e=mut})=>!n||e.includes(n.statusCode),qRr=(n,e)=>e.attemptCount>=e.attempts||!(gut(n)||GRr(n,e)),KRr=(n,e)=>{if(!n||!WRr.includes(n.statusCode)||!n.headers.range)return!1;const r=n.headers.range.match(/bytes=(\d+)-(\d+)/);return r?parseInt(r[2],10)!==e.currentChunkEndByte:!1},vut=class{static createUpload(n){return new vut(n)}constructor(n){this.endpoint=n.endpoint,this.file=n.file,this.headers=n.headers||{},this.method=n.method||"PUT",this.attempts=n.attempts||5,this.delayBeforeAttempt=n.delayBeforeAttempt||1,this.retryCodes=n.retryCodes||mut,this.dynamicChunkSize=n.dynamicChunkSize||!1,this.maxFileBytes=(n.maxFileSize||0)*1024,this.chunkCount=0,this.attemptCount=0,this.offline=!1,this._paused=!1,this.success=!1,this.nextChunkRangeStart=0,this.chunkedStreamIterable=new VRr(this.file.stream(),{...n,defaultChunkSize:n.chunkSize}),this.chunkedStreamIterator=this.chunkedStreamIterable[Symbol.asyncIterator](),this.totalChunks=Math.ceil(this.file.size/this.chunkByteSize),this.eventTarget=new u7,this.validateOptions(),this.getEndpoint().then(()=>this.sendChunks()),typeof window<"u"&&(window.addEventListener("online",()=>{this.offline&&(this.offline=!1,this.dispatch("online"),this.sendChunks())}),window.addEventListener("offline",()=>{this.offline=!0,this.dispatch("offline")}))}get maxChunkSize(){var n,e;return(e=(n=this.chunkedStreamIterable)==null?void 0:n.maxChunkSize)!=null?e:d7}get minChunkSize(){var n,e;return(e=(n=this.chunkedStreamIterable)==null?void 0:n.minChunkSize)!=null?e:f7}get chunkSize(){var n,e;return(e=(n=this.chunkedStreamIterable)==null?void 0:n.chunkSize)!=null?e:put}set chunkSize(n){this.chunkedStreamIterable.chunkSize=n}get chunkByteSize(){return this.chunkedStreamIterable.chunkByteSize}get totalChunkSize(){return Math.ceil(this.file.size/this.chunkByteSize)}on(n,e){this.eventTarget.addEventListener(n,e)}once(n,e){this.eventTarget.addEventListener(n,e,{once:!0})}off(n,e){this.eventTarget.removeEventListener(n,e)}get paused(){return this._paused}abort(){var n;this.pause(),(n=this.currentXhr)==null||n.abort()}pause(){this._paused=!0}resume(){this._paused&&(this._paused=!1,this.sendChunks())}dispatch(n,e){const r=new CustomEvent(n,{detail:e});this.eventTarget.dispatchEvent(r)}validateOptions(){if(!this.endpoint||typeof this.endpoint!="function"&&typeof this.endpoint!="string")throw new TypeError("endpoint must be defined as a string or a function that returns a promise");if(!(this.file instanceof File))throw new TypeError("file must be a File object");if(this.headers&&typeof this.headers!="function"&&typeof this.headers!="object")throw new TypeError("headers must be null, an object, or a function that returns an object or a promise");if(!lQ(this.chunkSize,{maxChunkSize:this.maxChunkSize,minChunkSize:this.minChunkSize}))throw cQ(this.chunkSize,{maxChunkSize:this.maxChunkSize,minChunkSize:this.minChunkSize});if(this.maxChunkSize&&(typeof this.maxChunkSize!="number"||this.maxChunkSize<256||this.maxChunkSize%256!==0||this.maxChunkSize<this.chunkSize||this.maxChunkSize<this.minChunkSize))throw new TypeError(`maxChunkSize must be a positive number in multiples of 256, and larger than or equal to both ${this.minChunkSize} and ${this.chunkSize}`);if(this.minChunkSize&&(typeof this.minChunkSize!="number"||this.minChunkSize<256||this.minChunkSize%256!==0||this.minChunkSize>this.chunkSize||this.minChunkSize>this.maxChunkSize))throw new TypeError(`minChunkSize must be a positive number in multiples of 256, and smaller than ${this.chunkSize} and ${this.maxChunkSize}`);if(this.maxFileBytes>0&&this.maxFileBytes<this.file.size)throw new Error(`file size exceeds maximum (${this.file.size} > ${this.maxFileBytes})`);if(this.attempts&&(typeof this.attempts!="number"||this.attempts<=0))throw new TypeError("retries must be a positive number");if(this.delayBeforeAttempt&&(typeof this.delayBeforeAttempt!="number"||this.delayBeforeAttempt<0))throw new TypeError("delayBeforeAttempt must be a positive number")}getEndpoint(){return typeof this.endpoint=="string"?(this.endpointValue=this.endpoint,Promise.resolve(this.endpoint)):this.endpoint(this.file).then(n=>(this.endpointValue=n,this.endpointValue))}xhrPromise(n){const e=r=>{r.upload.onprogress=i=>{var o;const s=this.totalChunks-this.chunkCount,a=(this.file.size-this.nextChunkRangeStart)/this.file.size/s,l=this.nextChunkRangeStart/this.file.size,u=i.loaded/((o=i.total)!=null?o:this.chunkByteSize)*a;this.dispatch("progress",Math.min((l+u)*100,100))}};return new Promise((r,i)=>{this.currentXhr=(0,zRr.default)({...n,beforeSend:e},(o,s)=>(this.currentXhr=void 0,o?i(o):r(s)))})}async sendChunk(n){const e=this.nextChunkRangeStart,r=e+n.size-1,o={...await(typeof this.headers=="function"?this.headers():this.headers),"Content-Type":this.file.type,"Content-Range":`bytes ${e}-${r}/${this.file.size}`};return this.dispatch("attempt",{chunkNumber:this.chunkCount,totalChunks:this.totalChunks,chunkSize:this.chunkSize}),this.xhrPromise({headers:o,url:this.endpointValue,method:this.method,body:n})}async sendChunkWithRetries(n){const e=async(a,l)=>{var c;const f=(new Date().getTime()-this.lastChunkStart.getTime())/1e3;if(this.dispatch("chunkSuccess",{chunk:this.chunkCount,chunkSize:this.chunkSize,attempts:this.attemptCount,timeInterval:f,response:a}),this.attemptCount=0,this.chunkCount=((c=this.chunkCount)!=null?c:0)+1,this.nextChunkRangeStart=this.nextChunkRangeStart+this.chunkByteSize,this.dynamicChunkSize){let h=this.chunkSize;f<10?h=Math.min(this.chunkSize*2,this.maxChunkSize):f>30&&(h=Math.max(this.chunkSize/2,this.minChunkSize)),this.chunkSize=Math.ceil(h/256)*256;const m=(this.file.size-this.nextChunkRangeStart)/this.chunkByteSize;this.totalChunks=Math.ceil(this.chunkCount+m)}return!0},r=async(a,l)=>(this.dispatch("error",{message:`Server responded with ${a.statusCode}. Stopping upload.`,chunk:this.chunkCount,attempts:this.attemptCount,response:a}),!1),i=async(a,l)=>(this.dispatch("attemptFailure",{message:`An error occured uploading chunk ${this.chunkCount}. ${this.attempts-this.attemptCount} retries left.`,chunkNumber:this.chunkCount,attemptsLeft:this.attempts-this.attemptCount,response:a}),new Promise(c=>{setTimeout(async()=>{if(this._paused||this.offline){this.pendingChunk=n,c(!1);return}const u=await this.sendChunkWithRetries(n);c(u)},this.delayBeforeAttempt*1e3)}));let o;try{this.attemptCount=this.attemptCount+1,this.lastChunkStart=new Date,o=await this.sendChunk(n)}catch{}const s={retryCodes:this.retryCodes,attemptCount:this.attemptCount,attempts:this.attempts,currentChunkEndByte:this.nextChunkRangeStart+n.size-1};return KRr(o,s)?i(o):gut(o)?e(o):qRr(o,s)?r(o):i(o)}async sendChunks(){if(this.pendingChunk&&!(this._paused||this.offline)){const n=this.pendingChunk;this.pendingChunk=void 0;const e=await this.sendChunkWithRetries(n);this.success&&e&&this.dispatch("success")}for(;!(this.success||this._paused||this.offline);){const{value:n,done:e}=await this.chunkedStreamIterator.next();let r=!n&&e;if(n&&(r=await this.sendChunkWithRetries(n)),this.success=!!e,this.success&&r&&this.dispatch("success"),!r)return}}},YRr=function(n){var e,r;function i(s){var a;return(a=n.call(this,s)||this).state={hasError:!1,error:null},a}r=n,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,i.getDerivedStateFromError=function(s){return{hasError:!0,error:s}};var o=i.prototype;return o.componentDidCatch=function(s,a){return this.props.onDidCatch(s,a)},o.render=function(){var s=this.state,a=this.props,l=a.render,c=a.children,u=a.renderError;return s.hasError?u?u({error:s.error}):null:l?l():c||null},i}(p.PureComponent),ZRr=function(n,e){switch(e.type){case"catch":return{didCatch:!0,error:e.error};case"reset":return{didCatch:!1,error:null};default:return n}};function XRr(n){var e=p.useReducer(ZRr,{didCatch:!1,error:null}),r=e[0],i=e[1],o=p.useRef(null);function s(){return c=function(u,f){i({type:"catch",error:u}),n&&n.onDidCatch&&n.onDidCatch(u,f)},function(u){return _t.createElement(YRr,{onDidCatch:c,children:u.children,render:u.render,renderError:u.renderError})};var c}var a,l=p.useCallback(function(){o.current=s(),i({type:"reset"})},[]);return{ErrorBoundary:(a=o.current,a!==null?a:(o.current=s(),o.current)),didCatch:r.didCatch,error:r.error,reset:l}}const QRr=()=>d.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2zm0 14H3V5h18v12zm-5-6l-7 4V7z"})}),qae="2022-09-14";function Qy(){return Jr({apiVersion:qae})}const JRr=/([^!@#$%^&*(),\\/?";:{}|[\]+<>\s-])+/g,eOr=/(^[.]+)|([.]+$)/;function tOr(n){return(n.match(JRr)||[]).map(e=>e.replace(eOr,""))}function nOr(n){const e={};return n.reduce((r,i,o)=>(r["t".concat(o)]="*".concat(i,"*"),r),e)}function rOr(n){const e=[],r=n.replace(/("[^"]*")/g,s=>l0.words(s).length>1?(e.push(s),""):s),i=e.map(s=>l0.trim(l0.toLower(s))),o=l0.uniq(l0.compact(tOr(l0.toLower(r))));return[...i,...o]}function iOr(n,e){const r=e?["filename","assetId"]:["filename"];return n.map((o,s)=>r.map(a=>"".concat(a," match $t").concat(s))).filter(o=>o.length>0).map(o=>"(".concat(o.join(" || "),")"))}function oOr(n){const e=rOr(n);return{filter:iOr(e,n.length>=8),params:{...nOr(e)}}}const yut={createdDesc:{groq:"_createdAt desc",label:"Newest first"},createdAsc:{groq:"_createdAt asc",label:"First created (oldest)"},filenameAsc:{groq:"filename asc",label:"By filename (A-Z)"},filenameDesc:{groq:"filename desc",label:"By filename (Z-A)"}},sOr=rm(n=>{let{documentStore:e,sort:r,searchQuery:i}=n;const o=oOr(i),s=['_type == "mux.videoAsset"',...o.filter].filter(Boolean).join(" && "),a=yut[r].groq;return e.listenQuery("*[".concat(s,"] | order(").concat(a,")"),o.params,{apiVersion:qae})});function aOr(){const n=Fc(),[e,r]=p.useState("createdDesc"),[i,o]=p.useState(""),[s=[],a]=sOr({documentStore:n,sort:e,searchQuery:i});return{assets:p.useMemo(()=>qS(s).map(c=>({...c.draft||c.published||{},_id:c.id})),[s]),isLoading:a,sort:e,searchQuery:i,setSort:r,setSearchQuery:o}}const lOr={constrainSize:!0,placement:"bottom",portal:!0,width:0};function cOr(n){const e=p.useId();return d.jsx(hEr,{button:d.jsx(ss,{text:"Sort",icon:O8,mode:"bleed",padding:3,style:{cursor:"pointer"}}),id:e,menu:d.jsx(Sst,{children:Object.entries(yut).map(r=>{let[i,{label:o}]=r;return d.jsx(WA,{"data-as":"button",onClick:()=>n.setSort(i),padding:3,tone:"default",text:o,pressed:i===n.sort},i)})}),popover:lOr})}const AI=()=>d.jsx(Gn,{style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"150px"},children:d.jsx(UB,{})}),LFe="mux-input",uQ="sanity-plugin-mux-input",uOr="secrets.mux",dQ=6e4,but=16/9,dOr=5/4;function fOr(n){const{children:e,title:r,description:i,inputId:o}=n;return d.jsxs(is,{space:1,children:[d.jsx(Pi,{align:"flex-end",children:d.jsx(Gn,{flex:1,paddingY:2,children:d.jsxs(is,{space:2,children:[d.jsx(Rn,{as:"label",htmlFor:o,weight:"semibold",size:1,children:r||d.jsx("em",{children:"Untitled"})}),i&&d.jsx(Rn,{muted:!0,size:1,children:i})]})})}),d.jsx("div",{children:e})]})}var fQ=p.memo(fOr);const vp=n=>{const e=n.icon;return d.jsxs(Pi,{gap:2,align:"center",padding:1,children:[d.jsx(Rn,{size:(n.size||1)+1,muted:!0,children:d.jsx(e,{})}),d.jsx(Rn,{size:n.size||1,muted:n.muted,children:n.text})]})};function hOr(n){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",...n,children:d.jsx("path",{fill:"currentColor",d:"M20 9V6h-3V4h5v5h-2ZM2 9V4h5v2H4v3H2Zm15 11v-2h3v-3h2v5h-5ZM2 20v-5h2v3h3v2H2Zm4-4V8h12v8H6Zm2-2h8v-4H8v4Zm0 0v-4v4Z"})})}function pOr(n){return d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 512 512",...n,children:[d.jsx("path",{d:"M232 306.667h48V176h-48v130.667z",fill:"currentColor"}),d.jsx("path",{d:"M407.67 170.271l30.786-30.786-33.942-33.941-30.785 30.786C341.217 111.057 300.369 96 256 96 149.961 96 64 181.961 64 288s85.961 192 192 192 192-85.961 192-192c0-44.369-15.057-85.217-40.33-117.729zm-45.604 223.795C333.734 422.398 296.066 438 256 438s-77.735-15.602-106.066-43.934C121.602 365.735 106 328.066 106 288s15.602-77.735 43.934-106.066C178.265 153.602 215.934 138 256 138s77.734 15.602 106.066 43.934C390.398 210.265 406 247.934 406 288s-15.602 77.735-43.934 106.066z",fill:"currentColor"}),d.jsx("path",{d:"M192 32h128v48H192z",fill:"currentColor"})]})}const M4="secrets.mux";function mOr(n){const{projectId:e,dataset:r}=n.config();return Vct(async()=>{const i=await n.fetch(`*[_id == $_id][0]{
        token,
        secretKey,
        enableSignedUrls,
        signingKeyId,
        signingKeyPrivate
      }`,{_id:M4});return{token:(i==null?void 0:i.token)||null,secretKey:(i==null?void 0:i.secretKey)||null,enableSignedUrls:!!(i!=null&&i.enableSignedUrls)||!1,signingKeyId:(i==null?void 0:i.signingKeyId)||null,signingKeyPrivate:(i==null?void 0:i.signingKeyPrivate)||null}},[uQ,M4,e,r])}function xut(n,e,r,i){const{signingKeyId:o,signingKeyPrivate:s}=mOr(n);if(!o)throw new TypeError("Missing signingKeyId");if(!s)throw new TypeError("Missing signingKeyPrivate");const{default:a}=Vct(()=>Ay(()=>import("./sign-04aba082.js"),[]),["jsonwebtoken-esm/sign"]);return a(i?JSON.parse(JSON.stringify(i,(l,c)=>c??void 0)):{},atob(s),{algorithm:"RS256",keyid:o,audience:r,subject:e,noTimestamp:!0,expiresIn:"12h"})}function wut(n){if(!(n!=null&&n.playbackId))throw console.error("Asset is missing a playbackId",{asset:n}),new TypeError("Missing playbackId");return n.playbackId}function h7(n){var e,r,i,o;return(o=(i=(r=(e=n.data)==null?void 0:e.playback_ids)==null?void 0:r[0])==null?void 0:i.policy)!=null?o:"public"}function gOr(n){let{asset:e,client:r}=n;const i=wut(e),o=new URLSearchParams;if(h7(e)==="signed"){const s=xut(r,i,"v");o.set("token",s)}return"https://stream.mux.com/".concat(i,".m3u8?").concat(o)}var vOr="sanity-plugin-mux-input",yOr="2.2.4",bOr="An input component that integrates Sanity Studio with Mux video encoding/hosting service.",xOr=["sanity","video","mux","input","plugin","sanity-plugin","media"],wOr="https://github.com/sanity-io/sanity-plugin-mux-input#readme",_Or={url:"https://github.com/sanity-io/sanity-plugin-mux-input/issues"},EOr={type:"git",url:"git@github.com:sanity-io/sanity-plugin-mux-input.git"},COr="MIT",SOr="Sanity.io <hello@sanity.io>",kOr=!1,TOr="module",AOr={".":{types:"./lib/index.d.ts",source:"./src/index.ts",require:"./lib/index.cjs",node:{module:"./lib/index.js",import:"./lib/index.cjs.js"},import:"./lib/index.js",default:"./lib/index.js"},"./package.json":"./package.json"},IOr="./lib/index.cjs",DOr="./lib/index.js",ROr="./src/index.ts",OOr="./lib/index.d.ts",POr=["src","lib","sanity.json","v2-incompatible.js"],jOr={build:"run-s clean && plugin-kit verify-package --silent && pkg-utils build --strict && pkg-utils --strict",clean:"rimraf lib",dev:"next dev",format:"prettier --write --cache --ignore-unknown .","link-watch":"plugin-kit link-watch",lint:"eslint .",prepare:"husky install || true",prepublishOnly:"run-s build",test:"npm run lint && npm run type-check && npm run build","type-check":"tsc --noEmit",watch:"pkg-utils watch --strict"},LOr={"@mux/mux-player-react":"1.15.0","@mux/upchunk":"^3.2.0","@sanity/icons":"^2","@sanity/incompatible-plugin":"^1","@sanity/ui":"^1","@sanity/uuid":"^3","jsonwebtoken-esm":"^1.0.5",lodash:"^4","react-rx":"^2.1.3",rxjs:"^7","scroll-into-view-if-needed":"^3","suspend-react":"^0.1.3",swr:"^2.2.1","type-fest":"^4.2.0","use-error-boundary":"^2.0.6"},$Or={"@commitlint/cli":"^17.8.1","@commitlint/config-conventional":"^17.8.1","@sanity/pkg-utils":"^2.4.10","@sanity/plugin-kit":"^3.1.10","@sanity/semantic-release-preset":"^4.1.6","@sanity/vision":"^3.19.2","@types/react":"^18.2.37","@types/styled-components":"^5.1.30","@typescript-eslint/eslint-plugin":"^5.62.0","@typescript-eslint/parser":"^5.62.0","cz-conventional-changelog":"^3.3.0",eslint:"^8.53.0","eslint-config-prettier":"^9.0.0","eslint-config-react-app":"^7.0.1","eslint-config-sanity":"^6.0.0","eslint-plugin-import":"^2.29.0","eslint-plugin-prettier":"^5.0.1","eslint-plugin-react":"^7.33.2","eslint-plugin-react-hooks":"^4.6.0","eslint-plugin-simple-import-sort":"^10.0.0",husky:"^8.0.3","lint-staged":"^13.3.0",next:"^13.5.6","next-sanity":"^5.5.10","npm-run-all":"^4.1.5",prettier:"^3.1.0","prettier-plugin-packagejson":"^2.4.6",react:"^18.2.0","react-dom":"^18.2.0","react-is":"^18.2.0",rimraf:"^5.0.0",sanity:"^3.19.2","styled-components":"^5.3.11",typescript:"^5.2.2"},MOr={react:"^18","react-is":"^18",sanity:"^3","styled-components":"^5.2"},FOr={node:">=14"},NOr={access:"public",provenance:!0},BOr="https://www.sanity.io/plugins/sanity-plugin-mux-input",UOr={name:vOr,version:yOr,description:bOr,keywords:xOr,homepage:wOr,bugs:_Or,repository:EOr,license:COr,author:SOr,sideEffects:kOr,type:TOr,exports:AOr,main:IOr,module:DOr,source:ROr,types:OOr,files:POr,scripts:jOr,dependencies:LOr,devDependencies:$Or,peerDependencies:MOr,engines:FOr,publishConfig:NOr,sanityExchangeUrl:BOr};function Kae(n){let{asset:e,children:r,...i}=n;var o,s;const a=Qy(),l=p.useMemo(()=>(e==null?void 0:e.playbackId)&&gOr({client:a,asset:e}),[e,a]),c=p.useMemo(()=>{try{return new URL(l).searchParams.get("token")}catch{return!1}},[l]),[u,f]=((s=(o=e==null?void 0:e.data)==null?void 0:o.aspect_ratio)!=null?s:"16:9").split(":").map(Number),h=i.forceAspectRatio||(Number.isNaN(u)?16/9:u/f),m=Math.max(dOr,h);return d.jsx(kr,{tone:"transparent",style:{aspectRatio:m,position:"relative"},children:l&&d.jsxs(d.Fragment,{children:[d.jsx(DDr,{...i,playsInline:!0,playbackId:e.playbackId,tokens:c?{playback:c,thumbnail:c,storyboard:c}:void 0,streamType:"on-demand",preload:"metadata",crossOrigin:"anonymous",metadata:{player_name:"Sanity Admin Dashboard",player_version:UOr.version,page_type:"Preview Player"},style:{height:"100%",width:"100%",display:"block",objectFit:"contain"}}),r]})})}function _ut(n,e){const{dataset:r}=n.config();return n.request({url:"/addons/mux/assets/".concat(r,"/").concat(e),withCredentials:!0,method:"DELETE"})}async function zOr(n){let{client:e,asset:r,deleteOnMux:i}=n;if(!(r!=null&&r._id))return!0;try{await e.delete(r._id)}catch{return"failed-sanity"}if(i&&(r!=null&&r.assetId))try{await _ut(e,r.assetId)}catch{return"failed-mux"}return!0}function VOr(n,e){const{dataset:r}=n.config();return n.request({url:"/addons/mux/assets/".concat(r,"/data/").concat(e),withCredentials:!0,method:"GET"})}const HOr=(n,e)=>({title:d.jsxs("em",{children:["No schema found for type ",d.jsx("code",{children:e})]}),subtitle:d.jsxs("em",{children:["Document: ",d.jsx("code",{children:n})]}),media:()=>d.jsx(as,{})});function WOr(n){const{layout:e,value:r}=n;return d.jsx(am,{...HOr(r._id,r._type),layout:e})}function Eut(n){let{time:e}=n;const r=Dnr(e);return d.jsxs("span",{title:r,children:[r," ago"]})}function GOr(n){const{document:e}=n,r=e&&"_updatedAt"in e&&e._updatedAt;return d.jsx(GB,{portal:!0,content:d.jsx(Gn,{padding:2,children:d.jsx(Rn,{size:1,children:e?d.jsxs(d.Fragment,{children:["Edited ",r&&d.jsx(Eut,{time:r})]}):d.jsx(d.Fragment,{children:"No unpublished edits"})})}),children:d.jsx(mo,{tone:"caution",dimmed:!e,muted:!e,size:1,children:d.jsx(df,{})})})}function qOr(n){const{document:e}=n,r=e&&"_updatedAt"in e&&e._updatedAt;return d.jsx(GB,{portal:!0,content:d.jsx(Gn,{padding:2,children:d.jsx(Rn,{size:1,children:e?d.jsxs(d.Fragment,{children:["Published ",r&&d.jsx(Eut,{time:r})]}):d.jsx(d.Fragment,{children:"Not published"})})}),children:d.jsx(mo,{tone:"positive",dimmed:!e,muted:!e,size:1,children:d.jsx(UE,{})})})}function KOr(n){const{icon:e,layout:r,presence:i,schemaType:o,value:s}=n,a=$n(s.title)&&p.isValidElement(s.title)||l0.isString(s.title)||l0.isNumber(s.title)?s.title:null,{draft:l,published:c,isLoading:u}=bs(()=>r2(n.documentPreviewStore,o,s._id,a),[n.documentPreviewStore,o,s._id,a]),f=u?null:d.jsxs(nd,{space:4,children:[i&&i.length>0&&d.jsx(jN,{presence:i}),d.jsx(qOr,{document:c}),d.jsx(GOr,{document:l})]});return d.jsx(am,{...eB({value:s,draft:l,published:c}),isPlaceholder:u,icon:e,layout:r,status:f})}function YOr(n,e,r){return n===!1?!1:n||e&&e.icon||r||!1}function ZOr(n){const{ChildLink:e}=PDr();return r=>d.jsx(e,{childId:n.documentPair.id,childParameters:{type:n.documentPair.type},children:r.children})}function XOr(n){return e=>d.jsx(Sf,{intent:"edit",params:{id:n.documentPair.id},children:e.children})}function QOr(n){const{schemaType:e,documentPair:r}=n,i=(r==null?void 0:r.draft)||(r==null?void 0:r.published),o=r.id||"",s=Qa(),a=Ar(),l=yw(o),c=!!(e&&e.name&&a.get(e.name)),u=p.useMemo(()=>i?!e||!c?d.jsx(WOr,{value:i}):d.jsx(KOr,{documentPreviewStore:s,icon:YOr(void 0,e,gh),schemaType:e,layout:"default",value:i,presence:l}):null,[c,e,l,i,s]);return d.jsx(J0,{__unstable_focusRing:!0,as:n.placement==="input"?ZOr(n):XOr(n),"data-as":"a","data-ui":"PaneItem",padding:2,radius:2,tone:"inherit",children:u})}var $Fe=Object.freeze,JOr=Object.defineProperty,ePr=(n,e)=>$Fe(JOr(n,"raw",{value:$Fe(e||n.slice())})),MFe;const tPr=F(Gn)(MFe||(MFe=ePr([`
  * {
    color: `,`;
  }
  a {
    text-decoration: none;
  }
  h2 {
    font-size: `,`;
  }
`])),n=>n.theme.sanity.color.base.fg,n=>n.theme.sanity.fonts.text.sizes[1]),Cut=n=>{var e;const r=Ar();if(!n.isLoaded)return d.jsx(AI,{});if(!((e=n.references)!=null&&e.length))return d.jsx(kr,{border:!0,radius:3,padding:3,children:d.jsx(Rn,{size:2,children:"No documents are using this video"})});const i=qS(n.references||[]);return d.jsx(tPr,{children:i==null?void 0:i.map(o=>{const s=r.get(o.type);return d.jsx(kr,{marginBottom:2,padding:2,radius:2,shadow:1,style:{overflow:"hidden"},children:d.jsx(Gn,{children:d.jsx(QOr,{documentPair:o,schemaType:s,placement:n.placement})})},o.id)})})};function nPr(n){let{asset:e,references:r,referencesLoading:i,cancelDelete:o,placement:s,succeededDeleting:a}=n;const l=Qy(),[c,u]=p.useState("checkingReferences"),[f,h]=p.useState(!0),m=Bse();p.useEffect(()=>{c!=="checkingReferences"||i||u(r!=null&&r.length?"cantDelete":"confirm")},[c,r,i]);async function g(){if(c!=="confirm")return;u("processing_deletion");const v=await zOr({client:l,asset:e,deleteOnMux:f});v===!0?(m.push({title:"Successfully deleted video",status:"success"}),a()):v==="failed-mux"?(m.push({title:"Deleted video in Sanity",description:"But it wasn't deleted in Mux",status:"warning"}),a()):(m.push({title:"Failed deleting video",status:"error"}),u("error_deleting"))}return d.jsx(pI,{header:"Delete video",zOffset:dQ,id:"deleting-video-details-dialog",onClose:o,onClickOutside:o,width:1,position:"fixed",footer:d.jsx(kr,{padding:3,children:d.jsx(Pi,{justify:"space-between",align:"center",children:d.jsx(ss,{icon:vs,fontSize:2,padding:3,text:"Delete video",tone:"critical",onClick:g,disabled:["processing_deletion","checkingReferences","cantDelete"].some(v=>v===c)})})}),children:d.jsx(kr,{padding:5,style:{minHeight:"150px",display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsxs(is,{space:3,children:[c==="checkingReferences"&&d.jsxs(d.Fragment,{children:[d.jsx(v0,{size:2,children:"Checking if video can be deleted"}),d.jsx(AI,{})]}),c==="cantDelete"&&d.jsxs(d.Fragment,{children:[d.jsx(v0,{size:2,children:"Video can't be deleted"}),d.jsxs(Rn,{size:2,style:{marginBottom:"2rem"},children:["There are ",r==null?void 0:r.length," document",r&&r.length>0&&"s"," ","pointing to this video. Remove their references to this file or delete them before proceeding."]}),d.jsx(Cut,{references:r,isLoaded:!i,placement:s})]}),c==="confirm"&&d.jsxs(d.Fragment,{children:[d.jsx(v0,{size:2,children:"Are you sure you want to delete this video?"}),d.jsx(Rn,{size:2,children:"This action is irreversible"}),d.jsxs(is,{space:4,marginTop:4,children:[d.jsxs(Pi,{align:"center",as:"label",children:[d.jsx(SZ,{checked:f,onChange:()=>h(v=>!v)}),d.jsx(Rn,{style:{margin:"0 10px"},children:"Delete asset on Mux"})]}),d.jsxs(Pi,{align:"center",as:"label",children:[d.jsx(SZ,{disabled:!0,checked:!0}),d.jsx(Rn,{style:{margin:"0 10px"},children:"Delete video from dataset"})]})]})]}),c==="processing_deletion"&&d.jsxs(d.Fragment,{children:[d.jsx(v0,{size:2,children:"Deleting video..."}),d.jsx(AI,{})]}),c==="error_deleting"&&d.jsxs(d.Fragment,{children:[d.jsx(v0,{size:2,children:"Something went wrong!"}),d.jsx(Rn,{size:2,children:"Try deleting the video again by clicking the button below"})]})]})})})}const rPr=rm(n=>{let{documentStore:e,id:r}=n;return e.listenQuery("*[references($id)]{_id, _type, _rev, _updatedAt, _createdAt}",{id:r},{apiVersion:qae})});function iPr(n){if(typeof n!="number"||Number.isNaN(n))return"";const e=~~(n/3600),r=~~(n%3600/60),i=~~n%60;let o="";return e>0&&(o+=""+e+":"+(r<10?"0":"")),o+=""+r+":"+(i<10?"0":""),o+=""+i,o}function Sut(n){var e,r,i,o,s,a;const l=n.assetId||n._id||"",c=(e=n.data)!=null&&e.created_at?new Date(Number(n.data.created_at)*1e3):new Date(n._createdAt||n._updatedAt||Date.now());return{title:n.filename||l.slice(0,12),id:l,createdAt:c,duration:(r=n.data)!=null&&r.duration?iPr((i=n.data)==null?void 0:i.duration):void 0,aspect_ratio:(o=n.data)==null?void 0:o.aspect_ratio,max_stored_resolution:(s=n.data)==null?void 0:s.max_stored_resolution,max_stored_frame_rate:(a=n.data)==null?void 0:a.max_stored_frame_rate}}function oPr(n){const e=Fc(),r=Bse(),i=Qy(),[o,s]=rPr({documentStore:e,id:n.asset._id}),[a,l]=p.useState(()=>n.asset),[c,u]=p.useState(n.asset.filename),f=c!==a.filename,h=Sut({...n.asset,filename:c}),[m,g]=p.useState("idle");function v(){if(m==="idle"){if(f){g("closing");return}n.closeDialog()}}function y(x){m==="closing"&&(x&&n.closeDialog(),g("idle"))}async function b(){if(m==="idle"){g("saving");try{await i.patch(n.asset._id).set({filename:c}).commit(),l(x=>({...x,filename:c})),r.push({title:"Video title updated",description:"New title: ".concat(c),status:"success"}),n.closeDialog()}catch(x){r.push({title:"Failed updating file name",status:"error",description:typeof x=="string"?x:"Please try again"}),u(a.filename)}g("idle")}}return{references:o,referencesLoading:s,modified:f,filename:c,setFilename:u,displayInfo:h,state:m,setState:g,handleClose:v,confirmClose:y,saveChanges:b}}const sPr=n=>d.jsx(fQ,{title:n.label,description:n.description,inputId:n.label,children:d.jsx(hI,{id:n.label,value:n.value,placeholder:n.placeholder,onInput:n.onInput,disabled:n.disabled})}),aPr=n=>{const[e,r]=p.useState("details"),{displayInfo:i,filename:o,modified:s,references:a,referencesLoading:l,setFilename:c,state:u,setState:f,handleClose:h,confirmClose:m,saveChanges:g}=oPr(n),v=u==="saving",[y,b]=p.useState(null),x=_t.useRef(null);return p.useEffect(()=>{!x.current||!("getBoundingClientRect"in x.current)||b(x.current.getBoundingClientRect().height)},[]),d.jsxs(pI,{header:i.title,zOffset:dQ,id:"video-details-dialog",onClose:h,onClickOutside:h,width:2,position:"fixed",footer:d.jsx(kr,{padding:3,children:d.jsxs(Pi,{justify:"space-between",align:"center",children:[d.jsx(ss,{icon:vs,fontSize:2,padding:3,mode:"bleed",text:"Delete",tone:"critical",onClick:()=>f("deleting"),disabled:v}),s&&d.jsx(ss,{icon:ec,fontSize:2,padding:3,mode:"ghost",text:"Save and close",tone:"positive",onClick:g,iconRight:v&&UB,disabled:v})]})}),children:[u==="deleting"&&d.jsx(nPr,{asset:n.asset,cancelDelete:()=>f("idle"),placement:n.placement,referencesLoading:l,references:a,succeededDeleting:()=>{n.closeDialog()}}),u==="closing"&&d.jsx(pI,{header:"You have unsaved changes",zOffset:dQ,id:"closing-video-details-dialog",onClose:()=>m(!1),onClickOutside:()=>m(!1),width:1,position:"fixed",footer:d.jsx(kr,{padding:3,children:d.jsxs(Pi,{justify:"space-between",align:"center",children:[d.jsx(ss,{icon:Dc,fontSize:2,padding:3,text:"Discard changes",tone:"critical",onClick:()=>m(!0)}),s&&d.jsx(ss,{icon:R8,fontSize:2,padding:3,mode:"ghost",text:"Keep editing",tone:"primary",onClick:()=>m(!1)})]})}),children:d.jsx(kr,{padding:5,children:d.jsxs(is,{style:{textAlign:"center"},space:3,children:[d.jsx(v0,{size:2,children:"Unsaved changes will be lost"}),d.jsx(Rn,{size:2,children:"Are you sure you want to discard them?"})]})})}),d.jsx(kr,{padding:4,sizing:"border",style:{containerType:"inline-size"},children:d.jsxs(Pi,{sizing:"border",gap:4,direction:["column","column","row"],align:"flex-start",ref:x,style:typeof y=="number"?{minHeight:y}:void 0,children:[d.jsx(is,{space:4,flex:1,sizing:"border",children:d.jsx(Kae,{asset:n.asset,autoPlay:n.asset.autoPlay||!1})}),d.jsxs(is,{space:4,flex:1,sizing:"border",children:[d.jsxs(jEr,{space:2,children:[d.jsx(Q$e,{"aria-controls":"details-panel",icon:df,id:"details-tab",label:"Details",onClick:()=>r("details"),selected:e==="details"}),d.jsx(Q$e,{"aria-controls":"references-panel",icon:Aa,id:"references-tab",label:"Used by ".concat(a?"(".concat(a.length,")"):""),onClick:()=>r("references"),selected:e==="references"})]}),d.jsx(tMe,{"aria-labelledby":"details-tab",id:"details-panel",hidden:e!=="details",style:{wordBreak:"break-word"},children:d.jsxs(is,{space:4,children:[d.jsx(sPr,{label:"Video title or file name",description:"Not visible to users. Useful for finding videos later.",value:o||"",onInput:_=>c(_.currentTarget.value),disabled:u!=="idle"}),d.jsxs(is,{space:3,children:[(i==null?void 0:i.duration)&&d.jsx(vp,{text:"Duration: ".concat(i.duration),icon:T8,size:2}),(i==null?void 0:i.max_stored_resolution)&&d.jsx(vp,{text:"Max Resolution: ".concat(i.max_stored_resolution),icon:hOr,size:2}),(i==null?void 0:i.max_stored_frame_rate)&&d.jsx(vp,{text:"Frame rate: ".concat(i.max_stored_frame_rate),icon:pOr,size:2}),(i==null?void 0:i.aspect_ratio)&&d.jsx(vp,{text:"Aspect Ratio: ".concat(i.aspect_ratio),icon:hJ,size:2}),d.jsx(vp,{text:"Uploaded on: ".concat(i.createdAt.toLocaleDateString("en",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0})),icon:Xd,size:2}),d.jsx(vp,{text:`Mux ID: 
`.concat(i.id),icon:wJ,size:2})]})]})}),d.jsx(tMe,{"aria-labelledby":"references-tab",id:"references-panel",hidden:e!=="references",children:d.jsx(Cut,{references:a,isLoaded:!l,placement:n.placement})})]})]})})]})},lPr=n=>{if(!n.asset)return null;const e=Sut(n.asset);return d.jsxs(is,{space:2,children:[e.title&&d.jsx(Rn,{size:1,weight:"semibold",style:{wordWrap:"break-word"},children:e.title}),d.jsxs(nd,{space:3,children:[(e==null?void 0:e.duration)&&d.jsx(vp,{text:e.duration,icon:T8,size:1,muted:!0}),d.jsx(vp,{text:e.createdAt.toISOString().split("T")[0],icon:Xd,size:1,muted:!0}),e.title!=e.id.slice(0,12)&&d.jsx(vp,{text:e.id.slice(0,12),icon:wJ,size:1,muted:!0})]})]})};function cPr(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const[e,r]=p.useState(!1),i=p.useRef(null);return p.useEffect(()=>{if(!i.current)return;const o=new IntersectionObserver((a,l)=>{let[c]=a;var u;const f=c.isIntersecting&&l.thresholds.some(h=>c.intersectionRatio>=h);r(f),(u=n==null?void 0:n.onChange)==null||u.call(n,f)},n),s=i.current;return o.observe(s),()=>{s&&o.unobserve(s)}},[n]),{inView:e,ref:i}}function uPr(n){let{asset:e,client:r,height:i,width:o,start:s=e.thumbTime?Math.max(0,e.thumbTime-2.5):0,end:a=s+5,fps:l=15}=n;const c={height:i,width:o,start:s,end:a,fps:l},u=wut(e);let f=new URLSearchParams(JSON.parse(JSON.stringify(c,(h,m)=>m??void 0)));if(h7(e)==="signed"){const h=xut(r,u,"g",c);f=new URLSearchParams({token:h})}return"https://image.mux.com/".concat(u,"/animated.gif?").concat(f)}var FFe=Object.freeze,dPr=Object.defineProperty,fPr=(n,e)=>FFe(dPr(n,"raw",{value:FFe(e||n.slice())})),NFe;const hPr=F.img(NFe||(NFe=fPr([`
  transition: opacity 0.175s ease-out 0s;
  display: block;
  width: 100%;
  height: 100%;
  object-fit: contain;
  object-position: center center;
`]))),pPr={loading:"transparent",error:"critical",loaded:"default"};function kut(n){let{asset:e,width:r=250}=n;const{inView:i,ref:o}=cPr(),[s,a]=p.useState("loading"),l=Qy(),c=p.useMemo(()=>{try{return uPr({asset:e,client:l,width:r})}catch{s!=="error"&&a("error");return}},[e,l,r,s,a]);function u(){a("loaded")}function f(){a("error")}return d.jsx(kr,{style:{aspectRatio:but,position:"relative"},border:!0,radius:2,ref:o,tone:pPr[s],children:i?d.jsxs(d.Fragment,{children:[s==="loading"&&d.jsx(AI,{}),s==="error"&&d.jsxs(is,{space:4,style:{position:"absolute",width:"100%",left:0,top:"50%",transform:"translateY(-50%)",justifyItems:"center"},children:[d.jsx(Rn,{size:4,muted:!0,children:d.jsx(Dc,{style:{fontSize:"1.75em"}})}),d.jsx(Rn,{muted:!0,align:"center",children:"Failed loading thumbnail"})]}),d.jsx(hPr,{src:c,alt:"Preview for video ".concat(e.filename||e.assetId),onLoad:u,onError:f,style:{opacity:s==="loaded"?1:0}})]}):null})}var BFe=Object.freeze,mPr=Object.defineProperty,gPr=(n,e)=>BFe(mPr(n,"raw",{value:BFe(e||n.slice())})),UFe;const vPr=F.button(UFe||(UFe=gPr([`
  display: block;
  padding: 0;
  margin: 0;
  border: none;
  border-radius: 0.1875rem;
  position: relative;
  cursor: pointer;

  &::after {
    content: '';
    background: var(--card-fg-color);
    opacity: 0;
    display: block;
    position: absolute;
    inset: 0;
    z-index: 10;
    transition: 0.15s ease-out;
    border-radius: inherit;
  }

  > div[data-play] {
    z-index: 11;
    opacity: 0;
    transition: 0.15s 0.05s ease-out;
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
    color: var(--card-fg-color);
    background: var(--card-bg-color);
    width: auto;
    height: 30%;
    aspect-ratio: 1;
    border-radius: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    box-sizing: border-box;
    > svg {
      display: block;
      width: 70%;
      height: auto;
      // Visual balance to center-align the icon
      transform: translateX(5%);
    }
  }

  &:hover,
  &:focus {
    &::after {
      opacity: 0.3;
    }
    > div[data-play] {
      opacity: 1;
    }
  }
`])));function yPr(n){let{onSelect:e,onEdit:r,asset:i}=n;const[o,s]=p.useState(!1),a=_t.useCallback(()=>e==null?void 0:e(i),[e,i]),l=_t.useCallback(()=>r==null?void 0:r(i),[r,i]);if(!i)return null;const c=h7(i);return d.jsxs(kr,{border:!0,padding:2,sizing:"border",radius:2,style:{position:"relative"},children:[c==="signed"&&d.jsx(GB,{content:d.jsx(kr,{padding:2,radius:2,children:d.jsx(vp,{icon:NM,text:"Signed playback policy",size:2})}),placement:"right",fallbackPlacements:["top","bottom"],portal:!0,children:d.jsx(kr,{tone:"caution",style:{borderRadius:"100%",position:"absolute",left:"1em",top:"1em",zIndex:10},padding:2,border:!0,children:d.jsx(Rn,{muted:!0,size:1,children:d.jsx(NM,{})})})}),d.jsxs(is,{space:3,height:"fill",style:{gridTemplateRows:"min-content min-content 1fr"},children:[o?d.jsx(Kae,{asset:i,autoPlay:!0,forceAspectRatio:but}):d.jsxs(vPr,{onClick:()=>s(!0),children:[d.jsx("div",{"data-play":!0,children:d.jsx(hBe,{})}),d.jsx(kut,{asset:i})]}),d.jsx(lPr,{asset:i}),d.jsxs("div",{style:{display:"flex",width:"100%",alignItems:"flex-end",justifyContent:"flex-start",gap:".35rem"},children:[e&&d.jsx(ss,{icon:ec,fontSize:2,padding:2,mode:"ghost",text:"Select",style:{flex:1},tone:"positive",onClick:a}),d.jsx(ss,{icon:df,fontSize:2,padding:2,mode:"ghost",text:"Details",style:{flex:1},onClick:l})]})]})]})}function Tut(n){let{onSelect:e}=n;const{assets:r,isLoading:i,searchQuery:o,setSearchQuery:s,setSort:a,sort:l}=aOr(),[c,u]=_t.useState(null),f=_t.useMemo(()=>r.find(h=>h._id===(c==null?void 0:c._id))||c,[c,r]);return d.jsxs(d.Fragment,{children:[d.jsxs(is,{padding:4,space:4,style:{minHeight:"50vh"},children:[d.jsx(Pi,{justify:"space-between",align:"center",children:d.jsxs(Pi,{align:"center",gap:3,children:[d.jsx(hI,{value:o,icon:Aa,onInput:h=>s(h.currentTarget.value),placeholder:"Search videos"}),d.jsx(cOr,{setSort:a,sort:l})]})}),d.jsxs(is,{space:3,children:[(r==null?void 0:r.length)>0&&d.jsxs(Dse,{muted:!0,children:[r.length," video",r.length>1?"s":null," ",o?'matching "'.concat(o,'"'):"found"]}),d.jsx(Ose,{gap:2,style:{gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))"},children:r.map(h=>d.jsx(yPr,{asset:h,onEdit:u,onSelect:e},h._id))})]}),i&&d.jsx(AI,{}),!i&&r.length===0&&d.jsx(kr,{padding:4,marginY:4,border:!0,radius:2,tone:"transparent",children:d.jsx(Rn,{align:"center",muted:!0,size:3,children:o?'No videos found for "'.concat(o,'"'):"No videos in this dataset"})})]}),f&&d.jsx(aPr,{closeDialog:()=>u(null),asset:f,placement:e?"input":"tool"})]})}const bPr=()=>d.jsx(Tut,{});function xPr(n){const e=typeof n.tool=="object"?n.tool:{};return{name:"mux",title:e.title||"Videos",component:r=>d.jsx(bPr,{...n,...r}),icon:e.icon||QRr}}const wPr=["assetId","data","playbackId","status","thumbTime","filename"],_Pr=n=>woe(qp(n)?n._ref:"",wPr);function EPr(){return p.useState(!1)}const CPr=n=>{var e,r;const i=Qy(),o=yB(),s=Hoe(),a=p.useMemo(()=>{var l,c;return!!(n!=null&&n.assetId)&&((n==null?void 0:n.status)==="preparing"||((c=(l=n==null?void 0:n.data)==null?void 0:l.static_renditions)==null?void 0:c.status)==="preparing")},[n==null?void 0:n.assetId,(r=(e=n==null?void 0:n.data)==null?void 0:e.static_renditions)==null?void 0:r.status,n==null?void 0:n.status]);return cRr(a?"/".concat(o,"/addons/mux/assets/").concat(s,"/data/").concat(n==null?void 0:n.assetId):null,async()=>{const{data:l}=await i.request({url:"/addons/mux/assets/".concat(s,"/data/").concat(n.assetId),withCredentials:!0,method:"GET"});i.patch(n._id).set({status:l.status,data:l}).commit({returnDocuments:!1})},{refreshInterval:2e3,refreshWhenHidden:!0,dedupingInterval:1e3})},SPr=["token","secretKey","enableSignedUrls","signingKeyId","signingKeyPrivate"],kPr=()=>{const{error:n,isLoading:e,value:r}=woe(uOr,SPr),i=p.useMemo(()=>{const o=!!r,s={token:(r==null?void 0:r.token)||null,secretKey:(r==null?void 0:r.secretKey)||null,enableSignedUrls:(r==null?void 0:r.enableSignedUrls)||!1,signingKeyId:(r==null?void 0:r.signingKeyId)||null,signingKeyPrivate:(r==null?void 0:r.signingKeyPrivate)||null};return{isInitialSetup:!o,needsSetup:!(s!=null&&s.token)||!(s!=null&&s.secretKey),secrets:s}},[r]);return{error:n,isLoading:e,value:i}};function TPr(n,e,r){return new Un(i=>{const o=vut.createUpload({endpoint:e,file:r,dynamicChunkSize:!0}),s=()=>{i.next({type:"success",id:n}),i.complete()},a=f=>i.error(new Error(f.detail.message)),l=f=>i.next({type:"progress",percent:f.detail}),c=()=>{o.pause(),i.next({type:"pause",id:n})},u=()=>{o.resume(),i.next({type:"resume",id:n})};return o.on("success",s),o.on("error",a),o.on("progress",l),o.on("offline",c),o.on("online",u),()=>o.abort()})}function zFe(n,e,r,i,o,s){const a={_id:"secrets.mux",_type:"mux.apiKey",token:e,secretKey:r,enableSignedUrls:i,signingKeyId:o,signingKeyPrivate:s};return n.createOrReplace(a)}function APr(n){const{dataset:e}=n.config();return n.request({url:"/addons/mux/signing-keys/".concat(e),withCredentials:!0,method:"POST"})}function IPr(n){const{dataset:e}=n.config();return n.request({url:"/addons/mux/secrets/".concat(e,"/test"),withCredentials:!0,method:"GET"})}async function DPr(n,e,r){if(!(e&&r))return!1;const{dataset:i}=n.config();try{const o=await n.request({url:"/addons/mux/signing-keys/".concat(i,"/").concat(e),withCredentials:!0,method:"GET"});return!!(o.data&&o.data.id)}catch{return console.error("Error fetching signingKeyId",e,"assuming it is not valid"),!1}}function Aut(n){const{dataset:e}=n.config();return ms(()=>n.observable.request({url:"/addons/mux/secrets/".concat(e,"/test"),withCredentials:!0,method:"GET"}))}function RPr(n,e){return n.observable.request({url:"/addons/mux/uploads/".concat(n.config().dataset,"/").concat(e),withCredentials:!0,method:"DELETE"})}function OPr(n,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return FPr(r).pipe(gn(o=>Go(Ke({type:"url",url:o}),Aut(e).pipe(gn(s=>{if(!s||!s.status)return Zl(new Error("Invalid credentials"));const a=Ia(),{enableSignedUrls:l}=i,c={input:o,playback_policy:[l?"signed":"public"],mp4_support:n.mp4_support},u={muxBody:JSON.stringify(c),filename:o.split("/").slice(-1)[0]},f=e.config().dataset;return ms(()=>e.observable.request({url:"/addons/mux/assets/".concat(f),withCredentials:!0,method:"POST",headers:{"MUX-Proxy-UUID":a,"Content-Type":"application/json"},query:u})).pipe(On(h=>{const m=h&&h.results&&h.results[0]&&h.results[0].document||null;return m?Ke({type:"success",id:a,asset:m}):Zl(new Error("No asset document returned"))}))})))))}function PPr(n,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return MPr(r).pipe(gn(o=>Go(Ke({type:"file",file:o}),Aut(e).pipe(gn(s=>{if(!s||!s.status)return Zl(new Error("Invalid credentials"));const a=Ia(),{enableSignedUrls:l}=i,c={mp4_support:n.mp4_support,playback_policy:[l?"signed":"public"]};return Go(Ke({type:"uuid",uuid:a}),ms(()=>e.observable.request({url:"/addons/mux/uploads/".concat(e.config().dataset),withCredentials:!0,method:"POST",headers:{"MUX-Proxy-UUID":a,"Content-Type":"application/json"},body:c})).pipe(On(u=>TPr(a,u.upload.url,r).pipe(On(f=>f.type!=="success"?Ke(f):Gi($Pr(e,a)).pipe(On(h=>Ke({...f,asset:h})))),vi(f=>RPr(e,a).pipe(iy(Zl(f))))))))})))))}function jPr(n,e){const{dataset:r}=n.config();return n.request({url:"/addons/mux/uploads/".concat(r,"/").concat(e),withCredentials:!0,method:"GET"})}function LPr(n,e){let i,o=0,s,a;return new Promise((l,c)=>{i=setInterval(async()=>{try{a=await jPr(n,e)}catch(u){c(u);return}s=a&&a.data&&a.data.asset_id,s&&(clearInterval(i),l(a)),o>10&&(clearInterval(i),c(new Error("Upload did not finish"))),o++},2e3)})}async function $Pr(n,e){let r,i;try{r=await LPr(n,e)}catch(s){return Promise.reject(s)}try{i=await VOr(n,r.data.asset_id)}catch(s){return Promise.reject(s)}const o={_id:e,_type:"mux.videoAsset",status:i.data.status,data:i.data,assetId:i.data.id,playbackId:i.data.playback_ids[0].id,uploadId:r.data.id};return n.createOrReplace(o).then(()=>o)}function MPr(n){if(typeof window<"u"&&n instanceof window.File){const e=NPr({},n);return Ke(e)}return Zl(new Error("Invalid file"))}function FPr(n){const e=new Error("Invalid URL");if(typeof n!="string")return Zl(e);let r;try{r=new URL(n)}catch{return Zl(e)}return r&&!r.protocol.match(/http:|https:/)?Zl(e):Ke(n)}function NPr(n,e){return typeof window>"u"||!(e instanceof window.File)?n:{name:n.preserveFilename===!1?void 0:e.name,type:e.type}}function BPr(n){const e=Array.from(n.files||[]),r=Array.from(n.items||[]);return e&&e.length>0?Promise.resolve(e):UPr(r).then(i=>i.flat())}function UPr(n){return Promise.all(n.map(e=>{if(e.kind==="file"&&e.webkitGetAsEntry){let r;try{r=e.webkitGetAsEntry()}catch{return[e.getAsFile()]}return r?r.isDirectory?Iut(r):[e.getAsFile()]:[]}if(e.kind==="file"){const r=e.getAsFile();return Promise.resolve(r?[r]:[])}return new Promise(r=>e.getAsString(r)).then(r=>r?[new File([r],"unknown.txt",{type:e.type})]:[])}))}function zPr(n){return n.isFile}function VPr(n){return n.isDirectory}function Iut(n){if(zPr(n))return new Promise(e=>n.file(e)).then(e=>[e]);if(VPr(n)){const e=n.createReader();return new Promise(r=>e.readEntries(r)).then(r=>r.filter(i=>!i.name.startsWith("."))).then(r=>Promise.all(r.map(Iut)).then(i=>i.flat()))}return Promise.resolve([])}function HPr(n){let{asset:e,onChange:r,setDialogState:i}=n;const o=p.useCallback(s=>{s!=null&&s._id||r(In.from([un(["asset"])])),s._id!==(e==null?void 0:e._id)&&r(In.from([pl({asset:{}}),rn({_type:"reference",_weak:!0,_ref:s._id},["asset"])])),i(!1)},[r,i,e]);return d.jsx(Tut,{onSelect:o})}var VFe=Object.freeze,WPr=Object.defineProperty,GPr=(n,e)=>VFe(WPr(n,"raw",{value:VFe(e||n.slice())})),HFe;const qPr=F(pI)(HFe||(HFe=GPr([`
  > div[data-ui='DialogCard'] > div[data-ui='Card'] {
    height: 100%;
  }
`])));function KPr(n){let{setDialogState:e,asset:r,onChange:i}=n;const o="InputBrowser".concat(p.useId()),s=p.useCallback(()=>e(!1),[e]);return d.jsx(qPr,{__unstable_autoFocus:!0,header:"Select video",id:o,onClose:s,width:2,children:d.jsx(HPr,{asset:r,onChange:i,setDialogState:e})})}const YPr=(n,e)=>{const r=Qy();return p.useCallback(()=>{n&&(e(In.from(un())),n.assetId&&_ut(r,n.assetId),n._id&&r.delete(n._id))},[n,r,e])};var WFe=Object.freeze,ZPr=Object.defineProperty,Dut=(n,e)=>WFe(ZPr(n,"raw",{value:WFe(e||n.slice())})),GFe,qFe;F.div(GFe||(GFe=Dut([`
  && {
    --media-background-color: transparent;
    --media-button-icon-width: 100%;
    --media-button-icon-height: auto;
    pointer-events: none;
    width: 100%;
    display: flex;
    flex-flow: row;
    align-items: center;
    justify-content: center;
    media-play-button {
      --media-control-background: transparent;
      --media-control-hover-background: transparent;
      padding: 0;
      width: max(27px, min(9%, 90px));
    }
  }
`])));const XPr=F.div(qFe||(qFe=Dut([`
  position: absolute;
  top: 0;
  right: 0;
  justify-content: flex-end;
  button {
    height: auto;
  }
`])));var KFe=Object.freeze,QPr=Object.defineProperty,p7=(n,e)=>KFe(QPr(n,"raw",{value:KFe(e||n.slice())})),YFe,ZFe,XFe,QFe;const JPr=F(kr)(YFe||(YFe=p7([`
  min-height: 82px;
  box-sizing: border-box;
`]))),ejr=F(Pi)(ZFe||(ZFe=p7([`
  text-overflow: ellipsis;
  overflow: hidden;
`]))),tjr=F(is)(XFe||(XFe=p7([`
  position: relative;
  width: 60%;
`]))),njr=F(Rse)(QFe||(QFe=p7([`
  position: relative;
  width: 100%;

  code {
    overflow: hidden;
    text-overflow: ellipsis;
    position: relative;
    max-width: 200px;
  }
`]))),Rut=n=>{let{progress:e=100,onCancel:r,filename:i,text:o="Uploading"}=n;return d.jsx(JPr,{tone:"primary",padding:4,border:!0,height:"fill",children:d.jsxs(ejr,{align:"center",justify:"space-between",height:"fill",direction:"row",gap:2,children:[d.jsxs(tjr,{children:[d.jsx(Pi,{justify:"center",gap:[3,3,2,2],direction:["column","column","row"],children:d.jsx(Rn,{size:1,children:d.jsxs(nd,{space:2,children:[o,d.jsx(njr,{size:1,children:i||"..."})]})})}),d.jsx(kr,{marginTop:3,radius:5,shadow:1,children:d.jsx(ort,{value:e})})]}),r?d.jsx(ss,{fontSize:2,text:"Cancel upload",mode:"ghost",tone:"critical",onClick:r}):null]})})},rjr=n=>{let{asset:e,buttons:r,readOnly:i,onChange:o}=n;var s,a,l,c;const u=p.useMemo(()=>(e==null?void 0:e.status)==="preparing"?"Preparing the video":(e==null?void 0:e.status)==="waiting_for_upload"?"Waiting for upload to start":(e==null?void 0:e.status)==="waiting"?"Processing upload":!((e==null?void 0:e.status)==="ready"||typeof(e==null?void 0:e.status)>"u"),[e]),f=p.useMemo(()=>{var v,y,b,x;return((y=(v=e==null?void 0:e.data)==null?void 0:v.static_renditions)==null?void 0:y.status)==="preparing"?!0:(((x=(b=e==null?void 0:e.data)==null?void 0:b.static_renditions)==null?void 0:x.status)==="ready",!1)},[(a=(s=e==null?void 0:e.data)==null?void 0:s.static_renditions)==null?void 0:a.status]),h=p.useRef(null),m=p.useRef(null),g=YPr(e,o);return p.useEffect(()=>{var v,y;const b=document.createElement("style");b.innerHTML="button svg { vertical-align: middle; }",(v=h.current)!=null&&v.shadowRoot&&h.current.shadowRoot.appendChild(b),(y=m==null?void 0:m.current)!=null&&y.shadowRoot&&m.current.shadowRoot.appendChild(b.cloneNode(!0))},[]),p.useEffect(()=>{var v,y,b;if((e==null?void 0:e.status)==="errored")throw g(),new Error((b=(y=(v=e.data)==null?void 0:v.errors)==null?void 0:y.messages)==null?void 0:b.join(" "))},[(c=(l=e.data)==null?void 0:l.errors)==null?void 0:c.messages,e==null?void 0:e.status,g]),!e||!e.status?null:u?d.jsx(Rut,{progress:100,filename:e==null?void 0:e.filename,text:u!==!0&&u||"Waiting for Mux to complete the upload",onCancel:i?void 0:()=>g()}):d.jsxs(Kae,{asset:e,children:[r&&d.jsx(XPr,{slot:"top-chrome",children:r}),f&&d.jsx(kr,{padding:2,radius:1,style:{background:"var(--card-fg-color)",position:"absolute",top:"0.5em",left:"0.5em"},children:d.jsx(Rn,{size:1,style:{color:"var(--card-bg-color)"},children:"MUX is preparing static renditions, please stand by"})})]})};function Out(n){return"inset 0 0 0 ".concat(n.width,"px ").concat(n.color)}function Put(n){const{base:e,border:r,focusRing:i}=n,o=i.offset+i.width,s=0-i.offset,a=e?e.bg:"var(--card-bg-color)";return[s>0&&"inset 0 0 0 ".concat(s,"px var(--card-focus-ring-color)"),r&&Out(r),s<0&&"0 0 0 ".concat(0-s,"px ").concat(a),o>0&&"0 0 0 ".concat(o,"px var(--card-focus-ring-color)")].filter(Boolean).join(",")}var JFe=Object.freeze,ijr=Object.defineProperty,ojr=(n,e)=>JFe(ijr(n,"raw",{value:JFe(e||n.slice())})),e4e;const sjr=F(WA)(n=>{let{theme:e}=n;const{focusRing:r}=e.sanity,i=e.sanity.color.base,o={width:1,color:"var(--card-border-color)"};return Ae(e4e||(e4e=ojr([`
    position: relative;

    &:not([data-disabled='true']) {
      &:focus-within {
        box-shadow: `,`;
      }
    }

    & input {
      overflow: hidden;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      position: absolute;
      min-width: 0;
      display: block;
      appearance: none;
      padding: 0;
      margin: 0;
      border: 0;
      opacity: 0;
    }
  `])),Put({base:i,border:o,focusRing:r}))}),ajr=_t.forwardRef(function(e,r){const{icon:i,id:o,accept:s,capture:a,fontSize:l,multiple:c,onSelect:u,padding:f=3,space:h=3,textAlign:m,text:g,disabled:v,...y}=e,b=p.useId(),x=o||b,_=_t.useCallback(C=>{u&&C.target.files&&u(Array.from(C.target.files))},[u]),w=d.jsxs(Pi,{align:"center",justify:"flex-start",padding:f,children:[i&&d.jsx(Gn,{marginRight:g?h:void 0,children:d.jsxs(Rn,{size:l,children:[p.isValidElement(i)&&i,Xr.isValidElementType(i)&&p.createElement(i)]})}),g&&d.jsx(Rn,{align:m,size:l,textOverflow:"ellipsis",children:g})]});return d.jsxs(sjr,{...y,htmlFor:x,padding:0,fontSize:2,disabled:v,ref:r,children:[w,d.jsx("input",{"data-testid":"file-button-input",accept:s,capture:a,id:x,multiple:c,onChange:_,type:"file",value:"",disabled:v})]})});var t4e=Object.freeze,ljr=Object.defineProperty,jut=(n,e)=>t4e(ljr(n,"raw",{value:t4e(e||n.slice())})),n4e,r4e;const cjr=F(kr)(n4e||(n4e=jut([`
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0.6;
  mix-blend-mode: screen;
  background: transparent;
`]))),ujr=F(ss)(r4e||(r4e=jut([`
  background: transparent;
  color: white;
`])));function djr(n){const{asset:e,readOnly:r,dialogState:i,setDialogState:o,onChange:s,onUpload:a}=n,[l,c]=p.useState(!1),[u,f]=p.useState(null),h=p.useMemo(()=>h7(e)==="signed",[e]),m=p.useCallback(()=>s(In.from(un([]))),[s]);return p.useEffect(()=>{l&&i&&c(!1)},[i,l]),NB(p.useCallback(()=>c(!1),[]),[u]),d.jsxs(nd,{space:1,padding:2,children:[h&&d.jsx(GB,{content:d.jsx(Gn,{padding:2,children:d.jsx(Rn,{muted:!0,size:1,children:"Signed playback policy"})}),placement:"right",portal:!0,children:d.jsx(cjr,{radius:2,margin:2,scheme:"dark",tone:"positive",children:d.jsx(ujr,{icon:NM,mode:"bleed",tone:"positive"})})}),d.jsx(hR,{content:d.jsxs(Sst,{ref:f,children:[d.jsx(Gn,{padding:2,children:d.jsx(Dse,{muted:!0,size:1,children:"Replace"})}),d.jsx(ajr,{accept:"video/*",icon:CS,mode:"bleed",onSelect:a,text:"Upload",disabled:r,fontSize:2}),d.jsx(WA,{icon:Aa,text:"Browse",onClick:()=>o("select-video")}),d.jsx(U$e,{}),d.jsx(WA,{icon:D8,text:"Configure API",onClick:()=>o("secrets")}),d.jsx(U$e,{}),d.jsx(WA,{tone:"critical",icon:Bp,text:"Clear field",onClick:m,disabled:r})]}),portal:!0,open:l,children:d.jsx(ss,{icon:QNe,mode:"ghost",onClick:()=>{o(!1),c(!0)}})})]})}var fjr=p.memo(djr),i4e=Object.freeze,hjr=Object.defineProperty,pjr=(n,e)=>i4e(hjr(n,"raw",{value:i4e(e||n.slice())})),o4e;function mjr(n){return F(n)(e=>{const r={width:e.$border?1:0,color:"var(--card-border-color)"};return Ae(o4e||(o4e=pjr([`
        --card-focus-box-shadow: `,`;

        border-radius: `,`;
        outline: none;
        box-shadow: var(--card-focus-box-shadow);

        &:focus {
          --card-focus-box-shadow: `,`;
        }
      `])),Out(r),sn(e.theme.sanity.radius[1]),Put({base:e.theme.sanity.color.base,border:r,focusRing:e.theme.sanity.focusRing}))})}var s4e=Object.freeze,gjr=Object.defineProperty,vjr=(n,e)=>s4e(gjr(n,"raw",{value:s4e(e||n.slice())})),a4e;const l4e=17,c4e=91,yjr=mjr(kr),bjr=p.forwardRef((n,e)=>{let{children:r,tone:i,onPaste:o,onDrop:s,onDragEnter:a,onDragLeave:l,onDragOver:c}=n;const u=p.useRef(!1),f=p.useRef(null),h=p.useCallback(g=>{(g.keyCode==l4e||g.keyCode==c4e)&&(u.current=!0);const v=86;u.current&&g.keyCode==v&&f.current.focus()},[]),m=p.useCallback(g=>{(g.keyCode==l4e||g.keyCode==c4e)&&(u.current=!1)},[]);return d.jsxs(yjr,{tone:i,height:"fill",ref:e,padding:0,radius:2,shadow:0,tabIndex:0,onKeyDown:h,onKeyUp:m,onPaste:o,onDrop:s,onDragEnter:a,onDragLeave:l,onDragOver:c,children:[d.jsx(xjr,{ref:f,onPaste:o}),r]})}),xjr=F.input.attrs({type:"text"})(a4e||(a4e=vjr([`
  position: absolute;
  border: 0;
  color: white;
  opacity: 0;

  &:focus {
    outline: none;
  }
`])));var u4e=Object.freeze,wjr=Object.defineProperty,Lut=(n,e)=>u4e(wjr(n,"raw",{value:u4e(e||n.slice())})),d4e,f4e;const _jr=F.input(d4e||(d4e=Lut([`
  overflow: hidden;
  width: 0.1px;
  height: 0.1px;
  opacity: 0;
  position: absolute;
  z-index: -1;
`]))),Ejr=F.label(f4e||(f4e=Lut([`
  position: relative;
`]))),Cjr=n=>{let{onSelect:e,...r}=n;const i="FileSelect".concat(p.useId()),o=p.useRef(null),s=p.useCallback(l=>{e&&e(l.target.files)},[e]),a=p.useCallback(()=>{var l;return(l=o.current)==null?void 0:l.click()},[]);return d.jsxs(Ejr,{htmlFor:i,children:[d.jsx(_jr,{accept:"video/*",ref:o,tabIndex:0,type:"file",id:i,onChange:s,value:""}),d.jsx(ss,{onClick:a,mode:"default",tone:"primary",style:{width:"100%"},...r})]})};var h4e=Object.freeze,Sjr=Object.defineProperty,$ut=(n,e)=>h4e(Sjr(n,"raw",{value:h4e(e||n.slice())})),p4e,m4e;const kjr=F(kr)(p4e||(p4e=$ut([`
  && {
    border-style: dashed;
  }
`]))),Tjr=F(Gn)(m4e||(m4e=$ut([`
  position: absolute;
  top: 0;
  right: 0;
`])));function Ajr(n){const{setDialogState:e,readOnly:r,onSelect:i,hovering:o,needsSetup:s}=n,a=p.useCallback(()=>e("select-video"),[e]),l=p.useCallback(()=>e("secrets"),[e]);return d.jsx(Gn,{style:{padding:1,position:"relative"},height:"stretch",children:d.jsxs(kjr,{sizing:"border",height:"fill",tone:r?"transparent":"inherit",border:!0,padding:3,style:o?{borderColor:"transparent"}:void 0,children:[d.jsx(Tjr,{padding:3,children:d.jsx(ss,{padding:3,radius:3,tone:s?"critical":void 0,onClick:l,icon:D8,mode:"bleed"})}),d.jsxs(Pi,{align:"center",justify:"space-between",gap:4,direction:["column","column","row"],paddingY:[2,2,0],sizing:"border",height:"fill",children:[d.jsxs(Pi,{align:"center",justify:"center",gap:2,flex:1,children:[d.jsx(Pi,{justify:"center",children:d.jsx(Rn,{muted:!0,children:d.jsx(KNe,{})})}),d.jsx(Pi,{justify:"center",children:d.jsx(Rn,{size:1,muted:!0,children:"Drag video or paste URL here"})})]}),d.jsxs(nd,{space:2,children:[d.jsx(Cjr,{mode:"ghost",tone:"default",icon:CS,text:"Upload",onSelect:i}),d.jsx(ss,{mode:"ghost",icon:Aa,text:"Select",onClick:a})]})]})]})})}var Ijr=Object.defineProperty,Djr=(n,e,r)=>e in n?Ijr(n,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[e]=r,Ll=(n,e,r)=>(Djr(n,typeof e!="symbol"?e+"":e,r),r);class Rjr extends p.Component{constructor(){super(...arguments),Ll(this,"state",{isDraggingOver:!1,invalidPaste:!1,invalidFile:!1,uploadProgress:null,fileInfo:null,uuid:null,error:null,url:null}),Ll(this,"dragEnteredEls",[]),Ll(this,"ctrlDown",!1),Ll(this,"upload",null),Ll(this,"container",_t.createRef()),Ll(this,"onCancelUploadButtonClick$"),Ll(this,"handleCancelUploadButtonClick"),Ll(this,"handleProgress",e=>{this.setState({uploadProgress:e.percent})}),Ll(this,"onUpload",e=>{this.setState({uploadProgress:0,fileInfo:null,uuid:null}),this.upload=PPr(this.props.config,this.props.client,e[0],{enableSignedUrls:this.props.secrets.enableSignedUrls}).pipe(q4(this.onCancelUploadButtonClick$.pipe(Si(()=>{this.state.uuid&&this.props.client.delete(this.state.uuid)})))).subscribe({complete:()=>{this.setState({error:null,uploadProgress:null,uuid:null})},next:r=>{this.handleUploadEvent(r)},error:r=>{this.setState({error:r,uploadProgress:null,uuid:null})}})}),Ll(this,"handleUploadEvent",e=>{switch(e.type){case"success":return this.handleUploadSuccess(e.asset);case"progress":return this.handleProgress(e);case"file":return this.setState({fileInfo:e.file});case"uuid":return this.setState({uuid:e.uuid});case"url":return this.setState({url:e.url,uploadProgress:100});default:return null}}),Ll(this,"handleUploadSuccess",e=>{this.setState({uploadProgress:100}),this.props.onChange(In.from([pl({asset:{}}),rn({_type:"reference",_weak:!0,_ref:e._id},["asset"])]))}),Ll(this,"handlePaste",e=>{const i=(e.clipboardData||window.clipboardData).getData("text"),o={enableSignedUrls:this.props.secrets.enableSignedUrls};this.upload=OPr(this.props.config,this.props.client,i,o).subscribe({complete:()=>{this.setState({error:null,uploadProgress:null,url:null})},next:s=>{this.handleUploadEvent(s)},error:s=>{let a;s.message.toLowerCase().match("invalid url")||(a=s),this.setState({invalidPaste:!0,error:a},()=>{setTimeout(()=>{this.setState({invalidPaste:!1,uploadProgress:null})},2e3)})}})}),Ll(this,"handleDrop",e=>{this.setState({isDraggingOver:!1}),e.preventDefault(),e.stopPropagation(),BPr(e.nativeEvent.dataTransfer).then(r=>{r&&this.onUpload(r)})}),Ll(this,"handleDragOver",e=>{e.preventDefault(),e.stopPropagation()}),Ll(this,"handleDragEnter",e=>{var r,i;e.stopPropagation(),this.dragEnteredEls.push(e.target),this.setState({isDraggingOver:!0});const o=(i=(r=e.dataTransfer.items)==null?void 0:r[0])==null?void 0:i.type;this.setState({invalidFile:!o.startsWith("video/")})}),Ll(this,"handleDragLeave",e=>{e.stopPropagation();const r=this.dragEnteredEls.indexOf(e.target);r>-1&&this.dragEnteredEls.splice(r,1),this.dragEnteredEls.length===0&&this.setState({isDraggingOver:!1})})}componentWillUnmount(){this.unSubscribeToUpload()}componentDidMount(){const e=new ho;this.onCancelUploadButtonClick$=e.asObservable(),this.handleCancelUploadButtonClick=r=>e.next(r)}unSubscribeToUpload(){this.upload&&!this.upload.closed&&this.upload.unsubscribe()}render(){var e;if(this.state.uploadProgress!==null)return d.jsx(Rut,{onCancel:this.handleCancelUploadButtonClick,progress:this.state.uploadProgress,filename:((e=this.state.fileInfo)==null?void 0:e.name)||this.state.url});if(this.state.error)throw this.state.error;return d.jsxs(d.Fragment,{children:[d.jsx(bjr,{tone:this.state.isDraggingOver&&(this.state.invalidPaste||this.state.invalidFile)?"critical":this.state.isDraggingOver?"positive":void 0,onDrop:this.handleDrop,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDragEnter:this.handleDragEnter,onPaste:this.handlePaste,ref:this.container,children:this.props.asset?d.jsx(rjr,{readOnly:this.props.readOnly,asset:this.props.asset,onChange:this.props.onChange,buttons:d.jsx(fjr,{asset:this.props.asset,dialogState:this.props.dialogState,setDialogState:this.props.setDialogState,onChange:this.props.onChange,onUpload:this.onUpload,readOnly:this.props.readOnly})}):d.jsx(Ajr,{hovering:this.state.isDraggingOver,onSelect:this.onUpload,readOnly:this.props.readOnly,setDialogState:this.props.setDialogState,needsSetup:this.props.needsSetup})}),this.props.dialogState==="select-video"&&d.jsx(KPr,{asset:this.props.asset,onChange:this.props.onChange,setDialogState:this.props.setDialogState})]})}}const Ojr=(n,e)=>p.useCallback(async r=>{let{token:i,secretKey:o,enableSignedUrls:s}=r,{signingKeyId:a,signingKeyPrivate:l}=e;try{await zFe(n,i,o,s,a,l);const c=await IPr(n);if(!(c!=null&&c.status)&&i&&o)throw new Error("Invalid secrets")}catch(c){throw console.error("Error while trying to save secrets:",c),c}if(s&&!await DPr(n,a,l))try{const{data:u}=await APr(n);a=u.id,l=u.private_key,await zFe(n,i,o,s,a,l)}catch(u){throw console.log("Error while creating and saving signing key:",u==null?void 0:u.message),u}return{token:i,secretKey:o,enableSignedUrls:s,signingKeyId:a,signingKeyPrivate:l}},[n,e]);function Mut(n){let{token:e,secretKey:r,enableSignedUrls:i}=n;return{submitting:!1,error:null,token:e??"",secretKey:r??"",enableSignedUrls:i??!1}}function Pjr(n,e){switch(e==null?void 0:e.type){case"submit":return{...n,submitting:!0,error:null};case"error":return{...n,submitting:!1,error:e.payload};case"reset":return Mut(e.payload);case"change":return{...n,[e.payload.name]:e.payload.value};default:throw new Error("Unknown action type: ".concat(e==null?void 0:e.type))}}const jjr=n=>p.useReducer(Pjr,n,Mut),Ljr=["title","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r"];function Fut(n){let{height:e=26}=n;const r=p.useId(),[i,o,s,a,l,c,u,f,h,m,g,v,y,b,x,_,w,C,S]=p.useMemo(()=>Ljr.map(T=>"".concat(r,"-").concat(T)),[r]);return d.jsxs("svg",{"aria-labelledby":i,role:"img",xmlns:"http://www.w3.org/2000/svg",xmlSpace:"preserve",viewBox:"92.08878326416016 102.66712188720703 692.76123046875 219.99948120117188",style:{height:"".concat(e,"px")},children:[d.jsx("title",{id:i,children:"Mux Logo"}),d.jsxs("defs",{children:[d.jsxs("linearGradient",{id:a,spreadMethod:"pad",gradientTransform:"matrix(528.38055 0 0 -528.38055 63.801 159.5)",gradientUnits:"userSpaceOnUse",y2:0,x2:1,y1:0,x1:0,children:[d.jsx("stop",{offset:0,style:{stopOpacity:1,stopColor:"#ff4e00"}}),d.jsx("stop",{offset:1,style:{stopOpacity:1,stopColor:"#ff1791"}})]}),d.jsxs("linearGradient",{id:l,spreadMethod:"pad",gradientTransform:"matrix(523.66766 0 0 -523.66766 67.897 159.5)",gradientUnits:"userSpaceOnUse",y2:0,x2:1,y1:0,x1:0,children:[d.jsx("stop",{offset:0,style:{stopOpacity:1,stopColor:"#ff4e00"}}),d.jsx("stop",{offset:1,style:{stopOpacity:1,stopColor:"#ff1791"}})]}),d.jsxs("linearGradient",{id:f,spreadMethod:"pad",gradientTransform:"rotate(180 296.075 79.75) scale(524.84045)",gradientUnits:"userSpaceOnUse",y2:0,x2:1,y1:0,x1:0,children:[d.jsx("stop",{offset:0,style:{stopOpacity:1,stopColor:"#ff4e00"}}),d.jsx("stop",{offset:1,style:{stopOpacity:1,stopColor:"#ff1791"}})]}),d.jsxs("linearGradient",{id:m,spreadMethod:"pad",gradientTransform:"matrix(524.84045 0 0 -524.84045 63.801 159.5)",gradientUnits:"userSpaceOnUse",y2:0,x2:1,y1:0,x1:0,children:[d.jsx("stop",{offset:0,style:{stopOpacity:1,stopColor:"#ff4e00"}}),d.jsx("stop",{offset:1,style:{stopOpacity:1,stopColor:"#ff1791"}})]}),d.jsxs("linearGradient",{id:g,spreadMethod:"pad",gradientTransform:"matrix(523.08514 0 0 -523.08514 67.897 224.446)",gradientUnits:"userSpaceOnUse",y2:0,x2:1,y1:0,x1:0,children:[d.jsx("stop",{offset:0,style:{stopOpacity:1,stopColor:"#ff4e00"}}),d.jsx("stop",{offset:1,style:{stopOpacity:1,stopColor:"#ff1791"}})]}),d.jsxs("linearGradient",{id:v,spreadMethod:"pad",gradientTransform:"matrix(524.84045 0 0 -524.84045 63.801 94.553)",gradientUnits:"userSpaceOnUse",y2:0,x2:1,y1:0,x1:0,children:[d.jsx("stop",{offset:0,style:{stopOpacity:1,stopColor:"#ff4e00"}}),d.jsx("stop",{offset:1,style:{stopOpacity:1,stopColor:"#ff1791"}})]}),d.jsxs("linearGradient",{id:y,spreadMethod:"pad",gradientTransform:"matrix(524.84045 0 0 -524.84045 63.801 159.5)",gradientUnits:"userSpaceOnUse",y2:0,x2:1,y1:0,x1:0,children:[d.jsx("stop",{offset:0,style:{stopOpacity:1,stopColor:"#ff4e00"}}),d.jsx("stop",{offset:1,style:{stopOpacity:1,stopColor:"#ff1791"}})]}),d.jsxs("linearGradient",{id:b,spreadMethod:"pad",gradientTransform:"matrix(524.84045 0 0 -524.84045 63.801 94.554)",gradientUnits:"userSpaceOnUse",y2:0,x2:1,y1:0,x1:0,children:[d.jsx("stop",{offset:0,style:{stopOpacity:1,stopColor:"#ff4e00"}}),d.jsx("stop",{offset:1,style:{stopOpacity:1,stopColor:"#ff1791"}})]}),d.jsxs("linearGradient",{id:w,spreadMethod:"pad",gradientTransform:"matrix(521.97632 0 0 -521.97632 69.067 191.973)",gradientUnits:"userSpaceOnUse",y2:0,x2:1,y1:0,x1:0,children:[d.jsx("stop",{offset:0,style:{stopOpacity:1,stopColor:"#ff4e00"}}),d.jsx("stop",{offset:1,style:{stopOpacity:1,stopColor:"#ff1791"}})]}),d.jsxs("linearGradient",{id:C,spreadMethod:"pad",gradientTransform:"matrix(523.09039 0 0 -523.09039 67.312 191.973)",gradientUnits:"userSpaceOnUse",y2:0,x2:1,y1:0,x1:0,children:[d.jsx("stop",{offset:0,style:{stopOpacity:1,stopColor:"#ff4e00"}}),d.jsx("stop",{offset:1,style:{stopOpacity:1,stopColor:"#ff1791"}})]}),d.jsxs("linearGradient",{id:S,spreadMethod:"pad",gradientTransform:"matrix(524.84045 0 0 -524.84045 63.801 159.5)",gradientUnits:"userSpaceOnUse",y2:0,x2:1,y1:0,x1:0,children:[d.jsx("stop",{offset:0,style:{stopOpacity:1,stopColor:"#ff4e00"}}),d.jsx("stop",{offset:1,style:{stopOpacity:1,stopColor:"#ff1791"}})]}),d.jsx("clipPath",{id:o,clipPathUnits:"userSpaceOnUse",children:d.jsx("path",{d:"M0 319h657.706V0H0Z"})}),d.jsx("clipPath",{id:s,clipPathUnits:"userSpaceOnUse",children:d.jsx("path",{d:"M423.64 242h164.999V77H423.64Z"})}),d.jsx("clipPath",{id:c,clipPathUnits:"userSpaceOnUse",children:d.jsx("path",{d:"M0 319h657.706V0H0Z"})}),d.jsx("clipPath",{id:u,clipPathUnits:"userSpaceOnUse",children:d.jsx("path",{d:"M311.3 242h93.031V77H311.3Z"})}),d.jsx("clipPath",{id:h,clipPathUnits:"userSpaceOnUse",children:d.jsx("path",{d:"M198.96 242h35.106V77H198.96Z"})}),d.jsx("clipPath",{id:x,clipPathUnits:"userSpaceOnUse",children:d.jsx("path",{d:"M0 319h657.706V0H0Z"})}),d.jsx("clipPath",{id:_,clipPathUnits:"userSpaceOnUse",children:d.jsx("path",{d:"M69.067 242H169.12V141.947H69.067Z"})})]}),d.jsx("g",{clipPath:"url(#".concat(o,")"),transform:"matrix(1.33333 0 0 -1.33333 0 425.333)",children:d.jsx("g",{style:{opacity:.69999701},clipPath:"url(#".concat(s,")"),children:d.jsx("path",{style:{fill:"url(#".concat(a,")"),stroke:"none"},d:"M558.674 82.142c6.855-6.855 17.969-6.855 24.824 0 6.854 6.855 6.854 17.969 0 24.823L453.605 236.858c-6.855 6.855-17.969 6.855-24.824 0s-6.855-17.969 0-24.823z"})})}),d.jsx("path",{style:{fill:"url(#".concat(l,")"),stroke:"none"},d:"M558.674 236.858 428.781 106.966c-6.855-6.855-6.855-17.969 0-24.825 6.855-6.854 17.969-6.854 24.823 0l129.894 129.894c6.854 6.855 6.854 17.968 0 24.823A17.498 17.498 0 0 1 571.086 242a17.495 17.495 0 0 1-12.412-5.142",transform:"matrix(1.33333 0 0 -1.33333 0 425.333)"}),d.jsxs("g",{clipPath:"url(#".concat(c,")"),transform:"matrix(1.33333 0 0 -1.33333 0 425.333)",children:[d.jsx("g",{style:{opacity:.69999701},clipPath:"url(#".concat(u,")"),children:d.jsx("path",{style:{fill:"url(#".concat(f,")"),stroke:"none"},d:"M328.853 112.107c22.297 0 40.372 18.075 40.372 40.372v71.315c0 10.054 7.505 18.206 17.554 18.206 10.048 0 17.552-8.152 17.552-18.206v-71.315c0-41.686-33.793-75.479-75.478-75.479-9.694 0-17.553 7.859-17.553 17.554 0 9.694 7.859 17.553 17.553 17.553"})}),d.jsx("g",{style:{opacity:.69999701},clipPath:"url(#".concat(h,")"),children:d.jsx("path",{style:{fill:"url(#".concat(m,")"),stroke:"none"},d:"M216.513 242c-10.049 0-17.553-8.152-17.553-18.206V95.206c0-10.054 7.504-18.206 17.553-18.206 10.048 0 17.553 8.152 17.553 18.206v128.588c0 10.054-7.505 18.206-17.553 18.206"})})]}),d.jsx("path",{style:{fill:"url(#".concat(g,")"),stroke:"none"},d:"M369.225 224.447c0-9.694 7.859-17.553 17.553-17.553 9.695 0 17.553 7.859 17.553 17.553s-7.858 17.552-17.553 17.552c-9.694 0-17.553-7.858-17.553-17.552",transform:"matrix(1.33333 0 0 -1.33333 0 425.333)"}),d.jsx("path",{style:{fill:"url(#".concat(v,")"),stroke:"none"},d:"M553.532 94.554c0-9.695 7.859-17.554 17.553-17.554 9.695 0 17.554 7.859 17.554 17.554 0 9.694-7.859 17.552-17.554 17.552-9.694 0-17.553-7.858-17.553-17.552",transform:"matrix(1.33333 0 0 -1.33333 0 425.333)"}),d.jsx("path",{style:{fill:"url(#".concat(y,")"),stroke:"none"},d:"M69.067 223.794V95.206C69.067 85.152 76.571 77 86.62 77c10.048 0 17.553 8.152 17.553 18.206v128.588c0 10.055-7.505 18.205-17.553 18.205-10.049 0-17.553-8.15-17.553-18.205",transform:"matrix(1.33333 0 0 -1.33333 0 425.333)"}),d.jsx("path",{style:{fill:"url(#".concat(b,")"),stroke:"none"},d:"M198.96 94.554c0-9.695 7.859-17.554 17.553-17.554 9.695 0 17.554 7.859 17.554 17.554 0 9.694-7.859 17.553-17.554 17.553-9.694 0-17.553-7.859-17.553-17.553",transform:"matrix(1.33333 0 0 -1.33333 0 425.333)"}),d.jsx("g",{clipPath:"url(#".concat(x,")"),transform:"matrix(1.33333 0 0 -1.33333 0 425.333)",children:d.jsx("g",{style:{opacity:.69999701},clipPath:"url(#".concat(_,")"),children:d.jsx("path",{style:{fill:"url(#".concat(w,")"),stroke:"none"},d:"M139.155 147.088c6.855-6.855 17.969-6.855 24.824 0s6.855 17.969 0 24.824l-64.947 64.946c-6.855 6.855-17.969 6.855-24.824 0s-6.855-17.969 0-24.823z"})})}),d.jsx("path",{style:{fill:"url(#".concat(C,")"),stroke:"none"},d:"m204.101 236.858-64.947-64.946c-6.854-6.855-6.854-17.969 0-24.824 6.856-6.855 17.97-6.855 24.824 0l64.947 64.947c6.855 6.855 6.855 17.968 0 24.823A17.495 17.495 0 0 1 216.513 242a17.498 17.498 0 0 1-12.412-5.142",transform:"matrix(1.33333 0 0 -1.33333 0 425.333)"}),d.jsx("path",{style:{fill:"url(#".concat(S,")"),stroke:"none"},d:"M253.374 223.794v-71.315c0-41.685 33.793-75.479 75.479-75.479 9.695 0 17.553 7.859 17.553 17.554 0 9.694-7.858 17.553-17.553 17.553-22.297 0-40.372 18.075-40.372 40.372v71.315c0 10.055-7.505 18.205-17.554 18.205s-17.553-8.15-17.553-18.205",transform:"matrix(1.33333 0 0 -1.33333 0 425.333)"})]})}var g4e=Object.freeze,$jr=Object.defineProperty,Mjr=(n,e)=>g4e($jr(n,"raw",{value:g4e(e||n.slice())})),v4e;const Fjr=F.span(v4e||(v4e=Mjr([`
  display: inline-block;
  height: 0.8em;
  margin-right: 1em;
  transform: translate(0.3em, -0.2em);
`]))),Njr=()=>d.jsxs(d.Fragment,{children:[d.jsx(Fjr,{children:d.jsx(Fut,{height:13})}),"API Credentials"]}),Bjr=["token","secretKey","enableSignedUrls"];function Ujr(n){let{secrets:e,setDialogState:r}=n;var i,o;const s=Qy(),[a,l]=jjr(e),c=p.useMemo(()=>e.token&&e.secretKey,[e]),u=p.useCallback(()=>r(!1),[r]),f=p.useMemo(()=>e.token!==a.token||e.secretKey!==a.secretKey||e.enableSignedUrls!==a.enableSignedUrls,[e,a]),h="ConfigureApi".concat(p.useId()),[m,g,v]=p.useMemo(()=>Bjr.map(T=>"".concat(h,"-").concat(T)),[h]),y=p.useRef(null),b=Ojr(s,e),x=p.useRef(!1),_=p.useCallback(T=>{if(T.preventDefault(),!x.current&&T.currentTarget.reportValidity()){x.current=!0,l({type:"submit"});const{token:A,secretKey:I,enableSignedUrls:D}=a;b({token:A,secretKey:I,enableSignedUrls:D}).then(R=>{const{projectId:P,dataset:O}=s.config();Hct([uQ,M4,P,O]),ODr(()=>Promise.resolve(R),[uQ,M4,P,O]),r(!1)}).catch(R=>l({type:"error",payload:R.message})).finally(()=>{x.current=!1})}},[s,l,b,r,a]),w=p.useCallback(T=>{l({type:"change",payload:{name:"token",value:T.currentTarget.value}})},[l]),C=p.useCallback(T=>{l({type:"change",payload:{name:"secretKey",value:T.currentTarget.value}})},[l]),S=p.useCallback(T=>{l({type:"change",payload:{name:"enableSignedUrls",value:T.currentTarget.checked}})},[l]);return p.useEffect(()=>{y.current&&y.current.focus()},[y]),d.jsx(pI,{id:h,onClose:u,header:d.jsx(Njr,{}),width:1,style:{maxWidth:"550px"},children:d.jsx(Gn,{padding:4,style:{position:"relative"},children:d.jsx("form",{onSubmit:_,noValidate:!0,children:d.jsxs(is,{space:4,children:[!c&&d.jsx(kr,{padding:[3,3,3],radius:2,shadow:1,tone:"primary",children:d.jsxs(is,{space:3,children:[d.jsxs(Rn,{size:1,children:["To set up a new access token, go to your"," ",d.jsx("a",{href:"https://dashboard.mux.com/settings/access-tokens",target:"_blank",rel:"noreferrer noopener",children:"account on mux.com"}),"."]}),d.jsxs(Rn,{size:1,children:["The access token needs permissions: ",d.jsx("strong",{children:"Mux Video "}),"(Full Access) and ",d.jsx("strong",{children:"Mux Data"})," (Read)",d.jsx("br",{}),"The credentials will be stored safely in a hidden document only available to editors."]})]})}),d.jsx(fQ,{title:"Access Token",inputId:m,children:d.jsx(hI,{id:m,ref:y,onChange:w,type:"text",value:(i=a.token)!=null?i:"",required:!!a.secretKey||a.enableSignedUrls})}),d.jsx(fQ,{title:"Secret Key",inputId:g,children:d.jsx(hI,{id:g,onChange:C,type:"text",value:(o=a.secretKey)!=null?o:"",required:!!a.token||a.enableSignedUrls})}),d.jsxs(is,{space:4,children:[d.jsxs(Pi,{align:"center",children:[d.jsx(SZ,{id:v,onChange:S,checked:a.enableSignedUrls,style:{display:"block"}}),d.jsx(Gn,{flex:1,paddingLeft:3,children:d.jsx(Rn,{children:d.jsx("label",{htmlFor:v,children:"Enable Signed Urls"})})})]}),e.signingKeyId&&a.enableSignedUrls?d.jsx(kr,{padding:[3,3,3],radius:2,shadow:1,tone:"caution",children:d.jsxs(is,{space:3,children:[d.jsx(Rn,{size:1,children:"The signing key ID that Sanity will use is:"}),d.jsx(Rse,{size:1,children:e.signingKeyId}),d.jsxs(Rn,{size:1,children:["This key is only used for previewing content in the Sanity UI.",d.jsx("br",{}),"You should generate a different key to use in your application server."]})]})}):null]}),d.jsxs(nd,{space:2,children:[d.jsx(ss,{text:"Save",disabled:!f,loading:a.submitting,tone:"primary",mode:"default",type:"submit"}),d.jsx(ss,{disabled:a.submitting,text:"Cancel",mode:"bleed",onClick:u})]}),a.error&&d.jsx(kr,{padding:[3,3,3],radius:2,shadow:1,tone:"critical",children:d.jsx(Rn,{children:a.error})})]})})})})}var zjr=p.memo(Ujr);function Vjr(n){const{children:e,schemaType:r}=n,{push:i}=Bse(),o=p.useRef(null),{ErrorBoundary:s,didCatch:a,error:l,reset:c}=XRr({onDidCatch:(f,h)=>{console.group(f.toString()),console.groupCollapsed("console.error"),console.error(f),console.groupEnd(),f.stack&&(console.groupCollapsed("error.stack"),console.log(f.stack),console.groupEnd()),h!=null&&h.componentStack&&(console.groupCollapsed("errorInfo.componentStack"),console.log(h.componentStack),console.groupEnd()),console.groupEnd(),i({status:"error",title:"Plugin crashed",description:d.jsx(Pi,{align:"center",children:d.jsxs(nd,{space:1,children:["An error happened while rendering",d.jsx(ss,{padding:1,fontSize:1,style:{transform:"translateY(1px)"},mode:"ghost",text:r.title,onClick:()=>{o.current&&Ox(o.current,{behavior:"smooth",scrollMode:"if-needed",block:"center"})}})]})})})}}),u=p.useCallback(()=>{Hct([LFe]),c()},[c]);return a?d.jsx(kr,{ref:o,paddingX:[2,3,4,4],height:"fill",shadow:1,overflow:"auto",children:d.jsx(Pi,{justify:"flex-start",align:"center",height:"fill",children:d.jsxs(Ose,{columns:1,gap:[2,3,4,4],children:[d.jsxs(v0,{as:"h1",children:["The ",d.jsx("code",{children:LFe})," plugin crashed"]}),(l==null?void 0:l.message)&&d.jsx(kr,{padding:3,tone:"critical",shadow:1,radius:2,children:d.jsx(Rn,{children:l.message})}),d.jsx(nd,{children:d.jsx(ss,{onClick:u,text:"Retry"})})]})})}):d.jsx(s,{children:e})}var Hjr=p.memo(Vjr);const y4e=()=>d.jsx("div",{style:{padding:1},children:d.jsx(kr,{shadow:1,sizing:"border",style:{aspectRatio:"16/9",width:"100%",borderRadius:"1px"},children:d.jsxs(Pi,{align:"center",direction:"column",height:"fill",justify:"center",children:[d.jsx(UB,{muted:!0}),d.jsx(Gn,{marginTop:3,children:d.jsx(Rn,{align:"center",muted:!0,size:1,children:"Loading…"})})]})})});function Wjr(n){const{setDialogState:e}=n,r=p.useCallback(()=>e("secrets"),[e]);return d.jsx(d.Fragment,{children:d.jsx("div",{style:{padding:2},children:d.jsx(kr,{display:"flex",sizing:"border",style:{aspectRatio:"16/9",width:"100%",boxShadow:"var(--card-bg-color) 0 0 0 2px"},paddingX:[2,3,4,4],radius:1,tone:"transparent",children:d.jsx(Pi,{justify:"flex-start",align:"center",children:d.jsxs(Ose,{columns:1,gap:[2,3,4,4],children:[d.jsx(nd,{paddingY:1,children:d.jsx("div",{style:{height:"32px"},children:d.jsx(Fut,{})})}),d.jsx(nd,{paddingY:1,children:d.jsx(v0,{size:[0,1,2,2],children:"Upload and preview videos directly from your studio."})}),d.jsx(nd,{paddingY:1,children:d.jsx(ss,{mode:"ghost",icon:D8,text:"Configure API",onClick:r})})]})})})})})}const Gjr=n=>{var e;const r=Qy(),i=kPr(),o=_Pr((e=n.value)==null?void 0:e.asset),s=CPr(n.readOnly?void 0:(o==null?void 0:o.value)||void 0),[a,l]=EPr(),c=i.error||o.error||s.error;if(c)throw c;const u=i.isLoading||o.isLoading;return d.jsx(kr,{children:d.jsx(Hjr,{schemaType:n.schemaType,children:d.jsx(p.Suspense,{fallback:d.jsx(y4e,{}),children:u?d.jsx(y4e,{}):d.jsxs(d.Fragment,{children:[i.value.needsSetup&&!o.value?d.jsx(Wjr,{setDialogState:l}):d.jsx(Rjr,{...n,config:n.config,onChange:n.onChange,client:r,secrets:i.value.secrets,asset:o.value,dialogState:a,setDialogState:l,needsSetup:i.value.needsSetup}),a==="secrets"&&d.jsx(zjr,{setDialogState:l,secrets:i.value.secrets})]})})})})};var qjr=p.memo(Gjr);function Kjr(n){return{components:{input:e=>d.jsx(qjr,{config:n,...e})},preview:{select:{filename:"asset.filename",playbackId:"asset.playbackId",status:"asset.status",assetId:"asset.assetId",thumbTime:"asset.thumbTime",data:"asset.data"},prepare:e=>{const{filename:r,playbackId:i,status:o}=e;return{title:r||i||"",subtitle:o?"status: ".concat(o):null,media:e.playbackId?d.jsx(kut,{asset:e,width:64}):null}}}}}const Yjr={name:"mux.video",type:"object",title:"Video asset reference",fields:[{title:"Video",name:"asset",type:"reference",weak:!0,to:[{type:"mux.videoAsset"}]}]},Zjr={name:"mux.videoAsset",type:"object",title:"Video asset",fields:[{type:"string",name:"status"},{type:"string",name:"assetId"},{type:"string",name:"playbackId"},{type:"string",name:"filename"},{type:"number",name:"thumbTime"}]},Xjr={mp4_support:"none"},Qjr=rR(n=>{const e={...Xjr,...n};return{name:"mux-input",schema:{types:[Zjr,{...Yjr,...Kjr(e)}]},tools:e.tool===!1?void 0:[xPr(e)]}}),Jjr={basePath:"/studio",projectId:Y0r,dataset:K0r,schema:Q0r,plugins:[H0r(),frr({defaultApiVersion:q0r}),Qjr({})]};Anr(document.getElementById("sanity"),Jjr,{reactStrictMode:!1,basePath:"/"});export{er as $,UI as A,ze as B,Wy as C,bLr as D,Fl as E,da as F,Ar as G,lD as H,pLr as I,fD as J,yLr as K,jit as L,pa as M,wLr as N,dD as O,TB as P,_Lr as Q,ns as R,lB as S,rar as T,gLr as U,mLr as V,Cc as W,kB as X,Me as Y,me as Z,Adr as _,xLr as a,ci as a0,ke as a1,Ya as a2,Pa as a3,Se as a4,J as a5,ia as a6,bWe as a7,ES as a8,bn as a9,Rg as aA,Je as aB,Ae as aC,Zor as aD,Jr as aE,urr as aF,ui as aG,Qx as aH,eo as aI,Sx as aJ,ua as aK,to as aL,_pe as aM,Np as aN,Dc as aO,g6 as aP,$5t as aQ,hBe as aR,e6e as aS,LI as aT,ki as aU,$y as aV,_u as aW,DC as aX,Kor as aY,nVe as aZ,Kt as a_,oe as aa,as as ab,ca as ac,rd as ad,gn as ae,Ro as af,K4e as ag,Ia as ah,yyt as ai,wB as aj,JN as ak,vyt as al,Gi as am,Ke as an,Go as ao,DQ as ap,vLr as aq,qCt as ar,th as as,eh as at,_a as au,Tt as av,kBe as aw,_t as ax,tLr as ay,tyn as az,eLr as b,sv as c,vXe as d,Xr as e,cv as f,Cw as g,ise as h,olr as i,d as j,nar as k,te as l,d2 as m,SN as n,alr as o,AB as p,yi as q,p as r,Ur as s,md as t,F as u,sN as v,$n as w,Fc as x,Ay as y,Br as z};
